function CR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sv={exports:{}},Yh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function SL(){if(vC)return Yh;vC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var u=null;if(a!==void 0&&(u=""+a),i.key!==void 0&&(u=""+i.key),"key"in i){a={};for(var g in i)g!=="key"&&(a[g]=i[g])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:a}}return Yh.Fragment=e,Yh.jsx=n,Yh.jsxs=n,Yh}var xC;function _L(){return xC||(xC=1,sv.exports=SL()),sv.exports}var I=_L(),ov={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function CL(){if(bC)return Mt;bC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(ae){return ae===null||typeof ae!="object"?null:(ae=w&&ae[w]||ae["@@iterator"],typeof ae=="function"?ae:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,M={};function P(ae,be,Ie){this.props=ae,this.context=be,this.refs=M,this.updater=Ie||T}P.prototype.isReactComponent={},P.prototype.setState=function(ae,be){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,be,"setState")},P.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function B(){}B.prototype=P.prototype;function $(ae,be,Ie){this.props=ae,this.context=be,this.refs=M,this.updater=Ie||T}var q=$.prototype=new B;q.constructor=$,N(q,P.prototype),q.isPureReactComponent=!0;var te=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function j(ae,be,Ie,je,Ye,rt){return Ie=rt.ref,{$$typeof:t,type:ae,key:be,ref:Ie!==void 0?Ie:null,props:rt}}function G(ae,be){return j(ae.type,be,void 0,void 0,void 0,ae.props)}function F(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===t}function Z(ae){var be={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(Ie){return be[Ie]})}var z=/\/+/g;function K(ae,be){return typeof ae=="object"&&ae!==null&&ae.key!=null?Z(""+ae.key):be.toString(36)}function U(){}function ue(ae){switch(ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason;default:switch(typeof ae.status=="string"?ae.then(U,U):(ae.status="pending",ae.then(function(be){ae.status==="pending"&&(ae.status="fulfilled",ae.value=be)},function(be){ae.status==="pending"&&(ae.status="rejected",ae.reason=be)})),ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason}}throw ae}function se(ae,be,Ie,je,Ye){var rt=typeof ae;(rt==="undefined"||rt==="boolean")&&(ae=null);var Ue=!1;if(ae===null)Ue=!0;else switch(rt){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(ae.$$typeof){case t:case e:Ue=!0;break;case v:return Ue=ae._init,se(Ue(ae._payload),be,Ie,je,Ye)}}if(Ue)return Ye=Ye(ae),Ue=je===""?"."+K(ae,0):je,te(Ye)?(Ie="",Ue!=null&&(Ie=Ue.replace(z,"$&/")+"/"),se(Ye,be,Ie,"",function(De){return De})):Ye!=null&&(F(Ye)&&(Ye=G(Ye,Ie+(Ye.key==null||ae&&ae.key===Ye.key?"":(""+Ye.key).replace(z,"$&/")+"/")+Ue)),be.push(Ye)),1;Ue=0;var Pn=je===""?".":je+":";if(te(ae))for(var vt=0;vt<ae.length;vt++)je=ae[vt],rt=Pn+K(je,vt),Ue+=se(je,be,Ie,rt,Ye);else if(vt=S(ae),typeof vt=="function")for(ae=vt.call(ae),vt=0;!(je=ae.next()).done;)je=je.value,rt=Pn+K(je,vt++),Ue+=se(je,be,Ie,rt,Ye);else if(rt==="object"){if(typeof ae.then=="function")return se(ue(ae),be,Ie,je,Ye);throw be=String(ae),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(ae,be,Ie){if(ae==null)return ae;var je=[],Ye=0;return se(ae,je,"","",function(rt){return be.call(Ie,rt,Ye++)}),je}function ce(ae){if(ae._status===-1){var be=ae._result;be=be(),be.then(function(Ie){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=Ie)},function(Ie){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=Ie)}),ae._status===-1&&(ae._status=0,ae._result=be)}if(ae._status===1)return ae._result.default;throw ae._result}var Te=typeof reportError=="function"?reportError:function(ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ae=="object"&&ae!==null&&typeof ae.message=="string"?String(ae.message):String(ae),error:ae});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ae);return}console.error(ae)};function Ve(){}return Mt.Children={map:oe,forEach:function(ae,be,Ie){oe(ae,function(){be.apply(this,arguments)},Ie)},count:function(ae){var be=0;return oe(ae,function(){be++}),be},toArray:function(ae){return oe(ae,function(be){return be})||[]},only:function(ae){if(!F(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},Mt.Component=P,Mt.Fragment=n,Mt.Profiler=i,Mt.PureComponent=$,Mt.StrictMode=r,Mt.Suspense=m,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(ae){return X.H.useMemoCache(ae)}},Mt.cache=function(ae){return function(){return ae.apply(null,arguments)}},Mt.cloneElement=function(ae,be,Ie){if(ae==null)throw Error("The argument must be a React element, but you passed "+ae+".");var je=N({},ae.props),Ye=ae.key,rt=void 0;if(be!=null)for(Ue in be.ref!==void 0&&(rt=void 0),be.key!==void 0&&(Ye=""+be.key),be)!ee.call(be,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&be.ref===void 0||(je[Ue]=be[Ue]);var Ue=arguments.length-2;if(Ue===1)je.children=Ie;else if(1<Ue){for(var Pn=Array(Ue),vt=0;vt<Ue;vt++)Pn[vt]=arguments[vt+2];je.children=Pn}return j(ae.type,Ye,void 0,void 0,rt,je)},Mt.createContext=function(ae){return ae={$$typeof:u,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null},ae.Provider=ae,ae.Consumer={$$typeof:a,_context:ae},ae},Mt.createElement=function(ae,be,Ie){var je,Ye={},rt=null;if(be!=null)for(je in be.key!==void 0&&(rt=""+be.key),be)ee.call(be,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(Ye[je]=be[je]);var Ue=arguments.length-2;if(Ue===1)Ye.children=Ie;else if(1<Ue){for(var Pn=Array(Ue),vt=0;vt<Ue;vt++)Pn[vt]=arguments[vt+2];Ye.children=Pn}if(ae&&ae.defaultProps)for(je in Ue=ae.defaultProps,Ue)Ye[je]===void 0&&(Ye[je]=Ue[je]);return j(ae,rt,void 0,void 0,null,Ye)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(ae){return{$$typeof:g,render:ae}},Mt.isValidElement=F,Mt.lazy=function(ae){return{$$typeof:v,_payload:{_status:-1,_result:ae},_init:ce}},Mt.memo=function(ae,be){return{$$typeof:d,type:ae,compare:be===void 0?null:be}},Mt.startTransition=function(ae){var be=X.T,Ie={};X.T=Ie;try{var je=ae(),Ye=X.S;Ye!==null&&Ye(Ie,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(Ve,Te)}catch(rt){Te(rt)}finally{X.T=be}},Mt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Mt.use=function(ae){return X.H.use(ae)},Mt.useActionState=function(ae,be,Ie){return X.H.useActionState(ae,be,Ie)},Mt.useCallback=function(ae,be){return X.H.useCallback(ae,be)},Mt.useContext=function(ae){return X.H.useContext(ae)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(ae,be){return X.H.useDeferredValue(ae,be)},Mt.useEffect=function(ae,be,Ie){var je=X.H;if(typeof Ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return je.useEffect(ae,be)},Mt.useId=function(){return X.H.useId()},Mt.useImperativeHandle=function(ae,be,Ie){return X.H.useImperativeHandle(ae,be,Ie)},Mt.useInsertionEffect=function(ae,be){return X.H.useInsertionEffect(ae,be)},Mt.useLayoutEffect=function(ae,be){return X.H.useLayoutEffect(ae,be)},Mt.useMemo=function(ae,be){return X.H.useMemo(ae,be)},Mt.useOptimistic=function(ae,be){return X.H.useOptimistic(ae,be)},Mt.useReducer=function(ae,be,Ie){return X.H.useReducer(ae,be,Ie)},Mt.useRef=function(ae){return X.H.useRef(ae)},Mt.useState=function(ae){return X.H.useState(ae)},Mt.useSyncExternalStore=function(ae,be,Ie){return X.H.useSyncExternalStore(ae,be,Ie)},Mt.useTransition=function(){return X.H.useTransition()},Mt.version="19.1.1",Mt}var wC;function zf(){return wC||(wC=1,ov.exports=CL()),ov.exports}var R=zf();const zn=bo(R),TL=CR({__proto__:null,default:zn},[R]);var lv={exports:{}},$h={},cv={exports:{}},uv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function IL(){return EC||(EC=1,function(t){function e(oe,ce){var Te=oe.length;oe.push(ce);e:for(;0<Te;){var Ve=Te-1>>>1,ae=oe[Ve];if(0<i(ae,ce))oe[Ve]=ce,oe[Te]=ae,Te=Ve;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ce=oe[0],Te=oe.pop();if(Te!==ce){oe[0]=Te;e:for(var Ve=0,ae=oe.length,be=ae>>>1;Ve<be;){var Ie=2*(Ve+1)-1,je=oe[Ie],Ye=Ie+1,rt=oe[Ye];if(0>i(je,Te))Ye<ae&&0>i(rt,je)?(oe[Ve]=rt,oe[Ye]=Te,Ve=Ye):(oe[Ve]=je,oe[Ie]=Te,Ve=Ie);else if(Ye<ae&&0>i(rt,Te))oe[Ve]=rt,oe[Ye]=Te,Ve=Ye;else break e}}return ce}function i(oe,ce){var Te=oe.sortIndex-ce.sortIndex;return Te!==0?Te:oe.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,g=u.now();t.unstable_now=function(){return u.now()-g}}var m=[],d=[],v=1,w=null,S=3,T=!1,N=!1,M=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function te(oe){for(var ce=n(d);ce!==null;){if(ce.callback===null)r(d);else if(ce.startTime<=oe)r(d),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(d)}}function X(oe){if(M=!1,te(oe),!N)if(n(m)!==null)N=!0,ee||(ee=!0,K());else{var ce=n(d);ce!==null&&se(X,ce.startTime-oe)}}var ee=!1,j=-1,G=5,F=-1;function Z(){return P?!0:!(t.unstable_now()-F<G)}function z(){if(P=!1,ee){var oe=t.unstable_now();F=oe;var ce=!0;try{e:{N=!1,M&&(M=!1,$(j),j=-1),T=!0;var Te=S;try{t:{for(te(oe),w=n(m);w!==null&&!(w.expirationTime>oe&&Z());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,S=w.priorityLevel;var ae=Ve(w.expirationTime<=oe);if(oe=t.unstable_now(),typeof ae=="function"){w.callback=ae,te(oe),ce=!0;break t}w===n(m)&&r(m),te(oe)}else r(m);w=n(m)}if(w!==null)ce=!0;else{var be=n(d);be!==null&&se(X,be.startTime-oe),ce=!1}}break e}finally{w=null,S=Te,T=!1}ce=void 0}}finally{ce?K():ee=!1}}}var K;if(typeof q=="function")K=function(){q(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ue=U.port2;U.port1.onmessage=z,K=function(){ue.postMessage(null)}}else K=function(){B(z,0)};function se(oe,ce){j=B(function(){oe(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(oe){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var Te=S;S=ce;try{return oe()}finally{S=Te}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(oe,ce){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Te=S;S=oe;try{return ce()}finally{S=Te}},t.unstable_scheduleCallback=function(oe,ce,Te){var Ve=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ve+Te:Ve):Te=Ve,oe){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Te+ae,oe={id:v++,callback:ce,priorityLevel:oe,startTime:Te,expirationTime:ae,sortIndex:-1},Te>Ve?(oe.sortIndex=Te,e(d,oe),n(m)===null&&oe===n(d)&&(M?($(j),j=-1):M=!0,se(X,Te-Ve))):(oe.sortIndex=ae,e(m,oe),N||T||(N=!0,ee||(ee=!0,K()))),oe},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(oe){var ce=S;return function(){var Te=S;S=ce;try{return oe.apply(this,arguments)}finally{S=Te}}}}(uv)),uv}var AC;function OL(){return AC||(AC=1,cv.exports=IL()),cv.exports}var fv={exports:{}},Hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function RL(){if(SC)return Hi;SC=1;var t=zf();function e(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(m,d,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:w==null?null:""+w,children:m,containerInfo:d,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hi.createPortal=function(m,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(m,d,null,v)},Hi.flushSync=function(m){var d=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=d,r.p=v,r.d.f()}},Hi.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Hi.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Hi.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var v=d.as,w=g(v,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:T}):v==="script"&&r.d.X(m,{crossOrigin:w,integrity:S,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hi.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=g(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Hi.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,w=g(v,d.crossOrigin);r.d.L(m,v,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hi.preloadModule=function(m,d){if(typeof m=="string")if(d){var v=g(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Hi.requestFormReset=function(m){r.d.r(m)},Hi.unstable_batchedUpdates=function(m,d){return m(d)},Hi.useFormState=function(m,d,v){return u.H.useFormState(m,d,v)},Hi.useFormStatus=function(){return u.H.useHostTransitionStatus()},Hi.version="19.1.1",Hi}var _C;function TR(){if(_C)return fv.exports;_C=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fv.exports=RL(),fv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function NL(){if(CC)return $h;CC=1;var t=OL(),e=zf(),n=TR();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function u(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function g(s){if(a(s)!==s)throw Error(r(188))}function m(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,x=l;;){var _=h.return;if(_===null)break;var O=_.alternate;if(O===null){if(x=_.return,x!==null){h=x;continue}break}if(_.child===O.child){for(O=_.child;O;){if(O===h)return g(_),s;if(O===x)return g(_),l;O=O.sibling}throw Error(r(188))}if(h.return!==x.return)h=_,x=O;else{for(var H=!1,J=_.child;J;){if(J===h){H=!0,h=_,x=O;break}if(J===x){H=!0,x=_,h=O;break}J=J.sibling}if(!H){for(J=O.child;J;){if(J===h){H=!0,h=O,x=_;break}if(J===x){H=!0,x=O,h=_;break}J=J.sibling}if(!H)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case ee:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case q:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case te:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return l=s.displayName||null,l!==null?l:ue(s.type)||"Memo";case G:l=s._payload,s=s._init;try{return ue(s(l))}catch{}}return null}var se=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Ve=[],ae=-1;function be(s){return{current:s}}function Ie(s){0>ae||(s.current=Ve[ae],Ve[ae]=null,ae--)}function je(s,l){ae++,Ve[ae]=s.current,s.current=l}var Ye=be(null),rt=be(null),Ue=be(null),Pn=be(null);function vt(s,l){switch(je(Ue,l),je(rt,s),je(Ye,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?W_(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=W_(l),s=Y_(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ie(Ye),je(Ye,s)}function De(){Ie(Ye),Ie(rt),Ie(Ue)}function ht(s){s.memoizedState!==null&&je(Pn,s);var l=Ye.current,h=Y_(l,s.type);l!==h&&(je(rt,s),je(Ye,h))}function it(s){rt.current===s&&(Ie(Ye),Ie(rt)),Pn.current===s&&(Ie(Pn),zh._currentValue=Te)}var Be=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,tn=t.unstable_shouldYield,Xn=t.unstable_requestPaint,jt=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,xn=t.unstable_UserBlockingPriority,$e=t.unstable_NormalPriority,Ys=t.unstable_LowPriority,pi=t.unstable_IdlePriority,yi=t.log,$s=t.unstable_setDisableYieldValue,Yt=null,nn=null;function rr(s){if(typeof yi=="function"&&$s(s),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Yt,s)}catch{}}var rn=Math.clz32?Math.clz32:Bt,tt=Math.log,ut=Math.LN2;function Bt(s){return s>>>=0,s===0?32:31-(tt(s)/ut|0)|0}var dt=256,ke=4194304;function bt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ft(s,l,h){var x=s.pendingLanes;if(x===0)return 0;var _=0,O=s.suspendedLanes,H=s.pingedLanes;s=s.warmLanes;var J=x&134217727;return J!==0?(x=J&~O,x!==0?_=bt(x):(H&=J,H!==0?_=bt(H):h||(h=J&~s,h!==0&&(_=bt(h))))):(J=x&~O,J!==0?_=bt(J):H!==0?_=bt(H):h||(h=x&~s,h!==0&&(_=bt(h)))),_===0?0:l!==0&&l!==_&&(l&O)===0&&(O=_&-_,h=l&-l,O>=h||O===32&&(h&4194048)!==0)?l:_}function un(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ns(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var s=dt;return dt<<=1,(dt&4194048)===0&&(dt=256),s}function yl(){var s=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),s}function Dt(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function vi(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function vl(s,l,h,x,_,O){var H=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var J=s.entanglements,le=s.expirationTimes,xe=s.hiddenUpdates;for(h=H&~h;0<h;){var Oe=31-rn(h),Pe=1<<Oe;J[Oe]=0,le[Oe]=-1;var Ee=xe[Oe];if(Ee!==null)for(xe[Oe]=null,Oe=0;Oe<Ee.length;Oe++){var _e=Ee[Oe];_e!==null&&(_e.lane&=-536870913)}h&=~Pe}x!==0&&_a(s,x,0),O!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=O&~(H&~l))}function _a(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var x=31-rn(l);s.entangledLanes|=l,s.entanglements[x]=s.entanglements[x]|1073741824|h&4194090}function xi(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var x=31-rn(h),_=1<<x;_&l|s[x]&l&&(s[x]|=l),h&=~_}}function ns(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qi(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:hC(s.type))}function So(s,l){var h=ce.p;try{return ce.p=s,l()}finally{ce.p=h}}var en=Math.random().toString(36).slice(2),Nr="__reactFiber$"+en,On="__reactProps$"+en,Li="__reactContainer$"+en,Fr="__reactEvents$"+en,Ds="__reactListeners$"+en,Dr="__reactHandles$"+en,Ke="__reactResources$"+en,oa="__reactMarker$"+en;function rs(s){delete s[Nr],delete s[On],delete s[Fr],delete s[Ds],delete s[Dr]}function ir(s){var l=s[Nr];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Li]||h[Nr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=Q_(s);s!==null;){if(h=s[Nr])return h;s=Q_(s)}return l}s=h,h=s.parentNode}return null}function bi(s){if(s=s[Nr]||s[Li]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Zi(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Vr(s){var l=s[Ke];return l||(l=s[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function fn(s){s[oa]=!0}var Ic=new Set,xl={};function Er(s,l){Kn(s,l),Kn(s+"Capture",l)}function Kn(s,l){for(xl[s]=l,s=0;s<l.length;s++)Ic.add(l[s])}var An=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oc={},ki={};function bl(s){return Be.call(ki,s)?!0:Be.call(Oc,s)?!1:An.test(s)?ki[s]=!0:(Oc[s]=!0,!1)}function Me(s,l,h){if(bl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function is(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Pt(s,l,h,x){if(x===null)s.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+x)}}var la,_u;function Lt(s){if(la===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);la=l&&l[1]||"",_u=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+s+_u}var Vt=!1;function Nt(s,l){if(!s||Vt)return"";Vt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(_e){var Ee=_e}Reflect.construct(s,[],Pe)}else{try{Pe.call()}catch(_e){Ee=_e}s.call(Pe.prototype)}}else{try{throw Error()}catch(_e){Ee=_e}(Pe=s())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(_e){if(_e&&Ee&&typeof _e.stack=="string")return[_e.stack,Ee.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),H=O[0],J=O[1];if(H&&J){var le=H.split(`
`),xe=J.split(`
`);for(_=x=0;x<le.length&&!le[x].includes("DetermineComponentFrameRoot");)x++;for(;_<xe.length&&!xe[_].includes("DetermineComponentFrameRoot");)_++;if(x===le.length||_===xe.length)for(x=le.length-1,_=xe.length-1;1<=x&&0<=_&&le[x]!==xe[_];)_--;for(;1<=x&&0<=_;x--,_--)if(le[x]!==xe[_]){if(x!==1||_!==1)do if(x--,_--,0>_||le[x]!==xe[_]){var Oe=`
`+le[x].replace(" at new "," at ");return s.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",s.displayName)),Oe}while(1<=x&&0<=_);break}}}finally{Vt=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Lt(h):""}function _o(s){switch(s.tag){case 26:case 27:case 5:return Lt(s.type);case 16:return Lt("Lazy");case 13:return Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Nt(s.type,!1);case 11:return Nt(s.type.render,!1);case 1:return Nt(s.type,!0);case 31:return Lt("Activity");default:return""}}function Xs(s){try{var l="";do l+=_o(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Kr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qn(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function as(s){var l=Qn(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),x=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,O=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(H){x=""+H,O.call(this,H)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(H){x=""+H},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function wl(s){s._valueTracker||(s._valueTracker=as(s))}function Ln(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return s&&(x=Qn(s)?s.checked?"true":"false":s.value),s=x,s!==h?(l.setValue(s),!0):!1}function ji(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var oh=/[\n"\\]/g;function kn(s){return s.replace(oh,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function kt(s,l,h,x,_,O,H,J){s.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.type=H:s.removeAttribute("type"),l!=null?H==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Kr(l)):s.value!==""+Kr(l)&&(s.value=""+Kr(l)):H!=="submit"&&H!=="reset"||s.removeAttribute("value"),l!=null?me(s,H,Kr(l)):h!=null?me(s,H,Kr(h)):x!=null&&s.removeAttribute("value"),_==null&&O!=null&&(s.defaultChecked=!!O),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.name=""+Kr(J):s.removeAttribute("name")}function ar(s,l,h,x,_,O,H,J){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),l!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||l!=null))return;h=h!=null?""+Kr(h):"",l=l!=null?""+Kr(l):h,J||l===s.value||(s.value=l),s.defaultValue=l}x=x??_,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=J?s.checked:!!x,s.defaultChecked=!!x,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(s.name=H)}function me(s,l,h){l==="number"&&ji(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function re(s,l,h,x){if(s=s.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=l.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&x&&(s[h].defaultSelected=!0)}else{for(h=""+Kr(h),l=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,x&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function We(s,l,h){if(l!=null&&(l=""+Kr(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+Kr(h):""}function qn(s,l,h,x){if(l==null){if(x!=null){if(h!=null)throw Error(r(92));if(se(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),l=h}h=Kr(l),s.defaultValue=h,x=s.textContent,x===h&&x!==""&&x!==null&&(s.value=x)}function Zn(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(s,l,h){var x=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":x?s.setProperty(l,h):typeof h!="number"||h===0||Co.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function oi(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var _ in l)x=l[_],l.hasOwnProperty(_)&&h[_]!==x&&El(s,_,x)}else for(var O in l)l.hasOwnProperty(O)&&El(s,O,l[O])}function at(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(s){return Cu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ca=null;function wi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ta=null,Ms=null;function sr(s){var l=bi(s);if(l&&(s=l.stateNode)){var h=s[On]||null;e:switch(s=l.stateNode,l.type){case"input":if(kt(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+kn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==s&&x.form===s.form){var _=x[On]||null;if(!_)throw Error(r(90));kt(x,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<h.length;l++)x=h[l],x.form===s.form&&Ln(x)}break e;case"textarea":We(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&re(s,!!h.multiple,l,!1)}}}var Bi=!1;function Ia(s,l,h){if(Bi)return s(l,h);Bi=!0;try{var x=s(l);return x}finally{if(Bi=!1,(Ta!==null||Ms!==null)&&(Q0(),Ta&&(l=Ta,s=Ms,Ms=Ta=null,sr(l),s)))for(l=0;l<s.length;l++)sr(s[l])}}function lt(s,l){var h=s.stateNode;if(h===null)return null;var x=h[On]||null;if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mt=!1;if(Oa)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){mt=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{mt=!1}var ss=null,os=null,ls=null;function Ra(){if(ls)return ls;var s,l=os,h=l.length,x,_="value"in ss?ss.value:ss.textContent,O=_.length;for(s=0;s<h&&l[s]===_[s];s++);var H=h-s;for(x=1;x<=H&&l[h-x]===_[O-x];x++);return ls=_.slice(s,1<x?1-x:void 0)}function cs(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ui(){return!0}function Ps(){return!1}function or(s){function l(h,x,_,O,H){this._reactName=h,this._targetInst=_,this.type=x,this.nativeEvent=O,this.target=H,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(h=s[J],this[J]=h?h(O):O[J]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Ui:Ps,this.isPropagationStopped=Ps,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),l}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=or(cn),Na=v({},cn,{view:0,detail:0}),Qr=or(Na),To,Io,Da,Oo=v({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Da&&(Da&&s.type==="mousemove"?(To=s.screenX-Da.screenX,Io=s.screenY-Da.screenY):Io=To=0,Da=s),To)},movementY:function(s){return"movementY"in s?s.movementY:Io}}),ca=or(Oo),Tu=v({},Oo,{dataTransfer:0}),hn=or(Tu),Ks=v({},Na,{relatedTarget:0}),Ls=or(Ks),ua=v({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sl=or(ua),Se=v({},cn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),St=or(Se),Mr=v({},cn,{data:0}),Qs=or(Mr),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Ou[s])?!!l[s]:!1}function ks(){return Rc}var lr=v({},Na,{key:function(s){if(s.key){var l=Zs[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=cs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Iu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(s){return s.type==="keypress"?cs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Js=or(lr),Bn=v({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=or(Bn),Ei=v({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),dn=or(Ei),ft=v({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=or(ft),bn=v({},Oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fa=or(bn),Ar=v({},cn,{newState:0,oldState:0}),Nu=or(Ar),Ji=[9,13,27,32],ha=Oa&&"CompositionEvent"in window,A=null;Oa&&"documentMode"in document&&(A=document.documentMode);var L=Oa&&"TextEvent"in window&&!A,V=Oa&&(!ha||A&&8<A&&11>=A),ne=" ",pe=!1;function Ce(s,l){switch(s){case"keyup":return Ji.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $t=!1;function er(s,l){switch(s){case"compositionend":return qe(l);case"keypress":return l.which!==32?null:(pe=!0,ne);case"textInput":return s=l.data,s===ne&&pe?null:s;default:return null}}function Xt(s,l){if($t)return s==="compositionend"||!ha&&Ce(s,l)?(s=Ra(),ls=os=ss=null,$t=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return V&&l.locale!=="ko"?null:l.data;default:return null}}var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Un[s.type]:l==="textarea"}function Sr(s,l,h,x){Ta?Ms?Ms.push(x):Ms=[x]:Ta=x,l=r1(l,"onChange"),0<l.length&&(h=new us("onChange","change",null,h,x),s.push({event:h,listeners:l}))}var zr=null,Pr=null;function Nc(s){V_(s,0)}function _l(s){var l=Zi(s);if(Ln(l))return s}function y0(s,l){if(s==="change")return l}var lh=!1;if(Oa){var da;if(Oa){var ch="oninput"in document;if(!ch){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),ch=typeof Du.oninput=="function"}da=ch}else da=!1;lh=da&&(!document.documentMode||9<document.documentMode)}function Cl(){zr&&(zr.detachEvent("onpropertychange",Kt),Pr=zr=null)}function Kt(s){if(s.propertyName==="value"&&_l(Pr)){var l=[];Sr(l,Pr,s,wi(s)),Ia(Nc,l)}}function Mu(s,l,h){s==="focusin"?(Cl(),zr=l,Pr=h,zr.attachEvent("onpropertychange",Kt)):s==="focusout"&&Cl()}function W(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _l(Pr)}function o(s,l){if(s==="click")return _l(l)}function c(s,l){if(s==="input"||s==="change")return _l(l)}function f(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var p=typeof Object.is=="function"?Object.is:f;function y(s,l){if(p(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var _=h[x];if(!Be.call(l,_)||!p(s[_],l[_]))return!1}return!0}function b(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E(s,l){var h=b(s);s=0;for(var x;h;){if(h.nodeType===3){if(x=s+h.textContent.length,s<=l&&x>=l)return{node:h,offset:l-s};s=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=b(h)}}function C(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?C(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function D(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=ji(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=ji(s.document)}return l}function k(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Y=Oa&&"documentMode"in document&&11>=document.documentMode,Q=null,ie=null,fe=null,he=!1;function ye(s,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;he||Q==null||Q!==ji(x)||(x=Q,"selectionStart"in x&&k(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),fe&&y(fe,x)||(fe=x,x=r1(ie,"onSelect"),0<x.length&&(l=new us("onSelect","select",null,l,h),s.push({event:l,listeners:x}),l.target=Q)))}function Ae(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var ze={animationend:Ae("Animation","AnimationEnd"),animationiteration:Ae("Animation","AnimationIteration"),animationstart:Ae("Animation","AnimationStart"),transitionrun:Ae("Transition","TransitionRun"),transitionstart:Ae("Transition","TransitionStart"),transitioncancel:Ae("Transition","TransitionCancel"),transitionend:Ae("Transition","TransitionEnd")},He={},Fe={};Oa&&(Fe=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);function Ot(s){if(He[s])return He[s];if(!ze[s])return s;var l=ze[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Fe)return He[s]=l[h];return s}var _t=Ot("animationend"),Ai=Ot("animationiteration"),ga=Ot("animationstart"),Fi=Ot("transitionrun"),Sn=Ot("transitionstart"),Zr=Ot("transitioncancel"),Vi=Ot("transitionend"),Ro=new Map,to="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");to.push("scrollEnd");function Ma(s,l){Ro.set(s,l),Er(l,[s])}var v0=new WeakMap;function fs(s,l){if(typeof s=="object"&&s!==null){var h=v0.get(s);return h!==void 0?h:(l={value:s,source:l,stack:Xs(l)},v0.set(s,l),l)}return{value:s,source:l,stack:Xs(l)}}var hs=[],Pu=0,Ap=0;function x0(){for(var s=Pu,l=Ap=Pu=0;l<s;){var h=hs[l];hs[l++]=null;var x=hs[l];hs[l++]=null;var _=hs[l];hs[l++]=null;var O=hs[l];if(hs[l++]=null,x!==null&&_!==null){var H=x.pending;H===null?_.next=_:(_.next=H.next,H.next=_),x.pending=_}O!==0&&_A(h,_,O)}}function b0(s,l,h,x){hs[Pu++]=s,hs[Pu++]=l,hs[Pu++]=h,hs[Pu++]=x,Ap|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Sp(s,l,h,x){return b0(s,l,h,x),w0(s)}function Lu(s,l){return b0(s,null,null,l),w0(s)}function _A(s,l,h){s.lanes|=h;var x=s.alternate;x!==null&&(x.lanes|=h);for(var _=!1,O=s.return;O!==null;)O.childLanes|=h,x=O.alternate,x!==null&&(x.childLanes|=h),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(_=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,_&&l!==null&&(_=31-rn(h),s=O.hiddenUpdates,x=s[_],x===null?s[_]=[l]:x.push(l),l.lane=h|536870912),O):null}function w0(s){if(50<Ph)throw Ph=0,Ry=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ku={};function c9(s,l,h,x){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(s,l,h,x){return new c9(s,l,h,x)}function _p(s){return s=s.prototype,!(!s||!s.isReactComponent)}function No(s,l){var h=s.alternate;return h===null?(h=Pa(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function CA(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function E0(s,l,h,x,_,O){var H=0;if(x=s,typeof s=="function")_p(s)&&(H=1);else if(typeof s=="string")H=fL(s,h,Ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case F:return s=Pa(31,h,l,_),s.elementType=F,s.lanes=O,s;case N:return Dc(h.children,_,O,l);case M:H=8,_|=24;break;case P:return s=Pa(12,h,l,_|2),s.elementType=P,s.lanes=O,s;case X:return s=Pa(13,h,l,_),s.elementType=X,s.lanes=O,s;case ee:return s=Pa(19,h,l,_),s.elementType=ee,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:case q:H=10;break e;case $:H=9;break e;case te:H=11;break e;case j:H=14;break e;case G:H=16,x=null;break e}H=29,h=Error(r(130,s===null?"null":typeof s,"")),x=null}return l=Pa(H,h,l,_),l.elementType=s,l.type=x,l.lanes=O,l}function Dc(s,l,h,x){return s=Pa(7,s,x,l),s.lanes=h,s}function Cp(s,l,h){return s=Pa(6,s,null,l),s.lanes=h,s}function Tp(s,l,h){return l=Pa(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var ju=[],Bu=0,A0=null,S0=0,ds=[],gs=0,Mc=null,Do=1,Mo="";function Pc(s,l){ju[Bu++]=S0,ju[Bu++]=A0,A0=s,S0=l}function TA(s,l,h){ds[gs++]=Do,ds[gs++]=Mo,ds[gs++]=Mc,Mc=s;var x=Do;s=Mo;var _=32-rn(x)-1;x&=~(1<<_),h+=1;var O=32-rn(l)+_;if(30<O){var H=_-_%5;O=(x&(1<<H)-1).toString(32),x>>=H,_-=H,Do=1<<32-rn(l)+_|h<<_|x,Mo=O+s}else Do=1<<O|h<<_|x,Mo=s}function Ip(s){s.return!==null&&(Pc(s,1),TA(s,1,0))}function Op(s){for(;s===A0;)A0=ju[--Bu],ju[Bu]=null,S0=ju[--Bu],ju[Bu]=null;for(;s===Mc;)Mc=ds[--gs],ds[gs]=null,Mo=ds[--gs],ds[gs]=null,Do=ds[--gs],ds[gs]=null}var ea=null,_r=null,yn=!1,Lc=null,no=!1,Rp=Error(r(519));function kc(s){var l=Error(r(418,""));throw hh(fs(l,s)),Rp}function IA(s){var l=s.stateNode,h=s.type,x=s.memoizedProps;switch(l[Nr]=s,l[On]=x,h){case"dialog":qt("cancel",l),qt("close",l);break;case"iframe":case"object":case"embed":qt("load",l);break;case"video":case"audio":for(h=0;h<kh.length;h++)qt(kh[h],l);break;case"source":qt("error",l);break;case"img":case"image":case"link":qt("error",l),qt("load",l);break;case"details":qt("toggle",l);break;case"input":qt("invalid",l),ar(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),wl(l);break;case"select":qt("invalid",l);break;case"textarea":qt("invalid",l),qn(l,x.value,x.defaultValue,x.children),wl(l)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||x.suppressHydrationWarning===!0||G_(l.textContent,h)?(x.popover!=null&&(qt("beforetoggle",l),qt("toggle",l)),x.onScroll!=null&&qt("scroll",l),x.onScrollEnd!=null&&qt("scrollend",l),x.onClick!=null&&(l.onclick=i1),l=!0):l=!1,l||kc(s)}function OA(s){for(ea=s.return;ea;)switch(ea.tag){case 5:case 13:no=!1;return;case 27:case 3:no=!0;return;default:ea=ea.return}}function uh(s){if(s!==ea)return!1;if(!yn)return OA(s),yn=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Wy(s.type,s.memoizedProps)),h=!h),h&&_r&&kc(s),OA(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){_r=Bs(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}_r=null}}else l===27?(l=_r,zl(s.type)?(s=Ky,Ky=null,_r=s):_r=l):_r=ea?Bs(s.stateNode.nextSibling):null;return!0}function fh(){_r=ea=null,yn=!1}function RA(){var s=Lc;return s!==null&&(ya===null?ya=s:ya.push.apply(ya,s),Lc=null),s}function hh(s){Lc===null?Lc=[s]:Lc.push(s)}var Np=be(null),jc=null,Po=null;function Tl(s,l,h){je(Np,l._currentValue),l._currentValue=h}function Lo(s){s._currentValue=Np.current,Ie(Np)}function Dp(s,l,h){for(;s!==null;){var x=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),s===h)break;s=s.return}}function Mp(s,l,h,x){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var O=_.dependencies;if(O!==null){var H=_.child;O=O.firstContext;e:for(;O!==null;){var J=O;O=_;for(var le=0;le<l.length;le++)if(J.context===l[le]){O.lanes|=h,J=O.alternate,J!==null&&(J.lanes|=h),Dp(O.return,h,s),x||(H=null);break e}O=J.next}}else if(_.tag===18){if(H=_.return,H===null)throw Error(r(341));H.lanes|=h,O=H.alternate,O!==null&&(O.lanes|=h),Dp(H,h,s),H=null}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===s){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}}function dh(s,l,h,x){s=null;for(var _=l,O=!1;_!==null;){if(!O){if((_.flags&524288)!==0)O=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var H=_.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var J=_.type;p(_.pendingProps.value,H.value)||(s!==null?s.push(J):s=[J])}}else if(_===Pn.current){if(H=_.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(zh):s=[zh])}_=_.return}s!==null&&Mp(l,s,h,x),l.flags|=262144}function _0(s){for(s=s.firstContext;s!==null;){if(!p(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bc(s){jc=s,Po=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function zi(s){return NA(jc,s)}function C0(s,l){return jc===null&&Bc(s),NA(s,l)}function NA(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Po===null){if(s===null)throw Error(r(308));Po=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Po=Po.next=l;return h}var u9=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,x){s.push(x)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},f9=t.unstable_scheduleCallback,h9=t.unstable_NormalPriority,Jr={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pp(){return{controller:new u9,data:new Map,refCount:0}}function gh(s){s.refCount--,s.refCount===0&&f9(h9,function(){s.controller.abort()})}var mh=null,Lp=0,Uu=0,Fu=null;function d9(s,l){if(mh===null){var h=mh=[];Lp=0,Uu=jy(),Fu={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Lp++,l.then(DA,DA),l}function DA(){if(--Lp===0&&mh!==null){Fu!==null&&(Fu.status="fulfilled");var s=mh;mh=null,Uu=0,Fu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function g9(s,l){var h=[],x={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return s.then(function(){x.status="fulfilled",x.value=l;for(var _=0;_<h.length;_++)(0,h[_])(l)},function(_){for(x.status="rejected",x.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),x}var MA=oe.S;oe.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&d9(s,l),MA!==null&&MA(s,l)};var Uc=be(null);function kp(){var s=Uc.current;return s!==null?s:Gn.pooledCache}function T0(s,l){l===null?je(Uc,Uc.current):je(Uc,l.pool)}function PA(){var s=kp();return s===null?null:{parent:Jr._currentValue,pool:s}}var ph=Error(r(460)),LA=Error(r(474)),I0=Error(r(542)),jp={then:function(){}};function kA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function O0(){}function jA(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(O0,O0),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,UA(s),s;default:if(typeof l.status=="string")l.then(O0,O0);else{if(s=Gn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(x){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=x}},function(x){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,UA(s),s}throw yh=l,ph}}var yh=null;function BA(){if(yh===null)throw Error(r(459));var s=yh;return yh=null,s}function UA(s){if(s===ph||s===I0)throw Error(r(483))}var Il=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Up(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ol(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Rl(s,l,h){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(_n&2)!==0){var _=x.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),x.pending=l,l=w0(s),_A(s,null,h),l}return b0(s,x,l,h),w0(s)}function vh(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var x=l.lanes;x&=s.pendingLanes,h|=x,l.lanes=h,xi(s,h)}}function Fp(s,l){var h=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var _=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var H={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?_=O=H:O=O.next=H,h=h.next}while(h!==null);O===null?_=O=l:O=O.next=l}else _=O=l;h={baseState:x.baseState,firstBaseUpdate:_,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var Vp=!1;function xh(){if(Vp){var s=Fu;if(s!==null)throw s}}function bh(s,l,h,x){Vp=!1;var _=s.updateQueue;Il=!1;var O=_.firstBaseUpdate,H=_.lastBaseUpdate,J=_.shared.pending;if(J!==null){_.shared.pending=null;var le=J,xe=le.next;le.next=null,H===null?O=xe:H.next=xe,H=le;var Oe=s.alternate;Oe!==null&&(Oe=Oe.updateQueue,J=Oe.lastBaseUpdate,J!==H&&(J===null?Oe.firstBaseUpdate=xe:J.next=xe,Oe.lastBaseUpdate=le))}if(O!==null){var Pe=_.baseState;H=0,Oe=xe=le=null,J=O;do{var Ee=J.lane&-536870913,_e=Ee!==J.lane;if(_e?(an&Ee)===Ee:(x&Ee)===Ee){Ee!==0&&Ee===Uu&&(Vp=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var At=s,yt=J;Ee=l;var Dn=h;switch(yt.tag){case 1:if(At=yt.payload,typeof At=="function"){Pe=At.call(Dn,Pe,Ee);break e}Pe=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=yt.payload,Ee=typeof At=="function"?At.call(Dn,Pe,Ee):At,Ee==null)break e;Pe=v({},Pe,Ee);break e;case 2:Il=!0}}Ee=J.callback,Ee!==null&&(s.flags|=64,_e&&(s.flags|=8192),_e=_.callbacks,_e===null?_.callbacks=[Ee]:_e.push(Ee))}else _e={lane:Ee,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Oe===null?(xe=Oe=_e,le=Pe):Oe=Oe.next=_e,H|=Ee;if(J=J.next,J===null){if(J=_.shared.pending,J===null)break;_e=J,J=_e.next,_e.next=null,_.lastBaseUpdate=_e,_.shared.pending=null}}while(!0);Oe===null&&(le=Pe),_.baseState=le,_.firstBaseUpdate=xe,_.lastBaseUpdate=Oe,O===null&&(_.shared.lanes=0),Bl|=H,s.lanes=H,s.memoizedState=Pe}}function FA(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function VA(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)FA(h[s],l)}var Vu=be(null),R0=be(0);function zA(s,l){s=zo,je(R0,s),je(Vu,l),zo=s|l.baseLanes}function zp(){je(R0,zo),je(Vu,Vu.current)}function Hp(){zo=R0.current,Ie(Vu),Ie(R0)}var Nl=0,Ut=null,Rn=null,Hr=null,N0=!1,zu=!1,Fc=!1,D0=0,wh=0,Hu=null,m9=0;function Lr(){throw Error(r(321))}function qp(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!p(s[h],l[h]))return!1;return!0}function Gp(s,l,h,x,_,O){return Nl=O,Ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,oe.H=s===null||s.memoizedState===null?_S:CS,Fc=!1,O=h(x,_),Fc=!1,zu&&(O=qA(l,h,x,_)),HA(s),O}function HA(s){oe.H=B0;var l=Rn!==null&&Rn.next!==null;if(Nl=0,Hr=Rn=Ut=null,N0=!1,wh=0,Hu=null,l)throw Error(r(300));s===null||li||(s=s.dependencies,s!==null&&_0(s)&&(li=!0))}function qA(s,l,h,x){Ut=s;var _=0;do{if(zu&&(Hu=null),wh=0,zu=!1,25<=_)throw Error(r(301));if(_+=1,Hr=Rn=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}oe.H=E9,O=l(h,x)}while(zu);return O}function p9(){var s=oe.H,l=s.useState()[0];return l=typeof l.then=="function"?Eh(l):l,s=s.useState()[0],(Rn!==null?Rn.memoizedState:null)!==s&&(Ut.flags|=1024),l}function Wp(){var s=D0!==0;return D0=0,s}function Yp(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function $p(s){if(N0){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}N0=!1}Nl=0,Hr=Rn=Ut=null,zu=!1,wh=D0=0,Hu=null}function ma(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?Ut.memoizedState=Hr=s:Hr=Hr.next=s,Hr}function qr(){if(Rn===null){var s=Ut.alternate;s=s!==null?s.memoizedState:null}else s=Rn.next;var l=Hr===null?Ut.memoizedState:Hr.next;if(l!==null)Hr=l,Rn=s;else{if(s===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));Rn=s,s={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Hr===null?Ut.memoizedState=Hr=s:Hr=Hr.next=s}return Hr}function Xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eh(s){var l=wh;return wh+=1,Hu===null&&(Hu=[]),s=jA(Hu,s,l),l=Ut,(Hr===null?l.memoizedState:Hr.next)===null&&(l=l.alternate,oe.H=l===null||l.memoizedState===null?_S:CS),s}function M0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eh(s);if(s.$$typeof===q)return zi(s)}throw Error(r(438,String(s)))}function Kp(s){var l=null,h=Ut.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var x=Ut.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Xp(),Ut.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),x=0;x<s;x++)h[x]=Z;return l.index++,h}function ko(s,l){return typeof l=="function"?l(s):l}function P0(s){var l=qr();return Qp(l,Rn,s)}function Qp(s,l,h){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var _=s.baseQueue,O=x.pending;if(O!==null){if(_!==null){var H=_.next;_.next=O.next,O.next=H}l.baseQueue=_=O,x.pending=null}if(O=s.baseState,_===null)s.memoizedState=O;else{l=_.next;var J=H=null,le=null,xe=l,Oe=!1;do{var Pe=xe.lane&-536870913;if(Pe!==xe.lane?(an&Pe)===Pe:(Nl&Pe)===Pe){var Ee=xe.revertLane;if(Ee===0)le!==null&&(le=le.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Pe===Uu&&(Oe=!0);else if((Nl&Ee)===Ee){xe=xe.next,Ee===Uu&&(Oe=!0);continue}else Pe={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},le===null?(J=le=Pe,H=O):le=le.next=Pe,Ut.lanes|=Ee,Bl|=Ee;Pe=xe.action,Fc&&h(O,Pe),O=xe.hasEagerState?xe.eagerState:h(O,Pe)}else Ee={lane:Pe,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},le===null?(J=le=Ee,H=O):le=le.next=Ee,Ut.lanes|=Pe,Bl|=Pe;xe=xe.next}while(xe!==null&&xe!==l);if(le===null?H=O:le.next=J,!p(O,s.memoizedState)&&(li=!0,Oe&&(h=Fu,h!==null)))throw h;s.memoizedState=O,s.baseState=H,s.baseQueue=le,x.lastRenderedState=O}return _===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Zp(s){var l=qr(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var x=h.dispatch,_=h.pending,O=l.memoizedState;if(_!==null){h.pending=null;var H=_=_.next;do O=s(O,H.action),H=H.next;while(H!==_);p(O,l.memoizedState)||(li=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),h.lastRenderedState=O}return[O,x]}function GA(s,l,h){var x=Ut,_=qr(),O=yn;if(O){if(h===void 0)throw Error(r(407));h=h()}else h=l();var H=!p((Rn||_).memoizedState,h);H&&(_.memoizedState=h,li=!0),_=_.queue;var J=$A.bind(null,x,_,s);if(Ah(2048,8,J,[s]),_.getSnapshot!==l||H||Hr!==null&&Hr.memoizedState.tag&1){if(x.flags|=2048,qu(9,L0(),YA.bind(null,x,_,h,l),null),Gn===null)throw Error(r(349));O||(Nl&124)!==0||WA(x,l,h)}return h}function WA(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Ut.updateQueue,l===null?(l=Xp(),Ut.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function YA(s,l,h,x){l.value=h,l.getSnapshot=x,XA(l)&&KA(s)}function $A(s,l,h){return h(function(){XA(l)&&KA(s)})}function XA(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!p(s,h)}catch{return!0}}function KA(s){var l=Lu(s,2);l!==null&&Ua(l,s,2)}function Jp(s){var l=ma();if(typeof s=="function"){var h=s;if(s=h(),Fc){rr(!0);try{h()}finally{rr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:s},l}function QA(s,l,h,x){return s.baseState=h,Qp(s,Rn,typeof x=="function"?x:ko)}function y9(s,l,h,x,_){if(j0(s))throw Error(r(485));if(s=l.action,s!==null){var O={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){O.listeners.push(H)}};oe.T!==null?h(!0):O.isTransition=!1,x(O),h=l.pending,h===null?(O.next=l.pending=O,ZA(l,O)):(O.next=h.next,l.pending=h.next=O)}}function ZA(s,l){var h=l.action,x=l.payload,_=s.state;if(l.isTransition){var O=oe.T,H={};oe.T=H;try{var J=h(_,x),le=oe.S;le!==null&&le(H,J),JA(s,l,J)}catch(xe){ey(s,l,xe)}finally{oe.T=O}}else try{O=h(_,x),JA(s,l,O)}catch(xe){ey(s,l,xe)}}function JA(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){eS(s,l,x)},function(x){return ey(s,l,x)}):eS(s,l,h)}function eS(s,l,h){l.status="fulfilled",l.value=h,tS(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,ZA(s,h)))}function ey(s,l,h){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=h,tS(l),l=l.next;while(l!==x)}s.action=null}function tS(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function nS(s,l){return l}function rS(s,l){if(yn){var h=Gn.formState;if(h!==null){e:{var x=Ut;if(yn){if(_r){t:{for(var _=_r,O=no;_.nodeType!==8;){if(!O){_=null;break t}if(_=Bs(_.nextSibling),_===null){_=null;break t}}O=_.data,_=O==="F!"||O==="F"?_:null}if(_){_r=Bs(_.nextSibling),x=_.data==="F!";break e}}kc(x)}x=!1}x&&(l=h[0])}}return h=ma(),h.memoizedState=h.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nS,lastRenderedState:l},h.queue=x,h=ES.bind(null,Ut,x),x.dispatch=h,x=Jp(!1),O=ay.bind(null,Ut,!1,x.queue),x=ma(),_={state:l,dispatch:null,action:s,pending:null},x.queue=_,h=y9.bind(null,Ut,_,O,h),_.dispatch=h,x.memoizedState=s,[l,h,!1]}function iS(s){var l=qr();return aS(l,Rn,s)}function aS(s,l,h){if(l=Qp(s,l,nS)[0],s=P0(ko)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=Eh(l)}catch(H){throw H===ph?I0:H}else x=l;l=qr();var _=l.queue,O=_.dispatch;return h!==l.memoizedState&&(Ut.flags|=2048,qu(9,L0(),v9.bind(null,_,h),null)),[x,O,s]}function v9(s,l){s.action=l}function sS(s){var l=qr(),h=Rn;if(h!==null)return aS(l,h,s);qr(),l=l.memoizedState,h=qr();var x=h.queue.dispatch;return h.memoizedState=s,[l,x,!1]}function qu(s,l,h,x){return s={tag:s,create:h,deps:x,inst:l,next:null},l=Ut.updateQueue,l===null&&(l=Xp(),Ut.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(x=h.next,h.next=s,s.next=x,l.lastEffect=s),s}function L0(){return{destroy:void 0,resource:void 0}}function oS(){return qr().memoizedState}function k0(s,l,h,x){var _=ma();x=x===void 0?null:x,Ut.flags|=s,_.memoizedState=qu(1|l,L0(),h,x)}function Ah(s,l,h,x){var _=qr();x=x===void 0?null:x;var O=_.memoizedState.inst;Rn!==null&&x!==null&&qp(x,Rn.memoizedState.deps)?_.memoizedState=qu(l,O,h,x):(Ut.flags|=s,_.memoizedState=qu(1|l,O,h,x))}function lS(s,l){k0(8390656,8,s,l)}function cS(s,l){Ah(2048,8,s,l)}function uS(s,l){return Ah(4,2,s,l)}function fS(s,l){return Ah(4,4,s,l)}function hS(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function dS(s,l,h){h=h!=null?h.concat([s]):null,Ah(4,4,hS.bind(null,l,s),h)}function ty(){}function gS(s,l){var h=qr();l=l===void 0?null:l;var x=h.memoizedState;return l!==null&&qp(l,x[1])?x[0]:(h.memoizedState=[s,l],s)}function mS(s,l){var h=qr();l=l===void 0?null:l;var x=h.memoizedState;if(l!==null&&qp(l,x[1]))return x[0];if(x=s(),Fc){rr(!0);try{s()}finally{rr(!1)}}return h.memoizedState=[x,l],x}function ny(s,l,h){return h===void 0||(Nl&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=v_(),Ut.lanes|=s,Bl|=s,h)}function pS(s,l,h,x){return p(h,l)?h:Vu.current!==null?(s=ny(s,h,x),p(s,l)||(li=!0),s):(Nl&42)===0?(li=!0,s.memoizedState=h):(s=v_(),Ut.lanes|=s,Bl|=s,l)}function yS(s,l,h,x,_){var O=ce.p;ce.p=O!==0&&8>O?O:8;var H=oe.T,J={};oe.T=J,ay(s,!1,l,h);try{var le=_(),xe=oe.S;if(xe!==null&&xe(J,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Oe=g9(le,x);Sh(s,l,Oe,Ba(s))}else Sh(s,l,x,Ba(s))}catch(Pe){Sh(s,l,{then:function(){},status:"rejected",reason:Pe},Ba())}finally{ce.p=O,oe.T=H}}function x9(){}function ry(s,l,h,x){if(s.tag!==5)throw Error(r(476));var _=vS(s).queue;yS(s,_,l,Te,h===null?x9:function(){return xS(s),h(x)})}function vS(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:Te},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function xS(s){var l=vS(s).next.queue;Sh(s,l,{},Ba())}function iy(){return zi(zh)}function bS(){return qr().memoizedState}function wS(){return qr().memoizedState}function b9(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ba();s=Ol(h);var x=Rl(l,s,h);x!==null&&(Ua(x,l,h),vh(x,l,h)),l={cache:Pp()},s.payload=l;return}l=l.return}}function w9(s,l,h){var x=Ba();h={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},j0(s)?AS(l,h):(h=Sp(s,l,h,x),h!==null&&(Ua(h,s,x),SS(h,l,x)))}function ES(s,l,h){var x=Ba();Sh(s,l,h,x)}function Sh(s,l,h,x){var _={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(j0(s))AS(l,_);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var H=l.lastRenderedState,J=O(H,h);if(_.hasEagerState=!0,_.eagerState=J,p(J,H))return b0(s,l,_,0),Gn===null&&x0(),!1}catch{}finally{}if(h=Sp(s,l,_,x),h!==null)return Ua(h,s,x),SS(h,l,x),!0}return!1}function ay(s,l,h,x){if(x={lane:2,revertLane:jy(),action:x,hasEagerState:!1,eagerState:null,next:null},j0(s)){if(l)throw Error(r(479))}else l=Sp(s,h,x,2),l!==null&&Ua(l,s,2)}function j0(s){var l=s.alternate;return s===Ut||l!==null&&l===Ut}function AS(s,l){zu=N0=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function SS(s,l,h){if((h&4194048)!==0){var x=l.lanes;x&=s.pendingLanes,h|=x,l.lanes=h,xi(s,h)}}var B0={readContext:zi,use:M0,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useLayoutEffect:Lr,useInsertionEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useSyncExternalStore:Lr,useId:Lr,useHostTransitionStatus:Lr,useFormState:Lr,useActionState:Lr,useOptimistic:Lr,useMemoCache:Lr,useCacheRefresh:Lr},_S={readContext:zi,use:M0,useCallback:function(s,l){return ma().memoizedState=[s,l===void 0?null:l],s},useContext:zi,useEffect:lS,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,k0(4194308,4,hS.bind(null,l,s),h)},useLayoutEffect:function(s,l){return k0(4194308,4,s,l)},useInsertionEffect:function(s,l){k0(4,2,s,l)},useMemo:function(s,l){var h=ma();l=l===void 0?null:l;var x=s();if(Fc){rr(!0);try{s()}finally{rr(!1)}}return h.memoizedState=[x,l],x},useReducer:function(s,l,h){var x=ma();if(h!==void 0){var _=h(l);if(Fc){rr(!0);try{h(l)}finally{rr(!1)}}}else _=l;return x.memoizedState=x.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},x.queue=s,s=s.dispatch=w9.bind(null,Ut,s),[x.memoizedState,s]},useRef:function(s){var l=ma();return s={current:s},l.memoizedState=s},useState:function(s){s=Jp(s);var l=s.queue,h=ES.bind(null,Ut,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:ty,useDeferredValue:function(s,l){var h=ma();return ny(h,s,l)},useTransition:function(){var s=Jp(!1);return s=yS.bind(null,Ut,s.queue,!0,!1),ma().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var x=Ut,_=ma();if(yn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Gn===null)throw Error(r(349));(an&124)!==0||WA(x,l,h)}_.memoizedState=h;var O={value:h,getSnapshot:l};return _.queue=O,lS($A.bind(null,x,O,s),[s]),x.flags|=2048,qu(9,L0(),YA.bind(null,x,O,h,l),null),h},useId:function(){var s=ma(),l=Gn.identifierPrefix;if(yn){var h=Mo,x=Do;h=(x&~(1<<32-rn(x)-1)).toString(32)+h,l="«"+l+"R"+h,h=D0++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=m9++,l="«"+l+"r"+h.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:iy,useFormState:rS,useActionState:rS,useOptimistic:function(s){var l=ma();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=ay.bind(null,Ut,!0,h),h.dispatch=l,[s,l]},useMemoCache:Kp,useCacheRefresh:function(){return ma().memoizedState=b9.bind(null,Ut)}},CS={readContext:zi,use:M0,useCallback:gS,useContext:zi,useEffect:cS,useImperativeHandle:dS,useInsertionEffect:uS,useLayoutEffect:fS,useMemo:mS,useReducer:P0,useRef:oS,useState:function(){return P0(ko)},useDebugValue:ty,useDeferredValue:function(s,l){var h=qr();return pS(h,Rn.memoizedState,s,l)},useTransition:function(){var s=P0(ko)[0],l=qr().memoizedState;return[typeof s=="boolean"?s:Eh(s),l]},useSyncExternalStore:GA,useId:bS,useHostTransitionStatus:iy,useFormState:iS,useActionState:iS,useOptimistic:function(s,l){var h=qr();return QA(h,Rn,s,l)},useMemoCache:Kp,useCacheRefresh:wS},E9={readContext:zi,use:M0,useCallback:gS,useContext:zi,useEffect:cS,useImperativeHandle:dS,useInsertionEffect:uS,useLayoutEffect:fS,useMemo:mS,useReducer:Zp,useRef:oS,useState:function(){return Zp(ko)},useDebugValue:ty,useDeferredValue:function(s,l){var h=qr();return Rn===null?ny(h,s,l):pS(h,Rn.memoizedState,s,l)},useTransition:function(){var s=Zp(ko)[0],l=qr().memoizedState;return[typeof s=="boolean"?s:Eh(s),l]},useSyncExternalStore:GA,useId:bS,useHostTransitionStatus:iy,useFormState:sS,useActionState:sS,useOptimistic:function(s,l){var h=qr();return Rn!==null?QA(h,Rn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:wS},Gu=null,_h=0;function U0(s){var l=_h;return _h+=1,Gu===null&&(Gu=[]),jA(Gu,s,l)}function Ch(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function F0(s,l){throw l.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function TS(s){var l=s._init;return l(s._payload)}function IS(s){function l(ge,de){if(s){var ve=ge.deletions;ve===null?(ge.deletions=[de],ge.flags|=16):ve.push(de)}}function h(ge,de){if(!s)return null;for(;de!==null;)l(ge,de),de=de.sibling;return null}function x(ge){for(var de=new Map;ge!==null;)ge.key!==null?de.set(ge.key,ge):de.set(ge.index,ge),ge=ge.sibling;return de}function _(ge,de){return ge=No(ge,de),ge.index=0,ge.sibling=null,ge}function O(ge,de,ve){return ge.index=ve,s?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<de?(ge.flags|=67108866,de):ve):(ge.flags|=67108866,de)):(ge.flags|=1048576,de)}function H(ge){return s&&ge.alternate===null&&(ge.flags|=67108866),ge}function J(ge,de,ve,Re){return de===null||de.tag!==6?(de=Cp(ve,ge.mode,Re),de.return=ge,de):(de=_(de,ve),de.return=ge,de)}function le(ge,de,ve,Re){var et=ve.type;return et===N?Oe(ge,de,ve.props.children,Re,ve.key):de!==null&&(de.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===G&&TS(et)===de.type)?(de=_(de,ve.props),Ch(de,ve),de.return=ge,de):(de=E0(ve.type,ve.key,ve.props,null,ge.mode,Re),Ch(de,ve),de.return=ge,de)}function xe(ge,de,ve,Re){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=Tp(ve,ge.mode,Re),de.return=ge,de):(de=_(de,ve.children||[]),de.return=ge,de)}function Oe(ge,de,ve,Re,et){return de===null||de.tag!==7?(de=Dc(ve,ge.mode,Re,et),de.return=ge,de):(de=_(de,ve),de.return=ge,de)}function Pe(ge,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=Cp(""+de,ge.mode,ve),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case S:return ve=E0(de.type,de.key,de.props,null,ge.mode,ve),Ch(ve,de),ve.return=ge,ve;case T:return de=Tp(de,ge.mode,ve),de.return=ge,de;case G:var Re=de._init;return de=Re(de._payload),Pe(ge,de,ve)}if(se(de)||K(de))return de=Dc(de,ge.mode,ve,null),de.return=ge,de;if(typeof de.then=="function")return Pe(ge,U0(de),ve);if(de.$$typeof===q)return Pe(ge,C0(ge,de),ve);F0(ge,de)}return null}function Ee(ge,de,ve,Re){var et=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return et!==null?null:J(ge,de,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return ve.key===et?le(ge,de,ve,Re):null;case T:return ve.key===et?xe(ge,de,ve,Re):null;case G:return et=ve._init,ve=et(ve._payload),Ee(ge,de,ve,Re)}if(se(ve)||K(ve))return et!==null?null:Oe(ge,de,ve,Re,null);if(typeof ve.then=="function")return Ee(ge,de,U0(ve),Re);if(ve.$$typeof===q)return Ee(ge,de,C0(ge,ve),Re);F0(ge,ve)}return null}function _e(ge,de,ve,Re,et){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return ge=ge.get(ve)||null,J(de,ge,""+Re,et);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case S:return ge=ge.get(Re.key===null?ve:Re.key)||null,le(de,ge,Re,et);case T:return ge=ge.get(Re.key===null?ve:Re.key)||null,xe(de,ge,Re,et);case G:var zt=Re._init;return Re=zt(Re._payload),_e(ge,de,ve,Re,et)}if(se(Re)||K(Re))return ge=ge.get(ve)||null,Oe(de,ge,Re,et,null);if(typeof Re.then=="function")return _e(ge,de,ve,U0(Re),et);if(Re.$$typeof===q)return _e(ge,de,ve,C0(de,Re),et);F0(de,Re)}return null}function At(ge,de,ve,Re){for(var et=null,zt=null,ct=de,xt=de=0,ui=null;ct!==null&&xt<ve.length;xt++){ct.index>xt?(ui=ct,ct=null):ui=ct.sibling;var gn=Ee(ge,ct,ve[xt],Re);if(gn===null){ct===null&&(ct=ui);break}s&&ct&&gn.alternate===null&&l(ge,ct),de=O(gn,de,xt),zt===null?et=gn:zt.sibling=gn,zt=gn,ct=ui}if(xt===ve.length)return h(ge,ct),yn&&Pc(ge,xt),et;if(ct===null){for(;xt<ve.length;xt++)ct=Pe(ge,ve[xt],Re),ct!==null&&(de=O(ct,de,xt),zt===null?et=ct:zt.sibling=ct,zt=ct);return yn&&Pc(ge,xt),et}for(ct=x(ct);xt<ve.length;xt++)ui=_e(ct,ge,xt,ve[xt],Re),ui!==null&&(s&&ui.alternate!==null&&ct.delete(ui.key===null?xt:ui.key),de=O(ui,de,xt),zt===null?et=ui:zt.sibling=ui,zt=ui);return s&&ct.forEach(function(Yl){return l(ge,Yl)}),yn&&Pc(ge,xt),et}function yt(ge,de,ve,Re){if(ve==null)throw Error(r(151));for(var et=null,zt=null,ct=de,xt=de=0,ui=null,gn=ve.next();ct!==null&&!gn.done;xt++,gn=ve.next()){ct.index>xt?(ui=ct,ct=null):ui=ct.sibling;var Yl=Ee(ge,ct,gn.value,Re);if(Yl===null){ct===null&&(ct=ui);break}s&&ct&&Yl.alternate===null&&l(ge,ct),de=O(Yl,de,xt),zt===null?et=Yl:zt.sibling=Yl,zt=Yl,ct=ui}if(gn.done)return h(ge,ct),yn&&Pc(ge,xt),et;if(ct===null){for(;!gn.done;xt++,gn=ve.next())gn=Pe(ge,gn.value,Re),gn!==null&&(de=O(gn,de,xt),zt===null?et=gn:zt.sibling=gn,zt=gn);return yn&&Pc(ge,xt),et}for(ct=x(ct);!gn.done;xt++,gn=ve.next())gn=_e(ct,ge,xt,gn.value,Re),gn!==null&&(s&&gn.alternate!==null&&ct.delete(gn.key===null?xt:gn.key),de=O(gn,de,xt),zt===null?et=gn:zt.sibling=gn,zt=gn);return s&&ct.forEach(function(AL){return l(ge,AL)}),yn&&Pc(ge,xt),et}function Dn(ge,de,ve,Re){if(typeof ve=="object"&&ve!==null&&ve.type===N&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:e:{for(var et=ve.key;de!==null;){if(de.key===et){if(et=ve.type,et===N){if(de.tag===7){h(ge,de.sibling),Re=_(de,ve.props.children),Re.return=ge,ge=Re;break e}}else if(de.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===G&&TS(et)===de.type){h(ge,de.sibling),Re=_(de,ve.props),Ch(Re,ve),Re.return=ge,ge=Re;break e}h(ge,de);break}else l(ge,de);de=de.sibling}ve.type===N?(Re=Dc(ve.props.children,ge.mode,Re,ve.key),Re.return=ge,ge=Re):(Re=E0(ve.type,ve.key,ve.props,null,ge.mode,Re),Ch(Re,ve),Re.return=ge,ge=Re)}return H(ge);case T:e:{for(et=ve.key;de!==null;){if(de.key===et)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){h(ge,de.sibling),Re=_(de,ve.children||[]),Re.return=ge,ge=Re;break e}else{h(ge,de);break}else l(ge,de);de=de.sibling}Re=Tp(ve,ge.mode,Re),Re.return=ge,ge=Re}return H(ge);case G:return et=ve._init,ve=et(ve._payload),Dn(ge,de,ve,Re)}if(se(ve))return At(ge,de,ve,Re);if(K(ve)){if(et=K(ve),typeof et!="function")throw Error(r(150));return ve=et.call(ve),yt(ge,de,ve,Re)}if(typeof ve.then=="function")return Dn(ge,de,U0(ve),Re);if(ve.$$typeof===q)return Dn(ge,de,C0(ge,ve),Re);F0(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,de!==null&&de.tag===6?(h(ge,de.sibling),Re=_(de,ve),Re.return=ge,ge=Re):(h(ge,de),Re=Cp(ve,ge.mode,Re),Re.return=ge,ge=Re),H(ge)):h(ge,de)}return function(ge,de,ve,Re){try{_h=0;var et=Dn(ge,de,ve,Re);return Gu=null,et}catch(ct){if(ct===ph||ct===I0)throw ct;var zt=Pa(29,ct,null,ge.mode);return zt.lanes=Re,zt.return=ge,zt}finally{}}}var Wu=IS(!0),OS=IS(!1),ms=be(null),ro=null;function Dl(s){var l=s.alternate;je(ei,ei.current&1),je(ms,s),ro===null&&(l===null||Vu.current!==null||l.memoizedState!==null)&&(ro=s)}function RS(s){if(s.tag===22){if(je(ei,ei.current),je(ms,s),ro===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(ro=s)}}else Ml()}function Ml(){je(ei,ei.current),je(ms,ms.current)}function jo(s){Ie(ms),ro===s&&(ro=null),Ie(ei)}var ei=be(0);function V0(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Xy(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function sy(s,l,h,x){l=s.memoizedState,h=h(x,l),h=h==null?l:v({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var oy={enqueueSetState:function(s,l,h){s=s._reactInternals;var x=Ba(),_=Ol(x);_.payload=l,h!=null&&(_.callback=h),l=Rl(s,_,x),l!==null&&(Ua(l,s,x),vh(l,s,x))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var x=Ba(),_=Ol(x);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=Rl(s,_,x),l!==null&&(Ua(l,s,x),vh(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Ba(),x=Ol(h);x.tag=2,l!=null&&(x.callback=l),l=Rl(s,x,h),l!==null&&(Ua(l,s,h),vh(l,s,h))}};function NS(s,l,h,x,_,O,H){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,O,H):l.prototype&&l.prototype.isPureReactComponent?!y(h,x)||!y(_,O):!0}function DS(s,l,h,x){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==s&&oy.enqueueReplaceState(l,l.state,null)}function Vc(s,l){var h=l;if("ref"in l){h={};for(var x in l)x!=="ref"&&(h[x]=l[x])}if(s=s.defaultProps){h===l&&(h=v({},h));for(var _ in s)h[_]===void 0&&(h[_]=s[_])}return h}var z0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function MS(s){z0(s)}function PS(s){console.error(s)}function LS(s){z0(s)}function H0(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function kS(s,l,h){try{var x=s.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ly(s,l,h){return h=Ol(h),h.tag=3,h.payload={element:null},h.callback=function(){H0(s,l)},h}function jS(s){return s=Ol(s),s.tag=3,s}function BS(s,l,h,x){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var O=x.value;s.payload=function(){return _(O)},s.callback=function(){kS(l,h,x)}}var H=h.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(s.callback=function(){kS(l,h,x),typeof _!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var J=x.stack;this.componentDidCatch(x.value,{componentStack:J!==null?J:""})})}function A9(s,l,h,x,_){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=h.alternate,l!==null&&dh(l,h,_,!0),h=ms.current,h!==null){switch(h.tag){case 13:return ro===null?Dy():h.alternate===null&&Cr===0&&(Cr=3),h.flags&=-257,h.flags|=65536,h.lanes=_,x===jp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([x]):l.add(x),Py(s,x,_)),!1;case 22:return h.flags|=65536,x===jp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([x]):h.add(x)),Py(s,x,_)),!1}throw Error(r(435,h.tag))}return Py(s,x,_),Dy(),!1}if(yn)return l=ms.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,x!==Rp&&(s=Error(r(422),{cause:x}),hh(fs(s,h)))):(x!==Rp&&(l=Error(r(423),{cause:x}),hh(fs(l,h))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,x=fs(x,h),_=ly(s.stateNode,x,_),Fp(s,_),Cr!==4&&(Cr=2)),!1;var O=Error(r(520),{cause:x});if(O=fs(O,h),Mh===null?Mh=[O]:Mh.push(O),Cr!==4&&(Cr=2),l===null)return!0;x=fs(x,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=_&-_,h.lanes|=s,s=ly(h.stateNode,x,s),Fp(h,s),!1;case 1:if(l=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ul===null||!Ul.has(O))))return h.flags|=65536,_&=-_,h.lanes|=_,_=jS(_),BS(_,s,h,x),Fp(h,_),!1}h=h.return}while(h!==null);return!1}var US=Error(r(461)),li=!1;function Si(s,l,h,x){l.child=s===null?OS(l,null,h,x):Wu(l,s.child,h,x)}function FS(s,l,h,x,_){h=h.render;var O=l.ref;if("ref"in x){var H={};for(var J in x)J!=="ref"&&(H[J]=x[J])}else H=x;return Bc(l),x=Gp(s,l,h,H,O,_),J=Wp(),s!==null&&!li?(Yp(s,l,_),Bo(s,l,_)):(yn&&J&&Ip(l),l.flags|=1,Si(s,l,x,_),l.child)}function VS(s,l,h,x,_){if(s===null){var O=h.type;return typeof O=="function"&&!_p(O)&&O.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=O,zS(s,l,O,x,_)):(s=E0(h.type,null,x,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(O=s.child,!py(s,_)){var H=O.memoizedProps;if(h=h.compare,h=h!==null?h:y,h(H,x)&&s.ref===l.ref)return Bo(s,l,_)}return l.flags|=1,s=No(O,x),s.ref=l.ref,s.return=l,l.child=s}function zS(s,l,h,x,_){if(s!==null){var O=s.memoizedProps;if(y(O,x)&&s.ref===l.ref)if(li=!1,l.pendingProps=x=O,py(s,_))(s.flags&131072)!==0&&(li=!0);else return l.lanes=s.lanes,Bo(s,l,_)}return cy(s,l,h,x,_)}function HS(s,l,h){var x=l.pendingProps,_=x.children,O=s!==null?s.memoizedState:null;if(x.mode==="hidden"){if((l.flags&128)!==0){if(x=O!==null?O.baseLanes|h:h,s!==null){for(_=l.child=s.child,O=0;_!==null;)O=O|_.lanes|_.childLanes,_=_.sibling;l.childLanes=O&~x}else l.childLanes=0,l.child=null;return qS(s,l,x,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&T0(l,O!==null?O.cachePool:null),O!==null?zA(l,O):zp(),RS(l);else return l.lanes=l.childLanes=536870912,qS(s,l,O!==null?O.baseLanes|h:h,h)}else O!==null?(T0(l,O.cachePool),zA(l,O),Ml(),l.memoizedState=null):(s!==null&&T0(l,null),zp(),Ml());return Si(s,l,_,h),l.child}function qS(s,l,h,x){var _=kp();return _=_===null?null:{parent:Jr._currentValue,pool:_},l.memoizedState={baseLanes:h,cachePool:_},s!==null&&T0(l,null),zp(),RS(l),s!==null&&dh(s,l,x,!0),null}function q0(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function cy(s,l,h,x,_){return Bc(l),h=Gp(s,l,h,x,void 0,_),x=Wp(),s!==null&&!li?(Yp(s,l,_),Bo(s,l,_)):(yn&&x&&Ip(l),l.flags|=1,Si(s,l,h,_),l.child)}function GS(s,l,h,x,_,O){return Bc(l),l.updateQueue=null,h=qA(l,x,h,_),HA(s),x=Wp(),s!==null&&!li?(Yp(s,l,O),Bo(s,l,O)):(yn&&x&&Ip(l),l.flags|=1,Si(s,l,h,O),l.child)}function WS(s,l,h,x,_){if(Bc(l),l.stateNode===null){var O=ku,H=h.contextType;typeof H=="object"&&H!==null&&(O=zi(H)),O=new h(x,O),l.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=oy,l.stateNode=O,O._reactInternals=l,O=l.stateNode,O.props=x,O.state=l.memoizedState,O.refs={},Bp(l),H=h.contextType,O.context=typeof H=="object"&&H!==null?zi(H):ku,O.state=l.memoizedState,H=h.getDerivedStateFromProps,typeof H=="function"&&(sy(l,h,H,x),O.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(H=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),H!==O.state&&oy.enqueueReplaceState(O,O.state,null),bh(l,x,O,_),xh(),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(s===null){O=l.stateNode;var J=l.memoizedProps,le=Vc(h,J);O.props=le;var xe=O.context,Oe=h.contextType;H=ku,typeof Oe=="object"&&Oe!==null&&(H=zi(Oe));var Pe=h.getDerivedStateFromProps;Oe=typeof Pe=="function"||typeof O.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,Oe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(J||xe!==H)&&DS(l,O,x,H),Il=!1;var Ee=l.memoizedState;O.state=Ee,bh(l,x,O,_),xh(),xe=l.memoizedState,J||Ee!==xe||Il?(typeof Pe=="function"&&(sy(l,h,Pe,x),xe=l.memoizedState),(le=Il||NS(l,h,le,x,Ee,xe,H))?(Oe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=xe),O.props=x,O.state=xe,O.context=H,x=le):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{O=l.stateNode,Up(s,l),H=l.memoizedProps,Oe=Vc(h,H),O.props=Oe,Pe=l.pendingProps,Ee=O.context,xe=h.contextType,le=ku,typeof xe=="object"&&xe!==null&&(le=zi(xe)),J=h.getDerivedStateFromProps,(xe=typeof J=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(H!==Pe||Ee!==le)&&DS(l,O,x,le),Il=!1,Ee=l.memoizedState,O.state=Ee,bh(l,x,O,_),xh();var _e=l.memoizedState;H!==Pe||Ee!==_e||Il||s!==null&&s.dependencies!==null&&_0(s.dependencies)?(typeof J=="function"&&(sy(l,h,J,x),_e=l.memoizedState),(Oe=Il||NS(l,h,Oe,x,Ee,_e,le)||s!==null&&s.dependencies!==null&&_0(s.dependencies))?(xe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,_e,le),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,_e,le)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=_e),O.props=x,O.state=_e,O.context=le,x=Oe):(typeof O.componentDidUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),x=!1)}return O=x,q0(s,l),x=(l.flags&128)!==0,O||x?(O=l.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:O.render(),l.flags|=1,s!==null&&x?(l.child=Wu(l,s.child,null,_),l.child=Wu(l,null,h,_)):Si(s,l,h,_),l.memoizedState=O.state,s=l.child):s=Bo(s,l,_),s}function YS(s,l,h,x){return fh(),l.flags|=256,Si(s,l,h,x),l.child}var uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fy(s){return{baseLanes:s,cachePool:PA()}}function hy(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=ps),s}function $S(s,l,h){var x=l.pendingProps,_=!1,O=(l.flags&128)!==0,H;if((H=O)||(H=s!==null&&s.memoizedState===null?!1:(ei.current&2)!==0),H&&(_=!0,l.flags&=-129),H=(l.flags&32)!==0,l.flags&=-33,s===null){if(yn){if(_?Dl(l):Ml(),yn){var J=_r,le;if(le=J){e:{for(le=J,J=no;le.nodeType!==8;){if(!J){J=null;break e}if(le=Bs(le.nextSibling),le===null){J=null;break e}}J=le}J!==null?(l.memoizedState={dehydrated:J,treeContext:Mc!==null?{id:Do,overflow:Mo}:null,retryLane:536870912,hydrationErrors:null},le=Pa(18,null,null,0),le.stateNode=J,le.return=l,l.child=le,ea=l,_r=null,le=!0):le=!1}le||kc(l)}if(J=l.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return Xy(J)?l.lanes=32:l.lanes=536870912,null;jo(l)}return J=x.children,x=x.fallback,_?(Ml(),_=l.mode,J=G0({mode:"hidden",children:J},_),x=Dc(x,_,h,null),J.return=l,x.return=l,J.sibling=x,l.child=J,_=l.child,_.memoizedState=fy(h),_.childLanes=hy(s,H,h),l.memoizedState=uy,x):(Dl(l),dy(l,J))}if(le=s.memoizedState,le!==null&&(J=le.dehydrated,J!==null)){if(O)l.flags&256?(Dl(l),l.flags&=-257,l=gy(s,l,h)):l.memoizedState!==null?(Ml(),l.child=s.child,l.flags|=128,l=null):(Ml(),_=x.fallback,J=l.mode,x=G0({mode:"visible",children:x.children},J),_=Dc(_,J,h,null),_.flags|=2,x.return=l,_.return=l,x.sibling=_,l.child=x,Wu(l,s.child,null,h),x=l.child,x.memoizedState=fy(h),x.childLanes=hy(s,H,h),l.memoizedState=uy,l=_);else if(Dl(l),Xy(J)){if(H=J.nextSibling&&J.nextSibling.dataset,H)var xe=H.dgst;H=xe,x=Error(r(419)),x.stack="",x.digest=H,hh({value:x,source:null,stack:null}),l=gy(s,l,h)}else if(li||dh(s,l,h,!1),H=(h&s.childLanes)!==0,li||H){if(H=Gn,H!==null&&(x=h&-h,x=(x&42)!==0?1:ns(x),x=(x&(H.suspendedLanes|h))!==0?0:x,x!==0&&x!==le.retryLane))throw le.retryLane=x,Lu(s,x),Ua(H,s,x),US;J.data==="$?"||Dy(),l=gy(s,l,h)}else J.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=le.treeContext,_r=Bs(J.nextSibling),ea=l,yn=!0,Lc=null,no=!1,s!==null&&(ds[gs++]=Do,ds[gs++]=Mo,ds[gs++]=Mc,Do=s.id,Mo=s.overflow,Mc=l),l=dy(l,x.children),l.flags|=4096);return l}return _?(Ml(),_=x.fallback,J=l.mode,le=s.child,xe=le.sibling,x=No(le,{mode:"hidden",children:x.children}),x.subtreeFlags=le.subtreeFlags&65011712,xe!==null?_=No(xe,_):(_=Dc(_,J,h,null),_.flags|=2),_.return=l,x.return=l,x.sibling=_,l.child=x,x=_,_=l.child,J=s.child.memoizedState,J===null?J=fy(h):(le=J.cachePool,le!==null?(xe=Jr._currentValue,le=le.parent!==xe?{parent:xe,pool:xe}:le):le=PA(),J={baseLanes:J.baseLanes|h,cachePool:le}),_.memoizedState=J,_.childLanes=hy(s,H,h),l.memoizedState=uy,x):(Dl(l),h=s.child,s=h.sibling,h=No(h,{mode:"visible",children:x.children}),h.return=l,h.sibling=null,s!==null&&(H=l.deletions,H===null?(l.deletions=[s],l.flags|=16):H.push(s)),l.child=h,l.memoizedState=null,h)}function dy(s,l){return l=G0({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function G0(s,l){return s=Pa(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function gy(s,l,h){return Wu(l,s.child,null,h),s=dy(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function XS(s,l,h){s.lanes|=l;var x=s.alternate;x!==null&&(x.lanes|=l),Dp(s.return,l,h)}function my(s,l,h,x,_){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:_}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=h,O.tailMode=_)}function KS(s,l,h){var x=l.pendingProps,_=x.revealOrder,O=x.tail;if(Si(s,l,x.children,h),x=ei.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&XS(s,h,l);else if(s.tag===19)XS(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}switch(je(ei,x),_){case"forwards":for(h=l.child,_=null;h!==null;)s=h.alternate,s!==null&&V0(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),my(l,!1,_,h,O);break;case"backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&V0(s)===null){l.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}my(l,!0,h,null,O);break;case"together":my(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Bo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),Bl|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(dh(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=No(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=No(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function py(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&_0(s)))}function S9(s,l,h){switch(l.tag){case 3:vt(l,l.stateNode.containerInfo),Tl(l,Jr,s.memoizedState.cache),fh();break;case 27:case 5:ht(l);break;case 4:vt(l,l.stateNode.containerInfo);break;case 10:Tl(l,l.type,l.memoizedProps.value);break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(Dl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?$S(s,l,h):(Dl(l),s=Bo(s,l,h),s!==null?s.sibling:null);Dl(l);break;case 19:var _=(s.flags&128)!==0;if(x=(h&l.childLanes)!==0,x||(dh(s,l,h,!1),x=(h&l.childLanes)!==0),_){if(x)return KS(s,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),je(ei,ei.current),x)break;return null;case 22:case 23:return l.lanes=0,HS(s,l,h);case 24:Tl(l,Jr,s.memoizedState.cache)}return Bo(s,l,h)}function QS(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)li=!0;else{if(!py(s,h)&&(l.flags&128)===0)return li=!1,S9(s,l,h);li=(s.flags&131072)!==0}else li=!1,yn&&(l.flags&1048576)!==0&&TA(l,S0,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var x=l.elementType,_=x._init;if(x=_(x._payload),l.type=x,typeof x=="function")_p(x)?(s=Vc(x,s),l.tag=1,l=WS(null,l,x,s,h)):(l.tag=0,l=cy(null,l,x,s,h));else{if(x!=null){if(_=x.$$typeof,_===te){l.tag=11,l=FS(null,l,x,s,h);break e}else if(_===j){l.tag=14,l=VS(null,l,x,s,h);break e}}throw l=ue(x)||x,Error(r(306,l,""))}}return l;case 0:return cy(s,l,l.type,l.pendingProps,h);case 1:return x=l.type,_=Vc(x,l.pendingProps),WS(s,l,x,_,h);case 3:e:{if(vt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));x=l.pendingProps;var O=l.memoizedState;_=O.element,Up(s,l),bh(l,x,null,h);var H=l.memoizedState;if(x=H.cache,Tl(l,Jr,x),x!==O.cache&&Mp(l,[Jr],h,!0),xh(),x=H.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:H.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=YS(s,l,x,h);break e}else if(x!==_){_=fs(Error(r(424)),l),hh(_),l=YS(s,l,x,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_r=Bs(s.firstChild),ea=l,yn=!0,Lc=null,no=!0,h=OS(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fh(),x===_){l=Bo(s,l,h);break e}Si(s,l,x,h)}l=l.child}return l;case 26:return q0(s,l),s===null?(h=tC(l.type,null,l.pendingProps,null))?l.memoizedState=h:yn||(h=l.type,s=l.pendingProps,x=a1(Ue.current).createElement(h),x[Nr]=l,x[On]=s,Ci(x,h,s),fn(x),l.stateNode=x):l.memoizedState=tC(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return ht(l),s===null&&yn&&(x=l.stateNode=Z_(l.type,l.pendingProps,Ue.current),ea=l,no=!0,_=_r,zl(l.type)?(Ky=_,_r=Bs(x.firstChild)):_r=_),Si(s,l,l.pendingProps.children,h),q0(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&yn&&((_=x=_r)&&(x=Z9(x,l.type,l.pendingProps,no),x!==null?(l.stateNode=x,ea=l,_r=Bs(x.firstChild),no=!1,_=!0):_=!1),_||kc(l)),ht(l),_=l.type,O=l.pendingProps,H=s!==null?s.memoizedProps:null,x=O.children,Wy(_,O)?x=null:H!==null&&Wy(_,H)&&(l.flags|=32),l.memoizedState!==null&&(_=Gp(s,l,p9,null,null,h),zh._currentValue=_),q0(s,l),Si(s,l,x,h),l.child;case 6:return s===null&&yn&&((s=h=_r)&&(h=J9(h,l.pendingProps,no),h!==null?(l.stateNode=h,ea=l,_r=null,s=!0):s=!1),s||kc(l)),null;case 13:return $S(s,l,h);case 4:return vt(l,l.stateNode.containerInfo),x=l.pendingProps,s===null?l.child=Wu(l,null,x,h):Si(s,l,x,h),l.child;case 11:return FS(s,l,l.type,l.pendingProps,h);case 7:return Si(s,l,l.pendingProps,h),l.child;case 8:return Si(s,l,l.pendingProps.children,h),l.child;case 12:return Si(s,l,l.pendingProps.children,h),l.child;case 10:return x=l.pendingProps,Tl(l,l.type,x.value),Si(s,l,x.children,h),l.child;case 9:return _=l.type._context,x=l.pendingProps.children,Bc(l),_=zi(_),x=x(_),l.flags|=1,Si(s,l,x,h),l.child;case 14:return VS(s,l,l.type,l.pendingProps,h);case 15:return zS(s,l,l.type,l.pendingProps,h);case 19:return KS(s,l,h);case 31:return x=l.pendingProps,h=l.mode,x={mode:x.mode,children:x.children},s===null?(h=G0(x,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=No(s.child,x),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return HS(s,l,h);case 24:return Bc(l),x=zi(Jr),s===null?(_=kp(),_===null&&(_=Gn,O=Pp(),_.pooledCache=O,O.refCount++,O!==null&&(_.pooledCacheLanes|=h),_=O),l.memoizedState={parent:x,cache:_},Bp(l),Tl(l,Jr,_)):((s.lanes&h)!==0&&(Up(s,l),bh(l,null,null,h),xh()),_=s.memoizedState,O=l.memoizedState,_.parent!==x?(_={parent:x,cache:x},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Tl(l,Jr,x)):(x=O.cache,Tl(l,Jr,x),x!==_.cache&&Mp(l,[Jr],h,!0))),Si(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Uo(s){s.flags|=4}function ZS(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sC(l)){if(l=ms.current,l!==null&&((an&4194048)===an?ro!==null:(an&62914560)!==an&&(an&536870912)===0||l!==ro))throw yh=jp,LA;s.flags|=8192}}function W0(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?yl():536870912,s.lanes|=l,Ku|=l)}function Th(s,l){if(!yn)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function xr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,x=0;if(l)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,x|=_.subtreeFlags&65011712,x|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,x|=_.subtreeFlags,x|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=x,s.childLanes=h,l}function _9(s,l,h){var x=l.pendingProps;switch(Op(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(l),null;case 1:return xr(l),null;case 3:return h=l.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),Lo(Jr),De(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(uh(l)?Uo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,RA())),xr(l),null;case 26:return h=l.memoizedState,s===null?(Uo(l),h!==null?(xr(l),ZS(l,h)):(xr(l),l.flags&=-16777217)):h?h!==s.memoizedState?(Uo(l),xr(l),ZS(l,h)):(xr(l),l.flags&=-16777217):(s.memoizedProps!==x&&Uo(l),xr(l),l.flags&=-16777217),null;case 27:it(l),h=Ue.current;var _=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Uo(l);else{if(!x){if(l.stateNode===null)throw Error(r(166));return xr(l),null}s=Ye.current,uh(l)?IA(l):(s=Z_(_,x,h),l.stateNode=s,Uo(l))}return xr(l),null;case 5:if(it(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Uo(l);else{if(!x){if(l.stateNode===null)throw Error(r(166));return xr(l),null}if(s=Ye.current,uh(l))IA(l);else{switch(_=a1(Ue.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof x.is=="string"?_.createElement("select",{is:x.is}):_.createElement("select"),x.multiple?s.multiple=!0:x.size&&(s.size=x.size);break;default:s=typeof x.is=="string"?_.createElement(h,{is:x.is}):_.createElement(h)}}s[Nr]=l,s[On]=x;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=s;e:switch(Ci(s,h,x),h){case"button":case"input":case"select":case"textarea":s=!!x.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Uo(l)}}return xr(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==x&&Uo(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ue.current,uh(l)){if(s=l.stateNode,h=l.memoizedProps,x=null,_=ea,_!==null)switch(_.tag){case 27:case 5:x=_.memoizedProps}s[Nr]=l,s=!!(s.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||G_(s.nodeValue,h)),s||kc(l)}else s=a1(s).createTextNode(x),s[Nr]=l,l.stateNode=s}return xr(l),null;case 13:if(x=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=uh(l),x!==null&&x.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Nr]=l}else fh(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;xr(l),_=!1}else _=RA(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(jo(l),l):(jo(l),null)}if(jo(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=x!==null,s=s!==null&&s.memoizedState!==null,h){x=l.child,_=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(_=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==_&&(x.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),W0(l,l.updateQueue),xr(l),null;case 4:return De(),s===null&&Vy(l.stateNode.containerInfo),xr(l),null;case 10:return Lo(l.type),xr(l),null;case 19:if(Ie(ei),_=l.memoizedState,_===null)return xr(l),null;if(x=(l.flags&128)!==0,O=_.rendering,O===null)if(x)Th(_,!1);else{if(Cr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(O=V0(s),O!==null){for(l.flags|=128,Th(_,!1),s=O.updateQueue,l.updateQueue=s,W0(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)CA(h,s),h=h.sibling;return je(ei,ei.current&1|2),l.child}s=s.sibling}_.tail!==null&&jt()>X0&&(l.flags|=128,x=!0,Th(_,!1),l.lanes=4194304)}else{if(!x)if(s=V0(O),s!==null){if(l.flags|=128,x=!0,s=s.updateQueue,l.updateQueue=s,W0(l,s),Th(_,!0),_.tail===null&&_.tailMode==="hidden"&&!O.alternate&&!yn)return xr(l),null}else 2*jt()-_.renderingStartTime>X0&&h!==536870912&&(l.flags|=128,x=!0,Th(_,!1),l.lanes=4194304);_.isBackwards?(O.sibling=l.child,l.child=O):(s=_.last,s!==null?s.sibling=O:l.child=O,_.last=O)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=jt(),l.sibling=null,s=ei.current,je(ei,x?s&1|2:s&1),l):(xr(l),null);case 22:case 23:return jo(l),Hp(),x=l.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(h&536870912)!==0&&(l.flags&128)===0&&(xr(l),l.subtreeFlags&6&&(l.flags|=8192)):xr(l),h=l.updateQueue,h!==null&&W0(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==h&&(l.flags|=2048),s!==null&&Ie(Uc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Lo(Jr),xr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function C9(s,l){switch(Op(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Lo(Jr),De(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return it(l),null;case 13:if(jo(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));fh()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Ie(ei),null;case 4:return De(),null;case 10:return Lo(l.type),null;case 22:case 23:return jo(l),Hp(),s!==null&&Ie(Uc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Lo(Jr),null;case 25:return null;default:return null}}function JS(s,l){switch(Op(l),l.tag){case 3:Lo(Jr),De();break;case 26:case 27:case 5:it(l);break;case 4:De();break;case 13:jo(l);break;case 19:Ie(ei);break;case 10:Lo(l.type);break;case 22:case 23:jo(l),Hp(),s!==null&&Ie(Uc);break;case 24:Lo(Jr)}}function Ih(s,l){try{var h=l.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var _=x.next;h=_;do{if((h.tag&s)===s){x=void 0;var O=h.create,H=h.inst;x=O(),H.destroy=x}h=h.next}while(h!==_)}}catch(J){Fn(l,l.return,J)}}function Pl(s,l,h){try{var x=l.updateQueue,_=x!==null?x.lastEffect:null;if(_!==null){var O=_.next;x=O;do{if((x.tag&s)===s){var H=x.inst,J=H.destroy;if(J!==void 0){H.destroy=void 0,_=l;var le=h,xe=J;try{xe()}catch(Oe){Fn(_,le,Oe)}}}x=x.next}while(x!==O)}}catch(Oe){Fn(l,l.return,Oe)}}function e_(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{VA(l,h)}catch(x){Fn(s,s.return,x)}}}function t_(s,l,h){h.props=Vc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(x){Fn(s,l,x)}}function Oh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof h=="function"?s.refCleanup=h(x):h.current=x}}catch(_){Fn(s,l,_)}}function io(s,l){var h=s.ref,x=s.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(_){Fn(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Fn(s,l,_)}else h.current=null}function n_(s){var l=s.type,h=s.memoizedProps,x=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(_){Fn(s,s.return,_)}}function yy(s,l,h){try{var x=s.stateNode;Y9(x,s.type,h,l),x[On]=l}catch(_){Fn(s,s.return,_)}}function r_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zl(s.type)||s.tag===4}function vy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xy(s,l,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=i1));else if(x!==4&&(x===27&&zl(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(xy(s,l,h),s=s.sibling;s!==null;)xy(s,l,h),s=s.sibling}function Y0(s,l,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(x!==4&&(x===27&&zl(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Y0(s,l,h),s=s.sibling;s!==null;)Y0(s,l,h),s=s.sibling}function i_(s){var l=s.stateNode,h=s.memoizedProps;try{for(var x=s.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Ci(l,x,h),l[Nr]=s,l[On]=h}catch(O){Fn(s,s.return,O)}}var Fo=!1,kr=!1,by=!1,a_=typeof WeakSet=="function"?WeakSet:Set,ci=null;function T9(s,l){if(s=s.containerInfo,qy=f1,s=D(s),k(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var _=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var H=0,J=-1,le=-1,xe=0,Oe=0,Pe=s,Ee=null;t:for(;;){for(var _e;Pe!==h||_!==0&&Pe.nodeType!==3||(J=H+_),Pe!==O||x!==0&&Pe.nodeType!==3||(le=H+x),Pe.nodeType===3&&(H+=Pe.nodeValue.length),(_e=Pe.firstChild)!==null;)Ee=Pe,Pe=_e;for(;;){if(Pe===s)break t;if(Ee===h&&++xe===_&&(J=H),Ee===O&&++Oe===x&&(le=H),(_e=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=_e}h=J===-1||le===-1?null:{start:J,end:le}}else h=null}h=h||{start:0,end:0}}else h=null;for(Gy={focusedElem:s,selectionRange:h},f1=!1,ci=l;ci!==null;)if(l=ci,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,ci=s;else for(;ci!==null;){switch(l=ci,O=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,h=l,_=O.memoizedProps,O=O.memoizedState,x=h.stateNode;try{var At=Vc(h.type,_,h.elementType===h.type);s=x.getSnapshotBeforeUpdate(At,O),x.__reactInternalSnapshotBeforeUpdate=s}catch(yt){Fn(h,h.return,yt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)$y(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$y(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,ci=s;break}ci=l.return}}function s_(s,l,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:Ll(s,h),x&4&&Ih(5,h);break;case 1:if(Ll(s,h),x&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(H){Fn(h,h.return,H)}else{var _=Vc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(H){Fn(h,h.return,H)}}x&64&&e_(h),x&512&&Oh(h,h.return);break;case 3:if(Ll(s,h),x&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{VA(s,l)}catch(H){Fn(h,h.return,H)}}break;case 27:l===null&&x&4&&i_(h);case 26:case 5:Ll(s,h),l===null&&x&4&&n_(h),x&512&&Oh(h,h.return);break;case 12:Ll(s,h);break;case 13:Ll(s,h),x&4&&c_(s,h),x&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=k9.bind(null,h),eL(s,h))));break;case 22:if(x=h.memoizedState!==null||Fo,!x){l=l!==null&&l.memoizedState!==null||kr,_=Fo;var O=kr;Fo=x,(kr=l)&&!O?kl(s,h,(h.subtreeFlags&8772)!==0):Ll(s,h),Fo=_,kr=O}break;case 30:break;default:Ll(s,h)}}function o_(s){var l=s.alternate;l!==null&&(s.alternate=null,o_(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&rs(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ur=null,pa=!1;function Vo(s,l,h){for(h=h.child;h!==null;)l_(s,l,h),h=h.sibling}function l_(s,l,h){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Yt,h)}catch{}switch(h.tag){case 26:kr||io(h,l),Vo(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:kr||io(h,l);var x=ur,_=pa;zl(h.type)&&(ur=h.stateNode,pa=!1),Vo(s,l,h),Bh(h.stateNode),ur=x,pa=_;break;case 5:kr||io(h,l);case 6:if(x=ur,_=pa,ur=null,Vo(s,l,h),ur=x,pa=_,ur!==null)if(pa)try{(ur.nodeType===9?ur.body:ur.nodeName==="HTML"?ur.ownerDocument.body:ur).removeChild(h.stateNode)}catch(O){Fn(h,l,O)}else try{ur.removeChild(h.stateNode)}catch(O){Fn(h,l,O)}break;case 18:ur!==null&&(pa?(s=ur,K_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Wh(s)):K_(ur,h.stateNode));break;case 4:x=ur,_=pa,ur=h.stateNode.containerInfo,pa=!0,Vo(s,l,h),ur=x,pa=_;break;case 0:case 11:case 14:case 15:kr||Pl(2,h,l),kr||Pl(4,h,l),Vo(s,l,h);break;case 1:kr||(io(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"&&t_(h,l,x)),Vo(s,l,h);break;case 21:Vo(s,l,h);break;case 22:kr=(x=kr)||h.memoizedState!==null,Vo(s,l,h),kr=x;break;default:Vo(s,l,h)}}function c_(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wh(s)}catch(h){Fn(l,l.return,h)}}function I9(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new a_),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new a_),l;default:throw Error(r(435,s.tag))}}function wy(s,l){var h=I9(s);l.forEach(function(x){var _=j9.bind(null,s,x);h.has(x)||(h.add(x),x.then(_,_))})}function La(s,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var _=h[x],O=s,H=l,J=H;e:for(;J!==null;){switch(J.tag){case 27:if(zl(J.type)){ur=J.stateNode,pa=!1;break e}break;case 5:ur=J.stateNode,pa=!1;break e;case 3:case 4:ur=J.stateNode.containerInfo,pa=!0;break e}J=J.return}if(ur===null)throw Error(r(160));l_(O,H,_),ur=null,pa=!1,O=_.alternate,O!==null&&(O.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)u_(l,s),l=l.sibling}var js=null;function u_(s,l){var h=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:La(l,s),ka(s),x&4&&(Pl(3,s,s.return),Ih(3,s),Pl(5,s,s.return));break;case 1:La(l,s),ka(s),x&512&&(kr||h===null||io(h,h.return)),x&64&&Fo&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var _=js;if(La(l,s),ka(s),x&512&&(kr||h===null||io(h,h.return)),x&4){var O=h!==null?h.memoizedState:null;if(x=s.memoizedState,h===null)if(x===null)if(s.stateNode===null){e:{x=s.type,h=s.memoizedProps,_=_.ownerDocument||_;t:switch(x){case"title":O=_.getElementsByTagName("title")[0],(!O||O[oa]||O[Nr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=_.createElement(x),_.head.insertBefore(O,_.querySelector("head > title"))),Ci(O,x,h),O[Nr]=s,fn(O),x=O;break e;case"link":var H=iC("link","href",_).get(x+(h.href||""));if(H){for(var J=0;J<H.length;J++)if(O=H[J],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){H.splice(J,1);break t}}O=_.createElement(x),Ci(O,x,h),_.head.appendChild(O);break;case"meta":if(H=iC("meta","content",_).get(x+(h.content||""))){for(J=0;J<H.length;J++)if(O=H[J],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){H.splice(J,1);break t}}O=_.createElement(x),Ci(O,x,h),_.head.appendChild(O);break;default:throw Error(r(468,x))}O[Nr]=s,fn(O),x=O}s.stateNode=x}else aC(_,s.type,s.stateNode);else s.stateNode=rC(_,x,s.memoizedProps);else O!==x?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,x===null?aC(_,s.type,s.stateNode):rC(_,x,s.memoizedProps)):x===null&&s.stateNode!==null&&yy(s,s.memoizedProps,h.memoizedProps)}break;case 27:La(l,s),ka(s),x&512&&(kr||h===null||io(h,h.return)),h!==null&&x&4&&yy(s,s.memoizedProps,h.memoizedProps);break;case 5:if(La(l,s),ka(s),x&512&&(kr||h===null||io(h,h.return)),s.flags&32){_=s.stateNode;try{Zn(_,"")}catch(_e){Fn(s,s.return,_e)}}x&4&&s.stateNode!=null&&(_=s.memoizedProps,yy(s,_,h!==null?h.memoizedProps:_)),x&1024&&(by=!0);break;case 6:if(La(l,s),ka(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,h=s.stateNode;try{h.nodeValue=x}catch(_e){Fn(s,s.return,_e)}}break;case 3:if(l1=null,_=js,js=s1(l.containerInfo),La(l,s),js=_,ka(s),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Wh(l.containerInfo)}catch(_e){Fn(s,s.return,_e)}by&&(by=!1,f_(s));break;case 4:x=js,js=s1(s.stateNode.containerInfo),La(l,s),ka(s),js=x;break;case 12:La(l,s),ka(s);break;case 13:La(l,s),ka(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ty=jt()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,wy(s,x)));break;case 22:_=s.memoizedState!==null;var le=h!==null&&h.memoizedState!==null,xe=Fo,Oe=kr;if(Fo=xe||_,kr=Oe||le,La(l,s),kr=Oe,Fo=xe,ka(s),x&8192)e:for(l=s.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(h===null||le||Fo||kr||zc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){le=h=l;try{if(O=le.stateNode,_)H=O.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{J=le.stateNode;var Pe=le.memoizedProps.style,Ee=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;J.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(_e){Fn(le,le.return,_e)}}}else if(l.tag===6){if(h===null){le=l;try{le.stateNode.nodeValue=_?"":le.memoizedProps}catch(_e){Fn(le,le.return,_e)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=s.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,wy(s,h))));break;case 19:La(l,s),ka(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,wy(s,x)));break;case 30:break;case 21:break;default:La(l,s),ka(s)}}function ka(s){var l=s.flags;if(l&2){try{for(var h,x=s.return;x!==null;){if(r_(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,O=vy(s);Y0(s,O,_);break;case 5:var H=h.stateNode;h.flags&32&&(Zn(H,""),h.flags&=-33);var J=vy(s);Y0(s,J,H);break;case 3:case 4:var le=h.stateNode.containerInfo,xe=vy(s);xy(s,xe,le);break;default:throw Error(r(161))}}catch(Oe){Fn(s,s.return,Oe)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function f_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;f_(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ll(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)s_(s,l.alternate,l),l=l.sibling}function zc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Pl(4,l,l.return),zc(l);break;case 1:io(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&t_(l,l.return,h),zc(l);break;case 27:Bh(l.stateNode);case 26:case 5:io(l,l.return),zc(l);break;case 22:l.memoizedState===null&&zc(l);break;case 30:zc(l);break;default:zc(l)}s=s.sibling}}function kl(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,_=s,O=l,H=O.flags;switch(O.tag){case 0:case 11:case 15:kl(_,O,h),Ih(4,O);break;case 1:if(kl(_,O,h),x=O,_=x.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(xe){Fn(x,x.return,xe)}if(x=O,_=x.updateQueue,_!==null){var J=x.stateNode;try{var le=_.shared.hiddenCallbacks;if(le!==null)for(_.shared.hiddenCallbacks=null,_=0;_<le.length;_++)FA(le[_],J)}catch(xe){Fn(x,x.return,xe)}}h&&H&64&&e_(O),Oh(O,O.return);break;case 27:i_(O);case 26:case 5:kl(_,O,h),h&&x===null&&H&4&&n_(O),Oh(O,O.return);break;case 12:kl(_,O,h);break;case 13:kl(_,O,h),h&&H&4&&c_(_,O);break;case 22:O.memoizedState===null&&kl(_,O,h),Oh(O,O.return);break;case 30:break;default:kl(_,O,h)}l=l.sibling}}function Ey(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&gh(h))}function Ay(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&gh(s))}function ao(s,l,h,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)h_(s,l,h,x),l=l.sibling}function h_(s,l,h,x){var _=l.flags;switch(l.tag){case 0:case 11:case 15:ao(s,l,h,x),_&2048&&Ih(9,l);break;case 1:ao(s,l,h,x);break;case 3:ao(s,l,h,x),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&gh(s)));break;case 12:if(_&2048){ao(s,l,h,x),s=l.stateNode;try{var O=l.memoizedProps,H=O.id,J=O.onPostCommit;typeof J=="function"&&J(H,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(le){Fn(l,l.return,le)}}else ao(s,l,h,x);break;case 13:ao(s,l,h,x);break;case 23:break;case 22:O=l.stateNode,H=l.alternate,l.memoizedState!==null?O._visibility&2?ao(s,l,h,x):Rh(s,l):O._visibility&2?ao(s,l,h,x):(O._visibility|=2,Yu(s,l,h,x,(l.subtreeFlags&10256)!==0)),_&2048&&Ey(H,l);break;case 24:ao(s,l,h,x),_&2048&&Ay(l.alternate,l);break;default:ao(s,l,h,x)}}function Yu(s,l,h,x,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var O=s,H=l,J=h,le=x,xe=H.flags;switch(H.tag){case 0:case 11:case 15:Yu(O,H,J,le,_),Ih(8,H);break;case 23:break;case 22:var Oe=H.stateNode;H.memoizedState!==null?Oe._visibility&2?Yu(O,H,J,le,_):Rh(O,H):(Oe._visibility|=2,Yu(O,H,J,le,_)),_&&xe&2048&&Ey(H.alternate,H);break;case 24:Yu(O,H,J,le,_),_&&xe&2048&&Ay(H.alternate,H);break;default:Yu(O,H,J,le,_)}l=l.sibling}}function Rh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,x=l,_=x.flags;switch(x.tag){case 22:Rh(h,x),_&2048&&Ey(x.alternate,x);break;case 24:Rh(h,x),_&2048&&Ay(x.alternate,x);break;default:Rh(h,x)}l=l.sibling}}var Nh=8192;function $u(s){if(s.subtreeFlags&Nh)for(s=s.child;s!==null;)d_(s),s=s.sibling}function d_(s){switch(s.tag){case 26:$u(s),s.flags&Nh&&s.memoizedState!==null&&dL(js,s.memoizedState,s.memoizedProps);break;case 5:$u(s);break;case 3:case 4:var l=js;js=s1(s.stateNode.containerInfo),$u(s),js=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Nh,Nh=16777216,$u(s),Nh=l):$u(s));break;default:$u(s)}}function g_(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Dh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];ci=x,p_(x,s)}g_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m_(s),s=s.sibling}function m_(s){switch(s.tag){case 0:case 11:case 15:Dh(s),s.flags&2048&&Pl(9,s,s.return);break;case 3:Dh(s);break;case 12:Dh(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,$0(s)):Dh(s);break;default:Dh(s)}}function $0(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];ci=x,p_(x,s)}g_(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Pl(8,l,l.return),$0(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,$0(l));break;default:$0(l)}s=s.sibling}}function p_(s,l){for(;ci!==null;){var h=ci;switch(h.tag){case 0:case 11:case 15:Pl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:gh(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,ci=x;else e:for(h=s;ci!==null;){x=ci;var _=x.sibling,O=x.return;if(o_(x),x===h){ci=null;break e}if(_!==null){_.return=O,ci=_;break e}ci=O}}}var O9={getCacheForType:function(s){var l=zi(Jr),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},R9=typeof WeakMap=="function"?WeakMap:Map,_n=0,Gn=null,Ht=null,an=0,Cn=0,ja=null,jl=!1,Xu=!1,Sy=!1,zo=0,Cr=0,Bl=0,Hc=0,_y=0,ps=0,Ku=0,Mh=null,ya=null,Cy=!1,Ty=0,X0=1/0,K0=null,Ul=null,_i=0,Fl=null,Qu=null,Zu=0,Iy=0,Oy=null,y_=null,Ph=0,Ry=null;function Ba(){if((_n&2)!==0&&an!==0)return an&-an;if(oe.T!==null){var s=Uu;return s!==0?s:jy()}return Qi()}function v_(){ps===0&&(ps=(an&536870912)===0||yn?Ao():536870912);var s=ms.current;return s!==null&&(s.flags|=32),ps}function Ua(s,l,h){(s===Gn&&(Cn===2||Cn===9)||s.cancelPendingCommit!==null)&&(Ju(s,0),Vl(s,an,ps,!1)),vi(s,h),((_n&2)===0||s!==Gn)&&(s===Gn&&((_n&2)===0&&(Hc|=h),Cr===4&&Vl(s,an,ps,!1)),so(s))}function x_(s,l,h){if((_n&6)!==0)throw Error(r(327));var x=!h&&(l&124)===0&&(l&s.expiredLanes)===0||un(s,l),_=x?M9(s,l):My(s,l,!0),O=x;do{if(_===0){Xu&&!x&&Vl(s,l,0,!1);break}else{if(h=s.current.alternate,O&&!N9(h)){_=My(s,l,!1),O=!1;continue}if(_===2){if(O=l,s.errorRecoveryDisabledLanes&O)var H=0;else H=s.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){l=H;e:{var J=s;_=Mh;var le=J.current.memoizedState.isDehydrated;if(le&&(Ju(J,H).flags|=256),H=My(J,H,!1),H!==2){if(Sy&&!le){J.errorRecoveryDisabledLanes|=O,Hc|=O,_=4;break e}O=ya,ya=_,O!==null&&(ya===null?ya=O:ya.push.apply(ya,O))}_=H}if(O=!1,_!==2)continue}}if(_===1){Ju(s,0),Vl(s,l,0,!0);break}e:{switch(x=s,O=_,O){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Vl(x,l,ps,!jl);break e;case 2:ya=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=Ty+300-jt(),10<_)){if(Vl(x,l,ps,!jl),Ft(x,0,!0)!==0)break e;x.timeoutHandle=$_(b_.bind(null,x,h,ya,K0,Cy,l,ps,Hc,Ku,jl,O,2,-0,0),_);break e}b_(x,h,ya,K0,Cy,l,ps,Hc,Ku,jl,O,0,-0,0)}}break}while(!0);so(s)}function b_(s,l,h,x,_,O,H,J,le,xe,Oe,Pe,Ee,_e){if(s.timeoutHandle=-1,Pe=l.subtreeFlags,(Pe&8192||(Pe&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:hL},d_(l),Pe=gL(),Pe!==null)){s.cancelPendingCommit=Pe(T_.bind(null,s,l,O,h,x,_,H,J,le,Oe,1,Ee,_e)),Vl(s,O,H,!xe);return}T_(s,l,O,h,x,_,H,J,le)}function N9(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var _=h[x],O=_.getSnapshot;_=_.value;try{if(!p(O(),_))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Vl(s,l,h,x){l&=~_y,l&=~Hc,s.suspendedLanes|=l,s.pingedLanes&=~l,x&&(s.warmLanes|=l),x=s.expirationTimes;for(var _=l;0<_;){var O=31-rn(_),H=1<<O;x[O]=-1,_&=~H}h!==0&&_a(s,h,l)}function Q0(){return(_n&6)===0?(Lh(0),!1):!0}function Ny(){if(Ht!==null){if(Cn===0)var s=Ht.return;else s=Ht,Po=jc=null,$p(s),Gu=null,_h=0,s=Ht;for(;s!==null;)JS(s.alternate,s),s=s.return;Ht=null}}function Ju(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,X9(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Ny(),Gn=s,Ht=h=No(s.current,null),an=l,Cn=0,ja=null,jl=!1,Xu=un(s,l),Sy=!1,Ku=ps=_y=Hc=Bl=Cr=0,ya=Mh=null,Cy=!1,(l&8)!==0&&(l|=l&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=l;0<x;){var _=31-rn(x),O=1<<_;l|=s[_],x&=~O}return zo=l,x0(),h}function w_(s,l){Ut=null,oe.H=B0,l===ph||l===I0?(l=BA(),Cn=3):l===LA?(l=BA(),Cn=4):Cn=l===US?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ja=l,Ht===null&&(Cr=1,H0(s,fs(l,s.current)))}function E_(){var s=oe.H;return oe.H=B0,s===null?B0:s}function A_(){var s=oe.A;return oe.A=O9,s}function Dy(){Cr=4,jl||(an&4194048)!==an&&ms.current!==null||(Xu=!0),(Bl&134217727)===0&&(Hc&134217727)===0||Gn===null||Vl(Gn,an,ps,!1)}function My(s,l,h){var x=_n;_n|=2;var _=E_(),O=A_();(Gn!==s||an!==l)&&(K0=null,Ju(s,l)),l=!1;var H=Cr;e:do try{if(Cn!==0&&Ht!==null){var J=Ht,le=ja;switch(Cn){case 8:Ny(),H=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(l=!0);var xe=Cn;if(Cn=0,ja=null,ef(s,J,le,xe),h&&Xu){H=0;break e}break;default:xe=Cn,Cn=0,ja=null,ef(s,J,le,xe)}}D9(),H=Cr;break}catch(Oe){w_(s,Oe)}while(!0);return l&&s.shellSuspendCounter++,Po=jc=null,_n=x,oe.H=_,oe.A=O,Ht===null&&(Gn=null,an=0,x0()),H}function D9(){for(;Ht!==null;)S_(Ht)}function M9(s,l){var h=_n;_n|=2;var x=E_(),_=A_();Gn!==s||an!==l?(K0=null,X0=jt()+500,Ju(s,l)):Xu=un(s,l);e:do try{if(Cn!==0&&Ht!==null){l=Ht;var O=ja;t:switch(Cn){case 1:Cn=0,ja=null,ef(s,l,O,1);break;case 2:case 9:if(kA(O)){Cn=0,ja=null,__(l);break}l=function(){Cn!==2&&Cn!==9||Gn!==s||(Cn=7),so(s)},O.then(l,l);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:kA(O)?(Cn=0,ja=null,__(l)):(Cn=0,ja=null,ef(s,l,O,7));break;case 5:var H=null;switch(Ht.tag){case 26:H=Ht.memoizedState;case 5:case 27:var J=Ht;if(!H||sC(H)){Cn=0,ja=null;var le=J.sibling;if(le!==null)Ht=le;else{var xe=J.return;xe!==null?(Ht=xe,Z0(xe)):Ht=null}break t}}Cn=0,ja=null,ef(s,l,O,5);break;case 6:Cn=0,ja=null,ef(s,l,O,6);break;case 8:Ny(),Cr=6;break e;default:throw Error(r(462))}}P9();break}catch(Oe){w_(s,Oe)}while(!0);return Po=jc=null,oe.H=x,oe.A=_,_n=h,Ht!==null?0:(Gn=null,an=0,x0(),Cr)}function P9(){for(;Ht!==null&&!tn();)S_(Ht)}function S_(s){var l=QS(s.alternate,s,zo);s.memoizedProps=s.pendingProps,l===null?Z0(s):Ht=l}function __(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=GS(h,l,l.pendingProps,l.type,void 0,an);break;case 11:l=GS(h,l,l.pendingProps,l.type.render,l.ref,an);break;case 5:$p(l);default:JS(h,l),l=Ht=CA(l,zo),l=QS(h,l,zo)}s.memoizedProps=s.pendingProps,l===null?Z0(s):Ht=l}function ef(s,l,h,x){Po=jc=null,$p(l),Gu=null,_h=0;var _=l.return;try{if(A9(s,_,l,h,an)){Cr=1,H0(s,fs(h,s.current)),Ht=null;return}}catch(O){if(_!==null)throw Ht=_,O;Cr=1,H0(s,fs(h,s.current)),Ht=null;return}l.flags&32768?(yn||x===1?s=!0:Xu||(an&536870912)!==0?s=!1:(jl=s=!0,(x===2||x===9||x===3||x===6)&&(x=ms.current,x!==null&&x.tag===13&&(x.flags|=16384))),C_(l,s)):Z0(l)}function Z0(s){var l=s;do{if((l.flags&32768)!==0){C_(l,jl);return}s=l.return;var h=_9(l.alternate,l,zo);if(h!==null){Ht=h;return}if(l=l.sibling,l!==null){Ht=l;return}Ht=l=s}while(l!==null);Cr===0&&(Cr=5)}function C_(s,l){do{var h=C9(s.alternate,s);if(h!==null){h.flags&=32767,Ht=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){Ht=s;return}Ht=s=h}while(s!==null);Cr=6,Ht=null}function T_(s,l,h,x,_,O,H,J,le){s.cancelPendingCommit=null;do J0();while(_i!==0);if((_n&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(O=l.lanes|l.childLanes,O|=Ap,vl(s,h,O,H,J,le),s===Gn&&(Ht=Gn=null,an=0),Qu=l,Fl=s,Zu=h,Iy=O,Oy=_,y_=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,B9($e,function(){return D_(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=oe.T,oe.T=null,_=ce.p,ce.p=2,H=_n,_n|=4;try{T9(s,l,h)}finally{_n=H,ce.p=_,oe.T=x}}_i=1,I_(),O_(),R_()}}function I_(){if(_i===1){_i=0;var s=Fl,l=Qu,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=oe.T,oe.T=null;var x=ce.p;ce.p=2;var _=_n;_n|=4;try{u_(l,s);var O=Gy,H=D(s.containerInfo),J=O.focusedElem,le=O.selectionRange;if(H!==J&&J&&J.ownerDocument&&C(J.ownerDocument.documentElement,J)){if(le!==null&&k(J)){var xe=le.start,Oe=le.end;if(Oe===void 0&&(Oe=xe),"selectionStart"in J)J.selectionStart=xe,J.selectionEnd=Math.min(Oe,J.value.length);else{var Pe=J.ownerDocument||document,Ee=Pe&&Pe.defaultView||window;if(Ee.getSelection){var _e=Ee.getSelection(),At=J.textContent.length,yt=Math.min(le.start,At),Dn=le.end===void 0?yt:Math.min(le.end,At);!_e.extend&&yt>Dn&&(H=Dn,Dn=yt,yt=H);var ge=E(J,yt),de=E(J,Dn);if(ge&&de&&(_e.rangeCount!==1||_e.anchorNode!==ge.node||_e.anchorOffset!==ge.offset||_e.focusNode!==de.node||_e.focusOffset!==de.offset)){var ve=Pe.createRange();ve.setStart(ge.node,ge.offset),_e.removeAllRanges(),yt>Dn?(_e.addRange(ve),_e.extend(de.node,de.offset)):(ve.setEnd(de.node,de.offset),_e.addRange(ve))}}}}for(Pe=[],_e=J;_e=_e.parentNode;)_e.nodeType===1&&Pe.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Pe.length;J++){var Re=Pe[J];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}f1=!!qy,Gy=qy=null}finally{_n=_,ce.p=x,oe.T=h}}s.current=l,_i=2}}function O_(){if(_i===2){_i=0;var s=Fl,l=Qu,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=oe.T,oe.T=null;var x=ce.p;ce.p=2;var _=_n;_n|=4;try{s_(s,l.alternate,l)}finally{_n=_,ce.p=x,oe.T=h}}_i=3}}function R_(){if(_i===4||_i===3){_i=0,Xn();var s=Fl,l=Qu,h=Zu,x=y_;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?_i=5:(_i=0,Qu=Fl=null,N_(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Ul=null),vr(h),l=l.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Yt,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=oe.T,_=ce.p,ce.p=2,oe.T=null;try{for(var O=s.onRecoverableError,H=0;H<x.length;H++){var J=x[H];O(J.value,{componentStack:J.stack})}}finally{oe.T=l,ce.p=_}}(Zu&3)!==0&&J0(),so(s),_=s.pendingLanes,(h&4194090)!==0&&(_&42)!==0?s===Ry?Ph++:(Ph=0,Ry=s):Ph=0,Lh(0)}}function N_(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,gh(l)))}function J0(s){return I_(),O_(),R_(),D_()}function D_(){if(_i!==5)return!1;var s=Fl,l=Iy;Iy=0;var h=vr(Zu),x=oe.T,_=ce.p;try{ce.p=32>h?32:h,oe.T=null,h=Oy,Oy=null;var O=Fl,H=Zu;if(_i=0,Qu=Fl=null,Zu=0,(_n&6)!==0)throw Error(r(331));var J=_n;if(_n|=4,m_(O.current),h_(O,O.current,H,h),_n=J,Lh(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Yt,O)}catch{}return!0}finally{ce.p=_,oe.T=x,N_(s,l)}}function M_(s,l,h){l=fs(h,l),l=ly(s.stateNode,l,2),s=Rl(s,l,2),s!==null&&(vi(s,2),so(s))}function Fn(s,l,h){if(s.tag===3)M_(s,s,h);else for(;l!==null;){if(l.tag===3){M_(l,s,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ul===null||!Ul.has(x))){s=fs(h,s),h=jS(2),x=Rl(l,h,2),x!==null&&(BS(h,x,l,s),vi(x,2),so(x));break}}l=l.return}}function Py(s,l,h){var x=s.pingCache;if(x===null){x=s.pingCache=new R9;var _=new Set;x.set(l,_)}else _=x.get(l),_===void 0&&(_=new Set,x.set(l,_));_.has(h)||(Sy=!0,_.add(h),s=L9.bind(null,s,l,h),l.then(s,s))}function L9(s,l,h){var x=s.pingCache;x!==null&&x.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Gn===s&&(an&h)===h&&(Cr===4||Cr===3&&(an&62914560)===an&&300>jt()-Ty?(_n&2)===0&&Ju(s,0):_y|=h,Ku===an&&(Ku=0)),so(s)}function P_(s,l){l===0&&(l=yl()),s=Lu(s,l),s!==null&&(vi(s,l),so(s))}function k9(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),P_(s,h)}function j9(s,l){var h=0;switch(s.tag){case 13:var x=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(l),P_(s,h)}function B9(s,l){return st(s,l)}var e1=null,tf=null,Ly=!1,t1=!1,ky=!1,qc=0;function so(s){s!==tf&&s.next===null&&(tf===null?e1=tf=s:tf=tf.next=s),t1=!0,Ly||(Ly=!0,F9())}function Lh(s,l){if(!ky&&t1){ky=!0;do for(var h=!1,x=e1;x!==null;){if(s!==0){var _=x.pendingLanes;if(_===0)var O=0;else{var H=x.suspendedLanes,J=x.pingedLanes;O=(1<<31-rn(42|s)+1)-1,O&=_&~(H&~J),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,B_(x,O))}else O=an,O=Ft(x,x===Gn?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||un(x,O)||(h=!0,B_(x,O));x=x.next}while(h);ky=!1}}function U9(){L_()}function L_(){t1=Ly=!1;var s=0;qc!==0&&($9()&&(s=qc),qc=0);for(var l=jt(),h=null,x=e1;x!==null;){var _=x.next,O=k_(x,l);O===0?(x.next=null,h===null?e1=_:h.next=_,_===null&&(tf=h)):(h=x,(s!==0||(O&3)!==0)&&(t1=!0)),x=_}Lh(s)}function k_(s,l){for(var h=s.suspendedLanes,x=s.pingedLanes,_=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var H=31-rn(O),J=1<<H,le=_[H];le===-1?((J&h)===0||(J&x)!==0)&&(_[H]=Ns(J,l)):le<=l&&(s.expiredLanes|=J),O&=~J}if(l=Gn,h=an,h=Ft(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,h===0||s===l&&(Cn===2||Cn===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Tt(x),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||un(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(x!==null&&Tt(x),vr(h)){case 2:case 8:h=xn;break;case 32:h=$e;break;case 268435456:h=pi;break;default:h=$e}return x=j_.bind(null,s),h=st(h,x),s.callbackPriority=l,s.callbackNode=h,l}return x!==null&&x!==null&&Tt(x),s.callbackPriority=2,s.callbackNode=null,2}function j_(s,l){if(_i!==0&&_i!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(J0()&&s.callbackNode!==h)return null;var x=an;return x=Ft(s,s===Gn?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(x_(s,x,l),k_(s,jt()),s.callbackNode!=null&&s.callbackNode===h?j_.bind(null,s):null)}function B_(s,l){if(J0())return null;x_(s,l,!0)}function F9(){K9(function(){(_n&6)!==0?st(It,U9):L_()})}function jy(){return qc===0&&(qc=Ao()),qc}function U_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Al(""+s)}function F_(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function V9(s,l,h,x,_){if(l==="submit"&&h&&h.stateNode===_){var O=U_((_[On]||null).action),H=x.submitter;H&&(l=(l=H[On]||null)?U_(l.formAction):H.getAttribute("formAction"),l!==null&&(O=l,H=null));var J=new us("action","action",null,x,_);s.push({event:J,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(qc!==0){var le=H?F_(_,H):new FormData(_);ry(h,{pending:!0,data:le,method:_.method,action:O},null,le)}}else typeof O=="function"&&(J.preventDefault(),le=H?F_(_,H):new FormData(_),ry(h,{pending:!0,data:le,method:_.method,action:O},O,le))},currentTarget:_}]})}}for(var By=0;By<to.length;By++){var Uy=to[By],z9=Uy.toLowerCase(),H9=Uy[0].toUpperCase()+Uy.slice(1);Ma(z9,"on"+H9)}Ma(_t,"onAnimationEnd"),Ma(Ai,"onAnimationIteration"),Ma(ga,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Fi,"onTransitionRun"),Ma(Sn,"onTransitionStart"),Ma(Zr,"onTransitionCancel"),Ma(Vi,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function V_(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var x=s[h],_=x.event;x=x.listeners;e:{var O=void 0;if(l)for(var H=x.length-1;0<=H;H--){var J=x[H],le=J.instance,xe=J.currentTarget;if(J=J.listener,le!==O&&_.isPropagationStopped())break e;O=J,_.currentTarget=xe;try{O(_)}catch(Oe){z0(Oe)}_.currentTarget=null,O=le}else for(H=0;H<x.length;H++){if(J=x[H],le=J.instance,xe=J.currentTarget,J=J.listener,le!==O&&_.isPropagationStopped())break e;O=J,_.currentTarget=xe;try{O(_)}catch(Oe){z0(Oe)}_.currentTarget=null,O=le}}}}function qt(s,l){var h=l[Fr];h===void 0&&(h=l[Fr]=new Set);var x=s+"__bubble";h.has(x)||(z_(l,s,2,!1),h.add(x))}function Fy(s,l,h){var x=0;l&&(x|=4),z_(h,s,x,l)}var n1="_reactListening"+Math.random().toString(36).slice(2);function Vy(s){if(!s[n1]){s[n1]=!0,Ic.forEach(function(h){h!=="selectionchange"&&(q9.has(h)||Fy(h,!1,s),Fy(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[n1]||(l[n1]=!0,Fy("selectionchange",!1,l))}}function z_(s,l,h,x){switch(hC(l)){case 2:var _=yL;break;case 8:_=vL;break;default:_=tv}h=_.bind(null,l,h,s),_=void 0,!mt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),x?_!==void 0?s.addEventListener(l,h,{capture:!0,passive:_}):s.addEventListener(l,h,!0):_!==void 0?s.addEventListener(l,h,{passive:_}):s.addEventListener(l,h,!1)}function zy(s,l,h,x,_){var O=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var H=x.tag;if(H===3||H===4){var J=x.stateNode.containerInfo;if(J===_)break;if(H===4)for(H=x.return;H!==null;){var le=H.tag;if((le===3||le===4)&&H.stateNode.containerInfo===_)return;H=H.return}for(;J!==null;){if(H=ir(J),H===null)return;if(le=H.tag,le===5||le===6||le===26||le===27){x=O=H;continue e}J=J.parentNode}}x=x.return}Ia(function(){var xe=O,Oe=wi(h),Pe=[];e:{var Ee=Ro.get(s);if(Ee!==void 0){var _e=us,At=s;switch(s){case"keypress":if(cs(h)===0)break e;case"keydown":case"keyup":_e=Js;break;case"focusin":At="focus",_e=Ls;break;case"focusout":At="blur",_e=Ls;break;case"beforeblur":case"afterblur":_e=Ls;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=dn;break;case _t:case Ai:case ga:_e=Sl;break;case Vi:_e=Ru;break;case"scroll":case"scrollend":_e=Qr;break;case"wheel":_e=fa;break;case"copy":case"cut":case"paste":_e=St;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=eo;break;case"toggle":case"beforetoggle":_e=Nu}var yt=(l&4)!==0,Dn=!yt&&(s==="scroll"||s==="scrollend"),ge=yt?Ee!==null?Ee+"Capture":null:Ee;yt=[];for(var de=xe,ve;de!==null;){var Re=de;if(ve=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ve===null||ge===null||(Re=lt(de,ge),Re!=null&&yt.push(jh(de,Re,ve))),Dn)break;de=de.return}0<yt.length&&(Ee=new _e(Ee,At,null,h,Oe),Pe.push({event:Ee,listeners:yt}))}}if((l&7)===0){e:{if(Ee=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",Ee&&h!==Ca&&(At=h.relatedTarget||h.fromElement)&&(ir(At)||At[Li]))break e;if((_e||Ee)&&(Ee=Oe.window===Oe?Oe:(Ee=Oe.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,_e?(At=h.relatedTarget||h.toElement,_e=xe,At=At?ir(At):null,At!==null&&(Dn=a(At),yt=At.tag,At!==Dn||yt!==5&&yt!==27&&yt!==6)&&(At=null)):(_e=null,At=xe),_e!==At)){if(yt=ca,Re="onMouseLeave",ge="onMouseEnter",de="mouse",(s==="pointerout"||s==="pointerover")&&(yt=eo,Re="onPointerLeave",ge="onPointerEnter",de="pointer"),Dn=_e==null?Ee:Zi(_e),ve=At==null?Ee:Zi(At),Ee=new yt(Re,de+"leave",_e,h,Oe),Ee.target=Dn,Ee.relatedTarget=ve,Re=null,ir(Oe)===xe&&(yt=new yt(ge,de+"enter",At,h,Oe),yt.target=ve,yt.relatedTarget=Dn,Re=yt),Dn=Re,_e&&At)t:{for(yt=_e,ge=At,de=0,ve=yt;ve;ve=nf(ve))de++;for(ve=0,Re=ge;Re;Re=nf(Re))ve++;for(;0<de-ve;)yt=nf(yt),de--;for(;0<ve-de;)ge=nf(ge),ve--;for(;de--;){if(yt===ge||ge!==null&&yt===ge.alternate)break t;yt=nf(yt),ge=nf(ge)}yt=null}else yt=null;_e!==null&&H_(Pe,Ee,_e,yt,!1),At!==null&&Dn!==null&&H_(Pe,Dn,At,yt,!0)}}e:{if(Ee=xe?Zi(xe):window,_e=Ee.nodeName&&Ee.nodeName.toLowerCase(),_e==="select"||_e==="input"&&Ee.type==="file")var et=y0;else if(cr(Ee))if(lh)et=c;else{et=W;var zt=Mu}else _e=Ee.nodeName,!_e||_e.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?xe&&at(xe.elementType)&&(et=y0):et=o;if(et&&(et=et(s,xe))){Sr(Pe,et,h,Oe);break e}zt&&zt(s,Ee,xe),s==="focusout"&&xe&&Ee.type==="number"&&xe.memoizedProps.value!=null&&me(Ee,"number",Ee.value)}switch(zt=xe?Zi(xe):window,s){case"focusin":(cr(zt)||zt.contentEditable==="true")&&(Q=zt,ie=xe,fe=null);break;case"focusout":fe=ie=Q=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,ye(Pe,h,Oe);break;case"selectionchange":if(Y)break;case"keydown":case"keyup":ye(Pe,h,Oe)}var ct;if(ha)e:{switch(s){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else $t?Ce(s,h)&&(xt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(xt="onCompositionStart");xt&&(V&&h.locale!=="ko"&&($t||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&$t&&(ct=Ra()):(ss=Oe,os="value"in ss?ss.value:ss.textContent,$t=!0)),zt=r1(xe,xt),0<zt.length&&(xt=new Qs(xt,s,null,h,Oe),Pe.push({event:xt,listeners:zt}),ct?xt.data=ct:(ct=qe(h),ct!==null&&(xt.data=ct)))),(ct=L?er(s,h):Xt(s,h))&&(xt=r1(xe,"onBeforeInput"),0<xt.length&&(zt=new Qs("onBeforeInput","beforeinput",null,h,Oe),Pe.push({event:zt,listeners:xt}),zt.data=ct)),V9(Pe,s,xe,h,Oe)}V_(Pe,l)})}function jh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function r1(s,l){for(var h=l+"Capture",x=[];s!==null;){var _=s,O=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||O===null||(_=lt(s,h),_!=null&&x.unshift(jh(s,_,O)),_=lt(s,l),_!=null&&x.push(jh(s,_,O))),s.tag===3)return x;s=s.return}return[]}function nf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function H_(s,l,h,x,_){for(var O=l._reactName,H=[];h!==null&&h!==x;){var J=h,le=J.alternate,xe=J.stateNode;if(J=J.tag,le!==null&&le===x)break;J!==5&&J!==26&&J!==27||xe===null||(le=xe,_?(xe=lt(h,O),xe!=null&&H.unshift(jh(h,xe,le))):_||(xe=lt(h,O),xe!=null&&H.push(jh(h,xe,le)))),h=h.return}H.length!==0&&s.push({event:l,listeners:H})}var G9=/\r\n?/g,W9=/\u0000|\uFFFD/g;function q_(s){return(typeof s=="string"?s:""+s).replace(G9,`
`).replace(W9,"")}function G_(s,l){return l=q_(l),q_(s)===l}function i1(){}function Nn(s,l,h,x,_,O){switch(h){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||Zn(s,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&Zn(s,""+x);break;case"className":is(s,"class",x);break;case"tabIndex":is(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":is(s,h,x);break;case"style":oi(s,x,O);break;case"data":if(l!=="object"){is(s,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=Al(""+x),s.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(l!=="input"&&Nn(s,l,"name",_.name,_,null),Nn(s,l,"formEncType",_.formEncType,_,null),Nn(s,l,"formMethod",_.formMethod,_,null),Nn(s,l,"formTarget",_.formTarget,_,null)):(Nn(s,l,"encType",_.encType,_,null),Nn(s,l,"method",_.method,_,null),Nn(s,l,"target",_.target,_,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=Al(""+x),s.setAttribute(h,x);break;case"onClick":x!=null&&(s.onclick=i1);break;case"onScroll":x!=null&&qt("scroll",s);break;case"onScrollEnd":x!=null&&qt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}h=Al(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""+x):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":x===!0?s.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,x):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(h,x):s.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(h):s.setAttribute(h,x);break;case"popover":qt("beforetoggle",s),qt("toggle",s),Me(s,"popover",x);break;case"xlinkActuate":Pt(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Pt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Pt(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Pt(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Pt(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Pt(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Me(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=jn.get(h)||h,Me(s,h,x))}}function Hy(s,l,h,x,_,O){switch(h){case"style":oi(s,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof x=="string"?Zn(s,x):(typeof x=="number"||typeof x=="bigint")&&Zn(s,""+x);break;case"onScroll":x!=null&&qt("scroll",s);break;case"onScrollEnd":x!=null&&qt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=i1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),l=h.slice(2,_?h.length-7:void 0),O=s[On]||null,O=O!=null?O[h]:null,typeof O=="function"&&s.removeEventListener(l,O,_),typeof x=="function")){typeof O!="function"&&O!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,x,_);break e}h in s?s[h]=x:x===!0?s.setAttribute(h,""):Me(s,h,x)}}}function Ci(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",s),qt("load",s);var x=!1,_=!1,O;for(O in h)if(h.hasOwnProperty(O)){var H=h[O];if(H!=null)switch(O){case"src":x=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Nn(s,l,O,H,h,null)}}_&&Nn(s,l,"srcSet",h.srcSet,h,null),x&&Nn(s,l,"src",h.src,h,null);return;case"input":qt("invalid",s);var J=O=H=_=null,le=null,xe=null;for(x in h)if(h.hasOwnProperty(x)){var Oe=h[x];if(Oe!=null)switch(x){case"name":_=Oe;break;case"type":H=Oe;break;case"checked":le=Oe;break;case"defaultChecked":xe=Oe;break;case"value":O=Oe;break;case"defaultValue":J=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,l));break;default:Nn(s,l,x,Oe,h,null)}}ar(s,O,J,le,xe,H,_,!1),wl(s);return;case"select":qt("invalid",s),x=H=O=null;for(_ in h)if(h.hasOwnProperty(_)&&(J=h[_],J!=null))switch(_){case"value":O=J;break;case"defaultValue":H=J;break;case"multiple":x=J;default:Nn(s,l,_,J,h,null)}l=O,h=H,s.multiple=!!x,l!=null?re(s,!!x,l,!1):h!=null&&re(s,!!x,h,!0);return;case"textarea":qt("invalid",s),O=_=x=null;for(H in h)if(h.hasOwnProperty(H)&&(J=h[H],J!=null))switch(H){case"value":x=J;break;case"defaultValue":_=J;break;case"children":O=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Nn(s,l,H,J,h,null)}qn(s,x,_,O),wl(s);return;case"option":for(le in h)if(h.hasOwnProperty(le)&&(x=h[le],x!=null))switch(le){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Nn(s,l,le,x,h,null)}return;case"dialog":qt("beforetoggle",s),qt("toggle",s),qt("cancel",s),qt("close",s);break;case"iframe":case"object":qt("load",s);break;case"video":case"audio":for(x=0;x<kh.length;x++)qt(kh[x],s);break;case"image":qt("error",s),qt("load",s);break;case"details":qt("toggle",s);break;case"embed":case"source":case"link":qt("error",s),qt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in h)if(h.hasOwnProperty(xe)&&(x=h[xe],x!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Nn(s,l,xe,x,h,null)}return;default:if(at(l)){for(Oe in h)h.hasOwnProperty(Oe)&&(x=h[Oe],x!==void 0&&Hy(s,l,Oe,x,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(x=h[J],x!=null&&Nn(s,l,J,x,h,null))}function Y9(s,l,h,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,O=null,H=null,J=null,le=null,xe=null,Oe=null;for(_e in h){var Pe=h[_e];if(h.hasOwnProperty(_e)&&Pe!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":le=Pe;default:x.hasOwnProperty(_e)||Nn(s,l,_e,null,x,Pe)}}for(var Ee in x){var _e=x[Ee];if(Pe=h[Ee],x.hasOwnProperty(Ee)&&(_e!=null||Pe!=null))switch(Ee){case"type":O=_e;break;case"name":_=_e;break;case"checked":xe=_e;break;case"defaultChecked":Oe=_e;break;case"value":H=_e;break;case"defaultValue":J=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,l));break;default:_e!==Pe&&Nn(s,l,Ee,_e,x,Pe)}}kt(s,H,J,le,xe,Oe,O,_);return;case"select":_e=H=J=Ee=null;for(O in h)if(le=h[O],h.hasOwnProperty(O)&&le!=null)switch(O){case"value":break;case"multiple":_e=le;default:x.hasOwnProperty(O)||Nn(s,l,O,null,x,le)}for(_ in x)if(O=x[_],le=h[_],x.hasOwnProperty(_)&&(O!=null||le!=null))switch(_){case"value":Ee=O;break;case"defaultValue":J=O;break;case"multiple":H=O;default:O!==le&&Nn(s,l,_,O,x,le)}l=J,h=H,x=_e,Ee!=null?re(s,!!h,Ee,!1):!!x!=!!h&&(l!=null?re(s,!!h,l,!0):re(s,!!h,h?[]:"",!1));return;case"textarea":_e=Ee=null;for(J in h)if(_=h[J],h.hasOwnProperty(J)&&_!=null&&!x.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Nn(s,l,J,null,x,_)}for(H in x)if(_=x[H],O=h[H],x.hasOwnProperty(H)&&(_!=null||O!=null))switch(H){case"value":Ee=_;break;case"defaultValue":_e=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==O&&Nn(s,l,H,_,x,O)}We(s,Ee,_e);return;case"option":for(var At in h)if(Ee=h[At],h.hasOwnProperty(At)&&Ee!=null&&!x.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:Nn(s,l,At,null,x,Ee)}for(le in x)if(Ee=x[le],_e=h[le],x.hasOwnProperty(le)&&Ee!==_e&&(Ee!=null||_e!=null))switch(le){case"selected":s.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:Nn(s,l,le,Ee,x,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in h)Ee=h[yt],h.hasOwnProperty(yt)&&Ee!=null&&!x.hasOwnProperty(yt)&&Nn(s,l,yt,null,x,Ee);for(xe in x)if(Ee=x[xe],_e=h[xe],x.hasOwnProperty(xe)&&Ee!==_e&&(Ee!=null||_e!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Nn(s,l,xe,Ee,x,_e)}return;default:if(at(l)){for(var Dn in h)Ee=h[Dn],h.hasOwnProperty(Dn)&&Ee!==void 0&&!x.hasOwnProperty(Dn)&&Hy(s,l,Dn,void 0,x,Ee);for(Oe in x)Ee=x[Oe],_e=h[Oe],!x.hasOwnProperty(Oe)||Ee===_e||Ee===void 0&&_e===void 0||Hy(s,l,Oe,Ee,x,_e);return}}for(var ge in h)Ee=h[ge],h.hasOwnProperty(ge)&&Ee!=null&&!x.hasOwnProperty(ge)&&Nn(s,l,ge,null,x,Ee);for(Pe in x)Ee=x[Pe],_e=h[Pe],!x.hasOwnProperty(Pe)||Ee===_e||Ee==null&&_e==null||Nn(s,l,Pe,Ee,x,_e)}var qy=null,Gy=null;function a1(s){return s.nodeType===9?s:s.ownerDocument}function W_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Wy(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Yy=null;function $9(){var s=window.event;return s&&s.type==="popstate"?s===Yy?!1:(Yy=s,!0):(Yy=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,X9=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,K9=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(s){return X_.resolve(null).then(s).catch(Q9)}:$_;function Q9(s){setTimeout(function(){throw s})}function zl(s){return s==="head"}function K_(s,l){var h=l,x=0,_=0;do{var O=h.nextSibling;if(s.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(0<x&&8>x){h=x;var H=s.ownerDocument;if(h&1&&Bh(H.documentElement),h&2&&Bh(H.body),h&4)for(h=H.head,Bh(h),H=h.firstChild;H;){var J=H.nextSibling,le=H.nodeName;H[oa]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&H.rel.toLowerCase()==="stylesheet"||h.removeChild(H),H=J}}if(_===0){s.removeChild(O),Wh(l);return}_--}else h==="$"||h==="$?"||h==="$!"?_++:x=h.charCodeAt(0)-48;else x=0;h=O}while(h);Wh(l)}function $y(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":$y(h),rs(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function Z9(s,l,h,x){for(;s.nodeType===1;){var _=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[oa])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var O=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=Bs(s.nextSibling),s===null)break}return null}function J9(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Bs(s.nextSibling),s===null))return null;return s}function Xy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function eL(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var x=function(){l(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function Bs(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var Ky=null;function Q_(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function Z_(s,l,h){switch(l=a1(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Bh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);rs(s)}var ys=new Map,J_=new Set;function s1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ho=ce.d;ce.d={f:tL,r:nL,D:rL,C:iL,L:aL,m:sL,X:lL,S:oL,M:cL};function tL(){var s=Ho.f(),l=Q0();return s||l}function nL(s){var l=bi(s);l!==null&&l.tag===5&&l.type==="form"?xS(l):Ho.r(s)}var rf=typeof document>"u"?null:document;function eC(s,l,h){var x=rf;if(x&&typeof l=="string"&&l){var _=kn(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),J_.has(_)||(J_.add(_),s={rel:s,crossOrigin:h,href:l},x.querySelector(_)===null&&(l=x.createElement("link"),Ci(l,"link",s),fn(l),x.head.appendChild(l)))}}function rL(s){Ho.D(s),eC("dns-prefetch",s,null)}function iL(s,l){Ho.C(s,l),eC("preconnect",s,l)}function aL(s,l,h){Ho.L(s,l,h);var x=rf;if(x&&s&&l){var _='link[rel="preload"][as="'+kn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+kn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+kn(h.imageSizes)+'"]')):_+='[href="'+kn(s)+'"]';var O=_;switch(l){case"style":O=af(s);break;case"script":O=sf(s)}ys.has(O)||(s=v({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),ys.set(O,s),x.querySelector(_)!==null||l==="style"&&x.querySelector(Uh(O))||l==="script"&&x.querySelector(Fh(O))||(l=x.createElement("link"),Ci(l,"link",s),fn(l),x.head.appendChild(l)))}}function sL(s,l){Ho.m(s,l);var h=rf;if(h&&s){var x=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+kn(x)+'"][href="'+kn(s)+'"]',O=_;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=sf(s)}if(!ys.has(O)&&(s=v({rel:"modulepreload",href:s},l),ys.set(O,s),h.querySelector(_)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Fh(O)))return}x=h.createElement("link"),Ci(x,"link",s),fn(x),h.head.appendChild(x)}}}function oL(s,l,h){Ho.S(s,l,h);var x=rf;if(x&&s){var _=Vr(x).hoistableStyles,O=af(s);l=l||"default";var H=_.get(O);if(!H){var J={loading:0,preload:null};if(H=x.querySelector(Uh(O)))J.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":l},h),(h=ys.get(O))&&Qy(s,h);var le=H=x.createElement("link");fn(le),Ci(le,"link",s),le._p=new Promise(function(xe,Oe){le.onload=xe,le.onerror=Oe}),le.addEventListener("load",function(){J.loading|=1}),le.addEventListener("error",function(){J.loading|=2}),J.loading|=4,o1(H,l,x)}H={type:"stylesheet",instance:H,count:1,state:J},_.set(O,H)}}}function lL(s,l){Ho.X(s,l);var h=rf;if(h&&s){var x=Vr(h).hoistableScripts,_=sf(s),O=x.get(_);O||(O=h.querySelector(Fh(_)),O||(s=v({src:s,async:!0},l),(l=ys.get(_))&&Zy(s,l),O=h.createElement("script"),fn(O),Ci(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(_,O))}}function cL(s,l){Ho.M(s,l);var h=rf;if(h&&s){var x=Vr(h).hoistableScripts,_=sf(s),O=x.get(_);O||(O=h.querySelector(Fh(_)),O||(s=v({src:s,async:!0,type:"module"},l),(l=ys.get(_))&&Zy(s,l),O=h.createElement("script"),fn(O),Ci(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(_,O))}}function tC(s,l,h,x){var _=(_=Ue.current)?s1(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=af(h.href),h=Vr(_).hoistableStyles,x=h.get(l),x||(x={type:"style",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=af(h.href);var O=Vr(_).hoistableStyles,H=O.get(s);if(H||(_=_.ownerDocument||_,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,H),(O=_.querySelector(Uh(s)))&&!O._p&&(H.instance=O,H.state.loading=5),ys.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ys.set(s,h),O||uL(_,s,h,H.state))),l&&x===null)throw Error(r(528,""));return H}if(l&&x!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=sf(h),h=Vr(_).hoistableScripts,x=h.get(l),x||(x={type:"script",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function af(s){return'href="'+kn(s)+'"'}function Uh(s){return'link[rel="stylesheet"]['+s+"]"}function nC(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function uL(s,l,h,x){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=s.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),Ci(l,"link",h),fn(l),s.head.appendChild(l))}function sf(s){return'[src="'+kn(s)+'"]'}function Fh(s){return"script[async]"+s}function rC(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var x=s.querySelector('style[data-href~="'+kn(h.href)+'"]');if(x)return l.instance=x,fn(x),x;var _=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),fn(x),Ci(x,"style",_),o1(x,h.precedence,s),l.instance=x;case"stylesheet":_=af(h.href);var O=s.querySelector(Uh(_));if(O)return l.state.loading|=4,l.instance=O,fn(O),O;x=nC(h),(_=ys.get(_))&&Qy(x,_),O=(s.ownerDocument||s).createElement("link"),fn(O);var H=O;return H._p=new Promise(function(J,le){H.onload=J,H.onerror=le}),Ci(O,"link",x),l.state.loading|=4,o1(O,h.precedence,s),l.instance=O;case"script":return O=sf(h.src),(_=s.querySelector(Fh(O)))?(l.instance=_,fn(_),_):(x=h,(_=ys.get(O))&&(x=v({},h),Zy(x,_)),s=s.ownerDocument||s,_=s.createElement("script"),fn(_),Ci(_,"link",x),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,o1(x,h.precedence,s));return l.instance}function o1(s,l,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=x.length?x[x.length-1]:null,O=_,H=0;H<x.length;H++){var J=x[H];if(J.dataset.precedence===l)O=J;else if(O!==_)break}O?O.parentNode.insertBefore(s,O.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function Qy(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Zy(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var l1=null;function iC(s,l,h){if(l1===null){var x=new Map,_=l1=new Map;_.set(h,x)}else _=l1,x=_.get(h),x||(x=new Map,_.set(h,x));if(x.has(s))return x;for(x.set(s,null),h=h.getElementsByTagName(s),_=0;_<h.length;_++){var O=h[_];if(!(O[oa]||O[Nr]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var H=O.getAttribute(l)||"";H=s+H;var J=x.get(H);J?J.push(O):x.set(H,[O])}}return x}function aC(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function fL(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function sC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Vh=null;function hL(){}function dL(s,l,h){if(Vh===null)throw Error(r(475));var x=Vh;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=af(h.href),O=s.querySelector(Uh(_));if(O){s=O._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(x.count++,x=c1.bind(x),s.then(x,x)),l.state.loading|=4,l.instance=O,fn(O);return}O=s.ownerDocument||s,h=nC(h),(_=ys.get(_))&&Qy(h,_),O=O.createElement("link"),fn(O);var H=O;H._p=new Promise(function(J,le){H.onload=J,H.onerror=le}),Ci(O,"link",h),l.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(x.count++,l=c1.bind(x),s.addEventListener("load",l),s.addEventListener("error",l))}}function gL(){if(Vh===null)throw Error(r(475));var s=Vh;return s.stylesheets&&s.count===0&&Jy(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&Jy(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function c1(){if(this.count--,this.count===0){if(this.stylesheets)Jy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var u1=null;function Jy(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,u1=new Map,l.forEach(mL,s),u1=null,c1.call(s))}function mL(s,l){if(!(l.state.loading&4)){var h=u1.get(s);if(h)var x=h.get(null);else{h=new Map,u1.set(s,h);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<_.length;O++){var H=_[O];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(h.set(H.dataset.precedence,H),x=H)}x&&h.set(null,x)}_=l.instance,H=_.getAttribute("data-precedence"),O=h.get(H)||x,O===x&&h.set(null,_),h.set(H,_),this.count++,x=c1.bind(this),_.addEventListener("load",x),_.addEventListener("error",x),O?O.parentNode.insertBefore(_,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var zh={$$typeof:q,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function pL(s,l,h,x,_,O,H,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=x,this.onUncaughtError=_,this.onCaughtError=O,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function oC(s,l,h,x,_,O,H,J,le,xe,Oe,Pe){return s=new pL(s,l,h,H,J,le,xe,Pe),l=1,O===!0&&(l|=24),O=Pa(3,null,null,l),s.current=O,O.stateNode=s,l=Pp(),l.refCount++,s.pooledCache=l,l.refCount++,O.memoizedState={element:x,isDehydrated:h,cache:l},Bp(O),s}function lC(s){return s?(s=ku,s):ku}function cC(s,l,h,x,_,O){_=lC(_),x.context===null?x.context=_:x.pendingContext=_,x=Ol(l),x.payload={element:h},O=O===void 0?null:O,O!==null&&(x.callback=O),h=Rl(s,x,l),h!==null&&(Ua(h,s,l),vh(h,s,l))}function uC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function ev(s,l){uC(s,l),(s=s.alternate)&&uC(s,l)}function fC(s){if(s.tag===13){var l=Lu(s,67108864);l!==null&&Ua(l,s,67108864),ev(s,67108864)}}var f1=!0;function yL(s,l,h,x){var _=oe.T;oe.T=null;var O=ce.p;try{ce.p=2,tv(s,l,h,x)}finally{ce.p=O,oe.T=_}}function vL(s,l,h,x){var _=oe.T;oe.T=null;var O=ce.p;try{ce.p=8,tv(s,l,h,x)}finally{ce.p=O,oe.T=_}}function tv(s,l,h,x){if(f1){var _=nv(x);if(_===null)zy(s,l,x,h1,h),dC(s,x);else if(bL(_,s,l,h,x))x.stopPropagation();else if(dC(s,x),l&4&&-1<xL.indexOf(s)){for(;_!==null;){var O=bi(_);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var H=bt(O.pendingLanes);if(H!==0){var J=O;for(J.pendingLanes|=2,J.entangledLanes|=2;H;){var le=1<<31-rn(H);J.entanglements[1]|=le,H&=~le}so(O),(_n&6)===0&&(X0=jt()+500,Lh(0))}}break;case 13:J=Lu(O,2),J!==null&&Ua(J,O,2),Q0(),ev(O,2)}if(O=nv(x),O===null&&zy(s,l,x,h1,h),O===_)break;_=O}_!==null&&x.stopPropagation()}else zy(s,l,x,null,h)}}function nv(s){return s=wi(s),rv(s)}var h1=null;function rv(s){if(h1=null,s=ir(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=u(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return h1=s,null}function hC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case It:return 2;case xn:return 8;case $e:case Ys:return 32;case pi:return 268435456;default:return 32}default:return 32}}var iv=!1,Hl=null,ql=null,Gl=null,Hh=new Map,qh=new Map,Wl=[],xL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dC(s,l){switch(s){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":ql=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Hh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(l.pointerId)}}function Gh(s,l,h,x,_,O){return s===null||s.nativeEvent!==O?(s={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:O,targetContainers:[_]},l!==null&&(l=bi(l),l!==null&&fC(l)),s):(s.eventSystemFlags|=x,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function bL(s,l,h,x,_){switch(l){case"focusin":return Hl=Gh(Hl,s,l,h,x,_),!0;case"dragenter":return ql=Gh(ql,s,l,h,x,_),!0;case"mouseover":return Gl=Gh(Gl,s,l,h,x,_),!0;case"pointerover":var O=_.pointerId;return Hh.set(O,Gh(Hh.get(O)||null,s,l,h,x,_)),!0;case"gotpointercapture":return O=_.pointerId,qh.set(O,Gh(qh.get(O)||null,s,l,h,x,_)),!0}return!1}function gC(s){var l=ir(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=u(h),l!==null){s.blockedOn=l,So(s.priority,function(){if(h.tag===13){var x=Ba();x=ns(x);var _=Lu(h,x);_!==null&&Ua(_,h,x),ev(h,x)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function d1(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=nv(s.nativeEvent);if(h===null){h=s.nativeEvent;var x=new h.constructor(h.type,h);Ca=x,h.target.dispatchEvent(x),Ca=null}else return l=bi(h),l!==null&&fC(l),s.blockedOn=h,!1;l.shift()}return!0}function mC(s,l,h){d1(s)&&h.delete(l)}function wL(){iv=!1,Hl!==null&&d1(Hl)&&(Hl=null),ql!==null&&d1(ql)&&(ql=null),Gl!==null&&d1(Gl)&&(Gl=null),Hh.forEach(mC),qh.forEach(mC)}function g1(s,l){s.blockedOn===l&&(s.blockedOn=null,iv||(iv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wL)))}var m1=null;function pC(s){m1!==s&&(m1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){m1===s&&(m1=null);for(var l=0;l<s.length;l+=3){var h=s[l],x=s[l+1],_=s[l+2];if(typeof x!="function"){if(rv(x||h)===null)continue;break}var O=bi(h);O!==null&&(s.splice(l,3),l-=3,ry(O,{pending:!0,data:_,method:h.method,action:x},x,_))}}))}function Wh(s){function l(le){return g1(le,s)}Hl!==null&&g1(Hl,s),ql!==null&&g1(ql,s),Gl!==null&&g1(Gl,s),Hh.forEach(l),qh.forEach(l);for(var h=0;h<Wl.length;h++){var x=Wl[h];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Wl.length&&(h=Wl[0],h.blockedOn===null);)gC(h),h.blockedOn===null&&Wl.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var _=h[x],O=h[x+1],H=_[On]||null;if(typeof O=="function")H||pC(h);else if(H){var J=null;if(O&&O.hasAttribute("formAction")){if(_=O,H=O[On]||null)J=H.formAction;else if(rv(_)!==null)continue}else J=H.action;typeof J=="function"?h[x+1]=J:(h.splice(x,3),x-=3),pC(h)}}}function av(s){this._internalRoot=s}p1.prototype.render=av.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,x=Ba();cC(h,x,s,l,null,null)},p1.prototype.unmount=av.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;cC(s.current,2,null,s,null,null),Q0(),l[Li]=null}};function p1(s){this._internalRoot=s}p1.prototype.unstable_scheduleHydration=function(s){if(s){var l=Qi();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Wl.length&&l!==0&&l<Wl[h].priority;h++);Wl.splice(h,0,s),h===0&&gC(s)}};var yC=e.version;if(yC!=="19.1.1")throw Error(r(527,yC,"19.1.1"));ce.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=m(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var EL={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y1.isDisabled&&y1.supportsFiber)try{Yt=y1.inject(EL),nn=y1}catch{}}return $h.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,x="",_=MS,O=PS,H=LS,J=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks)),l=oC(s,1,!1,null,null,h,x,_,O,H,J,null),s[Li]=l.current,Vy(s),new av(l)},$h.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var x=!1,_="",O=MS,H=PS,J=LS,le=null,xe=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(H=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(le=h.unstable_transitionCallbacks),h.formState!==void 0&&(xe=h.formState)),l=oC(s,1,!0,l,h??null,x,_,O,H,J,le,xe),l.context=lC(null),h=l.current,x=Ba(),x=ns(x),_=Ol(x),_.callback=null,Rl(h,_,x),h=x,l.current.lanes=h,vi(l,h),so(l),s[Li]=l.current,Vy(s),new p1(l)},$h.version="19.1.1",$h}var TC;function DL(){if(TC)return lv.exports;TC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lv.exports=NL(),lv.exports}var ML=DL();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IC="popstate";function PL(t={}){function e(i,a){let{pathname:u="/",search:g="",hash:m=""}=vu(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),t2("",{pathname:u,search:g,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let u=i.document.querySelector("base"),g="";if(u&&u.getAttribute("href")){let m=i.location.href,d=m.indexOf("#");g=d===-1?m:m.slice(0,d)}return g+"#"+(typeof a=="string"?a:vd(a))}function r(i,a){Cs(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return kL(e,n,r,t)}function dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LL(){return Math.random().toString(36).substring(2,10)}function OC(t,e){return{usr:t.state,key:t.key,idx:e}}function t2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vu(e):e,state:n,key:e&&e.key||r||LL()}}function vd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function kL(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,g="POP",m=null,d=v();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function v(){return(u.state||{idx:null}).idx}function w(){g="POP";let P=v(),B=P==null?null:P-d;d=P,m&&m({action:g,location:M.location,delta:B})}function S(P,B){g="PUSH";let $=t2(M.location,P,B);n&&n($,P),d=v()+1;let q=OC($,d),te=M.createHref($);try{u.pushState(q,"",te)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(te)}a&&m&&m({action:g,location:M.location,delta:1})}function T(P,B){g="REPLACE";let $=t2(M.location,P,B);n&&n($,P),d=v();let q=OC($,d),te=M.createHref($);u.replaceState(q,"",te),a&&m&&m({action:g,location:M.location,delta:0})}function N(P){return jL(P)}let M={get action(){return g},get location(){return t(i,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(IC,w),m=P,()=>{i.removeEventListener(IC,w),m=null}},createHref(P){return e(i,P)},createURL:N,encodeLocation(P){let B=N(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:T,go(P){return u.go(P)}};return M}function jL(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IR(t,e,n="/"){return BL(t,e,n,!1)}function BL(t,e,n,r){let i=typeof e=="string"?vu(e):e,a=Jo(i.pathname||"/",n);if(a==null)return null;let u=OR(t);UL(u);let g=null;for(let m=0;g==null&&m<u.length;++m){let d=KL(a);g=$L(u[m],d,r)}return g}function OR(t,e=[],n=[],r=""){let i=(a,u,g)=>{let m={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(dr(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let d=Xo([r,m.relativePath]),v=n.concat(m);a.children&&a.children.length>0&&(dr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),OR(a.children,e,v,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:WL(d,a.index),routesMeta:v})};return t.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))i(a,u);else for(let g of RR(a.path))i(a,u,g)}),e}function RR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=RR(r.join("/")),g=[];return g.push(...u.map(m=>m===""?a:[a,m].join("/"))),i&&g.push(...u),g.map(m=>t.startsWith("/")&&m===""?"/":m)}function UL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FL=/^:[\w-]+$/,VL=3,zL=2,HL=1,qL=10,GL=-2,RC=t=>t==="*";function WL(t,e){let n=t.split("/"),r=n.length;return n.some(RC)&&(r+=GL),e&&(r+=zL),n.filter(i=>!RC(i)).reduce((i,a)=>i+(FL.test(a)?VL:a===""?HL:qL),r)}function YL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $L(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",u=[];for(let g=0;g<r.length;++g){let m=r[g],d=g===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=eg({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},v),S=m.route;if(!w&&d&&n&&!r[r.length-1].route.index&&(w=eg({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!w)return null;Object.assign(i,w.params),u.push({params:i,pathname:Xo([a,w.pathname]),pathnameBase:ek(Xo([a,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(a=Xo([a,w.pathnameBase]))}return u}function eg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((d,{paramName:v,isOptional:w},S)=>{if(v==="*"){let N=g[S]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const T=g[S];return w&&!T?d[v]=void 0:d[v]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:u,pattern:t}}function XL(t,e=!1,n=!0){Cs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,g,m)=>(r.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QL(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vu(t):t;return{pathname:n?n.startsWith("/")?n:ZL(n,e):e,search:tk(r),hash:nk(i)}}function ZL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sb(t){let e=JL(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _b(t,e,n,r=!1){let i;typeof t=="string"?i=vu(t):(i={...t},dr(!i.pathname||!i.pathname.includes("?"),hv("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),hv("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),hv("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,g;if(u==null)g=n;else{let w=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),w-=1;i.pathname=S.join("/")}g=w>=0?e[w]:"/"}let m=QL(i,g),d=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(d||v)&&(m.pathname+="/"),m}var Xo=t=>t.join("/").replace(/\/\/+/g,"/"),ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NR=["POST","PUT","PATCH","DELETE"];new Set(NR);var ik=["GET",...NR];new Set(ik);var Hf=R.createContext(null);Hf.displayName="DataRouter";var fm=R.createContext(null);fm.displayName="DataRouterState";R.createContext(!1);var DR=R.createContext({isTransitioning:!1});DR.displayName="ViewTransition";var ak=R.createContext(new Map);ak.displayName="Fetchers";var sk=R.createContext(null);sk.displayName="Await";var Gs=R.createContext(null);Gs.displayName="Navigation";var Hd=R.createContext(null);Hd.displayName="Location";var wo=R.createContext({outlet:null,matches:[],isDataRoute:!1});wo.displayName="Route";var Cb=R.createContext(null);Cb.displayName="RouteError";function ok(t,{relative:e}={}){dr(qf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Gs),{hash:i,pathname:a,search:u}=qd(t,{relative:e}),g=a;return n!=="/"&&(g=a==="/"?n:Xo([n,a])),r.createHref({pathname:g,search:u,hash:i})}function qf(){return R.useContext(Hd)!=null}function xc(){return dr(qf(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Hd).location}var MR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PR(t){R.useContext(Gs).static||R.useLayoutEffect(t)}function hm(){let{isDataRoute:t}=R.useContext(wo);return t?bk():lk()}function lk(){dr(qf(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Hf),{basename:e,navigator:n}=R.useContext(Gs),{matches:r}=R.useContext(wo),{pathname:i}=xc(),a=JSON.stringify(Sb(r)),u=R.useRef(!1);return PR(()=>{u.current=!0}),R.useCallback((m,d={})=>{if(Cs(u.current,MR),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=_b(m,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xo([e,v.pathname])),(d.replace?n.replace:n.push)(v,d.state,d)},[e,n,a,i,t])}R.createContext(null);function qd(t,{relative:e}={}){let{matches:n}=R.useContext(wo),{pathname:r}=xc(),i=JSON.stringify(Sb(n));return R.useMemo(()=>_b(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function ck(t,e){return LR(t,e)}function LR(t,e,n,r){dr(qf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(Gs),{matches:a}=R.useContext(wo),u=a[a.length-1],g=u?u.params:{},m=u?u.pathname:"/",d=u?u.pathnameBase:"/",v=u&&u.route;{let B=v&&v.path||"";kR(m,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=xc(),S;if(e){let B=typeof e=="string"?vu(e):e;dr(d==="/"||B.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=w;let T=S.pathname||"/",N=T;if(d!=="/"){let B=d.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=IR(t,{pathname:N});Cs(v||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Cs(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=gk(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:Xo([d,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?d:Xo([d,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),a,n,r);return e&&P?R.createElement(Hd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function uk(){let t=xk(),e=rk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,u)}var fk=R.createElement(uk,null),hk=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(wo.Provider,{value:this.props.routeContext},R.createElement(Cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dk({routeContext:t,match:e,children:n}){let r=R.useContext(Hf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(wo.Provider,{value:t},n)}function gk(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let m=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);dr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,g=-1;if(n)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(g=m),d.route.id){let{loaderData:v,errors:w}=n,S=d.route.loader&&!v.hasOwnProperty(d.route.id)&&(!w||w[d.route.id]===void 0);if(d.route.lazy||S){u=!0,g>=0?i=i.slice(0,g+1):i=[i[0]];break}}}return i.reduceRight((m,d,v)=>{let w,S=!1,T=null,N=null;n&&(w=a&&d.route.id?a[d.route.id]:void 0,T=d.route.errorElement||fk,u&&(g<0&&v===0?(kR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):g===v&&(S=!0,N=d.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,v+1)),P=()=>{let B;return w?B=T:S?B=N:d.route.Component?B=R.createElement(d.route.Component,null):d.route.element?B=d.route.element:B=m,R.createElement(dk,{match:d,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:B})};return n&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?R.createElement(hk,{location:n.location,revalidation:n.revalidation,component:T,error:w,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):P()},null)}function Tb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mk(t){let e=R.useContext(Hf);return dr(e,Tb(t)),e}function pk(t){let e=R.useContext(fm);return dr(e,Tb(t)),e}function yk(t){let e=R.useContext(wo);return dr(e,Tb(t)),e}function Ib(t){let e=yk(t),n=e.matches[e.matches.length-1];return dr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vk(){return Ib("useRouteId")}function xk(){let t=R.useContext(Cb),e=pk("useRouteError"),n=Ib("useRouteError");return t!==void 0?t:e.errors?.[n]}function bk(){let{router:t}=mk("useNavigate"),e=Ib("useNavigate"),n=R.useRef(!1);return PR(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{Cs(n.current,MR),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var NC={};function kR(t,e,n){!e&&!NC[t]&&(NC[t]=!0,Cs(!1,n))}R.memo(wk);function wk({routes:t,future:e,state:n}){return LR(t,void 0,n,e)}function Ek({to:t,replace:e,state:n,relative:r}){dr(qf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Gs);Cs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(wo),{pathname:u}=xc(),g=hm(),m=_b(t,Sb(a),u,r==="path"),d=JSON.stringify(m);return R.useEffect(()=>{g(JSON.parse(d),{replace:e,state:n,relative:r})},[g,d,r,e,n]),null}function fi(t){dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ak({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){dr(!qf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof n=="string"&&(n=vu(n));let{pathname:m="/",search:d="",hash:v="",state:w=null,key:S="default"}=n,T=R.useMemo(()=>{let N=Jo(m,u);return N==null?null:{location:{pathname:N,search:d,hash:v,state:w,key:S},navigationType:r}},[u,m,d,v,w,S,r]);return Cs(T!=null,`<Router basename="${u}"> is not able to match the URL "${m}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:R.createElement(Gs.Provider,{value:g},R.createElement(Hd.Provider,{children:e,value:T}))}function Sk({children:t,location:e}){return ck(n2(t),e)}function n2(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,n2(r.props.children,a));return}dr(r.type===fi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=n2(r.props.children,a)),n.push(u)}),n}var H1="get",q1="application/x-www-form-urlencoded";function dm(t){return t!=null&&typeof t.tagName=="string"}function _k(t){return dm(t)&&t.tagName.toLowerCase()==="button"}function Ck(t){return dm(t)&&t.tagName.toLowerCase()==="form"}function Tk(t){return dm(t)&&t.tagName.toLowerCase()==="input"}function Ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ok(t,e){return t.button===0&&(!e||e==="_self")&&!Ik(t)}var x1=null;function Rk(){if(x1===null)try{new FormData(document.createElement("form"),0),x1=!1}catch{x1=!0}return x1}var Nk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dv(t){return t!=null&&!Nk.has(t)?(Cs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${q1}"`),null):t}function Dk(t,e){let n,r,i,a,u;if(Ck(t)){let g=t.getAttribute("action");r=g?Jo(g,e):null,n=t.getAttribute("method")||H1,i=dv(t.getAttribute("enctype"))||q1,a=new FormData(t)}else if(_k(t)||Tk(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||g.getAttribute("action");if(r=m?Jo(m,e):null,n=t.getAttribute("formmethod")||g.getAttribute("method")||H1,i=dv(t.getAttribute("formenctype"))||dv(g.getAttribute("enctype"))||q1,a=new FormData(g,t),!Rk()){let{name:d,type:v,value:w}=t;if(v==="image"){let S=d?`${d}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else d&&a.append(d,w)}}else{if(dm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=H1,r=null,i=q1,u=t}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ob(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Jo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Pk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kk(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await Pk(a,n);return u.links?u.links():[]}return[]}));return Fk(r.flat(1).filter(Lk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DC(t,e,n,r,i,a){let u=(m,d)=>n[d]?m.route.id!==n[d].route.id:!0,g=(m,d)=>n[d].pathname!==m.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==m.params["*"];return a==="assets"?e.filter((m,d)=>u(m,d)||g(m,d)):a==="data"?e.filter((m,d)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,d)||g(m,d))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function jk(t,e,{includeHydrateFallback:n}={}){return Bk(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Bk(t){return[...new Set(t)]}function Uk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Fk(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(Uk(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function jR(){let t=R.useContext(Hf);return Ob(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Vk(){let t=R.useContext(fm);return Ob(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rb=R.createContext(void 0);Rb.displayName="FrameworkContext";function BR(){let t=R.useContext(Rb);return Ob(t,"You must render this element inside a <HydratedRouter> element"),t}function zk(t,e){let n=R.useContext(Rb),[r,i]=R.useState(!1),[a,u]=R.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:d,onMouseLeave:v,onTouchStart:w}=e,S=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=B=>{B.forEach($=>{u($.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[t]),R.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let T=()=>{i(!0)},N=()=>{i(!1),u(!1)};return n?t!=="intent"?[a,S,{}]:[a,S,{onFocus:Xh(g,T),onBlur:Xh(m,N),onMouseEnter:Xh(d,T),onMouseLeave:Xh(v,N),onTouchStart:Xh(w,T)}]:[!1,S,{}]}function Xh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Hk({page:t,...e}){let{router:n}=jR(),r=R.useMemo(()=>IR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(Gk,{page:t,matches:r,...e}):null}function qk(t){let{manifest:e,routeModules:n}=BR(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return kk(t,e,n).then(u=>{a||i(u)}),()=>{a=!0}},[t,e,n]),r}function Gk({page:t,matches:e,...n}){let r=xc(),{manifest:i,routeModules:a}=BR(),{basename:u}=jR(),{loaderData:g,matches:m}=Vk(),d=R.useMemo(()=>DC(t,e,m,i,r,"data"),[t,e,m,i,r]),v=R.useMemo(()=>DC(t,e,m,i,r,"assets"),[t,e,m,i,r]),w=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,M=!1;if(e.forEach(B=>{let $=i.routes[B.route.id];!$||!$.hasLoader||(!d.some(q=>q.route.id===B.route.id)&&B.route.id in g&&a[B.route.id]?.shouldRevalidate||$.hasClientLoader?M=!0:N.add(B.route.id))}),N.size===0)return[];let P=Mk(t,u,"data");return M&&N.size>0&&P.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[P.pathname+P.search]},[u,g,r,i,d,e,t,a]),S=R.useMemo(()=>jk(v,i),[v,i]),T=qk(v);return R.createElement(R.Fragment,null,w.map(N=>R.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),S.map(N=>R.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),T.map(({key:N,link:M})=>R.createElement("link",{key:N,nonce:n.nonce,...M})))}function Wk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UR&&(window.__reactRouterVersion="7.8.0")}catch{}function Yk({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=PL({window:n,v5Compat:!0}));let i=r.current,[a,u]=R.useState({action:i.action,location:i.location}),g=R.useCallback(m=>{R.startTransition(()=>u(m))},[u]);return R.useLayoutEffect(()=>i.listen(g),[i,g]),R.createElement(Ak,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var FR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xd=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:g,target:m,to:d,preventScrollReset:v,viewTransition:w,...S},T){let{basename:N}=R.useContext(Gs),M=typeof d=="string"&&FR.test(d),P,B=!1;if(typeof d=="string"&&M&&(P=d,UR))try{let F=new URL(window.location.href),Z=d.startsWith("//")?new URL(F.protocol+d):new URL(d),z=Jo(Z.pathname,N);Z.origin===F.origin&&z!=null?d=z+Z.search+Z.hash:B=!0}catch{Cs(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=ok(d,{relative:i}),[q,te,X]=zk(r,S),ee=Kk(d,{replace:u,state:g,target:m,preventScrollReset:v,relative:i,viewTransition:w});function j(F){e&&e(F),F.defaultPrevented||ee(F)}let G=R.createElement("a",{...S,...X,href:P||$,onClick:B||a?e:j,ref:Wk(T,te),target:m,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?R.createElement(R.Fragment,null,G,R.createElement(Hk,{page:$})):G});xd.displayName="Link";var xa=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:g,children:m,...d},v){let w=qd(u,{relative:d.relative}),S=xc(),T=R.useContext(fm),{navigator:N,basename:M}=R.useContext(Gs),P=T!=null&&t7(w)&&g===!0,B=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,$=S.pathname,q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||($=$.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&M&&(q=Jo(q,M)||q);const te=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let X=$===B||!i&&$.startsWith(B)&&$.charAt(te)==="/",ee=q!=null&&(q===B||!i&&q.startsWith(B)&&q.charAt(B.length)==="/"),j={isActive:X,isPending:ee,isTransitioning:P},G=X?e:void 0,F;typeof r=="function"?F=r(j):F=[r,X?"active":null,ee?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a(j):a;return R.createElement(xd,{...d,"aria-current":G,className:F,ref:v,style:Z,to:u,viewTransition:g},typeof m=="function"?m(j):m)});xa.displayName="NavLink";var $k=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:u=H1,action:g,onSubmit:m,relative:d,preventScrollReset:v,viewTransition:w,...S},T)=>{let N=Jk(),M=e7(g,{relative:d}),P=u.toLowerCase()==="get"?"get":"post",B=typeof g=="string"&&FR.test(g),$=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let te=q.nativeEvent.submitter,X=te?.getAttribute("formmethod")||u;N(te||q.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:i,state:a,relative:d,preventScrollReset:v,viewTransition:w})};return R.createElement("form",{ref:T,method:P,action:M,onSubmit:r?m:$,...S,"data-discover":!B&&t==="render"?"true":void 0})});$k.displayName="Form";function Xk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(t){let e=R.useContext(Hf);return dr(e,Xk(t)),e}function Kk(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let g=hm(),m=xc(),d=qd(t,{relative:a});return R.useCallback(v=>{if(Ok(v,e)){v.preventDefault();let w=n!==void 0?n:vd(m)===vd(d);g(t,{replace:w,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[m,g,d,n,r,e,t,i,a,u])}var Qk=0,Zk=()=>`__${String(++Qk)}__`;function Jk(){let{router:t}=VR("useSubmit"),{basename:e}=R.useContext(Gs),n=vk();return R.useCallback(async(r,i={})=>{let{action:a,method:u,encType:g,formData:m,body:d}=Dk(r,e);if(i.navigate===!1){let v=i.fetcherKey||Zk();await t.fetch(v,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:d,formMethod:i.method||u,formEncType:i.encType||g,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:d,formMethod:i.method||u,formEncType:i.encType||g,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function e7(t,{relative:e}={}){let{basename:n}=R.useContext(Gs),r=R.useContext(wo);dr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...qd(t||".",{relative:e})},u=xc();if(t==null){a.search=u.search;let g=new URLSearchParams(a.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(w=>w).forEach(w=>g.append("index",w));let v=g.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Xo([n,a.pathname])),vd(a)}function t7(t,{relative:e}={}){let n=R.useContext(DR);dr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VR("useViewTransitionState"),i=qd(t,{relative:e});if(!n.isTransitioning)return!1;let a=Jo(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Jo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eg(i.pathname,u)!=null||eg(i.pathname,a)!=null}var zR=TR(),HR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MC=zn.createContext&&zn.createContext(HR),n7=["attr","size","title"];function r7(t,e){if(t==null)return{};var n=i7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){a7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a7(t,e,n){return e=s7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s7(t){var e=o7(t,"string");return typeof e=="symbol"?e:e+""}function o7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qR(t){return t&&t.map((e,n)=>zn.createElement(e.tag,ng({key:n},e.attr),qR(e.child)))}function GR(t){return e=>zn.createElement(l7,tg({attr:ng({},t.attr)},e),qR(t.child))}function l7(t){var e=n=>{var{attr:r,size:i,title:a}=t,u=r7(t,n7),g=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),zn.createElement("svg",tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:m,style:ng(ng({color:t.color||n.color},n.style),t.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),a&&zn.createElement("title",null,a),t.children)};return MC!==void 0?zn.createElement(MC.Consumer,null,n=>e(n)):e(HR)}function WR(t){return GR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function YR(t){return GR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}const c7=()=>{};var LC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],u=t[n++],g=t[n++],m=((i&7)<<18|(a&63)<<12|(u&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},XR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],u=i+1<t.length,g=u?t[i+1]:0,m=i+2<t.length,d=m?t[i+2]:0,v=a>>2,w=(a&3)<<4|g>>4;let S=(g&15)<<2|d>>6,T=d&63;m||(T=64,u||(S=64)),r.push(n[v],n[w],n[S],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($R(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],g=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||g==null||d==null||w==null)throw new f7;const S=a<<2|g>>4;if(r.push(S),d!==64){const T=g<<4&240|d>>2;if(r.push(T),w!==64){const N=d<<6&192|w;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h7=function(t){const e=$R(t);return XR.encodeByteArray(e,!0)},rg=function(t){return h7(t).replace(/\./g,"")},d7=function(t){try{return XR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=()=>g7().__FIREBASE_DEFAULTS__,p7=()=>{if(typeof process>"u"||typeof LC>"u")return;const t=LC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d7(t[1]);return e&&JSON.parse(e)},Nb=()=>{try{return c7()||m7()||p7()||y7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v7=t=>Nb()?.emulatorHosts?.[t],KR=t=>{const e=v7(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QR=()=>Nb()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rg(JSON.stringify(n)),rg(JSON.stringify(u)),""].join(".")}const hd={};function b7(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function w7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kC=!1;function eN(t,e){if(typeof window>"u"||typeof document>"u"||!gm(window.location.host)||hd[t]===e||hd[t]||kC)return;hd[t]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",a=b7().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,T){S.setAttribute("width","24"),S.setAttribute("id",T),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function d(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{kC=!0,u()},S}function v(S,T){S.setAttribute("id",T),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=w7(r),T=n("text"),N=document.getElementById(T)||document.createElement("span"),M=n("learnmore"),P=document.getElementById(M)||document.createElement("a"),B=n("preprendIcon"),$=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;g(q),v(P,M);const te=d();m($,B),q.append($,N,P,te),document.body.appendChild(q)}a?(N.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A7(){const t=Nb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S7(){return!A7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _7(){try{return typeof indexedDB=="object"}catch{return!1}}function C7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="FirebaseError";class xu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T7,Object.setPrototypeOf(this,xu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tN.prototype.create)}}class tN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?I7(a,r):"Error",g=`${this.serviceName}: ${u} (${i}).`;return new xu(i,g,r)}}function I7(t,e){return t.replace(O7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O7=/\{\$([^}]+)}/g;function ig(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],u=e[i];if(jC(a)&&jC(u)){if(!ig(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){return t&&t._delegate?t._delegate:t}class Cf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D7(e))try{this.getOrInitializeService({instanceIdentifier:Gc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Gc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gc){return this.instances.has(e)}getOptions(e=Gc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(a);r===g&&u.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gc){return this.component?this.component.multipleInstances?e:Gc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N7(t){return t===Gc?void 0:t}function D7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(on||(on={}));const P7={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},L7=on.INFO,k7={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},j7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nN{constructor(e){this.name=e,this._logLevel=L7,this._logHandler=j7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...e),this._logHandler(this,on.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...e),this._logHandler(this,on.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,on.INFO,...e),this._logHandler(this,on.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,on.WARN,...e),this._logHandler(this,on.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,on.ERROR,...e),this._logHandler(this,on.ERROR,...e)}}const B7=(t,e)=>e.some(n=>t instanceof n);let BC,UC;function U7(){return BC||(BC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F7(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rN=new WeakMap,r2=new WeakMap,iN=new WeakMap,gv=new WeakMap,Db=new WeakMap;function V7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ec(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&rN.set(n,t)}).catch(()=>{}),Db.set(e,t),e}function z7(t){if(r2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});r2.set(t,e)}let i2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ec(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H7(t){i2=t(i2)}function q7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mv(this),e,...n);return iN.set(r,e.sort?e.sort():[e]),ec(r)}:F7().includes(t)?function(...e){return t.apply(mv(this),e),ec(rN.get(this))}:function(...e){return ec(t.apply(mv(this),e))}}function G7(t){return typeof t=="function"?q7(t):(t instanceof IDBTransaction&&z7(t),B7(t,U7())?new Proxy(t,i2):t)}function ec(t){if(t instanceof IDBRequest)return V7(t);if(gv.has(t))return gv.get(t);const e=G7(t);return e!==t&&(gv.set(t,e),Db.set(e,t)),e}const mv=t=>Db.get(t);function W7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(t,e),g=ec(u);return r&&u.addEventListener("upgradeneeded",m=>{r(ec(u.result),m.oldVersion,m.newVersion,ec(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),g}const Y7=["get","getKey","getAll","getAllKeys","count"],$7=["put","add","delete","clear"],pv=new Map;function FC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y7.includes(n)))return;const a=async function(u,...g){const m=this.transaction(u,i?"readwrite":"readonly");let d=m.store;return r&&(d=d.index(g.shift())),(await Promise.all([d[n](...g),i&&m.done]))[0]};return pv.set(e,a),a}H7(t=>({...t,get:(e,n,r)=>FC(e,n)||t.get(e,n,r),has:(e,n)=>!!FC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K7(t){return t.getComponent()?.type==="VERSION"}const a2="@firebase/app",VC="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new nN("@firebase/app"),Q7="@firebase/app-compat",Z7="@firebase/analytics-compat",J7="@firebase/analytics",ej="@firebase/app-check-compat",tj="@firebase/app-check",nj="@firebase/auth",rj="@firebase/auth-compat",ij="@firebase/database",aj="@firebase/data-connect",sj="@firebase/database-compat",oj="@firebase/functions",lj="@firebase/functions-compat",cj="@firebase/installations",uj="@firebase/installations-compat",fj="@firebase/messaging",hj="@firebase/messaging-compat",dj="@firebase/performance",gj="@firebase/performance-compat",mj="@firebase/remote-config",pj="@firebase/remote-config-compat",yj="@firebase/storage",vj="@firebase/storage-compat",xj="@firebase/firestore",bj="@firebase/ai",wj="@firebase/firestore-compat",Ej="firebase",Aj="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="[DEFAULT]",Sj={[a2]:"fire-core",[Q7]:"fire-core-compat",[J7]:"fire-analytics",[Z7]:"fire-analytics-compat",[tj]:"fire-app-check",[ej]:"fire-app-check-compat",[nj]:"fire-auth",[rj]:"fire-auth-compat",[ij]:"fire-rtdb",[aj]:"fire-data-connect",[sj]:"fire-rtdb-compat",[oj]:"fire-fn",[lj]:"fire-fn-compat",[cj]:"fire-iid",[uj]:"fire-iid-compat",[fj]:"fire-fcm",[hj]:"fire-fcm-compat",[dj]:"fire-perf",[gj]:"fire-perf-compat",[mj]:"fire-rc",[pj]:"fire-rc-compat",[yj]:"fire-gcs",[vj]:"fire-gcs-compat",[xj]:"fire-fst",[wj]:"fire-fst-compat",[bj]:"fire-vertex","fire-js":"fire-js",[Ej]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map,_j=new Map,o2=new Map;function zC(t,e){try{t.container.addComponent(e)}catch(n){el.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bd(t){const e=t.name;if(o2.has(e))return el.debug(`There were multiple attempts to register component ${e}.`),!1;o2.set(e,t);for(const n of ag.values())zC(n,t);for(const n of _j.values())zC(n,t);return!0}function aN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tc=new tN("app","Firebase",Cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=Aj;function mm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:s2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw tc.create("bad-app-name",{appName:String(i)});if(n||(n=QR()),!n)throw tc.create("no-options");const a=ag.get(i);if(a){if(ig(n,a.options)&&ig(r,a.config))return a;throw tc.create("duplicate-app",{appName:i})}const u=new M7(i);for(const m of o2.values())u.addComponent(m);const g=new Tj(n,r,u);return ag.set(i,g),g}function lN(t=s2){const e=ag.get(t);if(!e&&t===s2&&QR())return mm();if(!e)throw tc.create("no-app",{appName:t});return e}function nc(t,e,n){let r=Sj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),el.warn(u.join(" "));return}bd(new Cf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="firebase-heartbeat-database",Oj=1,wd="firebase-heartbeat-store";let yv=null;function cN(){return yv||(yv=W7(Ij,Oj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw tc.create("idb-open",{originalErrorMessage:t.message})})),yv}async function Rj(t){try{const n=(await cN()).transaction(wd),r=await n.objectStore(wd).get(uN(t));return await n.done,r}catch(e){if(e instanceof xu)el.warn(e.message);else{const n=tc.create("idb-get",{originalErrorMessage:e?.message});el.warn(n.message)}}}async function HC(t,e){try{const r=(await cN()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,uN(t)),await r.done}catch(n){if(n instanceof xu)el.warn(n.message);else{const r=tc.create("idb-set",{originalErrorMessage:n?.message});el.warn(r.message)}}}function uN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=1024,Dj=30;class Mj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Dj){const i=kj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){el.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qC(),{heartbeatsToSend:n,unsentEntries:r}=Pj(this._heartbeatsCache.heartbeats),i=rg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return el.warn(e),""}}}function qC(){return new Date().toISOString().substring(0,10)}function Pj(t,e=Nj){const n=[];let r=t.slice();for(const i of t){const a=n.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),GC(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _7()?C7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GC(t){return rg(JSON.stringify({version:2,heartbeats:t})).length}function kj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){bd(new Cf("platform-logger",e=>new X7(e),"PRIVATE")),bd(new Cf("heartbeat",e=>new Mj(e),"PRIVATE")),nc(a2,VC,t),nc(a2,VC,"esm2020"),nc("fire-js","")}jj("");var WC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rc,fN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,G){function F(){}F.prototype=G.prototype,j.D=G.prototype,j.prototype=new F,j.prototype.constructor=j,j.C=function(Z,z,K){for(var U=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)U[ue-2]=arguments[ue];return G.prototype[z].apply(Z,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,G,F){F||(F=0);var Z=Array(16);if(typeof G=="string")for(var z=0;16>z;++z)Z[z]=G.charCodeAt(F++)|G.charCodeAt(F++)<<8|G.charCodeAt(F++)<<16|G.charCodeAt(F++)<<24;else for(z=0;16>z;++z)Z[z]=G[F++]|G[F++]<<8|G[F++]<<16|G[F++]<<24;G=j.g[0],F=j.g[1],z=j.g[2];var K=j.g[3],U=G+(K^F&(z^K))+Z[0]+3614090360&4294967295;G=F+(U<<7&4294967295|U>>>25),U=K+(z^G&(F^z))+Z[1]+3905402710&4294967295,K=G+(U<<12&4294967295|U>>>20),U=z+(F^K&(G^F))+Z[2]+606105819&4294967295,z=K+(U<<17&4294967295|U>>>15),U=F+(G^z&(K^G))+Z[3]+3250441966&4294967295,F=z+(U<<22&4294967295|U>>>10),U=G+(K^F&(z^K))+Z[4]+4118548399&4294967295,G=F+(U<<7&4294967295|U>>>25),U=K+(z^G&(F^z))+Z[5]+1200080426&4294967295,K=G+(U<<12&4294967295|U>>>20),U=z+(F^K&(G^F))+Z[6]+2821735955&4294967295,z=K+(U<<17&4294967295|U>>>15),U=F+(G^z&(K^G))+Z[7]+4249261313&4294967295,F=z+(U<<22&4294967295|U>>>10),U=G+(K^F&(z^K))+Z[8]+1770035416&4294967295,G=F+(U<<7&4294967295|U>>>25),U=K+(z^G&(F^z))+Z[9]+2336552879&4294967295,K=G+(U<<12&4294967295|U>>>20),U=z+(F^K&(G^F))+Z[10]+4294925233&4294967295,z=K+(U<<17&4294967295|U>>>15),U=F+(G^z&(K^G))+Z[11]+2304563134&4294967295,F=z+(U<<22&4294967295|U>>>10),U=G+(K^F&(z^K))+Z[12]+1804603682&4294967295,G=F+(U<<7&4294967295|U>>>25),U=K+(z^G&(F^z))+Z[13]+4254626195&4294967295,K=G+(U<<12&4294967295|U>>>20),U=z+(F^K&(G^F))+Z[14]+2792965006&4294967295,z=K+(U<<17&4294967295|U>>>15),U=F+(G^z&(K^G))+Z[15]+1236535329&4294967295,F=z+(U<<22&4294967295|U>>>10),U=G+(z^K&(F^z))+Z[1]+4129170786&4294967295,G=F+(U<<5&4294967295|U>>>27),U=K+(F^z&(G^F))+Z[6]+3225465664&4294967295,K=G+(U<<9&4294967295|U>>>23),U=z+(G^F&(K^G))+Z[11]+643717713&4294967295,z=K+(U<<14&4294967295|U>>>18),U=F+(K^G&(z^K))+Z[0]+3921069994&4294967295,F=z+(U<<20&4294967295|U>>>12),U=G+(z^K&(F^z))+Z[5]+3593408605&4294967295,G=F+(U<<5&4294967295|U>>>27),U=K+(F^z&(G^F))+Z[10]+38016083&4294967295,K=G+(U<<9&4294967295|U>>>23),U=z+(G^F&(K^G))+Z[15]+3634488961&4294967295,z=K+(U<<14&4294967295|U>>>18),U=F+(K^G&(z^K))+Z[4]+3889429448&4294967295,F=z+(U<<20&4294967295|U>>>12),U=G+(z^K&(F^z))+Z[9]+568446438&4294967295,G=F+(U<<5&4294967295|U>>>27),U=K+(F^z&(G^F))+Z[14]+3275163606&4294967295,K=G+(U<<9&4294967295|U>>>23),U=z+(G^F&(K^G))+Z[3]+4107603335&4294967295,z=K+(U<<14&4294967295|U>>>18),U=F+(K^G&(z^K))+Z[8]+1163531501&4294967295,F=z+(U<<20&4294967295|U>>>12),U=G+(z^K&(F^z))+Z[13]+2850285829&4294967295,G=F+(U<<5&4294967295|U>>>27),U=K+(F^z&(G^F))+Z[2]+4243563512&4294967295,K=G+(U<<9&4294967295|U>>>23),U=z+(G^F&(K^G))+Z[7]+1735328473&4294967295,z=K+(U<<14&4294967295|U>>>18),U=F+(K^G&(z^K))+Z[12]+2368359562&4294967295,F=z+(U<<20&4294967295|U>>>12),U=G+(F^z^K)+Z[5]+4294588738&4294967295,G=F+(U<<4&4294967295|U>>>28),U=K+(G^F^z)+Z[8]+2272392833&4294967295,K=G+(U<<11&4294967295|U>>>21),U=z+(K^G^F)+Z[11]+1839030562&4294967295,z=K+(U<<16&4294967295|U>>>16),U=F+(z^K^G)+Z[14]+4259657740&4294967295,F=z+(U<<23&4294967295|U>>>9),U=G+(F^z^K)+Z[1]+2763975236&4294967295,G=F+(U<<4&4294967295|U>>>28),U=K+(G^F^z)+Z[4]+1272893353&4294967295,K=G+(U<<11&4294967295|U>>>21),U=z+(K^G^F)+Z[7]+4139469664&4294967295,z=K+(U<<16&4294967295|U>>>16),U=F+(z^K^G)+Z[10]+3200236656&4294967295,F=z+(U<<23&4294967295|U>>>9),U=G+(F^z^K)+Z[13]+681279174&4294967295,G=F+(U<<4&4294967295|U>>>28),U=K+(G^F^z)+Z[0]+3936430074&4294967295,K=G+(U<<11&4294967295|U>>>21),U=z+(K^G^F)+Z[3]+3572445317&4294967295,z=K+(U<<16&4294967295|U>>>16),U=F+(z^K^G)+Z[6]+76029189&4294967295,F=z+(U<<23&4294967295|U>>>9),U=G+(F^z^K)+Z[9]+3654602809&4294967295,G=F+(U<<4&4294967295|U>>>28),U=K+(G^F^z)+Z[12]+3873151461&4294967295,K=G+(U<<11&4294967295|U>>>21),U=z+(K^G^F)+Z[15]+530742520&4294967295,z=K+(U<<16&4294967295|U>>>16),U=F+(z^K^G)+Z[2]+3299628645&4294967295,F=z+(U<<23&4294967295|U>>>9),U=G+(z^(F|~K))+Z[0]+4096336452&4294967295,G=F+(U<<6&4294967295|U>>>26),U=K+(F^(G|~z))+Z[7]+1126891415&4294967295,K=G+(U<<10&4294967295|U>>>22),U=z+(G^(K|~F))+Z[14]+2878612391&4294967295,z=K+(U<<15&4294967295|U>>>17),U=F+(K^(z|~G))+Z[5]+4237533241&4294967295,F=z+(U<<21&4294967295|U>>>11),U=G+(z^(F|~K))+Z[12]+1700485571&4294967295,G=F+(U<<6&4294967295|U>>>26),U=K+(F^(G|~z))+Z[3]+2399980690&4294967295,K=G+(U<<10&4294967295|U>>>22),U=z+(G^(K|~F))+Z[10]+4293915773&4294967295,z=K+(U<<15&4294967295|U>>>17),U=F+(K^(z|~G))+Z[1]+2240044497&4294967295,F=z+(U<<21&4294967295|U>>>11),U=G+(z^(F|~K))+Z[8]+1873313359&4294967295,G=F+(U<<6&4294967295|U>>>26),U=K+(F^(G|~z))+Z[15]+4264355552&4294967295,K=G+(U<<10&4294967295|U>>>22),U=z+(G^(K|~F))+Z[6]+2734768916&4294967295,z=K+(U<<15&4294967295|U>>>17),U=F+(K^(z|~G))+Z[13]+1309151649&4294967295,F=z+(U<<21&4294967295|U>>>11),U=G+(z^(F|~K))+Z[4]+4149444226&4294967295,G=F+(U<<6&4294967295|U>>>26),U=K+(F^(G|~z))+Z[11]+3174756917&4294967295,K=G+(U<<10&4294967295|U>>>22),U=z+(G^(K|~F))+Z[2]+718787259&4294967295,z=K+(U<<15&4294967295|U>>>17),U=F+(K^(z|~G))+Z[9]+3951481745&4294967295,j.g[0]=j.g[0]+G&4294967295,j.g[1]=j.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+K&4294967295}r.prototype.u=function(j,G){G===void 0&&(G=j.length);for(var F=G-this.blockSize,Z=this.B,z=this.h,K=0;K<G;){if(z==0)for(;K<=F;)i(this,j,K),K+=this.blockSize;if(typeof j=="string"){for(;K<G;)if(Z[z++]=j.charCodeAt(K++),z==this.blockSize){i(this,Z),z=0;break}}else for(;K<G;)if(Z[z++]=j[K++],z==this.blockSize){i(this,Z),z=0;break}}this.h=z,this.o+=G},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var G=1;G<j.length-8;++G)j[G]=0;var F=8*this.o;for(G=j.length-8;G<j.length;++G)j[G]=F&255,F/=256;for(this.u(j),j=Array(16),G=F=0;4>G;++G)for(var Z=0;32>Z;Z+=8)j[F++]=this.g[G]>>>Z&255;return j};function a(j,G){var F=g;return Object.prototype.hasOwnProperty.call(F,j)?F[j]:F[j]=G(j)}function u(j,G){this.h=G;for(var F=[],Z=!0,z=j.length-1;0<=z;z--){var K=j[z]|0;Z&&K==G||(F[z]=K,Z=!1)}this.g=F}var g={};function m(j){return-128<=j&&128>j?a(j,function(G){return new u([G|0],0>G?-1:0)}):new u([j|0],0>j?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return w;if(0>j)return P(d(-j));for(var G=[],F=1,Z=0;j>=F;Z++)G[Z]=j/F|0,F*=4294967296;return new u(G,0)}function v(j,G){if(j.length==0)throw Error("number format error: empty string");if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(j.charAt(0)=="-")return P(v(j.substring(1),G));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=d(Math.pow(G,8)),Z=w,z=0;z<j.length;z+=8){var K=Math.min(8,j.length-z),U=parseInt(j.substring(z,z+K),G);8>K?(K=d(Math.pow(G,K)),Z=Z.j(K).add(d(U))):(Z=Z.j(F),Z=Z.add(d(U)))}return Z}var w=m(0),S=m(1),T=m(16777216);t=u.prototype,t.m=function(){if(M(this))return-P(this).m();for(var j=0,G=1,F=0;F<this.g.length;F++){var Z=this.i(F);j+=(0<=Z?Z:4294967296+Z)*G,G*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(N(this))return"0";if(M(this))return"-"+P(this).toString(j);for(var G=d(Math.pow(j,6)),F=this,Z="";;){var z=te(F,G).g;F=B(F,z.j(G));var K=((0<F.g.length?F.g[0]:F.h)>>>0).toString(j);if(F=z,N(F))return K+Z;for(;6>K.length;)K="0"+K;Z=K+Z}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function N(j){if(j.h!=0)return!1;for(var G=0;G<j.g.length;G++)if(j.g[G]!=0)return!1;return!0}function M(j){return j.h==-1}t.l=function(j){return j=B(this,j),M(j)?-1:N(j)?0:1};function P(j){for(var G=j.g.length,F=[],Z=0;Z<G;Z++)F[Z]=~j.g[Z];return new u(F,~j.h).add(S)}t.abs=function(){return M(this)?P(this):this},t.add=function(j){for(var G=Math.max(this.g.length,j.g.length),F=[],Z=0,z=0;z<=G;z++){var K=Z+(this.i(z)&65535)+(j.i(z)&65535),U=(K>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);Z=U>>>16,K&=65535,U&=65535,F[z]=U<<16|K}return new u(F,F[F.length-1]&-2147483648?-1:0)};function B(j,G){return j.add(P(G))}t.j=function(j){if(N(this)||N(j))return w;if(M(this))return M(j)?P(this).j(P(j)):P(P(this).j(j));if(M(j))return P(this.j(P(j)));if(0>this.l(T)&&0>j.l(T))return d(this.m()*j.m());for(var G=this.g.length+j.g.length,F=[],Z=0;Z<2*G;Z++)F[Z]=0;for(Z=0;Z<this.g.length;Z++)for(var z=0;z<j.g.length;z++){var K=this.i(Z)>>>16,U=this.i(Z)&65535,ue=j.i(z)>>>16,se=j.i(z)&65535;F[2*Z+2*z]+=U*se,$(F,2*Z+2*z),F[2*Z+2*z+1]+=K*se,$(F,2*Z+2*z+1),F[2*Z+2*z+1]+=U*ue,$(F,2*Z+2*z+1),F[2*Z+2*z+2]+=K*ue,$(F,2*Z+2*z+2)}for(Z=0;Z<G;Z++)F[Z]=F[2*Z+1]<<16|F[2*Z];for(Z=G;Z<2*G;Z++)F[Z]=0;return new u(F,0)};function $(j,G){for(;(j[G]&65535)!=j[G];)j[G+1]+=j[G]>>>16,j[G]&=65535,G++}function q(j,G){this.g=j,this.h=G}function te(j,G){if(N(G))throw Error("division by zero");if(N(j))return new q(w,w);if(M(j))return G=te(P(j),G),new q(P(G.g),P(G.h));if(M(G))return G=te(j,P(G)),new q(P(G.g),G.h);if(30<j.g.length){if(M(j)||M(G))throw Error("slowDivide_ only works with positive integers.");for(var F=S,Z=G;0>=Z.l(j);)F=X(F),Z=X(Z);var z=ee(F,1),K=ee(Z,1);for(Z=ee(Z,2),F=ee(F,2);!N(Z);){var U=K.add(Z);0>=U.l(j)&&(z=z.add(F),K=U),Z=ee(Z,1),F=ee(F,1)}return G=B(j,z.j(G)),new q(z,G)}for(z=w;0<=j.l(G);){for(F=Math.max(1,Math.floor(j.m()/G.m())),Z=Math.ceil(Math.log(F)/Math.LN2),Z=48>=Z?1:Math.pow(2,Z-48),K=d(F),U=K.j(G);M(U)||0<U.l(j);)F-=Z,K=d(F),U=K.j(G);N(K)&&(K=S),z=z.add(K),j=B(j,U)}return new q(z,j)}t.A=function(j){return te(this,j).h},t.and=function(j){for(var G=Math.max(this.g.length,j.g.length),F=[],Z=0;Z<G;Z++)F[Z]=this.i(Z)&j.i(Z);return new u(F,this.h&j.h)},t.or=function(j){for(var G=Math.max(this.g.length,j.g.length),F=[],Z=0;Z<G;Z++)F[Z]=this.i(Z)|j.i(Z);return new u(F,this.h|j.h)},t.xor=function(j){for(var G=Math.max(this.g.length,j.g.length),F=[],Z=0;Z<G;Z++)F[Z]=this.i(Z)^j.i(Z);return new u(F,this.h^j.h)};function X(j){for(var G=j.g.length+1,F=[],Z=0;Z<G;Z++)F[Z]=j.i(Z)<<1|j.i(Z-1)>>>31;return new u(F,j.h)}function ee(j,G){var F=G>>5;G%=32;for(var Z=j.g.length-F,z=[],K=0;K<Z;K++)z[K]=0<G?j.i(K+F)>>>G|j.i(K+F+1)<<32-G:j.i(K+F);return new u(z,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fN=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=v,rc=u}).apply(typeof WC<"u"?WC:typeof self<"u"?self:typeof window<"u"?window:{});var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hN,id,dN,G1,l2,gN,mN,pN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,L,V){return A==Array.prototype||A==Object.prototype||(A[L]=V.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof b1=="object"&&b1];for(var L=0;L<A.length;++L){var V=A[L];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(A,L){if(L)e:{var V=r;A=A.split(".");for(var ne=0;ne<A.length-1;ne++){var pe=A[ne];if(!(pe in V))break e;V=V[pe]}A=A[A.length-1],ne=V[A],L=L(ne),L!=ne&&L!=null&&e(V,A,{configurable:!0,writable:!0,value:L})}}function a(A,L){A instanceof String&&(A+="");var V=0,ne=!1,pe={next:function(){if(!ne&&V<A.length){var Ce=V++;return{value:L(Ce,A[Ce]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}i("Array.prototype.values",function(A){return A||function(){return a(this,function(L,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},g=this||self;function m(A){var L=typeof A;return L=L!="object"?L:A?Array.isArray(A)?"array":L:"null",L=="array"||L=="object"&&typeof A.length=="number"}function d(A){var L=typeof A;return L=="object"&&A!=null||L=="function"}function v(A,L,V){return A.call.apply(A.bind,arguments)}function w(A,L,V){if(!A)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,ne),A.apply(L,pe)}}return function(){return A.apply(L,arguments)}}function S(A,L,V){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,S.apply(null,arguments)}function T(A,L){var V=Array.prototype.slice.call(arguments,1);return function(){var ne=V.slice();return ne.push.apply(ne,arguments),A.apply(this,ne)}}function N(A,L){function V(){}V.prototype=L.prototype,A.aa=L.prototype,A.prototype=new V,A.prototype.constructor=A,A.Qb=function(ne,pe,Ce){for(var qe=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)qe[$t-2]=arguments[$t];return L.prototype[pe].apply(ne,qe)}}function M(A){const L=A.length;if(0<L){const V=Array(L);for(let ne=0;ne<L;ne++)V[ne]=A[ne];return V}return[]}function P(A,L){for(let V=1;V<arguments.length;V++){const ne=arguments[V];if(m(ne)){const pe=A.length||0,Ce=ne.length||0;A.length=pe+Ce;for(let qe=0;qe<Ce;qe++)A[pe+qe]=ne[qe]}else A.push(ne)}}class B{constructor(L,V){this.i=L,this.j=V,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function $(A){return/^[\s\xa0]*$/.test(A)}function q(){var A=g.navigator;return A&&(A=A.userAgent)?A:""}function te(A){return te[" "](A),A}te[" "]=function(){};var X=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ee(A,L,V){for(const ne in A)L.call(V,A[ne],ne,A)}function j(A,L){for(const V in A)L.call(void 0,A[V],V,A)}function G(A){const L={};for(const V in A)L[V]=A[V];return L}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(A,L){let V,ne;for(let pe=1;pe<arguments.length;pe++){ne=arguments[pe];for(V in ne)A[V]=ne[V];for(let Ce=0;Ce<F.length;Ce++)V=F[Ce],Object.prototype.hasOwnProperty.call(ne,V)&&(A[V]=ne[V])}}function z(A){var L=1;A=A.split(":");const V=[];for(;0<L&&A.length;)V.push(A.shift()),L--;return A.length&&V.push(A.join(":")),V}function K(A){g.setTimeout(()=>{throw A},0)}function U(){var A=Ve;let L=null;return A.g&&(L=A.g,A.g=A.g.next,A.g||(A.h=null),L.next=null),L}class ue{constructor(){this.h=this.g=null}add(L,V){const ne=se.get();ne.set(L,V),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var se=new B(()=>new oe,A=>A.reset());class oe{constructor(){this.next=this.g=this.h=null}set(L,V){this.h=L,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Te=!1,Ve=new ue,ae=()=>{const A=g.Promise.resolve(void 0);ce=()=>{A.then(be)}};var be=()=>{for(var A;A=U();){try{A.h.call(A.g)}catch(V){K(V)}var L=se;L.j(A),100>L.h&&(L.h++,A.next=L.g,L.g=A)}Te=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(A,L){this.type=A,this.g=this.target=L,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var A=!1,L=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const V=()=>{};g.addEventListener("test",V,L),g.removeEventListener("test",V,L)}catch{}return A}();function rt(A,L){if(je.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var V=this.type=A.type,ne=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=L,L=A.relatedTarget){if(X){e:{try{te(L.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(L=null)}}else V=="mouseover"?L=A.fromElement:V=="mouseout"&&(L=A.toElement);this.relatedTarget=L,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:Ue[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&rt.aa.h.call(this)}}N(rt,je);var Ue={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),vt=0;function De(A,L,V,ne,pe){this.listener=A,this.proxy=null,this.src=L,this.type=V,this.capture=!!ne,this.ha=pe,this.key=++vt,this.da=this.fa=!1}function ht(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function it(A){this.src=A,this.g={},this.h=0}it.prototype.add=function(A,L,V,ne,pe){var Ce=A.toString();A=this.g[Ce],A||(A=this.g[Ce]=[],this.h++);var qe=st(A,L,ne,pe);return-1<qe?(L=A[qe],V||(L.fa=!1)):(L=new De(L,this.src,Ce,!!ne,pe),L.fa=V,A.push(L)),L};function Be(A,L){var V=L.type;if(V in A.g){var ne=A.g[V],pe=Array.prototype.indexOf.call(ne,L,void 0),Ce;(Ce=0<=pe)&&Array.prototype.splice.call(ne,pe,1),Ce&&(ht(L),A.g[V].length==0&&(delete A.g[V],A.h--))}}function st(A,L,V,ne){for(var pe=0;pe<A.length;++pe){var Ce=A[pe];if(!Ce.da&&Ce.listener==L&&Ce.capture==!!V&&Ce.ha==ne)return pe}return-1}var Tt="closure_lm_"+(1e6*Math.random()|0),tn={};function Xn(A,L,V,ne,pe){if(Array.isArray(L)){for(var Ce=0;Ce<L.length;Ce++)Xn(A,L[Ce],V,ne,pe);return null}return V=$s(V),A&&A[Pn]?A.K(L,V,d(ne)?!!ne.capture:!1,pe):jt(A,L,V,!1,ne,pe)}function jt(A,L,V,ne,pe,Ce){if(!L)throw Error("Invalid event type");var qe=d(pe)?!!pe.capture:!!pe,$t=pi(A);if($t||(A[Tt]=$t=new it(A)),V=$t.add(L,V,ne,qe,Ce),V.proxy)return V;if(ne=Jt(),V.proxy=ne,ne.src=A,ne.listener=V,A.addEventListener)Ye||(pe=qe),pe===void 0&&(pe=!1),A.addEventListener(L.toString(),ne,pe);else if(A.attachEvent)A.attachEvent($e(L.toString()),ne);else if(A.addListener&&A.removeListener)A.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Jt(){function A(V){return L.call(A.src,A.listener,V)}const L=Ys;return A}function It(A,L,V,ne,pe){if(Array.isArray(L))for(var Ce=0;Ce<L.length;Ce++)It(A,L[Ce],V,ne,pe);else ne=d(ne)?!!ne.capture:!!ne,V=$s(V),A&&A[Pn]?(A=A.i,L=String(L).toString(),L in A.g&&(Ce=A.g[L],V=st(Ce,V,ne,pe),-1<V&&(ht(Ce[V]),Array.prototype.splice.call(Ce,V,1),Ce.length==0&&(delete A.g[L],A.h--)))):A&&(A=pi(A))&&(L=A.g[L.toString()],A=-1,L&&(A=st(L,V,ne,pe)),(V=-1<A?L[A]:null)&&xn(V))}function xn(A){if(typeof A!="number"&&A&&!A.da){var L=A.src;if(L&&L[Pn])Be(L.i,A);else{var V=A.type,ne=A.proxy;L.removeEventListener?L.removeEventListener(V,ne,A.capture):L.detachEvent?L.detachEvent($e(V),ne):L.addListener&&L.removeListener&&L.removeListener(ne),(V=pi(L))?(Be(V,A),V.h==0&&(V.src=null,L[Tt]=null)):ht(A)}}}function $e(A){return A in tn?tn[A]:tn[A]="on"+A}function Ys(A,L){if(A.da)A=!0;else{L=new rt(L,this);var V=A.listener,ne=A.ha||A.src;A.fa&&xn(A),A=V.call(ne,L)}return A}function pi(A){return A=A[Tt],A instanceof it?A:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function $s(A){return typeof A=="function"?A:(A[yi]||(A[yi]=function(L){return A.handleEvent(L)}),A[yi])}function Yt(){Ie.call(this),this.i=new it(this),this.M=this,this.F=null}N(Yt,Ie),Yt.prototype[Pn]=!0,Yt.prototype.removeEventListener=function(A,L,V,ne){It(this,A,L,V,ne)};function nn(A,L){var V,ne=A.F;if(ne)for(V=[];ne;ne=ne.F)V.push(ne);if(A=A.M,ne=L.type||L,typeof L=="string")L=new je(L,A);else if(L instanceof je)L.target=L.target||A;else{var pe=L;L=new je(ne,A),Z(L,pe)}if(pe=!0,V)for(var Ce=V.length-1;0<=Ce;Ce--){var qe=L.g=V[Ce];pe=rr(qe,ne,!0,L)&&pe}if(qe=L.g=A,pe=rr(qe,ne,!0,L)&&pe,pe=rr(qe,ne,!1,L)&&pe,V)for(Ce=0;Ce<V.length;Ce++)qe=L.g=V[Ce],pe=rr(qe,ne,!1,L)&&pe}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var A=this.i,L;for(L in A.g){for(var V=A.g[L],ne=0;ne<V.length;ne++)ht(V[ne]);delete A.g[L],A.h--}}this.F=null},Yt.prototype.K=function(A,L,V,ne){return this.i.add(String(A),L,!1,V,ne)},Yt.prototype.L=function(A,L,V,ne){return this.i.add(String(A),L,!0,V,ne)};function rr(A,L,V,ne){if(L=A.i.g[String(L)],!L)return!0;L=L.concat();for(var pe=!0,Ce=0;Ce<L.length;++Ce){var qe=L[Ce];if(qe&&!qe.da&&qe.capture==V){var $t=qe.listener,er=qe.ha||qe.src;qe.fa&&Be(A.i,qe),pe=$t.call(er,ne)!==!1&&pe}}return pe&&!ne.defaultPrevented}function rn(A,L,V){if(typeof A=="function")V&&(A=S(A,V));else if(A&&typeof A.handleEvent=="function")A=S(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:g.setTimeout(A,L||0)}function tt(A){A.g=rn(()=>{A.g=null,A.i&&(A.i=!1,tt(A))},A.l);const L=A.h;A.h=null,A.m.apply(null,L)}class ut extends Ie{constructor(L,V){super(),this.m=L,this.l=V,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(A){Ie.call(this),this.h=A,this.g={}}N(Bt,Ie);var dt=[];function ke(A){ee(A.g,function(L,V){this.g.hasOwnProperty(V)&&xn(L)},A),A.g={}}Bt.prototype.N=function(){Bt.aa.N.call(this),ke(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=g.JSON.stringify,Ft=g.JSON.parse,un=class{stringify(A){return g.JSON.stringify(A,void 0)}parse(A){return g.JSON.parse(A,void 0)}};function Ns(){}Ns.prototype.h=null;function Ao(A){return A.h||(A.h=A.i())}function yl(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){je.call(this,"d")}N(vi,je);function vl(){je.call(this,"c")}N(vl,je);var _a={},xi=null;function ns(){return xi=xi||new Yt}_a.La="serverreachability";function vr(A){je.call(this,_a.La,A)}N(vr,je);function Qi(A){const L=ns();nn(L,new vr(L))}_a.STAT_EVENT="statevent";function So(A,L){je.call(this,_a.STAT_EVENT,A),this.stat=L}N(So,je);function en(A){const L=ns();nn(L,new So(L,A))}_a.Ma="timingevent";function Nr(A,L){je.call(this,_a.Ma,A),this.size=L}N(Nr,je);function On(A,L){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){A()},L)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function Fr(A,L,V,ne,pe,Ce){A.info(function(){if(A.g)if(Ce)for(var qe="",$t=Ce.split("&"),er=0;er<$t.length;er++){var Xt=$t[er].split("=");if(1<Xt.length){var Un=Xt[0];Xt=Xt[1];var cr=Un.split("_");qe=2<=cr.length&&cr[1]=="type"?qe+(Un+"="+Xt+"&"):qe+(Un+"=redacted&")}}else qe=null;else qe=Ce;return"XMLHTTP REQ ("+ne+") [attempt "+pe+"]: "+L+`
`+V+`
`+qe})}function Ds(A,L,V,ne,pe,Ce,qe){A.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+pe+"]: "+L+`
`+V+`
`+Ce+" "+qe})}function Dr(A,L,V,ne){A.info(function(){return"XMLHTTP TEXT ("+L+"): "+oa(A,V)+(ne?" "+ne:"")})}function Ke(A,L){A.info(function(){return"TIMEOUT: "+L})}Li.prototype.info=function(){};function oa(A,L){if(!A.g)return L;if(!L)return null;try{var V=JSON.parse(L);if(V){for(A=0;A<V.length;A++)if(Array.isArray(V[A])){var ne=V[A];if(!(2>ne.length)){var pe=ne[1];if(Array.isArray(pe)&&!(1>pe.length)){var Ce=pe[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(var qe=1;qe<pe.length;qe++)pe[qe]=""}}}}return bt(V)}catch{return L}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Zi(){}N(Zi,Ns),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},bi=new Zi;function Vr(A,L,V,ne){this.j=A,this.i=L,this.l=V,this.R=ne||1,this.U=new Bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fn}function fn(){this.i=null,this.g="",this.h=!1}var Ic={},xl={};function Er(A,L,V){A.L=1,A.v=qn(kt(L)),A.m=V,A.P=!0,Kn(A,null)}function Kn(A,L){A.F=Date.now(),ki(A),A.A=kt(A.v);var V=A.A,ne=A.R;Array.isArray(ne)||(ne=[String(ne)]),sr(V.i,"t",ne),A.C=0,V=A.j.J,A.h=new fn,A.g=Ru(A.j,V?L:null,!A.m),0<A.O&&(A.M=new ut(S(A.Y,A,A.g),A.O)),L=A.U,V=A.g,ne=A.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(dt[0]=pe.toString()),pe=dt);for(var Ce=0;Ce<pe.length;Ce++){var qe=Xn(V,pe[Ce],ne||L.handleEvent,!1,L.h||L);if(!qe)break;L.g[qe.key]=qe}L=A.H?G(A.H):{},A.m?(A.u||(A.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,L)):(A.u="GET",A.g.ea(A.A,A.u,null,L)),Qi(),Fr(A.i,A.u,A.A,A.l,A.R,A.m)}Vr.prototype.ca=function(A){A=A.target;const L=this.M;L&&ca(A)==3?L.j():this.Y(A)},Vr.prototype.Y=function(A){try{if(A==this.g)e:{const cr=ca(this.g);var L=this.g.Ba();const Sr=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||cr!=4||L==7||(L==8||0>=Sr?Qi(3):Qi(2)),Me(this);var V=this.g.Z();this.X=V;t:if(An(this)){var ne=Tu(this.g);A="";var pe=ne.length,Ce=ca(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),is(this);var qe="";break t}this.h.i=new g.TextDecoder}for(L=0;L<pe;L++)this.h.h=!0,A+=this.h.i.decode(ne[L],{stream:!(Ce&&L==pe-1)});ne.length=0,this.h.g+=A,this.C=0,qe=this.h.g}else qe=this.g.oa();if(this.o=V==200,Ds(this.i,this.u,this.A,this.l,this.R,cr,V),this.o){if(this.T&&!this.K){t:{if(this.g){var $t,er=this.g;if(($t=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$($t)){var Xt=$t;break t}}Xt=null}if(V=Xt)Dr(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,V);else{this.o=!1,this.s=3,en(12),Pt(this),is(this);break e}}if(this.P){V=!0;let zr;for(;!this.J&&this.C<qe.length;)if(zr=Oc(this,qe),zr==xl){cr==4&&(this.s=4,en(14),V=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(zr==Ic){this.s=4,en(15),Dr(this.i,this.l,qe,"[Invalid Chunk]"),V=!1;break}else Dr(this.i,this.l,zr,null),la(this,zr);if(An(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||qe.length!=0||this.h.h||(this.s=1,en(16),V=!1),this.o=this.o&&V,!V)Dr(this.i,this.l,qe,"[Invalid Chunked Response]"),Pt(this),is(this);else if(0<qe.length&&!this.W){this.W=!0;var Un=this.j;Un.g==this&&Un.ba&&!Un.M&&(Un.j.info("Great, no buffering proxy detected. Bytes received: "+qe.length),ks(Un),Un.M=!0,en(11))}}else Dr(this.i,this.l,qe,null),la(this,qe);cr==4&&Pt(this),this.o&&!this.J&&(cr==4?Bn(this.j,this):(this.o=!1,ki(this)))}else hn(this.g),V==400&&0<qe.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Pt(this),is(this)}}}catch{}finally{}};function An(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Oc(A,L){var V=A.C,ne=L.indexOf(`
`,V);return ne==-1?xl:(V=Number(L.substring(V,ne)),isNaN(V)?Ic:(ne+=1,ne+V>L.length?xl:(L=L.slice(ne,ne+V),A.C=ne+V,L)))}Vr.prototype.cancel=function(){this.J=!0,Pt(this)};function ki(A){A.S=Date.now()+A.I,bl(A,A.I)}function bl(A,L){if(A.B!=null)throw Error("WatchDog timer not null");A.B=On(S(A.ba,A),L)}function Me(A){A.B&&(g.clearTimeout(A.B),A.B=null)}Vr.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(Ke(this.i,this.A),this.L!=2&&(Qi(),en(17)),Pt(this),this.s=2,is(this)):bl(this,this.S-A)};function is(A){A.j.G==0||A.J||Bn(A.j,A)}function Pt(A){Me(A);var L=A.M;L&&typeof L.ma=="function"&&L.ma(),A.M=null,ke(A.U),A.g&&(L=A.g,A.g=null,L.abort(),L.ma())}function la(A,L){try{var V=A.j;if(V.G!=0&&(V.g==A||_o(V.h,A))){if(!A.K&&_o(V.h,A)&&V.G==3){try{var ne=V.Da.g.parse(L)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var pe=ne;if(pe[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<A.F)Js(V),Sl(V);else break e;Rc(V),en(18)}}else V.za=pe[1],0<V.za-V.T&&37500>pe[2]&&V.F&&V.v==0&&!V.C&&(V.C=On(S(V.Za,V),6e3));if(1>=Nt(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Ei(V,11)}else if((A.K||V.g==A)&&Js(V),!$(L))for(pe=V.Da.g.parse(L),L=0;L<pe.length;L++){let Xt=pe[L];if(V.T=Xt[0],Xt=Xt[1],V.G==2)if(Xt[0]=="c"){V.K=Xt[1],V.ia=Xt[2];const Un=Xt[3];Un!=null&&(V.la=Un,V.j.info("VER="+V.la));const cr=Xt[4];cr!=null&&(V.Aa=cr,V.j.info("SVER="+V.Aa));const Sr=Xt[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(ne=1.5*Sr,V.L=ne,V.j.info("backChannelRequestTimeoutMs_="+ne)),ne=V;const zr=A.g;if(zr){const Pr=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var Ce=ne.h;Ce.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(Xs(Ce,Ce.h),Ce.h=null))}if(ne.D){const Nc=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(ne.ya=Nc,We(ne.I,ne.D,Nc))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-A.F,V.j.info("Handshake RTT: "+V.R+"ms")),ne=V;var qe=A;if(ne.qa=ft(ne,ne.J?ne.ia:null,ne.W),qe.K){Kr(ne.h,qe);var $t=qe,er=ne.L;er&&($t.I=er),$t.B&&(Me($t),ki($t)),ne.g=qe}else Ou(ne);0<V.i.length&&St(V)}else Xt[0]!="stop"&&Xt[0]!="close"||Ei(V,7);else V.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Ei(V,7):ua(V):Xt[0]!="noop"&&V.l&&V.l.ta(Xt),V.v=0)}}Qi(4)}catch{}}var _u=class{constructor(A,L){this.g=A,this.map=L}};function Lt(A){this.l=A||10,g.PerformanceNavigationTiming?(A=g.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vt(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Nt(A){return A.h?1:A.g?A.g.size:0}function _o(A,L){return A.h?A.h==L:A.g?A.g.has(L):!1}function Xs(A,L){A.g?A.g.add(L):A.h=L}function Kr(A,L){A.h&&A.h==L?A.h=null:A.g&&A.g.has(L)&&A.g.delete(L)}Lt.prototype.cancel=function(){if(this.i=Qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Qn(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let L=A.i;for(const V of A.g.values())L=L.concat(V.D);return L}return M(A.i)}function as(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(m(A)){for(var L=[],V=A.length,ne=0;ne<V;ne++)L.push(A[ne]);return L}L=[],V=0;for(ne in A)L[V++]=A[ne];return L}function wl(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(m(A)||typeof A=="string"){var L=[];A=A.length;for(var V=0;V<A;V++)L.push(V);return L}L=[],V=0;for(const ne in A)L[V++]=ne;return L}}}function Ln(A,L){if(A.forEach&&typeof A.forEach=="function")A.forEach(L,void 0);else if(m(A)||typeof A=="string")Array.prototype.forEach.call(A,L,void 0);else for(var V=wl(A),ne=as(A),pe=ne.length,Ce=0;Ce<pe;Ce++)L.call(void 0,ne[Ce],V&&V[Ce],A)}var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(A,L){if(A){A=A.split("&");for(var V=0;V<A.length;V++){var ne=A[V].indexOf("="),pe=null;if(0<=ne){var Ce=A[V].substring(0,ne);pe=A[V].substring(ne+1)}else Ce=A[V];L(Ce,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function kn(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof kn){this.h=A.h,ar(this,A.j),this.o=A.o,this.g=A.g,me(this,A.s),this.l=A.l;var L=A.i,V=new Ca;V.i=L.i,L.g&&(V.g=new Map(L.g),V.h=L.h),re(this,V),this.m=A.m}else A&&(L=String(A).match(ji))?(this.h=!1,ar(this,L[1]||"",!0),this.o=Zn(L[2]||""),this.g=Zn(L[3]||"",!0),me(this,L[4]),this.l=Zn(L[5]||"",!0),re(this,L[6]||"",!0),this.m=Zn(L[7]||"")):(this.h=!1,this.i=new Ca(null,this.h))}kn.prototype.toString=function(){var A=[],L=this.j;L&&A.push(Co(L,oi,!0),":");var V=this.g;return(V||L=="file")&&(A.push("//"),(L=this.o)&&A.push(Co(L,oi,!0),"@"),A.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&A.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&A.push("/"),A.push(Co(V,V.charAt(0)=="/"?jn:at,!0))),(V=this.i.toString())&&A.push("?",V),(V=this.m)&&A.push("#",Co(V,Al)),A.join("")};function kt(A){return new kn(A)}function ar(A,L,V){A.j=V?Zn(L,!0):L,A.j&&(A.j=A.j.replace(/:$/,""))}function me(A,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);A.s=L}else A.s=null}function re(A,L,V){L instanceof Ca?(A.i=L,Ia(A.i,A.h)):(V||(L=Co(L,Cu)),A.i=new Ca(L,A.h))}function We(A,L,V){A.i.set(L,V)}function qn(A){return We(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Zn(A,L){return A?L?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Co(A,L,V){return typeof A=="string"?(A=encodeURI(A).replace(L,El),V&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function El(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var oi=/[#\/\?@]/g,at=/[#\?:]/g,jn=/[#\?]/g,Cu=/[#\?@]/g,Al=/#/g;function Ca(A,L){this.h=this.g=null,this.i=A||null,this.j=!!L}function wi(A){A.g||(A.g=new Map,A.h=0,A.i&&oh(A.i,function(L,V){A.add(decodeURIComponent(L.replace(/\+/g," ")),V)}))}t=Ca.prototype,t.add=function(A,L){wi(this),this.i=null,A=Bi(this,A);var V=this.g.get(A);return V||this.g.set(A,V=[]),V.push(L),this.h+=1,this};function Ta(A,L){wi(A),L=Bi(A,L),A.g.has(L)&&(A.i=null,A.h-=A.g.get(L).length,A.g.delete(L))}function Ms(A,L){return wi(A),L=Bi(A,L),A.g.has(L)}t.forEach=function(A,L){wi(this),this.g.forEach(function(V,ne){V.forEach(function(pe){A.call(L,pe,ne,this)},this)},this)},t.na=function(){wi(this);const A=Array.from(this.g.values()),L=Array.from(this.g.keys()),V=[];for(let ne=0;ne<L.length;ne++){const pe=A[ne];for(let Ce=0;Ce<pe.length;Ce++)V.push(L[ne])}return V},t.V=function(A){wi(this);let L=[];if(typeof A=="string")Ms(this,A)&&(L=L.concat(this.g.get(Bi(this,A))));else{A=Array.from(this.g.values());for(let V=0;V<A.length;V++)L=L.concat(A[V])}return L},t.set=function(A,L){return wi(this),this.i=null,A=Bi(this,A),Ms(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[L]),this.h+=1,this},t.get=function(A,L){return A?(A=this.V(A),0<A.length?String(A[0]):L):L};function sr(A,L,V){Ta(A,L),0<V.length&&(A.i=null,A.g.set(Bi(A,L),M(V)),A.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],L=Array.from(this.g.keys());for(var V=0;V<L.length;V++){var ne=L[V];const Ce=encodeURIComponent(String(ne)),qe=this.V(ne);for(ne=0;ne<qe.length;ne++){var pe=Ce;qe[ne]!==""&&(pe+="="+encodeURIComponent(String(qe[ne]))),A.push(pe)}}return this.i=A.join("&")};function Bi(A,L){return L=String(L),A.j&&(L=L.toLowerCase()),L}function Ia(A,L){L&&!A.j&&(wi(A),A.i=null,A.g.forEach(function(V,ne){var pe=ne.toLowerCase();ne!=pe&&(Ta(this,ne),sr(this,pe,V))},A)),A.j=L}function lt(A,L){const V=new Li;if(g.Image){const ne=new Image;ne.onload=T(mt,V,"TestLoadImage: loaded",!0,L,ne),ne.onerror=T(mt,V,"TestLoadImage: error",!1,L,ne),ne.onabort=T(mt,V,"TestLoadImage: abort",!1,L,ne),ne.ontimeout=T(mt,V,"TestLoadImage: timeout",!1,L,ne),g.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=A}else L(!1)}function Oa(A,L){const V=new Li,ne=new AbortController,pe=setTimeout(()=>{ne.abort(),mt(V,"TestPingServer: timeout",!1,L)},1e4);fetch(A,{signal:ne.signal}).then(Ce=>{clearTimeout(pe),Ce.ok?mt(V,"TestPingServer: ok",!0,L):mt(V,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(pe),mt(V,"TestPingServer: error",!1,L)})}function mt(A,L,V,ne,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),ne(V)}catch{}}function Jn(){this.g=new un}function ss(A,L,V){const ne=V||"";try{Ln(A,function(pe,Ce){let qe=pe;d(pe)&&(qe=bt(pe)),L.push(ne+Ce+"="+encodeURIComponent(qe))})}catch(pe){throw L.push(ne+"type="+encodeURIComponent("_badmap")),pe}}function os(A){this.l=A.Ub||null,this.j=A.eb||!1}N(os,Ns),os.prototype.g=function(){return new ls(this.l,this.j)},os.prototype.i=function(A){return function(){return A}}({});function ls(A,L){Yt.call(this),this.D=A,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ls,Yt),t=ls.prototype,t.open=function(A,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=L,this.readyState=1,Ui(this)},t.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(L.body=A),(this.D||g).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},t.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ra(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ra(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}t.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var L=A.value?A.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!A.done}))&&(this.response=this.responseText+=L)}A.done?cs(this):Ui(this),this.readyState==3&&Ra(this)}},t.Ra=function(A){this.g&&(this.response=this.responseText=A,cs(this))},t.Qa=function(A){this.g&&(this.response=A,cs(this))},t.ga=function(){this.g&&cs(this)};function cs(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Ui(A)}t.setRequestHeader=function(A,L){this.u.append(A,L)},t.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],L=this.h.entries();for(var V=L.next();!V.done;)V=V.value,A.push(V[0]+": "+V[1]),V=L.next();return A.join(`\r
`)};function Ui(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Ps(A){let L="";return ee(A,function(V,ne){L+=ne,L+=":",L+=V,L+=`\r
`}),L}function or(A,L,V){e:{for(ne in V){var ne=!1;break e}ne=!0}ne||(V=Ps(V),typeof A=="string"?V!=null&&encodeURIComponent(String(V)):We(A,L,V))}function cn(A){Yt.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(cn,Yt);var us=/^https?$/i,Na=["POST","PUT"];t=cn.prototype,t.Ha=function(A){this.J=A},t.ea=function(A,L,V,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);L=L?L.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Ao(this.o):Ao(bi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(L,String(A),!0),this.B=!1}catch(Ce){Qr(this,Ce);return}if(A=V||"",V=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var pe in ne)V.set(pe,ne[pe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Ce of ne.keys())V.set(Ce,ne.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(V.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),pe=g.FormData&&A instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Na,L,void 0))||ne||pe||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,qe]of V)this.g.setRequestHeader(Ce,qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oo(this),this.u=!0,this.g.send(A),this.u=!1}catch(Ce){Qr(this,Ce)}};function Qr(A,L){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=L,A.m=5,To(A),Da(A)}function To(A){A.A||(A.A=!0,nn(A,"complete"),nn(A,"error"))}t.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,nn(this,"complete"),nn(this,"abort"),Da(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Da(this,!0)),cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},t.bb=function(){Io(this)};function Io(A){if(A.h&&typeof u<"u"&&(!A.v[1]||ca(A)!=4||A.Z()!=2)){if(A.u&&ca(A)==4)rn(A.Ea,0,A);else if(nn(A,"readystatechange"),ca(A)==4){A.h=!1;try{const qe=A.Z();e:switch(qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var V;if(!(V=L)){var ne;if(ne=qe===0){var pe=String(A.D).match(ji)[1]||null;!pe&&g.self&&g.self.location&&(pe=g.self.location.protocol.slice(0,-1)),ne=!us.test(pe?pe.toLowerCase():"")}V=ne}if(V)nn(A,"complete"),nn(A,"success");else{A.m=6;try{var Ce=2<ca(A)?A.g.statusText:""}catch{Ce=""}A.l=Ce+" ["+A.Z()+"]",To(A)}}finally{Da(A)}}}}function Da(A,L){if(A.g){Oo(A);const V=A.g,ne=A.v[0]?()=>{}:null;A.g=null,A.v=null,L||nn(A,"ready");try{V.onreadystatechange=ne}catch{}}}function Oo(A){A.I&&(g.clearTimeout(A.I),A.I=null)}t.isActive=function(){return!!this.g};function ca(A){return A.g?A.g.readyState:0}t.Z=function(){try{return 2<ca(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(A){if(this.g){var L=this.g.responseText;return A&&L.indexOf(A)==0&&(L=L.substring(A.length)),Ft(L)}};function Tu(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function hn(A){const L={};A=(A.g&&2<=ca(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<A.length;ne++){if($(A[ne]))continue;var V=z(A[ne]);const pe=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Ce=L[pe]||[];L[pe]=Ce,Ce.push(V)}j(L,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(A,L,V){return V&&V.internalChannelParams&&V.internalChannelParams[A]||L}function Ls(A){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,A),this.cb=Ks("retryDelaySeedMs",1e4,A),this.Wa=Ks("forwardChannelMaxRetries",2,A),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new Lt(A&&A.concurrentRequestLimit),this.Da=new Jn,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ls.prototype,t.la=8,t.G=1,t.connect=function(A,L,V,ne){en(0),this.W=A,this.H=L||{},V&&ne!==void 0&&(this.H.OSID=V,this.H.OAID=ne),this.F=this.X,this.I=ft(this,null,this.W),St(this)};function ua(A){if(Se(A),A.G==3){var L=A.U++,V=kt(A.I);if(We(V,"SID",A.K),We(V,"RID",L),We(V,"TYPE","terminate"),Zs(A,V),L=new Vr(A,A.j,L),L.L=2,L.v=qn(kt(V)),V=!1,g.navigator&&g.navigator.sendBeacon)try{V=g.navigator.sendBeacon(L.v.toString(),"")}catch{}!V&&g.Image&&(new Image().src=L.v,V=!0),V||(L.g=Ru(L.j,null),L.g.ea(L.v)),L.F=Date.now(),ki(L)}dn(A)}function Sl(A){A.g&&(ks(A),A.g.cancel(),A.g=null)}function Se(A){Sl(A),A.u&&(g.clearTimeout(A.u),A.u=null),Js(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&g.clearTimeout(A.s),A.s=null)}function St(A){if(!Vt(A.h)&&!A.s){A.s=!0;var L=A.Ga;ce||ae(),Te||(ce(),Te=!0),Ve.add(L,A),A.B=0}}function Mr(A,L){return Nt(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=L.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=On(S(A.Ga,A,L),eo(A,A.B)),A.B++,!0)}t.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const pe=new Vr(this,this.j,A);let Ce=this.o;if(this.S&&(Ce?(Ce=G(Ce),Z(Ce,this.S)):Ce=this.S),this.m!==null||this.O||(pe.H=Ce,Ce=null),this.P)e:{for(var L=0,V=0;V<this.i.length;V++){t:{var ne=this.i[V];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(L+=ne,4096<L){L=V;break e}if(L===4096||V===this.i.length-1){L=V+1;break e}}L=1e3}else L=1e3;L=Iu(this,pe,L),V=kt(this.I),We(V,"RID",A),We(V,"CVER",22),this.D&&We(V,"X-HTTP-Session-Id",this.D),Zs(this,V),Ce&&(this.O?L="headers="+encodeURIComponent(String(Ps(Ce)))+"&"+L:this.m&&or(V,this.m,Ce)),Xs(this.h,pe),this.Ua&&We(V,"TYPE","init"),this.P?(We(V,"$req",L),We(V,"SID","null"),pe.T=!0,Er(pe,V,null)):Er(pe,V,L),this.G=2}}else this.G==3&&(A?Qs(this,A):this.i.length==0||Vt(this.h)||Qs(this))};function Qs(A,L){var V;L?V=L.l:V=A.U++;const ne=kt(A.I);We(ne,"SID",A.K),We(ne,"RID",V),We(ne,"AID",A.T),Zs(A,ne),A.m&&A.o&&or(ne,A.m,A.o),V=new Vr(A,A.j,V,A.B+1),A.m===null&&(V.H=A.o),L&&(A.i=L.D.concat(A.i)),L=Iu(A,V,1e3),V.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Xs(A.h,V),Er(V,ne,L)}function Zs(A,L){A.H&&ee(A.H,function(V,ne){We(L,ne,V)}),A.l&&Ln({},function(V,ne){We(L,ne,V)})}function Iu(A,L,V){V=Math.min(A.i.length,V);var ne=A.l?S(A.l.Na,A.l,A):null;e:{var pe=A.i;let Ce=-1;for(;;){const qe=["count="+V];Ce==-1?0<V?(Ce=pe[0].g,qe.push("ofs="+Ce)):Ce=0:qe.push("ofs="+Ce);let $t=!0;for(let er=0;er<V;er++){let Xt=pe[er].g;const Un=pe[er].map;if(Xt-=Ce,0>Xt)Ce=Math.max(0,pe[er].g-100),$t=!1;else try{ss(Un,qe,"req"+Xt+"_")}catch{ne&&ne(Un)}}if($t){ne=qe.join("&");break e}}}return A=A.i.splice(0,V),L.D=A,ne}function Ou(A){if(!A.g&&!A.u){A.Y=1;var L=A.Fa;ce||ae(),Te||(ce(),Te=!0),Ve.add(L,A),A.v=0}}function Rc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=On(S(A.Fa,A),eo(A,A.v)),A.v++,!0)}t.Fa=function(){if(this.u=null,lr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=On(S(this.ab,this),A)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Sl(this),lr(this))};function ks(A){A.A!=null&&(g.clearTimeout(A.A),A.A=null)}function lr(A){A.g=new Vr(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var L=kt(A.qa);We(L,"RID","rpc"),We(L,"SID",A.K),We(L,"AID",A.T),We(L,"CI",A.F?"0":"1"),!A.F&&A.ja&&We(L,"TO",A.ja),We(L,"TYPE","xmlhttp"),Zs(A,L),A.m&&A.o&&or(L,A.m,A.o),A.L&&(A.g.I=A.L);var V=A.g;A=A.ia,V.L=1,V.v=qn(kt(L)),V.m=null,V.P=!0,Kn(V,A)}t.Za=function(){this.C!=null&&(this.C=null,Sl(this),Rc(this),en(19))};function Js(A){A.C!=null&&(g.clearTimeout(A.C),A.C=null)}function Bn(A,L){var V=null;if(A.g==L){Js(A),ks(A),A.g=null;var ne=2}else if(_o(A.h,L))V=L.D,Kr(A.h,L),ne=1;else return;if(A.G!=0){if(L.o)if(ne==1){V=L.m?L.m.length:0,L=Date.now()-L.F;var pe=A.B;ne=ns(),nn(ne,new Nr(ne,V)),St(A)}else Ou(A);else if(pe=L.s,pe==3||pe==0&&0<L.X||!(ne==1&&Mr(A,L)||ne==2&&Rc(A)))switch(V&&0<V.length&&(L=A.h,L.i=L.i.concat(V)),pe){case 1:Ei(A,5);break;case 4:Ei(A,10);break;case 3:Ei(A,6);break;default:Ei(A,2)}}}function eo(A,L){let V=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(V*=2),V*L}function Ei(A,L){if(A.j.info("Error code "+L),L==2){var V=S(A.fb,A),ne=A.Xa;const pe=!ne;ne=new kn(ne||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ar(ne,"https"),qn(ne),pe?lt(ne.toString(),V):Oa(ne.toString(),V)}else en(2);A.G=0,A.l&&A.l.sa(L),dn(A),Se(A)}t.fb=function(A){A?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function dn(A){if(A.G=0,A.ka=[],A.l){const L=Qn(A.h);(L.length!=0||A.i.length!=0)&&(P(A.ka,L),P(A.ka,A.i),A.h.i.length=0,M(A.i),A.i.length=0),A.l.ra()}}function ft(A,L,V){var ne=V instanceof kn?kt(V):new kn(V);if(ne.g!="")L&&(ne.g=L+"."+ne.g),me(ne,ne.s);else{var pe=g.location;ne=pe.protocol,L=L?L+"."+pe.hostname:pe.hostname,pe=+pe.port;var Ce=new kn(null);ne&&ar(Ce,ne),L&&(Ce.g=L),pe&&me(Ce,pe),V&&(Ce.l=V),ne=Ce}return V=A.D,L=A.ya,V&&L&&We(ne,V,L),We(ne,"VER",A.la),Zs(A,ne),ne}function Ru(A,L,V){if(L&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=A.Ca&&!A.pa?new cn(new os({eb:V})):new cn(A.pa),L.Ha(A.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bn(){}t=bn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fa(){}fa.prototype.g=function(A,L){return new Ar(A,L)};function Ar(A,L){Yt.call(this),this.g=new Ls(L),this.l=A,this.h=L&&L.messageUrlParams||null,A=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(A?A["X-WebChannel-Content-Type"]=L.messageContentType:A={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(A?A["X-WebChannel-Client-Profile"]=L.va:A={"X-WebChannel-Client-Profile":L.va}),this.g.S=A,(A=L&&L.Sb)&&!$(A)&&(this.g.m=A),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!$(L)&&(this.g.D=L,A=this.h,A!==null&&L in A&&(A=this.h,L in A&&delete A[L])),this.j=new ha(this)}N(Ar,Yt),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){ua(this.g)},Ar.prototype.o=function(A){var L=this.g;if(typeof A=="string"){var V={};V.__data__=A,A=V}else this.u&&(V={},V.__data__=bt(A),A=V);L.i.push(new _u(L.Ya++,A)),L.G==3&&St(L)},Ar.prototype.N=function(){this.g.l=null,delete this.j,ua(this.g),delete this.g,Ar.aa.N.call(this)};function Nu(A){vi.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var L=A.__sm__;if(L){e:{for(const V in L){A=V;break e}A=void 0}(this.i=A)&&(A=this.i,L=L!==null&&A in L?L[A]:void 0),this.data=L}else this.data=A}N(Nu,vi);function Ji(){vl.call(this),this.status=1}N(Ji,vl);function ha(A){this.g=A}N(ha,bn),ha.prototype.ua=function(){nn(this.g,"a")},ha.prototype.ta=function(A){nn(this.g,new Nu(A))},ha.prototype.sa=function(A){nn(this.g,new Ji)},ha.prototype.ra=function(){nn(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,pN=function(){return new fa},mN=function(){return ns()},gN=_a,l2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,G1=rs,ir.COMPLETE="complete",dN=ir,yl.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,id=yl,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,hN=cn}).apply(typeof b1<"u"?b1:typeof self<"u"?self:typeof window<"u"?window:{});const YC="@firebase/firestore",$C="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new nN("@firebase/firestore");function df(){return su.logLevel}function Qe(t,...e){if(su.logLevel<=on.DEBUG){const n=e.map(Mb);su.debug(`Firestore (${Gf}): ${t}`,...n)}}function tl(t,...e){if(su.logLevel<=on.ERROR){const n=e.map(Mb);su.error(`Firestore (${Gf}): ${t}`,...n)}}function Tf(t,...e){if(su.logLevel<=on.WARN){const n=e.map(Mb);su.warn(`Firestore (${Gf}): ${t}`,...n)}}function Mb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yN(t,r,n)}function yN(t,e,n){let r=`FIRESTORE (${Gf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw tl(r),new Error(r)}function En(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yN(e,i,r)}function Rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends xu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wi.UNAUTHENTICATED))}shutdown(){}}class Uj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Fj{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){En(this.o===void 0,42304);let r=this.i;const i=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let a=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ko,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const m=a;e.enqueueRetryable(async()=>{await m.promise,await i(this.currentUser)})},g=m=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ko)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(En(typeof r.accessToken=="string",31837,{l:r}),new vN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return En(e===null||typeof e=="string",2055,{h:e}),new Wi(e)}}class Vj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Vj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){En(this.o===void 0,3512);const r=a=>{a.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Qe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(En(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function c2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return vv(i)===vv(a)?Qt(i,a):vv(i)?1:-1}return Qt(t.length,e.length)}const Gj=55296,Wj=57343;function vv(t){const e=t.charCodeAt(0);return e>=Gj&&e<=Wj}function If(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__name__";class lo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Et(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Et(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=lo.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Qt(e.length,n.length)}static compareSegments(e,n){const r=lo.isNumericId(e),i=lo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?lo.extractNumericId(e).compare(lo.extractNumericId(n)):c2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rc.fromString(e.substring(4,e.length-2))}}class Yn extends lo{construct(e,n,r){return new Yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Yn(n)}static emptyPath(){return new Yn([])}}const Yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends lo{construct(e,n,r){return new Ni(e,n,r)}static isValidIdentifier(e){return Yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KC}static keyField(){return new Ni([KC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const g=e[i];if(g==="\\"){if(i+1===e.length)throw new Xe(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Xe(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else g==="`"?(u=!u,i++):g!=="."||u?(r+=g,i++):(a(),i++)}if(a(),u)throw new Xe(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(n)}static emptyPath(){return new Ni([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Yn.fromString(e))}static fromName(e){return new gt(Yn.fromString(e).popFirst(5))}static empty(){return new gt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Yn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){if(!n)throw new Xe(Ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $j(t,e,n,r){if(e===!0&&r===!0)throw new Xe(Ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QC(t){if(!gt.isDocumentKey(t))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZC(t){if(gt.isDocumentKey(t))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Et(12329,{type:typeof t})}function Aa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(t);throw new Xe(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!bN(t))throw new Xe(Ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(i&&typeof u!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Xe(Ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=-62135596800,eT=1e6;class vn{static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eT);return new vn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JC)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,vn._jsonSchema))return new vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vn._jsonSchemaVersion="firestore/timestamp/1.0",vn._jsonSchema={type:Yr("string",vn._jsonSchemaVersion),seconds:Yr("number"),nanoseconds:Yr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new vn(0,0))}static max(){return new Ct(new vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function Xj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(r===1e9?new vn(n+1,0):new vn(n,r));return new oc(i,gt.empty(),e)}function Kj(t){return new oc(t.readTime,t.key,Ed)}class oc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oc(Ct.min(),gt.empty(),Ed)}static max(){return new oc(Ct.max(),gt.empty(),Ed)}}function Qj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=gt.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){if(t.code!==Ne.FAILED_PRECONDITION||t.message!==Zj)throw t;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.reject(n)}static resolve(e){return new Le((n,r)=>{n(e)})}static reject(e){return new Le((n,r)=>{r(e)})}static waitFor(e){return new Le((n,r)=>{let i=0,a=0,u=!1;e.forEach(g=>{++i,g.next(()=>{++a,u&&a===i&&n()},m=>r(m))}),u=!0,a===i&&n()})}static or(e){let n=Le.resolve(!1);for(const r of e)n=n.next(i=>i?Le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Le((r,i)=>{const a=e.length,u=new Array(a);let g=0;for(let m=0;m<a;m++){const d=m;n(e[d]).next(v=>{u[d]=v,++g,g===a&&r(u)},v=>i(v))}})}static doWhile(e,n){return new Le((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function eB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ym.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=-1;function vm(t){return t==null}function sg(t){return t===0&&1/t==-1/0}function tB(t){return typeof t=="number"&&Number.isInteger(t)&&!sg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="";function nB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tT(e)),e=rB(t.get(n),e);return tT(e)}function rB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case wN:n+="";break;default:n+=a}}return n}function tT(t){return t+wN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.comparator=e,this.root=n||Oi.EMPTY}insert(e,n){return new br(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w1(this.root,e,this.comparator,!1)}getReverseIterator(){return new w1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w1(this.root,e,this.comparator,!0)}}class w1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Oi.RED,this.left=i??Oi.EMPTY,this.right=a??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Oi(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1;Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Oi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ni(this.comparator);return n.data=e,n}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.fields=e,e.sort(Ni.comparator)}static empty(){return new Ka([])}unionWith(e){let n=new ni(Ni.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ka(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return If(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new AN("Invalid base64 string: "+a):a}}(e);return new Di(n)}static fromUint8Array(e){const n=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new Di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const iB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(t){if(En(!!t,39018),typeof t=="string"){let e=0;const n=iB.exec(t);if(En(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(t.seconds),nanos:Br(t.nanos)}}function Br(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cc(t){return typeof t=="string"?Di.fromBase64String(t):Di.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="server_timestamp",_N="__type__",CN="__previous_value__",TN="__local_write_time__";function kb(t){return(t?.mapValue?.fields||{})[_N]?.stringValue===SN}function xm(t){const e=t.mapValue.fields[CN];return kb(e)?xm(e):e}function Ad(t){const e=lc(t.mapValue.fields[TN].timestampValue);return new vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n,r,i,a,u,g,m,d,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=d,this.isUsingEmulator=v}}const og="(default)";class Sd{constructor(e,n){this.projectId=e,this.database=n||og}static empty(){return new Sd("","")}get isDefaultDatabase(){return this.database===og}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="__type__",sB="__max__",E1={mapValue:{}},ON="__vector__",lg="value";function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kb(t)?4:lB(t)?9007199254740991:oB(t)?10:11:Et(28295,{value:t})}function po(t,e){if(t===e)return!0;const n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ad(t).isEqual(Ad(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=lc(i.timestampValue),g=lc(a.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return cc(i.bytesValue).isEqual(cc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Br(i.geoPointValue.latitude)===Br(a.geoPointValue.latitude)&&Br(i.geoPointValue.longitude)===Br(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Br(i.integerValue)===Br(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Br(i.doubleValue),g=Br(a.doubleValue);return u===g?sg(u)===sg(g):isNaN(u)&&isNaN(g)}return!1}(t,e);case 9:return If(t.arrayValue.values||[],e.arrayValue.values||[],po);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},g=a.mapValue.fields||{};if(nT(u)!==nT(g))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(g[m]===void 0||!po(u[m],g[m])))return!1;return!0}(t,e);default:return Et(52216,{left:t})}}function _d(t,e){return(t.values||[]).find(n=>po(n,e))!==void 0}function Of(t,e){if(t===e)return 0;const n=uc(t),r=uc(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(a,u){const g=Br(a.integerValue||a.doubleValue),m=Br(u.integerValue||u.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1}(t,e);case 3:return iT(t.timestampValue,e.timestampValue);case 4:return iT(Ad(t),Ad(e));case 5:return c2(t.stringValue,e.stringValue);case 6:return function(a,u){const g=cc(a),m=cc(u);return g.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const g=a.split("/"),m=u.split("/");for(let d=0;d<g.length&&d<m.length;d++){const v=Qt(g[d],m[d]);if(v!==0)return v}return Qt(g.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const g=Qt(Br(a.latitude),Br(u.latitude));return g!==0?g:Qt(Br(a.longitude),Br(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aT(t.arrayValue,e.arrayValue);case 10:return function(a,u){const g=a.fields||{},m=u.fields||{},d=g[lg]?.arrayValue,v=m[lg]?.arrayValue,w=Qt(d?.values?.length||0,v?.values?.length||0);return w!==0?w:aT(d,v)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===E1.mapValue&&u===E1.mapValue)return 0;if(a===E1.mapValue)return 1;if(u===E1.mapValue)return-1;const g=a.fields||{},m=Object.keys(g),d=u.fields||{},v=Object.keys(d);m.sort(),v.sort();for(let w=0;w<m.length&&w<v.length;++w){const S=c2(m[w],v[w]);if(S!==0)return S;const T=Of(g[m[w]],d[v[w]]);if(T!==0)return T}return Qt(m.length,v.length)}(t.mapValue,e.mapValue);default:throw Et(23264,{he:n})}}function iT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=lc(t),r=lc(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function aT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Of(n[i],r[i]);if(a)return a}return Qt(n.length,r.length)}function Rf(t){return u2(t)}function u2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return gt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=u2(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${u2(n.fields[u])}`;return i+"}"}(t.mapValue):Et(61005,{value:t})}function W1(t){switch(uc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xm(t);return e?16+W1(e):16;case 5:return 2*t.stringValue.length;case 6:return cc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+W1(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return bc(r.fields,(a,u)=>{i+=a.length+W1(u)}),i}(t.mapValue);default:throw Et(13486,{value:t})}}function sT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f2(t){return!!t&&"integerValue"in t}function jb(t){return!!t&&"arrayValue"in t}function oT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Y1(t){return!!t&&"mapValue"in t}function oB(t){return(t?.mapValue?.fields||{})[IN]?.stringValue===ON}function dd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dd(t.arrayValue.values[n]);return e}return{...t}}function lB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Y1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dd(n)}setAll(e){let n=Ni.emptyPath(),r={},i=[];e.forEach((u,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,r,i),r={},i=[],n=g.popLast()}u?r[g.lastSegment()]=dd(u):i.push(g.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Y1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Y1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bc(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new wa(dd(this.value))}}function RN(t){const e=[];return bc(t.fields,(n,r)=>{const i=new Ni([n]);if(Y1(r)){const a=RN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Ka(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i,a,u,g){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=g}static newInvalidDocument(e){return new Yi(e,0,Ct.min(),Ct.min(),Ct.min(),wa.empty(),0)}static newFoundDocument(e,n,r,i){return new Yi(e,1,n,Ct.min(),r,i,0)}static newNoDocument(e,n){return new Yi(e,2,n,Ct.min(),Ct.min(),wa.empty(),0)}static newUnknownDocument(e,n){return new Yi(e,3,n,Ct.min(),Ct.min(),wa.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.position=e,this.inclusive=n}}function cT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],u=t.position[i];if(a.field.isKeyField()?r=gt.comparator(gt.fromName(u.referenceValue),n.key):r=Of(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function uT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!po(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function cB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{}class Wr extends NN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fB(e,n,r):n==="array-contains"?new gB(e,r):n==="in"?new mB(e,r):n==="not-in"?new pB(e,r):n==="array-contains-any"?new yB(e,r):new Wr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hB(e,r):new dB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Of(n,this.value)):n!==null&&uc(this.value)===uc(n)&&this.matchesComparison(Of(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends NN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qs(e,n)}matches(e){return DN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DN(t){return t.op==="and"}function MN(t){return uB(t)&&DN(t)}function uB(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function h2(t){if(t instanceof Wr)return t.field.canonicalString()+t.op.toString()+Rf(t.value);if(MN(t))return t.filters.map(e=>h2(e)).join(",");{const e=t.filters.map(n=>h2(n)).join(",");return`${t.op}(${e})`}}function PN(t,e){return t instanceof Wr?function(r,i){return i instanceof Wr&&r.op===i.op&&r.field.isEqual(i.field)&&po(r.value,i.value)}(t,e):t instanceof qs?function(r,i){return i instanceof qs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,g)=>a&&PN(u,i.filters[g]),!0):!1}(t,e):void Et(19439)}function LN(t){return t instanceof Wr?function(n){return`${n.field.canonicalString()} ${n.op} ${Rf(n.value)}`}(t):t instanceof qs?function(n){return n.op.toString()+" {"+n.getFilters().map(LN).join(" ,")+"}"}(t):"Filter"}class fB extends Wr{constructor(e,n,r){super(e,n,r),this.key=gt.fromName(r.referenceValue)}matches(e){const n=gt.comparator(e.key,this.key);return this.matchesComparison(n)}}class hB extends Wr{constructor(e,n){super(e,"in",n),this.keys=kN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dB extends Wr{constructor(e,n){super(e,"not-in",n),this.keys=kN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kN(t,e){return(e.arrayValue?.values||[]).map(n=>gt.fromName(n.referenceValue))}class gB extends Wr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jb(n)&&_d(n.arrayValue,this.value)}}class mB extends Wr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_d(this.value.arrayValue,n)}}class pB extends Wr{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_d(this.value.arrayValue,n)}}class yB extends Wr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n=null,r=[],i=[],a=null,u=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=g,this.Te=null}}function fT(t,e=null,n=[],r=[],i=null,a=null,u=null){return new vB(t,e,n,r,i,a,u)}function Bb(t){const e=Rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rf(r)).join(",")),e.Te=n}return e.Te}function Ub(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uT(t.startAt,e.startAt)&&uT(t.endAt,e.endAt)}function d2(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n=null,r=[],i=[],a=null,u="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xB(t,e,n,r,i,a,u,g){return new $f(t,e,n,r,i,a,u,g)}function bm(t){return new $f(t)}function hT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jN(t){return t.collectionGroup!==null}function gd(t){const e=Rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let g=new ni(Ni.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(d=>{d.isInequality()&&(g=g.add(d.field))})}),g})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Cd(a,r))}),n.has(Ni.keyField().canonicalString())||e.Ie.push(new Cd(Ni.keyField(),r))}return e.Ie}function uo(t){const e=Rt(t);return e.Ee||(e.Ee=bB(e,gd(t))),e.Ee}function bB(t,e){if(t.limitType==="F")return fT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Cd(i.field,a)});const n=t.endAt?new cg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cg(t.startAt.position,t.startAt.inclusive):null;return fT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g2(t,e){const n=t.filters.concat([e]);return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function m2(t,e,n){return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wm(t,e){return Ub(uo(t),uo(e))&&t.limitType===e.limitType}function BN(t){return`${Bb(uo(t))}|lt:${t.limitType}`}function gf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LN(i)).join(", ")}]`),vm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rf(i)).join(",")),`Target(${r})`}(uo(t))}; limitType=${t.limitType})`}function Em(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):gt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of gd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,g,m){const d=cT(u,g,m);return u.inclusive?d<=0:d<0}(r.startAt,gd(r),i)||r.endAt&&!function(u,g,m){const d=cT(u,g,m);return u.inclusive?d>=0:d>0}(r.endAt,gd(r),i))}(t,e)}function wB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UN(t){return(e,n)=>{let r=!1;for(const i of gd(t)){const a=EB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function EB(t,e,n){const r=t.field.isKeyField()?gt.comparator(e.key,n.key):function(a,u,g){const m=u.data.field(a),d=g.data.field(a);return m!==null&&d!==null?Of(m,d):Et(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return EN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new br(gt.comparator);function nl(){return AB}const FN=new br(gt.comparator);function ad(...t){let e=FN;for(const n of t)e=e.insert(n.key,n);return e}function VN(t){let e=FN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xc(){return md()}function zN(){return md()}function md(){return new bu(t=>t.toString(),(t,e)=>t.isEqual(e))}const SB=new br(gt.comparator),_B=new ni(gt.comparator);function Zt(...t){let e=_B;for(const n of t)e=e.add(n);return e}const CB=new ni(Qt);function TB(){return CB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sg(e)?"-0":e}}function HN(t){return{integerValue:""+t}}function IB(t,e){return tB(e)?HN(e):Fb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function OB(t,e,n){return t instanceof Td?function(i,a){const u={fields:{[_N]:{stringValue:SN},[TN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kb(a)&&(a=xm(a)),a&&(u.fields[CN]=a),{mapValue:u}}(n,e):t instanceof Id?GN(t,e):t instanceof Od?WN(t,e):function(i,a){const u=qN(i,a),g=dT(u)+dT(i.Ae);return f2(u)&&f2(i.Ae)?HN(g):Fb(i.serializer,g)}(t,e)}function RB(t,e,n){return t instanceof Id?GN(t,e):t instanceof Od?WN(t,e):n}function qN(t,e){return t instanceof ug?function(r){return f2(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Td extends Am{}class Id extends Am{constructor(e){super(),this.elements=e}}function GN(t,e){const n=YN(e);for(const r of t.elements)n.some(i=>po(i,r))||n.push(r);return{arrayValue:{values:n}}}class Od extends Am{constructor(e){super(),this.elements=e}}function WN(t,e){let n=YN(e);for(const r of t.elements)n=n.filter(i=>!po(i,r));return{arrayValue:{values:n}}}class ug extends Am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dT(t){return Br(t.integerValue||t.doubleValue)}function YN(t){return jb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.field=e,this.transform=n}}function DB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Id&&i instanceof Id||r instanceof Od&&i instanceof Od?If(r.elements,i.elements,po):r instanceof ug&&i instanceof ug?po(r.Ae,i.Ae):r instanceof Td&&i instanceof Td}(t.transform,e.transform)}class MB{constructor(e,n){this.version=e,this.transformResults=n}}class _s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sm{}function $N(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vb(t.key,_s.none()):new Wd(t.key,t.data,_s.none());{const n=t.data,r=wa.empty();let i=new ni(Ni.comparator);for(let a of e.fields)if(!i.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new wc(t.key,r,new Ka(i.toArray()),_s.none())}}function PB(t,e,n){t instanceof Wd?function(i,a,u){const g=i.value.clone(),m=mT(i.fieldTransforms,a,u.transformResults);g.setAll(m),a.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(t,e,n):t instanceof wc?function(i,a,u){if(!$1(i.precondition,a))return void a.convertToUnknownDocument(u.version);const g=mT(i.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(XN(i)),m.setAll(g),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function pd(t,e,n,r){return t instanceof Wd?function(a,u,g,m){if(!$1(a.precondition,u))return g;const d=a.value.clone(),v=pT(a.fieldTransforms,m,u);return d.setAll(v),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof wc?function(a,u,g,m){if(!$1(a.precondition,u))return g;const d=pT(a.fieldTransforms,m,u),v=u.data;return v.setAll(XN(a)),v.setAll(d),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),g===null?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(a,u,g){return $1(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g}(t,e,n)}function LB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=qN(r.transform,i||null);a!=null&&(n===null&&(n=wa.empty()),n.set(r.field,a))}return n||null}function gT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&If(r,i,(a,u)=>DB(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wd extends Sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wc extends Sm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function XN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mT(t,e,n){const r=new Map;En(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],u=a.transform,g=e.data.field(a.field);r.set(a.field,RB(u,g,n[i]))}return r}function pT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,u=n.data.field(i.field);r.set(i.field,OB(a,u,e))}return r}class Vb extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kB extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&PB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zN();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let g=this.applyToLocalView(u,a.mutatedFields);g=n.has(i.key)?null:g;const m=$N(u,g);m!==null&&r.set(i.key,m),u.isValidDocument()||u.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Zt())}isEqual(e){return this.batchId===e.batchId&&If(this.mutations,e.mutations,(n,r)=>gT(n,r))&&If(this.baseMutations,e.baseMutations,(n,r)=>gT(n,r))}}class zb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){En(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return SB}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new zb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,sn;function FB(t){switch(t){case Ne.OK:return Et(64938);case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0;default:return Et(15467,{code:t})}}function KN(t){if(t===void 0)return tl("GRPC error has no .code"),Ne.UNKNOWN;switch(t){case Gr.OK:return Ne.OK;case Gr.CANCELLED:return Ne.CANCELLED;case Gr.UNKNOWN:return Ne.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return Ne.INTERNAL;case Gr.UNAVAILABLE:return Ne.UNAVAILABLE;case Gr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Gr.NOT_FOUND:return Ne.NOT_FOUND;case Gr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Gr.ABORTED:return Ne.ABORTED;case Gr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Gr.DATA_LOSS:return Ne.DATA_LOSS;default:return Et(39323,{code:t})}}(sn=Gr||(Gr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new rc([4294967295,4294967295],0);function yT(t){const e=VB().encode(t),n=new fN;return n.update(e),new Uint8Array(n.digest())}function vT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new rc([n,r],0),new rc([i,a],0)]}class Hb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sd(`Invalid padding: ${n}`);if(r<0)throw new sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(rc.fromNumber(r)));return i.compare(zB)===1&&(i=new rc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yT(e),[r,i]=vT(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Hb(a,i,n);return r.forEach(g=>u.insert(g)),u}insert(e){if(this.ge===0)return;const n=yT(e),[r,i]=vT(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _m(Ct.min(),i,new br(Qt),nl(),Zt())}}class Yd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yd(r,n,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class QN{constructor(e,n){this.targetId=e,this.Ce=n}}class ZN{constructor(e,n,r=Di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xT{constructor(){this.ve=0,this.Fe=bT(),this.Me=Di.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zt(),n=Zt(),r=Zt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Et(38017,{changeType:a})}}),new Yd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,En(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HB{constructor(e){this.Ge=e,this.ze=new Map,this.je=nl(),this.Je=A1(),this.He=A1(),this.Ye=new br(Qt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(d2(a))if(r===0){const u=new gt(a.path);this.et(n,u,Yi.newNoDocument(u,Ct.min()))}else En(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const g=this.ut(e),m=g?this.ct(g,e,u):1;if(m!==0){this.it(n);const d=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let u,g;try{u=cc(r).toUint8Array()}catch(m){if(m instanceof AN)return Tf("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Hb(u,i,a)}catch(m){return Tf(m instanceof sd?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const u=this.Ge.ht(),g=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(g)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,u)=>{const g=this.ot(u);if(g){if(a.current&&d2(g.target)){const m=new gt(g.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Yi.newNoDocument(m,e))}a.Be&&(n.set(u,a.ke()),a.qe())}});let r=Zt();this.He.forEach((a,u)=>{let g=!0;u.forEachWhile(m=>{const d=this.ot(m);return!d||d.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const i=new _m(e,n,this.Ye,this.je,r);return this.je=nl(),this.Je=A1(),this.He=A1(),this.Ye=new br(Qt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new xT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ni(Qt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ni(Qt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function A1(){return new br(gt.comparator)}function bT(){return new br(gt.comparator)}const qB={asc:"ASCENDING",desc:"DESCENDING"},GB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WB={and:"AND",or:"OR"};class YB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p2(t,e){return t.useProto3Json||vm(e)?e:{value:e}}function fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $B(t,e){return fg(t,e.toTimestamp())}function fo(t){return En(!!t,49232),Ct.fromTimestamp(function(n){const r=lc(n);return new vn(r.seconds,r.nanos)}(t))}function qb(t,e){return y2(t,e).canonicalString()}function y2(t,e){const n=function(i){return new Yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eD(t){const e=Yn.fromString(t);return En(aD(e),10190,{key:e.toString()}),e}function v2(t,e){return qb(t.databaseId,e.path)}function xv(t,e){const n=eD(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gt(nD(n))}function tD(t,e){return qb(t.databaseId,e)}function XB(t){const e=eD(t);return e.length===4?Yn.emptyPath():nD(e)}function x2(t){return new Yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nD(t){return En(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wT(t,e,n){return{name:v2(t,e),fields:n.value.mapValue.fields}}function KB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Et(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,v){return d.useProto3Json?(En(v===void 0||typeof v=="string",58123),Di.fromBase64String(v||"")):(En(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Di.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&function(d){const v=d.code===void 0?Ne.UNKNOWN:KN(d.code);return new Xe(v,d.message||"")}(u);n=new ZN(r,i,a,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xv(t,r.document.name),a=fo(r.document.updateTime),u=r.document.createTime?fo(r.document.createTime):Ct.min(),g=new wa({mapValue:{fields:r.document.fields}}),m=Yi.newFoundDocument(i,a,u,g),d=r.targetIds||[],v=r.removedTargetIds||[];n=new X1(d,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xv(t,r.document),a=r.readTime?fo(r.readTime):Ct.min(),u=Yi.newNoDocument(i,a),g=r.removedTargetIds||[];n=new X1([],g,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xv(t,r.document),a=r.removedTargetIds||[];n=new X1([],a,i,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new UB(i,a),g=r.targetId;n=new QN(g,u)}}return n}function QB(t,e){let n;if(e instanceof Wd)n={update:wT(t,e.key,e.value)};else if(e instanceof Vb)n={delete:v2(t,e.key)};else if(e instanceof wc)n={update:wT(t,e.key,e.data),updateMask:sU(e.fieldMask)};else{if(!(e instanceof kB))return Et(16599,{Vt:e.type});n={verify:v2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const g=u.transform;if(g instanceof Td)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Id)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Od)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ug)return{fieldPath:u.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:$B(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Et(27497)}(t,e.precondition)),n}function ZB(t,e){return t&&t.length>0?(En(e!==void 0,14353),t.map(n=>function(i,a){let u=i.updateTime?fo(i.updateTime):fo(a);return u.isEqual(Ct.min())&&(u=fo(a)),new MB(u,i.transformResults||[])}(n,e))):[]}function JB(t,e){return{documents:[tD(t,e.path)]}}function eU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tD(t,i);const a=function(d){if(d.length!==0)return iD(qs.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(d){if(d.length!==0)return d.map(v=>function(S){return{field:mf(S.field),direction:rU(S.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const g=p2(t,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function tU(t){let e=XB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){En(r===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(w){const S=rD(w);return S instanceof qs&&MN(S)?S.getFilters():[S]}(n.where));let u=[];n.orderBy&&(u=function(w){return w.map(S=>function(N){return new Cd(pf(N.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(n.orderBy));let g=null;n.limit&&(g=function(w){let S;return S=typeof w=="object"?w.value:w,vm(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(w){const S=!!w.before,T=w.values||[];return new cg(T,S)}(n.startAt));let d=null;return n.endAt&&(d=function(w){const S=!w.before,T=w.values||[];return new cg(T,S)}(n.endAt)),xB(e,i,u,a,g,"F",m,d)}function nU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pf(n.unaryFilter.field);return Wr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pf(n.unaryFilter.field);return Wr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pf(n.unaryFilter.field);return Wr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=pf(n.unaryFilter.field);return Wr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(t):t.fieldFilter!==void 0?function(n){return Wr.create(pf(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qs.create(n.compositeFilter.filters.map(r=>rD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(t):Et(30097,{filter:t})}function rU(t){return qB[t]}function iU(t){return GB[t]}function aU(t){return WB[t]}function mf(t){return{fieldPath:t.canonicalString()}}function pf(t){return Ni.fromServerFormat(t.fieldPath)}function iD(t){return t instanceof Wr?function(n){if(n.op==="=="){if(lT(n.value))return{unaryFilter:{field:mf(n.field),op:"IS_NAN"}};if(oT(n.value))return{unaryFilter:{field:mf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lT(n.value))return{unaryFilter:{field:mf(n.field),op:"IS_NOT_NAN"}};if(oT(n.value))return{unaryFilter:{field:mf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mf(n.field),op:iU(n.op),value:n.value}}}(t):t instanceof qs?function(n){const r=n.getFilters().map(i=>iD(i));return r.length===1?r[0]:{compositeFilter:{op:aU(n.op),filters:r}}}(t):Et(54877,{filter:t})}function sU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r,i,a=Ct.min(),u=Ct.min(),g=Di.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.yt=e}}function lU(t){const e=tU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.Cn=new uU}addToCollectionParentIndex(e,n){return this.Cn.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}deleteAllFieldIndexes(e){return Le.resolve()}createTargetIndexes(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(oc.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(oc.min())}updateCollectionGroup(e,n,r){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}}class uU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ni(Yn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ni(Yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sD=41943040;class ba{static withCacheSize(e){return new ba(e,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(sD,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nf(0)}static cr(){return new Nf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",fU=1048576;function ST([t,e],[n,r]){const i=Qt(t,n);return i===0?Qt(e,r):i}class hU{constructor(e){this.Ir=e,this.buffer=new ni(ST),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ST(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Qe(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yf(n)?Qe(AT,"Ignoring IndexedDB error during garbage collection: ",n):await Wf(n)}await this.Vr(3e5)})}}class gU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Le.resolve(ym.ce);const r=new hU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(ET)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,u,g,m,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,u=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,g=Date.now(),this.removeTargets(e,r,n))).next(w=>(a=w,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(d=Date.now(),df()<=on.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(g-u)+`ms
	Removed ${a} targets in `+(m-g)+`ms
	Removed ${w} documents in `+(d-m)+`ms
Total Duration: ${d-v}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function mU(t,e){return new gU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.changes=new bu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pd(r.mutation,i,Ka.empty(),vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Zt()){const i=Xc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let u=ad();return a.forEach((g,m)=>{u=u.insert(g,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Xc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Zt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,g)=>{n.set(u,g)})})}computeViews(e,n,r,i){let a=nl();const u=md(),g=function(){return md()}();return n.forEach((m,d)=>{const v=r.get(d.key);i.has(d.key)&&(v===void 0||v.mutation instanceof wc)?a=a.insert(d.key,d):v!==void 0?(u.set(d.key,v.mutation.getFieldMask()),pd(v.mutation,d,v.mutation.getFieldMask(),vn.now())):u.set(d.key,Ka.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((d,v)=>u.set(d,v)),n.forEach((d,v)=>g.set(d,new yU(v,u.get(d)??null))),g))}recalculateAndSaveOverlays(e,n){const r=md();let i=new br((u,g)=>u-g),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const g of u)g.keys().forEach(m=>{const d=n.get(m);if(d===null)return;let v=r.get(m)||Ka.empty();v=g.applyToLocalView(d,v),r.set(m,v);const w=(i.get(g.batchId)||Zt()).add(m);i=i.insert(g.batchId,w)})}).next(()=>{const u=[],g=i.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),d=m.key,v=m.value,w=zN();v.forEach(S=>{if(!a.has(S)){const T=$N(n.get(S),r.get(S));T!==null&&w.set(S,T),a=a.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Le.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return gt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Le.resolve(Xc());let g=Ed,m=a;return u.next(d=>Le.forEach(d,(v,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),a.get(v)?Le.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,m,d,Zt())).next(v=>({batchId:g,changes:VN(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new gt(n)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let u=ad();return this.indexManager.getCollectionParents(e,a).next(g=>Le.forEach(g,m=>{const d=function(w,S){return new $f(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(v=>{v.forEach((w,S)=>{u=u.insert(w,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(u=>{a.forEach((m,d)=>{const v=d.getKey();u.get(v)===null&&(u=u.insert(v,Yi.newInvalidDocument(v)))});let g=ad();return u.forEach((m,d)=>{const v=a.get(m);v!==void 0&&pd(v.mutation,d,Ka.empty(),vn.now()),Em(n,d)&&(g=g.insert(m,d))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fo(i.createTime)}}(n)),Le.resolve()}getNamedQuery(e,n){return Le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:lU(i.bundledQuery),readTime:fo(i.readTime)}}(n)),Le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.overlays=new br(gt.comparator),this.qr=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xc();return Le.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Le.resolve()}getOverlaysForCollection(e,n,r){const i=Xc(),a=n.length+1,u=new gt(n.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const m=g.getNext().value,d=m.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new br((d,v)=>d-v);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let v=a.get(d.largestBatchId);v===null&&(v=Xc(),a=a.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const g=Xc(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((d,v)=>g.set(d,v)),!(g.size()>=i)););return Le.resolve(g)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new BB(n,r));let a=this.qr.get(n);a===void 0&&(a=Zt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(e){return Le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.Qr=new ni(hi.$r),this.Ur=new ni(hi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new hi(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new gt(new Yn([])),r=new hi(n,e),i=new hi(n,e+1),a=[];return this.Ur.forEachInRange([r,i],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new gt(new Yn([])),r=new hi(n,e),i=new hi(n,e+1);let a=Zt();return this.Ur.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new hi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return gt.comparator(e.key,n.key)||Qt(e.Yr,n.Yr)}static Kr(e,n){return Qt(e.Yr,n.Yr)||gt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ni(hi.$r)}checkEmpty(e){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new jB(a,n,r,i);this.mutationQueue.push(u);for(const g of i)this.Zr=this.Zr.add(new hi(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Le.resolve(u)}lookupMutationBatch(e,n){return Le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?Lb:this.tr-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hi(n,0),i=new hi(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],u=>{const g=this.Xr(u.Yr);a.push(g)}),Le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ni(Qt);return n.forEach(i=>{const a=new hi(i,0),u=new hi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],g=>{r=r.add(g.Yr)})}),Le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;gt.isDocumentKey(a)||(a=a.child(""));const u=new hi(new gt(a),0);let g=new ni(Qt);return this.Zr.forEachWhile(m=>{const d=m.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(g=g.add(m.Yr)),!0)},u),Le.resolve(this.ti(g))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){En(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Le.forEach(n.mutations,i=>{const a=new hi(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new hi(n,0),i=this.Zr.firstAfterOrEqual(r);return Le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.ri=e,this.docs=function(){return new br(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Le.resolve(r?r.document.mutableCopy():Yi.newInvalidDocument(n))}getEntries(e,n){let r=nl();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Yi.newInvalidDocument(i))}),Le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=nl();const u=n.path,g=new gt(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:d,value:{document:v}}=m.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||Qj(Kj(v),r)<=0||(i.has(v.key)||Em(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Et(9500)}ii(e,n){return Le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SU(this)}getSize(e){return Le.resolve(this.size)}}class SU extends pU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.persistence=e,this.si=new bu(n=>Bb(n),Ub),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Gb,this.targetCount=0,this.ai=Nf.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.Pr(n),Le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((u,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),Le.waitFor(a).next(()=>i)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),Le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Le.resolve(r)}containsKey(e,n){return Le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.ui={},this.overlays={},this.ci=new ym(0),this.li=!1,this.li=!0,this.hi=new wU,this.referenceDelegate=e(this),this.Pi=new _U(this),this.indexManager=new cU,this.remoteDocumentCache=function(i){return new AU(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new oU(n),this.Ii=new xU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new EU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Qe("MemoryPersistence","Starting transaction:",e);const i=new CU(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return Le.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class CU extends Jj{constructor(e){super(),this.currentSequenceNumber=e}}class Wb{constructor(e){this.persistence=e,this.Ri=new Gb,this.Vi=null}static mi(e){return new Wb(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.fi,r=>{const i=gt.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,Ct.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Le.or([()=>Le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hg{constructor(e,n){this.persistence=e,this.pi=new bu(r=>nB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mU(this,n)}static mi(e,n){return new hg(e,n)}Ei(){}di(e){return Le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Le.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Le.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,u=>this.br(e,u,n).next(g=>{g||(r++,a.removeEntry(u,Ct.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=W1(e.data.value)),n}br(e,n,r){return Le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Zt(),i=Zt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Yb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return S7()?8:eB(E7())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new TU;return this.Ss(e,n,u).next(g=>{if(a.result=g,this.Vs)return this.bs(e,n,u,g.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(df()<=on.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",gf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Le.resolve()):(df()<=on.DEBUG&&Qe("QueryEngine","Query:",gf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(df()<=on.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",gf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(n))):Le.resolve())}ys(e,n){if(hT(n))return Le.resolve(null);let r=uo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m2(n,null,"F"),r=uo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Zt(...a);return this.ps.getDocuments(e,u).next(g=>this.indexManager.getMinOffset(e,r).next(m=>{const d=this.Ds(n,g);return this.Cs(n,d,u,m.readTime)?this.ys(e,m2(n,null,"F")):this.vs(e,d,n,m)}))})))}ws(e,n,r,i){return hT(n)||i.isEqual(Ct.min())?Le.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,i)?Le.resolve(null):(df()<=on.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gf(n)),this.vs(e,u,n,Xj(i,Ed)).next(g=>g))})}Ds(e,n){let r=new ni(UN(e));return n.forEach((i,a)=>{Em(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return df()<=on.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",gf(n)),this.ps.getDocumentsMatchingQuery(e,n,oc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="LocalStore",OU=3e8;class RU{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new br(Qt),this.xs=new bu(a=>Bb(a),Ub),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function NU(t,e,n,r){return new RU(t,e,n,r)}async function lD(t,e){const n=Rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],g=[];let m=Zt();for(const d of i){u.push(d.batchId);for(const v of d.mutations)m=m.add(v.key)}for(const d of a){g.push(d.batchId);for(const v of d.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(r,m).next(d=>({Ls:d,removedBatchIds:u,addedBatchIds:g}))})})}function DU(t,e){const n=Rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,m,d,v){const w=d.batch,S=w.keys();let T=Le.resolve();return S.forEach(N=>{T=T.next(()=>v.getEntry(m,N)).next(M=>{const P=d.docVersions.get(N);En(P!==null,48541),M.version.compareTo(P)<0&&(w.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),v.addEntry(M)))})}),T.next(()=>g.mutationQueue.removeMutationBatch(m,w))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let m=Zt();for(let d=0;d<g.mutationResults.length;++d)g.mutationResults[d].transformResults.length>0&&(m=m.add(g.batch.mutations[d].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cD(t){const e=Rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function MU(t,e){const n=Rt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const g=[];e.targetChanges.forEach((v,w)=>{const S=i.get(w);if(!S)return;g.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(a,v.addedDocuments,w)));let T=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?T=T.withResumeToken(Di.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),i=i.insert(w,T),function(M,P,B){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=OU?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(S,T,v)&&g.push(n.Pi.updateTargetData(a,T))});let m=nl(),d=Zt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),g.push(PU(a,u,e.documentUpdates).next(v=>{m=v.ks,d=v.qs})),!r.isEqual(Ct.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next(w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));g.push(v)}return Le.waitFor(g).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,m,d)).next(()=>m)}).then(a=>(n.Ms=i,a))}function PU(t,e,n){let r=Zt(),i=Zt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=nl();return n.forEach((g,m)=>{const d=a.get(g);m.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(g)),m.isNoDocument()&&m.version.isEqual(Ct.min())?(e.removeEntry(g,m.readTime),u=u.insert(g,m)):!d.isValidDocument()||m.version.compareTo(d.version)>0||m.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(m),u=u.insert(g,m)):Qe($b,"Ignoring outdated watch update for ",g,". Current version:",d.version," Watch version:",m.version)}),{ks:u,qs:i}})}function LU(t,e){const n=Rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kU(t,e){const n=Rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,Le.resolve(i)):n.Pi.allocateTargetId(r).next(u=>(i=new Zl(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function b2(t,e,n){const r=Rt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Yf(u))throw u;Qe($b,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _T(t,e,n){const r=Rt(t);let i=Ct.min(),a=Zt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(m,d,v){const w=Rt(m),S=w.xs.get(v);return S!==void 0?Le.resolve(w.Ms.get(S)):w.Pi.getTargetData(d,v)}(r,u,uo(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,g.targetId).next(m=>{a=m})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,n?i:Ct.min(),n?a:Zt())).next(g=>(jU(r,wB(e),g),{documents:g,Qs:a})))}function jU(t,e,n){let r=t.Os.get(e)||Ct.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class CT{constructor(){this.activeTargetIds=TB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BU{constructor(){this.Mo=new CT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class IT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Qe(TT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Qe(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S1=null;function w2(){return S1===null?S1=function(){return 268435456+Math.round(2147483648*Math.random())}():S1++,"0x"+S1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="RestConnection",FU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===og?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const u=w2(),g=this.zo(e,n.toUriEncodedString());Qe(bv,`Sending RPC '${e}' ${u}:`,g,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,i,a);const{host:d}=new URL(g),v=gm(d);return this.Jo(e,g,m,r,v).then(w=>(Qe(bv,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Tf(bv,`RPC '${e}' ${u} failed with error: `,w,"url: ",g,"request:",r),w})}Ho(e,n,r,i,a,u){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=FU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="WebChannelConnection";class HU extends VU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const u=w2();return new Promise((g,m)=>{const d=new hN;d.setWithCredentials(!0),d.listenOnce(dN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case G1.NO_ERROR:const w=d.getResponseJson();Qe(qi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),g(w);break;case G1.TIMEOUT:Qe(qi,`RPC '${e}' ${u} timed out`),m(new Xe(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case G1.HTTP_ERROR:const S=d.getStatus();if(Qe(qi,`RPC '${e}' ${u} failed with status:`,S,"response text:",d.getResponseText()),S>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T?.error;if(N&&N.status&&N.message){const M=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf($)>=0?$:Ne.UNKNOWN}(N.status);m(new Xe(M,N.message))}else m(new Xe(Ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new Xe(Ne.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Qe(qi,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);Qe(qi,`RPC '${e}' ${u} sending request:`,i),d.send(n,"POST",v,r,15)})}T_(e,n,r){const i=w2(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=pN(),g=mN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(m.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const v=a.join("");Qe(qi,`Creating RPC '${e}' stream ${i}: ${v}`,m);const w=u.createWebChannel(v,m);this.I_(w);let S=!1,T=!1;const N=new zU({Yo:P=>{T?Qe(qi,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(S||(Qe(qi,`Opening RPC '${e}' stream ${i} transport.`),w.open(),S=!0),Qe(qi,`RPC '${e}' stream ${i} sending:`,P),w.send(P))},Zo:()=>w.close()}),M=(P,B,$)=>{P.listen(B,q=>{try{$(q)}catch(te){setTimeout(()=>{throw te},0)}})};return M(w,id.EventType.OPEN,()=>{T||(Qe(qi,`RPC '${e}' stream ${i} transport opened.`),N.o_())}),M(w,id.EventType.CLOSE,()=>{T||(T=!0,Qe(qi,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(w))}),M(w,id.EventType.ERROR,P=>{T||(T=!0,Tf(qi,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),N.a_(new Xe(Ne.UNAVAILABLE,"The operation could not be completed")))}),M(w,id.EventType.MESSAGE,P=>{if(!T){const B=P.data[0];En(!!B,16349);const $=B,q=$?.error||$[0]?.error;if(q){Qe(qi,`RPC '${e}' stream ${i} received error:`,q);const te=q.status;let X=function(G){const F=Gr[G];if(F!==void 0)return KN(F)}(te),ee=q.message;X===void 0&&(X=Ne.INTERNAL,ee="Unknown error status: "+te+" with message "+q.message),T=!0,N.a_(new Xe(X,ee)),w.close()}else Qe(qi,`RPC '${e}' stream ${i} received:`,B),N.u_(B)}}),M(g,gN.STAT_EVENT,P=>{P.stat===l2.PROXY?Qe(qi,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===l2.NOPROXY&&Qe(qi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){return new YB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="PersistentStream";class fD{constructor(e,n,r,i,a,u,g,m){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(tl(n.toString()),tl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Xe(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Qe(OT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Qe(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qU extends fD{constructor(e,n,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KB(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ct.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?fo(u.readTime):Ct.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=x2(this.serializer),n.addTarget=function(a,u){let g;const m=u.target;if(g=d2(m)?{documents:JB(a,m)}:{query:eU(a,m).ft},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=JN(a,u.resumeToken);const d=p2(a,u.expectedCount);d!==null&&(g.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ct.min())>0){g.readTime=fg(a,u.snapshotVersion.toTimestamp());const d=p2(a,u.expectedCount);d!==null&&(g.expectedCount=d)}return g}(this.serializer,e);const r=nU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=x2(this.serializer),n.removeTarget=e,this.q_(n)}}class GU extends fD{constructor(e,n,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return En(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,En(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){En(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZB(e.writeResults,e.commitTime),r=fo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=x2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{}class YU extends WU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Xe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,y2(n,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Xe(Ne.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,g])=>this.connection.Ho(e,y2(n,r),i,u,g,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Xe(Ne.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $U{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tl(n),this.aa=!1):Qe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="RemoteStore";class XU{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{wu(this)&&(Qe(ou,"Restarting streams for network reachability change."),await async function(m){const d=Rt(m);d.Ea.add(4),await $d(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Tm(d)}(this))})}),this.Ra=new $U(r,i)}}async function Tm(t){if(wu(t))for(const e of t.da)await e(!0)}async function $d(t){for(const e of t.da)await e(!1)}function hD(t,e){const n=Rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zb(n)?Qb(n):Xf(n).O_()&&Kb(n,e))}function Xb(t,e){const n=Rt(t),r=Xf(n);n.Ia.delete(e),r.O_()&&dD(n,e),n.Ia.size===0&&(r.O_()?r.L_():wu(n)&&n.Ra.set("Unknown"))}function Kb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xf(t).Y_(e)}function dD(t,e){t.Va.Ue(e),Xf(t).Z_(e)}function Qb(t){t.Va=new HB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xf(t).start(),t.Ra.ua()}function Zb(t){return wu(t)&&!Xf(t).x_()&&t.Ia.size>0}function wu(t){return Rt(t).Ea.size===0}function gD(t){t.Va=void 0}async function KU(t){t.Ra.set("Online")}async function QU(t){t.Ia.forEach((e,n)=>{Kb(t,e)})}async function ZU(t,e){gD(t),Zb(t)?(t.Ra.ha(e),Qb(t)):t.Ra.set("Unknown")}async function JU(t,e,n){if(t.Ra.set("Online"),e instanceof ZN&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const g of a.targetIds)i.Ia.has(g)&&(await i.remoteSyncer.rejectListen(g,u),i.Ia.delete(g),i.Va.removeTarget(g))}(t,e)}catch(r){Qe(ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dg(t,r)}else if(e instanceof X1?t.Va.Ze(e):e instanceof QN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ct.min()))try{const r=await cD(t.localStore);n.compareTo(r)>=0&&await function(a,u){const g=a.Va.Tt(u);return g.targetChanges.forEach((m,d)=>{if(m.resumeToken.approximateByteSize()>0){const v=a.Ia.get(d);v&&a.Ia.set(d,v.withResumeToken(m.resumeToken,u))}}),g.targetMismatches.forEach((m,d)=>{const v=a.Ia.get(m);if(!v)return;a.Ia.set(m,v.withResumeToken(Di.EMPTY_BYTE_STRING,v.snapshotVersion)),dD(a,m);const w=new Zl(v.target,m,d,v.sequenceNumber);Kb(a,w)}),a.remoteSyncer.applyRemoteEvent(g)}(t,n)}catch(r){Qe(ou,"Failed to raise snapshot:",r),await dg(t,r)}}async function dg(t,e,n){if(!Yf(e))throw e;t.Ea.add(1),await $d(t),t.Ra.set("Offline"),n||(n=()=>cD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Qe(ou,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Tm(t)})}function mD(t,e){return e().catch(n=>dg(t,n,e))}async function Im(t){const e=Rt(t),n=fc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lb;for(;eF(e);)try{const i=await LU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,tF(e,i)}catch(i){await dg(e,i)}pD(e)&&yD(e)}function eF(t){return wu(t)&&t.Ta.length<10}function tF(t,e){t.Ta.push(e);const n=fc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pD(t){return wu(t)&&!fc(t).x_()&&t.Ta.length>0}function yD(t){fc(t).start()}async function nF(t){fc(t).ra()}async function rF(t){const e=fc(t);for(const n of t.Ta)e.ea(n.mutations)}async function iF(t,e,n){const r=t.Ta.shift(),i=zb.from(r,e,n);await mD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Im(t)}async function aF(t,e){e&&fc(t).X_&&await async function(r,i){if(function(u){return FB(u)&&u!==Ne.ABORTED}(i.code)){const a=r.Ta.shift();fc(r).B_(),await mD(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Im(r)}}(t,e),pD(t)&&yD(t)}async function RT(t,e){const n=Rt(t);n.asyncQueue.verifyOperationInProgress(),Qe(ou,"RemoteStore received new credentials");const r=wu(n);n.Ea.add(3),await $d(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tm(n)}async function sF(t,e){const n=Rt(t);e?(n.Ea.delete(2),await Tm(n)):e||(n.Ea.add(2),await $d(n),n.Ra.set("Unknown"))}function Xf(t){return t.ma||(t.ma=function(n,r,i){const a=Rt(n);return a.sa(),new qU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:KU.bind(null,t),t_:QU.bind(null,t),r_:ZU.bind(null,t),H_:JU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Zb(t)?Qb(t):t.Ra.set("Unknown")):(await t.ma.stop(),gD(t))})),t.ma}function fc(t){return t.fa||(t.fa=function(n,r,i){const a=Rt(n);return a.sa(),new GU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nF.bind(null,t),r_:aF.bind(null,t),ta:rF.bind(null,t),na:iF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Im(t)):(await t.fa.stop(),t.Ta.length>0&&(Qe(ou,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const u=Date.now()+r,g=new Jb(e,n,u,i,a);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ew(t,e){if(tl("AsyncQueue",`${e}: ${t}`),Yf(t))return new Xe(Ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{static emptySet(e){return new Af(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=ad(),this.sortedSet=new br(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Af)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Af;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ga=new br(gt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Df{constructor(e,n,r,i,a,u,g,m,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const u=[];return n.forEach(g=>{u.push({type:0,doc:g})}),new Df(e,n,Af.emptySet(n),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class lF{constructor(){this.queries=DT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Rt(n),a=i.queries;i.queries=DT(),a.forEach((u,g)=>{for(const m of g.Sa)m.onError(r)})})(this,new Xe(Ne.ABORTED,"Firestore shutting down"))}}function DT(){return new bu(t=>BN(t),wm)}async function tw(t,e){const n=Rt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new oF,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const g=ew(u,`Initialization of query '${gf(e.query)}' failed`);return void e.onError(g)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&rw(n)}async function nw(t,e){const n=Rt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cF(t,e){const n=Rt(t);let r=!1;for(const i of e){const a=i.query,u=n.queries.get(a);if(u){for(const g of u.Sa)g.Fa(i)&&(r=!0);u.wa=i}}r&&rw(n)}function uF(t,e,n){const r=Rt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function rw(t){t.Ca.forEach(e=>{e.next()})}var E2,MT;(MT=E2||(E2={})).Ma="default",MT.Cache="cache";class iw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Df(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.key=e}}class xD{constructor(e){this.key=e}}class fF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zt(),this.mutatedKeys=Zt(),this.eu=UN(e),this.tu=new Af(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new NT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=i,g=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,w)=>{const S=i.get(v),T=Em(this.query,w)?w:null,N=!!S&&this.mutatedKeys.has(S.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;S&&T?S.data.isEqual(T.data)?N!==M&&(r.track({type:3,doc:T}),P=!0):this.su(S,T)||(r.track({type:2,doc:T}),P=!0,(m&&this.eu(T,m)>0||d&&this.eu(T,d)<0)&&(g=!0)):!S&&T?(r.track({type:0,doc:T}),P=!0):S&&!T&&(r.track({type:1,doc:S}),P=!0,(m||d)&&(g=!0)),P&&(T?(u=u.add(T),a=M?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:g,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(T,N){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:P})}};return M(T)-M(N)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),i=i??!1;const g=n&&!i?this._u():[],m=this.Xa.size===0&&this.current&&!i?1:0,d=m!==this.Za;return this.Za=m,u.length!==0||d?{snapshot:new Df(this.query,e.tu,a,u,e.mutatedKeys,m===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Zt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new xD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new vD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Zt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Df.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const aw="SyncEngine";class hF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dF{constructor(e){this.key=e,this.hu=!1}}class gF{constructor(e,n,r,i,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new bu(g=>BN(g),wm),this.Iu=new Map,this.Eu=new Set,this.du=new br(gt.comparator),this.Au=new Map,this.Ru=new Gb,this.Vu={},this.mu=new Map,this.fu=Nf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mF(t,e,n=!0){const r=_D(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await bD(r,e,n,!0),i}async function pF(t,e){const n=_D(t);await bD(n,e,!0,!1)}async function bD(t,e,n,r){const i=await kU(t.localStore,uo(e)),a=i.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let g;return r&&(g=await yF(t,e,a,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&hD(t.remoteStore,i),g}async function yF(t,e,n,r,i){t.pu=(w,S,T)=>async function(M,P,B,$){let q=P.view.ru(B);q.Cs&&(q=await _T(M.localStore,P.query,!1).then(({documents:j})=>P.view.ru(j,q)));const te=$&&$.targetChanges.get(P.targetId),X=$&&$.targetMismatches.get(P.targetId)!=null,ee=P.view.applyChanges(q,M.isPrimaryClient,te,X);return LT(M,P.targetId,ee.au),ee.snapshot}(t,w,S,T);const a=await _T(t.localStore,e,!0),u=new fF(e,a.Qs),g=u.ru(a.documents),m=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=u.applyChanges(g,t.isPrimaryClient,m);LT(t,n,d.au);const v=new hF(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function vF(t,e,n){const r=Rt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(u=>!wm(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await b2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xb(r.remoteStore,i.targetId),A2(r,i.targetId)}).catch(Wf)):(A2(r,i.targetId),await b2(r.localStore,i.targetId,!0))}async function xF(t,e){const n=Rt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xb(n.remoteStore,r.targetId))}async function bF(t,e,n){const r=TF(t);try{const i=await function(u,g){const m=Rt(u),d=vn.now(),v=g.reduce((T,N)=>T.add(N.key),Zt());let w,S;return m.persistence.runTransaction("Locally write mutations","readwrite",T=>{let N=nl(),M=Zt();return m.Ns.getEntries(T,v).next(P=>{N=P,N.forEach((B,$)=>{$.isValidDocument()||(M=M.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(T,N)).next(P=>{w=P;const B=[];for(const $ of g){const q=LB($,w.get($.key).overlayedDocument);q!=null&&B.push(new wc($.key,q,RN(q.value.mapValue),_s.exists(!0)))}return m.mutationQueue.addMutationBatch(T,d,B,g)}).next(P=>{S=P;const B=P.applyToLocalDocumentSet(w,M);return m.documentOverlayCache.saveOverlays(T,P.batchId,B)})}).then(()=>({batchId:S.batchId,changes:VN(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,g,m){let d=u.Vu[u.currentUser.toKey()];d||(d=new br(Qt)),d=d.insert(g,m),u.Vu[u.currentUser.toKey()]=d}(r,i.batchId,n),await Xd(r,i.changes),await Im(r.remoteStore)}catch(i){const a=ew(i,"Failed to persist write");n.reject(a)}}async function wD(t,e){const n=Rt(t);try{const r=await MU(n.localStore,e);e.targetChanges.forEach((i,a)=>{const u=n.Au.get(a);u&&(En(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?En(u.hu,14607):i.removedDocuments.size>0&&(En(u.hu,42227),u.hu=!1))}),await Xd(n,r,e)}catch(r){await Wf(r)}}function PT(t,e,n){const r=Rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,u)=>{const g=u.view.va(e);g.snapshot&&i.push(g.snapshot)}),function(u,g){const m=Rt(u);m.onlineState=g;let d=!1;m.queries.forEach((v,w)=>{for(const S of w.Sa)S.va(g)&&(d=!0)}),d&&rw(m)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wF(t,e,n){const r=Rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new br(gt.comparator);u=u.insert(a,Yi.newNoDocument(a,Ct.min()));const g=Zt().add(a),m=new _m(Ct.min(),new Map,new br(Qt),u,g);await wD(r,m),r.du=r.du.remove(a),r.Au.delete(e),sw(r)}else await b2(r.localStore,e,!1).then(()=>A2(r,e,n)).catch(Wf)}async function EF(t,e){const n=Rt(t),r=e.batch.batchId;try{const i=await DU(n.localStore,e);AD(n,r,null),ED(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xd(n,i)}catch(i){await Wf(i)}}async function AF(t,e,n){const r=Rt(t);try{const i=await function(u,g){const m=Rt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let v;return m.mutationQueue.lookupMutationBatch(d,g).next(w=>(En(w!==null,37113),v=w.keys(),m.mutationQueue.removeMutationBatch(d,w))).next(()=>m.mutationQueue.performConsistencyCheck(d)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(d,v,g)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v)).next(()=>m.localDocuments.getDocuments(d,v))})}(r.localStore,e);AD(r,e,n),ED(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xd(r,i)}catch(i){await Wf(i)}}function ED(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function AD(t,e,n){const r=Rt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function A2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||SD(t,r)})}function SD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sw(t))}function LT(t,e,n){for(const r of n)r instanceof vD?(t.Ru.addReference(r.key,e),SF(t,r)):r instanceof xD?(Qe(aw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SD(t,r.key)):Et(19791,{wu:r})}function SF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Qe(aw,"New document in limbo: "+n),t.Eu.add(r),sw(t))}function sw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new gt(Yn.fromString(e)),r=t.fu.next();t.Au.set(r,new dF(n)),t.du=t.du.insert(n,r),hD(t.remoteStore,new Zl(uo(bm(n.path)),r,"TargetPurposeLimboResolution",ym.ce))}}async function Xd(t,e,n){const r=Rt(t),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((g,m)=>{u.push(r.pu(m,e,n).then(d=>{if((d||n)&&r.isPrimaryClient){const v=d?!d.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(d){i.push(d);const v=Yb.As(m.targetId,d);a.push(v)}}))}),await Promise.all(u),r.Pu.H_(i),await async function(m,d){const v=Rt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Le.forEach(d,S=>Le.forEach(S.Es,T=>v.persistence.referenceDelegate.addReference(w,S.targetId,T)).next(()=>Le.forEach(S.ds,T=>v.persistence.referenceDelegate.removeReference(w,S.targetId,T)))))}catch(w){if(!Yf(w))throw w;Qe($b,"Failed to update sequence numbers: "+w)}for(const w of d){const S=w.targetId;if(!w.fromCache){const T=v.Ms.get(S),N=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(S,M)}}}(r.localStore,a))}async function _F(t,e){const n=Rt(t);if(!n.currentUser.isEqual(e)){Qe(aw,"User change. New user:",e.toKey());const r=await lD(n.localStore,e);n.currentUser=e,function(a,u){a.mu.forEach(g=>{g.forEach(m=>{m.reject(new Xe(Ne.CANCELLED,u))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xd(n,r.Ls)}}function CF(t,e){const n=Rt(t),r=n.Au.get(e);if(r&&r.hu)return Zt().add(r.key);{let i=Zt();const a=n.Iu.get(e);if(!a)return i;for(const u of a){const g=n.Tu.get(u);i=i.unionWith(g.view.nu)}return i}}function _D(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wF.bind(null,e),e.Pu.H_=cF.bind(null,e.eventManager),e.Pu.yu=uF.bind(null,e.eventManager),e}function TF(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AF.bind(null,e),e}class gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NU(this.persistence,new IU,e.initialUser,this.serializer)}Cu(e){return new oD(Wb.mi,this.serializer)}Du(e){return new BU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gg.provider={build:()=>new gg};class IF extends gg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){En(this.persistence.referenceDelegate instanceof hg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new oD(r=>hg.mi(r,n),this.serializer)}}class S2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_F.bind(null,this.syncEngine),await sF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lF}()}createDatastore(e){const n=Cm(e.databaseInfo.databaseId),r=function(a){return new HU(a)}(e.databaseInfo);return function(a,u,g,m){return new YU(a,u,g,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,u,g){return new XU(r,i,a,u,g)}(this.localStore,this.datastore,e.asyncQueue,n=>PT(this.syncEngine,n,0),function(){return IT.v()?new IT:new UU}())}createSyncEngine(e,n){return function(i,a,u,g,m,d,v){const w=new gF(i,a,u,g,m,d);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Rt(n);Qe(ou,"RemoteStore shutting down."),r.Ea.add(5),await $d(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}S2.provider={build:()=>new S2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="FirestoreClient";class OF{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wi.UNAUTHENTICATED,this.clientId=Pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Qe(hc,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Qe(hc,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ew(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ev(t,e){t.asyncQueue.verifyOperationInProgress(),Qe(hc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RF(t);Qe(hc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RT(e.remoteStore,i)),t._onlineComponents=e}async function RF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Qe(hc,"Using user provided OfflineComponentProvider");try{await Ev(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ne.FAILED_PRECONDITION||i.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Tf("Error using user provided cache. Falling back to memory cache: "+n),await Ev(t,new gg)}}else Qe(hc,"Using default OfflineComponentProvider"),await Ev(t,new IF(void 0));return t._offlineComponents}async function CD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Qe(hc,"Using user provided OnlineComponentProvider"),await kT(t,t._uninitializedComponentsProvider._online)):(Qe(hc,"Using default OnlineComponentProvider"),await kT(t,new S2))),t._onlineComponents}function NF(t){return CD(t).then(e=>e.syncEngine)}async function mg(t){const e=await CD(t),n=e.eventManager;return n.onListen=mF.bind(null,e.syncEngine),n.onUnlisten=vF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xF.bind(null,e.syncEngine),n}function DF(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,g,m,d){const v=new ow({next:S=>{v.Nu(),u.enqueueAndForget(()=>nw(a,w));const T=S.docs.has(g);!T&&S.fromCache?d.reject(new Xe(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&S.fromCache&&m&&m.source==="server"?d.reject(new Xe(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(S)},error:S=>d.reject(S)}),w=new iw(bm(g.path),v,{includeMetadataChanges:!0,qa:!0});return tw(a,w)}(await mg(t),t.asyncQueue,e,n,r)),r.promise}function MF(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,g,m,d){const v=new ow({next:S=>{v.Nu(),u.enqueueAndForget(()=>nw(a,w)),S.fromCache&&m.source==="server"?d.reject(new Xe(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(S)},error:S=>d.reject(S)}),w=new iw(g,v,{includeMetadataChanges:!0,qa:!0});return tw(a,w)}(await mg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="firestore.googleapis.com",BT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ID,this.ssl=BT}else this.host=e.host,this.ssl=e.ssl??BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fU)throw new Xe(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$j("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Xe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Xe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Xe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Bj;switch(r.type){case"firstParty":return new zj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jT.get(n);r&&(Qe("ComponentProvider","Removing Datastore"),jT.delete(n),r.terminate())}(this),Promise.resolve()}}function PF(t,e,n,r={}){t=Aa(t,Om);const i=gm(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},g=`${e}:${n}`;i&&(ZR(`https://${g}`),eN("Firestore",!0)),a.host!==ID&&a.host!==g&&Tf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:g,ssl:i,emulatorOptions:r};if(!ig(m,u)&&(t._setSettings(m),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=Wi.MOCK_USER;else{d=JR(r.mockUserToken,t._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Xe(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wi(w)}t._authCredentials=new Uj(new vN(d,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ec(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}toJSON(){return{type:Rr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,Rr._jsonSchema))return new Rr(e,r||null,new gt(Yn.fromString(n.referencePath)))}}Rr._jsonSchemaVersion="firestore/documentReference/1.0",Rr._jsonSchema={type:Yr("string",Rr._jsonSchemaVersion),referencePath:Yr("string")};class ic extends Ec{constructor(e,n,r){super(e,n,bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new gt(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function pt(t,e,...n){if(t=Hs(t),xN("collection","path",e),t instanceof Om){const r=Yn.fromString(e,...n);return ZC(r),new ic(t,null,r)}{if(!(t instanceof Rr||t instanceof ic))throw new Xe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yn.fromString(e,...n));return ZC(r),new ic(t.firestore,null,r)}}function wt(t,e,...n){if(t=Hs(t),arguments.length===1&&(e=Pb.newId()),xN("doc","path",e),t instanceof Om){const r=Yn.fromString(e,...n);return QC(r),new Rr(t,null,new gt(r))}{if(!(t instanceof Rr||t instanceof ic))throw new Xe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yn.fromString(e,...n));return QC(r),new Rr(t.firestore,t instanceof ic?t.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uD(this,"async_queue_retry"),this._c=()=>{const r=wv();r&&Qe(FT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ko;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yf(e))throw e;Qe(FT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,tl("INTERNAL UNHANDLED ERROR: ",zT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Jb.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Et(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class rl extends Om{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function lw(t,e){const n=typeof t=="object"?t:lN(),r=typeof t=="string"?t:og,i=aN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=KR("firestore");a&&PF(i,...a)}return i}function Rm(t){if(t._terminated)throw new Xe(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LF(t),t._firestoreClient}function LF(t){const e=t._freezeSettings(),n=function(i,a,u,g){return new aB(i,a,u,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,TD(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new OF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(Di.fromBase64String(e))}catch(n){throw new Xe(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new As(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:As._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,As._jsonSchema))return As.fromBase64String(e.bytes)}}As._jsonSchemaVersion="firestore/bytes/1.0",As._jsonSchema={type:Yr("string",As._jsonSchemaVersion),bytes:Yr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ho._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,ho._jsonSchema))return new ho(e.latitude,e.longitude)}}ho._jsonSchemaVersion="firestore/geoPoint/1.0",ho._jsonSchema={type:Yr("string",ho._jsonSchemaVersion),latitude:Yr("number"),longitude:Yr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,go._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new go(e.vectorValues);throw new Xe(Ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}go._jsonSchemaVersion="firestore/vectorValue/1.0",go._jsonSchema={type:Yr("string",go._jsonSchemaVersion),vectorValues:Yr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=/^__.*__$/;class jF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wd(e,this.data,n,this.fieldTransforms)}}class OD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:t})}}class cw{constructor(e,n,r,i,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RD(this.Ac)&&kF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cm(e)}Cc(e,n,r,i=!1){return new cw({Ac:e,methodName:n,Dc:r,path:Ni.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mm(t){const e=t._freezeSettings(),n=Cm(t._databaseId);return new BF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ND(t,e,n,r,i,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);fw("Data must be an object, but it was:",u,r);const g=DD(r,u);let m,d;if(a.merge)m=new Ka(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const S=_2(e,w,n);if(!u.contains(S))throw new Xe(Ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);PD(v,S)||v.push(S)}m=new Ka(v),d=u.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,d=u.fieldTransforms;return new jF(new wa(g),m,d)}class Pm extends Dm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pm}}class uw extends Dm{_toFieldTransform(e){return new NB(e.path,new Td)}isEqual(e){return e instanceof uw}}function UF(t,e,n,r){const i=t.Cc(1,e,n);fw("Data must be an object, but it was:",i,r);const a=[],u=wa.empty();bc(r,(m,d)=>{const v=hw(e,m,n);d=Hs(d);const w=i.yc(v);if(d instanceof Pm)a.push(v);else{const S=Kd(d,w);S!=null&&(a.push(v),u.set(v,S))}});const g=new Ka(a);return new OD(u,g,i.fieldTransforms)}function FF(t,e,n,r,i,a){const u=t.Cc(1,e,n),g=[_2(e,r,n)],m=[i];if(a.length%2!=0)throw new Xe(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)g.push(_2(e,a[S])),m.push(a[S+1]);const d=[],v=wa.empty();for(let S=g.length-1;S>=0;--S)if(!PD(d,g[S])){const T=g[S];let N=m[S];N=Hs(N);const M=u.yc(T);if(N instanceof Pm)d.push(T);else{const P=Kd(N,M);P!=null&&(d.push(T),v.set(T,P))}}const w=new Ka(d);return new OD(v,w,u.fieldTransforms)}function VF(t,e,n,r=!1){return Kd(n,t.Cc(r?4:3,e))}function Kd(t,e){if(MD(t=Hs(t)))return fw("Unsupported field value:",e,t),DD(t,e);if(t instanceof Dm)return function(r,i){if(!RD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const g of r){let m=Kd(g,i.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Hs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vn.fromDate(r);return{timestampValue:fg(i.serializer,a)}}if(r instanceof vn){const a=new vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fg(i.serializer,a)}}if(r instanceof ho)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof As)return{bytesValue:JN(i.serializer,r._byteString)};if(r instanceof Rr){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof go)return function(u,g){return{mapValue:{fields:{[IN]:{stringValue:ON},[lg]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw g.Sc("VectorValues must only contain numeric values.");return Fb(g.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${pm(r)}`)}(t,e)}function DD(t,e){const n={};return EN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bc(t,(r,i)=>{const a=Kd(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function MD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vn||t instanceof ho||t instanceof As||t instanceof Rr||t instanceof Dm||t instanceof go)}function fw(t,e,n){if(!MD(n)||!bN(n)){const r=pm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function _2(t,e,n){if((e=Hs(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return hw(t,e);throw pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const zF=new RegExp("[~\\*/\\[\\]]");function hw(t,e,n){if(e.search(zF)>=0)throw pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nm(...e.split("."))._internalPath}catch{throw pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pg(t,e,n,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${i}`),m+=")"),new Xe(Ne.INVALID_ARGUMENT,g+t+m)}function PD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HF extends LD{data(){return super.data()}}function Lm(t,e){return typeof e=="string"?hw(t,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dw{}class jD extends dw{}function gr(t,e,...n){let r=[];e instanceof dw&&r.push(e),r=r.concat(n),function(a){const u=a.filter(m=>m instanceof gw).length,g=a.filter(m=>m instanceof km).length;if(u>1||u>0&&g>0)throw new Xe(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class km extends jD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new km(e,n,r)}_apply(e){const n=this._parse(e);return BD(e._query,n),new Ec(e.firestore,e.converter,g2(e._query,n))}_parse(e){const n=Mm(e.firestore);return function(a,u,g,m,d,v,w){let S;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Xe(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){GT(w,v);const N=[];for(const M of w)N.push(qT(m,a,M));S={arrayValue:{values:N}}}else S=qT(m,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||GT(w,v),S=VF(g,u,w,v==="in"||v==="not-in");return Wr.create(d,v,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ur(t,e,n){const r=e,i=Lm("where",t);return km._create(i,r,n)}class gw extends dw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let u=i;const g=a.getFlattenedFilters();for(const m of g)BD(u,m),u=g2(u,m)}(e._query,n),new Ec(e.firestore,e.converter,g2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mw extends jD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mw(e,n)}_apply(e){const n=function(i,a,u){if(i.startAt!==null)throw new Xe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Xe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cd(a,u)}(e._query,this._field,this._direction);return new Ec(e.firestore,e.converter,function(i,a){const u=i.explicitOrderBy.concat([a]);return new $f(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pw(t,e="asc"){const n=e,r=Lm("orderBy",t);return mw._create(r,n)}function qT(t,e,n){if(typeof(n=Hs(n))=="string"){if(n==="")throw new Xe(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jN(e)&&n.indexOf("/")!==-1)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Yn.fromString(n));if(!gt.isDocumentKey(r))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sT(t,new gt(r))}if(n instanceof Rr)return sT(t,n._key);throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(n)}.`)}function GT(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BD(t,e){const n=function(i,a){for(const u of i)for(const g of u.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Xe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qF{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bc(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[lg].arrayValue?.values?.map(r=>Br(r.doubleValue));return new go(n)}convertGeoPoint(e){return new ho(Br(e.latitude),Br(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ad(e));default:return null}}convertTimestamp(e){const n=lc(e);return new vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Yn.fromString(e);En(aD(r),9688,{name:e});const i=new Sd(r.get(1),r.get(3)),a=new gt(r.popFirst(5));return i.isEqual(n)||tl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eu extends LD{constructor(e,n,r,i,a,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new K1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eu._jsonSchemaVersion="firestore/documentSnapshot/1.0",eu._jsonSchema={type:Yr("string",eu._jsonSchemaVersion),bundleSource:Yr("string","DocumentSnapshot"),bundleName:Yr("string"),bundle:Yr("string")};class K1 extends eu{data(e={}){return super.data(e)}}class tu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new K1(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(g=>{const m=new K1(i._firestore,i._userDataWriter,g.doc.key,g.doc,new od(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(g=>a||g.type!==3).map(g=>{const m=new K1(i._firestore,i._userDataWriter,g.doc.key,g.doc,new od(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,v=-1;return g.type!==0&&(d=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),g.type!==1&&(u=u.add(g.doc),v=u.indexOf(g.doc.key)),{type:GF(g.type),doc:m,oldIndex:d,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){t=Aa(t,Rr);const e=Aa(t.firestore,rl);return DF(Rm(e),t._key).then(n=>FD(e,t,n))}tu._jsonSchemaVersion="firestore/querySnapshot/1.0",tu._jsonSchema={type:Yr("string",tu._jsonSchemaVersion),bundleSource:Yr("string","QuerySnapshot"),bundleName:Yr("string"),bundle:Yr("string")};class yw extends qF{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function wn(t){t=Aa(t,Ec);const e=Aa(t.firestore,rl),n=Rm(e),r=new yw(e);return kD(t._query),MF(n,t._query).then(i=>new tu(e,r,t,i))}function WF(t,e,n){t=Aa(t,Rr);const r=Aa(t.firestore,rl),i=UD(t.converter,e);return jm(r,[ND(Mm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_s.none())])}function Wt(t,e,n,...r){t=Aa(t,Rr);const i=Aa(t.firestore,rl),a=Mm(i);let u;return u=typeof(e=Hs(e))=="string"||e instanceof Nm?FF(a,"updateDoc",t._key,e,n,r):UF(a,"updateDoc",t._key,e),jm(i,[u.toMutation(t._key,_s.exists(!0))])}function Eu(t){return jm(Aa(t.firestore,rl),[new Vb(t._key,_s.none())])}function ta(t,e){const n=Aa(t.firestore,rl),r=wt(t),i=UD(t.converter,e);return jm(n,[ND(Mm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_s.exists(!1))]).then(()=>r)}function il(t,...e){t=Hs(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||HT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(HT(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let a,u,g;if(t instanceof Rr)u=Aa(t.firestore,rl),g=bm(t._key.path),a={next:m=>{e[r]&&e[r](FD(u,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Aa(t,Ec);u=Aa(m.firestore,rl),g=m._query;const d=new yw(u);a={next:v=>{e[r]&&e[r](new tu(u,d,m,v))},error:e[r+1],complete:e[r+2]},kD(t._query)}return function(d,v,w,S){const T=new ow(S),N=new iw(v,T,w);return d.asyncQueue.enqueueAndForget(async()=>tw(await mg(d),N)),()=>{T.Nu(),d.asyncQueue.enqueueAndForget(async()=>nw(await mg(d),N))}}(Rm(u),g,i,a)}function jm(t,e){return function(r,i){const a=new Ko;return r.asyncQueue.enqueueAndForget(async()=>bF(await NF(r),i,a)),a.promise}(Rm(t),e)}function FD(t,e,n){const r=n.docs.get(e._key),i=new yw(t);return new eu(t,i,e._key,r,new od(n.hasPendingWrites,n.fromCache),e.converter)}function Vn(){return new uw("serverTimestamp")}(function(e,n=!0){(function(i){Gf=i})(oN),bd(new Cf("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),g=new rl(new Fj(r.getProvider("auth-internal")),new Hj(u,r.getProvider("app-check-internal")),function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Xe(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(d.options.projectId,v)}(u,i),u);return a={useFetchStreams:n,...a},g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),nc(YC,$C,e),nc(YC,$C,"esm2020")})();var YF="firebase",$F="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nc(YF,$F,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebasestorage.googleapis.com",XF="storageBucket",KF=120*1e3,QF=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends xu{constructor(e,n,r=0){super(Av(e),`Firebase Storage: ${n} (${Av(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Eo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Av(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yo||(yo={}));function Av(t){return"storage/"+t}function ZF(){const t="An unknown error occurred, please check the error payload for server response.";return new Eo(yo.UNKNOWN,t)}function JF(){return new Eo(yo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eV(){return new Eo(yo.CANCELED,"User canceled the upload/download.")}function tV(t){return new Eo(yo.INVALID_URL,"Invalid URL '"+t+"'.")}function nV(t){return new Eo(yo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function WT(t){return new Eo(yo.INVALID_ARGUMENT,t)}function zD(){return new Eo(yo.APP_DELETED,"The Firebase app was deleted.")}function rV(t){return new Eo(yo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zs.makeFromUrl(e,n)}catch{return new zs(e,"")}if(r.path==="")return r;throw nV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",g=new RegExp("^gs://"+i+u,"i"),m={bucket:1,path:3};function d(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",T=new RegExp(`^https?://${w}/${v}/b/${i}/o${S}`,"i"),N={bucket:1,path:3},M=n===VD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",B=new RegExp(`^https?://${M}/${i}/${P}`,"i"),q=[{regex:g,indices:m,postModify:a},{regex:T,indices:N,postModify:d},{regex:B,indices:{bucket:1,path:2},postModify:d}];for(let te=0;te<q.length;te++){const X=q[te],ee=X.regex.exec(e);if(ee){const j=ee[X.indices.bucket];let G=ee[X.indices.path];G||(G=""),r=new zs(j,G),X.postModify(r);break}}if(r==null)throw tV(e);return r}}class iV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e,n){let r=1,i=null,a=null,u=!1,g=0;function m(){return g===2}let d=!1;function v(...P){d||(d=!0,e.apply(null,P))}function w(P){i=setTimeout(()=>{i=null,t(T,m())},P)}function S(){a&&clearTimeout(a)}function T(P,...B){if(d){S();return}if(P){S(),v.call(null,P,...B);return}if(m()||u){S(),v.call(null,P,...B);return}r<64&&(r*=2);let q;g===1?(g=2,q=0):q=(r+Math.random())*1e3,w(q)}let N=!1;function M(P){N||(N=!0,S(),!d&&(i!==null?(P||(g=2),clearTimeout(i),w(0)):P||(g=1)))}return w(0),a=setTimeout(()=>{u=!0,M(!0)},n),M}function sV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){return t!==void 0}function YT(t,e,n,r){if(r<e)throw WT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw WT(`Invalid value for '${t}'. Expected ${n} or less.`)}function lV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var yg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yg||(yg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,i,a,u,g,m,d,v,w,S=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=g,this.errorCallback_=m,this.timeout_=d,this.progressCallback_=v,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,M)=>{this.resolve_=N,this.reject_=M,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=g=>{const m=g.loaded,d=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,d)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const g=a.getErrorCode()===yg.NO_ERROR,m=a.getStatus();if(!g||cV(m,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===yg.ABORT;r(!1,new _1(!1,null,v));return}const d=this.successCodes_.indexOf(m)!==-1;r(!0,new _1(d,a))})},n=(r,i)=>{const a=this.resolve_,u=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());oV(m)?a(m):a()}catch(m){u(m)}else if(g!==null){const m=ZF();m.serverResponse=g.getErrorText(),this.errorCallback_?u(this.errorCallback_(g,m)):u(m)}else if(i.canceled){const m=this.appDelete_?zD():eV();u(m)}else{const m=JF();u(m)}};this.canceled_?n(!1,new _1(!1,null,!0)):this.backoffId_=aV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mV(t,e,n,r,i,a,u=!0,g=!1){const m=lV(t.urlParams),d=t.url+m,v=Object.assign({},t.headers);return dV(v,e),fV(v,n),hV(v,a),gV(v,r),new uV(d,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this._service=e,n instanceof zs?this._location=n:this._location=zs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vg(e,n)}get root(){const e=new zs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yV(this._location.path)}get storage(){return this._service}get parent(){const e=pV(this._location.path);if(e===null)return null;const n=new zs(this._location.bucket,e);return new vg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rV(e)}}function $T(t,e){const n=e?.[XF];return n==null?null:zs.makeFromBucketSpec(n,t)}function vV(t,e,n,r={}){t.host=`${e}:${n}`;const i=gm(e);i&&(ZR(`https://${t.host}/b`),eN("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:JR(a,t.app.options.projectId))}class xV{constructor(e,n,r,i,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=VD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KF,this._maxUploadRetryTime=QF,this._requests=new Set,i!=null?this._bucket=zs.makeFromBucketSpec(i,this._host):this._bucket=$T(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zs.makeFromBucketSpec(this._url,e):this._bucket=$T(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sN(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vg(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new iV(zD());{const u=mV(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const XT="@firebase/storage",KT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="storage";function bV(t=lN(),e){t=Hs(t);const r=aN(t,HD).getImmediate({identifier:e}),i=KR("storage");return i&&wV(r,...i),r}function wV(t,e,n,r={}){vV(t,e,n,r)}function EV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new xV(n,r,i,e,oN)}function AV(){bd(new Cf(HD,EV,"PUBLIC").setMultipleInstances(!0)),nc(XT,KT,""),nc(XT,KT,"esm2020")}AV();const SV={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},qD=mm(SV),Ge=lw(qD);bV(qD);function ul(){const[t,e]=R.useState(!1),[n,r]=R.useState(0);return R.useEffect(()=>{const i=gr(pt(Ge,"walletRequests"),Ur("status","==","pending")),a=il(i,u=>{r(u.size)});return()=>a()},[]),I.jsxs(I.Fragment,{children:[I.jsxs("aside",{className:`sidebar ${t?"hidden":""}`,"aria-hidden":t,children:[I.jsx("h2",{className:"sidebar-title",children:"Admin Panel"}),I.jsxs("nav",{className:"sidebar-nav",children:[I.jsx(xa,{to:"/dashboard",className:({isActive:i})=>i?"sidebar-link active":"sidebar-link",children:"Dashboard"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(xa,{to:"/customers",className:({isActive:i})=>i?"sidebar-link active":"sidebar-link",children:"Customers"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(xa,{to:"/rewards",className:({isActive:i})=>i?"sidebar-link active":"sidebar-link",children:"Rewards"}),I.jsx(xa,{to:"/menu",className:({isActive:i})=>i?"sidebar-link active":"sidebar-link",children:"Menu"}),I.jsx("div",{className:"sidebar-separator"}),I.jsxs(xa,{to:"/wallet",className:({isActive:i})=>i?"sidebar-link active wallet-link":"sidebar-link wallet-link",children:["Wallet Requests",n>0&&I.jsx("span",{className:"notification-badge",children:n})]}),I.jsx(xa,{to:"/feedback",className:({isActive:i})=>i?"sidebar-link active":"sidebar-link",children:"Feedback"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(xa,{to:"/transactions",className:({isActive:i})=>i?"sidebar-link active":"sidebar-link",children:"Transactions"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(xa,{to:"/",className:({isActive:i})=>i?"sidebar-link active":"sidebar-link",children:"Logout"})]})]}),I.jsx("button",{className:"toggle-btn",onClick:()=>e(i=>!i),"aria-pressed":!t,"aria-label":t?"Open sidebar":"Close sidebar",children:t?I.jsx(YR,{size:20}):I.jsx(WR,{size:20})})]})}function _V(){return I.jsx("div",{className:"intro-container",children:I.jsxs("div",{className:"intro-card",children:[I.jsx("h1",{className:"intro-title",children:"Welcome!"}),I.jsx("div",{className:"intro-buttons",children:I.jsx(xd,{to:"/Owner",children:I.jsx("button",{className:"intro-button admin-button",children:"Start"})})})]})})}const CV={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},TV=mm(CV),GD=lw(TV),IV=async()=>{const t=wt(GD,"AdminUser","Admin"),e=await Qa(t);return e.exists()?e.data().PIN:(console.log("No such document!"),null)},OV=async()=>{const t=wt(GD,"AdminUser","Staff"),e=await Qa(t);return e.exists()?e.data().PIN:(console.log("No such document!"),null)};function RV(){const[t,e]=R.useState(!1),[n,r]=R.useState(""),[i,a]=R.useState(""),[u,g]=R.useState(""),[m,d]=R.useState(""),v=hm();R.useEffect(()=>{(async()=>{const T=await IV(),N=await OV();g(T),d(N)})()},[]);const w=()=>{if(!n.trim()){a("❌ Please enter your PIN.");return}n===u?(e(!0),v("/Dashboard",{replace:!0}),a("")):n===m?(e(!0),v("/take-order",{replace:!0}),a("")):a("❌ Incorrect password. Please try again.")};return I.jsx("div",{className:"owner-container",children:t?I.jsxs("div",{className:"owner-welcome",children:[I.jsx("h1",{className:"welcome-title",children:"👋 Welcome, Owner!"}),I.jsx(xd,{to:"/Intro",className:"back-link",children:"← Back to Intro"})]}):I.jsxs("div",{className:"login-card",children:[I.jsx("h2",{className:"login-title",children:"🔐Please enter pin"}),I.jsx("input",{type:"password",placeholder:"Enter PIN",value:n,onChange:S=>r(S.target.value),className:"login-input"}),I.jsx("button",{onClick:w,className:"login-button",children:"Login"}),i&&I.jsx("p",{className:"error-message",children:i}),I.jsx(xd,{to:"/Intro",className:"back-link",children:"← Back"})]})})}const QT=(t,e)=>{const n=new Date,r=new Date(n.toDateString()),i=new Date(t.toDateString());if(e==="today")return i.getTime()===r.getTime();if(e==="week"){const a=new Date(r);return a.setDate(r.getDate()-r.getDay()),i>=a&&i<=n}else if(e==="month")return i.getMonth()===r.getMonth()&&i.getFullYear()===r.getFullYear();return!1},NV=async t=>{const e=pt(Ge,"transactions"),n=await wn(e);let r=0,i=0;const a={},u={},g={},m={Requested:0,Approved:0,Rejected:0,Total:0},d=[];n.forEach(T=>{const N=T.data(),M=N.date?.toDate?.()||new Date(N.date||Date.now()),P=N.status||"pending",B=N.type||"",$=N.paymentMethod||"Unknown",q=N.items||[],te=Number(N.amount)||0;if(B==="wallet-topup"&&QT(M,t)&&(d.push({id:T.id,amount:te,status:P,paymentMethod:$,date:M.toLocaleDateString(),customerName:N.customerName||"N/A"}),m[P]!==void 0&&(m[P]+=1),m.Total+=1),P==="Completed"&&QT(M,t)){const X=M.toISOString().split("T")[0];B!=="wallet-topup"&&(r+=te),(B==="wallet-topup"||$==="Wallet Top-up")&&(i+=te),Array.isArray(q)&&q.forEach(ee=>{const j=ee.category||"Uncategorized";a[j]=(a[j]||0)+1}),u[X]||(u[X]={}),u[X][$]=(u[X][$]||0)+te,B!=="wallet-topup"&&(g[$]=(g[$]||0)+te)}});const v=Object.entries(a).sort((T,N)=>N[1]-T[1]).slice(0,6).map(([T,N])=>({name:T,count:N})),w=Object.entries(u).map(([T,N])=>({date:T,...N})),S=Object.entries(g).map(([T,N])=>({name:T,value:N}));return{totalSales:r,walletTopups:i,topCategories:v,dailyPaymentData:w,paymentBreakdown:S,topupRequests:m,topupWalletRecords:d}};var Ze;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var ZT=new Map([[Ze.QR_CODE,"QR_CODE"],[Ze.AZTEC,"AZTEC"],[Ze.CODABAR,"CODABAR"],[Ze.CODE_39,"CODE_39"],[Ze.CODE_93,"CODE_93"],[Ze.CODE_128,"CODE_128"],[Ze.DATA_MATRIX,"DATA_MATRIX"],[Ze.MAXICODE,"MAXICODE"],[Ze.ITF,"ITF"],[Ze.EAN_13,"EAN_13"],[Ze.EAN_8,"EAN_8"],[Ze.PDF_417,"PDF_417"],[Ze.RSS_14,"RSS_14"],[Ze.RSS_EXPANDED,"RSS_EXPANDED"],[Ze.UPC_A,"UPC_A"],[Ze.UPC_E,"UPC_E"],[Ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),JT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(JT||(JT={}));function DV(t){return Object.values(Ze).includes(t)}var dc;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(dc||(dc={}));var Us=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[dc.SCAN_TYPE_CAMERA,dc.SCAN_TYPE_FILE],t}(),WD=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!ZT.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,ZT.get(e))},t}(),eI=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),C2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(C2||(C2={}));var YD=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:C2.UNKWOWN_ERROR}},t}(),$D=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function oo(t){return typeof t>"u"||t===null}function MV(t,e,n){return t>n?n:t<e?e:t}var bf=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Tn=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),tI=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),XD=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(e),g=0,m=u;g<m.length;g++){var d=m[g];if(a.has(d))return n.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},t}(),ld={exports:{}},PV=ld.exports,nI;function LV(){return nI||(nI=1,function(t,e){(function(n,r){r(e)})(PV,function(n){function r(W){return W==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,o){W.__proto__=o}||function(W,o){for(var c in o)o.hasOwnProperty(c)&&(W[c]=o[c])};function a(W,o){i(W,o);function c(){this.constructor=W}W.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}function u(W,o){var c=Object.setPrototypeOf;c?c(W,o):W.__proto__=o}function g(W,o){o===void 0&&(o=W.constructor);var c=Error.captureStackTrace;c&&c(W,o)}var m=function(W){a(o,W);function o(c){var f=this.constructor,p=W.call(this,c)||this;return Object.defineProperty(p,"name",{value:f.name,enumerable:!1}),u(p,f.prototype),g(p),p}return o}(Error);class d extends m{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}d.kind="Exception";class v extends d{}v.kind="ArgumentException";class w extends d{}w.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,c){return this.binarizer.getBlackRow(o,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,c,f,p){const y=this.binarizer.getLuminanceSource().crop(o,c,f,p);return new S(this.binarizer.createBinarizer(y))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends d{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class N{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(o,c,f,p,y){for(;y--;)f[p++]=o[c++]}static currentTimeMillis(){return Date.now()}}class P extends d{}P.kind="IndexOutOfBoundsException";class B extends P{constructor(o=void 0,c=void 0){super(c),this.index=o,this.message=c}}B.kind="ArrayIndexOutOfBoundsException";class ${static fill(o,c){for(let f=0,p=o.length;f<p;f++)o[f]=c}static fillWithin(o,c,f,p){$.rangeCheck(o.length,c,f);for(let y=c;y<f;y++)o[y]=p}static rangeCheck(o,c,f){if(c>f)throw new w("fromIndex("+c+") > toIndex("+f+")");if(c<0)throw new B(c);if(f>o)throw new B(f)}static asList(...o){return o}static create(o,c,f){return Array.from({length:o}).map(y=>Array.from({length:c}).fill(f))}static createInt32Array(o,c,f){return Array.from({length:o}).map(y=>Int32Array.from({length:c}).fill(f))}static equals(o,c){if(!o||!c||!o.length||!c.length||o.length!==c.length)return!1;for(let f=0,p=o.length;f<p;f++)if(o[f]!==c[f])return!1;return!0}static hashCode(o){if(o===null)return 0;let c=1;for(const f of o)c=31*c+f;return c}static fillUint8Array(o,c){for(let f=0;f!==o.length;f++)o[f]=c}static copyOf(o,c){return o.slice(0,c)}static copyOfUint8Array(o,c){if(o.length<=c){const f=new Uint8Array(c);return f.set(o),f}return o.slice(0,c)}static copyOfRange(o,c,f){const p=f-c,y=new Int32Array(p);return M.arraycopy(o,c,y,0,p),y}static binarySearch(o,c,f){f===void 0&&(f=$.numberComparator);let p=0,y=o.length-1;for(;p<=y;){const b=y+p>>1,E=f(c,o[b]);if(E>0)p=b+1;else if(E<0)y=b-1;else return b}return-p-1}static numberComparator(o,c){return o-c}}class q{static numberOfTrailingZeros(o){let c;if(o===0)return 32;let f=31;return c=o<<16,c!==0&&(f-=16,o=c),c=o<<8,c!==0&&(f-=8,o=c),c=o<<4,c!==0&&(f-=4,o=c),c=o<<2,c!==0&&(f-=2,o=c),f-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let c=1;return o>>>16||(c+=16,o<<=16),o>>>24||(c+=8,o<<=8),o>>>28||(c+=4,o<<=4),o>>>30||(c+=2,o<<=2),c-=o>>>31,c}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,c){return Math.trunc(o/c)}static parseInt(o,c=void 0){return parseInt(o,c)}}q.MIN_VALUE_32_BITS=-2147483648,q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class te{constructor(o,c){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,c==null?this.bits=te.makeArray(o):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const c=te.makeArray(o);M.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const c=this.size;if(o>=c)return c;const f=this.bits;let p=Math.floor(o/32),y=f[p];y&=~((1<<(o&31))-1);const b=f.length;for(;y===0;){if(++p===b)return c;y=f[p]}const E=p*32+q.numberOfTrailingZeros(y);return E>c?c:E}getNextUnset(o){const c=this.size;if(o>=c)return c;const f=this.bits;let p=Math.floor(o/32),y=~f[p];y&=~((1<<(o&31))-1);const b=f.length;for(;y===0;){if(++p===b)return c;y=~f[p]}const E=p*32+q.numberOfTrailingZeros(y);return E>c?c:E}setBulk(o,c){this.bits[Math.floor(o/32)]=c}setRange(o,c){if(c<o||o<0||c>this.size)throw new w;if(c===o)return;c--;const f=Math.floor(o/32),p=Math.floor(c/32),y=this.bits;for(let b=f;b<=p;b++){const E=b>f?0:o&31,D=(2<<(b<p?31:c&31))-(1<<E);y[b]|=D}}clear(){const o=this.bits.length,c=this.bits;for(let f=0;f<o;f++)c[f]=0}isRange(o,c,f){if(c<o||o<0||c>this.size)throw new w;if(c===o)return!0;c--;const p=Math.floor(o/32),y=Math.floor(c/32),b=this.bits;for(let E=p;E<=y;E++){const C=E>p?0:o&31,k=(2<<(E<y?31:c&31))-(1<<C)&4294967295;if((b[E]&k)!==(f?k:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,c){if(c<0||c>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let f=c;f>0;f--)this.appendBit((o>>f-1&1)===1)}appendBitArray(o){const c=o.size;this.ensureCapacity(this.size+c);for(let f=0;f<c;f++)this.appendBit(o.get(f))}xor(o){if(this.size!==o.size)throw new w("Sizes don't match");const c=this.bits;for(let f=0,p=c.length;f<p;f++)c[f]^=o.bits[f]}toBytes(o,c,f,p){for(let y=0;y<p;y++){let b=0;for(let E=0;E<8;E++)this.get(o)&&(b|=1<<7-E),o++;c[f+y]=b}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),f=c+1,p=this.bits;for(let y=0;y<f;y++){let b=p[y];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,o[c-y]=b}if(this.size!==f*32){const y=f*32-this.size;let b=o[0]>>>y;for(let E=1;E<f;E++){const C=o[E];b|=C<<32-y,o[E-1]=b,b=C>>>y}o[f-1]=b}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof te))return!1;const c=o;return this.size===c.size&&$.equals(this.bits,c.bits)}hashCode(){return 31*this.size+$.hashCode(this.bits)}toString(){let o="";for(let c=0,f=this.size;c<f;c++)(c&7)===0&&(o+=" "),o+=this.get(c)?"X":".";return o}clone(){return new te(this.size,this.bits.slice())}}var X;(function(W){W[W.OTHER=0]="OTHER",W[W.PURE_BARCODE=1]="PURE_BARCODE",W[W.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",W[W.TRY_HARDER=3]="TRY_HARDER",W[W.CHARACTER_SET=4]="CHARACTER_SET",W[W.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",W[W.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",W[W.ASSUME_GS1=7]="ASSUME_GS1",W[W.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",W[W.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",W[W.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var ee=X;class j extends d{static getFormatInstance(){return new j}}j.kind="FormatException";var G;(function(W){W[W.Cp437=0]="Cp437",W[W.ISO8859_1=1]="ISO8859_1",W[W.ISO8859_2=2]="ISO8859_2",W[W.ISO8859_3=3]="ISO8859_3",W[W.ISO8859_4=4]="ISO8859_4",W[W.ISO8859_5=5]="ISO8859_5",W[W.ISO8859_6=6]="ISO8859_6",W[W.ISO8859_7=7]="ISO8859_7",W[W.ISO8859_8=8]="ISO8859_8",W[W.ISO8859_9=9]="ISO8859_9",W[W.ISO8859_10=10]="ISO8859_10",W[W.ISO8859_11=11]="ISO8859_11",W[W.ISO8859_13=12]="ISO8859_13",W[W.ISO8859_14=13]="ISO8859_14",W[W.ISO8859_15=14]="ISO8859_15",W[W.ISO8859_16=15]="ISO8859_16",W[W.SJIS=16]="SJIS",W[W.Cp1250=17]="Cp1250",W[W.Cp1251=18]="Cp1251",W[W.Cp1252=19]="Cp1252",W[W.Cp1256=20]="Cp1256",W[W.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",W[W.UTF8=22]="UTF8",W[W.ASCII=23]="ASCII",W[W.Big5=24]="Big5",W[W.GB18030=25]="GB18030",W[W.EUC_KR=26]="EUC_KR"})(G||(G={}));class F{constructor(o,c,f,...p){this.valueIdentifier=o,this.name=f,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=p,F.VALUE_IDENTIFIER_TO_ECI.set(o,this),F.NAME_TO_ECI.set(f,this);const y=this.values;for(let b=0,E=y.length;b!==E;b++){const C=y[b];F.VALUES_TO_ECI.set(C,this)}for(const b of p)F.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new j("incorect value");const c=F.VALUES_TO_ECI.get(o);if(c===void 0)throw new j("incorect value");return c}static getCharacterSetECIByName(o){const c=F.NAME_TO_ECI.get(o);if(c===void 0)throw new j("incorect value");return c}equals(o){if(!(o instanceof F))return!1;const c=o;return this.getName()===c.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(G.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(G.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(G.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(G.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(G.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(G.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(G.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(G.Big5,28,"Big5"),F.GB18030=new F(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(G.EUC_KR,30,"EUC_KR","EUC-KR");class Z extends d{}Z.kind="UnsupportedOperationException";class z{static decode(o,c){const f=this.encodingName(c);return this.customDecoder?this.customDecoder(o,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(o,f):new TextDecoder(f).decode(o)}static shouldDecodeOnFallback(o){return!z.isBrowser()&&o==="ISO-8859-1"}static encode(o,c){const f=this.encodingName(c);return this.customEncoder?this.customEncoder(o,f):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof F?o:F.getCharacterSetECIByName(o)}static decodeFallback(o,c){const f=this.encodingCharacterSet(c);if(z.isDecodeFallbackSupported(f)){let p="";for(let y=0,b=o.length;y<b;y++){let E=o[y].toString(16);E.length<2&&(E="0"+E),p+="%"+E}return decodeURIComponent(p)}if(f.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Z(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(F.UTF8)||o.equals(F.ISO8859_1)||o.equals(F.ASCII)}static encodeFallback(o){const f=btoa(unescape(encodeURIComponent(o))).split(""),p=[];for(let y=0;y<f.length;y++)p.push(f[y].charCodeAt(0));return new Uint8Array(p)}}class K{static castAsNonUtf8Char(o,c=null){const f=c?c.getName():this.ISO88591;return z.decode(new Uint8Array([o]),f)}static guessEncoding(o,c){if(c!=null&&c.get(ee.CHARACTER_SET)!==void 0)return c.get(ee.CHARACTER_SET).toString();const f=o.length;let p=!0,y=!0,b=!0,E=0,C=0,D=0,k=0,Y=0,Q=0,ie=0,fe=0,he=0,ye=0,Ae=0;const ze=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let He=0;He<f&&(p||y||b);He++){const Fe=o[He]&255;b&&(E>0?(Fe&128)===0?b=!1:E--:(Fe&128)!==0&&((Fe&64)===0?b=!1:(E++,(Fe&32)===0?C++:(E++,(Fe&16)===0?D++:(E++,(Fe&8)===0?k++:b=!1))))),p&&(Fe>127&&Fe<160?p=!1:Fe>159&&(Fe<192||Fe===215||Fe===247)&&Ae++),y&&(Y>0?Fe<64||Fe===127||Fe>252?y=!1:Y--:Fe===128||Fe===160||Fe>239?y=!1:Fe>160&&Fe<224?(Q++,fe=0,ie++,ie>he&&(he=ie)):Fe>127?(Y++,ie=0,fe++,fe>ye&&(ye=fe)):(ie=0,fe=0))}return b&&E>0&&(b=!1),y&&Y>0&&(y=!1),b&&(ze||C+D+k>0)?K.UTF8:y&&(K.ASSUME_SHIFT_JIS||he>=3||ye>=3)?K.SHIFT_JIS:p&&y?he===2&&Q===2||Ae*10>=f?K.SHIFT_JIS:K.ISO88591:p?K.ISO88591:y?K.SHIFT_JIS:b?K.UTF8:K.PLATFORM_DEFAULT_ENCODING}static format(o,...c){let f=-1;function p(b,E,C,D,k,Y){if(b==="%%")return"%";if(c[++f]===void 0)return;b=D?parseInt(D.substr(1)):void 0;let Q=k?parseInt(k.substr(1)):void 0,ie;switch(Y){case"s":ie=c[f];break;case"c":ie=c[f][0];break;case"f":ie=parseFloat(c[f]).toFixed(b);break;case"p":ie=parseFloat(c[f]).toPrecision(b);break;case"e":ie=parseFloat(c[f]).toExponential(b);break;case"x":ie=parseInt(c[f]).toString(Q||16);break;case"d":ie=parseFloat(parseInt(c[f],Q||10).toPrecision(b)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Q);let fe=parseInt(C),he=C&&C[0]+""=="0"?"0":" ";for(;ie.length<fe;)ie=E!==void 0?ie+he:he+ie;return ie}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,p)}static getBytes(o,c){return z.encode(o,c)}static getCharCode(o,c=0){return o.charCodeAt(c)}static getCharAt(o){return String.fromCharCode(o)}}K.SHIFT_JIS=F.SJIS.getName(),K.GB2312="GB2312",K.ISO88591=F.ISO8859_1.getName(),K.EUC_JP="EUC_JP",K.UTF8=F.UTF8.getName(),K.PLATFORM_DEFAULT_ENCODING=K.UTF8,K.ASSUME_SHIFT_JIS=!1;class U{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=K.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,c,f){for(let p=c;c<c+f;p++)this.append(o[p]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+1)}substring(o,c){return this.value.substring(o,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+c.length)}}class ue{constructor(o,c,f,p){if(this.width=o,this.height=c,this.rowSize=f,this.bits=p,c==null&&(c=o),this.height=c,o<1||c<1)throw new w("Both dimensions must be greater than 0");f==null&&(f=Math.floor((o+31)/32)),this.rowSize=f,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const c=o.length,f=o[0].length,p=new ue(f,c);for(let y=0;y<c;y++){const b=o[y];for(let E=0;E<f;E++)b[E]&&p.set(E,y)}return p}static parseFromString(o,c,f){if(o===null)throw new w("stringRepresentation cannot be null");const p=new Array(o.length);let y=0,b=0,E=-1,C=0,D=0;for(;D<o.length;)if(o.charAt(D)===`
`||o.charAt(D)==="\r"){if(y>b){if(E===-1)E=y-b;else if(y-b!==E)throw new w("row lengths do not match");b=y,C++}D++}else if(o.substring(D,D+c.length)===c)D+=c.length,p[y]=!0,y++;else if(o.substring(D,D+f.length)===f)D+=f.length,p[y]=!1,y++;else throw new w("illegal character encountered: "+o.substring(D));if(y>b){if(E===-1)E=y-b;else if(y-b!==E)throw new w("row lengths do not match");C++}const k=new ue(E,C);for(let Y=0;Y<y;Y++)p[Y]&&k.set(Math.floor(Y%E),Math.floor(Y/E));return k}get(o,c){const f=c*this.rowSize+Math.floor(o/32);return(this.bits[f]>>>(o&31)&1)!==0}set(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]|=1<<(o&31)&4294967295}unset(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]&=~(1<<(o&31)&4294967295)}flip(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new w("input matrix dimensions do not match");const c=new te(Math.floor(this.width/32)+1),f=this.rowSize,p=this.bits;for(let y=0,b=this.height;y<b;y++){const E=y*f,C=o.getRow(y,c).getBitArray();for(let D=0;D<f;D++)p[E+D]^=C[D]}}clear(){const o=this.bits,c=o.length;for(let f=0;f<c;f++)o[f]=0}setRegion(o,c,f,p){if(c<0||o<0)throw new w("Left and top must be nonnegative");if(p<1||f<1)throw new w("Height and width must be at least 1");const y=o+f,b=c+p;if(b>this.height||y>this.width)throw new w("The region must fit inside the matrix");const E=this.rowSize,C=this.bits;for(let D=c;D<b;D++){const k=D*E;for(let Y=o;Y<y;Y++)C[k+Math.floor(Y/32)]|=1<<(Y&31)&4294967295}}getRow(o,c){c==null||c.getSize()<this.width?c=new te(this.width):c.clear();const f=this.rowSize,p=this.bits,y=o*f;for(let b=0;b<f;b++)c.setBulk(b*32,p[y+b]);return c}setRow(o,c){M.arraycopy(c.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),c=this.getHeight();let f=new te(o),p=new te(o);for(let y=0,b=Math.floor((c+1)/2);y<b;y++)f=this.getRow(y,f),p=this.getRow(c-1-y,p),f.reverse(),p.reverse(),this.setRow(y,p),this.setRow(c-1-y,f)}getEnclosingRectangle(){const o=this.width,c=this.height,f=this.rowSize,p=this.bits;let y=o,b=c,E=-1,C=-1;for(let D=0;D<c;D++)for(let k=0;k<f;k++){const Y=p[D*f+k];if(Y!==0){if(D<b&&(b=D),D>C&&(C=D),k*32<y){let Q=0;for(;(Y<<31-Q&4294967295)===0;)Q++;k*32+Q<y&&(y=k*32+Q)}if(k*32+31>E){let Q=31;for(;!(Y>>>Q);)Q--;k*32+Q>E&&(E=k*32+Q)}}}return E<y||C<b?null:Int32Array.from([y,b,E-y+1,C-b+1])}getTopLeftOnBit(){const o=this.rowSize,c=this.bits;let f=0;for(;f<c.length&&c[f]===0;)f++;if(f===c.length)return null;const p=f/o;let y=f%o*32;const b=c[f];let E=0;for(;(b<<31-E&4294967295)===0;)E++;return y+=E,Int32Array.from([y,p])}getBottomRightOnBit(){const o=this.rowSize,c=this.bits;let f=c.length-1;for(;f>=0&&c[f]===0;)f--;if(f<0)return null;const p=Math.floor(f/o);let y=Math.floor(f%o)*32;const b=c[f];let E=31;for(;!(b>>>E);)E--;return y+=E,Int32Array.from([y,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof ue))return!1;const c=o;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&$.equals(this.bits,c.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+$.hashCode(this.bits),o}toString(o="X ",c="  ",f=`
`){return this.buildToString(o,c,f)}buildToString(o,c,f){let p=new U;for(let y=0,b=this.height;y<b;y++){for(let E=0,C=this.width;E<C;E++)p.append(this.get(E,y)?o:c);p.append(f)}return p.toString()}clone(){return new ue(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends d{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class oe extends N{constructor(o){super(o),this.luminances=oe.EMPTY,this.buckets=new Int32Array(oe.LUMINANCE_BUCKETS)}getBlackRow(o,c){const f=this.getLuminanceSource(),p=f.getWidth();c==null||c.getSize()<p?c=new te(p):c.clear(),this.initArrays(p);const y=f.getRow(o,this.luminances),b=this.buckets;for(let C=0;C<p;C++)b[(y[C]&255)>>oe.LUMINANCE_SHIFT]++;const E=oe.estimateBlackPoint(b);if(p<3)for(let C=0;C<p;C++)(y[C]&255)<E&&c.set(C);else{let C=y[0]&255,D=y[1]&255;for(let k=1;k<p-1;k++){const Y=y[k+1]&255;(D*4-C-Y)/2<E&&c.set(k),C=D,D=Y}}return c}getBlackMatrix(){const o=this.getLuminanceSource(),c=o.getWidth(),f=o.getHeight(),p=new ue(c,f);this.initArrays(c);const y=this.buckets;for(let C=1;C<5;C++){const D=Math.floor(f*C/5),k=o.getRow(D,this.luminances),Y=Math.floor(c*4/5);for(let Q=Math.floor(c/5);Q<Y;Q++){const ie=k[Q]&255;y[ie>>oe.LUMINANCE_SHIFT]++}}const b=oe.estimateBlackPoint(y),E=o.getMatrix();for(let C=0;C<f;C++){const D=C*c;for(let k=0;k<c;k++)(E[D+k]&255)<b&&p.set(k,C)}return p}createBinarizer(o){return new oe(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const c=this.buckets;for(let f=0;f<oe.LUMINANCE_BUCKETS;f++)c[f]=0}static estimateBlackPoint(o){const c=o.length;let f=0,p=0,y=0;for(let k=0;k<c;k++)o[k]>y&&(p=k,y=o[k]),o[k]>f&&(f=o[k]);let b=0,E=0;for(let k=0;k<c;k++){const Y=k-p,Q=o[k]*Y*Y;Q>E&&(b=k,E=Q)}if(p>b){const k=p;p=b,b=k}if(b-p<=c/16)throw new se;let C=b-1,D=-1;for(let k=b-1;k>p;k--){const Y=k-p,Q=Y*Y*(b-k)*(f-o[k]);Q>D&&(C=k,D=Q)}return C<<oe.LUMINANCE_SHIFT}}oe.LUMINANCE_BITS=5,oe.LUMINANCE_SHIFT=8-oe.LUMINANCE_BITS,oe.LUMINANCE_BUCKETS=1<<oe.LUMINANCE_BITS,oe.EMPTY=Uint8ClampedArray.from([0]);class ce extends oe{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),c=o.getWidth(),f=o.getHeight();if(c>=ce.MINIMUM_DIMENSION&&f>=ce.MINIMUM_DIMENSION){const p=o.getMatrix();let y=c>>ce.BLOCK_SIZE_POWER;(c&ce.BLOCK_SIZE_MASK)!==0&&y++;let b=f>>ce.BLOCK_SIZE_POWER;(f&ce.BLOCK_SIZE_MASK)!==0&&b++;const E=ce.calculateBlackPoints(p,y,b,c,f),C=new ue(c,f);ce.calculateThresholdForBlock(p,y,b,c,f,E,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ce(o)}static calculateThresholdForBlock(o,c,f,p,y,b,E){const C=y-ce.BLOCK_SIZE,D=p-ce.BLOCK_SIZE;for(let k=0;k<f;k++){let Y=k<<ce.BLOCK_SIZE_POWER;Y>C&&(Y=C);const Q=ce.cap(k,2,f-3);for(let ie=0;ie<c;ie++){let fe=ie<<ce.BLOCK_SIZE_POWER;fe>D&&(fe=D);const he=ce.cap(ie,2,c-3);let ye=0;for(let ze=-2;ze<=2;ze++){const He=b[Q+ze];ye+=He[he-2]+He[he-1]+He[he]+He[he+1]+He[he+2]}const Ae=ye/25;ce.thresholdBlock(o,fe,Y,Ae,p,E)}}}static cap(o,c,f){return o<c?c:o>f?f:o}static thresholdBlock(o,c,f,p,y,b){for(let E=0,C=f*y+c;E<ce.BLOCK_SIZE;E++,C+=y)for(let D=0;D<ce.BLOCK_SIZE;D++)(o[C+D]&255)<=p&&b.set(c+D,f+E)}static calculateBlackPoints(o,c,f,p,y){const b=y-ce.BLOCK_SIZE,E=p-ce.BLOCK_SIZE,C=new Array(f);for(let D=0;D<f;D++){C[D]=new Int32Array(c);let k=D<<ce.BLOCK_SIZE_POWER;k>b&&(k=b);for(let Y=0;Y<c;Y++){let Q=Y<<ce.BLOCK_SIZE_POWER;Q>E&&(Q=E);let ie=0,fe=255,he=0;for(let Ae=0,ze=k*p+Q;Ae<ce.BLOCK_SIZE;Ae++,ze+=p){for(let He=0;He<ce.BLOCK_SIZE;He++){const Fe=o[ze+He]&255;ie+=Fe,Fe<fe&&(fe=Fe),Fe>he&&(he=Fe)}if(he-fe>ce.MIN_DYNAMIC_RANGE)for(Ae++,ze+=p;Ae<ce.BLOCK_SIZE;Ae++,ze+=p)for(let He=0;He<ce.BLOCK_SIZE;He++)ie+=o[ze+He]&255}let ye=ie>>ce.BLOCK_SIZE_POWER*2;if(he-fe<=ce.MIN_DYNAMIC_RANGE&&(ye=fe/2,D>0&&Y>0)){const Ae=(C[D-1][Y]+2*C[D][Y-1]+C[D-1][Y-1])/4;fe<Ae&&(ye=Ae)}C[D][Y]=ye}}return C}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class Te{constructor(o,c){this.width=o,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,c,f,p){throw new Z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Z("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let c=new U;for(let f=0;f<this.height;f++){const p=this.getRow(f,o);for(let y=0;y<this.width;y++){const b=p[y]&255;let E;b<64?E="#":b<128?E="+":b<192?E=".":E=" ",c.append(E)}c.append(`
`)}return c.toString()}}class Ve extends Te{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,c){const f=this.delegate.getRow(o,c),p=this.getWidth();for(let y=0;y<p;y++)f[y]=255-(f[y]&255);return f}getMatrix(){const o=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(c);for(let p=0;p<c;p++)f[p]=255-(o[p]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(o,c,f,p){return new Ve(this.delegate.crop(o,c,f,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ve(this.delegate.rotateCounterClockwise45())}}class ae extends Te{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const c=o.getContext("2d").getImageData(0,0,o.width,o.height);return ae.toGrayscaleBuffer(c.data,o.width,o.height)}static toGrayscaleBuffer(o,c,f){const p=new Uint8ClampedArray(c*f);for(let y=0,b=0,E=o.length;y<E;y+=4,b++){let C;if(o[y+3]===0)C=255;else{const k=o[y],Y=o[y+1],Q=o[y+2];C=306*k+601*Y+117*Q+512>>10}p[b]=C}return p}getRow(o,c){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth(),p=o*f;return c===null?c=this.buffer.slice(p,p+f):(c.length<f&&(c=new Uint8ClampedArray(f)),c.set(this.buffer.slice(p,p+f))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,c,f,p){return super.crop(o,c,f,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const c=this.getTempCanvasElement(),f=c.getContext("2d"),p=o*ae.DEGREE_TO_RADIANS,y=this.canvas.width,b=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(p))*y+Math.abs(Math.sin(p))*b),C=Math.ceil(Math.abs(Math.sin(p))*y+Math.abs(Math.cos(p))*b);return c.width=E,c.height=C,f.translate(E/2,C/2),f.rotate(p),f.drawImage(this.canvas,y/-2,b/-2),this.buffer=ae.makeBufferFromCanvasImageData(c),this}invert(){return new Ve(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(o,c,f){this.deviceId=o,this.label=c,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ie=(globalThis||v1||self||window||void 0)&&(globalThis||v1||self||window||void 0).__awaiter||function(W,o,c,f){function p(y){return y instanceof c?y:new c(function(b){b(y)})}return new(c||(c=Promise))(function(y,b){function E(k){try{D(f.next(k))}catch(Y){b(Y)}}function C(k){try{D(f.throw(k))}catch(Y){b(Y)}}function D(k){k.done?y(k.value):p(k.value).then(E,C)}D((f=f.apply(W,o||[])).next())})};class je{constructor(o,c=500,f){this.reader=o,this.timeBetweenScansMillis=c,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const f of o){const p=f.kind==="video"?"videoinput":f.kind;if(p!=="videoinput")continue;const y=f.deviceId||f.id,b=f.label||`Video device ${c.length+1}`,E=f.groupId,C={deviceId:y,label:b,kind:p,groupId:E};c.push(C)}return c})}getVideoInputDevices(){return Ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new be(c.deviceId,c.label))})}findDeviceById(o){return Ie(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(f=>f.deviceId===o):null})}decodeFromInputVideoDevice(o,c){return Ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,c)})}decodeOnceFromVideoDevice(o,c){return Ie(this,void 0,void 0,function*(){this.reset();let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const p={video:f};return yield this.decodeOnceFromConstraints(p,c)})}decodeOnceFromConstraints(o,c){return Ie(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(f,c)})}decodeOnceFromStream(o,c){return Ie(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,c);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(o,c,f){return Ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,c,f)})}decodeFromVideoDevice(o,c,f){return Ie(this,void 0,void 0,function*(){let p;o?p={deviceId:{exact:o}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeFromConstraints(y,c,f)})}decodeFromConstraints(o,c,f){return Ie(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(p,c,f)})}decodeFromStream(o,c,f){return Ie(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(o,c);return yield this.decodeContinuously(p,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,c){return Ie(this,void 0,void 0,function*(){const f=this.prepareVideoElement(c);return this.addVideoSource(f,o),this.videoElement=f,this.stream=o,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(o){return new Promise((c,f)=>this.playVideoOnLoad(o,()=>c()))}playVideoOnLoad(o,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",c),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,c){const f=document.getElementById(o);if(!f)throw new v(`element with id '${o}' not found`);if(f.nodeName.toLowerCase()!==c.toLowerCase())throw new v(`element with id '${o}' must be an ${c} element`);return f}decodeFromImage(o,c){if(!o&&!c)throw new v("either imageElement with a src set or an url must be provided");return c&&!o?this.decodeFromImageUrl(c):this.decodeFromImageElement(o)}decodeFromVideo(o,c){if(!o&&!c)throw new v("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,c,f){if(o===void 0&&c===void 0)throw new v("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrlContinuously(c,f):this.decodeFromVideoElementContinuously(o,f)}decodeFromImageElement(o){if(!o)throw new v("An image element must be provided.");this.reset();const c=this.prepareImageElement(o);this.imageElement=c;let f;return this.isImageLoaded(c)?f=this.decodeOnce(c,!1,!0):f=this._decodeOnLoadImage(c),f}decodeFromVideoElement(o){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(o,c){const f=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(f,c)}_decodeFromVideoElementSetup(o){if(!o)throw new v("A video element must be provided.");this.reset();const c=this.prepareVideoElement(o);return this.videoElement=c,c}decodeFromImageUrl(o){if(!o)throw new v("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const f=this._decodeOnLoadImage(c);return c.src=o,f}decodeFromVideoUrl(o){if(!o)throw new v("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElement(c);return c.src=o,f}decodeFromVideoUrlContinuously(o,c){if(!o)throw new v("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(f,c);return f.src=o,p}_decodeOnLoadImage(o){return new Promise((c,f)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(c,f),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,c){return Ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,c)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let c;return typeof o>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(c=o),c}prepareVideoElement(o){let c;return!o&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(c=o),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(o,c=!0,f=!0){this._stopAsyncDecode=!1;const p=(y,b)=>{if(this._stopAsyncDecode){b(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(o);y(E)}catch(E){const C=c&&E instanceof se,k=(E instanceof T||E instanceof j)&&f;if(C||k)return setTimeout(p,this._timeBetweenDecodingAttempts,y,b);b(E)}};return new Promise((y,b)=>p(y,b))}decodeContinuously(o,c){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(o);c(p,null),setTimeout(f,this.timeBetweenScansMillis)}catch(p){c(null,p);const y=p instanceof T||p instanceof j,b=p instanceof se;(y||b)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(o){const c=this.createBinaryBitmap(o);return this.decodeBitmap(c)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,c,f){c||(c={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(o,c,f=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const c=this.getCaptureCanvas(o),f=new ae(c),p=new ce(f);return new S(p)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const c=this.createCaptureCanvas(o);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let f,p;return typeof o<"u"&&(o instanceof HTMLVideoElement?(f=o.videoWidth,p=o.videoHeight):o instanceof HTMLImageElement&&(f=o.naturalWidth||o.width,p=o.naturalHeight||o.height)),c.style.width=f+"px",c.style.height=p+"px",c.width=f,c.height=p,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,c){try{o.srcObject=c}catch{o.src=URL.createObjectURL(c)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Ye{constructor(o,c,f=c==null?0:8*c.length,p,y,b=M.currentTimeMillis()){this.text=o,this.rawBytes=c,this.numBits=f,this.resultPoints=p,this.format=y,this.timestamp=b,this.text=o,this.rawBytes=c,f==null?this.numBits=c==null?0:8*c.length:this.numBits=f,this.resultPoints=p,this.format=y,this.resultMetadata=null,b==null?this.timestamp=M.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,c)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const c=this.resultPoints;if(c===null)this.resultPoints=o;else if(o!==null&&o.length>0){const f=new Array(c.length+o.length);M.arraycopy(c,0,f,0,c.length),M.arraycopy(o,0,f,c.length,o.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var rt;(function(W){W[W.AZTEC=0]="AZTEC",W[W.CODABAR=1]="CODABAR",W[W.CODE_39=2]="CODE_39",W[W.CODE_93=3]="CODE_93",W[W.CODE_128=4]="CODE_128",W[W.DATA_MATRIX=5]="DATA_MATRIX",W[W.EAN_8=6]="EAN_8",W[W.EAN_13=7]="EAN_13",W[W.ITF=8]="ITF",W[W.MAXICODE=9]="MAXICODE",W[W.PDF_417=10]="PDF_417",W[W.QR_CODE=11]="QR_CODE",W[W.RSS_14=12]="RSS_14",W[W.RSS_EXPANDED=13]="RSS_EXPANDED",W[W.UPC_A=14]="UPC_A",W[W.UPC_E=15]="UPC_E",W[W.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var Ue=rt,Pn;(function(W){W[W.OTHER=0]="OTHER",W[W.ORIENTATION=1]="ORIENTATION",W[W.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",W[W.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",W[W.ISSUE_NUMBER=4]="ISSUE_NUMBER",W[W.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",W[W.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",W[W.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",W[W.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",W[W.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",W[W.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Pn||(Pn={}));var vt=Pn;class De{constructor(o,c,f,p,y=-1,b=-1){this.rawBytes=o,this.text=c,this.byteSegments=f,this.ecLevel=p,this.structuredAppendSequenceNumber=y,this.structuredAppendParity=b,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ht{exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}static addOrSubtract(o,c){return o^c}}class it{constructor(o,c){if(c.length===0)throw new w;this.field=o;const f=c.length;if(f>1&&c[0]===0){let p=1;for(;p<f&&c[p]===0;)p++;p===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-p),M.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const c=this.coefficients;let f;if(o===1){f=0;for(let b=0,E=c.length;b!==E;b++){const C=c[b];f=ht.addOrSubtract(f,C)}return f}f=c[0];const p=c.length,y=this.field;for(let b=1;b<p;b++)f=ht.addOrSubtract(y.multiply(o,f),c[b]);return f}addOrSubtract(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,f=o.coefficients;if(c.length>f.length){const b=c;c=f,f=b}let p=new Int32Array(f.length);const y=f.length-c.length;M.arraycopy(f,0,p,0,y);for(let b=y;b<f.length;b++)p[b]=ht.addOrSubtract(c[b-y],f[b]);return new it(this.field,p)}multiply(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const c=this.coefficients,f=c.length,p=o.coefficients,y=p.length,b=new Int32Array(f+y-1),E=this.field;for(let C=0;C<f;C++){const D=c[C];for(let k=0;k<y;k++)b[C+k]=ht.addOrSubtract(b[C+k],E.multiply(D,p[k]))}return new it(E,b)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const c=this.coefficients.length,f=this.field,p=new Int32Array(c),y=this.coefficients;for(let b=0;b<c;b++)p[b]=f.multiply(y[b],o);return new it(f,p)}multiplyByMonomial(o,c){if(o<0)throw new w;if(c===0)return this.field.getZero();const f=this.coefficients,p=f.length,y=new Int32Array(p+o),b=this.field;for(let E=0;E<p;E++)y[E]=b.multiply(f[E],c);return new it(b,y)}divide(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new w("Divide by 0");const c=this.field;let f=c.getZero(),p=this;const y=o.getCoefficient(o.getDegree()),b=c.inverse(y);for(;p.getDegree()>=o.getDegree()&&!p.isZero();){const E=p.getDegree()-o.getDegree(),C=c.multiply(p.getCoefficient(p.getDegree()),b),D=o.multiplyByMonomial(E,C),k=c.buildMonomial(E,C);f=f.addOrSubtract(k),p=p.addOrSubtract(D)}return[f,p]}toString(){let o="";for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);if(f!==0){if(f<0?(o+=" - ",f=-f):o.length>0&&(o+=" + "),c===0||f!==1){const p=this.field.log(f);p===0?o+="1":p===1?o+="a":(o+="a^",o+=p)}c!==0&&(c===1?o+="x":(o+="x^",o+=c))}}return o}}class Be extends d{}Be.kind="ArithmeticException";class st extends ht{constructor(o,c,f){super(),this.primitive=o,this.size=c,this.generatorBase=f;const p=new Int32Array(c);let y=1;for(let E=0;E<c;E++)p[E]=y,y*=2,y>=c&&(y^=o,y&=c-1);this.expTable=p;const b=new Int32Array(c);for(let E=0;E<c-1;E++)b[p[E]]=E;this.logTable=b,this.zero=new it(this,Int32Array.from([0])),this.one=new it(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new w;if(c===0)return this.zero;const f=new Int32Array(o+1);return f[0]=c,new it(this,f)}inverse(o){if(o===0)throw new Be;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+q.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class Tt extends d{}Tt.kind="ReedSolomonException";class tn extends d{}tn.kind="IllegalStateException";class Xn{constructor(o){this.field=o}decode(o,c){const f=this.field,p=new it(f,o),y=new Int32Array(c);let b=!0;for(let ie=0;ie<c;ie++){const fe=p.evaluateAt(f.exp(ie+f.getGeneratorBase()));y[y.length-1-ie]=fe,fe!==0&&(b=!1)}if(b)return;const E=new it(f,y),C=this.runEuclideanAlgorithm(f.buildMonomial(c,1),E,c),D=C[0],k=C[1],Y=this.findErrorLocations(D),Q=this.findErrorMagnitudes(k,Y);for(let ie=0;ie<Y.length;ie++){const fe=o.length-1-f.log(Y[ie]);if(fe<0)throw new Tt("Bad error location");o[fe]=st.addOrSubtract(o[fe],Q[ie])}}runEuclideanAlgorithm(o,c,f){if(o.getDegree()<c.getDegree()){const ie=o;o=c,c=ie}const p=this.field;let y=o,b=c,E=p.getZero(),C=p.getOne();for(;b.getDegree()>=(f/2|0);){let ie=y,fe=E;if(y=b,E=C,y.isZero())throw new Tt("r_{i-1} was zero");b=ie;let he=p.getZero();const ye=y.getCoefficient(y.getDegree()),Ae=p.inverse(ye);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){const ze=b.getDegree()-y.getDegree(),He=p.multiply(b.getCoefficient(b.getDegree()),Ae);he=he.addOrSubtract(p.buildMonomial(ze,He)),b=b.addOrSubtract(y.multiplyByMonomial(ze,He))}if(C=he.multiply(E).addOrSubtract(fe),b.getDegree()>=y.getDegree())throw new tn("Division algorithm failed to reduce polynomial?")}const D=C.getCoefficient(0);if(D===0)throw new Tt("sigmaTilde(0) was zero");const k=p.inverse(D),Y=C.multiplyScalar(k),Q=b.multiplyScalar(k);return[Y,Q]}findErrorLocations(o){const c=o.getDegree();if(c===1)return Int32Array.from([o.getCoefficient(1)]);const f=new Int32Array(c);let p=0;const y=this.field;for(let b=1;b<y.getSize()&&p<c;b++)o.evaluateAt(b)===0&&(f[p]=y.inverse(b),p++);if(p!==c)throw new Tt("Error locator degree does not match number of roots");return f}findErrorMagnitudes(o,c){const f=c.length,p=new Int32Array(f),y=this.field;for(let b=0;b<f;b++){const E=y.inverse(c[b]);let C=1;for(let D=0;D<f;D++)if(b!==D){const k=y.multiply(c[D],E),Y=(k&1)===0?k|1:k&-2;C=y.multiply(C,Y)}p[b]=y.multiply(o.evaluateAt(E),y.inverse(C)),y.getGeneratorBase()!==0&&(p[b]=y.multiply(p[b],E))}return p}}var jt;(function(W){W[W.UPPER=0]="UPPER",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.DIGIT=3]="DIGIT",W[W.PUNCT=4]="PUNCT",W[W.BINARY=5]="BINARY"})(jt||(jt={}));class Jt{decode(o){this.ddata=o;let c=o.getBits(),f=this.extractBits(c),p=this.correctBits(f),y=Jt.convertBoolArrayToByteArray(p),b=Jt.getEncodedData(p),E=new De(y,b,null,null);return E.setNumBits(p.length),E}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let c=o.length,f=jt.UPPER,p=jt.UPPER,y="",b=0;for(;b<c;)if(p===jt.BINARY){if(c-b<5)break;let E=Jt.readCode(o,b,5);if(b+=5,E===0){if(c-b<11)break;E=Jt.readCode(o,b,11)+31,b+=11}for(let C=0;C<E;C++){if(c-b<8){b=c;break}const D=Jt.readCode(o,b,8);y+=K.castAsNonUtf8Char(D),b+=8}p=f}else{let E=p===jt.DIGIT?4:5;if(c-b<E)break;let C=Jt.readCode(o,b,E);b+=E;let D=Jt.getCharacter(p,C);D.startsWith("CTRL_")?(f=p,p=Jt.getTable(D.charAt(5)),D.charAt(6)==="L"&&(f=p)):(y+=D,p=f)}return y}static getTable(o){switch(o){case"L":return jt.LOWER;case"P":return jt.PUNCT;case"M":return jt.MIXED;case"D":return jt.DIGIT;case"B":return jt.BINARY;case"U":default:return jt.UPPER}}static getCharacter(o,c){switch(o){case jt.UPPER:return Jt.UPPER_TABLE[c];case jt.LOWER:return Jt.LOWER_TABLE[c];case jt.MIXED:return Jt.MIXED_TABLE[c];case jt.PUNCT:return Jt.PUNCT_TABLE[c];case jt.DIGIT:return Jt.DIGIT_TABLE[c];default:throw new tn("Bad table")}}correctBits(o){let c,f;this.ddata.getNbLayers()<=2?(f=6,c=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,c=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,c=st.AZTEC_DATA_10):(f=12,c=st.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),y=o.length/f;if(y<p)throw new j;let b=o.length%f,E=new Int32Array(y);for(let Q=0;Q<y;Q++,b+=f)E[Q]=Jt.readCode(o,b,f);try{new Xn(c).decode(E,y-p)}catch(Q){throw new j(Q)}let C=(1<<f)-1,D=0;for(let Q=0;Q<p;Q++){let ie=E[Q];if(ie===0||ie===C)throw new j;(ie===1||ie===C-1)&&D++}let k=new Array(p*f-D),Y=0;for(let Q=0;Q<p;Q++){let ie=E[Q];if(ie===1||ie===C-1)k.fill(ie>1,Y,Y+f-1),Y+=f-1;else for(let fe=f-1;fe>=0;--fe)k[Y++]=(ie&1<<fe)!==0}return k}extractBits(o){let c=this.ddata.isCompact(),f=this.ddata.getNbLayers(),p=(c?11:14)+f*4,y=new Int32Array(p),b=new Array(this.totalBitsInLayer(f,c));if(c)for(let E=0;E<y.length;E++)y[E]=E;else{let E=p+1+2*q.truncDivision(q.truncDivision(p,2)-1,15),C=p/2,D=q.truncDivision(E,2);for(let k=0;k<C;k++){let Y=k+q.truncDivision(k,15);y[C-k-1]=D-Y-1,y[C+k]=D+Y+1}}for(let E=0,C=0;E<f;E++){let D=(f-E)*4+(c?9:12),k=E*2,Y=p-1-k;for(let Q=0;Q<D;Q++){let ie=Q*2;for(let fe=0;fe<2;fe++)b[C+ie+fe]=o.get(y[k+fe],y[k+Q]),b[C+2*D+ie+fe]=o.get(y[k+Q],y[Y-fe]),b[C+4*D+ie+fe]=o.get(y[Y-fe],y[Y-Q]),b[C+6*D+ie+fe]=o.get(y[Y-Q],y[k+fe])}C+=D*8}return b}static readCode(o,c,f){let p=0;for(let y=c;y<c+f;y++)p<<=1,o[y]&&(p|=1);return p}static readByte(o,c){let f=o.length-c;return f>=8?Jt.readCode(o,c,8):Jt.readCode(o,c,f)<<8-f}static convertBoolArrayToByteArray(o){let c=new Uint8Array((o.length+7)/8);for(let f=0;f<c.length;f++)c[f]=Jt.readByte(o,8*f);return c}totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}Jt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Jt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Jt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Jt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Jt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class It{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,c,f,p){const y=o-f,b=c-p;return Math.sqrt(y*y+b*b)}static sum(o){let c=0;for(let f=0,p=o.length;f!==p;f++){const y=o[f];c+=y}return c}}class xn{static floatToIntBits(o){return o}}xn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $e{constructor(o,c){this.x=o,this.y=c}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof $e){const c=o;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*xn.floatToIntBits(this.x)+xn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const c=this.distance(o[0],o[1]),f=this.distance(o[1],o[2]),p=this.distance(o[0],o[2]);let y,b,E;if(f>=c&&f>=p?(b=o[0],y=o[1],E=o[2]):p>=f&&p>=c?(b=o[1],y=o[0],E=o[2]):(b=o[2],y=o[0],E=o[1]),this.crossProductZ(y,b,E)<0){const C=y;y=E,E=C}o[0]=y,o[1]=b,o[2]=E}static distance(o,c){return It.distance(o.x,o.y,c.x,c.y)}static crossProductZ(o,c,f){const p=c.x,y=c.y;return(f.x-p)*(o.y-y)-(f.y-y)*(o.x-p)}}class Ys{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class pi extends Ys{constructor(o,c,f,p,y){super(o,c),this.compact=f,this.nbDatablocks=p,this.nbLayers=y}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class yi{constructor(o,c,f,p){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),c==null&&(c=yi.INIT_SIZE),f==null&&(f=o.getWidth()/2|0),p==null&&(p=o.getHeight()/2|0);const y=c/2|0;if(this.leftInit=f-y,this.rightInit=f+y,this.upInit=p-y,this.downInit=p+y,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let o=this.leftInit,c=this.rightInit,f=this.upInit,p=this.downInit,y=!1,b=!0,E=!1,C=!1,D=!1,k=!1,Y=!1;const Q=this.width,ie=this.height;for(;b;){b=!1;let fe=!0;for(;(fe||!C)&&c<Q;)fe=this.containsBlackPoint(f,p,c,!1),fe?(c++,b=!0,C=!0):C||c++;if(c>=Q){y=!0;break}let he=!0;for(;(he||!D)&&p<ie;)he=this.containsBlackPoint(o,c,p,!0),he?(p++,b=!0,D=!0):D||p++;if(p>=ie){y=!0;break}let ye=!0;for(;(ye||!k)&&o>=0;)ye=this.containsBlackPoint(f,p,o,!1),ye?(o--,b=!0,k=!0):k||o--;if(o<0){y=!0;break}let Ae=!0;for(;(Ae||!Y)&&f>=0;)Ae=this.containsBlackPoint(o,c,f,!0),Ae?(f--,b=!0,Y=!0):Y||f--;if(f<0){y=!0;break}b&&(E=!0)}if(!y&&E){const fe=c-o;let he=null;for(let He=1;he===null&&He<fe;He++)he=this.getBlackPointOnSegment(o,p-He,o+He,p);if(he==null)throw new se;let ye=null;for(let He=1;ye===null&&He<fe;He++)ye=this.getBlackPointOnSegment(o,f+He,o+He,f);if(ye==null)throw new se;let Ae=null;for(let He=1;Ae===null&&He<fe;He++)Ae=this.getBlackPointOnSegment(c,f+He,c-He,f);if(Ae==null)throw new se;let ze=null;for(let He=1;ze===null&&He<fe;He++)ze=this.getBlackPointOnSegment(c,p-He,c-He,p);if(ze==null)throw new se;return this.centerEdges(ze,he,Ae,ye)}else throw new se}getBlackPointOnSegment(o,c,f,p){const y=It.round(It.distance(o,c,f,p)),b=(f-o)/y,E=(p-c)/y,C=this.image;for(let D=0;D<y;D++){const k=It.round(o+D*b),Y=It.round(c+D*E);if(C.get(k,Y))return new $e(k,Y)}return null}centerEdges(o,c,f,p){const y=o.getX(),b=o.getY(),E=c.getX(),C=c.getY(),D=f.getX(),k=f.getY(),Y=p.getX(),Q=p.getY(),ie=yi.CORR;return y<this.width/2?[new $e(Y-ie,Q+ie),new $e(E+ie,C+ie),new $e(D-ie,k-ie),new $e(y+ie,b-ie)]:[new $e(Y+ie,Q+ie),new $e(E+ie,C-ie),new $e(D-ie,k+ie),new $e(y-ie,b-ie)]}containsBlackPoint(o,c,f,p){const y=this.image;if(p){for(let b=o;b<=c;b++)if(y.get(b,f))return!0}else for(let b=o;b<=c;b++)if(y.get(f,b))return!0;return!1}}yi.INIT_SIZE=10,yi.CORR=1;class $s{static checkAndNudgePoints(o,c){const f=o.getWidth(),p=o.getHeight();let y=!0;for(let b=0;b<c.length&&y;b+=2){const E=Math.floor(c[b]),C=Math.floor(c[b+1]);if(E<-1||E>f||C<-1||C>p)throw new se;y=!1,E===-1?(c[b]=0,y=!0):E===f&&(c[b]=f-1,y=!0),C===-1?(c[b+1]=0,y=!0):C===p&&(c[b+1]=p-1,y=!0)}y=!0;for(let b=c.length-2;b>=0&&y;b-=2){const E=Math.floor(c[b]),C=Math.floor(c[b+1]);if(E<-1||E>f||C<-1||C>p)throw new se;y=!1,E===-1?(c[b]=0,y=!0):E===f&&(c[b]=f-1,y=!0),C===-1?(c[b+1]=0,y=!0):C===p&&(c[b+1]=p-1,y=!0)}}}class Yt{constructor(o,c,f,p,y,b,E,C,D){this.a11=o,this.a21=c,this.a31=f,this.a12=p,this.a22=y,this.a32=b,this.a13=E,this.a23=C,this.a33=D}static quadrilateralToQuadrilateral(o,c,f,p,y,b,E,C,D,k,Y,Q,ie,fe,he,ye){const Ae=Yt.quadrilateralToSquare(o,c,f,p,y,b,E,C);return Yt.squareToQuadrilateral(D,k,Y,Q,ie,fe,he,ye).times(Ae)}transformPoints(o){const c=o.length,f=this.a11,p=this.a12,y=this.a13,b=this.a21,E=this.a22,C=this.a23,D=this.a31,k=this.a32,Y=this.a33;for(let Q=0;Q<c;Q+=2){const ie=o[Q],fe=o[Q+1],he=y*ie+C*fe+Y;o[Q]=(f*ie+b*fe+D)/he,o[Q+1]=(p*ie+E*fe+k)/he}}transformPointsWithValues(o,c){const f=this.a11,p=this.a12,y=this.a13,b=this.a21,E=this.a22,C=this.a23,D=this.a31,k=this.a32,Y=this.a33,Q=o.length;for(let ie=0;ie<Q;ie++){const fe=o[ie],he=c[ie],ye=y*fe+C*he+Y;o[ie]=(f*fe+b*he+D)/ye,c[ie]=(p*fe+E*he+k)/ye}}static squareToQuadrilateral(o,c,f,p,y,b,E,C){const D=o-f+y-E,k=c-p+b-C;if(D===0&&k===0)return new Yt(f-o,y-f,o,p-c,b-p,c,0,0,1);{const Y=f-y,Q=E-y,ie=p-b,fe=C-b,he=Y*fe-Q*ie,ye=(D*fe-Q*k)/he,Ae=(Y*k-D*ie)/he;return new Yt(f-o+ye*f,E-o+Ae*E,o,p-c+ye*p,C-c+Ae*C,c,ye,Ae,1)}}static quadrilateralToSquare(o,c,f,p,y,b,E,C){return Yt.squareToQuadrilateral(o,c,f,p,y,b,E,C).buildAdjoint()}buildAdjoint(){return new Yt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Yt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class nn extends $s{sampleGrid(o,c,f,p,y,b,E,C,D,k,Y,Q,ie,fe,he,ye,Ae,ze,He){const Fe=Yt.quadrilateralToQuadrilateral(p,y,b,E,C,D,k,Y,Q,ie,fe,he,ye,Ae,ze,He);return this.sampleGridWithTransform(o,c,f,Fe)}sampleGridWithTransform(o,c,f,p){if(c<=0||f<=0)throw new se;const y=new ue(c,f),b=new Float32Array(2*c);for(let E=0;E<f;E++){const C=b.length,D=E+.5;for(let k=0;k<C;k+=2)b[k]=k/2+.5,b[k+1]=D;p.transformPoints(b),$s.checkAndNudgePoints(o,b);try{for(let k=0;k<C;k+=2)o.get(Math.floor(b[k]),Math.floor(b[k+1]))&&y.set(k/2,E)}catch{throw new se}}return y}}class rr{static setGridSampler(o){rr.gridSampler=o}static getInstance(){return rr.gridSampler}}rr.gridSampler=new nn;class rn{constructor(o,c){this.x=o,this.y=c}toResultPoint(){return new $e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class tt{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let c=this.getMatrixCenter(),f=this.getBullsEyeCorners(c);if(o){let b=f[0];f[0]=f[2],f[2]=b}this.extractParameters(f);let p=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),y=this.getMatrixCornerPoints(f);return new pi(p,y,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new se;let c=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(o[0],o[1],c),this.sampleLine(o[1],o[2],c),this.sampleLine(o[2],o[3],c),this.sampleLine(o[3],o[0],c)]);this.shift=this.getRotation(f,c);let p=0;for(let b=0;b<4;b++){let E=f[(this.shift+b)%4];this.compact?(p<<=7,p+=E>>1&127):(p<<=10,p+=(E>>2&992)+(E>>1&31))}let y=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(y>>6)+1,this.nbDataBlocks=(y&63)+1):(this.nbLayers=(y>>11)+1,this.nbDataBlocks=(y&2047)+1)}getRotation(o,c){let f=0;o.forEach((p,y,b)=>{let E=(p>>c-2<<1)+(p&1);f=(f<<3)+E}),f=((f&1)<<11)+(f>>1);for(let p=0;p<4;p++)if(q.bitCount(f^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new se}getCorrectedParameterData(o,c){let f,p;c?(f=7,p=2):(f=10,p=4);let y=f-p,b=new Int32Array(f);for(let C=f-1;C>=0;--C)b[C]=o&15,o>>=4;try{new Xn(st.AZTEC_PARAM).decode(b,y)}catch{throw new se}let E=0;for(let C=0;C<p;C++)E=(E<<4)+b[C];return E}getBullsEyeCorners(o){let c=o,f=o,p=o,y=o,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Y=this.getFirstDifferent(c,b,1,-1),Q=this.getFirstDifferent(f,b,1,1),ie=this.getFirstDifferent(p,b,-1,1),fe=this.getFirstDifferent(y,b,-1,-1);if(this.nbCenterLayers>2){let he=this.distancePoint(fe,Y)*this.nbCenterLayers/(this.distancePoint(y,c)*(this.nbCenterLayers+2));if(he<.75||he>1.25||!this.isWhiteOrBlackRectangle(Y,Q,ie,fe))break}c=Y,f=Q,p=ie,y=fe,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let E=new $e(c.getX()+.5,c.getY()-.5),C=new $e(f.getX()+.5,f.getY()+.5),D=new $e(p.getX()-.5,p.getY()+.5),k=new $e(y.getX()-.5,y.getY()-.5);return this.expandSquare([E,C,D,k],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,c,f,p;try{let E=new yi(this.image).detect();o=E[0],c=E[1],f=E[2],p=E[3]}catch{let C=this.image.getWidth()/2,D=this.image.getHeight()/2;o=this.getFirstDifferent(new rn(C+7,D-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new rn(C+7,D+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new rn(C-7,D+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new rn(C-7,D-7),!1,-1,-1).toResultPoint()}let y=It.round((o.getX()+p.getX()+c.getX()+f.getX())/4),b=It.round((o.getY()+p.getY()+c.getY()+f.getY())/4);try{let E=new yi(this.image,15,y,b).detect();o=E[0],c=E[1],f=E[2],p=E[3]}catch{o=this.getFirstDifferent(new rn(y+7,b-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new rn(y+7,b+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new rn(y-7,b+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new rn(y-7,b-7),!1,-1,-1).toResultPoint()}return y=It.round((o.getX()+p.getX()+c.getX()+f.getX())/4),b=It.round((o.getY()+p.getY()+c.getY()+f.getY())/4),new rn(y,b)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,c,f,p,y){let b=rr.getInstance(),E=this.getDimension(),C=E/2-this.nbCenterLayers,D=E/2+this.nbCenterLayers;return b.sampleGrid(o,E,E,C,C,D,C,D,D,C,D,c.getX(),c.getY(),f.getX(),f.getY(),p.getX(),p.getY(),y.getX(),y.getY())}sampleLine(o,c,f){let p=0,y=this.distanceResultPoint(o,c),b=y/f,E=o.getX(),C=o.getY(),D=b*(c.getX()-o.getX())/y,k=b*(c.getY()-o.getY())/y;for(let Y=0;Y<f;Y++)this.image.get(It.round(E+Y*D),It.round(C+Y*k))&&(p|=1<<f-Y-1);return p}isWhiteOrBlackRectangle(o,c,f,p){let y=3;o=new rn(o.getX()-y,o.getY()+y),c=new rn(c.getX()-y,c.getY()-y),f=new rn(f.getX()+y,f.getY()-y),p=new rn(p.getX()+y,p.getY()+y);let b=this.getColor(p,o);if(b===0)return!1;let E=this.getColor(o,c);return E!==b||(E=this.getColor(c,f),E!==b)?!1:(E=this.getColor(f,p),E===b)}getColor(o,c){let f=this.distancePoint(o,c),p=(c.getX()-o.getX())/f,y=(c.getY()-o.getY())/f,b=0,E=o.getX(),C=o.getY(),D=this.image.get(o.getX(),o.getY()),k=Math.ceil(f);for(let Q=0;Q<k;Q++)E+=p,C+=y,this.image.get(It.round(E),It.round(C))!==D&&b++;let Y=b/f;return Y>.1&&Y<.9?0:Y<=.1===D?1:-1}getFirstDifferent(o,c,f,p){let y=o.getX()+f,b=o.getY()+p;for(;this.isValid(y,b)&&this.image.get(y,b)===c;)y+=f,b+=p;for(y-=f,b-=p;this.isValid(y,b)&&this.image.get(y,b)===c;)y+=f;for(y-=f;this.isValid(y,b)&&this.image.get(y,b)===c;)b+=p;return b-=p,new rn(y,b)}expandSquare(o,c,f){let p=f/(2*c),y=o[0].getX()-o[2].getX(),b=o[0].getY()-o[2].getY(),E=(o[0].getX()+o[2].getX())/2,C=(o[0].getY()+o[2].getY())/2,D=new $e(E+p*y,C+p*b),k=new $e(E-p*y,C-p*b);y=o[1].getX()-o[3].getX(),b=o[1].getY()-o[3].getY(),E=(o[1].getX()+o[3].getX())/2,C=(o[1].getY()+o[3].getY())/2;let Y=new $e(E+p*y,C+p*b),Q=new $e(E-p*y,C-p*b);return[D,Y,k,Q]}isValid(o,c){return o>=0&&o<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(o){let c=It.round(o.getX()),f=It.round(o.getY());return this.isValid(c,f)}distancePoint(o,c){return It.distance(o.getX(),o.getY(),c.getX(),c.getY())}distanceResultPoint(o,c){return It.distance(o.getX(),o.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(q.truncDivision(this.nbLayers-4,8)+1)+15}}class ut{decode(o,c=null){let f=null,p=new tt(o.getBlackMatrix()),y=null,b=null;try{let k=p.detectMirror(!1);y=k.getPoints(),this.reportFoundResultPoints(c,y),b=new Jt().decode(k)}catch(k){f=k}if(b==null)try{let k=p.detectMirror(!0);y=k.getPoints(),this.reportFoundResultPoints(c,y),b=new Jt().decode(k)}catch(k){throw f??k}let E=new Ye(b.getText(),b.getRawBytes(),b.getNumBits(),y,Ue.AZTEC,M.currentTimeMillis()),C=b.getByteSegments();C!=null&&E.putMetadata(vt.BYTE_SEGMENTS,C);let D=b.getECLevel();return D!=null&&E.putMetadata(vt.ERROR_CORRECTION_LEVEL,D),E}reportFoundResultPoints(o,c){if(o!=null){let f=o.get(ee.NEED_RESULT_POINT_CALLBACK);f!=null&&c.forEach((p,y,b)=>{f.foundPossibleResultPoint(p)})}}reset(){}}class Bt extends je{constructor(o=500){super(new ut,o)}}class dt{decode(o,c){try{return this.doDecode(o,c)}catch{if(c&&c.get(ee.TRY_HARDER)===!0&&o.isRotateSupported()){const y=o.rotateCounterClockwise(),b=this.doDecode(y,c),E=b.getResultMetadata();let C=270;E!==null&&E.get(vt.ORIENTATION)===!0&&(C=C+E.get(vt.ORIENTATION)%360),b.putMetadata(vt.ORIENTATION,C);const D=b.getResultPoints();if(D!==null){const k=y.getHeight();for(let Y=0;Y<D.length;Y++)D[Y]=new $e(k-D[Y].getY()-1,D[Y].getX())}return b}else throw new se}}reset(){}doDecode(o,c){const f=o.getWidth(),p=o.getHeight();let y=new te(f);const b=c&&c.get(ee.TRY_HARDER)===!0,E=Math.max(1,p>>(b?8:5));let C;b?C=p:C=15;const D=Math.trunc(p/2);for(let k=0;k<C;k++){const Y=Math.trunc((k+1)/2),Q=(k&1)===0,ie=D+E*(Q?Y:-Y);if(ie<0||ie>=p)break;try{y=o.getBlackRow(ie,y)}catch{continue}for(let fe=0;fe<2;fe++){if(fe===1&&(y.reverse(),c&&c.get(ee.NEED_RESULT_POINT_CALLBACK)===!0)){const he=new Map;c.forEach((ye,Ae)=>he.set(Ae,ye)),he.delete(ee.NEED_RESULT_POINT_CALLBACK),c=he}try{const he=this.decodeRow(ie,y,c);if(fe===1){he.putMetadata(vt.ORIENTATION,180);const ye=he.getResultPoints();ye!==null&&(ye[0]=new $e(f-ye[0].getX()-1,ye[0].getY()),ye[1]=new $e(f-ye[1].getX()-1,ye[1].getY()))}return he}catch{}}}throw new se}static recordPattern(o,c,f){const p=f.length;for(let D=0;D<p;D++)f[D]=0;const y=o.getSize();if(c>=y)throw new se;let b=!o.get(c),E=0,C=c;for(;C<y;){if(o.get(C)!==b)f[E]++;else{if(++E===p)break;f[E]=1,b=!b}C++}if(!(E===p||E===p-1&&C===y))throw new se}static recordPatternInReverse(o,c,f){let p=f.length,y=o.get(c);for(;c>0&&p>=0;)o.get(--c)!==y&&(p--,y=!y);if(p>=0)throw new se;dt.recordPattern(o,c+1,f)}static patternMatchVariance(o,c,f){const p=o.length;let y=0,b=0;for(let D=0;D<p;D++)y+=o[D],b+=c[D];if(y<b)return Number.POSITIVE_INFINITY;const E=y/b;f*=E;let C=0;for(let D=0;D<p;D++){const k=o[D],Y=c[D]*E,Q=k>Y?k-Y:Y-k;if(Q>f)return Number.POSITIVE_INFINITY;C+=Q}return C/y}}class ke extends dt{static findStartPattern(o){const c=o.getSize(),f=o.getNextSet(0);let p=0,y=Int32Array.from([0,0,0,0,0,0]),b=f,E=!1;const C=6;for(let D=f;D<c;D++)if(o.get(D)!==E)y[p]++;else{if(p===C-1){let k=ke.MAX_AVG_VARIANCE,Y=-1;for(let Q=ke.CODE_START_A;Q<=ke.CODE_START_C;Q++){const ie=dt.patternMatchVariance(y,ke.CODE_PATTERNS[Q],ke.MAX_INDIVIDUAL_VARIANCE);ie<k&&(k=ie,Y=Q)}if(Y>=0&&o.isRange(Math.max(0,b-(D-b)/2),b,!1))return Int32Array.from([b,D,Y]);b+=y[0]+y[1],y=y.slice(2,y.length-1),y[p-1]=0,y[p]=0,p--}else p++;y[p]=1,E=!E}throw new se}static decodeCode(o,c,f){dt.recordPattern(o,f,c);let p=ke.MAX_AVG_VARIANCE,y=-1;for(let b=0;b<ke.CODE_PATTERNS.length;b++){const E=ke.CODE_PATTERNS[b],C=this.patternMatchVariance(c,E,ke.MAX_INDIVIDUAL_VARIANCE);C<p&&(p=C,y=b)}if(y>=0)return y;throw new se}decodeRow(o,c,f){const p=f&&f.get(ee.ASSUME_GS1)===!0,y=ke.findStartPattern(c),b=y[2];let E=0;const C=new Uint8Array(20);C[E++]=b;let D;switch(b){case ke.CODE_START_A:D=ke.CODE_CODE_A;break;case ke.CODE_START_B:D=ke.CODE_CODE_B;break;case ke.CODE_START_C:D=ke.CODE_CODE_C;break;default:throw new j}let k=!1,Y=!1,Q="",ie=y[0],fe=y[1];const he=Int32Array.from([0,0,0,0,0,0]);let ye=0,Ae=0,ze=b,He=0,Fe=!0,Ot=!1,_t=!1;for(;!k;){const to=Y;switch(Y=!1,ye=Ae,Ae=ke.decodeCode(c,he,fe),C[E++]=Ae,Ae!==ke.CODE_STOP&&(Fe=!0),Ae!==ke.CODE_STOP&&(He++,ze+=He*Ae),ie=fe,fe+=he.reduce((Ma,v0)=>Ma+v0,0),Ae){case ke.CODE_START_A:case ke.CODE_START_B:case ke.CODE_START_C:throw new j}switch(D){case ke.CODE_CODE_A:if(Ae<64)_t===Ot?Q+=String.fromCharCode(32+Ae):Q+=String.fromCharCode(32+Ae+128),_t=!1;else if(Ae<96)_t===Ot?Q+=String.fromCharCode(Ae-64):Q+=String.fromCharCode(Ae+64),_t=!1;else switch(Ae!==ke.CODE_STOP&&(Fe=!1),Ae){case ke.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_A:!Ot&&_t?(Ot=!0,_t=!1):Ot&&_t?(Ot=!1,_t=!1):_t=!0;break;case ke.CODE_SHIFT:Y=!0,D=ke.CODE_CODE_B;break;case ke.CODE_CODE_B:D=ke.CODE_CODE_B;break;case ke.CODE_CODE_C:D=ke.CODE_CODE_C;break;case ke.CODE_STOP:k=!0;break}break;case ke.CODE_CODE_B:if(Ae<96)_t===Ot?Q+=String.fromCharCode(32+Ae):Q+=String.fromCharCode(32+Ae+128),_t=!1;else switch(Ae!==ke.CODE_STOP&&(Fe=!1),Ae){case ke.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_B:!Ot&&_t?(Ot=!0,_t=!1):Ot&&_t?(Ot=!1,_t=!1):_t=!0;break;case ke.CODE_SHIFT:Y=!0,D=ke.CODE_CODE_A;break;case ke.CODE_CODE_A:D=ke.CODE_CODE_A;break;case ke.CODE_CODE_C:D=ke.CODE_CODE_C;break;case ke.CODE_STOP:k=!0;break}break;case ke.CODE_CODE_C:if(Ae<100)Ae<10&&(Q+="0"),Q+=Ae;else switch(Ae!==ke.CODE_STOP&&(Fe=!1),Ae){case ke.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case ke.CODE_CODE_A:D=ke.CODE_CODE_A;break;case ke.CODE_CODE_B:D=ke.CODE_CODE_B;break;case ke.CODE_STOP:k=!0;break}break}to&&(D=D===ke.CODE_CODE_A?ke.CODE_CODE_B:ke.CODE_CODE_A)}const Ai=fe-ie;if(fe=c.getNextUnset(fe),!c.isRange(fe,Math.min(c.getSize(),fe+(fe-ie)/2),!1))throw new se;if(ze-=He*ye,ze%103!==ye)throw new T;const ga=Q.length;if(ga===0)throw new se;ga>0&&Fe&&(D===ke.CODE_CODE_C?Q=Q.substring(0,ga-2):Q=Q.substring(0,ga-1));const Fi=(y[1]+y[0])/2,Sn=ie+Ai/2,Zr=C.length,Vi=new Uint8Array(Zr);for(let to=0;to<Zr;to++)Vi[to]=C[to];const Ro=[new $e(Fi,o),new $e(Sn,o)];return new Ye(Q,Vi,0,Ro,Ue.CODE_128,new Date().getTime())}}ke.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ke.MAX_AVG_VARIANCE=.25,ke.MAX_INDIVIDUAL_VARIANCE=.7,ke.CODE_SHIFT=98,ke.CODE_CODE_C=99,ke.CODE_CODE_B=100,ke.CODE_CODE_A=101,ke.CODE_FNC_1=102,ke.CODE_FNC_2=97,ke.CODE_FNC_3=96,ke.CODE_FNC_4_A=101,ke.CODE_FNC_4_B=100,ke.CODE_START_A=103,ke.CODE_START_B=104,ke.CODE_START_C=105,ke.CODE_STOP=106;class bt extends dt{constructor(o=!1,c=!1){super(),this.usingCheckDigit=o,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,c,f){let p=this.counters;p.fill(0),this.decodeRowResult="";let y=bt.findAsteriskPattern(c,p),b=c.getNextSet(y[1]),E=c.getSize(),C,D;do{bt.recordPattern(c,b,p);let he=bt.toNarrowWidePattern(p);if(he<0)throw new se;C=bt.patternToChar(he),this.decodeRowResult+=C,D=b;for(let ye of p)b+=ye;b=c.getNextSet(b)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let k=0;for(let he of p)k+=he;let Y=b-D-k;if(b!==E&&Y*2<k)throw new se;if(this.usingCheckDigit){let he=this.decodeRowResult.length-1,ye=0;for(let Ae=0;Ae<he;Ae++)ye+=bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(he)!==bt.ALPHABET_STRING.charAt(ye%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,he)}if(this.decodeRowResult.length===0)throw new se;let Q;this.extendedMode?Q=bt.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let ie=(y[1]+y[0])/2,fe=D+k/2;return new Ye(Q,null,0,[new $e(ie,o),new $e(fe,o)],Ue.CODE_39,new Date().getTime())}static findAsteriskPattern(o,c){let f=o.getSize(),p=o.getNextSet(0),y=0,b=p,E=!1,C=c.length;for(let D=p;D<f;D++)if(o.get(D)!==E)c[y]++;else{if(y===C-1){if(this.toNarrowWidePattern(c)===bt.ASTERISK_ENCODING&&o.isRange(Math.max(0,b-Math.floor((D-b)/2)),b,!1))return[b,D];b+=c[0]+c[1],c.copyWithin(0,2,2+y-1),c[y-1]=0,c[y]=0,y--}else y++;c[y]=1,E=!E}throw new se}static toNarrowWidePattern(o){let c=o.length,f=0,p;do{let y=2147483647;for(let C of o)C<y&&C>f&&(y=C);f=y,p=0;let b=0,E=0;for(let C=0;C<c;C++){let D=o[C];D>f&&(E|=1<<c-1-C,p++,b+=D)}if(p===3){for(let C=0;C<c&&p>0;C++){let D=o[C];if(D>f&&(p--,D*2>=b))return-1}return E}}while(p>3);return-1}static patternToChar(o){for(let c=0;c<bt.CHARACTER_ENCODINGS.length;c++)if(bt.CHARACTER_ENCODINGS[c]===o)return bt.ALPHABET_STRING.charAt(c);if(o===bt.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(o){let c=o.length,f="";for(let p=0;p<c;p++){let y=o.charAt(p);if(y==="+"||y==="$"||y==="%"||y==="/"){let b=o.charAt(p+1),E="\0";switch(y){case"+":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)+32);else throw new j;break;case"$":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)-64);else throw new j;break;case"%":if(b>="A"&&b<="E")E=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")E=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")E=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")E="\0";else if(b==="V")E="@";else if(b==="W")E="`";else if(b==="X"||b==="Y"||b==="Z")E="";else throw new j;break;case"/":if(b>="A"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")E=":";else throw new j;break}f+=E,p++}else f+=y}return f}}bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],bt.ASTERISK_ENCODING=148;class Ft extends dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,c,f){let p=this.decodeStart(c),y=this.decodeEnd(c),b=new U;Ft.decodeMiddle(c,p[1],y[0],b);let E=b.toString(),C=null;f!=null&&(C=f.get(ee.ALLOWED_LENGTHS)),C==null&&(C=Ft.DEFAULT_ALLOWED_LENGTHS);let D=E.length,k=!1,Y=0;for(let fe of C){if(D===fe){k=!0;break}fe>Y&&(Y=fe)}if(!k&&D>Y&&(k=!0),!k)throw new j;const Q=[new $e(p[1],o),new $e(y[0],o)];return new Ye(E,null,0,Q,Ue.ITF,new Date().getTime())}static decodeMiddle(o,c,f,p){let y=new Int32Array(10),b=new Int32Array(5),E=new Int32Array(5);for(y.fill(0),b.fill(0),E.fill(0);c<f;){dt.recordPattern(o,c,y);for(let D=0;D<5;D++){let k=2*D;b[D]=y[k],E[D]=y[k+1]}let C=Ft.decodeDigit(b);p.append(C.toString()),C=this.decodeDigit(E),p.append(C.toString()),y.forEach(function(D){c+=D})}}decodeStart(o){let c=Ft.skipWhiteSpace(o),f=Ft.findGuardPattern(o,c,Ft.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(o,f[0]),f}validateQuietZone(o,c){let f=this.narrowLineWidth*10;f=f<c?f:c;for(let p=c-1;f>0&&p>=0&&!o.get(p);p--)f--;if(f!==0)throw new se}static skipWhiteSpace(o){const c=o.getSize(),f=o.getNextSet(0);if(f===c)throw new se;return f}decodeEnd(o){o.reverse();try{let c=Ft.skipWhiteSpace(o),f;try{f=Ft.findGuardPattern(o,c,Ft.END_PATTERN_REVERSED[0])}catch(y){y instanceof se&&(f=Ft.findGuardPattern(o,c,Ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,f[0]);let p=f[0];return f[0]=o.getSize()-f[1],f[1]=o.getSize()-p,f}finally{o.reverse()}}static findGuardPattern(o,c,f){let p=f.length,y=new Int32Array(p),b=o.getSize(),E=!1,C=0,D=c;y.fill(0);for(let k=c;k<b;k++)if(o.get(k)!==E)y[C]++;else{if(C===p-1){if(dt.patternMatchVariance(y,f,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return[D,k];D+=y[0]+y[1],M.arraycopy(y,2,y,0,C-1),y[C-1]=0,y[C]=0,C--}else C++;y[C]=1,E=!E}throw new se}static decodeDigit(o){let c=Ft.MAX_AVG_VARIANCE,f=-1,p=Ft.PATTERNS.length;for(let y=0;y<p;y++){let b=Ft.PATTERNS[y],E=dt.patternMatchVariance(o,b,Ft.MAX_INDIVIDUAL_VARIANCE);E<c?(c=E,f=y):E===c&&(f=-1)}if(f>=0)return f%10;throw new se}}Ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ft.MAX_AVG_VARIANCE=.38,Ft.MAX_INDIVIDUAL_VARIANCE=.5,Ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ft.START_PATTERN=Int32Array.from([1,1,1,1]),Ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let c=!1,f,p=0,y=Int32Array.from([0,0,0]);for(;!c;){y=Int32Array.from([0,0,0]),f=un.findGuardPattern(o,p,!1,this.START_END_PATTERN,y);let b=f[0];p=f[1];let E=b-(p-b);E>=0&&(c=o.isRange(E,b,!1))}return f}static checkChecksum(o){return un.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let f=parseInt(o.charAt(c-1),10);return un.getStandardUPCEANChecksum(o.substring(0,c-1))===f}static getStandardUPCEANChecksum(o){let c=o.length,f=0;for(let p=c-1;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new j;f+=y}f*=3;for(let p=c-2;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new j;f+=y}return(1e3-f)%10}static decodeEnd(o,c){return un.findGuardPattern(o,c,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,c,f,p){return this.findGuardPattern(o,c,f,p,new Int32Array(p.length))}static findGuardPattern(o,c,f,p,y){let b=o.getSize();c=f?o.getNextUnset(c):o.getNextSet(c);let E=0,C=c,D=p.length,k=f;for(let Y=c;Y<b;Y++)if(o.get(Y)!==k)y[E]++;else{if(E===D-1){if(dt.patternMatchVariance(y,p,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([C,Y]);C+=y[0]+y[1];let Q=y.slice(2,y.length-1);for(let ie=0;ie<E-1;ie++)y[ie]=Q[ie];y[E-1]=0,y[E]=0,E--}else E++;y[E]=1,k=!k}throw new se}static decodeDigit(o,c,f,p){this.recordPattern(o,f,c);let y=this.MAX_AVG_VARIANCE,b=-1,E=p.length;for(let C=0;C<E;C++){let D=p[C],k=dt.patternMatchVariance(c,D,un.MAX_INDIVIDUAL_VARIANCE);k<y&&(y=k,b=C)}if(b>=0)return b;throw new se}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ns{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,f){let p=this.decodeRowStringBuffer,y=this.decodeMiddle(c,f,p),b=p.toString(),E=Ns.parseExtensionString(b),C=[new $e((f[0]+f[1])/2,o),new $e(y,o)],D=new Ye(b,null,0,C,Ue.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&D.putAllMetadata(E),D}decodeMiddle(o,c,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1],E=0;for(let D=0;D<5&&b<y;D++){let k=un.decodeDigit(o,p,b,un.L_AND_G_PATTERNS);f+=String.fromCharCode(48+k%10);for(let Y of p)b+=Y;k>=10&&(E|=1<<4-D),D!==4&&(b=o.getNextSet(b),b=o.getNextUnset(b))}if(f.length!==5)throw new se;let C=this.determineCheckDigit(E);if(Ns.extensionChecksum(f.toString())!==C)throw new se;return b}static extensionChecksum(o){let c=o.length,f=0;for(let p=c-2;p>=0;p-=2)f+=o.charAt(p).charCodeAt(0)-48;f*=3;for(let p=c-1;p>=0;p-=2)f+=o.charAt(p).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(o){for(let c=0;c<10;c++)if(o===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new se}static parseExtensionString(o){if(o.length!==5)return null;let c=Ns.parseExtension5String(o);return c==null?null:new Map([[vt.SUGGESTED_PRICE,c]])}static parseExtension5String(o){let c;switch(o.charAt(0)){case"0":c="£";break;case"5":c="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let f=parseInt(o.substring(1)),p=(f/100).toString(),y=f%100,b=y<10?"0"+y:y.toString();return c+p+"."+b}}class Ao{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,f){let p=this.decodeRowStringBuffer,y=this.decodeMiddle(c,f,p),b=p.toString(),E=Ao.parseExtensionString(b),C=[new $e((f[0]+f[1])/2,o),new $e(y,o)],D=new Ye(b,null,0,C,Ue.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&D.putAllMetadata(E),D}decodeMiddle(o,c,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1],E=0;for(let C=0;C<2&&b<y;C++){let D=un.decodeDigit(o,p,b,un.L_AND_G_PATTERNS);f+=String.fromCharCode(48+D%10);for(let k of p)b+=k;D>=10&&(E|=1<<1-C),C!==1&&(b=o.getNextSet(b),b=o.getNextUnset(b))}if(f.length!==2)throw new se;if(parseInt(f.toString())%4!==E)throw new se;return b}static parseExtensionString(o){return o.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(o)]])}}class yl{static decodeRow(o,c,f){let p=un.findGuardPattern(c,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ns().decodeRow(o,c,p)}catch{return new Ao().decodeRow(o,c,p)}}}yl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Dt extends un{constructor(){super(),this.decodeRowStringBuffer="",Dt.L_AND_G_PATTERNS=Dt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let c=Dt.L_PATTERNS[o-10],f=new Int32Array(c.length);for(let p=0;p<c.length;p++)f[p]=c[c.length-p-1];Dt.L_AND_G_PATTERNS[o]=f}}decodeRow(o,c,f){let p=Dt.findStartGuardPattern(c),y=f==null?null:f.get(ee.NEED_RESULT_POINT_CALLBACK);if(y!=null){const Fe=new $e((p[0]+p[1])/2,o);y.foundPossibleResultPoint(Fe)}let b=this.decodeMiddle(c,p,this.decodeRowStringBuffer),E=b.rowOffset,C=b.resultString;if(y!=null){const Fe=new $e(E,o);y.foundPossibleResultPoint(Fe)}let D=this.decodeEnd(c,E);if(y!=null){const Fe=new $e((D[0]+D[1])/2,o);y.foundPossibleResultPoint(Fe)}let k=D[1],Y=k+(k-D[0]);if(Y>=c.getSize()||!c.isRange(k,Y,!1))throw new se;let Q=C.toString();if(Q.length<8)throw new j;if(!Dt.checkChecksum(Q))throw new T;let ie=(p[1]+p[0])/2,fe=(D[1]+D[0])/2,he=this.getBarcodeFormat(),ye=[new $e(ie,o),new $e(fe,o)],Ae=new Ye(Q,null,0,ye,he,new Date().getTime()),ze=0;try{let Fe=yl.decodeRow(o,c,D[1]);Ae.putMetadata(vt.UPC_EAN_EXTENSION,Fe.getText()),Ae.putAllMetadata(Fe.getResultMetadata()),Ae.addResultPoints(Fe.getResultPoints()),ze=Fe.getText().length}catch{}let He=f==null?null:f.get(ee.ALLOWED_EAN_EXTENSIONS);if(He!=null){let Fe=!1;for(let Ot in He)if(ze.toString()===Ot){Fe=!0;break}if(!Fe)throw new se}return Ae}decodeEnd(o,c){return Dt.findGuardPattern(o,c,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Dt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let f=parseInt(o.charAt(c-1),10);return Dt.getStandardUPCEANChecksum(o.substring(0,c-1))===f}static getStandardUPCEANChecksum(o){let c=o.length,f=0;for(let p=c-1;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new j;f+=y}f*=3;for(let p=c-2;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new j;f+=y}return(1e3-f)%10}}class vi extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1],E=0;for(let D=0;D<6&&b<y;D++){let k=Dt.decodeDigit(o,p,b,Dt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+k%10);for(let Y of p)b+=Y;k>=10&&(E|=1<<5-D)}f=vi.determineFirstDigit(f,E),b=Dt.findGuardPattern(o,b,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<6&&b<y;D++){let k=Dt.decodeDigit(o,p,b,Dt.L_PATTERNS);f+=String.fromCharCode(48+k);for(let Y of p)b+=Y}return{rowOffset:b,resultString:f}}getBarcodeFormat(){return Ue.EAN_13}static determineFirstDigit(o,c){for(let f=0;f<10;f++)if(c===this.FIRST_DIGIT_ENCODINGS[f])return o=String.fromCharCode(48+f)+o,o;throw new se}}vi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class vl extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,f){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1];for(let C=0;C<4&&b<y;C++){let D=Dt.decodeDigit(o,p,b,Dt.L_PATTERNS);f+=String.fromCharCode(48+D);for(let k of p)b+=k}b=Dt.findGuardPattern(o,b,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&b<y;C++){let D=Dt.decodeDigit(o,p,b,Dt.L_PATTERNS);f+=String.fromCharCode(48+D);for(let k of p)b+=k}return{rowOffset:b,resultString:f}}getBarcodeFormat(){return Ue.EAN_8}}class _a extends Dt{constructor(){super(...arguments),this.ean13Reader=new vi}getBarcodeFormat(){return Ue.UPC_A}decode(o,c){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,c,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,c,f))}decodeMiddle(o,c,f){return this.ean13Reader.decodeMiddle(o,c,f)}maybeReturnResult(o){let c=o.getText();if(c.charAt(0)==="0"){let f=new Ye(c.substring(1),null,null,o.getResultPoints(),Ue.UPC_A);return o.getResultMetadata()!=null&&f.putAllMetadata(o.getResultMetadata()),f}else throw new se}reset(){this.ean13Reader.reset()}}class xi extends Dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,c,f){const p=this.decodeMiddleCounters.map(D=>D);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const y=o.getSize();let b=c[1],E=0;for(let D=0;D<6&&b<y;D++){const k=xi.decodeDigit(o,p,b,xi.L_AND_G_PATTERNS);f+=String.fromCharCode(48+k%10);for(let Y of p)b+=Y;k>=10&&(E|=1<<5-D)}let C=xi.determineNumSysAndCheckDigit(f,E);return{rowOffset:b,resultString:C}}decodeEnd(o,c){return xi.findGuardPatternWithoutCounters(o,c,!0,xi.MIDDLE_END_PATTERN)}checkChecksum(o){return Dt.checkChecksum(xi.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,c){for(let f=0;f<=1;f++)for(let p=0;p<10;p++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][p]){let y=String.fromCharCode(48+f),b=String.fromCharCode(48+p);return y+o+b}throw se.getNotFoundInstance()}getBarcodeFormat(){return Ue.UPC_E}static convertUPCEtoUPCA(o){const c=o.slice(1,7).split("").map(y=>y.charCodeAt(0)),f=new U;f.append(o.charAt(0));let p=c[5];switch(p){case 0:case 1:case 2:f.appendChars(c,0,2),f.append(p),f.append("0000"),f.appendChars(c,2,3);break;case 3:f.appendChars(c,0,3),f.append("00000"),f.appendChars(c,3,2);break;case 4:f.appendChars(c,0,4),f.append("00000"),f.append(c[4]);break;default:f.appendChars(c,0,5),f.append("0000"),f.append(p);break}return o.length>=8&&f.append(o.charAt(7)),f.toString()}}xi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ns extends dt{constructor(o){super();let c=o==null?null:o.get(ee.POSSIBLE_FORMATS),f=[];r(c)?(f.push(new vi),f.push(new _a),f.push(new vl),f.push(new xi)):(c.indexOf(Ue.EAN_13)>-1&&f.push(new vi),c.indexOf(Ue.UPC_A)>-1&&f.push(new _a),c.indexOf(Ue.EAN_8)>-1&&f.push(new vl),c.indexOf(Ue.UPC_E)>-1&&f.push(new xi)),this.readers=f}decodeRow(o,c,f){for(let p of this.readers)try{const y=p.decodeRow(o,c,f),b=y.getBarcodeFormat()===Ue.EAN_13&&y.getText().charAt(0)==="0",E=f==null?null:f.get(ee.POSSIBLE_FORMATS),C=E==null||E.includes(Ue.UPC_A);if(b&&C){const D=y.getRawBytes(),k=new Ye(y.getText().substring(1),D,D?D.length:null,y.getResultPoints(),Ue.UPC_A);return k.putAllMetadata(y.getResultMetadata()),k}return y}catch{}throw new se}reset(){for(let o of this.readers)o.reset()}}class vr extends dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,c){for(let f=0;f<c.length;f++)if(dt.patternMatchVariance(o,c[f],vr.MAX_INDIVIDUAL_VARIANCE)<vr.MAX_AVG_VARIANCE)return f;throw new se}static count(o){return It.sum(new Int32Array(o))}static increment(o,c){let f=0,p=c[0];for(let y=1;y<o.length;y++)c[y]>p&&(p=c[y],f=y);o[f]++}static decrement(o,c){let f=0,p=c[0];for(let y=1;y<o.length;y++)c[y]<p&&(p=c[y],f=y);o[f]--}static isFinderPattern(o){let c=o[0]+o[1],f=c+o[2]+o[3],p=c/f;if(p>=vr.MIN_FINDER_PATTERN_RATIO&&p<=vr.MAX_FINDER_PATTERN_RATIO){let y=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let E of o)E>b&&(b=E),E<y&&(y=E);return b<10*y}return!1}}vr.MAX_AVG_VARIANCE=.2,vr.MAX_INDIVIDUAL_VARIANCE=.45,vr.MIN_FINDER_PATTERN_RATIO=9.5/12,vr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Qi{constructor(o,c){this.value=o,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Qi))return!1;const c=o;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class So{constructor(o,c,f,p,y){this.value=o,this.startEnd=c,this.value=o,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new $e(f,y)),this.resultPoints.push(new $e(p,y))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof So))return!1;const c=o;return this.value===c.value}hashCode(){return this.value}}class en{constructor(){}static getRSSvalue(o,c,f){let p=0;for(let C of o)p+=C;let y=0,b=0,E=o.length;for(let C=0;C<E-1;C++){let D;for(D=1,b|=1<<C;D<o[C];D++,b&=~(1<<C)){let k=en.combins(p-D-1,E-C-2);if(f&&b===0&&p-D-(E-C-1)>=E-C-1&&(k-=en.combins(p-D-(E-C),E-C-2)),E-C-1>1){let Y=0;for(let Q=p-D-(E-C-2);Q>c;Q--)Y+=en.combins(p-D-Q-1,E-C-3);k-=Y*(E-1-C)}else p-D>c&&k--;y+=k}p-=D}return y}static combins(o,c){let f,p;o-c>c?(p=c,f=o-c):(p=o-c,f=c);let y=1,b=1;for(let E=o;E>f;E--)y*=E,b<=p&&(y/=b,b++);for(;b<=p;)y/=b,b++;return y}}class Nr{static buildBitArray(o){let c=o.length*2-1;o[o.length-1].getRightChar()==null&&(c-=1);let f=12*c,p=new te(f),y=0,E=o[0].getRightChar().getValue();for(let C=11;C>=0;--C)(E&1<<C)!=0&&p.set(y),y++;for(let C=1;C<o.length;++C){let D=o[C],k=D.getLeftChar().getValue();for(let Y=11;Y>=0;--Y)(k&1<<Y)!=0&&p.set(y),y++;if(D.getRightChar()!=null){let Y=D.getRightChar().getValue();for(let Q=11;Q>=0;--Q)(Y&1<<Q)!=0&&p.set(y),y++}}return p}}class On{constructor(o,c){c?this.decodedInformation=null:(this.finished=o,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Li{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Fr extends Li{constructor(o,c){super(o),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Fr.FNC1}}Fr.FNC1="$";class Ds extends Li{constructor(o,c,f){super(o),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dr extends Li{constructor(o,c,f){if(super(o),c<0||c>10||f<0||f>10)throw new j;this.firstDigit=c,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dr.FNC1}isAnyFNC1(){return this.firstDigit===Dr.FNC1||this.secondDigit===Dr.FNC1}}Dr.FNC1=10;class Ke{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new se;let c=o.substring(0,2);for(let y of Ke.TWO_DIGIT_DATA_LENGTH)if(y[0]===c)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(2,y[2],o):Ke.processFixedAI(2,y[1],o);if(o.length<3)throw new se;let f=o.substring(0,3);for(let y of Ke.THREE_DIGIT_DATA_LENGTH)if(y[0]===f)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(3,y[2],o):Ke.processFixedAI(3,y[1],o);for(let y of Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(y[0]===f)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,y[2],o):Ke.processFixedAI(4,y[1],o);if(o.length<4)throw new se;let p=o.substring(0,4);for(let y of Ke.FOUR_DIGIT_DATA_LENGTH)if(y[0]===p)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,y[2],o):Ke.processFixedAI(4,y[1],o);throw new se}static processFixedAI(o,c,f){if(f.length<o)throw new se;let p=f.substring(0,o);if(f.length<o+c)throw new se;let y=f.substring(o,o+c),b=f.substring(o+c),E="("+p+")"+y,C=Ke.parseFieldsInGeneralPurpose(b);return C==null?E:E+C}static processVariableAI(o,c,f){let p=f.substring(0,o),y;f.length<o+c?y=f.length:y=o+c;let b=f.substring(o,y),E=f.substring(y),C="("+p+")"+b,D=Ke.parseFieldsInGeneralPurpose(E);return D==null?C:C+D}}Ke.VARIABLE_LENGTH=[],Ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ke.VARIABLE_LENGTH,20],["22",Ke.VARIABLE_LENGTH,29],["30",Ke.VARIABLE_LENGTH,8],["37",Ke.VARIABLE_LENGTH,8],["90",Ke.VARIABLE_LENGTH,30],["91",Ke.VARIABLE_LENGTH,30],["92",Ke.VARIABLE_LENGTH,30],["93",Ke.VARIABLE_LENGTH,30],["94",Ke.VARIABLE_LENGTH,30],["95",Ke.VARIABLE_LENGTH,30],["96",Ke.VARIABLE_LENGTH,30],["97",Ke.VARIABLE_LENGTH,3],["98",Ke.VARIABLE_LENGTH,30],["99",Ke.VARIABLE_LENGTH,30]],Ke.THREE_DIGIT_DATA_LENGTH=[["240",Ke.VARIABLE_LENGTH,30],["241",Ke.VARIABLE_LENGTH,30],["242",Ke.VARIABLE_LENGTH,6],["250",Ke.VARIABLE_LENGTH,30],["251",Ke.VARIABLE_LENGTH,30],["253",Ke.VARIABLE_LENGTH,17],["254",Ke.VARIABLE_LENGTH,20],["400",Ke.VARIABLE_LENGTH,30],["401",Ke.VARIABLE_LENGTH,30],["402",17],["403",Ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ke.VARIABLE_LENGTH,20],["421",Ke.VARIABLE_LENGTH,15],["422",3],["423",Ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ke.VARIABLE_LENGTH,15],["391",Ke.VARIABLE_LENGTH,18],["392",Ke.VARIABLE_LENGTH,15],["393",Ke.VARIABLE_LENGTH,18],["703",Ke.VARIABLE_LENGTH,30]],Ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ke.VARIABLE_LENGTH,20],["8003",Ke.VARIABLE_LENGTH,30],["8004",Ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ke.VARIABLE_LENGTH,30],["8008",Ke.VARIABLE_LENGTH,12],["8018",18],["8020",Ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ke.VARIABLE_LENGTH,70],["8200",Ke.VARIABLE_LENGTH,70]];class oa{constructor(o){this.buffer=new U,this.information=o}decodeAllCodes(o,c){let f=c,p=null;do{let y=this.decodeGeneralPurposeField(f,p),b=Ke.parseFieldsInGeneralPurpose(y.getNewString());if(b!=null&&o.append(b),y.isRemaining()?p=""+y.getRemainingValue():p=null,f===y.getNewPosition())break;f=y.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let c=o;c<o+3;++c)if(this.information.get(c))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let y=this.extractNumericValueFromBitArray(o,4);return y===0?new Dr(this.information.getSize(),Dr.FNC1,Dr.FNC1):new Dr(this.information.getSize(),y-1,Dr.FNC1)}let c=this.extractNumericValueFromBitArray(o,7),f=(c-8)/11,p=(c-8)%11;return new Dr(o+7,f,p)}extractNumericValueFromBitArray(o,c){return oa.extractNumericValueFromBitArray(this.information,o,c)}static extractNumericValueFromBitArray(o,c,f){let p=0;for(let y=0;y<f;++y)o.get(c+y)&&(p|=1<<f-y-1);return p}decodeGeneralPurposeField(o,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(o);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Ds(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Ds(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,c;do{let f=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),o=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),o=c.isFinished()):(c=this.parseNumericBlock(),o=c.isFinished()),!(f!==this.current.getPosition())&&!o)break}while(!o);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let c;return o.isSecondDigitFNC1()?c=new Ds(this.current.getPosition(),this.buffer.toString()):c=new Ds(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new On(!0,c)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let c=new Ds(this.current.getPosition(),this.buffer.toString());return new On(!0,c)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new On(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new Ds(this.current.getPosition(),this.buffer.toString());return new On(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new On(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new Ds(this.current.getPosition(),this.buffer.toString());return new On(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new On(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<116)return!0;if(o+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,8);return p>=232&&p<253}decodeIsoIec646(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Fr(o+5,Fr.FNC1);if(c>=5&&c<15)return new Fr(o+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<90)return new Fr(o+7,""+(f+1));if(f>=90&&f<116)return new Fr(o+7,""+(f+7));let p=this.extractNumericValueFromBitArray(o,8),y;switch(p){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new j}return new Fr(o+8,y)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,6);return f>=16&&f<63}decodeAlphanumeric(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Fr(o+5,Fr.FNC1);if(c>=5&&c<15)return new Fr(o+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(o,6);if(f>=32&&f<58)return new Fr(o+6,""+(f+33));let p;switch(f){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new tn("Decoding invalid alphanumeric value: "+f)}return new Fr(o+6,p)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<5&&c+o<this.information.getSize();++c)if(c===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+c))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let c=o;c<o+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<4&&c+o<this.information.getSize();++c)if(this.information.get(o+c))return!1;return!0}}class rs{constructor(o){this.information=o,this.generalDecoder=new oa(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ir extends rs{constructor(o){super(o)}encodeCompressedGtin(o,c){o.append("(01)");let f=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,c,f)}encodeCompressedGtinWithoutAI(o,c,f){for(let p=0;p<4;++p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*p,10);y/100===0&&o.append("0"),y/10===0&&o.append("0"),o.append(y)}ir.appendCheckDigit(o,f)}static appendCheckDigit(o,c){let f=0;for(let p=0;p<13;p++){let y=o.charAt(p+c).charCodeAt(0)-48;f+=(p&1)===0?3*y:y}f=10-f%10,f===10&&(f=0),o.append(f)}}ir.GTIN_SIZE=40;class bi extends ir{constructor(o){super(o)}parseInformation(){let o=new U;o.append("(01)");let c=o.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(bi.HEADER_SIZE,4);return o.append(f),this.encodeCompressedGtinWithoutAI(o,bi.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(o,bi.HEADER_SIZE+44)}}bi.HEADER_SIZE=4;class Zi extends rs{constructor(o){super(o)}parseInformation(){let o=new U;return this.getGeneralDecoder().decodeAllCodes(o,Zi.HEADER_SIZE)}}Zi.HEADER_SIZE=5;class Vr extends ir{constructor(o){super(o)}encodeCompressedWeight(o,c,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(c,f);this.addWeightCode(o,p);let y=this.checkWeight(p),b=1e5;for(let E=0;E<5;++E)y/b===0&&o.append("0"),b/=10;o.append(y)}}class fn extends Vr{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=fn.HEADER_SIZE+Vr.GTIN_SIZE+fn.WEIGHT_SIZE)throw new se;let o=new U;return this.encodeCompressedGtin(o,fn.HEADER_SIZE),this.encodeCompressedWeight(o,fn.HEADER_SIZE+Vr.GTIN_SIZE,fn.WEIGHT_SIZE),o.toString()}}fn.HEADER_SIZE=5,fn.WEIGHT_SIZE=15;class Ic extends fn{constructor(o){super(o)}addWeightCode(o,c){o.append("(3103)")}checkWeight(o){return o}}class xl extends fn{constructor(o){super(o)}addWeightCode(o,c){c<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Er extends ir{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Er.HEADER_SIZE+ir.GTIN_SIZE)throw new se;let o=new U;this.encodeCompressedGtin(o,Er.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Er.HEADER_SIZE+ir.GTIN_SIZE,Er.LAST_DIGIT_SIZE);o.append("(392"),o.append(c),o.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(Er.HEADER_SIZE+ir.GTIN_SIZE+Er.LAST_DIGIT_SIZE,null);return o.append(f.getNewString()),o.toString()}}Er.HEADER_SIZE=8,Er.LAST_DIGIT_SIZE=2;class Kn extends ir{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+ir.GTIN_SIZE)throw new se;let o=new U;this.encodeCompressedGtin(o,Kn.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+ir.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);o.append("(393"),o.append(c),o.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+ir.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,Kn.FIRST_THREE_DIGITS_SIZE);f/100==0&&o.append("0"),f/10==0&&o.append("0"),o.append(f);let p=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+ir.GTIN_SIZE+Kn.LAST_DIGIT_SIZE+Kn.FIRST_THREE_DIGITS_SIZE,null);return o.append(p.getNewString()),o.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2,Kn.FIRST_THREE_DIGITS_SIZE=10;class An extends Vr{constructor(o,c,f){super(o),this.dateCode=f,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=An.HEADER_SIZE+An.GTIN_SIZE+An.WEIGHT_SIZE+An.DATE_SIZE)throw new se;let o=new U;return this.encodeCompressedGtin(o,An.HEADER_SIZE),this.encodeCompressedWeight(o,An.HEADER_SIZE+An.GTIN_SIZE,An.WEIGHT_SIZE),this.encodeCompressedDate(o,An.HEADER_SIZE+An.GTIN_SIZE+An.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(c,An.DATE_SIZE);if(f==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let p=f%32;f/=32;let y=f%12+1;f/=12;let b=f;b/10==0&&o.append("0"),o.append(b),y/10==0&&o.append("0"),o.append(y),p/10==0&&o.append("0"),o.append(p)}addWeightCode(o,c){o.append("("),o.append(this.firstAIdigits),o.append(c/1e5),o.append(")")}checkWeight(o){return o%1e5}}An.HEADER_SIZE=8,An.WEIGHT_SIZE=20,An.DATE_SIZE=16;function Oc(W){try{if(W.get(1))return new bi(W);if(!W.get(2))return new Zi(W);switch(oa.extractNumericValueFromBitArray(W,1,4)){case 4:return new Ic(W);case 5:return new xl(W)}switch(oa.extractNumericValueFromBitArray(W,1,5)){case 12:return new Er(W);case 13:return new Kn(W)}switch(oa.extractNumericValueFromBitArray(W,1,7)){case 56:return new An(W,"310","11");case 57:return new An(W,"320","11");case 58:return new An(W,"310","13");case 59:return new An(W,"320","13");case 60:return new An(W,"310","15");case 61:return new An(W,"320","15");case 62:return new An(W,"310","17");case 63:return new An(W,"320","17")}}catch(o){throw console.log(o),new tn("unknown decoder: "+W)}}class ki{constructor(o,c,f,p){this.leftchar=o,this.rightchar=c,this.finderpattern=f,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,c){return o instanceof ki?ki.equalsOrNull(o.leftchar,c.leftchar)&&ki.equalsOrNull(o.rightchar,c.rightchar)&&ki.equalsOrNull(o.finderpattern,c.finderpattern):!1}static equalsOrNull(o,c){return o===null?c===null:ki.equals(o,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class bl{constructor(o,c,f){this.pairs=o,this.rowNumber=c,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,c){return o instanceof bl?this.checkEqualitity(o,c)&&o.wasReversed===c.wasReversed:!1}checkEqualitity(o,c){if(!o||!c)return;let f;return o.forEach((p,y)=>{c.forEach(b=>{p.getLeftChar().getValue()===b.getLeftChar().getValue()&&p.getRightChar().getValue()===b.getRightChar().getValue()&&p.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(f=!0)})}),f}}class Me extends vr{constructor(o){super(...arguments),this.pairs=new Array(Me.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,c,f){this.pairs.length=0,this.startFromEven=!1;try{return Me.constructResult(this.decodeRow2pairs(o,c))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,Me.constructResult(this.decodeRow2pairs(o,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,c){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,o))}catch(y){if(y instanceof se){if(!this.pairs.length)throw new se;f=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(o,!1),p){let y=this.checkRowsBoolean(!1);if(y!=null||(y=this.checkRowsBoolean(!0),y!=null))return y}throw new se}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return o&&(this.rows=this.rows.reverse()),c}checkRows(o,c){for(let f=c;f<this.rows.length;f++){let p=this.rows[f];this.pairs.length=0;for(let b of o)this.pairs.push(b.getPairs());if(this.pairs.push(p.getPairs()),!Me.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let y=new Array(o);y.push(p);try{return this.checkRows(y,f+1)}catch(b){this.verbose&&console.log(b)}}throw new se}static isValidSequence(o){for(let c of Me.FINDER_PATTERN_SEQUENCES){if(o.length>c.length)continue;let f=!0;for(let p=0;p<o.length;p++)if(o[p].getFinderPattern().getValue()!=c[p]){f=!1;break}if(f)return!0}return!1}storeRow(o,c){let f=0,p=!1,y=!1;for(;f<this.rows.length;){let b=this.rows[f];if(b.getRowNumber()>o){y=b.isEquivalent(this.pairs);break}p=b.isEquivalent(this.pairs),f++}y||p||Me.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new bl(this.pairs,o,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,c){for(let f of c)if(f.getPairs().length!==o.length){for(let p of f.getPairs())for(let y of o)if(ki.equals(p,y))break}}static isPartialRow(o,c){for(let f of c){let p=!0;for(let y of o){let b=!1;for(let E of f.getPairs())if(y.equals(E)){b=!0;break}if(!b){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(o){let c=Nr.buildBitArray(o),p=Oc(c).parseInformation(),y=o[0].getFinderPattern().getResultPoints(),b=o[o.length-1].getFinderPattern().getResultPoints(),E=[y[0],y[1],b[0],b[1]];return new Ye(p,null,null,E,Ue.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),c=o.getLeftChar(),f=o.getRightChar();if(f==null)return!1;let p=f.getChecksumPortion(),y=2;for(let E=1;E<this.pairs.size();++E){let C=this.pairs.get(E);p+=C.getLeftChar().getChecksumPortion(),y++;let D=C.getRightChar();D!=null&&(p+=D.getChecksumPortion(),y++)}return p%=211,211*(y-4)+p==c.getValue()}static getNextSecondBar(o,c){let f;return o.get(c)?(f=o.getNextUnset(c),f=o.getNextSet(f)):(f=o.getNextSet(c),f=o.getNextUnset(f)),f}retrieveNextPair(o,c,f){let p=c.length%2==0;this.startFromEven&&(p=!p);let y,b=!0,E=-1;do this.findNextPair(o,c,E),y=this.parseFoundFinderPattern(o,f,p),y==null?E=Me.getNextSecondBar(o,this.startEnd[0]):b=!1;while(b);let C=this.decodeDataCharacter(o,y,p,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new se;let D;try{D=this.decodeDataCharacter(o,y,p,!1)}catch(k){D=null,this.verbose&&console.log(k)}return new ki(C,D,y,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,c,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b;f>=0?b=f:this.isEmptyPair(c)?b=0:b=c[c.length-1].getFinderPattern().getStartEnd()[1];let E=c.length%2!=0;this.startFromEven&&(E=!E);let C=!1;for(;b<y&&(C=!o.get(b),!!C);)b++;let D=0,k=b;for(let Y=b;Y<y;Y++)if(o.get(Y)!=C)p[D]++;else{if(D==3){if(E&&Me.reverseCounters(p),Me.isFinderPattern(p)){this.startEnd[0]=k,this.startEnd[1]=Y;return}E&&Me.reverseCounters(p),k+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,D--}else D++;p[D]=1,C=!C}throw new se}static reverseCounters(o){let c=o.length;for(let f=0;f<c/2;++f){let p=o[f];o[f]=o[c-f-1],o[c-f-1]=p}}parseFoundFinderPattern(o,c,f){let p,y,b;if(f){let D=this.startEnd[0]-1;for(;D>=0&&!o.get(D);)D--;D++,p=this.startEnd[0]-D,y=D,b=this.startEnd[1]}else y=this.startEnd[0],b=o.getNextUnset(this.startEnd[1]+1),p=b-this.startEnd[1];let E=this.getDecodeFinderCounters();M.arraycopy(E,0,E,1,E.length-1),E[0]=p;let C;try{C=this.parseFinderValue(E,Me.FINDER_PATTERNS)}catch{return null}return new So(C,[y,b],y,b,c)}decodeDataCharacter(o,c,f,p){let y=this.getDataCharacterCounters();for(let Sn=0;Sn<y.length;Sn++)y[Sn]=0;if(p)Me.recordPatternInReverse(o,c.getStartEnd()[0],y);else{Me.recordPattern(o,c.getStartEnd()[1],y);for(let Sn=0,Zr=y.length-1;Sn<Zr;Sn++,Zr--){let Vi=y[Sn];y[Sn]=y[Zr],y[Zr]=Vi}}let b=17,E=It.sum(new Int32Array(y))/b,C=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(E-C)/C>.3)throw new se;let D=this.getOddCounts(),k=this.getEvenCounts(),Y=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let Sn=0;Sn<y.length;Sn++){let Zr=1*y[Sn]/E,Vi=Zr+.5;if(Vi<1){if(Zr<.3)throw new se;Vi=1}else if(Vi>8){if(Zr>8.7)throw new se;Vi=8}let Ro=Sn/2;(Sn&1)==0?(D[Ro]=Vi,Y[Ro]=Zr-Vi):(k[Ro]=Vi,Q[Ro]=Zr-Vi)}this.adjustOddEvenCounts(b);let ie=4*c.getValue()+(f?0:2)+(p?0:1)-1,fe=0,he=0;for(let Sn=D.length-1;Sn>=0;Sn--){if(Me.isNotA1left(c,f,p)){let Zr=Me.WEIGHTS[ie][2*Sn];he+=D[Sn]*Zr}fe+=D[Sn]}let ye=0;for(let Sn=k.length-1;Sn>=0;Sn--)if(Me.isNotA1left(c,f,p)){let Zr=Me.WEIGHTS[ie][2*Sn+1];ye+=k[Sn]*Zr}let Ae=he+ye;if((fe&1)!=0||fe>13||fe<4)throw new se;let ze=(13-fe)/2,He=Me.SYMBOL_WIDEST[ze],Fe=9-He,Ot=en.getRSSvalue(D,He,!0),_t=en.getRSSvalue(k,Fe,!1),Ai=Me.EVEN_TOTAL_SUBSET[ze],ga=Me.GSUM[ze],Fi=Ot*Ai+_t+ga;return new Qi(Fi,Ae)}static isNotA1left(o,c,f){return!(o.getValue()==0&&c&&f)}adjustOddEvenCounts(o){let c=It.sum(new Int32Array(this.getOddCounts())),f=It.sum(new Int32Array(this.getEvenCounts())),p=!1,y=!1;c>13?y=!0:c<4&&(p=!0);let b=!1,E=!1;f>13?E=!0:f<4&&(b=!0);let C=c+f-o,D=(c&1)==1,k=(f&1)==0;if(C==1)if(D){if(k)throw new se;y=!0}else{if(!k)throw new se;E=!0}else if(C==-1)if(D){if(k)throw new se;p=!0}else{if(!k)throw new se;b=!0}else if(C==0){if(D){if(!k)throw new se;c<f?(p=!0,E=!0):(y=!0,b=!0)}else if(k)throw new se}else throw new se;if(p){if(y)throw new se;Me.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Me.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(E)throw new se;Me.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Me.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Me.SYMBOL_WIDEST=[7,5,4,3,1],Me.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Me.GSUM=[0,348,1388,2948,3988],Me.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Me.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Me.FINDER_PAT_A=0,Me.FINDER_PAT_B=1,Me.FINDER_PAT_C=2,Me.FINDER_PAT_D=3,Me.FINDER_PAT_E=4,Me.FINDER_PAT_F=5,Me.FINDER_PATTERN_SEQUENCES=[[Me.FINDER_PAT_A,Me.FINDER_PAT_A],[Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B],[Me.FINDER_PAT_A,Me.FINDER_PAT_C,Me.FINDER_PAT_B,Me.FINDER_PAT_D],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_C],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_D,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_D],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_E],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F]],Me.MAX_PAIRS=11;class is extends Qi{constructor(o,c,f){super(o,c),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Pt extends vr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,c,f){const p=this.decodePair(c,!1,o,f);Pt.addOrTally(this.possibleLeftPairs,p),c.reverse();let y=this.decodePair(c,!0,o,f);Pt.addOrTally(this.possibleRightPairs,y),c.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&Pt.checkChecksum(b,E))return Pt.constructResult(b,E)}throw new se}static addOrTally(o,c){if(c==null)return;let f=!1;for(let p of o)if(p.getValue()===c.getValue()){p.incrementCount(),f=!0;break}f||o.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,c){let f=4537077*o.getValue()+c.getValue(),p=new String(f).toString(),y=new U;for(let D=13-p.length;D>0;D--)y.append("0");y.append(p);let b=0;for(let D=0;D<13;D++){let k=y.charAt(D).charCodeAt(0)-48;b+=(D&1)===0?3*k:k}b=10-b%10,b===10&&(b=0),y.append(b.toString());let E=o.getFinderPattern().getResultPoints(),C=c.getFinderPattern().getResultPoints();return new Ye(y.toString(),null,0,[E[0],E[1],C[0],C[1]],Ue.RSS_14,new Date().getTime())}static checkChecksum(o,c){let f=(o.getChecksumPortion()+16*c.getChecksumPortion())%79,p=9*o.getFinderPattern().getValue()+c.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,f===p}decodePair(o,c,f,p){try{let y=this.findFinderPattern(o,c),b=this.parseFoundFinderPattern(o,f,c,y),E=p==null?null:p.get(ee.NEED_RESULT_POINT_CALLBACK);if(E!=null){let k=(y[0]+y[1])/2;c&&(k=o.getSize()-1-k),E.foundPossibleResultPoint(new $e(k,f))}let C=this.decodeDataCharacter(o,b,!0),D=this.decodeDataCharacter(o,b,!1);return new is(1597*C.getValue()+D.getValue(),C.getChecksumPortion()+4*D.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(o,c,f){let p=this.getDataCharacterCounters();for(let ye=0;ye<p.length;ye++)p[ye]=0;if(f)dt.recordPatternInReverse(o,c.getStartEnd()[0],p);else{dt.recordPattern(o,c.getStartEnd()[1]+1,p);for(let ye=0,Ae=p.length-1;ye<Ae;ye++,Ae--){let ze=p[ye];p[ye]=p[Ae],p[Ae]=ze}}let y=f?16:15,b=It.sum(new Int32Array(p))/y,E=this.getOddCounts(),C=this.getEvenCounts(),D=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let ye=0;ye<p.length;ye++){let Ae=p[ye]/b,ze=Math.floor(Ae+.5);ze<1?ze=1:ze>8&&(ze=8);let He=Math.floor(ye/2);(ye&1)===0?(E[He]=ze,D[He]=Ae-ze):(C[He]=ze,k[He]=Ae-ze)}this.adjustOddEvenCounts(f,y);let Y=0,Q=0;for(let ye=E.length-1;ye>=0;ye--)Q*=9,Q+=E[ye],Y+=E[ye];let ie=0,fe=0;for(let ye=C.length-1;ye>=0;ye--)ie*=9,ie+=C[ye],fe+=C[ye];let he=Q+3*ie;if(f){if((Y&1)!==0||Y>12||Y<4)throw new se;let ye=(12-Y)/2,Ae=Pt.OUTSIDE_ODD_WIDEST[ye],ze=9-Ae,He=en.getRSSvalue(E,Ae,!1),Fe=en.getRSSvalue(C,ze,!0),Ot=Pt.OUTSIDE_EVEN_TOTAL_SUBSET[ye],_t=Pt.OUTSIDE_GSUM[ye];return new Qi(He*Ot+Fe+_t,he)}else{if((fe&1)!==0||fe>10||fe<4)throw new se;let ye=(10-fe)/2,Ae=Pt.INSIDE_ODD_WIDEST[ye],ze=9-Ae,He=en.getRSSvalue(E,Ae,!0),Fe=en.getRSSvalue(C,ze,!1),Ot=Pt.INSIDE_ODD_TOTAL_SUBSET[ye],_t=Pt.INSIDE_GSUM[ye];return new Qi(Fe*Ot+He+_t,he)}}findFinderPattern(o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),y=!1,b=0;for(;b<p&&(y=!o.get(b),c!==y);)b++;let E=0,C=b;for(let D=b;D<p;D++)if(o.get(D)!==y)f[E]++;else{if(E===3){if(vr.isFinderPattern(f))return[C,D];C+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,y=!y}throw new se}parseFoundFinderPattern(o,c,f,p){let y=o.get(p[0]),b=p[0]-1;for(;b>=0&&y!==o.get(b);)b--;b++;const E=p[0]-b,C=this.getDecodeFinderCounters(),D=new Int32Array(C.length);M.arraycopy(C,0,D,1,C.length-1),D[0]=E;const k=this.parseFinderValue(D,Pt.FINDER_PATTERNS);let Y=b,Q=p[1];return f&&(Y=o.getSize()-1-Y,Q=o.getSize()-1-Q),new So(k,[b,p[1]],Y,Q,c)}adjustOddEvenCounts(o,c){let f=It.sum(new Int32Array(this.getOddCounts())),p=It.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1,E=!1,C=!1;o?(f>12?b=!0:f<4&&(y=!0),p>12?C=!0:p<4&&(E=!0)):(f>11?b=!0:f<5&&(y=!0),p>10?C=!0:p<4&&(E=!0));let D=f+p-c,k=(f&1)===(o?1:0),Y=(p&1)===1;if(D===1)if(k){if(Y)throw new se;b=!0}else{if(!Y)throw new se;C=!0}else if(D===-1)if(k){if(Y)throw new se;y=!0}else{if(!Y)throw new se;E=!0}else if(D===0){if(k){if(!Y)throw new se;f<p?(y=!0,C=!0):(b=!0,E=!0)}else if(Y)throw new se}else throw new se;if(y){if(b)throw new se;vr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&vr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(C)throw new se;vr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&vr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Pt.OUTSIDE_GSUM=[0,161,961,2015,2715],Pt.INSIDE_GSUM=[0,336,1036,1516],Pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Pt.INSIDE_ODD_WIDEST=[2,4,6,8],Pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class la extends dt{constructor(o,c){super(),this.readers=[],this.verbose=c===!0;const f=o?o.get(ee.POSSIBLE_FORMATS):null,p=o&&o.get(ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(Ue.EAN_13)||f.includes(Ue.UPC_A)||f.includes(Ue.EAN_8)||f.includes(Ue.UPC_E))&&this.readers.push(new ns(o)),f.includes(Ue.CODE_39)&&this.readers.push(new bt(p)),f.includes(Ue.CODE_128)&&this.readers.push(new ke),f.includes(Ue.ITF)&&this.readers.push(new Ft),f.includes(Ue.RSS_14)&&this.readers.push(new Pt),f.includes(Ue.RSS_EXPANDED)&&this.readers.push(new Me(this.verbose))):(this.readers.push(new ns(o)),this.readers.push(new bt),this.readers.push(new ns(o)),this.readers.push(new ke),this.readers.push(new Ft),this.readers.push(new Pt),this.readers.push(new Me(this.verbose)))}decodeRow(o,c,f){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(o,c,f)}catch{}throw new se}reset(){this.readers.forEach(o=>o.reset())}}class _u extends je{constructor(o=500,c){super(new la(c),o,c)}}class Lt{constructor(o,c,f){this.ecCodewords=o,this.ecBlocks=[c],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Vt{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nt{constructor(o,c,f,p,y,b){this.versionNumber=o,this.symbolSizeRows=c,this.symbolSizeColumns=f,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=y,this.ecBlocks=b;let E=0;const C=b.getECCodewords(),D=b.getECBlocks();for(let k of D)E+=k.getCount()*(k.getDataCodewords()+C);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,c){if((o&1)!==0||(c&1)!==0)throw new j;for(let f of Nt.VERSIONS)if(f.symbolSizeRows===o&&f.symbolSizeColumns===c)return f;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Nt(1,10,10,8,8,new Lt(5,new Vt(1,3))),new Nt(2,12,12,10,10,new Lt(7,new Vt(1,5))),new Nt(3,14,14,12,12,new Lt(10,new Vt(1,8))),new Nt(4,16,16,14,14,new Lt(12,new Vt(1,12))),new Nt(5,18,18,16,16,new Lt(14,new Vt(1,18))),new Nt(6,20,20,18,18,new Lt(18,new Vt(1,22))),new Nt(7,22,22,20,20,new Lt(20,new Vt(1,30))),new Nt(8,24,24,22,22,new Lt(24,new Vt(1,36))),new Nt(9,26,26,24,24,new Lt(28,new Vt(1,44))),new Nt(10,32,32,14,14,new Lt(36,new Vt(1,62))),new Nt(11,36,36,16,16,new Lt(42,new Vt(1,86))),new Nt(12,40,40,18,18,new Lt(48,new Vt(1,114))),new Nt(13,44,44,20,20,new Lt(56,new Vt(1,144))),new Nt(14,48,48,22,22,new Lt(68,new Vt(1,174))),new Nt(15,52,52,24,24,new Lt(42,new Vt(2,102))),new Nt(16,64,64,14,14,new Lt(56,new Vt(2,140))),new Nt(17,72,72,16,16,new Lt(36,new Vt(4,92))),new Nt(18,80,80,18,18,new Lt(48,new Vt(4,114))),new Nt(19,88,88,20,20,new Lt(56,new Vt(4,144))),new Nt(20,96,96,22,22,new Lt(68,new Vt(4,174))),new Nt(21,104,104,24,24,new Lt(56,new Vt(6,136))),new Nt(22,120,120,18,18,new Lt(68,new Vt(6,175))),new Nt(23,132,132,20,20,new Lt(62,new Vt(8,163))),new Nt(24,144,144,22,22,new Lt(62,new Vt(8,156),new Vt(2,155))),new Nt(25,8,18,6,16,new Lt(7,new Vt(1,5))),new Nt(26,8,32,6,14,new Lt(11,new Vt(1,10))),new Nt(27,12,26,10,24,new Lt(14,new Vt(1,16))),new Nt(28,12,36,10,16,new Lt(18,new Vt(1,22))),new Nt(29,16,36,14,16,new Lt(24,new Vt(1,32))),new Nt(30,16,48,14,22,new Lt(28,new Vt(1,49)))]}}Nt.VERSIONS=Nt.buildVersions();class _o{constructor(o){const c=o.getHeight();if(c<8||c>144||(c&1)!==0)throw new j;this.version=_o.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const c=o.getHeight(),f=o.getWidth();return Nt.getVersionForDimensions(c,f)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let c=0,f=4,p=0;const y=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let E=!1,C=!1,D=!1,k=!1;do if(f===y&&p===0&&!E)o[c++]=this.readCorner1(y,b)&255,f-=2,p+=2,E=!0;else if(f===y-2&&p===0&&(b&3)!==0&&!C)o[c++]=this.readCorner2(y,b)&255,f-=2,p+=2,C=!0;else if(f===y+4&&p===2&&(b&7)===0&&!D)o[c++]=this.readCorner3(y,b)&255,f-=2,p+=2,D=!0;else if(f===y-2&&p===0&&(b&7)===4&&!k)o[c++]=this.readCorner4(y,b)&255,f-=2,p+=2,k=!0;else{do f<y&&p>=0&&!this.readMappingMatrix.get(p,f)&&(o[c++]=this.readUtah(f,p,y,b)&255),f-=2,p+=2;while(f>=0&&p<b);f+=1,p+=3;do f>=0&&p<b&&!this.readMappingMatrix.get(p,f)&&(o[c++]=this.readUtah(f,p,y,b)&255),f+=2,p-=2;while(f<y&&p>=0);f+=3,p+=1}while(f<y||p<b);if(c!==this.version.getTotalCodewords())throw new j;return o}readModule(o,c,f,p){return o<0&&(o+=f,c+=4-(f+4&7)),c<0&&(c+=p,o+=4-(p+4&7)),this.readMappingMatrix.set(c,o),this.mappingBitMatrix.get(c,o)}readUtah(o,c,f,p){let y=0;return this.readModule(o-2,c-2,f,p)&&(y|=1),y<<=1,this.readModule(o-2,c-1,f,p)&&(y|=1),y<<=1,this.readModule(o-1,c-2,f,p)&&(y|=1),y<<=1,this.readModule(o-1,c-1,f,p)&&(y|=1),y<<=1,this.readModule(o-1,c,f,p)&&(y|=1),y<<=1,this.readModule(o,c-2,f,p)&&(y|=1),y<<=1,this.readModule(o,c-1,f,p)&&(y|=1),y<<=1,this.readModule(o,c,f,p)&&(y|=1),y}readCorner1(o,c){let f=0;return this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,1,o,c)&&(f|=1),f<<=1,this.readModule(o-1,2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(2,c-1,o,c)&&(f|=1),f<<=1,this.readModule(3,c-1,o,c)&&(f|=1),f}readCorner2(o,c){let f=0;return this.readModule(o-3,0,o,c)&&(f|=1),f<<=1,this.readModule(o-2,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(0,c-4,o,c)&&(f|=1),f<<=1,this.readModule(0,c-3,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f}readCorner3(o,c){let f=0;return this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(0,c-3,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-3,o,c)&&(f|=1),f<<=1,this.readModule(1,c-2,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f}readCorner4(o,c){let f=0;return this.readModule(o-3,0,o,c)&&(f|=1),f<<=1,this.readModule(o-2,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(2,c-1,o,c)&&(f|=1),f<<=1,this.readModule(3,c-1,o,c)&&(f|=1),f}extractDataRegion(o){const c=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(o.getHeight()!==c)throw new w("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),y=this.version.getDataRegionSizeColumns(),b=c/p|0,E=f/y|0,C=b*p,D=E*y,k=new ue(D,C);for(let Y=0;Y<b;++Y){const Q=Y*p;for(let ie=0;ie<E;++ie){const fe=ie*y;for(let he=0;he<p;++he){const ye=Y*(p+2)+1+he,Ae=Q+he;for(let ze=0;ze<y;++ze){const He=ie*(y+2)+1+ze;if(o.get(He,ye)){const Fe=fe+ze;k.set(Fe,Ae)}}}}}return k}}class Xs{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c){const f=c.getECBlocks();let p=0;const y=f.getECBlocks();for(let he of y)p+=he.getCount();const b=new Array(p);let E=0;for(let he of y)for(let ye=0;ye<he.getCount();ye++){const Ae=he.getDataCodewords(),ze=f.getECCodewords()+Ae;b[E++]=new Xs(Ae,new Uint8Array(ze))}const D=b[0].codewords.length-f.getECCodewords(),k=D-1;let Y=0;for(let he=0;he<k;he++)for(let ye=0;ye<E;ye++)b[ye].codewords[he]=o[Y++];const Q=c.getVersionNumber()===24,ie=Q?8:E;for(let he=0;he<ie;he++)b[he].codewords[D-1]=o[Y++];const fe=b[0].codewords.length;for(let he=D;he<fe;he++)for(let ye=0;ye<E;ye++){const Ae=Q?(ye+8)%E:ye,ze=Q&&Ae>7?he-1:he;b[Ae].codewords[ze]=o[Y++]}if(Y!==o.length)throw new w;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Kr{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new w(""+o);let c=0,f=this.bitOffset,p=this.byteOffset;const y=this.bytes;if(f>0){const b=8-f,E=o<b?o:b,C=b-E,D=255>>8-E<<C;c=(y[p]&D)>>C,o-=E,f+=E,f===8&&(f=0,p++)}if(o>0){for(;o>=8;)c=c<<8|y[p]&255,p++,o-=8;if(o>0){const b=8-o,E=255>>b<<b;c=c<<o|(y[p]&E)>>b,f+=o}}return this.bitOffset=f,this.byteOffset=p,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qn;(function(W){W[W.PAD_ENCODE=0]="PAD_ENCODE",W[W.ASCII_ENCODE=1]="ASCII_ENCODE",W[W.C40_ENCODE=2]="C40_ENCODE",W[W.TEXT_ENCODE=3]="TEXT_ENCODE",W[W.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",W[W.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",W[W.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qn||(Qn={}));class as{static decode(o){const c=new Kr(o),f=new U,p=new U,y=new Array;let b=Qn.ASCII_ENCODE;do if(b===Qn.ASCII_ENCODE)b=this.decodeAsciiSegment(c,f,p);else{switch(b){case Qn.C40_ENCODE:this.decodeC40Segment(c,f);break;case Qn.TEXT_ENCODE:this.decodeTextSegment(c,f);break;case Qn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,f);break;case Qn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,f);break;case Qn.BASE256_ENCODE:this.decodeBase256Segment(c,f,y);break;default:throw new j}b=Qn.ASCII_ENCODE}while(b!==Qn.PAD_ENCODE&&c.available()>0);return p.length()>0&&f.append(p.toString()),new De(o,f.toString(),y.length===0?null:y,null)}static decodeAsciiSegment(o,c,f){let p=!1;do{let y=o.readBits(8);if(y===0)throw new j;if(y<=128)return p&&(y+=128),c.append(String.fromCharCode(y-1)),Qn.ASCII_ENCODE;if(y===129)return Qn.PAD_ENCODE;if(y<=229){const b=y-130;b<10&&c.append("0"),c.append(""+b)}else switch(y){case 230:return Qn.C40_ENCODE;case 231:return Qn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:c.append("[)>05"),f.insert(0,"");break;case 237:c.append("[)>06"),f.insert(0,"");break;case 238:return Qn.ANSIX12_ENCODE;case 239:return Qn.TEXT_ENCODE;case 240:return Qn.EDIFACT_ENCODE;case 241:break;default:if(y!==254||o.available()!==0)throw new j;break}}while(o.available()>0);return Qn.ASCII_ENCODE}static decodeC40Segment(o,c){let f=!1;const p=[];let y=0;do{if(o.available()===8)return;const b=o.readBits(8);if(b===254)return;this.parseTwoBytes(b,o.readBits(8),p);for(let E=0;E<3;E++){const C=p[E];switch(y){case 0:if(C<3)y=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const D=this.C40_BASIC_SET_CHARS[C];f?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):c.append(D)}else throw new j;break;case 1:f?(c.append(String.fromCharCode(C+128)),f=!1):c.append(String.fromCharCode(C)),y=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const D=this.C40_SHIFT2_SET_CHARS[C];f?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):c.append(D)}else switch(C){case 27:c.append("");break;case 30:f=!0;break;default:throw new j}y=0;break;case 3:f?(c.append(String.fromCharCode(C+224)),f=!1):c.append(String.fromCharCode(C+96)),y=0;break;default:throw new j}}}while(o.available()>0)}static decodeTextSegment(o,c){let f=!1,p=[],y=0;do{if(o.available()===8)return;const b=o.readBits(8);if(b===254)return;this.parseTwoBytes(b,o.readBits(8),p);for(let E=0;E<3;E++){const C=p[E];switch(y){case 0:if(C<3)y=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const D=this.TEXT_BASIC_SET_CHARS[C];f?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):c.append(D)}else throw new j;break;case 1:f?(c.append(String.fromCharCode(C+128)),f=!1):c.append(String.fromCharCode(C)),y=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const D=this.TEXT_SHIFT2_SET_CHARS[C];f?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):c.append(D)}else switch(C){case 27:c.append("");break;case 30:f=!0;break;default:throw new j}y=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const D=this.TEXT_SHIFT3_SET_CHARS[C];f?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):c.append(D),y=0}else throw new j;break;default:throw new j}}}while(o.available()>0)}static decodeAnsiX12Segment(o,c){const f=[];do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),f);for(let y=0;y<3;y++){const b=f[y];switch(b){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(b<14)c.append(String.fromCharCode(b+44));else if(b<40)c.append(String.fromCharCode(b+51));else throw new j;break}}}while(o.available()>0)}static parseTwoBytes(o,c,f){let p=(o<<8)+c-1,y=Math.floor(p/1600);f[0]=y,p-=y*1600,y=Math.floor(p/40),f[1]=y,f[2]=p-y*40}static decodeEdifactSegment(o,c){do{if(o.available()<=16)return;for(let f=0;f<4;f++){let p=o.readBits(6);if(p===31){const y=8-o.getBitOffset();y!==8&&o.readBits(y);return}(p&32)===0&&(p|=64),c.append(String.fromCharCode(p))}}while(o.available()>0)}static decodeBase256Segment(o,c,f){let p=1+o.getByteOffset();const y=this.unrandomize255State(o.readBits(8),p++);let b;if(y===0?b=o.available()/8|0:y<250?b=y:b=250*(y-249)+this.unrandomize255State(o.readBits(8),p++),b<0)throw new j;const E=new Uint8Array(b);for(let C=0;C<b;C++){if(o.available()<8)throw new j;E[C]=this.unrandomize255State(o.readBits(8),p++)}f.push(E);try{c.append(z.decode(E,K.ISO88591))}catch(C){throw new tn("Platform does not support required encoding: "+C.message)}}static unrandomize255State(o,c){const f=149*c%255+1,p=o-f;return p>=0?p:p+256}}as.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],as.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],as.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],as.TEXT_SHIFT2_SET_CHARS=as.C40_SHIFT2_SET_CHARS,as.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class wl{constructor(){this.rsDecoder=new Xn(st.DATA_MATRIX_FIELD_256)}decode(o){const c=new _o(o),f=c.getVersion(),p=c.readCodewords(),y=Xs.getDataBlocks(p,f);let b=0;for(let D of y)b+=D.getNumDataCodewords();const E=new Uint8Array(b),C=y.length;for(let D=0;D<C;D++){const k=y[D],Y=k.getCodewords(),Q=k.getNumDataCodewords();this.correctErrors(Y,Q);for(let ie=0;ie<Q;ie++)E[ie*C+D]=Y[ie]}return as.decode(E)}correctErrors(o,c){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-c)}catch{throw new T}for(let p=0;p<c;p++)o[p]=f[p]}}class Ln{constructor(o){this.image=o,this.rectangleDetector=new yi(this.image)}detect(){const o=this.rectangleDetector.detect();let c=this.detectSolid1(o);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new se;c=this.shiftToModuleCenter(c);const f=c[0],p=c[1],y=c[2],b=c[3];let E=this.transitionsBetween(f,b)+1,C=this.transitionsBetween(y,b)+1;(E&1)===1&&(E+=1),(C&1)===1&&(C+=1),4*E<7*C&&4*C<7*E&&(E=C=Math.max(E,C));let D=Ln.sampleGrid(this.image,f,p,y,b,E,C);return new Ys(D,[f,p,y,b])}static shiftPoint(o,c,f){let p=(c.getX()-o.getX())/(f+1),y=(c.getY()-o.getY())/(f+1);return new $e(o.getX()+p,o.getY()+y)}static moveAway(o,c,f){let p=o.getX(),y=o.getY();return p<c?p-=1:p+=1,y<f?y-=1:y+=1,new $e(p,y)}detectSolid1(o){let c=o[0],f=o[1],p=o[3],y=o[2],b=this.transitionsBetween(c,f),E=this.transitionsBetween(f,p),C=this.transitionsBetween(p,y),D=this.transitionsBetween(y,c),k=b,Y=[y,c,f,p];return k>E&&(k=E,Y[0]=c,Y[1]=f,Y[2]=p,Y[3]=y),k>C&&(k=C,Y[0]=f,Y[1]=p,Y[2]=y,Y[3]=c),k>D&&(Y[0]=p,Y[1]=y,Y[2]=c,Y[3]=f),Y}detectSolid2(o){let c=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(c,y),E=Ln.shiftPoint(f,p,(b+1)*4),C=Ln.shiftPoint(p,f,(b+1)*4),D=this.transitionsBetween(E,c),k=this.transitionsBetween(C,y);return D<k?(o[0]=c,o[1]=f,o[2]=p,o[3]=y):(o[0]=f,o[1]=p,o[2]=y,o[3]=c),o}correctTopRight(o){let c=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(c,y),E=this.transitionsBetween(f,y),C=Ln.shiftPoint(c,f,(E+1)*4),D=Ln.shiftPoint(p,f,(b+1)*4);b=this.transitionsBetween(C,y),E=this.transitionsBetween(D,y);let k=new $e(y.getX()+(p.getX()-f.getX())/(b+1),y.getY()+(p.getY()-f.getY())/(b+1)),Y=new $e(y.getX()+(c.getX()-f.getX())/(E+1),y.getY()+(c.getY()-f.getY())/(E+1));if(!this.isValid(k))return this.isValid(Y)?Y:null;if(!this.isValid(Y))return k;let Q=this.transitionsBetween(C,k)+this.transitionsBetween(D,k),ie=this.transitionsBetween(C,Y)+this.transitionsBetween(D,Y);return Q>ie?k:Y}shiftToModuleCenter(o){let c=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(c,y)+1,E=this.transitionsBetween(p,y)+1,C=Ln.shiftPoint(c,f,E*4),D=Ln.shiftPoint(p,f,b*4);b=this.transitionsBetween(C,y)+1,E=this.transitionsBetween(D,y)+1,(b&1)===1&&(b+=1),(E&1)===1&&(E+=1);let k=(c.getX()+f.getX()+p.getX()+y.getX())/4,Y=(c.getY()+f.getY()+p.getY()+y.getY())/4;c=Ln.moveAway(c,k,Y),f=Ln.moveAway(f,k,Y),p=Ln.moveAway(p,k,Y),y=Ln.moveAway(y,k,Y);let Q,ie;return C=Ln.shiftPoint(c,f,E*4),C=Ln.shiftPoint(C,y,b*4),Q=Ln.shiftPoint(f,c,E*4),Q=Ln.shiftPoint(Q,p,b*4),D=Ln.shiftPoint(p,y,E*4),D=Ln.shiftPoint(D,f,b*4),ie=Ln.shiftPoint(y,p,E*4),ie=Ln.shiftPoint(ie,c,b*4),[C,Q,D,ie]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,c,f,p,y,b,E){return rr.getInstance().sampleGrid(o,b,E,.5,.5,b-.5,.5,b-.5,E-.5,.5,E-.5,c.getX(),c.getY(),y.getX(),y.getY(),p.getX(),p.getY(),f.getX(),f.getY())}transitionsBetween(o,c){let f=Math.trunc(o.getX()),p=Math.trunc(o.getY()),y=Math.trunc(c.getX()),b=Math.trunc(c.getY()),E=Math.abs(b-p)>Math.abs(y-f);if(E){let he=f;f=p,p=he,he=y,y=b,b=he}let C=Math.abs(y-f),D=Math.abs(b-p),k=-C/2,Y=p<b?1:-1,Q=f<y?1:-1,ie=0,fe=this.image.get(E?p:f,E?f:p);for(let he=f,ye=p;he!==y;he+=Q){let Ae=this.image.get(E?ye:he,E?he:ye);if(Ae!==fe&&(ie++,fe=Ae),k+=D,k>0){if(ye===b)break;ye+=Y,k-=C}}return ie}}class ji{constructor(){this.decoder=new wl}decode(o,c=null){let f,p;if(c!=null&&c.has(ee.PURE_BARCODE)){const D=ji.extractPureBits(o.getBlackMatrix());f=this.decoder.decode(D),p=ji.NO_POINTS}else{const D=new Ln(o.getBlackMatrix()).detect();f=this.decoder.decode(D.getBits()),p=D.getPoints()}const y=f.getRawBytes(),b=new Ye(f.getText(),y,8*y.length,p,Ue.DATA_MATRIX,M.currentTimeMillis()),E=f.getByteSegments();E!=null&&b.putMetadata(vt.BYTE_SEGMENTS,E);const C=f.getECLevel();return C!=null&&b.putMetadata(vt.ERROR_CORRECTION_LEVEL,C),b}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(c==null||f==null)throw new se;const p=this.moduleSize(c,o);let y=c[1];const b=f[1];let E=c[0];const D=(f[0]-E+1)/p,k=(b-y+1)/p;if(D<=0||k<=0)throw new se;const Y=p/2;y+=Y,E+=Y;const Q=new ue(D,k);for(let ie=0;ie<k;ie++){const fe=y+ie*p;for(let he=0;he<D;he++)o.get(E+he*p,fe)&&Q.set(he,ie)}return Q}static moduleSize(o,c){const f=c.getWidth();let p=o[0];const y=o[1];for(;p<f&&c.get(p,y);)p++;if(p===f)throw new se;const b=p-o[0];if(b===0)throw new se;return b}}ji.NO_POINTS=[];class oh extends je{constructor(o=500){super(new ji,o)}}var kn;(function(W){W[W.L=0]="L",W[W.M=1]="M",W[W.Q=2]="Q",W[W.H=3]="H"})(kn||(kn={}));class kt{constructor(o,c,f){this.value=o,this.stringValue=c,this.bits=f,kt.FOR_BITS.set(f,this),kt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return kt.L;case"M":return kt.M;case"Q":return kt.Q;case"H":return kt.H;default:throw new v(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof kt))return!1;const c=o;return this.value===c.value}static forBits(o){if(o<0||o>=kt.FOR_BITS.size)throw new w;return kt.FOR_BITS.get(o)}}kt.FOR_BITS=new Map,kt.FOR_VALUE=new Map,kt.L=new kt(kn.L,"L",1),kt.M=new kt(kn.M,"M",0),kt.Q=new kt(kn.Q,"Q",3),kt.H=new kt(kn.H,"H",2);class ar{constructor(o){this.errorCorrectionLevel=kt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,c){return q.bitCount(o^c)}static decodeFormatInformation(o,c){const f=ar.doDecodeFormatInformation(o,c);return f!==null?f:ar.doDecodeFormatInformation(o^ar.FORMAT_INFO_MASK_QR,c^ar.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,c){let f=Number.MAX_SAFE_INTEGER,p=0;for(const y of ar.FORMAT_INFO_DECODE_LOOKUP){const b=y[0];if(b===o||b===c)return new ar(y[1]);let E=ar.numBitsDiffering(o,b);E<f&&(p=y[1],f=E),o!==c&&(E=ar.numBitsDiffering(c,b),E<f&&(p=y[1],f=E))}return f<=3?new ar(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof ar))return!1;const c=o;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}ar.FORMAT_INFO_MASK_QR=21522,ar.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class me{constructor(o,...c){this.ecCodewordsPerBlock=o,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const c=this.ecBlocks;for(const f of c)o+=f.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class re{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(o,c,...f){this.versionNumber=o,this.alignmentPatternCenters=c,this.ecBlocks=f;let p=0;const y=f[0].getECCodewordsPerBlock(),b=f[0].getECBlocks();for(const E of b)p+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new j;try{return this.getVersionForNumber((o-17)/4)}catch{throw new j}}static getVersionForNumber(o){if(o<1||o>40)throw new w;return We.VERSIONS[o-1]}static decodeVersionInformation(o){let c=Number.MAX_SAFE_INTEGER,f=0;for(let p=0;p<We.VERSION_DECODE_INFO.length;p++){const y=We.VERSION_DECODE_INFO[p];if(y===o)return We.getVersionForNumber(p+7);const b=ar.numBitsDiffering(o,y);b<c&&(f=p+7,c=b)}return c<=3?We.getVersionForNumber(f):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),c=new ue(o);c.setRegion(0,0,9,9),c.setRegion(o-8,0,8,9),c.setRegion(0,o-8,9,8);const f=this.alignmentPatternCenters.length;for(let p=0;p<f;p++){const y=this.alignmentPatternCenters[p]-2;for(let b=0;b<f;b++)p===0&&(b===0||b===f-1)||p===f-1&&b===0||c.setRegion(this.alignmentPatternCenters[b]-2,y,5,5)}return c.setRegion(6,9,1,o-17),c.setRegion(9,6,o-17,1),this.versionNumber>6&&(c.setRegion(o-11,0,3,6),c.setRegion(0,o-11,6,3)),c}toString(){return""+this.versionNumber}}We.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),We.VERSIONS=[new We(1,new Int32Array(0),new me(7,new re(1,19)),new me(10,new re(1,16)),new me(13,new re(1,13)),new me(17,new re(1,9))),new We(2,Int32Array.from([6,18]),new me(10,new re(1,34)),new me(16,new re(1,28)),new me(22,new re(1,22)),new me(28,new re(1,16))),new We(3,Int32Array.from([6,22]),new me(15,new re(1,55)),new me(26,new re(1,44)),new me(18,new re(2,17)),new me(22,new re(2,13))),new We(4,Int32Array.from([6,26]),new me(20,new re(1,80)),new me(18,new re(2,32)),new me(26,new re(2,24)),new me(16,new re(4,9))),new We(5,Int32Array.from([6,30]),new me(26,new re(1,108)),new me(24,new re(2,43)),new me(18,new re(2,15),new re(2,16)),new me(22,new re(2,11),new re(2,12))),new We(6,Int32Array.from([6,34]),new me(18,new re(2,68)),new me(16,new re(4,27)),new me(24,new re(4,19)),new me(28,new re(4,15))),new We(7,Int32Array.from([6,22,38]),new me(20,new re(2,78)),new me(18,new re(4,31)),new me(18,new re(2,14),new re(4,15)),new me(26,new re(4,13),new re(1,14))),new We(8,Int32Array.from([6,24,42]),new me(24,new re(2,97)),new me(22,new re(2,38),new re(2,39)),new me(22,new re(4,18),new re(2,19)),new me(26,new re(4,14),new re(2,15))),new We(9,Int32Array.from([6,26,46]),new me(30,new re(2,116)),new me(22,new re(3,36),new re(2,37)),new me(20,new re(4,16),new re(4,17)),new me(24,new re(4,12),new re(4,13))),new We(10,Int32Array.from([6,28,50]),new me(18,new re(2,68),new re(2,69)),new me(26,new re(4,43),new re(1,44)),new me(24,new re(6,19),new re(2,20)),new me(28,new re(6,15),new re(2,16))),new We(11,Int32Array.from([6,30,54]),new me(20,new re(4,81)),new me(30,new re(1,50),new re(4,51)),new me(28,new re(4,22),new re(4,23)),new me(24,new re(3,12),new re(8,13))),new We(12,Int32Array.from([6,32,58]),new me(24,new re(2,92),new re(2,93)),new me(22,new re(6,36),new re(2,37)),new me(26,new re(4,20),new re(6,21)),new me(28,new re(7,14),new re(4,15))),new We(13,Int32Array.from([6,34,62]),new me(26,new re(4,107)),new me(22,new re(8,37),new re(1,38)),new me(24,new re(8,20),new re(4,21)),new me(22,new re(12,11),new re(4,12))),new We(14,Int32Array.from([6,26,46,66]),new me(30,new re(3,115),new re(1,116)),new me(24,new re(4,40),new re(5,41)),new me(20,new re(11,16),new re(5,17)),new me(24,new re(11,12),new re(5,13))),new We(15,Int32Array.from([6,26,48,70]),new me(22,new re(5,87),new re(1,88)),new me(24,new re(5,41),new re(5,42)),new me(30,new re(5,24),new re(7,25)),new me(24,new re(11,12),new re(7,13))),new We(16,Int32Array.from([6,26,50,74]),new me(24,new re(5,98),new re(1,99)),new me(28,new re(7,45),new re(3,46)),new me(24,new re(15,19),new re(2,20)),new me(30,new re(3,15),new re(13,16))),new We(17,Int32Array.from([6,30,54,78]),new me(28,new re(1,107),new re(5,108)),new me(28,new re(10,46),new re(1,47)),new me(28,new re(1,22),new re(15,23)),new me(28,new re(2,14),new re(17,15))),new We(18,Int32Array.from([6,30,56,82]),new me(30,new re(5,120),new re(1,121)),new me(26,new re(9,43),new re(4,44)),new me(28,new re(17,22),new re(1,23)),new me(28,new re(2,14),new re(19,15))),new We(19,Int32Array.from([6,30,58,86]),new me(28,new re(3,113),new re(4,114)),new me(26,new re(3,44),new re(11,45)),new me(26,new re(17,21),new re(4,22)),new me(26,new re(9,13),new re(16,14))),new We(20,Int32Array.from([6,34,62,90]),new me(28,new re(3,107),new re(5,108)),new me(26,new re(3,41),new re(13,42)),new me(30,new re(15,24),new re(5,25)),new me(28,new re(15,15),new re(10,16))),new We(21,Int32Array.from([6,28,50,72,94]),new me(28,new re(4,116),new re(4,117)),new me(26,new re(17,42)),new me(28,new re(17,22),new re(6,23)),new me(30,new re(19,16),new re(6,17))),new We(22,Int32Array.from([6,26,50,74,98]),new me(28,new re(2,111),new re(7,112)),new me(28,new re(17,46)),new me(30,new re(7,24),new re(16,25)),new me(24,new re(34,13))),new We(23,Int32Array.from([6,30,54,78,102]),new me(30,new re(4,121),new re(5,122)),new me(28,new re(4,47),new re(14,48)),new me(30,new re(11,24),new re(14,25)),new me(30,new re(16,15),new re(14,16))),new We(24,Int32Array.from([6,28,54,80,106]),new me(30,new re(6,117),new re(4,118)),new me(28,new re(6,45),new re(14,46)),new me(30,new re(11,24),new re(16,25)),new me(30,new re(30,16),new re(2,17))),new We(25,Int32Array.from([6,32,58,84,110]),new me(26,new re(8,106),new re(4,107)),new me(28,new re(8,47),new re(13,48)),new me(30,new re(7,24),new re(22,25)),new me(30,new re(22,15),new re(13,16))),new We(26,Int32Array.from([6,30,58,86,114]),new me(28,new re(10,114),new re(2,115)),new me(28,new re(19,46),new re(4,47)),new me(28,new re(28,22),new re(6,23)),new me(30,new re(33,16),new re(4,17))),new We(27,Int32Array.from([6,34,62,90,118]),new me(30,new re(8,122),new re(4,123)),new me(28,new re(22,45),new re(3,46)),new me(30,new re(8,23),new re(26,24)),new me(30,new re(12,15),new re(28,16))),new We(28,Int32Array.from([6,26,50,74,98,122]),new me(30,new re(3,117),new re(10,118)),new me(28,new re(3,45),new re(23,46)),new me(30,new re(4,24),new re(31,25)),new me(30,new re(11,15),new re(31,16))),new We(29,Int32Array.from([6,30,54,78,102,126]),new me(30,new re(7,116),new re(7,117)),new me(28,new re(21,45),new re(7,46)),new me(30,new re(1,23),new re(37,24)),new me(30,new re(19,15),new re(26,16))),new We(30,Int32Array.from([6,26,52,78,104,130]),new me(30,new re(5,115),new re(10,116)),new me(28,new re(19,47),new re(10,48)),new me(30,new re(15,24),new re(25,25)),new me(30,new re(23,15),new re(25,16))),new We(31,Int32Array.from([6,30,56,82,108,134]),new me(30,new re(13,115),new re(3,116)),new me(28,new re(2,46),new re(29,47)),new me(30,new re(42,24),new re(1,25)),new me(30,new re(23,15),new re(28,16))),new We(32,Int32Array.from([6,34,60,86,112,138]),new me(30,new re(17,115)),new me(28,new re(10,46),new re(23,47)),new me(30,new re(10,24),new re(35,25)),new me(30,new re(19,15),new re(35,16))),new We(33,Int32Array.from([6,30,58,86,114,142]),new me(30,new re(17,115),new re(1,116)),new me(28,new re(14,46),new re(21,47)),new me(30,new re(29,24),new re(19,25)),new me(30,new re(11,15),new re(46,16))),new We(34,Int32Array.from([6,34,62,90,118,146]),new me(30,new re(13,115),new re(6,116)),new me(28,new re(14,46),new re(23,47)),new me(30,new re(44,24),new re(7,25)),new me(30,new re(59,16),new re(1,17))),new We(35,Int32Array.from([6,30,54,78,102,126,150]),new me(30,new re(12,121),new re(7,122)),new me(28,new re(12,47),new re(26,48)),new me(30,new re(39,24),new re(14,25)),new me(30,new re(22,15),new re(41,16))),new We(36,Int32Array.from([6,24,50,76,102,128,154]),new me(30,new re(6,121),new re(14,122)),new me(28,new re(6,47),new re(34,48)),new me(30,new re(46,24),new re(10,25)),new me(30,new re(2,15),new re(64,16))),new We(37,Int32Array.from([6,28,54,80,106,132,158]),new me(30,new re(17,122),new re(4,123)),new me(28,new re(29,46),new re(14,47)),new me(30,new re(49,24),new re(10,25)),new me(30,new re(24,15),new re(46,16))),new We(38,Int32Array.from([6,32,58,84,110,136,162]),new me(30,new re(4,122),new re(18,123)),new me(28,new re(13,46),new re(32,47)),new me(30,new re(48,24),new re(14,25)),new me(30,new re(42,15),new re(32,16))),new We(39,Int32Array.from([6,26,54,82,110,138,166]),new me(30,new re(20,117),new re(4,118)),new me(28,new re(40,47),new re(7,48)),new me(30,new re(43,24),new re(22,25)),new me(30,new re(10,15),new re(67,16))),new We(40,Int32Array.from([6,30,58,86,114,142,170]),new me(30,new re(19,118),new re(6,119)),new me(28,new re(18,47),new re(31,48)),new me(30,new re(34,24),new re(34,25)),new me(30,new re(20,15),new re(61,16)))];var qn;(function(W){W[W.DATA_MASK_000=0]="DATA_MASK_000",W[W.DATA_MASK_001=1]="DATA_MASK_001",W[W.DATA_MASK_010=2]="DATA_MASK_010",W[W.DATA_MASK_011=3]="DATA_MASK_011",W[W.DATA_MASK_100=4]="DATA_MASK_100",W[W.DATA_MASK_101=5]="DATA_MASK_101",W[W.DATA_MASK_110=6]="DATA_MASK_110",W[W.DATA_MASK_111=7]="DATA_MASK_111"})(qn||(qn={}));class Zn{constructor(o,c){this.value=o,this.isMasked=c}unmaskBitMatrix(o,c){for(let f=0;f<c;f++)for(let p=0;p<c;p++)this.isMasked(f,p)&&o.flip(p,f)}}Zn.values=new Map([[qn.DATA_MASK_000,new Zn(qn.DATA_MASK_000,(W,o)=>(W+o&1)===0)],[qn.DATA_MASK_001,new Zn(qn.DATA_MASK_001,(W,o)=>(W&1)===0)],[qn.DATA_MASK_010,new Zn(qn.DATA_MASK_010,(W,o)=>o%3===0)],[qn.DATA_MASK_011,new Zn(qn.DATA_MASK_011,(W,o)=>(W+o)%3===0)],[qn.DATA_MASK_100,new Zn(qn.DATA_MASK_100,(W,o)=>(Math.floor(W/2)+Math.floor(o/3)&1)===0)],[qn.DATA_MASK_101,new Zn(qn.DATA_MASK_101,(W,o)=>W*o%6===0)],[qn.DATA_MASK_110,new Zn(qn.DATA_MASK_110,(W,o)=>W*o%6<3)],[qn.DATA_MASK_111,new Zn(qn.DATA_MASK_111,(W,o)=>(W+o+W*o%3&1)===0)]]);class Co{constructor(o){const c=o.getHeight();if(c<21||(c&3)!==1)throw new j;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let y=0;y<6;y++)o=this.copyBit(y,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let y=5;y>=0;y--)o=this.copyBit(8,y,o);const c=this.bitMatrix.getHeight();let f=0;const p=c-7;for(let y=c-1;y>=p;y--)f=this.copyBit(8,y,f);for(let y=c-8;y<c;y++)f=this.copyBit(y,8,f);if(this.parsedFormatInfo=ar.decodeFormatInformation(o,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),c=Math.floor((o-17)/4);if(c<=6)return We.getVersionForNumber(c);let f=0;const p=o-11;for(let b=5;b>=0;b--)for(let E=o-9;E>=p;E--)f=this.copyBit(E,b,f);let y=We.decodeVersionInformation(f);if(y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;f=0;for(let b=5;b>=0;b--)for(let E=o-9;E>=p;E--)f=this.copyBit(b,E,f);if(y=We.decodeVersionInformation(f),y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;throw new j}copyBit(o,c,f){return(this.isMirror?this.bitMatrix.get(c,o):this.bitMatrix.get(o,c))?f<<1|1:f<<1}readCodewords(){const o=this.readFormatInformation(),c=this.readVersion(),f=Zn.values.get(o.getDataMask()),p=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,p);const y=c.buildFunctionPattern();let b=!0;const E=new Uint8Array(c.getTotalCodewords());let C=0,D=0,k=0;for(let Y=p-1;Y>0;Y-=2){Y===6&&Y--;for(let Q=0;Q<p;Q++){const ie=b?p-1-Q:Q;for(let fe=0;fe<2;fe++)y.get(Y-fe,ie)||(k++,D<<=1,this.bitMatrix.get(Y-fe,ie)&&(D|=1),k===8&&(E[C++]=D,k=0,D=0))}b=!b}if(C!==c.getTotalCodewords())throw new j;return E}remask(){if(this.parsedFormatInfo===null)return;const o=Zn.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let c=0,f=o.getWidth();c<f;c++)for(let p=c+1,y=o.getHeight();p<y;p++)o.get(c,p)!==o.get(p,c)&&(o.flip(p,c),o.flip(c,p))}}class El{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c,f){if(o.length!==c.getTotalCodewords())throw new w;const p=c.getECBlocksForLevel(f);let y=0;const b=p.getECBlocks();for(const fe of b)y+=fe.getCount();const E=new Array(y);let C=0;for(const fe of b)for(let he=0;he<fe.getCount();he++){const ye=fe.getDataCodewords(),Ae=p.getECCodewordsPerBlock()+ye;E[C++]=new El(ye,new Uint8Array(Ae))}const D=E[0].codewords.length;let k=E.length-1;for(;k>=0&&E[k].codewords.length!==D;)k--;k++;const Y=D-p.getECCodewordsPerBlock();let Q=0;for(let fe=0;fe<Y;fe++)for(let he=0;he<C;he++)E[he].codewords[fe]=o[Q++];for(let fe=k;fe<C;fe++)E[fe].codewords[Y]=o[Q++];const ie=E[0].codewords.length;for(let fe=Y;fe<ie;fe++)for(let he=0;he<C;he++){const ye=he<k?fe:fe+1;E[he].codewords[ye]=o[Q++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var oi;(function(W){W[W.TERMINATOR=0]="TERMINATOR",W[W.NUMERIC=1]="NUMERIC",W[W.ALPHANUMERIC=2]="ALPHANUMERIC",W[W.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",W[W.BYTE=4]="BYTE",W[W.ECI=5]="ECI",W[W.KANJI=6]="KANJI",W[W.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",W[W.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",W[W.HANZI=9]="HANZI"})(oi||(oi={}));class at{constructor(o,c,f,p){this.value=o,this.stringValue=c,this.characterCountBitsForVersions=f,this.bits=p,at.FOR_BITS.set(p,this),at.FOR_VALUE.set(o,this)}static forBits(o){const c=at.FOR_BITS.get(o);if(c===void 0)throw new w;return c}getCharacterCountBits(o){const c=o.getVersionNumber();let f;return c<=9?f=0:c<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof at))return!1;const c=o;return this.value===c.value}toString(){return this.stringValue}}at.FOR_BITS=new Map,at.FOR_VALUE=new Map,at.TERMINATOR=new at(oi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),at.NUMERIC=new at(oi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),at.ALPHANUMERIC=new at(oi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),at.STRUCTURED_APPEND=new at(oi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),at.BYTE=new at(oi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),at.ECI=new at(oi.ECI,"ECI",Int32Array.from([0,0,0]),7),at.KANJI=new at(oi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),at.FNC1_FIRST_POSITION=new at(oi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),at.FNC1_SECOND_POSITION=new at(oi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),at.HANZI=new at(oi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class jn{static decode(o,c,f,p){const y=new Kr(o);let b=new U;const E=new Array;let C=-1,D=-1;try{let k=null,Y=!1,Q;do{if(y.available()<4)Q=at.TERMINATOR;else{const ie=y.readBits(4);Q=at.forBits(ie)}switch(Q){case at.TERMINATOR:break;case at.FNC1_FIRST_POSITION:case at.FNC1_SECOND_POSITION:Y=!0;break;case at.STRUCTURED_APPEND:if(y.available()<16)throw new j;C=y.readBits(8),D=y.readBits(8);break;case at.ECI:const ie=jn.parseECIValue(y);if(k=F.getCharacterSetECIByValue(ie),k===null)throw new j;break;case at.HANZI:const fe=y.readBits(4),he=y.readBits(Q.getCharacterCountBits(c));fe===jn.GB2312_SUBSET&&jn.decodeHanziSegment(y,b,he);break;default:const ye=y.readBits(Q.getCharacterCountBits(c));switch(Q){case at.NUMERIC:jn.decodeNumericSegment(y,b,ye);break;case at.ALPHANUMERIC:jn.decodeAlphanumericSegment(y,b,ye,Y);break;case at.BYTE:jn.decodeByteSegment(y,b,ye,k,E,p);break;case at.KANJI:jn.decodeKanjiSegment(y,b,ye);break;default:throw new j}break}}while(Q!==at.TERMINATOR)}catch{throw new j}return new De(o,b.toString(),E.length===0?null:E,f===null?null:f.toString(),C,D)}static decodeHanziSegment(o,c,f){if(f*13>o.available())throw new j;const p=new Uint8Array(2*f);let y=0;for(;f>0;){const b=o.readBits(13);let E=b/96<<8&4294967295|b%96;E<959?E+=41377:E+=42657,p[y]=E>>8&255,p[y+1]=E&255,y+=2,f--}try{c.append(z.decode(p,K.GB2312))}catch(b){throw new j(b)}}static decodeKanjiSegment(o,c,f){if(f*13>o.available())throw new j;const p=new Uint8Array(2*f);let y=0;for(;f>0;){const b=o.readBits(13);let E=b/192<<8&4294967295|b%192;E<7936?E+=33088:E+=49472,p[y]=E>>8,p[y+1]=E,y+=2,f--}try{c.append(z.decode(p,K.SHIFT_JIS))}catch(b){throw new j(b)}}static decodeByteSegment(o,c,f,p,y,b){if(8*f>o.available())throw new j;const E=new Uint8Array(f);for(let D=0;D<f;D++)E[D]=o.readBits(8);let C;p===null?C=K.guessEncoding(E,b):C=p.getName();try{c.append(z.decode(E,C))}catch(D){throw new j(D)}y.push(E)}static toAlphaNumericChar(o){if(o>=jn.ALPHANUMERIC_CHARS.length)throw new j;return jn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,c,f,p){const y=c.length();for(;f>1;){if(o.available()<11)throw new j;const b=o.readBits(11);c.append(jn.toAlphaNumericChar(Math.floor(b/45))),c.append(jn.toAlphaNumericChar(b%45)),f-=2}if(f===1){if(o.available()<6)throw new j;c.append(jn.toAlphaNumericChar(o.readBits(6)))}if(p)for(let b=y;b<c.length();b++)c.charAt(b)==="%"&&(b<c.length()-1&&c.charAt(b+1)==="%"?c.deleteCharAt(b+1):c.setCharAt(b,""))}static decodeNumericSegment(o,c,f){for(;f>=3;){if(o.available()<10)throw new j;const p=o.readBits(10);if(p>=1e3)throw new j;c.append(jn.toAlphaNumericChar(Math.floor(p/100))),c.append(jn.toAlphaNumericChar(Math.floor(p/10)%10)),c.append(jn.toAlphaNumericChar(p%10)),f-=3}if(f===2){if(o.available()<7)throw new j;const p=o.readBits(7);if(p>=100)throw new j;c.append(jn.toAlphaNumericChar(Math.floor(p/10))),c.append(jn.toAlphaNumericChar(p%10))}else if(f===1){if(o.available()<4)throw new j;const p=o.readBits(4);if(p>=10)throw new j;c.append(jn.toAlphaNumericChar(p))}}static parseECIValue(o){const c=o.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const f=o.readBits(8);return(c&63)<<8&4294967295|f}if((c&224)===192){const f=o.readBits(16);return(c&31)<<16&4294967295|f}throw new j}}jn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",jn.GB2312_SUBSET=1;class Cu{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const c=o[0];o[0]=o[2],o[2]=c}}class Al{constructor(){this.rsDecoder=new Xn(st.QR_CODE_FIELD_256)}decodeBooleanArray(o,c){return this.decodeBitMatrix(ue.parseFromBooleanArray(o),c)}decodeBitMatrix(o,c){const f=new Co(o);let p=null;try{return this.decodeBitMatrixParser(f,c)}catch(y){p=y}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const y=this.decodeBitMatrixParser(f,c);return y.setOther(new Cu(!0)),y}catch(y){throw p!==null?p:y}}decodeBitMatrixParser(o,c){const f=o.readVersion(),p=o.readFormatInformation().getErrorCorrectionLevel(),y=o.readCodewords(),b=El.getDataBlocks(y,f,p);let E=0;for(const k of b)E+=k.getNumDataCodewords();const C=new Uint8Array(E);let D=0;for(const k of b){const Y=k.getCodewords(),Q=k.getNumDataCodewords();this.correctErrors(Y,Q);for(let ie=0;ie<Q;ie++)C[D++]=Y[ie]}return jn.decode(C,f,p,c)}correctErrors(o,c){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-c)}catch{throw new T}for(let p=0;p<c;p++)o[p]=f[p]}}class Ca extends $e{constructor(o,c,f){super(o,c),this.estimatedModuleSize=f}aboutEquals(o,c,f){if(Math.abs(c-this.getY())<=o&&Math.abs(f-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,c,f){const p=(this.getX()+c)/2,y=(this.getY()+o)/2,b=(this.estimatedModuleSize+f)/2;return new Ca(p,y,b)}}class wi{constructor(o,c,f,p,y,b,E){this.image=o,this.startX=c,this.startY=f,this.width=p,this.height=y,this.moduleSize=b,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,c=this.height,f=this.width,p=o+f,y=this.startY+c/2,b=new Int32Array(3),E=this.image;for(let C=0;C<c;C++){const D=y+((C&1)===0?Math.floor((C+1)/2):-Math.floor((C+1)/2));b[0]=0,b[1]=0,b[2]=0;let k=o;for(;k<p&&!E.get(k,D);)k++;let Y=0;for(;k<p;){if(E.get(k,D))if(Y===1)b[1]++;else if(Y===2){if(this.foundPatternCross(b)){const Q=this.handlePossibleCenter(b,D,k);if(Q!==null)return Q}b[0]=b[2],b[1]=1,b[2]=0,Y=1}else b[++Y]++;else Y===1&&Y++,b[Y]++;k++}if(this.foundPatternCross(b)){const Q=this.handlePossibleCenter(b,D,p);if(Q!==null)return Q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(o,c){return c-o[2]-o[1]/2}foundPatternCross(o){const c=this.moduleSize,f=c/2;for(let p=0;p<3;p++)if(Math.abs(c-o[p])>=f)return!1;return!0}crossCheckVertical(o,c,f,p){const y=this.image,b=y.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let C=o;for(;C>=0&&y.get(c,C)&&E[1]<=f;)E[1]++,C--;if(C<0||E[1]>f)return NaN;for(;C>=0&&!y.get(c,C)&&E[0]<=f;)E[0]++,C--;if(E[0]>f)return NaN;for(C=o+1;C<b&&y.get(c,C)&&E[1]<=f;)E[1]++,C++;if(C===b||E[1]>f)return NaN;for(;C<b&&!y.get(c,C)&&E[2]<=f;)E[2]++,C++;if(E[2]>f)return NaN;const D=E[0]+E[1]+E[2];return 5*Math.abs(D-p)>=2*p?NaN:this.foundPatternCross(E)?wi.centerFromEnd(E,C):NaN}handlePossibleCenter(o,c,f){const p=o[0]+o[1]+o[2],y=wi.centerFromEnd(o,f),b=this.crossCheckVertical(c,y,2*o[1],p);if(!isNaN(b)){const E=(o[0]+o[1]+o[2])/3;for(const D of this.possibleCenters)if(D.aboutEquals(E,b,y))return D.combineEstimate(b,y,E);const C=new Ca(y,b,E);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Ta extends $e{constructor(o,c,f,p){super(o,c),this.estimatedModuleSize=f,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,c,f){if(Math.abs(c-this.getY())<=o&&Math.abs(f-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,c,f){const p=this.count+1,y=(this.count*this.getX()+c)/p,b=(this.count*this.getY()+o)/p,E=(this.count*this.estimatedModuleSize+f)/p;return new Ta(y,b,E,p)}}class Ms{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class sr{constructor(o,c){this.image=o,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const c=o!=null&&o.get(ee.TRY_HARDER)!==void 0,f=o!=null&&o.get(ee.PURE_BARCODE)!==void 0,p=this.image,y=p.getHeight(),b=p.getWidth();let E=Math.floor(3*y/(4*sr.MAX_MODULES));(E<sr.MIN_SKIP||c)&&(E=sr.MIN_SKIP);let C=!1;const D=new Int32Array(5);for(let Y=E-1;Y<y&&!C;Y+=E){D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0;let Q=0;for(let ie=0;ie<b;ie++)if(p.get(ie,Y))(Q&1)===1&&Q++,D[Q]++;else if((Q&1)===0)if(Q===4)if(sr.foundPatternCross(D)){if(this.handlePossibleCenter(D,Y,ie,f)===!0)if(E=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const he=this.findRowSkip();he>D[2]&&(Y+=he-D[2]-E,ie=b-1)}else{D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,Q=3;continue}Q=0,D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0}else D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,Q=3;else D[++Q]++;else D[Q]++;sr.foundPatternCross(D)&&this.handlePossibleCenter(D,Y,b,f)===!0&&(E=D[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const k=this.selectBestPatterns();return $e.orderBestPatterns(k),new Ms(k)}static centerFromEnd(o,c){return c-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let c=0;for(let y=0;y<5;y++){const b=o[y];if(b===0)return!1;c+=b}if(c<7)return!1;const f=c/7,p=f/2;return Math.abs(f-o[0])<p&&Math.abs(f-o[1])<p&&Math.abs(3*f-o[2])<3*p&&Math.abs(f-o[3])<p&&Math.abs(f-o[4])<p}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,c,f,p){const y=this.getCrossCheckStateCount();let b=0;const E=this.image;for(;o>=b&&c>=b&&E.get(c-b,o-b);)y[2]++,b++;if(o<b||c<b)return!1;for(;o>=b&&c>=b&&!E.get(c-b,o-b)&&y[1]<=f;)y[1]++,b++;if(o<b||c<b||y[1]>f)return!1;for(;o>=b&&c>=b&&E.get(c-b,o-b)&&y[0]<=f;)y[0]++,b++;if(y[0]>f)return!1;const C=E.getHeight(),D=E.getWidth();for(b=1;o+b<C&&c+b<D&&E.get(c+b,o+b);)y[2]++,b++;if(o+b>=C||c+b>=D)return!1;for(;o+b<C&&c+b<D&&!E.get(c+b,o+b)&&y[3]<f;)y[3]++,b++;if(o+b>=C||c+b>=D||y[3]>=f)return!1;for(;o+b<C&&c+b<D&&E.get(c+b,o+b)&&y[4]<f;)y[4]++,b++;if(y[4]>=f)return!1;const k=y[0]+y[1]+y[2]+y[3]+y[4];return Math.abs(k-p)<2*p&&sr.foundPatternCross(y)}crossCheckVertical(o,c,f,p){const y=this.image,b=y.getHeight(),E=this.getCrossCheckStateCount();let C=o;for(;C>=0&&y.get(c,C);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!y.get(c,C)&&E[1]<=f;)E[1]++,C--;if(C<0||E[1]>f)return NaN;for(;C>=0&&y.get(c,C)&&E[0]<=f;)E[0]++,C--;if(E[0]>f)return NaN;for(C=o+1;C<b&&y.get(c,C);)E[2]++,C++;if(C===b)return NaN;for(;C<b&&!y.get(c,C)&&E[3]<f;)E[3]++,C++;if(C===b||E[3]>=f)return NaN;for(;C<b&&y.get(c,C)&&E[4]<f;)E[4]++,C++;if(E[4]>=f)return NaN;const D=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(D-p)>=2*p?NaN:sr.foundPatternCross(E)?sr.centerFromEnd(E,C):NaN}crossCheckHorizontal(o,c,f,p){const y=this.image,b=y.getWidth(),E=this.getCrossCheckStateCount();let C=o;for(;C>=0&&y.get(C,c);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!y.get(C,c)&&E[1]<=f;)E[1]++,C--;if(C<0||E[1]>f)return NaN;for(;C>=0&&y.get(C,c)&&E[0]<=f;)E[0]++,C--;if(E[0]>f)return NaN;for(C=o+1;C<b&&y.get(C,c);)E[2]++,C++;if(C===b)return NaN;for(;C<b&&!y.get(C,c)&&E[3]<f;)E[3]++,C++;if(C===b||E[3]>=f)return NaN;for(;C<b&&y.get(C,c)&&E[4]<f;)E[4]++,C++;if(E[4]>=f)return NaN;const D=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(D-p)>=p?NaN:sr.foundPatternCross(E)?sr.centerFromEnd(E,C):NaN}handlePossibleCenter(o,c,f,p){const y=o[0]+o[1]+o[2]+o[3]+o[4];let b=sr.centerFromEnd(o,f),E=this.crossCheckVertical(c,Math.floor(b),o[2],y);if(!isNaN(E)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(E),o[2],y),!isNaN(b)&&(!p||this.crossCheckDiagonal(Math.floor(E),Math.floor(b),o[2],y)))){const C=y/7;let D=!1;const k=this.possibleCenters;for(let Y=0,Q=k.length;Y<Q;Y++){const ie=k[Y];if(ie.aboutEquals(C,E,b)){k[Y]=ie.combineEstimate(E,b,C),D=!0;break}}if(!D){const Y=new Ta(b,E,C);k.push(Y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const f of this.possibleCenters)if(f.getCount()>=sr.CENTER_QUORUM)if(c==null)c=f;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-f.getX())-Math.abs(c.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,c=0;const f=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=sr.CENTER_QUORUM&&(o++,c+=b.getEstimatedModuleSize());if(o<3)return!1;const p=c/f;let y=0;for(const b of this.possibleCenters)y+=Math.abs(b.getEstimatedModuleSize()-p);return y<=.05*c}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new se;const c=this.possibleCenters;let f;if(o>3){let p=0,y=0;for(const C of this.possibleCenters){const D=C.getEstimatedModuleSize();p+=D,y+=D*D}f=p/o;let b=Math.sqrt(y/o-f*f);c.sort((C,D)=>{const k=Math.abs(D.getEstimatedModuleSize()-f),Y=Math.abs(C.getEstimatedModuleSize()-f);return k<Y?-1:k>Y?1:0});const E=Math.max(.2*f,b);for(let C=0;C<c.length&&c.length>3;C++){const D=c[C];Math.abs(D.getEstimatedModuleSize()-f)>E&&(c.splice(C,1),C--)}}if(c.length>3){let p=0;for(const y of c)p+=y.getEstimatedModuleSize();f=p/c.length,c.sort((y,b)=>{if(b.getCount()===y.getCount()){const E=Math.abs(b.getEstimatedModuleSize()-f),C=Math.abs(y.getEstimatedModuleSize()-f);return E<C?1:E>C?-1:0}else return b.getCount()-y.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}sr.CENTER_QUORUM=2,sr.MIN_SKIP=3,sr.MAX_MODULES=57;class Bi{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(ee.NEED_RESULT_POINT_CALLBACK);const f=new sr(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(f)}processFinderPatternInfo(o){const c=o.getTopLeft(),f=o.getTopRight(),p=o.getBottomLeft(),y=this.calculateModuleSize(c,f,p);if(y<1)throw new se("No pattern found in proccess finder.");const b=Bi.computeDimension(c,f,p,y),E=We.getProvisionalVersionForDimension(b),C=E.getDimensionForVersion()-7;let D=null;if(E.getAlignmentPatternCenters().length>0){const ie=f.getX()-c.getX()+p.getX(),fe=f.getY()-c.getY()+p.getY(),he=1-3/C,ye=Math.floor(c.getX()+he*(ie-c.getX())),Ae=Math.floor(c.getY()+he*(fe-c.getY()));for(let ze=4;ze<=16;ze<<=1)try{D=this.findAlignmentInRegion(y,ye,Ae,ze);break}catch(He){if(!(He instanceof se))throw He}}const k=Bi.createTransform(c,f,p,D,b),Y=Bi.sampleGrid(this.image,k,b);let Q;return D===null?Q=[p,c,f]:Q=[p,c,f,D],new Ys(Y,Q)}static createTransform(o,c,f,p,y){const b=y-3.5;let E,C,D,k;return p!==null?(E=p.getX(),C=p.getY(),D=b-3,k=D):(E=c.getX()-o.getX()+f.getX(),C=c.getY()-o.getY()+f.getY(),D=b,k=b),Yt.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,D,k,3.5,b,o.getX(),o.getY(),c.getX(),c.getY(),E,C,f.getX(),f.getY())}static sampleGrid(o,c,f){return rr.getInstance().sampleGridWithTransform(o,f,f,c)}static computeDimension(o,c,f,p){const y=It.round($e.distance(o,c)/p),b=It.round($e.distance(o,f)/p);let E=Math.floor((y+b)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new se("Dimensions could be not found.")}return E}calculateModuleSize(o,c,f){return(this.calculateModuleSizeOneWay(o,c)+this.calculateModuleSizeOneWay(o,f))/2}calculateModuleSizeOneWay(o,c){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(c.getX()),Math.floor(c.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(f)?p/7:isNaN(p)?f/7:(f+p)/14}sizeOfBlackWhiteBlackRunBothWays(o,c,f,p){let y=this.sizeOfBlackWhiteBlackRun(o,c,f,p),b=1,E=o-(f-o);E<0?(b=o/(o-E),E=0):E>=this.image.getWidth()&&(b=(this.image.getWidth()-1-o)/(E-o),E=this.image.getWidth()-1);let C=Math.floor(c-(p-c)*b);return b=1,C<0?(b=c/(c-C),C=0):C>=this.image.getHeight()&&(b=(this.image.getHeight()-1-c)/(C-c),C=this.image.getHeight()-1),E=Math.floor(o+(E-o)*b),y+=this.sizeOfBlackWhiteBlackRun(o,c,E,C),y-1}sizeOfBlackWhiteBlackRun(o,c,f,p){const y=Math.abs(p-c)>Math.abs(f-o);if(y){let ie=o;o=c,c=ie,ie=f,f=p,p=ie}const b=Math.abs(f-o),E=Math.abs(p-c);let C=-b/2;const D=o<f?1:-1,k=c<p?1:-1;let Y=0;const Q=f+D;for(let ie=o,fe=c;ie!==Q;ie+=D){const he=y?fe:ie,ye=y?ie:fe;if(Y===1===this.image.get(he,ye)){if(Y===2)return It.distance(ie,fe,o,c);Y++}if(C+=E,C>0){if(fe===p)break;fe+=k,C-=b}}return Y===2?It.distance(f+D,p,o,c):NaN}findAlignmentInRegion(o,c,f,p){const y=Math.floor(p*o),b=Math.max(0,c-y),E=Math.min(this.image.getWidth()-1,c+y);if(E-b<o*3)throw new se("Alignment top exceeds estimated module size.");const C=Math.max(0,f-y),D=Math.min(this.image.getHeight()-1,f+y);if(D-C<o*3)throw new se("Alignment bottom exceeds estimated module size.");return new wi(this.image,b,C,E-b,D-C,o,this.resultPointCallback).find()}}class Ia{constructor(){this.decoder=new Al}getDecoder(){return this.decoder}decode(o,c){let f,p;if(c!=null&&c.get(ee.PURE_BARCODE)!==void 0){const C=Ia.extractPureBits(o.getBlackMatrix());f=this.decoder.decodeBitMatrix(C,c),p=Ia.NO_POINTS}else{const C=new Bi(o.getBlackMatrix()).detect(c);f=this.decoder.decodeBitMatrix(C.getBits(),c),p=C.getPoints()}f.getOther()instanceof Cu&&f.getOther().applyMirroredCorrection(p);const y=new Ye(f.getText(),f.getRawBytes(),void 0,p,Ue.QR_CODE,void 0),b=f.getByteSegments();b!==null&&y.putMetadata(vt.BYTE_SEGMENTS,b);const E=f.getECLevel();return E!==null&&y.putMetadata(vt.ERROR_CORRECTION_LEVEL,E),f.hasStructuredAppend()&&(y.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),y.putMetadata(vt.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),y}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(c===null||f===null)throw new se;const p=this.moduleSize(c,o);let y=c[1],b=f[1],E=c[0],C=f[0];if(E>=C||y>=b)throw new se;if(b-y!==C-E&&(C=E+(b-y),C>=o.getWidth()))throw new se;const D=Math.round((C-E+1)/p),k=Math.round((b-y+1)/p);if(D<=0||k<=0)throw new se;if(k!==D)throw new se;const Y=Math.floor(p/2);y+=Y,E+=Y;const Q=E+Math.floor((D-1)*p)-C;if(Q>0){if(Q>Y)throw new se;E-=Q}const ie=y+Math.floor((k-1)*p)-b;if(ie>0){if(ie>Y)throw new se;y-=ie}const fe=new ue(D,k);for(let he=0;he<k;he++){const ye=y+Math.floor(he*p);for(let Ae=0;Ae<D;Ae++)o.get(E+Math.floor(Ae*p),ye)&&fe.set(Ae,he)}return fe}static moduleSize(o,c){const f=c.getHeight(),p=c.getWidth();let y=o[0],b=o[1],E=!0,C=0;for(;y<p&&b<f;){if(E!==c.get(y,b)){if(++C===5)break;E=!E}y++,b++}if(y===p||b===f)throw new se;return(y-o[0])/7}}Ia.NO_POINTS=new Array;class lt{PDF417Common(){}static getBitCountSum(o){return It.sum(o)}static toIntArray(o){if(o==null||!o.length)return lt.EMPTY_INT_ARRAY;const c=new Int32Array(o.length);let f=0;for(const p of o)c[f++]=p;return c}static getCodeword(o){const c=$.binarySearch(lt.SYMBOL_TABLE,o&262143);return c<0?-1:(lt.CODEWORD_TABLE[c]-1)%lt.NUMBER_OF_CODEWORDS}}lt.NUMBER_OF_CODEWORDS=929,lt.MAX_CODEWORDS_IN_BARCODE=lt.NUMBER_OF_CODEWORDS-1,lt.MIN_ROWS_IN_BARCODE=3,lt.MAX_ROWS_IN_BARCODE=90,lt.MODULES_IN_CODEWORD=17,lt.MODULES_IN_STOP_PATTERN=18,lt.BARS_IN_MODULE=8,lt.EMPTY_INT_ARRAY=new Int32Array([]),lt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),lt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Oa{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class mt{static detectMultiple(o,c,f){let p=o.getBlackMatrix(),y=mt.detect(f,p);return y.length||(p=p.clone(),p.rotate180(),y=mt.detect(f,p)),new Oa(p,y)}static detect(o,c){const f=new Array;let p=0,y=0,b=!1;for(;p<c.getHeight();){const E=mt.findVertices(c,p,y);if(E[0]==null&&E[3]==null){if(!b)break;b=!1,y=0;for(const C of f)C[1]!=null&&(p=Math.trunc(Math.max(p,C[1].getY()))),C[3]!=null&&(p=Math.max(p,Math.trunc(C[3].getY())));p+=mt.ROW_STEP;continue}if(b=!0,f.push(E),!o)break;E[2]!=null?(y=Math.trunc(E[2].getX()),p=Math.trunc(E[2].getY())):(y=Math.trunc(E[4].getX()),p=Math.trunc(E[4].getY()))}return f}static findVertices(o,c,f){const p=o.getHeight(),y=o.getWidth(),b=new Array(8);return mt.copyToResult(b,mt.findRowsWithPattern(o,p,y,c,f,mt.START_PATTERN),mt.INDEXES_START_PATTERN),b[4]!=null&&(f=Math.trunc(b[4].getX()),c=Math.trunc(b[4].getY())),mt.copyToResult(b,mt.findRowsWithPattern(o,p,y,c,f,mt.STOP_PATTERN),mt.INDEXES_STOP_PATTERN),b}static copyToResult(o,c,f){for(let p=0;p<f.length;p++)o[f[p]]=c[p]}static findRowsWithPattern(o,c,f,p,y,b){const E=new Array(4);let C=!1;const D=new Int32Array(b.length);for(;p<c;p+=mt.ROW_STEP){let Y=mt.findGuardPattern(o,y,p,f,!1,b,D);if(Y!=null){for(;p>0;){const Q=mt.findGuardPattern(o,y,--p,f,!1,b,D);if(Q!=null)Y=Q;else{p++;break}}E[0]=new $e(Y[0],p),E[1]=new $e(Y[1],p),C=!0;break}}let k=p+1;if(C){let Y=0,Q=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;k<c;k++){const ie=mt.findGuardPattern(o,Q[0],k,f,!1,b,D);if(ie!=null&&Math.abs(Q[0]-ie[0])<mt.MAX_PATTERN_DRIFT&&Math.abs(Q[1]-ie[1])<mt.MAX_PATTERN_DRIFT)Q=ie,Y=0;else{if(Y>mt.SKIPPED_ROW_COUNT_MAX)break;Y++}}k-=Y+1,E[2]=new $e(Q[0],k),E[3]=new $e(Q[1],k)}return k-p<mt.BARCODE_MIN_HEIGHT&&$.fill(E,null),E}static findGuardPattern(o,c,f,p,y,b,E){$.fillWithin(E,0,E.length,0);let C=c,D=0;for(;o.get(C,f)&&C>0&&D++<mt.MAX_PIXEL_DRIFT;)C--;let k=C,Y=0,Q=b.length;for(let ie=y;k<p;k++)if(o.get(k,f)!==ie)E[Y]++;else{if(Y===Q-1){if(mt.patternMatchVariance(E,b,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return new Int32Array([C,k]);C+=E[0]+E[1],M.arraycopy(E,2,E,0,Y-1),E[Y-1]=0,E[Y]=0,Y--}else Y++;E[Y]=1,ie=!ie}return Y===Q-1&&mt.patternMatchVariance(E,b,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE?new Int32Array([C,k-1]):null}static patternMatchVariance(o,c,f){let p=o.length,y=0,b=0;for(let D=0;D<p;D++)y+=o[D],b+=c[D];if(y<b)return 1/0;let E=y/b;f*=E;let C=0;for(let D=0;D<p;D++){let k=o[D],Y=c[D]*E,Q=k>Y?k-Y:Y-k;if(Q>f)return 1/0;C+=Q}return C/y}}mt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),mt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),mt.MAX_AVG_VARIANCE=.42,mt.MAX_INDIVIDUAL_VARIANCE=.8,mt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),mt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),mt.MAX_PIXEL_DRIFT=3,mt.MAX_PATTERN_DRIFT=5,mt.SKIPPED_ROW_COUNT_MAX=25,mt.ROW_STEP=5,mt.BARCODE_MIN_HEIGHT=10;class Jn{constructor(o,c){if(c.length===0)throw new w;this.field=o;let f=c.length;if(f>1&&c[0]===0){let p=1;for(;p<f&&c[p]===0;)p++;p===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-p),M.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let p=0;for(let y of this.coefficients)p=this.field.add(p,y);return p}let c=this.coefficients[0],f=this.coefficients.length;for(let p=1;p<f;p++)c=this.field.add(this.field.multiply(o,c),this.coefficients[p]);return c}add(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,f=o.coefficients;if(c.length>f.length){let b=c;c=f,f=b}let p=new Int32Array(f.length),y=f.length-c.length;M.arraycopy(f,0,p,0,y);for(let b=y;b<f.length;b++)p[b]=this.field.add(c[b-y],f[b]);return new Jn(this.field,p)}subtract(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Jn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Jn(this.field,new Int32Array([0]));let c=this.coefficients,f=c.length,p=o.coefficients,y=p.length,b=new Int32Array(f+y-1);for(let E=0;E<f;E++){let C=c[E];for(let D=0;D<y;D++)b[E+D]=this.field.add(b[E+D],this.field.multiply(C,p[D]))}return new Jn(this.field,b)}negative(){let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.subtract(0,this.coefficients[f]);return new Jn(this.field,c)}multiplyScalar(o){if(o===0)return new Jn(this.field,new Int32Array([0]));if(o===1)return this;let c=this.coefficients.length,f=new Int32Array(c);for(let p=0;p<c;p++)f[p]=this.field.multiply(this.coefficients[p],o);return new Jn(this.field,f)}multiplyByMonomial(o,c){if(o<0)throw new w;if(c===0)return new Jn(this.field,new Int32Array([0]));let f=this.coefficients.length,p=new Int32Array(f+o);for(let y=0;y<f;y++)p[y]=this.field.multiply(this.coefficients[y],c);return new Jn(this.field,p)}toString(){let o=new U;for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);f!==0&&(f<0?(o.append(" - "),f=-f):o.length()>0&&o.append(" + "),(c===0||f!==1)&&o.append(f),c!==0&&(c===1?o.append("x"):(o.append("x^"),o.append(c))))}return o.toString()}}class ss{add(o,c){return(o+c)%this.modulus}subtract(o,c){return(this.modulus+o-c)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}inverse(o){if(o===0)throw new Be;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class os extends ss{constructor(o,c){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let f=1;for(let p=0;p<o;p++)this.expTable[p]=f,f=f*c%o;for(let p=0;p<o-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new Jn(this,new Int32Array([0])),this.one=new Jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new w;if(c===0)return this.zero;let f=new Int32Array(o+1);return f[0]=c,new Jn(this,f)}}os.PDF417_GF=new os(lt.NUMBER_OF_CODEWORDS,3);class ls{constructor(){this.field=os.PDF417_GF}decode(o,c,f){let p=new Jn(this.field,o),y=new Int32Array(c),b=!1;for(let fe=c;fe>0;fe--){let he=p.evaluateAt(this.field.exp(fe));y[c-fe]=he,he!==0&&(b=!0)}if(!b)return 0;let E=this.field.getOne();if(f!=null)for(const fe of f){let he=this.field.exp(o.length-1-fe),ye=new Jn(this.field,new Int32Array([this.field.subtract(0,he),1]));E=E.multiply(ye)}let C=new Jn(this.field,y),D=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),C,c),k=D[0],Y=D[1],Q=this.findErrorLocations(k),ie=this.findErrorMagnitudes(Y,k,Q);for(let fe=0;fe<Q.length;fe++){let he=o.length-1-this.field.log(Q[fe]);if(he<0)throw T.getChecksumInstance();o[he]=this.field.subtract(o[he],ie[fe])}return Q.length}runEuclideanAlgorithm(o,c,f){if(o.getDegree()<c.getDegree()){let Q=o;o=c,c=Q}let p=o,y=c,b=this.field.getZero(),E=this.field.getOne();for(;y.getDegree()>=Math.round(f/2);){let Q=p,ie=b;if(p=y,b=E,p.isZero())throw T.getChecksumInstance();y=Q;let fe=this.field.getZero(),he=p.getCoefficient(p.getDegree()),ye=this.field.inverse(he);for(;y.getDegree()>=p.getDegree()&&!y.isZero();){let Ae=y.getDegree()-p.getDegree(),ze=this.field.multiply(y.getCoefficient(y.getDegree()),ye);fe=fe.add(this.field.buildMonomial(Ae,ze)),y=y.subtract(p.multiplyByMonomial(Ae,ze))}E=fe.multiply(b).subtract(ie).negative()}let C=E.getCoefficient(0);if(C===0)throw T.getChecksumInstance();let D=this.field.inverse(C),k=E.multiply(D),Y=y.multiply(D);return[k,Y]}findErrorLocations(o){let c=o.getDegree(),f=new Int32Array(c),p=0;for(let y=1;y<this.field.getSize()&&p<c;y++)o.evaluateAt(y)===0&&(f[p]=this.field.inverse(y),p++);if(p!==c)throw T.getChecksumInstance();return f}findErrorMagnitudes(o,c,f){let p=c.getDegree(),y=new Int32Array(p);for(let D=1;D<=p;D++)y[p-D]=this.field.multiply(D,c.getCoefficient(D));let b=new Jn(this.field,y),E=f.length,C=new Int32Array(E);for(let D=0;D<E;D++){let k=this.field.inverse(f[D]),Y=this.field.subtract(0,o.evaluateAt(k)),Q=this.field.inverse(b.evaluateAt(k));C[D]=this.field.multiply(Y,Q)}return C}}class Ra{constructor(o,c,f,p,y){o instanceof Ra?this.constructor_2(o):this.constructor_1(o,c,f,p,y)}constructor_1(o,c,f,p,y){const b=c==null||f==null,E=p==null||y==null;if(b&&E)throw new se;b?(c=new $e(0,p.getY()),f=new $e(0,y.getY())):E&&(p=new $e(o.getWidth()-1,c.getY()),y=new $e(o.getWidth()-1,f.getY())),this.image=o,this.topLeft=c,this.bottomLeft=f,this.topRight=p,this.bottomRight=y,this.minX=Math.trunc(Math.min(c.getX(),f.getX())),this.maxX=Math.trunc(Math.max(p.getX(),y.getX())),this.minY=Math.trunc(Math.min(c.getY(),p.getY())),this.maxY=Math.trunc(Math.max(f.getY(),y.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,c){return o==null?c:c==null?o:new Ra(o.image,o.topLeft,o.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(o,c,f){let p=this.topLeft,y=this.bottomLeft,b=this.topRight,E=this.bottomRight;if(o>0){let C=f?this.topLeft:this.topRight,D=Math.trunc(C.getY()-o);D<0&&(D=0);let k=new $e(C.getX(),D);f?p=k:b=k}if(c>0){let C=f?this.bottomLeft:this.bottomRight,D=Math.trunc(C.getY()+c);D>=this.image.getHeight()&&(D=this.image.getHeight()-1);let k=new $e(C.getX(),D);f?y=k:E=k}return new Ra(this.image,p,y,b,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class cs{constructor(o,c,f,p){this.columnCount=o,this.errorCorrectionLevel=p,this.rowCountUpperPart=c,this.rowCountLowerPart=f,this.rowCount=c+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ui{constructor(){this.buffer=""}static form(o,c){let f=-1;function p(b,E,C,D,k,Y){if(b==="%%")return"%";if(c[++f]===void 0)return;b=D?parseInt(D.substr(1)):void 0;let Q=k?parseInt(k.substr(1)):void 0,ie;switch(Y){case"s":ie=c[f];break;case"c":ie=c[f][0];break;case"f":ie=parseFloat(c[f]).toFixed(b);break;case"p":ie=parseFloat(c[f]).toPrecision(b);break;case"e":ie=parseFloat(c[f]).toExponential(b);break;case"x":ie=parseInt(c[f]).toString(Q||16);break;case"d":ie=parseFloat(parseInt(c[f],Q||10).toPrecision(b)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Q);let fe=parseInt(C),he=C&&C[0]+""=="0"?"0":" ";for(;ie.length<fe;)ie=E!==void 0?ie+he:he+ie;return ie}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,p)}format(o,...c){this.buffer+=Ui.form(o,c)}toString(){return this.buffer}}class Ps{constructor(o){this.boundingBox=new Ra(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let c=this.getCodeword(o);if(c!=null)return c;for(let f=1;f<Ps.MAX_NEARBY_DISTANCE;f++){let p=this.imageRowToCodewordIndex(o)-f;if(p>=0&&(c=this.codewords[p],c!=null)||(p=this.imageRowToCodewordIndex(o)+f,p<this.codewords.length&&(c=this.codewords[p],c!=null)))return c}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,c){this.codewords[this.imageRowToCodewordIndex(o)]=c}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Ui;let c=0;for(const f of this.codewords){if(f==null){o.format("%3d:    |   %n",c++);continue}o.format("%3d: %3d|%3d%n",c++,f.getRowNumber(),f.getValue())}return o.toString()}}Ps.MAX_NEARBY_DISTANCE=5;class or{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let c=this.values.get(o);c==null&&(c=0),c++,this.values.set(o,c)}getValue(){let o=-1,c=new Array;for(const[f,p]of this.values.entries()){const y={getKey:()=>f,getValue:()=>p};y.getValue()>o?(o=y.getValue(),c=[],c.push(y.getKey())):y.getValue()===o&&c.push(y.getKey())}return lt.toIntArray(c)}getConfidence(o){return this.values.get(o)}}class cn extends Ps{constructor(o,c){super(o),this._isLeft=c}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,o);let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),y=this._isLeft?f.getBottomLeft():f.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.imageRowToCodewordIndex(Math.trunc(y.getY())),C=-1,D=1,k=0;for(let Y=b;Y<E;Y++){if(c[Y]==null)continue;let Q=c[Y],ie=Q.getRowNumber()-C;if(ie===0)k++;else if(ie===1)D=Math.max(D,k),k=1,C=Q.getRowNumber();else if(ie<0||Q.getRowNumber()>=o.getRowCount()||ie>Y)c[Y]=null;else{let fe;D>2?fe=(D-2)*ie:fe=ie;let he=fe>=Y;for(let ye=1;ye<=fe&&!he;ye++)he=c[Y-ye]!=null;he?c[Y]=null:(C=Q.getRowNumber(),k=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let c=new Int32Array(o.getRowCount());for(let f of this.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=c.length)continue;c[p]++}return c}adjustIncompleteIndicatorColumnRowNumbers(o){let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(f.getY())),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.getCodewords(),C=-1;for(let D=y;D<b;D++){if(E[D]==null)continue;let k=E[D];k.setRowNumberAsRowIndicatorColumn();let Y=k.getRowNumber()-C;Y===0||(Y===1?C=k.getRowNumber():k.getRowNumber()>=o.getRowCount()?E[D]=null:C=k.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),c=new or,f=new or,p=new or,y=new or;for(let E of o){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let C=E.getValue()%30,D=E.getRowNumber();switch(this._isLeft||(D+=2),D%3){case 0:f.setValue(C*3+1);break;case 1:y.setValue(C/3),p.setValue(C%3);break;case 2:c.setValue(C+1);break}}if(c.getValue().length===0||f.getValue().length===0||p.getValue().length===0||y.getValue().length===0||c.getValue()[0]<1||f.getValue()[0]+p.getValue()[0]<lt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+p.getValue()[0]>lt.MAX_ROWS_IN_BARCODE)return null;let b=new cs(c.getValue()[0],f.getValue()[0],p.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(o,b),b}removeIncorrectCodewords(o,c){for(let f=0;f<o.length;f++){let p=o[f];if(o[f]==null)continue;let y=p.getValue()%30,b=p.getRowNumber();if(b>c.getRowCount()){o[f]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:y*3+1!==c.getRowCountUpperPart()&&(o[f]=null);break;case 1:(Math.trunc(y/3)!==c.getErrorCorrectionLevel()||y%3!==c.getRowCountLowerPart())&&(o[f]=null);break;case 2:y+1!==c.getColumnCount()&&(o[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class us{constructor(o,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=lt.MAX_CODEWORDS_IN_BARCODE,c;do c=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let f=this.detectionResultColumns[c].getCodewords();for(let p=0;p<f.length;p++)f[p]!=null&&(f[p].hasValidRowNumber()||this.adjustRowNumbers(c,p,f))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++)if(o[f]!=null&&c[f]!=null&&o[f].getRowNumber()===c[f].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let y=this.detectionResultColumns[p].getCodewords()[f];y!=null&&(y.setRowNumber(o[f].getRowNumber()),y.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let p=c[f].getRowNumber(),y=0;for(let b=this.barcodeColumnCount+1;b>0&&y<this.ADJUST_ROW_NUMBER_SKIP;b--){let E=this.detectionResultColumns[b].getCodewords()[f];E!=null&&(y=us.adjustRowNumberIfValid(p,y,E),E.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,c=this.detectionResultColumns[0].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let p=c[f].getRowNumber(),y=0;for(let b=1;b<this.barcodeColumnCount+1&&y<this.ADJUST_ROW_NUMBER_SKIP;b++){let E=this.detectionResultColumns[b].getCodewords()[f];E!=null&&(y=us.adjustRowNumberIfValid(p,y,E),E.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,c,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(o)?(f.setRowNumber(o),c=0):++c),c}adjustRowNumbers(o,c,f){if(!this.detectionResultColumns[o-1])return;let p=f[c],y=this.detectionResultColumns[o-1].getCodewords(),b=y;this.detectionResultColumns[o+1]!=null&&(b=this.detectionResultColumns[o+1].getCodewords());let E=new Array(14);E[2]=y[c],E[3]=b[c],c>0&&(E[0]=f[c-1],E[4]=y[c-1],E[5]=b[c-1]),c>1&&(E[8]=f[c-2],E[10]=y[c-2],E[11]=b[c-2]),c<f.length-1&&(E[1]=f[c+1],E[6]=y[c+1],E[7]=b[c+1]),c<f.length-2&&(E[9]=f[c+2],E[12]=y[c+2],E[13]=b[c+2]);for(let C of E)if(us.adjustRowNumber(p,C))return}static adjustRowNumber(o,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===o.getBucket()?(o.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,c){this.detectionResultColumns[o]=c}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new Ui;for(let f=0;f<o.getCodewords().length;f++){c.format("CW %3d:",f);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){c.format("    |   ");continue}let y=this.detectionResultColumns[p].getCodewords()[f];if(y==null){c.format("    |   ");continue}c.format(" %3d|%3d",y.getRowNumber(),y.getValue())}c.format("%n")}return c.toString()}}class Na{constructor(o,c,f,p){this.rowNumber=Na.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(c),this.bucket=Math.trunc(f),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Na.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Na.BARCODE_ROW_UNKNOWN=-1;class Qr{static initialize(){for(let o=0;o<lt.SYMBOL_TABLE.length;o++){let c=lt.SYMBOL_TABLE[o],f=c&1;for(let p=0;p<lt.BARS_IN_MODULE;p++){let y=0;for(;(c&1)===f;)y+=1,c>>=1;f=c&1,Qr.RATIOS_TABLE[o]||(Qr.RATIOS_TABLE[o]=new Array(lt.BARS_IN_MODULE)),Qr.RATIOS_TABLE[o][lt.BARS_IN_MODULE-p-1]=Math.fround(y/lt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let c=Qr.getDecodedCodewordValue(Qr.sampleBitCounts(o));return c!==-1?c:Qr.getClosestDecodedValue(o)}static sampleBitCounts(o){let c=It.sum(o),f=new Int32Array(lt.BARS_IN_MODULE),p=0,y=0;for(let b=0;b<lt.MODULES_IN_CODEWORD;b++){let E=c/(2*lt.MODULES_IN_CODEWORD)+b*c/lt.MODULES_IN_CODEWORD;y+o[p]<=E&&(y+=o[p],p++),f[p]++}return f}static getDecodedCodewordValue(o){let c=Qr.getBitValue(o);return lt.getCodeword(c)===-1?-1:c}static getBitValue(o){let c=0;for(let f=0;f<o.length;f++)for(let p=0;p<o[f];p++)c=c<<1|(f%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(o){let c=It.sum(o),f=new Array(lt.BARS_IN_MODULE);if(c>1)for(let b=0;b<f.length;b++)f[b]=Math.fround(o[b]/c);let p=xn.MAX_VALUE,y=-1;this.bSymbolTableReady||Qr.initialize();for(let b=0;b<Qr.RATIOS_TABLE.length;b++){let E=0,C=Qr.RATIOS_TABLE[b];for(let D=0;D<lt.BARS_IN_MODULE;D++){let k=Math.fround(C[D]-f[D]);if(E+=Math.fround(k*k),E>=p)break}E<p&&(p=E,y=lt.SYMBOL_TABLE[b])}return y}}Qr.bSymbolTableReady=!1,Qr.RATIOS_TABLE=new Array(lt.SYMBOL_TABLE.length).map(W=>new Array(lt.BARS_IN_MODULE));class To{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Io{static parseLong(o,c=void 0){return parseInt(o,c)}}class Da extends d{}Da.kind="NullPointerException";class Oo{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,c,f){if(o==null)throw new Da;if(c<0||c>o.length||f<0||c+f>o.length||c+f<0)throw new P;if(f===0)return;for(let p=0;p<f;p++)this.write(o[c+p])}flush(){}close(){}}class ca extends d{}class Tu extends Oo{constructor(o=32){if(super(),this.count=0,o<0)throw new w("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let f=this.buf.length<<1;if(f-o<0&&(f=o),f<0){if(o<0)throw new ca;f=q.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,f)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,c,f){if(c<0||c>o.length||f<0||c+f-o.length>0)throw new P;this.ensureCapacity(this.count+f),M.arraycopy(o,c,this.buf,this.count,f),this.count+=f}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var hn;(function(W){W[W.ALPHA=0]="ALPHA",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.PUNCT=3]="PUNCT",W[W.ALPHA_SHIFT=4]="ALPHA_SHIFT",W[W.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(hn||(hn={}));function Ks(){if(typeof window<"u")return window.BigInt||null;if(typeof v1<"u")return v1.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ls;function ua(W){if(typeof Ls>"u"&&(Ls=Ks()),Ls===null)throw new Error("BigInt is not supported!");return Ls(W)}function Sl(){let W=[];W[0]=ua(1);let o=ua(900);W[1]=o;for(let c=2;c<16;c++)W[c]=W[c-1]*o;return W}class Se{static decode(o,c){let f=new U(""),p=F.ISO8859_1;f.enableDecoding(p);let y=1,b=o[y++],E=new To;for(;y<o[0];){switch(b){case Se.TEXT_COMPACTION_MODE_LATCH:y=Se.textCompaction(o,y,f);break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:y=Se.byteCompaction(b,o,p,y,f);break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y++]);break;case Se.NUMERIC_COMPACTION_MODE_LATCH:y=Se.numericCompaction(o,y,f);break;case Se.ECI_CHARSET:F.getCharacterSetECIByValue(o[y++]);break;case Se.ECI_GENERAL_PURPOSE:y+=2;break;case Se.ECI_USER_DEFINED:y++;break;case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:y=Se.decodeMacroBlock(o,y,E);break;case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:throw new j;default:y--,y=Se.textCompaction(o,y,f);break}if(y<o.length)b=o[y++];else throw j.getFormatInstance()}if(f.length()===0)throw j.getFormatInstance();let C=new De(null,f.toString(),null,c);return C.setOther(E),C}static decodeMacroBlock(o,c,f){if(c+Se.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw j.getFormatInstance();let p=new Int32Array(Se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Se.NUMBER_OF_SEQUENCE_CODEWORDS;E++,c++)p[E]=o[c];f.setSegmentIndex(q.parseInt(Se.decodeBase900toBase10(p,Se.NUMBER_OF_SEQUENCE_CODEWORDS)));let y=new U;c=Se.textCompaction(o,c,y),f.setFileId(y.toString());let b=-1;for(o[c]===Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=c+1);c<o[0];)switch(o[c]){case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,o[c]){case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new U;c=Se.textCompaction(o,c+1,E),f.setFileName(E.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new U;c=Se.textCompaction(o,c+1,C),f.setSender(C.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let D=new U;c=Se.textCompaction(o,c+1,D),f.setAddressee(D.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let k=new U;c=Se.numericCompaction(o,c+1,k),f.setSegmentCount(q.parseInt(k.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Y=new U;c=Se.numericCompaction(o,c+1,Y),f.setTimestamp(Io.parseLong(Y.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Q=new U;c=Se.numericCompaction(o,c+1,Q),f.setChecksum(q.parseInt(Q.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ie=new U;c=Se.numericCompaction(o,c+1,ie),f.setFileSize(Io.parseLong(ie.toString()));break;default:throw j.getFormatInstance()}break;case Se.MACRO_PDF417_TERMINATOR:c++,f.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(b!==-1){let E=c-b;f.isLastSegment()&&E--,f.setOptionalData($.copyOfRange(o,b,b+E))}return c}static textCompaction(o,c,f){let p=new Int32Array((o[0]-c)*2),y=new Int32Array((o[0]-c)*2),b=0,E=!1;for(;c<o[0]&&!E;){let C=o[c++];if(C<Se.TEXT_COMPACTION_MODE_LATCH)p[b]=C/30,p[b+1]=C%30,b+=2;else switch(C){case Se.TEXT_COMPACTION_MODE_LATCH:p[b++]=Se.TEXT_COMPACTION_MODE_LATCH;break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,E=!0;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[b]=Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=o[c++],y[b]=C,b++;break}}return Se.decodeTextCompaction(p,y,b,f),c}static decodeTextCompaction(o,c,f,p){let y=hn.ALPHA,b=hn.ALPHA,E=0;for(;E<f;){let C=o[E],D="";switch(y){case hn.ALPHA:if(C<26)D=String.fromCharCode(65+C);else switch(C){case 26:D=" ";break;case Se.LL:y=hn.LOWER;break;case Se.ML:y=hn.MIXED;break;case Se.PS:b=y,y=hn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=hn.ALPHA;break}break;case hn.LOWER:if(C<26)D=String.fromCharCode(97+C);else switch(C){case 26:D=" ";break;case Se.AS:b=y,y=hn.ALPHA_SHIFT;break;case Se.ML:y=hn.MIXED;break;case Se.PS:b=y,y=hn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=hn.ALPHA;break}break;case hn.MIXED:if(C<Se.PL)D=Se.MIXED_CHARS[C];else switch(C){case Se.PL:y=hn.PUNCT;break;case 26:D=" ";break;case Se.LL:y=hn.LOWER;break;case Se.AL:y=hn.ALPHA;break;case Se.PS:b=y,y=hn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=hn.ALPHA;break}break;case hn.PUNCT:if(C<Se.PAL)D=Se.PUNCT_CHARS[C];else switch(C){case Se.PAL:y=hn.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=hn.ALPHA;break}break;case hn.ALPHA_SHIFT:if(y=b,C<26)D=String.fromCharCode(65+C);else switch(C){case 26:D=" ";break;case Se.TEXT_COMPACTION_MODE_LATCH:y=hn.ALPHA;break}break;case hn.PUNCT_SHIFT:if(y=b,C<Se.PAL)D=Se.PUNCT_CHARS[C];else switch(C){case Se.PAL:y=hn.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=hn.ALPHA;break}break}D!==""&&p.append(D),E++}}static byteCompaction(o,c,f,p,y){let b=new Tu,E=0,C=0,D=!1;switch(o){case Se.BYTE_COMPACTION_MODE_LATCH:let k=new Int32Array(6),Y=c[p++];for(;p<c[0]&&!D;)switch(k[E++]=Y,C=900*C+Y,Y=c[p++],Y){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:p--,D=!0;break;default:if(E%5===0&&E>0){for(let Q=0;Q<6;++Q)b.write(Number(ua(C)>>ua(8*(5-Q))));C=0,E=0}break}p===c[0]&&Y<Se.TEXT_COMPACTION_MODE_LATCH&&(k[E++]=Y);for(let Q=0;Q<E;Q++)b.write(k[Q]);break;case Se.BYTE_COMPACTION_MODE_LATCH_6:for(;p<c[0]&&!D;){let Q=c[p++];if(Q<Se.TEXT_COMPACTION_MODE_LATCH)E++,C=900*C+Q;else switch(Q){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:p--,D=!0;break}if(E%5===0&&E>0){for(let ie=0;ie<6;++ie)b.write(Number(ua(C)>>ua(8*(5-ie))));C=0,E=0}}break}return y.append(z.decode(b.toByteArray(),f)),p}static numericCompaction(o,c,f){let p=0,y=!1,b=new Int32Array(Se.MAX_NUMERIC_CODEWORDS);for(;c<o[0]&&!y;){let E=o[c++];if(c===o[0]&&(y=!0),E<Se.TEXT_COMPACTION_MODE_LATCH)b[p]=E,p++;else switch(E){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,y=!0;break}(p%Se.MAX_NUMERIC_CODEWORDS===0||E===Se.NUMERIC_COMPACTION_MODE_LATCH||y)&&p>0&&(f.append(Se.decodeBase900toBase10(b,p)),p=0)}return c}static decodeBase900toBase10(o,c){let f=ua(0);for(let y=0;y<c;y++)f+=Se.EXP900[c-y-1]*ua(o[y]);let p=f.toString();if(p.charAt(0)!=="1")throw new j;return p.substring(1)}}Se.TEXT_COMPACTION_MODE_LATCH=900,Se.BYTE_COMPACTION_MODE_LATCH=901,Se.NUMERIC_COMPACTION_MODE_LATCH=902,Se.BYTE_COMPACTION_MODE_LATCH_6=924,Se.ECI_USER_DEFINED=925,Se.ECI_GENERAL_PURPOSE=926,Se.ECI_CHARSET=927,Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Se.MACRO_PDF417_TERMINATOR=922,Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Se.MAX_NUMERIC_CODEWORDS=15,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Se.PL=25,Se.LL=27,Se.AS=27,Se.ML=28,Se.AL=28,Se.PS=29,Se.PAL=29,Se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Se.EXP900=Ks()?Sl():[],Se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class St{constructor(){}static decode(o,c,f,p,y,b,E){let C=new Ra(o,c,f,p,y),D=null,k=null,Y;for(let fe=!0;;fe=!1){if(c!=null&&(D=St.getRowIndicatorColumn(o,C,c,!0,b,E)),p!=null&&(k=St.getRowIndicatorColumn(o,C,p,!1,b,E)),Y=St.merge(D,k),Y==null)throw se.getNotFoundInstance();let he=Y.getBoundingBox();if(fe&&he!=null&&(he.getMinY()<C.getMinY()||he.getMaxY()>C.getMaxY()))C=he;else break}Y.setBoundingBox(C);let Q=Y.getBarcodeColumnCount()+1;Y.setDetectionResultColumn(0,D),Y.setDetectionResultColumn(Q,k);let ie=D!=null;for(let fe=1;fe<=Q;fe++){let he=ie?fe:Q-fe;if(Y.getDetectionResultColumn(he)!==void 0)continue;let ye;he===0||he===Q?ye=new cn(C,he===0):ye=new Ps(C),Y.setDetectionResultColumn(he,ye);let Ae=-1,ze=Ae;for(let He=C.getMinY();He<=C.getMaxY();He++){if(Ae=St.getStartColumn(Y,he,He,ie),Ae<0||Ae>C.getMaxX()){if(ze===-1)continue;Ae=ze}let Fe=St.detectCodeword(o,C.getMinX(),C.getMaxX(),ie,Ae,He,b,E);Fe!=null&&(ye.setCodeword(He,Fe),ze=Ae,b=Math.min(b,Fe.getWidth()),E=Math.max(E,Fe.getWidth()))}}return St.createDecoderResult(Y)}static merge(o,c){if(o==null&&c==null)return null;let f=St.getBarcodeMetadata(o,c);if(f==null)return null;let p=Ra.merge(St.adjustBoundingBox(o),St.adjustBoundingBox(c));return new us(f,p)}static adjustBoundingBox(o){if(o==null)return null;let c=o.getRowHeights();if(c==null)return null;let f=St.getMax(c),p=0;for(let E of c)if(p+=f-E,E>0)break;let y=o.getCodewords();for(let E=0;p>0&&y[E]==null;E++)p--;let b=0;for(let E=c.length-1;E>=0&&(b+=f-c[E],!(c[E]>0));E--);for(let E=y.length-1;b>0&&y[E]==null;E--)b--;return o.getBoundingBox().addMissingRows(p,b,o.isLeft())}static getMax(o){let c=-1;for(let f of o)c=Math.max(c,f);return c}static getBarcodeMetadata(o,c){let f;if(o==null||(f=o.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let p;return c==null||(p=c.getBarcodeMetadata())==null?f:f.getColumnCount()!==p.getColumnCount()&&f.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&f.getRowCount()!==p.getRowCount()?null:f}static getRowIndicatorColumn(o,c,f,p,y,b){let E=new cn(c,p);for(let C=0;C<2;C++){let D=C===0?1:-1,k=Math.trunc(Math.trunc(f.getX()));for(let Y=Math.trunc(Math.trunc(f.getY()));Y<=c.getMaxY()&&Y>=c.getMinY();Y+=D){let Q=St.detectCodeword(o,0,o.getWidth(),p,k,Y,y,b);Q!=null&&(E.setCodeword(Y,Q),p?k=Q.getStartX():k=Q.getEndX())}}return E}static adjustCodewordCount(o,c){let f=c[0][1],p=f.getValue(),y=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-St.getNumberOfECCodeWords(o.getBarcodeECLevel());if(p.length===0){if(y<1||y>lt.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();f.setValue(y)}else p[0]!==y&&f.setValue(y)}static createDecoderResult(o){let c=St.createBarcodeMatrix(o);St.adjustCodewordCount(o,c);let f=new Array,p=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),y=[],b=new Array;for(let C=0;C<o.getBarcodeRowCount();C++)for(let D=0;D<o.getBarcodeColumnCount();D++){let k=c[C][D+1].getValue(),Y=C*o.getBarcodeColumnCount()+D;k.length===0?f.push(Y):k.length===1?p[Y]=k[0]:(b.push(Y),y.push(k))}let E=new Array(y.length);for(let C=0;C<E.length;C++)E[C]=y[C];return St.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),p,lt.toIntArray(f),lt.toIntArray(b),E)}static createDecoderResultFromAmbiguousValues(o,c,f,p,y){let b=new Int32Array(p.length),E=100;for(;E-- >0;){for(let C=0;C<b.length;C++)c[p[C]]=y[C][b[C]];try{return St.decodeCodewords(c,o,f)}catch(C){if(!(C instanceof T))throw C}if(b.length===0)throw T.getChecksumInstance();for(let C=0;C<b.length;C++)if(b[C]<y[C].length-1){b[C]++;break}else if(b[C]=0,C===b.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(o){let c=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let p=0;p<c.length;p++)for(let y=0;y<c[p].length;y++)c[p][y]=new or;let f=0;for(let p of o.getDetectionResultColumns()){if(p!=null){for(let y of p.getCodewords())if(y!=null){let b=y.getRowNumber();if(b>=0){if(b>=c.length)continue;c[b][f].setValue(y.getValue())}}}f++}return c}static isValidBarcodeColumn(o,c){return c>=0&&c<=o.getBarcodeColumnCount()+1}static getStartColumn(o,c,f,p){let y=p?1:-1,b=null;if(St.isValidBarcodeColumn(o,c-y)&&(b=o.getDetectionResultColumn(c-y).getCodeword(f)),b!=null)return p?b.getEndX():b.getStartX();if(b=o.getDetectionResultColumn(c).getCodewordNearby(f),b!=null)return p?b.getStartX():b.getEndX();if(St.isValidBarcodeColumn(o,c-y)&&(b=o.getDetectionResultColumn(c-y).getCodewordNearby(f)),b!=null)return p?b.getEndX():b.getStartX();let E=0;for(;St.isValidBarcodeColumn(o,c-y);){c-=y;for(let C of o.getDetectionResultColumn(c).getCodewords())if(C!=null)return(p?C.getEndX():C.getStartX())+y*E*(C.getEndX()-C.getStartX());E++}return p?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,c,f,p,y,b,E,C){y=St.adjustCodewordStartColumn(o,c,f,p,y,b);let D=St.getModuleBitCount(o,c,f,p,y,b);if(D==null)return null;let k,Y=It.sum(D);if(p)k=y+Y;else{for(let fe=0;fe<D.length/2;fe++){let he=D[fe];D[fe]=D[D.length-1-fe],D[D.length-1-fe]=he}k=y,y=k-Y}if(!St.checkCodewordSkew(Y,E,C))return null;let Q=Qr.getDecodedValue(D),ie=lt.getCodeword(Q);return ie===-1?null:new Na(y,k,St.getCodewordBucketNumber(Q),ie)}static getModuleBitCount(o,c,f,p,y,b){let E=y,C=new Int32Array(8),D=0,k=p?1:-1,Y=p;for(;(p?E<f:E>=c)&&D<C.length;)o.get(E,b)===Y?(C[D]++,E+=k):(D++,Y=!Y);return D===C.length||E===(p?f:c)&&D===C.length-1?C:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,c,f,p,y,b){let E=y,C=p?-1:1;for(let D=0;D<2;D++){for(;(p?E>=c:E<f)&&p===o.get(E,b);){if(Math.abs(y-E)>St.CODEWORD_SKEW_SIZE)return y;E+=C}C=-C,p=!p}return E}static checkCodewordSkew(o,c,f){return c-St.CODEWORD_SKEW_SIZE<=o&&o<=f+St.CODEWORD_SKEW_SIZE}static decodeCodewords(o,c,f){if(o.length===0)throw j.getFormatInstance();let p=1<<c+1,y=St.correctErrors(o,f,p);St.verifyCodewordCount(o,p);let b=Se.decode(o,""+c);return b.setErrorsCorrected(y),b.setErasures(f.length),b}static correctErrors(o,c,f){if(c!=null&&c.length>f/2+St.MAX_ERRORS||f<0||f>St.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return St.errorCorrection.decode(o,f,c)}static verifyCodewordCount(o,c){if(o.length<4)throw j.getFormatInstance();let f=o[0];if(f>o.length)throw j.getFormatInstance();if(f===0)if(c<o.length)o[0]=o.length-c;else throw j.getFormatInstance()}static getBitCountForCodeword(o){let c=new Int32Array(8),f=0,p=c.length-1;for(;!((o&1)!==f&&(f=o&1,p--,p<0));)c[p]++,o>>=1;return c}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return St.getCodewordBucketNumber(St.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let c=new Ui;for(let f=0;f<o.length;f++){c.format("Row %2d: ",f);for(let p=0;p<o[f].length;p++){let y=o[f][p];y.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",y.getValue()[0],y.getConfidence(y.getValue()[0]))}c.format("%n")}return c.toString()}}St.CODEWORD_SKEW_SIZE=2,St.MAX_ERRORS=3,St.MAX_EC_CODEWORDS=512,St.errorCorrection=new ls;class Mr{decode(o,c=null){let f=Mr.decode(o,c,!1);if(f==null||f.length===0||f[0]==null)throw se.getNotFoundInstance();return f[0]}decodeMultiple(o,c=null){try{return Mr.decode(o,c,!0)}catch(f){throw f instanceof j||f instanceof T?se.getNotFoundInstance():f}}static decode(o,c,f){const p=new Array,y=mt.detectMultiple(o,c,f);for(const b of y.getPoints()){const E=St.decode(y.getBits(),b[4],b[5],b[6],b[7],Mr.getMinCodewordWidth(b),Mr.getMaxCodewordWidth(b)),C=new Ye(E.getText(),E.getRawBytes(),void 0,b,Ue.PDF_417);C.putMetadata(vt.ERROR_CORRECTION_LEVEL,E.getECLevel());const D=E.getOther();D!=null&&C.putMetadata(vt.PDF417_EXTRA_METADATA,D),p.push(C)}return p.map(b=>b)}static getMaxWidth(o,c){return o==null||c==null?0:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMinWidth(o,c){return o==null||c==null?q.MAX_VALUE:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Mr.getMaxWidth(o[0],o[4]),Mr.getMaxWidth(o[6],o[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.max(Mr.getMaxWidth(o[1],o[5]),Mr.getMaxWidth(o[7],o[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Mr.getMinWidth(o[0],o[4]),Mr.getMinWidth(o[6],o[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.min(Mr.getMinWidth(o[1],o[5]),Mr.getMinWidth(o[7],o[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Qs extends d{}Qs.kind="ReaderException";class Zs{constructor(o,c){this.verbose=o===!0,c&&this.setHints(c)}decode(o,c){return c&&this.setHints(c),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const c=!r(o)&&o.get(ee.TRY_HARDER)===!0,f=r(o)?null:o.get(ee.POSSIBLE_FORMATS),p=new Array;if(!r(f)){const y=f.some(b=>b===Ue.UPC_A||b===Ue.UPC_E||b===Ue.EAN_13||b===Ue.EAN_8||b===Ue.CODABAR||b===Ue.CODE_39||b===Ue.CODE_93||b===Ue.CODE_128||b===Ue.ITF||b===Ue.RSS_14||b===Ue.RSS_EXPANDED);y&&!c&&p.push(new la(o,this.verbose)),f.includes(Ue.QR_CODE)&&p.push(new Ia),f.includes(Ue.DATA_MATRIX)&&p.push(new ji),f.includes(Ue.AZTEC)&&p.push(new ut),f.includes(Ue.PDF_417)&&p.push(new Mr),y&&c&&p.push(new la(o,this.verbose))}p.length===0&&(c||p.push(new la(o,this.verbose)),p.push(new Ia),p.push(new ji),p.push(new ut),p.push(new Mr),c&&p.push(new la(o,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Qs("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(o,this.hints)}catch(f){if(f instanceof Qs)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class Iu extends je{constructor(o=null,c=500){const f=new Zs;f.setHints(o),super(f,c)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Ou extends je{constructor(o=500){super(new Mr,o)}}class Rc extends je{constructor(o=500){super(new Ia,o)}}var ks;(function(W){W[W.ERROR_CORRECTION=0]="ERROR_CORRECTION",W[W.CHARACTER_SET=1]="CHARACTER_SET",W[W.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",W[W.MIN_SIZE=3]="MIN_SIZE",W[W.MAX_SIZE=4]="MAX_SIZE",W[W.MARGIN=5]="MARGIN",W[W.PDF417_COMPACT=6]="PDF417_COMPACT",W[W.PDF417_COMPACTION=7]="PDF417_COMPACTION",W[W.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",W[W.AZTEC_LAYERS=9]="AZTEC_LAYERS",W[W.QR_VERSION=10]="QR_VERSION"})(ks||(ks={}));var lr=ks;class Js{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new it(o,Int32Array.from([1])))}buildGenerator(o){const c=this.cachedGenerators;if(o>=c.length){let f=c[c.length-1];const p=this.field;for(let y=c.length;y<=o;y++){const b=f.multiply(new it(p,Int32Array.from([1,p.exp(y-1+p.getGeneratorBase())])));c.push(b),f=b}}return c[o]}encode(o,c){if(c===0)throw new w("No error correction bytes");const f=o.length-c;if(f<=0)throw new w("No data bytes provided");const p=this.buildGenerator(c),y=new Int32Array(f);M.arraycopy(o,0,y,0,f);let b=new it(this.field,y);b=b.multiplyByMonomial(c,1);const C=b.divide(p)[1].getCoefficients(),D=c-C.length;for(let k=0;k<D;k++)o[f+k]=0;M.arraycopy(C,0,o,f+D,C.length)}}class Bn{constructor(){}static applyMaskPenaltyRule1(o){return Bn.applyMaskPenaltyRule1Internal(o,!0)+Bn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let c=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let b=0;b<y-1;b++){const E=f[b];for(let C=0;C<p-1;C++){const D=E[C];D===E[C+1]&&D===f[b+1][C]&&D===f[b+1][C+1]&&c++}}return Bn.N2*c}static applyMaskPenaltyRule3(o){let c=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let b=0;b<y;b++)for(let E=0;E<p;E++){const C=f[b];E+6<p&&C[E]===1&&C[E+1]===0&&C[E+2]===1&&C[E+3]===1&&C[E+4]===1&&C[E+5]===0&&C[E+6]===1&&(Bn.isWhiteHorizontal(C,E-4,E)||Bn.isWhiteHorizontal(C,E+7,E+11))&&c++,b+6<y&&f[b][E]===1&&f[b+1][E]===0&&f[b+2][E]===1&&f[b+3][E]===1&&f[b+4][E]===1&&f[b+5][E]===0&&f[b+6][E]===1&&(Bn.isWhiteVertical(f,E,b-4,b)||Bn.isWhiteVertical(f,E,b+7,b+11))&&c++}return c*Bn.N3}static isWhiteHorizontal(o,c,f){c=Math.max(c,0),f=Math.min(f,o.length);for(let p=c;p<f;p++)if(o[p]===1)return!1;return!0}static isWhiteVertical(o,c,f,p){f=Math.max(f,0),p=Math.min(p,o.length);for(let y=f;y<p;y++)if(o[y][c]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let c=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let C=0;C<y;C++){const D=f[C];for(let k=0;k<p;k++)D[k]===1&&c++}const b=o.getHeight()*o.getWidth();return Math.floor(Math.abs(c*2-b)*10/b)*Bn.N4}static getDataMaskBit(o,c,f){let p,y;switch(o){case 0:p=f+c&1;break;case 1:p=f&1;break;case 2:p=c%3;break;case 3:p=(f+c)%3;break;case 4:p=Math.floor(f/2)+Math.floor(c/3)&1;break;case 5:y=f*c,p=(y&1)+y%3;break;case 6:y=f*c,p=(y&1)+y%3&1;break;case 7:y=f*c,p=y%3+(f+c&1)&1;break;default:throw new w("Invalid mask pattern: "+o)}return p===0}static applyMaskPenaltyRule1Internal(o,c){let f=0;const p=c?o.getHeight():o.getWidth(),y=c?o.getWidth():o.getHeight(),b=o.getArray();for(let E=0;E<p;E++){let C=0,D=-1;for(let k=0;k<y;k++){const Y=c?b[E][k]:b[k][E];Y===D?C++:(C>=5&&(f+=Bn.N1+(C-5)),C=1,D=Y)}C>=5&&(f+=Bn.N1+(C-5))}return f}}Bn.N1=3,Bn.N2=3,Bn.N3=40,Bn.N4=10;class eo{constructor(o,c){this.width=o,this.height=c;const f=new Array(c);for(let p=0;p!==c;p++)f[p]=new Uint8Array(o);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(o,c){return this.bytes[c][o]}getArray(){return this.bytes}setNumber(o,c,f){this.bytes[c][o]=f}setBoolean(o,c,f){this.bytes[c][o]=f?1:0}clear(o){for(const c of this.bytes)$.fill(c,o)}equals(o){if(!(o instanceof eo))return!1;const c=o;if(this.width!==c.width||this.height!==c.height)return!1;for(let f=0,p=this.height;f<p;++f){const y=this.bytes[f],b=c.bytes[f];for(let E=0,C=this.width;E<C;++E)if(y[E]!==b[E])return!1}return!0}toString(){const o=new U;for(let c=0,f=this.height;c<f;++c){const p=this.bytes[c];for(let y=0,b=this.width;y<b;++y)switch(p[y]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ei{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new U;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ei.NUM_MASK_PATTERNS}}Ei.NUM_MASK_PATTERNS=8;class dn extends d{}dn.kind="WriterException";class ft{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,c,f,p,y){ft.clearMatrix(y),ft.embedBasicPatterns(f,y),ft.embedTypeInfo(c,p,y),ft.maybeEmbedVersionInfo(f,y),ft.embedDataBits(o,p,y)}static embedBasicPatterns(o,c){ft.embedPositionDetectionPatternsAndSeparators(c),ft.embedDarkDotAtLeftBottomCorner(c),ft.maybeEmbedPositionAdjustmentPatterns(o,c),ft.embedTimingPatterns(c)}static embedTypeInfo(o,c,f){const p=new te;ft.makeTypeInfoBits(o,c,p);for(let y=0,b=p.getSize();y<b;++y){const E=p.get(p.getSize()-1-y),C=ft.TYPE_INFO_COORDINATES[y],D=C[0],k=C[1];if(f.setBoolean(D,k,E),y<8){const Y=f.getWidth()-y-1;f.setBoolean(Y,8,E)}else{const Q=f.getHeight()-7+(y-8);f.setBoolean(8,Q,E)}}}static maybeEmbedVersionInfo(o,c){if(o.getVersionNumber()<7)return;const f=new te;ft.makeVersionInfoBits(o,f);let p=17;for(let y=0;y<6;++y)for(let b=0;b<3;++b){const E=f.get(p);p--,c.setBoolean(y,c.getHeight()-11+b,E),c.setBoolean(c.getHeight()-11+b,y,E)}}static embedDataBits(o,c,f){let p=0,y=-1,b=f.getWidth()-1,E=f.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);E>=0&&E<f.getHeight();){for(let C=0;C<2;++C){const D=b-C;if(!ft.isEmpty(f.get(D,E)))continue;let k;p<o.getSize()?(k=o.get(p),++p):k=!1,c!==255&&Bn.getDataMaskBit(c,D,E)&&(k=!k),f.setBoolean(D,E,k)}E+=y}y=-y,E+=y,b-=2}if(p!==o.getSize())throw new dn("Not all bits consumed: "+p+"/"+o.getSize())}static findMSBSet(o){return 32-q.numberOfLeadingZeros(o)}static calculateBCHCode(o,c){if(c===0)throw new w("0 polynomial");const f=ft.findMSBSet(c);for(o<<=f-1;ft.findMSBSet(o)>=f;)o^=c<<ft.findMSBSet(o)-f;return o}static makeTypeInfoBits(o,c,f){if(!Ei.isValidMaskPattern(c))throw new dn("Invalid mask pattern");const p=o.getBits()<<3|c;f.appendBits(p,5);const y=ft.calculateBCHCode(p,ft.TYPE_INFO_POLY);f.appendBits(y,10);const b=new te;if(b.appendBits(ft.TYPE_INFO_MASK_PATTERN,15),f.xor(b),f.getSize()!==15)throw new dn("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(o,c){c.appendBits(o.getVersionNumber(),6);const f=ft.calculateBCHCode(o.getVersionNumber(),ft.VERSION_INFO_POLY);if(c.appendBits(f,12),c.getSize()!==18)throw new dn("should not happen but we got: "+c.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let c=8;c<o.getWidth()-8;++c){const f=(c+1)%2;ft.isEmpty(o.get(c,6))&&o.setNumber(c,6,f),ft.isEmpty(o.get(6,c))&&o.setNumber(6,c,f)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new dn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,c,f){for(let p=0;p<8;++p){if(!ft.isEmpty(f.get(o+p,c)))throw new dn;f.setNumber(o+p,c,0)}}static embedVerticalSeparationPattern(o,c,f){for(let p=0;p<7;++p){if(!ft.isEmpty(f.get(o,c+p)))throw new dn;f.setNumber(o,c+p,0)}}static embedPositionAdjustmentPattern(o,c,f){for(let p=0;p<5;++p){const y=ft.POSITION_ADJUSTMENT_PATTERN[p];for(let b=0;b<5;++b)f.setNumber(o+b,c+p,y[b])}}static embedPositionDetectionPattern(o,c,f){for(let p=0;p<7;++p){const y=ft.POSITION_DETECTION_PATTERN[p];for(let b=0;b<7;++b)f.setNumber(o+b,c+p,y[b])}}static embedPositionDetectionPatternsAndSeparators(o){const c=ft.POSITION_DETECTION_PATTERN[0].length;ft.embedPositionDetectionPattern(0,0,o),ft.embedPositionDetectionPattern(o.getWidth()-c,0,o),ft.embedPositionDetectionPattern(0,o.getWidth()-c,o);const f=8;ft.embedHorizontalSeparationPattern(0,f-1,o),ft.embedHorizontalSeparationPattern(o.getWidth()-f,f-1,o),ft.embedHorizontalSeparationPattern(0,o.getWidth()-f,o);const p=7;ft.embedVerticalSeparationPattern(p,0,o),ft.embedVerticalSeparationPattern(o.getHeight()-p-1,0,o),ft.embedVerticalSeparationPattern(p,o.getHeight()-p,o)}static maybeEmbedPositionAdjustmentPatterns(o,c){if(o.getVersionNumber()<2)return;const f=o.getVersionNumber()-1,p=ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let y=0,b=p.length;y!==b;y++){const E=p[y];if(E>=0)for(let C=0;C!==b;C++){const D=p[C];D>=0&&ft.isEmpty(c.get(D,E))&&ft.embedPositionAdjustmentPattern(D-2,E-2,c)}}}}ft.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ft.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ft.VERSION_INFO_POLY=7973,ft.TYPE_INFO_POLY=1335,ft.TYPE_INFO_MASK_PATTERN=21522;class Ru{constructor(o,c){this.dataBytes=o,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class bn{constructor(){}static calculateMaskPenalty(o){return Bn.applyMaskPenaltyRule1(o)+Bn.applyMaskPenaltyRule2(o)+Bn.applyMaskPenaltyRule3(o)+Bn.applyMaskPenaltyRule4(o)}static encode(o,c,f=null){let p=bn.DEFAULT_BYTE_MODE_ENCODING;const y=f!==null&&f.get(lr.CHARACTER_SET)!==void 0;y&&(p=f.get(lr.CHARACTER_SET).toString());const b=this.chooseMode(o,p),E=new te;if(b===at.BYTE&&(y||bn.DEFAULT_BYTE_MODE_ENCODING!==p)){const He=F.getCharacterSetECIByName(p);He!==void 0&&this.appendECI(He,E)}this.appendModeInfo(b,E);const C=new te;this.appendBytes(o,b,C,p);let D;if(f!==null&&f.get(lr.QR_VERSION)!==void 0){const He=Number.parseInt(f.get(lr.QR_VERSION).toString(),10);D=We.getVersionForNumber(He);const Fe=this.calculateBitsNeeded(b,E,C,D);if(!this.willFit(Fe,D,c))throw new dn("Data too big for requested version")}else D=this.recommendVersion(c,b,E,C);const k=new te;k.appendBitArray(E);const Y=b===at.BYTE?C.getSizeInBytes():o.length;this.appendLengthInfo(Y,D,b,k),k.appendBitArray(C);const Q=D.getECBlocksForLevel(c),ie=D.getTotalCodewords()-Q.getTotalECCodewords();this.terminateBits(ie,k);const fe=this.interleaveWithECBytes(k,D.getTotalCodewords(),ie,Q.getNumBlocks()),he=new Ei;he.setECLevel(c),he.setMode(b),he.setVersion(D);const ye=D.getDimensionForVersion(),Ae=new eo(ye,ye),ze=this.chooseMaskPattern(fe,c,D,Ae);return he.setMaskPattern(ze),ft.buildMatrix(fe,c,D,ze,Ae),he.setMatrix(Ae),he}static recommendVersion(o,c,f,p){const y=this.calculateBitsNeeded(c,f,p,We.getVersionForNumber(1)),b=this.chooseVersion(y,o),E=this.calculateBitsNeeded(c,f,p,b);return this.chooseVersion(E,o)}static calculateBitsNeeded(o,c,f,p){return c.getSize()+o.getCharacterCountBits(p)+f.getSize()}static getAlphanumericCode(o){return o<bn.ALPHANUMERIC_TABLE.length?bn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,c=null){if(F.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(o))return at.KANJI;let f=!1,p=!1;for(let y=0,b=o.length;y<b;++y){const E=o.charAt(y);if(bn.isDigit(E))f=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)p=!0;else return at.BYTE}return p?at.ALPHANUMERIC:f?at.NUMERIC:at.BYTE}static isOnlyDoubleByteKanji(o){let c;try{c=z.encode(o,F.SJIS)}catch{return!1}const f=c.length;if(f%2!==0)return!1;for(let p=0;p<f;p+=2){const y=c[p]&255;if((y<129||y>159)&&(y<224||y>235))return!1}return!0}static chooseMaskPattern(o,c,f,p){let y=Number.MAX_SAFE_INTEGER,b=-1;for(let E=0;E<Ei.NUM_MASK_PATTERNS;E++){ft.buildMatrix(o,c,f,E,p);let C=this.calculateMaskPenalty(p);C<y&&(y=C,b=E)}return b}static chooseVersion(o,c){for(let f=1;f<=40;f++){const p=We.getVersionForNumber(f);if(bn.willFit(o,p,c))return p}throw new dn("Data too big")}static willFit(o,c,f){const p=c.getTotalCodewords(),b=c.getECBlocksForLevel(f).getTotalECCodewords(),E=p-b,C=(o+7)/8;return E>=C}static terminateBits(o,c){const f=o*8;if(c.getSize()>f)throw new dn("data bits cannot fit in the QR Code"+c.getSize()+" > "+f);for(let b=0;b<4&&c.getSize()<f;++b)c.appendBit(!1);const p=c.getSize()&7;if(p>0)for(let b=p;b<8;b++)c.appendBit(!1);const y=o-c.getSizeInBytes();for(let b=0;b<y;++b)c.appendBits((b&1)===0?236:17,8);if(c.getSize()!==f)throw new dn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,c,f,p,y,b){if(p>=f)throw new dn("Block ID too large");const E=o%f,C=f-E,D=Math.floor(o/f),k=D+1,Y=Math.floor(c/f),Q=Y+1,ie=D-Y,fe=k-Q;if(ie!==fe)throw new dn("EC bytes mismatch");if(f!==C+E)throw new dn("RS blocks mismatch");if(o!==(Y+ie)*C+(Q+fe)*E)throw new dn("Total bytes mismatch");p<C?(y[0]=Y,b[0]=ie):(y[0]=Q,b[0]=fe)}static interleaveWithECBytes(o,c,f,p){if(o.getSizeInBytes()!==f)throw new dn("Number of bits and data bytes does not match");let y=0,b=0,E=0;const C=new Array;for(let k=0;k<p;++k){const Y=new Int32Array(1),Q=new Int32Array(1);bn.getNumDataBytesAndNumECBytesForBlockID(c,f,p,k,Y,Q);const ie=Y[0],fe=new Uint8Array(ie);o.toBytes(8*y,fe,0,ie);const he=bn.generateECBytes(fe,Q[0]);C.push(new Ru(fe,he)),b=Math.max(b,ie),E=Math.max(E,he.length),y+=Y[0]}if(f!==y)throw new dn("Data bytes does not match offset");const D=new te;for(let k=0;k<b;++k)for(const Y of C){const Q=Y.getDataBytes();k<Q.length&&D.appendBits(Q[k],8)}for(let k=0;k<E;++k)for(const Y of C){const Q=Y.getErrorCorrectionBytes();k<Q.length&&D.appendBits(Q[k],8)}if(c!==D.getSizeInBytes())throw new dn("Interleaving error: "+c+" and "+D.getSizeInBytes()+" differ.");return D}static generateECBytes(o,c){const f=o.length,p=new Int32Array(f+c);for(let b=0;b<f;b++)p[b]=o[b]&255;new Js(st.QR_CODE_FIELD_256).encode(p,c);const y=new Uint8Array(c);for(let b=0;b<c;b++)y[b]=p[f+b];return y}static appendModeInfo(o,c){c.appendBits(o.getBits(),4)}static appendLengthInfo(o,c,f,p){const y=f.getCharacterCountBits(c);if(o>=1<<y)throw new dn(o+" is bigger than "+((1<<y)-1));p.appendBits(o,y)}static appendBytes(o,c,f,p){switch(c){case at.NUMERIC:bn.appendNumericBytes(o,f);break;case at.ALPHANUMERIC:bn.appendAlphanumericBytes(o,f);break;case at.BYTE:bn.append8BitBytes(o,f,p);break;case at.KANJI:bn.appendKanjiBytes(o,f);break;default:throw new dn("Invalid mode: "+c)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const c=bn.getDigit(o);return c>=0&&c<=9}static appendNumericBytes(o,c){const f=o.length;let p=0;for(;p<f;){const y=bn.getDigit(o.charAt(p));if(p+2<f){const b=bn.getDigit(o.charAt(p+1)),E=bn.getDigit(o.charAt(p+2));c.appendBits(y*100+b*10+E,10),p+=3}else if(p+1<f){const b=bn.getDigit(o.charAt(p+1));c.appendBits(y*10+b,7),p+=2}else c.appendBits(y,4),p++}}static appendAlphanumericBytes(o,c){const f=o.length;let p=0;for(;p<f;){const y=bn.getAlphanumericCode(o.charCodeAt(p));if(y===-1)throw new dn;if(p+1<f){const b=bn.getAlphanumericCode(o.charCodeAt(p+1));if(b===-1)throw new dn;c.appendBits(y*45+b,11),p+=2}else c.appendBits(y,6),p++}}static append8BitBytes(o,c,f){let p;try{p=z.encode(o,f)}catch(y){throw new dn(y)}for(let y=0,b=p.length;y!==b;y++){const E=p[y];c.appendBits(E,8)}}static appendKanjiBytes(o,c){let f;try{f=z.encode(o,F.SJIS)}catch(y){throw new dn(y)}const p=f.length;for(let y=0;y<p;y+=2){const b=f[y]&255,E=f[y+1]&255,C=b<<8&4294967295|E;let D=-1;if(C>=33088&&C<=40956?D=C-33088:C>=57408&&C<=60351&&(D=C-49472),D===-1)throw new dn("Invalid byte sequence");const k=(D>>8)*192+(D&255);c.appendBits(k,13)}}static appendECI(o,c){c.appendBits(at.ECI.getBits(),4),c.appendBits(o.getValue(),8)}}bn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),bn.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class fa{write(o,c,f,p=null){if(o.length===0)throw new w("Found empty contents");if(c<0||f<0)throw new w("Requested dimensions are too small: "+c+"x"+f);let y=kt.L,b=fa.QUIET_ZONE_SIZE;p!==null&&(p.get(lr.ERROR_CORRECTION)!==void 0&&(y=kt.fromString(p.get(lr.ERROR_CORRECTION).toString())),p.get(lr.MARGIN)!==void 0&&(b=Number.parseInt(p.get(lr.MARGIN).toString(),10)));const E=bn.encode(o,y,p);return this.renderResult(E,c,f,b)}writeToDom(o,c,f,p,y=null){typeof o=="string"&&(o=document.querySelector(o));const b=this.write(c,f,p,y);o&&o.appendChild(b)}renderResult(o,c,f,p){const y=o.getMatrix();if(y===null)throw new tn;const b=y.getWidth(),E=y.getHeight(),C=b+p*2,D=E+p*2,k=Math.max(c,C),Y=Math.max(f,D),Q=Math.min(Math.floor(k/C),Math.floor(Y/D)),ie=Math.floor((k-b*Q)/2),fe=Math.floor((Y-E*Q)/2),he=this.createSVGElement(k,Y);for(let ye=0,Ae=fe;ye<E;ye++,Ae+=Q)for(let ze=0,He=ie;ze<b;ze++,He+=Q)if(y.get(ze,ye)===1){const Fe=this.createSvgRectElement(He,Ae,Q,Q);he.appendChild(Fe)}return he}createSVGElement(o,c){const f=document.createElementNS(fa.SVG_NS,"svg");return f.setAttributeNS(null,"height",o.toString()),f.setAttributeNS(null,"width",c.toString()),f}createSvgRectElement(o,c,f,p){const y=document.createElementNS(fa.SVG_NS,"rect");return y.setAttributeNS(null,"x",o.toString()),y.setAttributeNS(null,"y",c.toString()),y.setAttributeNS(null,"height",f.toString()),y.setAttributeNS(null,"width",p.toString()),y.setAttributeNS(null,"fill","#000000"),y}}fa.QUIET_ZONE_SIZE=4,fa.SVG_NS="http://www.w3.org/2000/svg";class Ar{encode(o,c,f,p,y){if(o.length===0)throw new w("Found empty contents");if(c!==Ue.QR_CODE)throw new w("Can only encode QR_CODE, but got "+c);if(f<0||p<0)throw new w(`Requested dimensions are too small: ${f}x${p}`);let b=kt.L,E=Ar.QUIET_ZONE_SIZE;y!==null&&(y.get(lr.ERROR_CORRECTION)!==void 0&&(b=kt.fromString(y.get(lr.ERROR_CORRECTION).toString())),y.get(lr.MARGIN)!==void 0&&(E=Number.parseInt(y.get(lr.MARGIN).toString(),10)));const C=bn.encode(o,b,y);return Ar.renderResult(C,f,p,E)}static renderResult(o,c,f,p){const y=o.getMatrix();if(y===null)throw new tn;const b=y.getWidth(),E=y.getHeight(),C=b+p*2,D=E+p*2,k=Math.max(c,C),Y=Math.max(f,D),Q=Math.min(Math.floor(k/C),Math.floor(Y/D)),ie=Math.floor((k-b*Q)/2),fe=Math.floor((Y-E*Q)/2),he=new ue(k,Y);for(let ye=0,Ae=fe;ye<E;ye++,Ae+=Q)for(let ze=0,He=ie;ze<b;ze++,He+=Q)y.get(ze,ye)===1&&he.setRegion(He,Ae,Q,Q);return he}}Ar.QUIET_ZONE_SIZE=4;class Nu{encode(o,c,f,p,y){let b;switch(c){case Ue.QR_CODE:b=new Ar;break;default:throw new w("No encoder available for format "+c)}return b.encode(o,c,f,p,y)}}class Ji extends Te{constructor(o,c,f,p,y,b,E,C){if(super(b,E),this.yuvData=o,this.dataWidth=c,this.dataHeight=f,this.left=p,this.top=y,p+b>c||y+E>f)throw new w("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(b,E)}getRow(o,c){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const p=(o+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,p,c,0,f),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.yuvData;const f=o*c,p=new Uint8ClampedArray(f);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return M.arraycopy(this.yuvData,y,p,0,f),p;for(let b=0;b<c;b++){const E=b*o;M.arraycopy(this.yuvData,y,p,E,o),y+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,c,f,p){return new Ji(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+c,f,p,!1)}renderThumbnail(){const o=this.getWidth()/Ji.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/Ji.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(o*c),p=this.yuvData;let y=this.top*this.dataWidth+this.left;for(let b=0;b<c;b++){const E=b*o;for(let C=0;C<o;C++){const D=p[y+C*Ji.THUMBNAIL_SCALE_FACTOR]&255;f[E+C]=4278190080|D*65793}y+=this.dataWidth*Ji.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Ji.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ji.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,c){const f=this.yuvData;for(let p=0,y=this.top*this.dataWidth+this.left;p<c;p++,y+=this.dataWidth){const b=y+o/2;for(let E=y,C=y+o-1;E<b;E++,C--){const D=f[E];f[E]=f[C],f[C]=D}}}invert(){return new Ve(this)}}Ji.THUMBNAIL_SCALE_FACTOR=2;class ha extends Te{constructor(o,c,f,p,y,b,E){if(super(c,f),this.dataWidth=p,this.dataHeight=y,this.left=b,this.top=E,o.BYTES_PER_ELEMENT===4){const C=c*f,D=new Uint8ClampedArray(C);for(let k=0;k<C;k++){const Y=o[k],Q=Y>>16&255,ie=Y>>7&510,fe=Y&255;D[k]=(Q+ie+fe)/4&255}this.luminances=D}else this.luminances=o;if(p===void 0&&(this.dataWidth=c),y===void 0&&(this.dataHeight=f),b===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+f>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(o,c){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const p=(o+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,p,c,0,f),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.luminances;const f=o*c,p=new Uint8ClampedArray(f);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return M.arraycopy(this.luminances,y,p,0,f),p;for(let b=0;b<c;b++){const E=b*o;M.arraycopy(this.luminances,y,p,E,o),y+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,c,f,p){return new ha(this.luminances,f,p,this.dataWidth,this.dataHeight,this.left+o,this.top+c)}invert(){return new Ve(this)}}class A extends F{static forName(o){return this.getCharacterSetECIByName(o)}}class L{}L.ISO_8859_1=F.ISO8859_1;class V{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class ne{static singletonList(o){return[o]}static min(o,c){return o.sort(c)[0]}}class pe{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Ce extends pe{constructor(o,c,f){super(o),this.value=c,this.bitCount=f}appendTo(o,c){o.appendBits(this.value,this.bitCount)}add(o,c){return new Ce(this,o,c)}addBinaryShift(o,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ce(this,o,c)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+q.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class qe extends Ce{constructor(o,c,f){super(o,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=f}appendTo(o,c){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):f===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(c[this.binaryShiftStart+f],8)}addBinaryShift(o,c){return new qe(this,o,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $t(W,o,c){return new qe(W,o,c)}function er(W,o,c){return new Ce(W,o,c)}const Xt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Un=0,cr=1,Sr=2,zr=3,Pr=4,Nc=new Ce(null,0,0),_l=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function y0(W){for(let o of W)$.fill(o,-1);return W[Un][Pr]=0,W[cr][Pr]=0,W[cr][Un]=28,W[zr][Pr]=0,W[Sr][Pr]=0,W[Sr][Un]=15,W}const lh=y0($.createInt32Array(6,6));class da{constructor(o,c,f,p){this.token=o,this.mode=c,this.binaryShiftByteCount=f,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,c){let f=this.bitCount,p=this.token;if(o!==this.mode){let b=_l[this.mode][o];p=er(p,b&65535,b>>16),f+=b>>16}let y=o===Sr?4:5;return p=er(p,c,y),new da(p,o,0,f+y)}shiftAndAppend(o,c){let f=this.token,p=this.mode===Sr?4:5;return f=er(f,lh[this.mode][o],p),f=er(f,c,5),new da(f,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(o){let c=this.token,f=this.mode,p=this.bitCount;if(this.mode===Pr||this.mode===Sr){let E=_l[f][Un];c=er(c,E&65535,E>>16),p+=E>>16,f=Un}let y=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new da(c,f,this.binaryShiftByteCount+1,p+y);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(o+1)),b}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=$t(c,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new da(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let c=this.bitCount+(_l[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?c+=da.calculateBinaryShiftCost(o)-da.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(c+=10),c<=o.bitCount}toBitArray(o){let c=[];for(let p=this.endBinaryShift(o.length).token;p!==null;p=p.getPrevious())c.unshift(p);let f=new te;for(const p of c)p.appendTo(f,o);return f}toString(){return K.format("%s bits=%d bytes=%d",Xt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}da.INITIAL_STATE=new da(Nc,Un,0,0);function ch(W){const o=K.getCharCode(" "),c=K.getCharCode("."),f=K.getCharCode(",");W[Un][o]=1;const p=K.getCharCode("Z"),y=K.getCharCode("A");for(let Q=y;Q<=p;Q++)W[Un][Q]=Q-y+2;W[cr][o]=1;const b=K.getCharCode("z"),E=K.getCharCode("a");for(let Q=E;Q<=b;Q++)W[cr][Q]=Q-E+2;W[Sr][o]=1;const C=K.getCharCode("9"),D=K.getCharCode("0");for(let Q=D;Q<=C;Q++)W[Sr][Q]=Q-D+2;W[Sr][f]=12,W[Sr][c]=13;const k=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Q=0;Q<k.length;Q++)W[zr][K.getCharCode(k[Q])]=Q;const Y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Q=0;Q<Y.length;Q++)K.getCharCode(Y[Q])>0&&(W[Pr][K.getCharCode(Y[Q])]=Q);return W}const Du=ch($.createInt32Array(5,256));class Cl{constructor(o){this.text=o}encode(){const o=K.getCharCode(" "),c=K.getCharCode(`
`);let f=ne.singletonList(da.INITIAL_STATE);for(let y=0;y<this.text.length;y++){let b,E=y+1<this.text.length?this.text[y+1]:0;switch(this.text[y]){case K.getCharCode("\r"):b=E===c?2:0;break;case K.getCharCode("."):b=E===o?3:0;break;case K.getCharCode(","):b=E===o?4:0;break;case K.getCharCode(":"):b=E===o?5:0;break;default:b=0}b>0?(f=Cl.updateStateListForPair(f,y,b),y++):f=this.updateStateListForChar(f,y)}return ne.min(f,(y,b)=>y.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,c){const f=[];for(let p of o)this.updateStateForChar(p,c,f);return Cl.simplifyStates(f)}updateStateForChar(o,c,f){let p=this.text[c]&255,y=Du[o.getMode()][p]>0,b=null;for(let E=0;E<=Pr;E++){let C=Du[E][p];if(C>0){if(b==null&&(b=o.endBinaryShift(c)),!y||E===o.getMode()||E===Sr){const D=b.latchAndAppend(E,C);f.push(D)}if(!y&&lh[o.getMode()][E]>=0){const D=b.shiftAndAppend(E,C);f.push(D)}}}if(o.getBinaryShiftByteCount()>0||Du[o.getMode()][p]===0){let E=o.addBinaryShiftChar(c);f.push(E)}}static updateStateListForPair(o,c,f){const p=[];for(let y of o)this.updateStateForPair(y,c,f,p);return this.simplifyStates(p)}static updateStateForPair(o,c,f,p){let y=o.endBinaryShift(c);if(p.push(y.latchAndAppend(Pr,f)),o.getMode()!==Pr&&p.push(y.shiftAndAppend(Pr,f)),f===3||f===4){let b=y.latchAndAppend(Sr,16-f).latchAndAppend(Sr,1);p.push(b)}if(o.getBinaryShiftByteCount()>0){let b=o.addBinaryShiftChar(c).addBinaryShiftChar(c+1);p.push(b)}}static simplifyStates(o){let c=[];for(const f of o){let p=!0;for(const y of c){if(y.isBetterThanOrEqualTo(f)){p=!1;break}f.isBetterThanOrEqualTo(y)&&(c=c.filter(b=>b!==y))}p&&c.push(f)}return c}}class Kt{constructor(){}static encodeBytes(o){return Kt.encode(o,Kt.DEFAULT_EC_PERCENT,Kt.DEFAULT_AZTEC_LAYERS)}static encode(o,c,f){let p=new Cl(o).encode(),y=q.truncDivision(p.getSize()*c,100)+11,b=p.getSize()+y,E,C,D,k,Y;if(f!==Kt.DEFAULT_AZTEC_LAYERS){if(E=f<0,C=Math.abs(f),C>(E?Kt.MAX_NB_BITS_COMPACT:Kt.MAX_NB_BITS))throw new w(K.format("Illegal value %s for layers",f));D=Kt.totalBitsInLayer(C,E),k=Kt.WORD_SIZE[C];let Fe=D-D%k;if(Y=Kt.stuffBits(p,k),Y.getSize()+y>Fe)throw new w("Data to large for user specified layer");if(E&&Y.getSize()>k*64)throw new w("Data to large for user specified layer")}else{k=0,Y=null;for(let Fe=0;;Fe++){if(Fe>Kt.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(E=Fe<=3,C=E?Fe+1:Fe,D=Kt.totalBitsInLayer(C,E),b>D)continue;(Y==null||k!==Kt.WORD_SIZE[C])&&(k=Kt.WORD_SIZE[C],Y=Kt.stuffBits(p,k));let Ot=D-D%k;if(!(E&&Y.getSize()>k*64)&&Y.getSize()+y<=Ot)break}}let Q=Kt.generateCheckWords(Y,D,k),ie=Y.getSize()/k,fe=Kt.generateModeMessage(E,C,ie),he=(E?11:14)+C*4,ye=new Int32Array(he),Ae;if(E){Ae=he;for(let Fe=0;Fe<ye.length;Fe++)ye[Fe]=Fe}else{Ae=he+1+2*q.truncDivision(q.truncDivision(he,2)-1,15);let Fe=q.truncDivision(he,2),Ot=q.truncDivision(Ae,2);for(let _t=0;_t<Fe;_t++){let Ai=_t+q.truncDivision(_t,15);ye[Fe-_t-1]=Ot-Ai-1,ye[Fe+_t]=Ot+Ai+1}}let ze=new ue(Ae);for(let Fe=0,Ot=0;Fe<C;Fe++){let _t=(C-Fe)*4+(E?9:12);for(let Ai=0;Ai<_t;Ai++){let ga=Ai*2;for(let Fi=0;Fi<2;Fi++)Q.get(Ot+ga+Fi)&&ze.set(ye[Fe*2+Fi],ye[Fe*2+Ai]),Q.get(Ot+_t*2+ga+Fi)&&ze.set(ye[Fe*2+Ai],ye[he-1-Fe*2-Fi]),Q.get(Ot+_t*4+ga+Fi)&&ze.set(ye[he-1-Fe*2-Fi],ye[he-1-Fe*2-Ai]),Q.get(Ot+_t*6+ga+Fi)&&ze.set(ye[he-1-Fe*2-Ai],ye[Fe*2+Fi])}Ot+=_t*8}if(Kt.drawModeMessage(ze,E,Ae,fe),E)Kt.drawBullsEye(ze,q.truncDivision(Ae,2),5);else{Kt.drawBullsEye(ze,q.truncDivision(Ae,2),7);for(let Fe=0,Ot=0;Fe<q.truncDivision(he,2)-1;Fe+=15,Ot+=16)for(let _t=q.truncDivision(Ae,2)&1;_t<Ae;_t+=2)ze.set(q.truncDivision(Ae,2)-Ot,_t),ze.set(q.truncDivision(Ae,2)+Ot,_t),ze.set(_t,q.truncDivision(Ae,2)-Ot),ze.set(_t,q.truncDivision(Ae,2)+Ot)}let He=new V;return He.setCompact(E),He.setSize(Ae),He.setLayers(C),He.setCodeWords(ie),He.setMatrix(ze),He}static drawBullsEye(o,c,f){for(let p=0;p<f;p+=2)for(let y=c-p;y<=c+p;y++)o.set(y,c-p),o.set(y,c+p),o.set(c-p,y),o.set(c+p,y);o.set(c-f,c-f),o.set(c-f+1,c-f),o.set(c-f,c-f+1),o.set(c+f,c-f),o.set(c+f,c-f+1),o.set(c+f,c+f-1)}static generateModeMessage(o,c,f){let p=new te;return o?(p.appendBits(c-1,2),p.appendBits(f-1,6),p=Kt.generateCheckWords(p,28,4)):(p.appendBits(c-1,5),p.appendBits(f-1,11),p=Kt.generateCheckWords(p,40,4)),p}static drawModeMessage(o,c,f,p){let y=q.truncDivision(f,2);if(c)for(let b=0;b<7;b++){let E=y-3+b;p.get(b)&&o.set(E,y-5),p.get(b+7)&&o.set(y+5,E),p.get(20-b)&&o.set(E,y+5),p.get(27-b)&&o.set(y-5,E)}else for(let b=0;b<10;b++){let E=y-5+b+q.truncDivision(b,5);p.get(b)&&o.set(E,y-7),p.get(b+10)&&o.set(y+7,E),p.get(29-b)&&o.set(E,y+7),p.get(39-b)&&o.set(y-7,E)}}static generateCheckWords(o,c,f){let p=o.getSize()/f,y=new Js(Kt.getGF(f)),b=q.truncDivision(c,f),E=Kt.bitsToWords(o,f,b);y.encode(E,b-p);let C=c%f,D=new te;D.appendBits(0,C);for(const k of Array.from(E))D.appendBits(k,f);return D}static bitsToWords(o,c,f){let p=new Int32Array(f),y,b;for(y=0,b=o.getSize()/c;y<b;y++){let E=0;for(let C=0;C<c;C++)E|=o.get(y*c+C)?1<<c-C-1:0;p[y]=E}return p}static getGF(o){switch(o){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new w("Unsupported word size "+o)}}static stuffBits(o,c){let f=new te,p=o.getSize(),y=(1<<c)-2;for(let b=0;b<p;b+=c){let E=0;for(let C=0;C<c;C++)(b+C>=p||o.get(b+C))&&(E|=1<<c-1-C);(E&y)===y?(f.appendBits(E&y,c),b--):(E&y)===0?(f.appendBits(E|1,c),b--):f.appendBits(E,c)}return f}static totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}Kt.DEFAULT_EC_PERCENT=33,Kt.DEFAULT_AZTEC_LAYERS=0,Kt.MAX_NB_BITS=32,Kt.MAX_NB_BITS_COMPACT=4,Kt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Mu{encode(o,c,f,p){return this.encodeWithHints(o,c,f,p,null)}encodeWithHints(o,c,f,p,y){let b=L.ISO_8859_1,E=Kt.DEFAULT_EC_PERCENT,C=Kt.DEFAULT_AZTEC_LAYERS;return y!=null&&(y.has(lr.CHARACTER_SET)&&(b=A.forName(y.get(lr.CHARACTER_SET).toString())),y.has(lr.ERROR_CORRECTION)&&(E=q.parseInt(y.get(lr.ERROR_CORRECTION).toString())),y.has(lr.AZTEC_LAYERS)&&(C=q.parseInt(y.get(lr.AZTEC_LAYERS).toString()))),Mu.encodeLayers(o,c,f,p,b,E,C)}static encodeLayers(o,c,f,p,y,b,E){if(c!==Ue.AZTEC)throw new w("Can only encode AZTEC, but got "+c);let C=Kt.encode(K.getBytes(o,y),b,E);return Mu.renderResult(C,f,p)}static renderResult(o,c,f){let p=o.getMatrix();if(p==null)throw new tn;let y=p.getWidth(),b=p.getHeight(),E=Math.max(c,y),C=Math.max(f,b),D=Math.min(E/y,C/b),k=(E-y*D)/2,Y=(C-b*D)/2,Q=new ue(E,C);for(let ie=0,fe=Y;ie<b;ie++,fe+=D)for(let he=0,ye=k;he<y;he++,ye+=D)p.get(he,ie)&&Q.setRegion(ye,fe,D,D);return Q}}n.AbstractExpandedDecoder=rs,n.ArgumentException=v,n.ArithmeticException=Be,n.AztecCode=V,n.AztecCodeReader=ut,n.AztecCodeWriter=Mu,n.AztecDecoder=Jt,n.AztecDetector=tt,n.AztecDetectorResult=pi,n.AztecEncoder=Kt,n.AztecHighLevelEncoder=Cl,n.AztecPoint=rn,n.BarcodeFormat=Ue,n.Binarizer=N,n.BinaryBitmap=S,n.BitArray=te,n.BitMatrix=ue,n.BitSource=Kr,n.BrowserAztecCodeReader=Bt,n.BrowserBarcodeReader=_u,n.BrowserCodeReader=je,n.BrowserDatamatrixCodeReader=oh,n.BrowserMultiFormatReader=Iu,n.BrowserPDF417Reader=Ou,n.BrowserQRCodeReader=Rc,n.BrowserQRCodeSvgWriter=fa,n.CharacterSetECI=F,n.ChecksumException=T,n.Code128Reader=ke,n.Code39Reader=bt,n.DataMatrixDecodedBitStreamParser=as,n.DataMatrixReader=ji,n.DecodeHintType=ee,n.DecoderResult=De,n.DefaultGridSampler=nn,n.DetectorResult=Ys,n.EAN13Reader=vi,n.EncodeHintType=lr,n.Exception=d,n.FormatException=j,n.GenericGF=st,n.GenericGFPoly=it,n.GlobalHistogramBinarizer=oe,n.GridSampler=$s,n.GridSamplerInstance=rr,n.HTMLCanvasElementLuminanceSource=ae,n.HybridBinarizer=ce,n.ITFReader=Ft,n.IllegalArgumentException=w,n.IllegalStateException=tn,n.InvertedLuminanceSource=Ve,n.LuminanceSource=Te,n.MathUtils=It,n.MultiFormatOneDReader=la,n.MultiFormatReader=Zs,n.MultiFormatWriter=Nu,n.NotFoundException=se,n.OneDReader=dt,n.PDF417DecodedBitStreamParser=Se,n.PDF417DecoderErrorCorrection=ls,n.PDF417Reader=Mr,n.PDF417ResultMetadata=To,n.PerspectiveTransform=Yt,n.PlanarYUVLuminanceSource=Ji,n.QRCodeByteMatrix=eo,n.QRCodeDataMask=Zn,n.QRCodeDecodedBitStreamParser=jn,n.QRCodeDecoderErrorCorrectionLevel=kt,n.QRCodeDecoderFormatInformation=ar,n.QRCodeEncoder=bn,n.QRCodeEncoderQRCode=Ei,n.QRCodeMaskUtil=Bn,n.QRCodeMatrixUtil=ft,n.QRCodeMode=at,n.QRCodeReader=Ia,n.QRCodeVersion=We,n.QRCodeWriter=Ar,n.RGBLuminanceSource=ha,n.RSS14Reader=Pt,n.RSSExpandedReader=Me,n.ReaderException=Qs,n.ReedSolomonDecoder=Xn,n.ReedSolomonEncoder=Js,n.ReedSolomonException=Tt,n.Result=Ye,n.ResultMetadataType=vt,n.ResultPoint=$e,n.StringUtils=K,n.UnsupportedOperationException=Z,n.VideoInputDevice=be,n.WhiteRectangleDetector=yi,n.WriterException=dn,n.ZXingArrays=$,n.ZXingCharset=A,n.ZXingInteger=q,n.ZXingStandardCharsets=L,n.ZXingStringBuilder=U,n.ZXingStringEncoding=z,n.ZXingSystem=M,n.createAbstractExpandedDecoder=Oc,Object.defineProperty(n,"__esModule",{value:!0})})}(ld,ld.exports)),ld.exports}var tr=LV();const kV=bo(tr),jV=CR({__proto__:null,default:kV},[tr]);var rI=function(){function t(e,n,r){if(this.formatMap=new Map([[Ze.QR_CODE,tr.BarcodeFormat.QR_CODE],[Ze.AZTEC,tr.BarcodeFormat.AZTEC],[Ze.CODABAR,tr.BarcodeFormat.CODABAR],[Ze.CODE_39,tr.BarcodeFormat.CODE_39],[Ze.CODE_93,tr.BarcodeFormat.CODE_93],[Ze.CODE_128,tr.BarcodeFormat.CODE_128],[Ze.DATA_MATRIX,tr.BarcodeFormat.DATA_MATRIX],[Ze.MAXICODE,tr.BarcodeFormat.MAXICODE],[Ze.ITF,tr.BarcodeFormat.ITF],[Ze.EAN_13,tr.BarcodeFormat.EAN_13],[Ze.EAN_8,tr.BarcodeFormat.EAN_8],[Ze.PDF_417,tr.BarcodeFormat.PDF_417],[Ze.RSS_14,tr.BarcodeFormat.RSS_14],[Ze.RSS_EXPANDED,tr.BarcodeFormat.RSS_EXPANDED],[Ze.UPC_A,tr.BarcodeFormat.UPC_A],[Ze.UPC_E,tr.BarcodeFormat.UPC_E],[Ze.UPC_EAN_EXTENSION,tr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!jV)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),a=new Map;a.set(tr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(tr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var n=new tr.MultiFormatReader(this.verbose,this.hints),r=new tr.HTMLCanvasElementLuminanceSource(e),i=new tr.BinaryBitmap(new tr.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:WD.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),BV=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function g(v){try{d(r.next(v))}catch(w){u(w)}}function m(v){try{d(r.throw(v))}catch(w){u(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},UV=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},iI=function(){function t(e,n,r){if(this.formatMap=new Map([[Ze.QR_CODE,"qr_code"],[Ze.AZTEC,"aztec"],[Ze.CODABAR,"codabar"],[Ze.CODE_39,"code_39"],[Ze.CODE_93,"code_93"],[Ze.CODE_128,"code_128"],[Ze.DATA_MATRIX,"data_matrix"],[Ze.ITF,"itf"],[Ze.EAN_13,"ean_13"],[Ze.EAN_8,"ean_8"],[Ze.PDF_417,"pdf417"],[Ze.UPC_A,"upc_a"],[Ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return BV(this,void 0,void 0,function(){var n,r;return UV(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:WD.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,a=e;i<a.length;i++){var u=a[i],g=u.boundingBox.width*u.boundingBox.height;g>r&&(r=g,n=u)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),aI=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function g(v){try{d(r.next(v))}catch(w){u(w)}}function m(v){try{d(r.throw(v))}catch(w){u(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},sI=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},FV=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&iI.isSupported()?(this.primaryDecoder=new iI(e,r,i),this.secondaryDecoder=new rI(e,r,i)):this.primaryDecoder=new rI(e,r,i)}return t.prototype.decodeAsync=function(e){return aI(this,void 0,void 0,function(){var n;return sI(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return aI(this,void 0,void 0,function(){var n,r;return sI(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),vw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xg=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function g(v){try{d(r.next(v))}catch(w){u(w)}}function m(v){try{d(r.throw(v))}catch(w){u(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},bg=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},KD=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),VV=function(t){vw(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(KD),zV=function(t){vw(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(VV),HV=function(t){vw(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(KD),qV=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new zV(this.track)},t.prototype.torchFeature=function(){return new HV(this.track)},t}(),GV=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return xg(this,void 0,void 0,function(){var a,u;return bg(this,function(g){switch(g.label){case 0:return a=new t(e,n,i),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return xg(this,void 0,void 0,function(){return bg(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),a=i.length,u=0;e.mediaStream.getVideoTracks().forEach(function(g){e.mediaStream.removeTrack(g),g.stop(),++u,u>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new qV(this.getFirstTrackOrFail())},t}(),WV=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return xg(this,void 0,void 0,function(){return bg(this,function(i){return[2,GV.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return xg(this,void 0,void 0,function(){var n,r;return bg(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),oI=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function g(v){try{d(r.next(v))}catch(w){u(w)}}function m(v){try{d(r.throw(v))}catch(w){u(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},lI=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},YV=function(){function t(){}return t.failIfNotSupported=function(){return oI(this,void 0,void 0,function(){return lI(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return oI(this,void 0,void 0,function(){return lI(this,function(n){return[2,WV.create(e)]})})},t}(),$V=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function g(v){try{d(r.next(v))}catch(w){u(w)}}function m(v){try{d(r.throw(v))}catch(w){u(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},XV=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},KV=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=bf.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=bf.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return $V(this,void 0,void 0,function(){var e,n,r,i,a,u,g;return XV(this,function(m){switch(m.label){case 0:return e=function(d){for(var v=d.getVideoTracks(),w=0,S=v;w<S.length;w++){var T=S[w];T.enabled=!1,T.stop(),d.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],a=0,u=r;a<u.length;a++)g=u[a],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(a){for(var u=[],g=0,m=a;g<m.length;g++){var d=m[g];d.kind==="video"&&u.push({id:d.id,label:d.label})}e(u)},i=MediaStreamTrack;i.getSources(r)})},t}(),Ir;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Ir||(Ir={}));var QV=function(){function t(){this.state=Ir.NOT_STARTED,this.onGoingTransactionNewState=Ir.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Ir.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ir.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ir.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ir.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ir.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Ir.UNKNOWN:throw"Transition from unknown is not allowed";case Ir.NOT_STARTED:this.failIfNewStateIs(e,[Ir.PAUSED]);break;case Ir.SCANNING:break;case Ir.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),ZV=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Ir.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Ir.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ir.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Ir.PAUSED},t}(),JV=function(){function t(){}return t.create=function(){return new ZV(new QV)},t}(),ez=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(t){ez(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Us),tz=function(){function t(e,n){this.logger=n,this.fps=za.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=za.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?XD.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!oo(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),cI=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new $D(this.verbose),this.qrcode=new FV(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=JV.create()}return t.prototype.start=function(e,n,r,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var g=tz.create(n,this.logger);this.clearElement();var m=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=m,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:za.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,S=this.stateManagerProxy.startTransition(Ir.SCANNING);return new Promise(function(T,N){var M=d?g.videoConstraints:w.createVideoConstraints(e);if(!M){S.cancel(),N("videoConstraints should be defined");return}var P={};(!d||g.aspectRatio)&&(P.aspectRatio=g.aspectRatio);var B={onRenderSurfaceReady:function($,q){w.setupUi($,q,g),w.isScanning=!0,w.foreverScan(g,r,u)}};YV.failIfNotSupported().then(function($){$.create(M).then(function(q){return q.render(a.element,P,B).then(function(te){w.renderedCamera=te,S.execute(),T(null)}).catch(function(te){S.cancel(),N(te)})}).catch(function(q){S.cancel(),N(bf.errorGettingUserMedia(q))})}).catch(function($){S.cancel(),N(bf.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ir.PAUSED),this.showPausedState(),(oo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Ir.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ir.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var a=document.getElementById(za.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(oo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var u=new Image;u.onload=function(){var g=u.width,m=u.height,d=document.getElementById(r.elementId),v=d.clientWidth?d.clientWidth:za.DEFAULT_WIDTH,w=Math.max(d.clientHeight?d.clientHeight:m,za.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(g,m,v,w);if(n){var T=r.createCanvasElement(v,w,"qr-canvas-visible");T.style.display="inline-block",d.appendChild(T);var N=T.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=v,N.canvas.height=w,N.drawImage(u,0,0,g,m,S.x,S.y,S.width,S.height)}var M=za.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(u.width,S.width),B=Math.max(u.height,S.height),$=P+2*M,q=B+2*M,te=r.createCanvasElement($,q);d.appendChild(te);var X=te.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=$,X.canvas.height=q,X.drawImage(u,0,0,g,m,M,M,P,B);try{r.qrcode.decodeRobustlyAsync(te).then(function(ee){i(eI.createFromQrcodeResult(ee))}).catch(a)}catch(ee){a("QR code parse error, error = ".concat(ee))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return KV.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!XD.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Ze.QR_CODE,Ze.AZTEC,Ze.CODABAR,Ze.CODE_39,Ze.CODE_93,Ze.CODE_128,Ze.DATA_MATRIX,Ze.MAXICODE,Ze.ITF,Ze.EAN_13,Ze.EAN_8,Ze.PDF_417,Ze.RSS_14,Ze.RSS_EXPANDED,Ze.UPC_A,Ze.UPC_E,Ze.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=e.formatsToSupport;i<a.length;i++){var u=a[i];DV(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(oo(e))return!0;if(!oo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(oo(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return oo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(e,n,a),g=function(d){if(d<za.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(za.MIN_QR_BOX_SIZE,"px.")},m=function(d){return d>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};g(u.width),g(u.height),u.width=m(u.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=oo(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,g={x:0,y:0,width:e,height:n},m=u?this.getShadedRegionBounds(e,n,a):g,d=this.createCanvasElement(m.width,m.height),v={willReadFrequently:!0},w=d.getContext("2d",v);w.canvas.width=m.width,w.canvas.height=m.height,this.element.append(d),u&&this.possiblyInsertShadingElement(this.element,e,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=w,this.canvasElement=d},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=bf.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,eI.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=bf.codeParseError(i);return n(a,YD.createFrom(a)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*u,d=this.qrRegion.height*g,v=this.qrRegion.x*u,w=this.qrRegion.y*g;this.context.drawImage(a,v,w,m,d,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(T){!T&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){S()})):S()}).catch(function(T){i.logger.logError("Error happend while scanning context",T),S()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",u=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},g=Object.keys(e);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var m=Object.keys(e)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var d=e.facingMode;if(typeof d=="string"){if(u(d))return{facingMode:d}}else if(typeof d=="object")if(a in d){if(u(d["".concat(a)]))return{facingMode:{exact:d["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var v=typeof d;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var S=typeof w;throw"Invalid type of 'deviceId' = ".concat(S)}}}var T=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var a=(r-e)/2,u=(i-n)/2;return{x:a,y:u,width:e,height:n}}else{var g=e,m=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(m)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?za.BORDER_SHADER_MATCH_COLOR:za.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,a=n,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=oo(r)?"qr-canvas":r,u},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-i.width)/2,g=(r-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(za.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,d=40;this.insertShaderBorders(a,d,m,-m,null,0,!0),this.insertShaderBorders(a,d,m,-m,null,0,!1),this.insertShaderBorders(a,d,m,null,-m,0,!0),this.insertShaderBorders(a,d,m,null,-m,0,!1),this.insertShaderBorders(a,m,d+m,-m,null,-m,!0),this.insertShaderBorders(a,m,d+m,null,-m,-m,!0),this.insertShaderBorders(a,m,d+m,-m,null,-m,!1),this.insertShaderBorders(a,m,d+m,null,-m,-m,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,n,r,i,a,u,g){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=za.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),g?m.style.left="".concat(u,"px"):m.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),e.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),xw="data:image/svg+xml;base64,",nz=xw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",rz=xw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",uI=xw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",iz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",fI=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),az=function(){function t(){this.data=fI.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=fI.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),sz=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=tI.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=tI.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),oz=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=uI,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=iz,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=uI,this.infoIcon.style.opacity="0.6")},t}(),lz=function(){function t(){var e=this;this.infoDiv=new sz,this.infoIcon=new oz(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),cz=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function g(v){try{d(r.next(v))}catch(w){u(w)}}function m(v){try{d(r.throw(v))}catch(w){u(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},uz=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},hI=function(){function t(){}return t.hasPermissions=function(){return cz(this,void 0,void 0,function(){var e,n,r,i;return uz(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t}(),$l=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===dc.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===dc.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Us.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Us.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!Us.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t}(),$a=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Wo=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add($a.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),QD=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function g(v){try{d(r.next(v))}catch(w){u(w)}}function m(v){try{d(r.throw(v))}catch(w){u(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},ZD=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},dI=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return QD(this,void 0,void 0,function(){var e,n;return ZD(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Tn.torchOffButton():Tn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Tn.torchOnFailedMessage():Tn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),fz=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Wo.createElement("button",$a.TORCH_BUTTON_ID),this.torchController=new dI(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Tn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return QD(r,void 0,void 0,function(){return ZD(this,function(u){switch(u.label){case 0:return[4,i.torchController.flipState()];case 1:return u.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove($a.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add($a.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove($a.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add($a.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new dI(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Tn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var a=new t(n,i);return a.render(e,r),a},t}(),hz=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Wo.createElement("button",$a.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Wo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var m=g.target;if(!(m.files&&m.files.length===0)){var d=m.files,v=d[0],w=v.name;a.setImageNameToButton(w),r(v)}}});var u=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(u),this.fileBasedScanRegion.addEventListener("dragenter",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var m=g.dataTransfer;if(m){var d=m.files;if(!d||d.length===0)return;for(var v=!1,w=0;w<d.length;++w){var S=d.item(w);if(S){var T=/image.*/;if(S.type.match(T)){v=!0;var N=S.name;a.setImageNameToButton(N),r(S),u.innerText=Tn.dragAndDropMessage();break}}}v||(u.innerText=Tn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Tn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(r,"....").concat(a)}var u=Tn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=u},t.prototype.setInitialValueToButton=function(){var e=Tn.fileSelectionChooseImage()+" - "+Tn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t}(),dz=function(){function t(e){this.selectElement=Wo.createElement("select",$a.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Tn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,u=0,g=this.cameras;u<g.length;u++){var m=g[u],d=m.id,v=m.label==null?d:m.label;(!v||v==="")&&(v=[Tn.anonymousCameraPrefix(),a++].join(" "));var w=document.createElement("option");w.value=d,w.innerText=v,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),gz=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Wo.createElement("input",$a.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Tn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),Ha;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ha||(Ha={}));function mz(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function pz(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var Mf=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new $l(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new $D(this.verbose),this.persistedDataManager=new az,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,u){if(e)e(a,u);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(Tn.lastMatch(a),Ha.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,u){n&&n(a,u)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new cI(this.getScanRegionId(),pz(this.config,this.verbose))},t.prototype.pause=function(e){(oo(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Us.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Us.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Us.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Us.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Us.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Us.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Us.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),$l.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new lz;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Tn.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(e,n)};cI.getCameras().then(function(u){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),u&&u.length>0?(e.removeChild(n),i.renderCameraSelection(u)):(i.setHeaderMessage(Tn.noCameraFound(),Ha.STATUS_WARNING),a())}).catch(function(u){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(u,Ha.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=Wo.createElement("button",this.getCameraPermissionButtonId());i.innerText=Tn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if($l.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){hI.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=$l.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=$l.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";$l.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Tn.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(u){r.resetHeaderMessage(),r.qrCodeSuccessCallback(u.decodedText,u)}).catch(function(u){r.setHeaderMessage(u,Ha.STATUS_WARNING),r.qrCodeErrorCallback(u,YD.createFrom(u))}))};this.fileSelectionUi=hz.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=gz.create(i,!1),u=function(M){var P=M.zoomFeature();if(P.isSupported()){a.setOnCameraZoomValueChangeCallback(function($){P.apply($)});var B=1;n.config.defaultZoomValueIfSupported&&(B=n.config.defaultZoomValueIfSupported),B=MV(B,P.min(),P.max()),a.setValues(P.min(),P.max(),B,P.step()),a.show()}},g=dz.create(i,e),m=document.createElement("span"),d=Wo.createElement("button",$a.CAMERA_START_BUTTON_ID);d.innerText=Tn.scanButtonStartScanningText(),m.appendChild(d);var v=Wo.createElement("button",$a.CAMERA_STOP_BUTTON_ID);v.innerText=Tn.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,m.appendChild(v);var w,S=function(M){if(!M.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(M.torchFeature()):w=fz.create(m,M.torchFeature(),{display:"none",marginLeft:"5px"},function(P){r.setHeaderMessage(P,Ha.STATUS_WARNING)}),w.show()};i.appendChild(m);var T=function(M){M||(d.style.display="none"),d.innerText=Tn.scanButtonStartScanningText(),d.style.opacity="1",d.disabled=!1,M&&(d.style.display="inline-block")};if(d.addEventListener("click",function(M){d.innerText=Tn.scanButtonScanningStarting(),g.disable(),d.disabled=!0,d.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var P=g.getValue();r.persistedDataManager.setLastUsedCameraId(P),r.html5Qrcode.start(P,mz(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(B){v.disabled=!1,v.style.display="inline-block",T(!1);var $=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&S($),n.config.showZoomSliderIfSupported===!0&&u($)}).catch(function(B){r.showHideScanTypeSwapLink(!0),g.enable(),T(!0),r.setHeaderMessage(B,Ha.STATUS_WARNING)})}),g.hasSingleItem()&&d.click(),v.addEventListener("click",function(M){if(!r.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,r.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),d.disabled=!1,v.style.display="none",d.style.display="inline-block",w&&(w.reset(),w.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(P){v.disabled=!1,r.setHeaderMessage(P,Ha.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var N=r.persistedDataManager.getLastUsedCameraId();g.hasValue(N)?(g.setValue(N),d.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Tn.textIfCameraScanSelected(),r=Tn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var u=Wo.createElement("span",this.getDashboardSectionSwapLinkId());u.style.textDecoration="underline",u.style.cursor="pointer",u.innerText=$l.isCameraScanType(this.currentScanType)?n:r,u.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,$l.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),u.innerText=r,e.currentScanType=dc.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),u.innerText=n,e.currentScanType=dc.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(u),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){hI.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Ha.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case Ha.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Ha.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Ha.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=nz,this.cameraScanImage.alt=Tn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=rz,this.fileScanImage.alt=Tn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return $a.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return $a.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const yz=t=>{let e=new Date,n="";if(t)try{e=typeof t?.toDate=="function"?t.toDate():new Date(t),n=e.toLocaleString()}catch{n=String(t)}return{dateStr:n,rawDate:e}},JD=()=>{const t=hm(),[e,n]=R.useState([]),[r,i]=R.useState(!0),[a,u]=R.useState("Newest"),[g,m]=R.useState(""),[d,v]=R.useState("All"),[w,S]=R.useState(""),[T,N]=R.useState(""),[M,P]=R.useState(!1);R.useEffect(()=>{(async()=>{i(!0);try{const ee=gr(pt(Ge,"transactions"),pw("date",a==="Newest"?"desc":"asc")),G=(await wn(ee)).docs.map(F=>{const Z=F.data(),{dateStr:z,rawDate:K}=yz(Z.date);return{id:F.id,amount:Z.amount??0,customerId:Z.customerId??"Unknown",date:z,fullName:Z.fullName??"N/A",items:Array.isArray(Z.items)?Z.items:[],rawDate:K,paymentMethod:Z.paymentMethod??"Cash"}});n(G)}catch(ee){console.error("Error fetching transactions:",ee)}finally{i(!1)}})()},[a]),R.useEffect(()=>{if(M){const X=new Mf("qr-reader",{fps:10,qrbox:250});return X.render(ee=>{m(ee),P(!1),X.clear()},ee=>{console.warn("QR Scan error:",ee)}),()=>{X.clear().catch(()=>{})}}},[M]);const B=R.useMemo(()=>[...e].sort((X,ee)=>{const j=X.rawDate.getTime(),G=ee.rawDate.getTime();return a==="Newest"?G-j:j-G}),[e,a]),$=R.useMemo(()=>B.filter(X=>{const ee=X.fullName.toLowerCase().includes(g.toLowerCase())||X.customerId.toLowerCase().includes(g.toLowerCase())||X.id.toLowerCase().includes(g.toLowerCase()),j=d==="All"||X.paymentMethod===d,G=(!w||X.rawDate>=new Date(w))&&(!T||X.rawDate<=new Date(T));return ee&&j&&G}),[B,g,d,w,T]),q=X=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(X),te=R.useMemo(()=>$.reduce((X,ee)=>X+ee.amount,0),[$]);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"transactions-container",children:[I.jsx("h2",{className:"transactions-header",children:"Transactions"}),I.jsxs("div",{className:"controls",children:[I.jsx("input",{type:"text",placeholder:"Search by customer, ID, or scan QR...",className:"search-input",value:g,onChange:X=>m(X.target.value)}),I.jsx("button",{onClick:()=>P(!M),className:"qr-btn",style:{background:"#5b1818ff",color:"white"},children:M?"Close Scanner":"Scan QR"}),M&&I.jsx("div",{id:"qr-reader",style:{width:"300px",marginTop:"10px"}}),I.jsxs("select",{className:"filter-select",value:d,onChange:X=>v(X.target.value),children:[I.jsx("option",{value:"All",children:"All Payment Methods"}),I.jsx("option",{value:"Wallet",children:"Wallet"}),I.jsx("option",{value:"Points",children:"Points"}),I.jsx("option",{value:"Cash",children:"Over the Counter"})]}),I.jsx("input",{type:"date",value:w,onChange:X=>S(X.target.value)}),I.jsx("input",{type:"date",value:T,onChange:X=>N(X.target.value)})]}),I.jsxs("div",{className:"total-sales",children:[I.jsx("strong",{children:"Total Sales: "})," ",q(te)]}),r?I.jsx("p",{className:"loading",children:"Loading transactions..."}):$.length===0?I.jsx("p",{className:"no-data",children:"No transactions found"}):I.jsx("div",{className:"table-wrapper",children:I.jsxs("table",{className:"transactions-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Transaction ID"}),I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Payment Method"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Items"})]})}),I.jsx("tbody",{children:$.map(X=>I.jsxs("tr",{onClick:()=>t(`/transaction/${X.id}`),children:[I.jsx("td",{children:X.id}),I.jsx("td",{children:X.fullName}),I.jsx("td",{children:q(X.amount)}),I.jsx("td",{className:`payment-method ${X.paymentMethod==="Points"?"Points":X.paymentMethod==="Wallet"?"wallet":"cash"}`,children:X.paymentMethod}),I.jsx("td",{children:X.date}),I.jsx("td",{children:I.jsx("ul",{style:{paddingLeft:"15px",margin:0},children:X.items.map((ee,j)=>I.jsxs("li",{style:{marginBottom:"4px"},children:[I.jsx("strong",{children:ee.name}),ee.category&&I.jsxs("span",{children:[" ","— ",I.jsx("em",{children:ee.category})]}),I.jsxs("span",{children:[" | Qty: ",ee.qty]}),I.jsxs("span",{children:[" | ₱",ee.price]})]},j))})})]},X.id))})]})})]})]})};function eM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eM(t))&&(r&&(r+=" "),r+=e);return r}var vz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bw(t){if(typeof t!="string")return!1;var e=vz;return e.includes(t)}var xz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function tM(t){if(typeof t!="string")return!1;var e=xz;return e.includes(t)}function nM(t){return typeof t=="string"&&t.startsWith("data-")}function Ja(t){var e=Object.entries(t).filter(n=>{var[r]=n;return tM(r)||nM(r)});return Object.fromEntries(e)}function lu(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ja(e)}return typeof t=="object"&&!Array.isArray(t)?Ja(t):null}function aa(t){var e=Object.entries(t).filter(n=>{var[r]=n;return tM(r)||nM(r)||bw(r)});return Object.fromEntries(e)}function bz(t){return t==null?null:R.isValidElement(t)?aa(t.props):typeof t=="object"&&!Array.isArray(t)?aa(t):null}var wz=["children","width","height","viewBox","className","style","title","desc"];function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T2.apply(null,arguments)}function Ez(t,e){if(t==null)return{};var n,r,i=Az(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Az(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ww=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:u,style:g,title:m,desc:d}=t,v=Ez(t,wz),w=a||{width:r,height:i,x:0,y:0},S=mn("recharts-surface",u);return R.createElement("svg",T2({},aa(v),{className:S,width:r,height:i,style:g,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:e}),R.createElement("title",null,m),R.createElement("desc",null,d),n)}),Sz=["children","className"];function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I2.apply(null,arguments)}function _z(t,e){if(t==null)return{};var n,r,i=Cz(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mi=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=_z(t,Sz),a=mn("recharts-layer",r);return R.createElement("g",I2({className:a},aa(i),{ref:e}),n)}),rM=R.createContext(null),Tz=()=>R.useContext(rM);function Wn(t){return function(){return t}}const iM=Math.cos,wg=Math.sin,Ws=Math.sqrt,Eg=Math.PI,Bm=2*Eg,O2=Math.PI,R2=2*O2,Wc=1e-6,Iz=R2-Wc;function aM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Oz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Rz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aM:Oz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,u){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,g=this._y1,m=r-e,d=i-n,v=u-e,w=g-n,S=v*v+w*w;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(S>Wc)if(!(Math.abs(w*m-d*v)>Wc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let T=r-u,N=i-g,M=m*m+d*d,P=T*T+N*N,B=Math.sqrt(M),$=Math.sqrt(S),q=a*Math.tan((O2-Math.acos((M+S-P)/(2*B*$)))/2),te=q/$,X=q/B;Math.abs(te-1)>Wc&&this._append`L${e+te*v},${n+te*w}`,this._append`A${a},${a},0,0,${+(w*T>v*N)},${this._x1=e+X*m},${this._y1=n+X*d}`}}arc(e,n,r,i,a,u){if(e=+e,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let g=r*Math.cos(i),m=r*Math.sin(i),d=e+g,v=n+m,w=1^u,S=u?i-a:a-i;this._x1===null?this._append`M${d},${v}`:(Math.abs(this._x1-d)>Wc||Math.abs(this._y1-v)>Wc)&&this._append`L${d},${v}`,r&&(S<0&&(S=S%R2+R2),S>Iz?this._append`A${r},${r},0,1,${w},${e-g},${n-m}A${r},${r},0,1,${w},${this._x1=d},${this._y1=v}`:S>Wc&&this._append`A${r},${r},0,${+(S>=O2)},${w},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ew(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Rz(e)}function Aw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sM(t){this._context=t}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Um(t){return new sM(t)}function oM(t){return t[0]}function lM(t){return t[1]}function cM(t,e){var n=Wn(!0),r=null,i=Um,a=null,u=Ew(g);t=typeof t=="function"?t:t===void 0?oM:Wn(t),e=typeof e=="function"?e:e===void 0?lM:Wn(e);function g(m){var d,v=(m=Aw(m)).length,w,S=!1,T;for(r==null&&(a=i(T=u())),d=0;d<=v;++d)!(d<v&&n(w=m[d],d,m))===S&&((S=!S)?a.lineStart():a.lineEnd()),S&&a.point(+t(w,d,m),+e(w,d,m));if(T)return a=null,T+""||null}return g.x=function(m){return arguments.length?(t=typeof m=="function"?m:Wn(+m),g):t},g.y=function(m){return arguments.length?(e=typeof m=="function"?m:Wn(+m),g):e},g.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Wn(!!m),g):n},g.curve=function(m){return arguments.length?(i=m,r!=null&&(a=i(r)),g):i},g.context=function(m){return arguments.length?(m==null?r=a=null:a=i(r=m),g):r},g}function C1(t,e,n){var r=null,i=Wn(!0),a=null,u=Um,g=null,m=Ew(d);t=typeof t=="function"?t:t===void 0?oM:Wn(+t),e=typeof e=="function"?e:Wn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lM:Wn(+n);function d(w){var S,T,N,M=(w=Aw(w)).length,P,B=!1,$,q=new Array(M),te=new Array(M);for(a==null&&(g=u($=m())),S=0;S<=M;++S){if(!(S<M&&i(P=w[S],S,w))===B)if(B=!B)T=S,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),N=S-1;N>=T;--N)g.point(q[N],te[N]);g.lineEnd(),g.areaEnd()}B&&(q[S]=+t(P,S,w),te[S]=+e(P,S,w),g.point(r?+r(P,S,w):q[S],n?+n(P,S,w):te[S]))}if($)return g=null,$+""||null}function v(){return cM().defined(i).curve(u).context(a)}return d.x=function(w){return arguments.length?(t=typeof w=="function"?w:Wn(+w),r=null,d):t},d.x0=function(w){return arguments.length?(t=typeof w=="function"?w:Wn(+w),d):t},d.x1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:Wn(+w),d):r},d.y=function(w){return arguments.length?(e=typeof w=="function"?w:Wn(+w),n=null,d):e},d.y0=function(w){return arguments.length?(e=typeof w=="function"?w:Wn(+w),d):e},d.y1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:Wn(+w),d):n},d.lineX0=d.lineY0=function(){return v().x(t).y(e)},d.lineY1=function(){return v().x(t).y(n)},d.lineX1=function(){return v().x(r).y(e)},d.defined=function(w){return arguments.length?(i=typeof w=="function"?w:Wn(!!w),d):i},d.curve=function(w){return arguments.length?(u=w,a!=null&&(g=u(a)),d):u},d.context=function(w){return arguments.length?(w==null?a=g=null:g=u(a=w),d):a},d}class uM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Nz(t){return new uM(t,!0)}function Dz(t){return new uM(t,!1)}const Sw={draw(t,e){const n=Ws(e/Eg);t.moveTo(n,0),t.arc(0,0,n,0,Bm)}},Mz={draw(t,e){const n=Ws(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fM=Ws(1/3),Pz=fM*2,Lz={draw(t,e){const n=Ws(e/Pz),r=n*fM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},kz={draw(t,e){const n=Ws(e),r=-n/2;t.rect(r,r,n,n)}},jz=.8908130915292852,hM=wg(Eg/10)/wg(7*Eg/10),Bz=wg(Bm/10)*hM,Uz=-iM(Bm/10)*hM,Fz={draw(t,e){const n=Ws(e*jz),r=Bz*n,i=Uz*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const u=Bm*a/5,g=iM(u),m=wg(u);t.lineTo(m*n,-g*n),t.lineTo(g*r-m*i,m*r+g*i)}t.closePath()}},Sv=Ws(3),Vz={draw(t,e){const n=-Ws(e/(Sv*3));t.moveTo(0,n*2),t.lineTo(-Sv*n,-n),t.lineTo(Sv*n,-n),t.closePath()}},vs=-.5,xs=Ws(3)/2,N2=1/Ws(12),zz=(N2/2+1)*3,Hz={draw(t,e){const n=Ws(e/zz),r=n/2,i=n*N2,a=r,u=n*N2+n,g=-a,m=u;t.moveTo(r,i),t.lineTo(a,u),t.lineTo(g,m),t.lineTo(vs*r-xs*i,xs*r+vs*i),t.lineTo(vs*a-xs*u,xs*a+vs*u),t.lineTo(vs*g-xs*m,xs*g+vs*m),t.lineTo(vs*r+xs*i,vs*i-xs*r),t.lineTo(vs*a+xs*u,vs*u-xs*a),t.lineTo(vs*g+xs*m,vs*m-xs*g),t.closePath()}};function qz(t,e){let n=null,r=Ew(i);t=typeof t=="function"?t:Wn(t||Sw),e=typeof e=="function"?e:Wn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ag(){}function Sg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dM(t){this._context=t}dM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gz(t){return new dM(t)}function gM(t){this._context=t}gM.prototype={areaStart:Ag,areaEnd:Ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wz(t){return new gM(t)}function mM(t){this._context=t}mM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yz(t){return new mM(t)}function pM(t){this._context=t}pM.prototype={areaStart:Ag,areaEnd:Ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $z(t){return new pM(t)}function gI(t){return t<0?-1:1}function mI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),u=(n-t._y1)/(i||r<0&&-0),g=(a*i+u*r)/(r+i);return(gI(a)+gI(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(g))||0}function pI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function _v(t,e,n){var r=t._x0,i=t._y0,a=t._x1,u=t._y1,g=(a-r)/3;t._context.bezierCurveTo(r+g,i+g*e,a-g,u-g*n,a,u)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_v(this,this._t0,pI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_v(this,pI(this,n=mI(this,t,e)),n);break;default:_v(this,this._t0,n=mI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function yM(t){this._context=new vM(t)}(yM.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function vM(t){this._context=t}vM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Xz(t){return new _g(t)}function Kz(t){return new yM(t)}function xM(t){this._context=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yI(t),i=yI(e),a=0,u=1;u<n;++a,++u)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),u=new Array(n);for(i[0]=0,a[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,u[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,u[e]-=r*u[e-1];for(i[n-1]=u[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(u[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Qz(t){return new xM(t)}function Fm(t,e){this._context=t,this._t=e}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Zz(t){return new Fm(t,.5)}function Jz(t){return new Fm(t,0)}function eH(t){return new Fm(t,1)}function Pf(t,e){if((u=t.length)>1)for(var n=1,r,i,a=t[e[0]],u,g=a.length;n<u;++n)for(i=a,a=t[e[n]],r=0;r<g;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function D2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tH(t,e){return t[e]}function nH(t){const e=[];return e.key=t,e}function rH(){var t=Wn([]),e=D2,n=Pf,r=tH;function i(a){var u=Array.from(t.apply(this,arguments),nH),g,m=u.length,d=-1,v;for(const w of a)for(g=0,++d;g<m;++g)(u[g][d]=[0,+r(w,u[g].key,d,a)]).data=w;for(g=0,v=Aw(e(u));g<m;++g)u[v[g]].index=g;return n(u,v),u}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?D2:typeof a=="function"?a:Wn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Pf,i):n},i}function iH(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,u;i<a;++i){for(u=n=0;n<r;++n)u+=t[n][i][1]||0;if(u)for(n=0;n<r;++n)t[n][i][1]/=u}Pf(t,e)}}function aH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var u=0,g=0;u<i;++u)g+=t[u][n][1]||0;r[n][1]+=r[n][0]=-g/2}Pf(t,e)}}function sH(t,e){if(!(!((u=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,u;r<a;++r){for(var g=0,m=0,d=0;g<u;++g){for(var v=t[e[g]],w=v[r][1]||0,S=v[r-1][1]||0,T=(w-S)/2,N=0;N<g;++N){var M=t[e[N]],P=M[r][1]||0,B=M[r-1][1]||0;T+=P-B}m+=w,d+=T*w}i[r-1][1]+=i[r-1][0]=n,m&&(n-=d/m)}i[r-1][1]+=i[r-1][0]=n,Pf(t,e)}}var Cv={},Tv={},vI;function oH(){return vI||(vI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(Tv)),Tv}var Iv={},xI;function bM(){return xI||(xI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(Iv)),Iv}var Ov={},bI;function _w(){return bI||(bI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(Ov)),Ov}var Rv={},Nv={},wI;function lH(){return wI||(wI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e}(Nv)),Nv}var EI;function Cw(){return EI||(EI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lH(),n=_w();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],u=i.length;if(u===0)return a;let g=0,m="",d="",v=!1;for(i.charCodeAt(0)===46&&(a.push(""),g++);g<u;){const w=i[g];d?w==="\\"&&g+1<u?(g++,m+=i[g]):w===d?d="":m+=w:v?w==='"'||w==="'"?d=w:w==="]"?(v=!1,a.push(m),m=""):m+=w:w==="["?(v=!0,m&&(a.push(m),m="")):w==="."?m&&(a.push(m),m=""):m+=w,g++}return m&&a.push(m),a}t.toPath=r}(Rv)),Rv}var AI;function Tw(){return AI||(AI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oH(),n=bM(),r=_w(),i=Cw();function a(g,m,d){if(g==null)return d;switch(typeof m){case"string":{if(e.isUnsafeProperty(m))return d;const v=g[m];return v===void 0?n.isDeepKey(m)?a(g,i.toPath(m),d):d:v}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const v=g[m];return v===void 0?d:v}default:{if(Array.isArray(m))return u(g,m,d);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),e.isUnsafeProperty(m))return d;const v=g[m];return v===void 0?d:v}}}function u(g,m,d){if(m.length===0)return d;let v=g;for(let w=0;w<m.length;w++){if(v==null||e.isUnsafeProperty(m[w]))return d;v=v[m[w]]}return v===void 0?d:v}t.get=a}(Cv)),Cv}var Dv,SI;function cH(){return SI||(SI=1,Dv=Tw().get),Dv}var uH=cH();const cu=bo(uH);var gi=t=>t===0?0:t>0?1:-1,Ts=t=>typeof t=="number"&&t!=+t,al=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ot=t=>(typeof t=="number"||t instanceof Number)&&!Ts(t),vo=t=>ot(t)||typeof t=="string",fH=0,Rd=t=>{var e=++fH;return"".concat(t||"").concat(e)},Xi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ot(e)&&typeof e!="string")return r;var a;if(al(e)){if(n==null)return r;var u=e.indexOf("%");a=n*parseFloat(e.slice(0,u))/100}else a=+e;return Ts(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},wM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Or(t,e,n){return ot(t)&&ot(e)?t+n*(e-t):e}function EM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):cu(r,e))===n)}var mr=t=>t===null||typeof t>"u",Qd=t=>mr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),hH=["type","size","sizeType"];function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){dH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dH(t,e,n){return(e=gH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){var e=mH(t,"string");return typeof e=="symbol"?e:e+""}function mH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pH(t,e){if(t==null)return{};var n,r,i=yH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AM={symbolCircle:Sw,symbolCross:Mz,symbolDiamond:Lz,symbolSquare:kz,symbolStar:Fz,symbolTriangle:Vz,symbolWye:Hz},vH=Math.PI/180,xH=t=>{var e="symbol".concat(Qd(t));return AM[e]||Sw},bH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*vH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wH=(t,e)=>{AM["symbol".concat(Qd(t))]=e},Iw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=pH(t,hH),a=CI(CI({},i),{},{type:e,size:n,sizeType:r}),u="circle";typeof e=="string"&&(u=e);var g=()=>{var S=xH(u),T=qz().type(S).size(bH(n,r,u)),N=T();if(N!==null)return N},{className:m,cx:d,cy:v}=a,w=aa(a);return d===+d&&v===+v&&n===+n?R.createElement("path",M2({},w,{className:mn("recharts-symbols",m),transform:"translate(".concat(d,", ").concat(v,")"),d:g()})):null};Iw.registerSymbol=wH;var Ow=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{bw(i)&&(r[i]=a=>n[i](n,a))}),r},EH=(t,e,n)=>r=>(t(e,n,r),null),Zd=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];bw(i)&&typeof a=="function"&&(r||(r={}),r[i]=EH(a,e,n))}),r};function P2(){return P2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P2.apply(null,arguments)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Rw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rw(t,e,n){return(e=SH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SH(t){var e=_H(t,"string");return typeof e=="symbol"?e:e+""}function _H(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bs=32;class Nw extends R.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=bs/2,a=bs/6,u=bs/3,g=e.inactive?r:e.color,m=n??e.type;if(m==="none")return null;if(m==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:g,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:bs,y2:i,className:"recharts-legend-icon"});if(m==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:g,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(bs,"M").concat(2*u,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return R.createElement("path",{stroke:"none",fill:g,d:"M0,".concat(bs/8,"h").concat(bs,"v").concat(bs*3/4,"h").concat(-bs,"z"),className:"recharts-legend-icon"});if(R.isValidElement(e.legendIcon)){var d=AH({},e);return delete d.legendIcon,R.cloneElement(e.legendIcon,d)}return R.createElement(Iw,{fill:g,cx:i,cy:i,size:bs,sizeType:"diameter",type:m})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:u}=this.props,g={x:0,y:0,width:bs,height:bs},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((v,w)=>{var S=v.formatter||i,T=mn({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:v.inactive});if(v.type==="none")return null;var N=v.inactive?a:v.color,M=S?S(v.value,v,w):v.value;return R.createElement("li",P2({className:T,style:m,key:"legend-item-".concat(w)},Zd(this.props,v,w)),R.createElement(ww,{width:n,height:n,viewBox:g,style:d,"aria-label":"".concat(M," legend icon")},this.renderIcon(v,u)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},M))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Rw(Nw,"displayName","Legend");Rw(Nw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Mv={},Pv={},II;function CH(){return II||(II=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const u=n[a],g=r(u);i.has(g)||i.set(g,u)}return Array.from(i.values())}t.uniqBy=e}(Pv)),Pv}var Lv={},OI;function SM(){return OI||(OI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Lv)),Lv}var kv={},jv={},Bv={},RI;function TH(){return RI||(RI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Bv)),Bv}var NI;function Dw(){return NI||(NI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(jv)),jv}var Uv={},DI;function IH(){return DI||(DI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(Uv)),Uv}var MI;function OH(){return MI||(MI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dw(),n=IH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(kv)),kv}var Fv={},Vv={},PI;function RH(){return PI||(PI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tw();function n(r){return function(i){return e.get(i,r)}}t.property=n}(Vv)),Vv}var zv={},Hv={},qv={},Gv={},LI;function _M(){return LI||(LI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Gv)),Gv}var Wv={},kI;function CM(){return kI||(kI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(Wv)),Wv}var Yv={},jI;function TM(){return jI||(jI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Yv)),Yv}var BI;function NH(){return BI||(BI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw(),n=_M(),r=CM(),i=TM();function a(w,S,T){return typeof T!="function"?e.isMatch(w,S):u(w,S,function N(M,P,B,$,q,te){const X=T(M,P,B,$,q,te);return X!==void 0?!!X:u(M,P,N,te)},new Map)}function u(w,S,T,N){if(S===w)return!0;switch(typeof S){case"object":return g(w,S,T,N);case"function":return Object.keys(S).length>0?u(w,{...S},T,N):i.eq(w,S);default:return n.isObject(w)?typeof S=="string"?S==="":!0:i.eq(w,S)}}function g(w,S,T,N){if(S==null)return!0;if(Array.isArray(S))return d(w,S,T,N);if(S instanceof Map)return m(w,S,T,N);if(S instanceof Set)return v(w,S,T,N);const M=Object.keys(S);if(w==null)return M.length===0;if(M.length===0)return!0;if(N&&N.has(S))return N.get(S)===w;N&&N.set(S,w);try{for(let P=0;P<M.length;P++){const B=M[P];if(!r.isPrimitive(w)&&!(B in w)||S[B]===void 0&&w[B]!==void 0||S[B]===null&&w[B]!==null||!T(w[B],S[B],B,w,S,N))return!1}return!0}finally{N&&N.delete(S)}}function m(w,S,T,N){if(S.size===0)return!0;if(!(w instanceof Map))return!1;for(const[M,P]of S.entries()){const B=w.get(M);if(T(B,P,M,w,S,N)===!1)return!1}return!0}function d(w,S,T,N){if(S.length===0)return!0;if(!Array.isArray(w))return!1;const M=new Set;for(let P=0;P<S.length;P++){const B=S[P];let $=!1;for(let q=0;q<w.length;q++){if(M.has(q))continue;const te=w[q];let X=!1;if(T(te,B,P,w,S,N)&&(X=!0),X){M.add(q),$=!0;break}}if(!$)return!1}return!0}function v(w,S,T,N){return S.size===0?!0:w instanceof Set?d([...w],[...S],T,N):!1}t.isMatchWith=a,t.isSetMatch=v}(qv)),qv}var UI;function Mw(){return UI||(UI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Hv)),Hv}var $v={},Xv={},Kv={},FI;function DH(){return FI||(FI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Kv)),Kv}var Qv={},VI;function IM(){return VI||(VI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(Qv)),Qv}var Zv={},zI;function OM(){return zI||(zI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",u="[object Symbol]",g="[object Date]",m="[object Map]",d="[object Set]",v="[object Array]",w="[object Function]",S="[object ArrayBuffer]",T="[object Object]",N="[object Error]",M="[object DataView]",P="[object Uint8Array]",B="[object Uint8ClampedArray]",$="[object Uint16Array]",q="[object Uint32Array]",te="[object BigUint64Array]",X="[object Int8Array]",ee="[object Int16Array]",j="[object Int32Array]",G="[object BigInt64Array]",F="[object Float32Array]",Z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=S,t.arrayTag=v,t.bigInt64ArrayTag=G,t.bigUint64ArrayTag=te,t.booleanTag=i,t.dataViewTag=M,t.dateTag=g,t.errorTag=N,t.float32ArrayTag=F,t.float64ArrayTag=Z,t.functionTag=w,t.int16ArrayTag=ee,t.int32ArrayTag=j,t.int8ArrayTag=X,t.mapTag=m,t.numberTag=r,t.objectTag=T,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=u,t.uint16ArrayTag=$,t.uint32ArrayTag=q,t.uint8ArrayTag=P,t.uint8ClampedArrayTag=B}(Zv)),Zv}var Jv={},HI;function MH(){return HI||(HI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Jv)),Jv}var qI;function RM(){return qI||(qI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DH(),n=IM(),r=OM(),i=CM(),a=MH();function u(v,w){return g(v,void 0,v,new Map,w)}function g(v,w,S,T=new Map,N=void 0){const M=N?.(v,w,S,T);if(M!==void 0)return M;if(i.isPrimitive(v))return v;if(T.has(v))return T.get(v);if(Array.isArray(v)){const P=new Array(v.length);T.set(v,P);for(let B=0;B<v.length;B++)P[B]=g(v[B],B,S,T,N);return Object.hasOwn(v,"index")&&(P.index=v.index),Object.hasOwn(v,"input")&&(P.input=v.input),P}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const P=new RegExp(v.source,v.flags);return P.lastIndex=v.lastIndex,P}if(v instanceof Map){const P=new Map;T.set(v,P);for(const[B,$]of v)P.set(B,g($,B,S,T,N));return P}if(v instanceof Set){const P=new Set;T.set(v,P);for(const B of v)P.add(g(B,void 0,S,T,N));return P}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(a.isTypedArray(v)){const P=new(Object.getPrototypeOf(v)).constructor(v.length);T.set(v,P);for(let B=0;B<v.length;B++)P[B]=g(v[B],B,S,T,N);return P}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const P=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return T.set(v,P),m(P,v,S,T,N),P}if(typeof File<"u"&&v instanceof File){const P=new File([v],v.name,{type:v.type});return T.set(v,P),m(P,v,S,T,N),P}if(typeof Blob<"u"&&v instanceof Blob){const P=new Blob([v],{type:v.type});return T.set(v,P),m(P,v,S,T,N),P}if(v instanceof Error){const P=new v.constructor;return T.set(v,P),P.message=v.message,P.name=v.name,P.stack=v.stack,P.cause=v.cause,m(P,v,S,T,N),P}if(v instanceof Boolean){const P=new Boolean(v.valueOf());return T.set(v,P),m(P,v,S,T,N),P}if(v instanceof Number){const P=new Number(v.valueOf());return T.set(v,P),m(P,v,S,T,N),P}if(v instanceof String){const P=new String(v.valueOf());return T.set(v,P),m(P,v,S,T,N),P}if(typeof v=="object"&&d(v)){const P=Object.create(Object.getPrototypeOf(v));return T.set(v,P),m(P,v,S,T,N),P}return v}function m(v,w,S=v,T,N){const M=[...Object.keys(w),...e.getSymbols(w)];for(let P=0;P<M.length;P++){const B=M[P],$=Object.getOwnPropertyDescriptor(v,B);($==null||$.writable)&&(v[B]=g(w[B],B,S,T,N))}}function d(v){switch(n.getTag(v)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=u,t.cloneDeepWithImpl=g,t.copyProperties=m}(Xv)),Xv}var GI;function PH(){return GI||(GI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}($v)),$v}var WI;function LH(){return WI||(WI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw(),n=PH();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r}(zv)),zv}var ex={},tx={},nx={},YI;function kH(){return YI||(YI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RM(),n=OM();function r(i,a){return e.cloneDeepWith(i,(u,g,m,d)=>{const v=a?.(u,g,m,d);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const w=new i.constructor(i?.valueOf());return e.copyProperties(w,i),w}case n.argumentsTag:{const w={};return e.copyProperties(w,i),w.length=i.length,w[Symbol.iterator]=i[Symbol.iterator],w}default:return}})}t.cloneDeepWith=r}(nx)),nx}var $I;function jH(){return $I||($I=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(tx)),tx}var rx={},ix={},XI;function NM(){return XI||(XI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(ix)),ix}var ax={},KI;function BH(){return KI||(KI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(ax)),ax}var QI;function UH(){return QI||(QI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bM(),n=NM(),r=BH(),i=Cw();function a(u,g){let m;if(Array.isArray(g)?m=g:typeof g=="string"&&e.isDeepKey(g)&&u?.[g]==null?m=i.toPath(g):m=[g],m.length===0)return!1;let d=u;for(let v=0;v<m.length;v++){const w=m[v];if((d==null||!Object.hasOwn(d,w))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(w)&&w<d.length))return!1;d=d[w]}return!0}t.has=a}(rx)),rx}var ZI;function FH(){return ZI||(ZI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw(),n=_w(),r=jH(),i=Tw(),a=UH();function u(g,m){switch(typeof g){case"object":{Object.is(g?.valueOf(),-0)&&(g="-0");break}case"number":{g=n.toKey(g);break}}return m=r.cloneDeep(m),function(d){const v=i.get(d,g);return v===void 0?a.has(d,g):m===void 0?v===void 0:e.isMatch(v,m)}}t.matchesProperty=u}(ex)),ex}var JI;function VH(){return JI||(JI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SM(),n=RH(),r=LH(),i=FH();function a(u){if(u==null)return e.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?i.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}t.iteratee=a}(Fv)),Fv}var e3;function zH(){return e3||(e3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CH(),n=SM(),r=OH(),i=VH();function a(u,g=n.identity){return r.isArrayLikeObject(u)?e.uniqBy(Array.from(u),i.iteratee(g)):[]}t.uniqBy=a}(Mv)),Mv}var sx,t3;function HH(){return t3||(t3=1,sx=zH().uniqBy),sx}var qH=HH();const n3=bo(qH);function DM(t,e,n){return e===!0?n3(t,n):typeof e=="function"?n3(t,e):t}var ox={exports:{}},lx={},cx={exports:{}},ux={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function GH(){if(r3)return ux;r3=1;var t=zf();function e(w,S){return w===S&&(w!==0||1/w===1/S)||w!==w&&S!==S}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function g(w,S){var T=S(),N=r({inst:{value:T,getSnapshot:S}}),M=N[0].inst,P=N[1];return a(function(){M.value=T,M.getSnapshot=S,m(M)&&P({inst:M})},[w,T,S]),i(function(){return m(M)&&P({inst:M}),w(function(){m(M)&&P({inst:M})})},[w]),u(T),T}function m(w){var S=w.getSnapshot;w=w.value;try{var T=S();return!n(w,T)}catch{return!0}}function d(w,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:g;return ux.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,ux}var i3;function WH(){return i3||(i3=1,cx.exports=GH()),cx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function YH(){if(a3)return lx;a3=1;var t=zf(),e=WH();function n(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,g=t.useMemo,m=t.useDebugValue;return lx.useSyncExternalStoreWithSelector=function(d,v,w,S,T){var N=a(null);if(N.current===null){var M={hasValue:!1,value:null};N.current=M}else M=N.current;N=g(function(){function B(ee){if(!$){if($=!0,q=ee,ee=S(ee),T!==void 0&&M.hasValue){var j=M.value;if(T(j,ee))return te=j}return te=ee}if(j=te,r(q,ee))return j;var G=S(ee);return T!==void 0&&T(j,G)?(q=ee,j):(q=ee,te=G)}var $=!1,q,te,X=w===void 0?null:w;return[function(){return B(v())},X===null?void 0:function(){return B(X())}]},[v,w,S,T]);var P=i(d,N[0],N[1]);return u(function(){M.hasValue=!0,M.value=P},[P]),m(P),P},lx}var s3;function $H(){return s3||(s3=1,ox.exports=YH()),ox.exports}var XH=$H(),Pw=R.createContext(null),KH=t=>t,pr=()=>{var t=R.useContext(Pw);return t?t.store.dispatch:KH},Q1=()=>{},QH=()=>Q1,ZH=(t,e)=>t===e;function nt(t){var e=R.useContext(Pw);return XH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:QH,e?e.store.getState:Q1,e?e.store.getState:Q1,e?t:Q1,ZH)}function JH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function eq(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function tq(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var o3=t=>Array.isArray(t)?t:[t];function nq(t){const e=Array.isArray(t[0])?t[0]:t;return tq(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function rq(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var iq=class{constructor(t){this.value=t}deref(){return this.value}},aq=typeof WeakRef<"u"?WeakRef:iq,sq=0,l3=1;function T1(){return{s:sq,v:void 0,o:null,p:null}}function MM(t,e={}){let n=T1();const{resultEqualityCheck:r}=e;let i,a=0;function u(){let g=n;const{length:m}=arguments;for(let w=0,S=m;w<S;w++){const T=arguments[w];if(typeof T=="function"||typeof T=="object"&&T!==null){let N=g.o;N===null&&(g.o=N=new WeakMap);const M=N.get(T);M===void 0?(g=T1(),N.set(T,g)):g=M}else{let N=g.p;N===null&&(g.p=N=new Map);const M=N.get(T);M===void 0?(g=T1(),N.set(T,g)):g=M}}const d=g;let v;if(g.s===l3)v=g.v;else if(v=t.apply(null,arguments),a++,r){const w=i?.deref?.()??i;w!=null&&r(w,v)&&(v=w,a!==0&&a--),i=typeof v=="object"&&v!==null||typeof v=="function"?new aq(v):v}return d.s=l3,d.v=v,v}return u.clearCache=()=>{n=T1(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}function oq(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,u=0,g,m={},d=i.pop();typeof d=="object"&&(m=d,d=i.pop()),JH(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const v={...n,...m},{memoize:w,memoizeOptions:S=[],argsMemoize:T=MM,argsMemoizeOptions:N=[]}=v,M=o3(S),P=o3(N),B=nq(i),$=w(function(){return a++,d.apply(null,arguments)},...M),q=T(function(){u++;const X=rq(B,arguments);return g=$.apply(null,X),g},...P);return Object.assign(q,{resultFunc:d,memoizedResultFunc:$,dependencies:B,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>g,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:w,argsMemoize:T})};return Object.assign(r,{withTypes:()=>r}),r}var we=oq(MM),lq=Object.assign((t,e=we)=>{eq(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((u,g,m)=>(u[n[m]]=g,u),{}))},{withTypes:()=>lq}),fx={},hx={},dx={},c3;function cq(){return c3||(c3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const u=e(r),g=e(i);if(u===g&&u===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?g-u:u-g}return 0};t.compareValues=n}(dx)),dx}var gx={},mx={},u3;function PM(){return u3||(u3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(mx)),mx}var f3;function uq(){return f3||(f3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,u){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||u!=null&&Object.hasOwn(u,a)}t.isKey=i}(gx)),gx}var h3;function fq(){return h3||(h3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cq(),n=uq(),r=Cw();function i(a,u,g,m){if(a==null)return[];g=m?void 0:g,Array.isArray(a)||(a=Object.values(a)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(g)||(g=g==null?[]:[g]),g=g.map(T=>String(T));const d=(T,N)=>{let M=T;for(let P=0;P<N.length&&M!=null;++P)M=M[N[P]];return M},v=(T,N)=>N==null||T==null?N:typeof T=="object"&&"key"in T?Object.hasOwn(N,T.key)?N[T.key]:d(N,T.path):typeof T=="function"?T(N):Array.isArray(T)?d(N,T):typeof N=="object"?N[T]:N,w=u.map(T=>(Array.isArray(T)&&T.length===1&&(T=T[0]),T==null||typeof T=="function"||Array.isArray(T)||n.isKey(T)?T:{key:T,path:r.toPath(T)}));return a.map(T=>({original:T,criteria:w.map(N=>v(N,T))})).slice().sort((T,N)=>{for(let M=0;M<w.length;M++){const P=e.compareValues(T.criteria[M],N.criteria[M],g[M]);if(P!==0)return P}return 0}).map(T=>T.original)}t.orderBy=i}(hx)),hx}var px={},d3;function hq(){return d3||(d3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),u=(g,m)=>{for(let d=0;d<g.length;d++){const v=g[d];Array.isArray(v)&&m<a?u(v,m+1):i.push(v)}};return u(n,0),i}t.flatten=e}(px)),px}var yx={},g3;function LM(){return g3||(g3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NM(),n=Dw(),r=_M(),i=TM();function a(u,g,m){return r.isObject(m)&&(typeof g=="number"&&n.isArrayLike(m)&&e.isIndex(g)&&g<m.length||typeof g=="string"&&g in m)?i.eq(m[g],u):!1}t.isIterateeCall=a}(yx)),yx}var m3;function dq(){return m3||(m3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fq(),n=hq(),r=LM();function i(a,...u){const g=u.length;return g>1&&r.isIterateeCall(a,u[0],u[1])?u=[]:g>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),e.orderBy(a,n.flatten(u),["asc"])}t.sortBy=i}(fx)),fx}var vx,p3;function gq(){return p3||(p3=1,vx=dq().sortBy),vx}var mq=gq();const Vm=bo(mq);var kM=t=>t.legend.settings,pq=t=>t.legend.size,yq=t=>t.legend.payload,vq=we([yq,kM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Vm(r,n):r});function xq(){return nt(vq)}var I1=1;function jM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),u={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(u.height-e.height)>I1||Math.abs(u.left-e.left)>I1||Math.abs(u.top-e.top)>I1||Math.abs(u.width-e.width)>I1)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Ii(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bq=typeof Symbol=="function"&&Symbol.observable||"@@observable",y3=bq,xx=()=>Math.random().toString(36).substring(7).split("").join("."),wq={INIT:`@@redux/INIT${xx()}`,REPLACE:`@@redux/REPLACE${xx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xx()}`},Cg=wq;function Lw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function BM(t,e,n){if(typeof t!="function")throw new Error(Ii(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ii(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ii(1));return n(BM)(t,e)}let r=t,i=e,a=new Map,u=a,g=0,m=!1;function d(){u===a&&(u=new Map,a.forEach((P,B)=>{u.set(B,P)}))}function v(){if(m)throw new Error(Ii(3));return i}function w(P){if(typeof P!="function")throw new Error(Ii(4));if(m)throw new Error(Ii(5));let B=!0;d();const $=g++;return u.set($,P),function(){if(B){if(m)throw new Error(Ii(6));B=!1,d(),u.delete($),a=null}}}function S(P){if(!Lw(P))throw new Error(Ii(7));if(typeof P.type>"u")throw new Error(Ii(8));if(typeof P.type!="string")throw new Error(Ii(17));if(m)throw new Error(Ii(9));try{m=!0,i=r(i,P)}finally{m=!1}return(a=u).forEach($=>{$()}),P}function T(P){if(typeof P!="function")throw new Error(Ii(10));r=P,S({type:Cg.REPLACE})}function N(){const P=w;return{subscribe(B){if(typeof B!="object"||B===null)throw new Error(Ii(11));function $(){const te=B;te.next&&te.next(v())}return $(),{unsubscribe:P($)}},[y3](){return this}}}return S({type:Cg.INIT}),{dispatch:S,subscribe:w,getState:v,replaceReducer:T,[y3]:N}}function Eq(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Cg.INIT})>"u")throw new Error(Ii(12));if(typeof n(void 0,{type:Cg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ii(13))})}function UM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const u=e[a];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let i;try{Eq(n)}catch(a){i=a}return function(u={},g){if(i)throw i;let m=!1;const d={};for(let v=0;v<r.length;v++){const w=r[v],S=n[w],T=u[w],N=S(T,g);if(typeof N>"u")throw g&&g.type,new Error(Ii(14));d[w]=N,m=m||N!==T}return m=m||r.length!==Object.keys(u).length,m?d:u}}function Tg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Aq(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Ii(15))};const u={getState:i.getState,dispatch:(m,...d)=>a(m,...d)},g=t.map(m=>m(u));return a=Tg(...g)(i.dispatch),{...i,dispatch:a}}}function FM(t){return Lw(t)&&"type"in t&&typeof t.type=="string"}var VM=Symbol.for("immer-nothing"),v3=Symbol.for("immer-draftable"),es=Symbol.for("immer-state");function Fs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lf=Object.getPrototypeOf;function uu(t){return!!t&&!!t[es]}function sl(t){return t?zM(t)||Array.isArray(t)||!!t[v3]||!!t.constructor?.[v3]||Jd(t)||Hm(t):!1}var Sq=Object.prototype.constructor.toString();function zM(t){if(!t||typeof t!="object")return!1;const e=Lf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Sq}function Ig(t,e){zm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function zm(t){const e=t[es];return e?e.type_:Array.isArray(t)?1:Jd(t)?2:Hm(t)?3:0}function L2(t,e){return zm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function HM(t,e,n){const r=zm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function _q(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jd(t){return t instanceof Map}function Hm(t){return t instanceof Set}function Yc(t){return t.copy_||t.base_}function k2(t,e){if(Jd(t))return new Map(t);if(Hm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[es];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const u=i[a],g=r[u];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(r[u]={configurable:!0,writable:!0,enumerable:g.enumerable,value:t[u]})}return Object.create(Lf(t),r)}else{const r=Lf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function kw(t,e=!1){return qm(t)||uu(t)||!sl(t)||(zm(t)>1&&Object.defineProperties(t,{set:{value:O1},add:{value:O1},clear:{value:O1},delete:{value:O1}}),Object.freeze(t),e&&Object.values(t).forEach(n=>kw(n,!0))),t}function O1(){Fs(2)}function qm(t){return Object.isFrozen(t)}var Cq={};function fu(t){const e=Cq[t];return e||Fs(0,t),e}var Nd;function qM(){return Nd}function Tq(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function x3(t,e){e&&(fu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function j2(t){B2(t),t.drafts_.forEach(Iq),t.drafts_=null}function B2(t){t===Nd&&(Nd=t.parent_)}function b3(t){return Nd=Tq(Nd,t)}function Iq(t){const e=t[es];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function w3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[es].modified_&&(j2(e),Fs(4)),sl(t)&&(t=Og(e,t),e.parent_||Rg(e,t)),e.patches_&&fu("Patches").generateReplacementPatches_(n[es].base_,t,e.patches_,e.inversePatches_)):t=Og(e,n,[]),j2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VM?t:void 0}function Og(t,e,n){if(qm(e))return e;const r=e[es];if(!r)return Ig(e,(i,a)=>E3(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Rg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,u=!1;r.type_===3&&(a=new Set(i),i.clear(),u=!0),Ig(a,(g,m)=>E3(t,r,i,g,m,n,u)),Rg(t,i,!1),n&&t.patches_&&fu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function E3(t,e,n,r,i,a,u){if(uu(i)){const g=a&&e&&e.type_!==3&&!L2(e.assigned_,r)?a.concat(r):void 0,m=Og(t,i,g);if(HM(n,r,m),uu(m))t.canAutoFreeze_=!1;else return}else u&&n.add(i);if(sl(i)&&!qm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Og(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Rg(t,i)}}function Rg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kw(e,n)}function Oq(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:qM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=jw;n&&(i=[r],a=Dd);const{revoke:u,proxy:g}=Proxy.revocable(i,a);return r.draft_=g,r.revoke_=u,g}var jw={get(t,e){if(e===es)return t;const n=Yc(t);if(!L2(n,e))return Rq(t,n,e);const r=n[e];return t.finalized_||!sl(r)?r:r===bx(t.base_,e)?(wx(t),t.copy_[e]=F2(r,t)):r},has(t,e){return e in Yc(t)},ownKeys(t){return Reflect.ownKeys(Yc(t))},set(t,e,n){const r=GM(Yc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=bx(Yc(t),e),a=i?.[es];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(_q(n,i)&&(n!==void 0||L2(t.base_,e)))return!0;wx(t),U2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wx(t),U2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Yc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Fs(11)},getPrototypeOf(t){return Lf(t.base_)},setPrototypeOf(){Fs(12)}},Dd={};Ig(jw,(t,e)=>{Dd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Dd.deleteProperty=function(t,e){return Dd.set.call(this,t,e,void 0)};Dd.set=function(t,e,n){return jw.set.call(this,t[0],e,n,t[0])};function bx(t,e){const n=t[es];return(n?Yc(n):t)[e]}function Rq(t,e,n){const r=GM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function GM(t,e){if(!(e in t))return;let n=Lf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lf(n)}}function U2(t){t.modified_||(t.modified_=!0,t.parent_&&U2(t.parent_))}function wx(t){t.copy_||(t.copy_=k2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Nq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const u=this;return function(m=a,...d){return u.produce(m,v=>n.call(this,v,...d))}}typeof n!="function"&&Fs(6),r!==void 0&&typeof r!="function"&&Fs(7);let i;if(sl(e)){const a=b3(this),u=F2(e,void 0);let g=!0;try{i=n(u),g=!1}finally{g?j2(a):B2(a)}return x3(a,r),w3(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===VM&&(i=void 0),this.autoFreeze_&&kw(i,!0),r){const a=[],u=[];fu("Patches").generateReplacementPatches_(e,i,a,u),r(a,u)}return i}else Fs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...g)=>this.produceWithPatches(u,m=>e(m,...g));let r,i;return[this.produce(e,n,(u,g)=>{r=u,i=g}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){sl(t)||Fs(8),uu(t)&&(t=Qo(t));const e=b3(this),n=F2(t,void 0);return n[es].isManual_=!0,B2(e),n}finishDraft(t,e){const n=t&&t[es];(!n||!n.isManual_)&&Fs(9);const{scope_:r}=n;return x3(r,e),w3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fu("Patches").applyPatches_;return uu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function F2(t,e){const n=Jd(t)?fu("MapSet").proxyMap_(t,e):Hm(t)?fu("MapSet").proxySet_(t,e):Oq(t,e);return(e?e.scope_:qM()).drafts_.push(n),n}function Qo(t){return uu(t)||Fs(10,t),WM(t)}function WM(t){if(!sl(t)||qm(t))return t;const e=t[es];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=k2(t,e.scope_.immer_.useStrictShallowCopy_)}else n=k2(t,!0);return Ig(n,(r,i)=>{HM(n,r,WM(i))}),e&&(e.finalized_=!1),n}var Dq=new Nq,YM=Dq.produce;function $M(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Mq=$M(),Pq=$M,Lq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tg:Tg.apply(null,arguments)};function Is(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Za(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>FM(r)&&r.type===t,n}var XM=class cd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,cd.prototype)}static get[Symbol.species](){return cd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new cd(...e[0].concat(this)):new cd(...e.concat(this))}};function A3(t){return sl(t)?YM(t,()=>{}):t}function R1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function kq(t){return typeof t=="boolean"}var jq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let u=new XM;return n&&(kq(n)?u.push(Mq):u.push(Pq(n.extraArgument))),u},KM="RTK_autoBatch",na=()=>t=>({payload:t,meta:{[KM]:!0}}),S3=t=>e=>{setTimeout(e,t)},QM=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,u=!1;const g=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:S3(10):t.type==="callback"?t.queueNotification:S3(t.timeout),d=()=>{u=!1,a&&(a=!1,g.forEach(v=>v()))};return Object.assign({},r,{subscribe(v){const w=()=>i&&v(),S=r.subscribe(w);return g.add(v),()=>{S(),g.delete(v)}},dispatch(v){try{return i=!v?.meta?.[KM],a=!i,a&&(u||(u=!0,m(d))),r.dispatch(v)}finally{i=!0}}})},Bq=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new XM(t);return r&&i.push(QM(typeof r=="object"?r:void 0)),i};function Uq(t){const e=jq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:u=void 0}=t||{};let g;if(typeof n=="function")g=n;else if(Lw(n))g=UM(n);else throw new Error(Za(1));let m;typeof r=="function"?m=r(e):m=e();let d=Tg;i&&(d=Lq({trace:!1,...typeof i=="object"&&i}));const v=Aq(...m),w=Bq(v);let S=typeof u=="function"?u(w):w();const T=d(...S);return BM(g,a,T)}function ZM(t){const e={},n=[];let r;const i={addCase(a,u){const g=typeof a=="string"?a:a.type;if(!g)throw new Error(Za(28));if(g in e)throw new Error(Za(29));return e[g]=u,i},addAsyncThunk(a,u){return u.pending&&(e[a.pending.type]=u.pending),u.rejected&&(e[a.rejected.type]=u.rejected),u.fulfilled&&(e[a.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:a.settled,reducer:u.settled}),i},addMatcher(a,u){return n.push({matcher:a,reducer:u}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Fq(t){return typeof t=="function"}function Vq(t,e){let[n,r,i]=ZM(e),a;if(Fq(t))a=()=>A3(t());else{const g=A3(t);a=()=>g}function u(g=a(),m){let d=[n[m.type],...r.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return d.filter(v=>!!v).length===0&&(d=[i]),d.reduce((v,w)=>{if(w)if(uu(v)){const T=w(v,m);return T===void 0?v:T}else{if(sl(v))return YM(v,S=>w(S,m));{const S=w(v,m);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},g)}return u.getInitialState=a,u}var zq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hq=(t=21)=>{let e="",n=t;for(;n--;)e+=zq[Math.random()*64|0];return e},qq=Symbol.for("rtk-slice-createasyncthunk");function Gq(t,e){return`${t}/${e}`}function Wq({creators:t}={}){const e=t?.asyncThunk?.[qq];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Za(11));const u=(typeof r.reducers=="function"?r.reducers($q()):r.reducers)||{},g=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(q,te){const X=typeof q=="string"?q:q.type;if(!X)throw new Error(Za(12));if(X in m.sliceCaseReducersByType)throw new Error(Za(13));return m.sliceCaseReducersByType[X]=te,d},addMatcher(q,te){return m.sliceMatchers.push({matcher:q,reducer:te}),d},exposeAction(q,te){return m.actionCreators[q]=te,d},exposeCaseReducer(q,te){return m.sliceCaseReducersByName[q]=te,d}};g.forEach(q=>{const te=u[q],X={reducerName:q,type:Gq(i,q),createNotation:typeof r.reducers=="function"};Kq(te)?Zq(X,te,d,e):Xq(X,te,d)});function v(){const[q={},te=[],X=void 0]=typeof r.extraReducers=="function"?ZM(r.extraReducers):[r.extraReducers],ee={...q,...m.sliceCaseReducersByType};return Vq(r.initialState,j=>{for(let G in ee)j.addCase(G,ee[G]);for(let G of m.sliceMatchers)j.addMatcher(G.matcher,G.reducer);for(let G of te)j.addMatcher(G.matcher,G.reducer);X&&j.addDefaultCase(X)})}const w=q=>q,S=new Map,T=new WeakMap;let N;function M(q,te){return N||(N=v()),N(q,te)}function P(){return N||(N=v()),N.getInitialState()}function B(q,te=!1){function X(j){let G=j[q];return typeof G>"u"&&te&&(G=R1(T,X,P)),G}function ee(j=w){const G=R1(S,te,()=>new WeakMap);return R1(G,j,()=>{const F={};for(const[Z,z]of Object.entries(r.selectors??{}))F[Z]=Yq(z,j,()=>R1(T,j,P),te);return F})}return{reducerPath:q,getSelectors:ee,get selectors(){return ee(X)},selectSlice:X}}const $={name:i,reducer:M,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:P,...B(a),injectInto(q,{reducerPath:te,...X}={}){const ee=te??a;return q.inject({reducerPath:ee,reducer:M},X),{...$,...B(ee,!0)}}};return $}}function Yq(t,e,n,r){function i(a,...u){let g=e(a);return typeof g>"u"&&r&&(g=n()),t(g,...u)}return i.unwrapped=t,i}var ts=Wq();function $q(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Xq({type:t,reducerName:e,createNotation:n},r,i){let a,u;if("reducer"in r){if(n&&!Qq(r))throw new Error(Za(17));a=r.reducer,u=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,u?Is(t,u):Is(t))}function Kq(t){return t._reducerDefinitionType==="asyncThunk"}function Qq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Zq({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Za(18));const{payloadCreator:a,fulfilled:u,pending:g,rejected:m,settled:d,options:v}=n,w=i(t,a,v);r.exposeAction(e,w),u&&r.addCase(w.fulfilled,u),g&&r.addCase(w.pending,g),m&&r.addCase(w.rejected,m),d&&r.addMatcher(w.settled,d),r.exposeCaseReducer(e,{fulfilled:u||N1,pending:g||N1,rejected:m||N1,settled:d||N1})}function N1(){}var Jq="task",JM="listener",e8="completed",Bw="cancelled",eG=`task-${Bw}`,tG=`task-${e8}`,V2=`${JM}-${Bw}`,nG=`${JM}-${e8}`,Gm=class{constructor(t){this.code=t,this.message=`${Jq} ${Bw} (reason: ${t})`}name="TaskAbortError";message},Uw=(t,e)=>{if(typeof t!="function")throw new TypeError(Za(32))},Ng=()=>{},t8=(t,e=Ng)=>(t.catch(e),t),n8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),nu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ru=t=>{if(t.aborted){const{reason:e}=t;throw new Gm(e)}};function r8(t,e){let n=Ng;return new Promise((r,i)=>{const a=()=>i(new Gm(t.reason));if(t.aborted){a();return}n=n8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Ng})}var rG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Gm?"cancelled":"rejected",error:n}}finally{e?.()}},Dg=t=>e=>t8(r8(t,e).then(n=>(ru(t),n))),i8=t=>{const e=Dg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Sf}=Object,_3={},Wm="listenerMiddleware",iG=(t,e)=>{const n=r=>n8(t,()=>nu(r,t.reason));return(r,i)=>{Uw(r);const a=new AbortController;n(a);const u=rG(async()=>{ru(t),ru(a.signal);const g=await r({pause:Dg(a.signal),delay:i8(a.signal),signal:a.signal});return ru(a.signal),g},()=>nu(a,tG));return i?.autoJoin&&e.push(u.catch(Ng)),{result:Dg(t)(u),cancel(){nu(a,eG)}}}},aG=(t,e)=>{const n=async(r,i)=>{ru(e);let a=()=>{};const g=[new Promise((m,d)=>{let v=t({predicate:r,effect:(w,S)=>{S.unsubscribe(),m([w,S.getState(),S.getOriginalState()])}});a=()=>{v(),d()}})];i!=null&&g.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await r8(e,Promise.race(g));return ru(e),m}finally{a()}};return(r,i)=>t8(n(r,i))},a8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Is(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Za(21));return Uw(a),{predicate:i,type:e,effect:a}},s8=Sf(t=>{const{type:e,predicate:n,effect:r}=a8(t);return{id:Hq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Za(22))}}},{withTypes:()=>s8}),C3=(t,e)=>{const{type:n,effect:r,predicate:i}=a8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},z2=t=>{t.pending.forEach(e=>{nu(e,V2)})},sG=(t,e)=>()=>{for(const n of e.keys())z2(n);t.clear()},T3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},o8=Sf(Is(`${Wm}/add`),{withTypes:()=>o8}),oG=Is(`${Wm}/removeAll`),l8=Sf(Is(`${Wm}/remove`),{withTypes:()=>l8}),lG=(...t)=>{console.error(`${Wm}/error`,...t)},e0=(t={})=>{const e=new Map,n=new Map,r=T=>{const N=n.get(T)??0;n.set(T,N+1)},i=T=>{const N=n.get(T)??1;N===1?n.delete(T):n.set(T,N-1)},{extra:a,onError:u=lG}=t;Uw(u);const g=T=>(T.unsubscribe=()=>e.delete(T.id),e.set(T.id,T),N=>{T.unsubscribe(),N?.cancelActive&&z2(T)}),m=T=>{const N=C3(e,T)??s8(T);return g(N)};Sf(m,{withTypes:()=>m});const d=T=>{const N=C3(e,T);return N&&(N.unsubscribe(),T.cancelActive&&z2(N)),!!N};Sf(d,{withTypes:()=>d});const v=async(T,N,M,P)=>{const B=new AbortController,$=aG(m,B.signal),q=[];try{T.pending.add(B),r(T),await Promise.resolve(T.effect(N,Sf({},M,{getOriginalState:P,condition:(te,X)=>$(te,X).then(Boolean),take:$,delay:i8(B.signal),pause:Dg(B.signal),extra:a,signal:B.signal,fork:iG(B.signal,q),unsubscribe:T.unsubscribe,subscribe:()=>{e.set(T.id,T)},cancelActiveListeners:()=>{T.pending.forEach((te,X,ee)=>{te!==B&&(nu(te,V2),ee.delete(te))})},cancel:()=>{nu(B,V2),T.pending.delete(B)},throwIfCancelled:()=>{ru(B.signal)}})))}catch(te){te instanceof Gm||T3(u,te,{raisedBy:"effect"})}finally{await Promise.all(q),nu(B,nG),i(T),T.pending.delete(B)}},w=sG(e,n);return{middleware:T=>N=>M=>{if(!FM(M))return N(M);if(o8.match(M))return m(M.payload);if(oG.match(M)){w();return}if(l8.match(M))return d(M.payload);let P=T.getState();const B=()=>{if(P===_3)throw new Error(Za(23));return P};let $;try{if($=N(M),e.size>0){const q=T.getState(),te=Array.from(e.values());for(const X of te){let ee=!1;try{ee=X.predicate(M,q,P)}catch(j){ee=!1,T3(u,j,{raisedBy:"predicate"})}ee&&v(X,M,T,B)}}}finally{P=_3}return $},startListening:m,stopListening:d,clearListeners:w}};function Za(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},c8=ts({name:"chartLayout",initialState:cG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:uG,setLayout:fG,setChartSize:hG,setScale:dG}=c8.actions,gG=c8.reducer;function I3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(n),!0).forEach(function(r){mG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mG(t,e,n){return(e=pG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pG(t){var e=yG(t,"string");return typeof e=="symbol"?e:e+""}function yG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mg=Math.PI/180,vG=t=>t*180/Math.PI,$r=(t,e,n,r)=>({x:t+Math.cos(-Mg*r)*n,y:e+Math.sin(-Mg*r)*n}),u8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xG=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},bG=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,u=xG({x:n,y:r},{x:i,y:a});if(u<=0)return{radius:u,angle:0};var g=(n-i)/u,m=Math.acos(g);return r>a&&(m=2*Math.PI-m),{radius:u,angle:vG(m),angleInRadian:m}},wG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},EG=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),u=Math.min(i,a);return t+u*360},AG=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=bG({x:n,y:r},e),{innerRadius:u,outerRadius:g}=e;if(i<u||i>g||i===0)return null;var{startAngle:m,endAngle:d}=wG(e),v=a,w;if(m<=d){for(;v>d;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=d}else{for(;v>m;)v-=360;for(;v<d;)v+=360;w=v>=d&&v<=m}return w?O3(O3({},e),{},{radius:i,angle:EG(v,e)}):null};function f8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){SG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SG(t,e,n){return(e=_G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _G(t){var e=CG(t,"string");return typeof e=="symbol"?e:e+""}function CG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $n(t,e,n){return mr(t)||mr(e)?n:vo(e)?cu(t,e,n):typeof e=="function"?e(t):n}var TG=(t,e,n,r,i)=>{var a,u=-1,g=(a=e?.length)!==null&&a!==void 0?a:0;if(g<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<g;m++){var d=m>0?n[m-1].coordinate:n[g-1].coordinate,v=n[m].coordinate,w=m>=g-1?n[0].coordinate:n[m+1].coordinate,S=void 0;if(gi(v-d)!==gi(w-v)){var T=[];if(gi(w-v)===gi(i[1]-i[0])){S=w;var N=v+i[1]-i[0];T[0]=Math.min(N,(N+d)/2),T[1]=Math.max(N,(N+d)/2)}else{S=d;var M=w+i[1]-i[0];T[0]=Math.min(v,(M+v)/2),T[1]=Math.max(v,(M+v)/2)}var P=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(t>P[0]&&t<=P[1]||t>=T[0]&&t<=T[1]){({index:u}=n[m]);break}}else{var B=Math.min(d,w),$=Math.max(d,w);if(t>(B+v)/2&&t<=($+v)/2){({index:u}=n[m]);break}}}else if(e){for(var q=0;q<g;q++)if(q===0&&t<=(e[q].coordinate+e[q+1].coordinate)/2||q>0&&q<g-1&&t>(e[q].coordinate+e[q-1].coordinate)/2&&t<=(e[q].coordinate+e[q+1].coordinate)/2||q===g-1&&t>(e[q].coordinate+e[q-1].coordinate)/2){({index:u}=e[q]);break}}return u},IG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:u,layout:g}=e;if((g==="vertical"||g==="horizontal"&&u==="middle")&&a!=="center"&&ot(t[a]))return Es(Es({},t),{},{[a]:t[a]+(r||0)});if((g==="horizontal"||g==="vertical"&&a==="center")&&u!=="middle"&&ot(t[u]))return Es(Es({},t),{},{[u]:t[u]+(i||0)})}return t},Ac=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",h8=(t,e,n,r)=>{if(r)return t.map(g=>g.coordinate);var i,a,u=t.map(g=>(g.coordinate===e&&(i=!0),g.coordinate===n&&(a=!0),g.coordinate));return i||u.push(e),a||u.push(n),u},d8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:u,realScaleType:g,isCategorical:m,categoricalDomain:d,tickCount:v,ticks:w,niceTicks:S,axisType:T}=t;if(!u)return null;var N=g==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,M=i==="category"&&u.bandwidth?u.bandwidth()/N:0;if(M=T==="angleAxis"&&a&&a.length>=2?gi(a[0]-a[1])*2*M:M,w||S){var P=(w||S||[]).map((B,$)=>{var q=r?r.indexOf(B):B;return{coordinate:u(q)+M,value:B,offset:M,index:$}});return P.filter(B=>!Ts(B.coordinate))}return m&&d?d.map((B,$)=>({coordinate:u(B)+M,value:B,index:$,offset:M})):u.ticks&&v!=null?u.ticks(v).map((B,$)=>({coordinate:u(B)+M,value:B,offset:M,index:$})):u.domain().map((B,$)=>({coordinate:u(B)+M,value:r?r[B]:B,index:$,offset:M}))},N3=1e-4,OG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-N3,a=Math.max(r[0],r[1])+N3,u=t(e[0]),g=t(e[n-1]);(u<i||u>a||g<i||g>a)&&t.domain([e[0],e[n-1]])}},RG=(t,e)=>{if(!e||e.length!==2||!ot(e[0])||!ot(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ot(t[0])||t[0]<n)&&(i[0]=n),(!ot(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},NG=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,u=0;u<e;++u){var g=Ts(t[u][n][1])?t[u][n][0]:t[u][n][1];g>=0?(t[u][n][0]=i,t[u][n][1]=i+g,i=t[u][n][1]):(t[u][n][0]=a,t[u][n][1]=a+g,a=t[u][n][1])}},DG=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var u=Ts(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},MG={sign:NG,expand:iH,none:Pf,silhouette:aH,wiggle:sH,positive:DG},PG=(t,e,n)=>{var r=MG[n],i=rH().keys(e).value((a,u)=>+$n(a,u,0)).order(D2).offset(r);return i(t)};function LG(t){return t==null?void 0:String(t)}function D3(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:u}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!mr(i[e.dataKey])){var g=EM(n,"value",i[e.dataKey]);if(g)return g.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var m=$n(i,mr(u)?e.dataKey:u);return mr(m)?null:e.scale(m)}var M3=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:u}=t;if(e.type==="category")return n[u]?n[u].coordinate+r:null;var g=$n(a,e.dataKey,e.scale.domain()[u]);return mr(g)?null:e.scale(g)-i/2+r},kG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},jG=t=>{var e=t.flat(2).filter(ot);return[Math.min(...e),Math.max(...e)]},BG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],UG=(t,e,n)=>{if(t!=null)return BG(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:u}=a,g=u.reduce((m,d)=>{var v=f8(d,e,n),w=jG(v);return[Math.min(m[0],w[0]),Math.max(m[1],w[1])]},[1/0,-1/0]);return[Math.min(g[0],r[0]),Math.max(g[1],r[1])]},[1/0,-1/0]))},P3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Md=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Vm(e,v=>v.coordinate),a=1/0,u=1,g=i.length;u<g;u++){var m=i[u],d=i[u-1];a=Math.min((m.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function k3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Es(Es({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Kf(t,e){if(t)return String(t);if(typeof e=="string")return e}function FG(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?AG({x:t,y:e},r):null}var VG=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:u}=r;return Es(Es(Es({},r),$r(r.cx,r.cy,u,a)),{},{angle:a,radius:u})}var g=i.coordinate,{angle:m}=r;return Es(Es(Es({},r),$r(r.cx,r.cy,g,m)),{},{angle:m,radius:g})}return{x:0,y:0}},zG=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,fl=t=>t.layout.width,hl=t=>t.layout.height,HG=t=>t.layout.scale,g8=t=>t.layout.margin,Ym=we(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),$m=we(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),m8="data-recharts-item-index",p8="data-recharts-item-data-key",t0=60;function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return(e=GG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GG(t){var e=WG(t,"string");return typeof e=="symbol"?e:e+""}function WG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YG=t=>t.brush.height;function $G(t){var e=$m(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:t0;return n+i}return n},0)}function XG(t){var e=$m(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:t0;return n+i}return n},0)}function KG(t){var e=Ym(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function QG(t){var e=Ym(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ri=we([fl,hl,g8,YG,$G,XG,KG,QG,kM,pq],(t,e,n,r,i,a,u,g,m,d)=>{var v={left:(n.left||0)+i,right:(n.right||0)+a},w={top:(n.top||0)+u,bottom:(n.bottom||0)+g},S=D1(D1({},w),v),T=S.bottom;S.bottom+=r,S=IG(S,m,d);var N=t-S.left-S.right,M=e-S.top-S.bottom;return D1(D1({brushBottom:T},S),{},{width:Math.max(N,0),height:Math.max(M,0)})}),ZG=we(ri,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Fw=we(fl,hl,(t,e)=>({x:0,y:0,width:t,height:e})),JG=R.createContext(null),sa=()=>R.useContext(JG)!=null,Xm=t=>t.brush,Km=we([Xm,ri,g8],(t,e,n)=>({height:t.height,x:ot(t.x)?t.x:e.left,y:ot(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:ot(t.width)?t.width:e.width})),Ex={},Ax={},Sx={},B3;function eW(){return B3||(B3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let u,g=null;const m=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),v=()=>{g!==null&&(n.apply(u,g),u=void 0,g=null)},w=()=>{d&&v(),M()};let S=null;const T=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,w()},r)},N=()=>{S!==null&&(clearTimeout(S),S=null)},M=()=>{N(),u=void 0,g=null},P=()=>{v()},B=function(...$){if(i?.aborted)return;u=this,g=$;const q=S==null;T(),m&&q&&v()};return B.schedule=T,B.cancel=M,B.flush=P,i?.addEventListener("abort",M,{once:!0}),B}t.debounce=e}(Sx)),Sx}var U3;function tW(){return U3||(U3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eW();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:u=!1,trailing:g=!0,maxWait:m}=a,d=Array(2);u&&(d[0]="leading"),g&&(d[1]="trailing");let v,w=null;const S=e.debounce(function(...M){v=r.apply(this,M),w=null},i,{edges:d}),T=function(...M){return m!=null&&(w===null&&(w=Date.now()),Date.now()-w>=m)?(v=r.apply(this,M),w=Date.now(),S.cancel(),S.schedule(),v):(S.apply(this,M),v)},N=()=>(S.flush(),v);return T.cancel=S.cancel,T.flush=N,T}t.debounce=n}(Ax)),Ax}var F3;function nW(){return F3||(F3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tW();function n(r,i=0,a={}){const{leading:u=!0,trailing:g=!0}=a;return e.debounce(r,i,{leading:u,maxWait:i,trailing:g})}t.throttle=n}(Ex)),Ex}var _x,V3;function rW(){return V3||(V3=1,_x=nW().throttle),_x}var iW=rW();const aW=bo(iW);var Pg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},y8=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:u}=n,g=al(r)?t:Number(r),m=al(i)?e:Number(i);return a&&a>0&&(g?m=g/a:m&&(g=m*a),u&&m>u&&(m=u)),{calculatedWidth:g,calculatedHeight:m}},sW={width:0,height:0,overflow:"visible"},oW={width:0,overflowX:"visible"},lW={height:0,overflowY:"visible"},cW={},uW=t=>{var{width:e,height:n}=t,r=al(e),i=al(n);return r&&i?sW:r?oW:i?lW:cW};function fW(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Ki(t){return Number.isFinite(t)}function kf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(null,arguments)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){hW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=gW(t,"string");return typeof e=="symbol"?e:e+""}function gW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v8=R.createContext({width:-1,height:-1});function x8(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:R.createElement(v8.Provider,{value:i},e)}var Vw=()=>R.useContext(v8),mW=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:u=0,minHeight:g,maxHeight:m,children:d,debounce:v=0,id:w,className:S,onResize:T,style:N={}}=t,M=R.useRef(null),P=R.useRef();P.current=T,R.useImperativeHandle(e,()=>M.current);var[B,$]=R.useState({containerWidth:r.width,containerHeight:r.height}),q=R.useCallback((G,F)=>{$(Z=>{var z=Math.round(G),K=Math.round(F);return Z.containerWidth===z&&Z.containerHeight===K?Z:{containerWidth:z,containerHeight:K}})},[]);R.useEffect(()=>{var G=K=>{var U,{width:ue,height:se}=K[0].contentRect;q(ue,se),(U=P.current)===null||U===void 0||U.call(P,ue,se)};v>0&&(G=aW(G,v,{trailing:!0,leading:!1}));var F=new ResizeObserver(G),{width:Z,height:z}=M.current.getBoundingClientRect();return q(Z,z),F.observe(M.current),()=>{F.disconnect()}},[q,v]);var{containerWidth:te,containerHeight:X}=B;Pg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:ee,calculatedHeight:j}=y8(te,X,{width:i,height:a,aspect:n,maxHeight:m});return Pg(ee>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,j,i,a,u,g,n),R.createElement("div",{id:w?"".concat(w):void 0,className:mn("recharts-responsive-container",S),style:H3(H3({},N),{},{width:i,height:a,minWidth:u,minHeight:g,maxHeight:m}),ref:M},R.createElement("div",{style:uW({width:i,height:a})},R.createElement(x8,{width:ee,height:j},d)))}),of=R.forwardRef((t,e)=>{var n=Vw();if(kf(n.width)&&kf(n.height))return t.children;var{width:r,height:i}=fW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:u}=y8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ot(a)&&ot(u)?R.createElement(x8,{width:a,height:u},t.children):R.createElement(mW,H2({},t,{width:r,height:i,ref:e}))}),Qm=()=>{var t,e=sa(),n=nt(ZG),r=nt(Km),i=(t=nt(Xm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},b8=()=>{var t;return(t=nt(ri))!==null&&t!==void 0?t:pW},zw=()=>nt(fl),Hw=()=>nt(hl),yW=()=>nt(t=>t.layout.margin),ln=t=>t.layout.layoutType,Zm=()=>nt(ln),Jm=t=>{var e=pr(),n=sa(),{width:r,height:i}=t,a=Vw(),u=r,g=i;return a&&(u=a.width>0?a.width:r,g=a.height>0?a.height:i),R.useEffect(()=>{!n&&kf(u)&&kf(g)&&e(hG({width:u,height:g}))},[e,n,u,g]),null},vW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w8=ts({name:"legend",initialState:vW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:na()},removeLegendPayload:{reducer(t,e){var n=Qo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:na()}}}),{setLegendSize:q3,setLegendSettings:xW,addLegendPayload:E8,removeLegendPayload:A8}=w8.actions,bW=w8.reducer,wW=["contextPayload"];function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(null,arguments)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qw(t,e,n){return(e=EW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EW(t){var e=AW(t,"string");return typeof e=="symbol"?e:e+""}function AW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SW(t,e){if(t==null)return{};var n,r,i=_W(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _W(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CW(t){return t.value}function TW(t){var{contextPayload:e}=t,n=SW(t,wW),r=DM(e,t.payloadUniqBy,CW),i=jf(jf({},n),{},{payload:r});return R.isValidElement(t.content)?R.cloneElement(t.content,i):typeof t.content=="function"?R.createElement(t.content,i):R.createElement(Nw,i)}function IW(t,e,n,r,i,a){var{layout:u,align:g,verticalAlign:m}=e,d,v;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(g==="center"&&u==="vertical"?d={left:((r||0)-a.width)/2}:d=g==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(m==="middle"?v={top:((i||0)-a.height)/2}:v=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),jf(jf({},d),v)}function OW(t){var e=pr();return R.useEffect(()=>{e(xW(t))},[e,t]),null}function RW(t){var e=pr();return R.useEffect(()=>(e(q3(t)),()=>{e(q3({width:0,height:0}))}),[e,t]),null}function NW(t){var e=xq(),n=Tz(),r=yW(),{width:i,height:a,wrapperStyle:u,portal:g}=t,[m,d]=jM([e]),v=zw(),w=Hw();if(v==null||w==null)return null;var S=v-(r.left||0)-(r.right||0),T=Kc.getWidthOrHeight(t.layout,a,i,S),N=g?u:jf(jf({position:"absolute",width:T?.width||i||"auto",height:T?.height||a||"auto"},IW(u,t,r,v,w,m)),u),M=g??n;if(M==null)return null;var P=R.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:d},R.createElement(OW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),R.createElement(RW,{width:m.width,height:m.height}),R.createElement(TW,q2({},t,T,{margin:r,chartWidth:v,chartHeight:w,contextPayload:e})));return zR.createPortal(P,M)}class Kc extends R.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&ot(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return R.createElement(NW,this.props)}}qw(Kc,"displayName","Legend");qw(Kc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function G2(){return G2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G2.apply(null,arguments)}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){DW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DW(t,e,n){return(e=MW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MW(t){var e=PW(t,"string");return typeof e=="symbol"?e:e+""}function PW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LW(t){return Array.isArray(t)&&vo(t[0])&&vo(t[1])?t.join(" ~ "):t}var kW=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:u,itemSorter:g,wrapperClassName:m,labelClassName:d,label:v,labelFormatter:w,accessibilityLayer:S=!1}=t,T=()=>{if(a&&a.length){var X={padding:0,margin:0},ee=(g?Vm(a,g):a).map((j,G)=>{if(j.type==="none")return null;var F=j.formatter||u||LW,{value:Z,name:z}=j,K=Z,U=z;if(F){var ue=F(Z,z,j,G,a);if(Array.isArray(ue))[K,U]=ue;else if(ue!=null)K=ue;else return null}var se=Cx({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:se},vo(U)?R.createElement("span",{className:"recharts-tooltip-item-name"},U):null,vo(U)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},K),R.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:X},ee)}return null},N=Cx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),M=Cx({margin:0},i),P=!mr(v),B=P?v:"",$=mn("recharts-default-tooltip",m),q=mn("recharts-tooltip-label",d);P&&w&&a!==void 0&&a!==null&&(B=w(v,a));var te=S?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",G2({className:$,style:N},te),R.createElement("p",{className:q,style:M},R.isValidElement(B)?B:"".concat(B)),T())},Kh="recharts-tooltip-wrapper",jW={visibility:"hidden"};function BW(t){var{coordinate:e,translateX:n,translateY:r}=t;return mn(Kh,{["".concat(Kh,"-right")]:ot(n)&&e&&ot(e.x)&&n>=e.x,["".concat(Kh,"-left")]:ot(n)&&e&&ot(e.x)&&n<e.x,["".concat(Kh,"-bottom")]:ot(r)&&e&&ot(e.y)&&r>=e.y,["".concat(Kh,"-top")]:ot(r)&&e&&ot(e.y)&&r<e.y})}function Y3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:u,tooltipDimension:g,viewBox:m,viewBoxDimension:d}=t;if(a&&ot(a[r]))return a[r];var v=n[r]-g-(i>0?i:0),w=n[r]+i;if(e[r])return u[r]?v:w;var S=m[r];if(S==null)return 0;if(u[r]){var T=v,N=S;return T<N?Math.max(w,S):Math.max(v,S)}if(d==null)return 0;var M=w+g,P=S+d;return M>P?Math.max(v,S):Math.max(w,S)}function UW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function FW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:u,useTranslate3d:g,viewBox:m}=t,d,v,w;return u.height>0&&u.width>0&&n?(v=Y3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),w=Y3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),d=UW({translateX:v,translateY:w,useTranslate3d:g})):d=jW,{cssProperties:d,cssClasses:BW({translateX:v,translateY:w,coordinate:n})}}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){W2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W2(t,e,n){return(e=VW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VW(t){var e=zW(t,"string");return typeof e=="symbol"?e:e+""}function zW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HW extends R.PureComponent{constructor(){super(...arguments),W2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),W2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:u,hasPayload:g,isAnimationActive:m,offset:d,position:v,reverseDirection:w,useTranslate3d:S,viewBox:T,wrapperStyle:N,lastBoundingBox:M,innerRef:P,hasPortalFromProps:B}=this.props,{cssClasses:$,cssProperties:q}=FW({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:d,position:v,reverseDirection:w,tooltipBox:{height:M.height,width:M.width},useTranslate3d:S,viewBox:T}),te=B?{}:M1(M1({transition:m&&e?"transform ".concat(r,"ms ").concat(i):void 0},q),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&g?"visible":"hidden",position:"absolute",top:0,left:0}),X=M1(M1({},te),{},{visibility:!this.state.dismissed&&e&&g?"visible":"hidden"},N);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:$,style:X,ref:P},a)}}var qW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Sc={devToolsEnabled:!1,isSsr:qW()},S8=()=>nt(t=>t.rootProps.accessibilityLayer);function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(null,arguments)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){GW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GW(t,e,n){return(e=WW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3={curveBasisClosed:Wz,curveBasisOpen:Yz,curveBasis:Gz,curveBumpX:Nz,curveBumpY:Dz,curveLinearClosed:$z,curveLinear:Um,curveMonotoneX:Xz,curveMonotoneY:Kz,curveNatural:Qz,curveStep:Zz,curveStepAfter:eH,curveStepBefore:Jz},P1=t=>Ki(t.x)&&Ki(t.y),Qh=t=>t.x,Zh=t=>t.y,$W=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Qd(t));return(n==="curveMonotone"||n==="curveBump")&&e?Q3["".concat(n).concat(e==="vertical"?"Y":"X")]:Q3[n]||Um},XW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,u=$W(e,i),g=a?n.filter(P1):n,m;if(Array.isArray(r)){var d=a?r.filter(w=>P1(w)):r,v=g.map((w,S)=>K3(K3({},w),{},{base:d[S]}));return i==="vertical"?m=C1().y(Zh).x1(Qh).x0(w=>w.base.x):m=C1().x(Qh).y1(Zh).y0(w=>w.base.y),m.defined(P1).curve(u),m(v)}return i==="vertical"&&ot(r)?m=C1().y(Zh).x1(Qh).x0(r):ot(r)?m=C1().x(Qh).y1(Zh).y0(r):m=cM().x(Qh).y(Zh),m.defined(P1).curve(u),m(g)},Gw=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?XW(t):r;return R.createElement("path",Y2({},Ja(t),Ow(t),{className:mn("recharts-curve",e),d:a===null?void 0:a,ref:i}))},KW=["x","y","top","left","width","height","className"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(null,arguments)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=eY(t,"string");return typeof e=="symbol"?e:e+""}function eY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tY(t,e){if(t==null)return{};var n,r,i=nY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rY=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),iY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:u=0,className:g}=t,m=tY(t,KW),d=QW({x:e,y:n,top:r,left:i,width:a,height:u},m);return!ot(e)||!ot(n)||!ot(a)||!ot(u)||!ot(r)||!ot(i)?null:R.createElement("path",$2({},aa(d),{className:mn("recharts-cross",g),d:rY(e,n,a,u,r,i)}))};function aY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){oY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oY(t,e,n){return(e=lY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lY(t){var e=cY(t,"string");return typeof e=="symbol"?e:e+""}function cY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pi(t,e){var n=sY({},t),r=e,i=Object.keys(e),a=i.reduce((u,g)=>(u[g]===void 0&&r[g]!==void 0&&(u[g]=r[g]),u),n);return a}function uY(){}function fY(t){return t!=null}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){hY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hY(t,e,n){return(e=dY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dY(t){var e=gY(t,"string");return typeof e=="symbol"?e:e+""}function gY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),_8=(t,e,n)=>t.map(r=>"".concat(mY(r)," ").concat(e,"ms ").concat(n)).join(","),pY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Pd=(t,e)=>Object.keys(e).reduce((n,r)=>tO(tO({},n),{},{[r]:t(r,e[r])}),{});function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){yY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yY(t,e,n){return(e=vY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vY(t){var e=xY(t,"string");return typeof e=="symbol"?e:e+""}function xY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lg=(t,e,n)=>t+(e-t)*n,X2=t=>{var{from:e,to:n}=t;return e!==n},C8=(t,e,n)=>{var r=Pd((i,a)=>{if(X2(a)){var[u,g]=t(a.from,a.to,a.velocity);return Ri(Ri({},a),{},{from:u,velocity:g})}return a},e);return n<1?Pd((i,a)=>X2(a)?Ri(Ri({},a),{},{velocity:Lg(a.velocity,r[i].velocity,n),from:Lg(a.from,r[i].from,n)}):a,e):C8(t,r,n-1)};function bY(t,e,n,r,i,a){var u,g=r.reduce((S,T)=>Ri(Ri({},S),{},{[T]:{from:t[T],velocity:0,to:e[T]}}),{}),m=()=>Pd((S,T)=>T.from,g),d=()=>!Object.values(g).filter(X2).length,v=null,w=S=>{u||(u=S);var T=S-u,N=T/n.dt;g=C8(n,g,N),i(Ri(Ri(Ri({},t),e),m())),u=S,d()||(v=a.setTimeout(w))};return()=>(v=a.setTimeout(w),()=>{v()})}function wY(t,e,n,r,i,a,u){var g=null,m=i.reduce((w,S)=>Ri(Ri({},w),{},{[S]:[t[S],e[S]]}),{}),d,v=w=>{d||(d=w);var S=(w-d)/r,T=Pd((M,P)=>Lg(...P,n(S)),m);if(a(Ri(Ri(Ri({},t),e),T)),S<1)g=u.setTimeout(v);else{var N=Pd((M,P)=>Lg(...P,n(1)),m);a(Ri(Ri(Ri({},t),e),N))}};return()=>(g=u.setTimeout(v),()=>{g()})}const EY=(t,e,n,r,i,a)=>{var u=pY(t,e);return n.isStepper===!0?bY(t,e,n,u,i,a):wY(t,e,n,r,u,i,a)};var kg=1e-4,T8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],I8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),rO=(t,e)=>n=>{var r=T8(t,e);return I8(r,n)},AY=(t,e)=>n=>{var r=T8(t,e),i=[...r.map((a,u)=>a*u).slice(1),0];return I8(i,n)},iO=function(){for(var e,n,r,i,a=arguments.length,u=new Array(a),g=0;g<a;g++)u[g]=arguments[g];if(u.length===1)switch(u[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var m=u[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([e,r,n,i]=m[1].split(")")[0].split(",").map(N=>parseFloat(N)))}}else u.length===4&&([e,r,n,i]=u);var d=rO(e,n),v=rO(r,i),w=AY(e,n),S=N=>N>1?1:N<0?0:N,T=N=>{for(var M=N>1?1:N,P=M,B=0;B<8;++B){var $=d(P)-M,q=w(P);if(Math.abs($-M)<kg||q<kg)return v(P);P=S(P-$/q)}return v(P)};return T.isStepper=!1,T},SY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(u,g,m)=>{var d=-(u-g)*n,v=m*r,w=m+(d-v)*i/1e3,S=m*i/1e3+u;return Math.abs(S-g)<kg&&Math.abs(w)<kg?[g,0]:[S,w]};return a.isStepper=!0,a.dt=i,a},_Y=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iO(t);case"spring":return SY();default:if(t.split("(")[0]==="cubic-bezier")return iO(t)}return typeof t=="function"?t:null};function CY(t){var e,n=()=>null,r=!1,i=null,a=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var g=u,[m,...d]=g;if(typeof m=="number"){i=t.setTimeout(a.bind(null,d),m);return}a(m),i=t.setTimeout(a.bind(null,d));return}typeof u=="string"&&(e=u,n(e)),typeof u=="object"&&(e=u,n(e)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,i&&(i(),i=null),a(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>t}}class TY{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=u=>{u-r>=n?e(u):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function IY(){return CY(new TY)}var OY=R.createContext(IY);function RY(t,e){var n=R.useContext(OY);return R.useMemo(()=>e??n(t),[t,e,n])}var NY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aO={t:0},Tx={t:1};function n0(t){var e=Pi(t,NY),{isActive:n,canBegin:r,duration:i,easing:a,begin:u,onAnimationEnd:g,onAnimationStart:m,children:d}=e,v=RY(e.animationId,e.animationManager),[w,S]=R.useState(n?aO:Tx),T=R.useRef(null);return R.useEffect(()=>{n||S(Tx)},[n]),R.useEffect(()=>{if(!n||!r)return uY;var N=EY(aO,Tx,_Y(a),i,S,v.getTimeoutController()),M=()=>{T.current=N()};return v.start([m,u,M,i,g]),()=>{v.stop(),T.current&&T.current(),g()}},[n,r,i,a,u,m,g,v]),d(w.t)}function r0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(Rd(e)),r=R.useRef(t);return r.current!==t&&(n.current=Rd(e),r.current=t),n.current}var DY=["radius"],MY=["radius"];function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){PY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PY(t,e,n){return(e=LY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LY(t){var e=kY(t,"string");return typeof e=="symbol"?e:e+""}function kY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(null,arguments)}function lO(t,e){if(t==null)return{};var n,r,i=jY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cO=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,g=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var v=[0,0,0,0],w=0,S=4;w<S;w++)v[w]=i[w]>a?a:i[w];d="M".concat(t,",").concat(e+u*v[0]),v[0]>0&&(d+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(m,",").concat(t+g*v[0],",").concat(e)),d+="L ".concat(t+n-g*v[1],",").concat(e),v[1]>0&&(d+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(m,`,
        `).concat(t+n,",").concat(e+u*v[1])),d+="L ".concat(t+n,",").concat(e+r-u*v[2]),v[2]>0&&(d+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(m,`,
        `).concat(t+n-g*v[2],",").concat(e+r)),d+="L ".concat(t+g*v[3],",").concat(e+r),v[3]>0&&(d+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(m,`,
        `).concat(t,",").concat(e+r-u*v[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var T=Math.min(a,i);d="M ".concat(t,",").concat(e+u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t+g*T,",").concat(e,`
            L `).concat(t+n-g*T,",").concat(e,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t+n,",").concat(e+u*T,`
            L `).concat(t+n,",").concat(e+r-u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t+n-g*T,",").concat(e+r,`
            L `).concat(t+g*T,",").concat(e+r,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t,",").concat(e+r-u*T," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},BY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O8=t=>{var e=Pi(t,BY),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ce=n.current.getTotalLength();ce&&i(ce)}catch{}},[]);var{x:a,y:u,width:g,height:m,radius:d,className:v}=e,{animationEasing:w,animationDuration:S,animationBegin:T,isAnimationActive:N,isUpdateAnimationActive:M}=e,P=R.useRef(g),B=R.useRef(m),$=R.useRef(a),q=R.useRef(u),te=R.useMemo(()=>({x:a,y:u,width:g,height:m,radius:d}),[a,u,g,m,d]),X=r0(te,"rectangle-");if(a!==+a||u!==+u||g!==+g||m!==+m||g===0||m===0)return null;var ee=mn("recharts-rectangle",v);if(!M){var j=aa(e),{radius:G}=j,F=lO(j,DY);return R.createElement("path",jg({},F,{radius:typeof d=="number"?d:void 0,className:ee,d:cO(a,u,g,m,d)}))}var Z=P.current,z=B.current,K=$.current,U=q.current,ue="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),oe=_8(["strokeDasharray"],S,typeof w=="string"?w:void 0);return R.createElement(n0,{animationId:X,key:X,canBegin:r>0,duration:S,easing:w,isActive:M,begin:T},ce=>{var Te=Or(Z,g,ce),Ve=Or(z,m,ce),ae=Or(K,a,ce),be=Or(U,u,ce);n.current&&(P.current=Te,B.current=Ve,$.current=ae,q.current=be);var Ie;N?ce>0?Ie={transition:oe,strokeDasharray:se}:Ie={strokeDasharray:ue}:Ie={strokeDasharray:se};var je=aa(e),{radius:Ye}=je,rt=lO(je,MY);return R.createElement("path",jg({},rt,{radius:typeof d=="number"?d:void 0,className:ee,d:cO(ae,be,Te,Ve,d),ref:n,style:oO(oO({},Ie),e.style)}))})};function R8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,u=$r(e,n,r,i),g=$r(e,n,r,a);return{points:[u,g],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K2.apply(null,arguments)}var UY=(t,e)=>{var n=gi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},L1=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:u,cornerRadius:g,cornerIsExternal:m}=t,d=g*(u?1:-1)+r,v=Math.asin(g/d)/Mg,w=m?i:i+a*v,S=$r(e,n,d,w),T=$r(e,n,r,w),N=m?i-a*v:i,M=$r(e,n,d*Math.cos(v*Mg),N);return{center:S,circleTangency:T,lineTangency:M,theta:v}},N8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:u}=t,g=UY(a,u),m=a+g,d=$r(e,n,i,a),v=$r(e,n,i,m),w="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(g)>180),",").concat(+(a>m),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(r>0){var S=$r(e,n,r,a),T=$r(e,n,r,m);w+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(g)>180),",").concat(+(a<=m),`,
            `).concat(S.x,",").concat(S.y," Z")}else w+="L ".concat(e,",").concat(n," Z");return w},FY=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:g,startAngle:m,endAngle:d}=t,v=gi(d-m),{circleTangency:w,lineTangency:S,theta:T}=L1({cx:e,cy:n,radius:i,angle:m,sign:v,cornerRadius:a,cornerIsExternal:g}),{circleTangency:N,lineTangency:M,theta:P}=L1({cx:e,cy:n,radius:i,angle:d,sign:-v,cornerRadius:a,cornerIsExternal:g}),B=g?Math.abs(m-d):Math.abs(m-d)-T-P;if(B<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):N8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:m,endAngle:d});var $="M ".concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(v<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(M.x,",").concat(M.y,`
  `);if(r>0){var{circleTangency:q,lineTangency:te,theta:X}=L1({cx:e,cy:n,radius:r,angle:m,sign:v,isExternal:!0,cornerRadius:a,cornerIsExternal:g}),{circleTangency:ee,lineTangency:j,theta:G}=L1({cx:e,cy:n,radius:r,angle:d,sign:-v,isExternal:!0,cornerRadius:a,cornerIsExternal:g}),F=g?Math.abs(m-d):Math.abs(m-d)-X-G;if(F<0&&a===0)return"".concat($,"L").concat(e,",").concat(n,"Z");$+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(ee.x,",").concat(ee.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(v>0),",").concat(q.x,",").concat(q.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(te.x,",").concat(te.y,"Z")}else $+="L".concat(e,",").concat(n,"Z");return $},VY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},D8=t=>{var e=Pi(t,VY),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:u,forceCornerRadius:g,cornerIsExternal:m,startAngle:d,endAngle:v,className:w}=e;if(a<i||d===v)return null;var S=mn("recharts-sector",w),T=a-i,N=Xi(u,T,0,!0),M;return N>0&&Math.abs(d-v)<360?M=FY({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(N,T/2),forceCornerRadius:g,cornerIsExternal:m,startAngle:d,endAngle:v}):M=N8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:v}),R.createElement("path",K2({},aa(e),{className:S,d:M}))};function zY(t,e,n){var r,i,a,u;if(t==="horizontal")r=e.x,a=r,i=n.top,u=n.top+n.height;else if(t==="vertical")i=e.y,u=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:g,cy:m,innerRadius:d,outerRadius:v,angle:w}=e,S=$r(g,m,d,w),T=$r(g,m,v,w);r=S.x,i=S.y,a=T.x,u=T.y}else return R8(e);return[{x:r,y:i},{x:a,y:u}]}var Ix={},Ox={},Rx={},uO;function HY(){return uO||(uO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(Rx)),Rx}var fO;function qY(){return fO||(fO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HY();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(Ox)),Ox}var hO;function GY(){return hO||(hO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LM(),n=qY();function r(i,a,u){u&&typeof u!="number"&&e.isIterateeCall(i,a,u)&&(a=u=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),u=u===void 0?i<a?1:-1:n.toFinite(u);const g=Math.max(Math.ceil((a-i)/(u||1)),0),m=new Array(g);for(let d=0;d<g;d++)m[d]=i,i+=u;return m}t.range=r}(Ix)),Ix}var Nx,dO;function WY(){return dO||(dO=1,Nx=GY().range),Nx}var YY=WY();const M8=bo(YY);function ac(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $Y(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ww(t){let e,n,r;t.length!==2?(e=ac,n=(g,m)=>ac(t(g),m),r=(g,m)=>t(g)-m):(e=t===ac||t===$Y?t:XY,n=t,r=t);function i(g,m,d=0,v=g.length){if(d<v){if(e(m,m)!==0)return v;do{const w=d+v>>>1;n(g[w],m)<0?d=w+1:v=w}while(d<v)}return d}function a(g,m,d=0,v=g.length){if(d<v){if(e(m,m)!==0)return v;do{const w=d+v>>>1;n(g[w],m)<=0?d=w+1:v=w}while(d<v)}return d}function u(g,m,d=0,v=g.length){const w=i(g,m,d,v-1);return w>d&&r(g[w-1],m)>-r(g[w],m)?w-1:w}return{left:i,center:u,right:a}}function XY(){return 0}function P8(t){return t===null?NaN:+t}function*KY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const QY=Ww(ac),i0=QY.right;Ww(P8).center;class gO extends Map{constructor(e,n=e$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mO(this,e))}has(e){return super.has(mO(this,e))}set(e,n){return super.set(ZY(this,e),n)}delete(e){return super.delete(JY(this,e))}}function mO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ZY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function JY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function e$(t){return t!==null&&typeof t=="object"?t.valueOf():t}function t$(t=ac){if(t===ac)return L8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function L8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const n$=Math.sqrt(50),r$=Math.sqrt(10),i$=Math.sqrt(2);function Bg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),u=a>=n$?10:a>=r$?5:a>=i$?2:1;let g,m,d;return i<0?(d=Math.pow(10,-i)/u,g=Math.round(t*d),m=Math.round(e*d),g/d<t&&++g,m/d>e&&--m,d=-d):(d=Math.pow(10,i)*u,g=Math.round(t/d),m=Math.round(e/d),g*d<t&&++g,m*d>e&&--m),m<g&&.5<=n&&n<2?Bg(t,e,n*2):[g,m,d]}function Q2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,u]=r?Bg(e,t,n):Bg(t,e,n);if(!(a>=i))return[];const g=a-i+1,m=new Array(g);if(r)if(u<0)for(let d=0;d<g;++d)m[d]=(a-d)/-u;else for(let d=0;d<g;++d)m[d]=(a-d)*u;else if(u<0)for(let d=0;d<g;++d)m[d]=(i+d)/-u;else for(let d=0;d<g;++d)m[d]=(i+d)*u;return m}function Z2(t,e,n){return e=+e,t=+t,n=+n,Bg(t,e,n)[2]}function J2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Z2(e,t,n):Z2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?L8:t$(i);r>n;){if(r-n>600){const m=r-n+1,d=e-n+1,v=Math.log(m),w=.5*Math.exp(2*v/3),S=.5*Math.sqrt(v*w*(m-w)/m)*(d-m/2<0?-1:1),T=Math.max(n,Math.floor(e-d*w/m+S)),N=Math.min(r,Math.floor(e+(m-d)*w/m+S));k8(t,e,T,N,i)}const a=t[e];let u=n,g=r;for(Jh(t,n,e),i(t[r],a)>0&&Jh(t,n,r);u<g;){for(Jh(t,u,g),++u,--g;i(t[u],a)<0;)++u;for(;i(t[g],a)>0;)--g}i(t[n],a)===0?Jh(t,n,g):(++g,Jh(t,g,r)),g<=e&&(n=g+1),e<=g&&(r=g-1)}return t}function Jh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function a$(t,e,n){if(t=Float64Array.from(KY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yO(t);if(e>=1)return pO(t);var r,i=(r-1)*e,a=Math.floor(i),u=pO(k8(t,a).subarray(0,a+1)),g=yO(t.subarray(a+1));return u+(g-u)*(i-a)}}function s$(t,e,n=P8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),u=+n(t[a],a,t),g=+n(t[a+1],a+1,t);return u+(g-u)*(i-a)}}function o$(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Rs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function dl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eb=Symbol("implicit");function Yw(){var t=new gO,e=[],n=[],r=eb;function i(a){let u=t.get(a);if(u===void 0){if(r!==eb)return r;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new gO;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Yw(e,n).unknown(r)},Rs.apply(i,arguments),i}function $w(){var t=Yw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,u,g=!1,m=0,d=0,v=.5;delete t.unknown;function w(){var S=e().length,T=i<r,N=T?i:r,M=T?r:i;a=(M-N)/Math.max(1,S-m+d*2),g&&(a=Math.floor(a)),N+=(M-N-a*(S-m))*v,u=a*(1-m),g&&(N=Math.round(N),u=Math.round(u));var P=o$(S).map(function(B){return N+a*B});return n(T?P.reverse():P)}return t.domain=function(S){return arguments.length?(e(S),w()):e()},t.range=function(S){return arguments.length?([r,i]=S,r=+r,i=+i,w()):[r,i]},t.rangeRound=function(S){return[r,i]=S,r=+r,i=+i,g=!0,w()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(S){return arguments.length?(g=!!S,w()):g},t.padding=function(S){return arguments.length?(m=Math.min(1,d=+S),w()):m},t.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),w()):m},t.paddingOuter=function(S){return arguments.length?(d=+S,w()):d},t.align=function(S){return arguments.length?(v=Math.max(0,Math.min(1,S)),w()):v},t.copy=function(){return $w(e(),[r,i]).round(g).paddingInner(m).paddingOuter(d).align(v)},Rs.apply(w(),arguments)}function j8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return j8(e())},t}function l$(){return j8($w.apply(null,arguments).paddingInner(1))}function Xw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function B8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function a0(){}var Ld=.7,Ug=1/Ld,_f="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c$=/^#([0-9a-f]{3,8})$/,u$=new RegExp(`^rgb\\(${_f},${_f},${_f}\\)$`),f$=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),h$=new RegExp(`^rgba\\(${_f},${_f},${_f},${kd}\\)$`),d$=new RegExp(`^rgba\\(${mo},${mo},${mo},${kd}\\)$`),g$=new RegExp(`^hsl\\(${kd},${mo},${mo}\\)$`),m$=new RegExp(`^hsla\\(${kd},${mo},${mo},${kd}\\)$`),vO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xw(a0,jd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xO,formatHex:xO,formatHex8:p$,formatHsl:y$,formatRgb:bO,toString:bO});function xO(){return this.rgb().formatHex()}function p$(){return this.rgb().formatHex8()}function y$(){return U8(this).formatHsl()}function bO(){return this.rgb().formatRgb()}function jd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c$.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wO(e):n===3?new Ea(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?k1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?k1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=u$.exec(t))?new Ea(e[1],e[2],e[3],1):(e=f$.exec(t))?new Ea(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=h$.exec(t))?k1(e[1],e[2],e[3],e[4]):(e=d$.exec(t))?k1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=g$.exec(t))?SO(e[1],e[2]/100,e[3]/100,1):(e=m$.exec(t))?SO(e[1],e[2]/100,e[3]/100,e[4]):vO.hasOwnProperty(t)?wO(vO[t]):t==="transparent"?new Ea(NaN,NaN,NaN,0):null}function wO(t){return new Ea(t>>16&255,t>>8&255,t&255,1)}function k1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ea(t,e,n,r)}function v$(t){return t instanceof a0||(t=jd(t)),t?(t=t.rgb(),new Ea(t.r,t.g,t.b,t.opacity)):new Ea}function tb(t,e,n,r){return arguments.length===1?v$(t):new Ea(t,e,n,r??1)}function Ea(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Xw(Ea,tb,B8(a0,{brighter(t){return t=t==null?Ug:Math.pow(Ug,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ea(iu(this.r),iu(this.g),iu(this.b),Fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EO,formatHex:EO,formatHex8:x$,formatRgb:AO,toString:AO}));function EO(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}`}function x$(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}${Qc((isNaN(this.opacity)?1:this.opacity)*255)}`}function AO(){const t=Fg(this.opacity);return`${t===1?"rgb(":"rgba("}${iu(this.r)}, ${iu(this.g)}, ${iu(this.b)}${t===1?")":`, ${t})`}`}function Fg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function iu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qc(t){return t=iu(t),(t<16?"0":"")+t.toString(16)}function SO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vs(t,e,n,r)}function U8(t){if(t instanceof Vs)return new Vs(t.h,t.s,t.l,t.opacity);if(t instanceof a0||(t=jd(t)),!t)return new Vs;if(t instanceof Vs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,g=a-i,m=(a+i)/2;return g?(e===a?u=(n-r)/g+(n<r)*6:n===a?u=(r-e)/g+2:u=(e-n)/g+4,g/=m<.5?a+i:2-a-i,u*=60):g=m>0&&m<1?0:u,new Vs(u,g,m,t.opacity)}function b$(t,e,n,r){return arguments.length===1?U8(t):new Vs(t,e,n,r??1)}function Vs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Xw(Vs,b$,B8(a0,{brighter(t){return t=t==null?Ug:Math.pow(Ug,t),new Vs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new Vs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ea(Dx(t>=240?t-240:t+120,i,r),Dx(t,i,r),Dx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vs(_O(this.h),j1(this.s),j1(this.l),Fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fg(this.opacity);return`${t===1?"hsl(":"hsla("}${_O(this.h)}, ${j1(this.s)*100}%, ${j1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _O(t){return t=(t||0)%360,t<0?t+360:t}function j1(t){return Math.max(0,Math.min(1,t||0))}function Dx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Kw=t=>()=>t;function w$(t,e){return function(n){return t+n*e}}function E$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function A$(t){return(t=+t)==1?F8:function(e,n){return n-e?E$(e,n,t):Kw(isNaN(e)?n:e)}}function F8(t,e){var n=e-t;return n?w$(t,n):Kw(isNaN(t)?e:t)}const CO=function t(e){var n=A$(e);function r(i,a){var u=n((i=tb(i)).r,(a=tb(a)).r),g=n(i.g,a.g),m=n(i.b,a.b),d=F8(i.opacity,a.opacity);return function(v){return i.r=u(v),i.g=g(v),i.b=m(v),i.opacity=d(v),i+""}}return r.gamma=t,r}(1);function S$(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function _$(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C$(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),u;for(u=0;u<r;++u)i[u]=Qf(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(g){for(u=0;u<r;++u)a[u]=i[u](g);return a}}function T$(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function I$(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var nb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mx=new RegExp(nb.source,"g");function O$(t){return function(){return t}}function R$(t){return function(e){return t(e)+""}}function N$(t,e){var n=nb.lastIndex=Mx.lastIndex=0,r,i,a,u=-1,g=[],m=[];for(t=t+"",e=e+"";(r=nb.exec(t))&&(i=Mx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),g[u]?g[u]+=a:g[++u]=a),(r=r[0])===(i=i[0])?g[u]?g[u]+=i:g[++u]=i:(g[++u]=null,m.push({i:u,x:Vg(r,i)})),n=Mx.lastIndex;return n<e.length&&(a=e.slice(n),g[u]?g[u]+=a:g[++u]=a),g.length<2?m[0]?R$(m[0].x):O$(e):(e=m.length,function(d){for(var v=0,w;v<e;++v)g[(w=m[v]).i]=w.x(d);return g.join("")})}function Qf(t,e){var n=typeof e,r;return e==null||n==="boolean"?Kw(e):(n==="number"?Vg:n==="string"?(r=jd(e))?(e=r,CO):N$:e instanceof jd?CO:e instanceof Date?T$:_$(e)?S$:Array.isArray(e)?C$:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?I$:Vg)(t,e)}function Qw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function D$(t,e){e===void 0&&(e=t,t=Qf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(u){var g=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return a[g](u-g)}}function M$(t){return function(){return t}}function zg(t){return+t}var TO=[0,1];function ia(t){return t}function rb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:M$(isNaN(e)?NaN:.5)}function P$(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function L$(t,e,n){var r=t[0],i=t[1],a=e[0],u=e[1];return i<r?(r=rb(i,r),a=n(u,a)):(r=rb(r,i),a=n(a,u)),function(g){return a(r(g))}}function k$(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=rb(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(g){var m=i0(t,g,1,r)-1;return a[m](i[m](g))}}function s0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ep(){var t=TO,e=TO,n=Qf,r,i,a,u=ia,g,m,d;function v(){var S=Math.min(t.length,e.length);return u!==ia&&(u=P$(t[0],t[S-1])),g=S>2?k$:L$,m=d=null,w}function w(S){return S==null||isNaN(S=+S)?a:(m||(m=g(t.map(r),e,n)))(r(u(S)))}return w.invert=function(S){return u(i((d||(d=g(e,t.map(r),Vg)))(S)))},w.domain=function(S){return arguments.length?(t=Array.from(S,zg),v()):t.slice()},w.range=function(S){return arguments.length?(e=Array.from(S),v()):e.slice()},w.rangeRound=function(S){return e=Array.from(S),n=Qw,v()},w.clamp=function(S){return arguments.length?(u=S?!0:ia,v()):u!==ia},w.interpolate=function(S){return arguments.length?(n=S,v()):n},w.unknown=function(S){return arguments.length?(a=S,w):a},function(S,T){return r=S,i=T,v()}}function Zw(){return ep()(ia,ia)}function j$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bf(t){return t=Hg(Math.abs(t)),t?t[1]:NaN}function B$(t,e){return function(n,r){for(var i=n.length,a=[],u=0,g=t[0],m=0;i>0&&g>0&&(m+g+1>r&&(g=Math.max(1,r-m)),a.push(n.substring(i-=g,i+g)),!((m+=g+1)>r));)g=t[u=(u+1)%t.length];return a.reverse().join(e)}}function U$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bd(t){if(!(e=F$.exec(t)))throw new Error("invalid format: "+t);var e;return new Jw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bd.prototype=Jw.prototype;function Jw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Jw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var V8;function z$(t,e){var n=Hg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(V8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Hg(t,Math.max(0,e+a-1))[0]}function IO(t,e){var n=Hg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:j$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IO(t*100,e),r:IO,s:z$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function RO(t){return t}var NO=Array.prototype.map,DO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function H$(t){var e=t.grouping===void 0||t.thousands===void 0?RO:B$(NO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?RO:U$(NO.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",g=t.minus===void 0?"−":t.minus+"",m=t.nan===void 0?"NaN":t.nan+"";function d(w){w=Bd(w);var S=w.fill,T=w.align,N=w.sign,M=w.symbol,P=w.zero,B=w.width,$=w.comma,q=w.precision,te=w.trim,X=w.type;X==="n"?($=!0,X="g"):OO[X]||(q===void 0&&(q=12),te=!0,X="g"),(P||S==="0"&&T==="=")&&(P=!0,S="0",T="=");var ee=M==="$"?n:M==="#"&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",j=M==="$"?r:/[%p]/.test(X)?u:"",G=OO[X],F=/[defgprs%]/.test(X);q=q===void 0?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function Z(z){var K=ee,U=j,ue,se,oe;if(X==="c")U=G(z)+U,z="";else{z=+z;var ce=z<0||1/z<0;if(z=isNaN(z)?m:G(Math.abs(z),q),te&&(z=V$(z)),ce&&+z==0&&N!=="+"&&(ce=!1),K=(ce?N==="("?N:g:N==="-"||N==="("?"":N)+K,U=(X==="s"?DO[8+V8/3]:"")+U+(ce&&N==="("?")":""),F){for(ue=-1,se=z.length;++ue<se;)if(oe=z.charCodeAt(ue),48>oe||oe>57){U=(oe===46?i+z.slice(ue+1):z.slice(ue))+U,z=z.slice(0,ue);break}}}$&&!P&&(z=e(z,1/0));var Te=K.length+z.length+U.length,Ve=Te<B?new Array(B-Te+1).join(S):"";switch($&&P&&(z=e(Ve+z,Ve.length?B-U.length:1/0),Ve=""),T){case"<":z=K+z+U+Ve;break;case"=":z=K+Ve+z+U;break;case"^":z=Ve.slice(0,Te=Ve.length>>1)+K+z+U+Ve.slice(Te);break;default:z=Ve+K+z+U;break}return a(z)}return Z.toString=function(){return w+""},Z}function v(w,S){var T=d((w=Bd(w),w.type="f",w)),N=Math.max(-8,Math.min(8,Math.floor(Bf(S)/3)))*3,M=Math.pow(10,-N),P=DO[8+N/3];return function(B){return T(M*B)+P}}return{format:d,formatPrefix:v}}var B1,eE,z8;q$({thousands:",",grouping:[3],currency:["$",""]});function q$(t){return B1=H$(t),eE=B1.format,z8=B1.formatPrefix,B1}function G$(t){return Math.max(0,-Bf(Math.abs(t)))}function W$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bf(e)/3)))*3-Bf(Math.abs(t)))}function Y$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bf(e)-Bf(t))+1}function H8(t,e,n,r){var i=J2(t,e,n),a;switch(r=Bd(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=W$(i,u))&&(r.precision=a),z8(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Y$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=G$(i))&&(r.precision=a-(r.type==="%")*2);break}}return eE(r)}function _c(t){var e=t.domain;return t.ticks=function(n){var r=e();return Q2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return H8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,u=r[i],g=r[a],m,d,v=10;for(g<u&&(d=u,u=g,g=d,d=i,i=a,a=d);v-- >0;){if(d=Z2(u,g,n),d===m)return r[i]=u,r[a]=g,e(r);if(d>0)u=Math.floor(u/d)*d,g=Math.ceil(g/d)*d;else if(d<0)u=Math.ceil(u*d)/d,g=Math.floor(g*d)/d;else break;m=d}return t},t}function q8(){var t=Zw();return t.copy=function(){return s0(t,q8())},Rs.apply(t,arguments),_c(t)}function G8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return G8(t).unknown(e)},t=arguments.length?Array.from(t,zg):[0,1],_c(n)}function W8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],u;return a<i&&(u=n,n=r,r=u,u=i,i=a,a=u),t[n]=e.floor(i),t[r]=e.ceil(a),t}function MO(t){return Math.log(t)}function PO(t){return Math.exp(t)}function $$(t){return-Math.log(-t)}function X$(t){return-Math.exp(-t)}function K$(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Q$(t){return t===10?K$:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Z$(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LO(t){return(e,n)=>-t(-e,n)}function tE(t){const e=t(MO,PO),n=e.domain;let r=10,i,a;function u(){return i=Z$(r),a=Q$(r),n()[0]<0?(i=LO(i),a=LO(a),t($$,X$)):t(MO,PO),e}return e.base=function(g){return arguments.length?(r=+g,u()):r},e.domain=function(g){return arguments.length?(n(g),u()):n()},e.ticks=g=>{const m=n();let d=m[0],v=m[m.length-1];const w=v<d;w&&([d,v]=[v,d]);let S=i(d),T=i(v),N,M;const P=g==null?10:+g;let B=[];if(!(r%1)&&T-S<P){if(S=Math.floor(S),T=Math.ceil(T),d>0){for(;S<=T;++S)for(N=1;N<r;++N)if(M=S<0?N/a(-S):N*a(S),!(M<d)){if(M>v)break;B.push(M)}}else for(;S<=T;++S)for(N=r-1;N>=1;--N)if(M=S>0?N/a(-S):N*a(S),!(M<d)){if(M>v)break;B.push(M)}B.length*2<P&&(B=Q2(d,v,P))}else B=Q2(S,T,Math.min(T-S,P)).map(a);return w?B.reverse():B},e.tickFormat=(g,m)=>{if(g==null&&(g=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Bd(m)).precision==null&&(m.trim=!0),m=eE(m)),g===1/0)return m;const d=Math.max(1,r*g/e.ticks().length);return v=>{let w=v/a(Math.round(i(v)));return w*r<r-.5&&(w*=r),w<=d?m(v):""}},e.nice=()=>n(W8(n(),{floor:g=>a(Math.floor(i(g))),ceil:g=>a(Math.ceil(i(g)))})),e}function Y8(){const t=tE(ep()).domain([1,10]);return t.copy=()=>s0(t,Y8()).base(t.base()),Rs.apply(t,arguments),t}function kO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nE(t){var e=1,n=t(kO(e),jO(e));return n.constant=function(r){return arguments.length?t(kO(e=+r),jO(e)):e},_c(n)}function $8(){var t=nE(ep());return t.copy=function(){return s0(t,$8()).constant(t.constant())},Rs.apply(t,arguments)}function BO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function J$(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eX(t){return t<0?-t*t:t*t}function rE(t){var e=t(ia,ia),n=1;function r(){return n===1?t(ia,ia):n===.5?t(J$,eX):t(BO(n),BO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_c(e)}function iE(){var t=rE(ep());return t.copy=function(){return s0(t,iE()).exponent(t.exponent())},Rs.apply(t,arguments),t}function tX(){return iE.apply(null,arguments).exponent(.5)}function UO(t){return Math.sign(t)*t*t}function nX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function X8(){var t=Zw(),e=[0,1],n=!1,r;function i(a){var u=nX(t(a));return isNaN(u)?r:n?Math.round(u):u}return i.invert=function(a){return t.invert(UO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,zg)).map(UO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return X8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Rs.apply(i,arguments),_c(i)}function K8(){var t=[],e=[],n=[],r;function i(){var u=0,g=Math.max(1,e.length);for(n=new Array(g-1);++u<g;)n[u-1]=s$(t,u/g);return a}function a(u){return u==null||isNaN(u=+u)?r:e[i0(n,u)]}return a.invertExtent=function(u){var g=e.indexOf(u);return g<0?[NaN,NaN]:[g>0?n[g-1]:t[0],g<n.length?n[g]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let g of u)g!=null&&!isNaN(g=+g)&&t.push(g);return t.sort(ac),i()},a.range=function(u){return arguments.length?(e=Array.from(u),i()):e.slice()},a.unknown=function(u){return arguments.length?(r=u,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return K8().domain(t).range(e).unknown(r)},Rs.apply(a,arguments)}function Q8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function u(m){return m!=null&&m<=m?i[i0(r,m,0,n)]:a}function g(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*e-(m-n)*t)/(n+1);return u}return u.domain=function(m){return arguments.length?([t,e]=m,t=+t,e=+e,g()):[t,e]},u.range=function(m){return arguments.length?(n=(i=Array.from(m)).length-1,g()):i.slice()},u.invertExtent=function(m){var d=i.indexOf(m);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},u.unknown=function(m){return arguments.length&&(a=m),u},u.thresholds=function(){return r.slice()},u.copy=function(){return Q8().domain([t,e]).range(i).unknown(a)},Rs.apply(_c(u),arguments)}function Z8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[i0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Z8().domain(t).range(e).unknown(n)},Rs.apply(i,arguments)}const Px=new Date,Lx=new Date;function ii(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const u=i(a),g=i.ceil(a);return a-u<g-a?u:g},i.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),i.range=(a,u,g)=>{const m=[];if(a=i.ceil(a),g=g==null?1:Math.floor(g),!(a<u)||!(g>0))return m;let d;do m.push(d=new Date(+a)),e(a,g),t(a);while(d<a&&a<u);return m},i.filter=a=>ii(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,g)=>{if(u>=u)if(g<0)for(;++g<=0;)for(;e(u,-1),!a(u););else for(;--g>=0;)for(;e(u,1),!a(u););}),n&&(i.count=(a,u)=>(Px.setTime(+a),Lx.setTime(+u),t(Px),t(Lx),Math.floor(n(Px,Lx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?u=>r(u)%a===0:u=>i.count(0,u)%a===0):i)),i}const qg=ii(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ii(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qg);qg.range;const Yo=1e3,Ss=Yo*60,$o=Ss*60,ol=$o*24,aE=ol*7,FO=ol*30,kx=ol*365,Zc=ii(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yo)},(t,e)=>(e-t)/Yo,t=>t.getUTCSeconds());Zc.range;const sE=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yo)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getMinutes());sE.range;const oE=ii(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCMinutes());oE.range;const lE=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yo-t.getMinutes()*Ss)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getHours());lE.range;const cE=ii(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCHours());cE.range;const o0=ii(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ss)/ol,t=>t.getDate()-1);o0.range;const tp=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ol,t=>t.getUTCDate()-1);tp.range;const J8=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ol,t=>Math.floor(t/ol));J8.range;function Au(t){return ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ss)/aE)}const np=Au(0),Gg=Au(1),rX=Au(2),iX=Au(3),Uf=Au(4),aX=Au(5),sX=Au(6);np.range;Gg.range;rX.range;iX.range;Uf.range;aX.range;sX.range;function Su(t){return ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/aE)}const rp=Su(0),Wg=Su(1),oX=Su(2),lX=Su(3),Ff=Su(4),cX=Su(5),uX=Su(6);rp.range;Wg.range;oX.range;lX.range;Ff.range;cX.range;uX.range;const uE=ii(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uE.range;const fE=ii(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fE.range;const ll=ii(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ll.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ll.range;const cl=ii(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());cl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});cl.range;function e6(t,e,n,r,i,a){const u=[[Zc,1,Yo],[Zc,5,5*Yo],[Zc,15,15*Yo],[Zc,30,30*Yo],[a,1,Ss],[a,5,5*Ss],[a,15,15*Ss],[a,30,30*Ss],[i,1,$o],[i,3,3*$o],[i,6,6*$o],[i,12,12*$o],[r,1,ol],[r,2,2*ol],[n,1,aE],[e,1,FO],[e,3,3*FO],[t,1,kx]];function g(d,v,w){const S=v<d;S&&([d,v]=[v,d]);const T=w&&typeof w.range=="function"?w:m(d,v,w),N=T?T.range(d,+v+1):[];return S?N.reverse():N}function m(d,v,w){const S=Math.abs(v-d)/w,T=Ww(([,,P])=>P).right(u,S);if(T===u.length)return t.every(J2(d/kx,v/kx,w));if(T===0)return qg.every(Math.max(J2(d,v,w),1));const[N,M]=u[S/u[T-1][2]<u[T][2]/S?T-1:T];return N.every(M)}return[g,m]}const[fX,hX]=e6(cl,fE,rp,J8,cE,oE),[dX,gX]=e6(ll,uE,np,o0,lE,sE);function jx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ed(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function mX(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,u=t.shortDays,g=t.months,m=t.shortMonths,d=td(i),v=nd(i),w=td(a),S=nd(a),T=td(u),N=nd(u),M=td(g),P=nd(g),B=td(m),$=nd(m),q={a:ce,A:Te,b:Ve,B:ae,c:null,d:WO,e:WO,f:BX,g:$X,G:KX,H:LX,I:kX,j:jX,L:t6,m:UX,M:FX,p:be,q:Ie,Q:XO,s:KO,S:VX,u:zX,U:HX,V:qX,w:GX,W:WX,x:null,X:null,y:YX,Y:XX,Z:QX,"%":$O},te={a:je,A:Ye,b:rt,B:Ue,c:null,d:YO,e:YO,f:tK,g:fK,G:dK,H:ZX,I:JX,j:eK,L:r6,m:nK,M:rK,p:Pn,q:vt,Q:XO,s:KO,S:iK,u:aK,U:sK,V:oK,w:lK,W:cK,x:null,X:null,y:uK,Y:hK,Z:gK,"%":$O},X={a:Z,A:z,b:K,B:U,c:ue,d:qO,e:qO,f:NX,g:HO,G:zO,H:GO,I:GO,j:TX,L:RX,m:CX,M:IX,p:F,q:_X,Q:MX,s:PX,S:OX,u:bX,U:wX,V:EX,w:xX,W:AX,x:se,X:oe,y:HO,Y:zO,Z:SX,"%":DX};q.x=ee(n,q),q.X=ee(r,q),q.c=ee(e,q),te.x=ee(n,te),te.X=ee(r,te),te.c=ee(e,te);function ee(De,ht){return function(it){var Be=[],st=-1,Tt=0,tn=De.length,Xn,jt,Jt;for(it instanceof Date||(it=new Date(+it));++st<tn;)De.charCodeAt(st)===37&&(Be.push(De.slice(Tt,st)),(jt=VO[Xn=De.charAt(++st)])!=null?Xn=De.charAt(++st):jt=Xn==="e"?" ":"0",(Jt=ht[Xn])&&(Xn=Jt(it,jt)),Be.push(Xn),Tt=st+1);return Be.push(De.slice(Tt,st)),Be.join("")}}function j(De,ht){return function(it){var Be=ed(1900,void 0,1),st=G(Be,De,it+="",0),Tt,tn;if(st!=it.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(ht&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?(Tt=Bx(ed(Be.y,0,1)),tn=Tt.getUTCDay(),Tt=tn>4||tn===0?Wg.ceil(Tt):Wg(Tt),Tt=tp.offset(Tt,(Be.V-1)*7),Be.y=Tt.getUTCFullYear(),Be.m=Tt.getUTCMonth(),Be.d=Tt.getUTCDate()+(Be.w+6)%7):(Tt=jx(ed(Be.y,0,1)),tn=Tt.getDay(),Tt=tn>4||tn===0?Gg.ceil(Tt):Gg(Tt),Tt=o0.offset(Tt,(Be.V-1)*7),Be.y=Tt.getFullYear(),Be.m=Tt.getMonth(),Be.d=Tt.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),tn="Z"in Be?Bx(ed(Be.y,0,1)).getUTCDay():jx(ed(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(tn+5)%7:Be.w+Be.U*7-(tn+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,Bx(Be)):jx(Be)}}function G(De,ht,it,Be){for(var st=0,Tt=ht.length,tn=it.length,Xn,jt;st<Tt;){if(Be>=tn)return-1;if(Xn=ht.charCodeAt(st++),Xn===37){if(Xn=ht.charAt(st++),jt=X[Xn in VO?ht.charAt(st++):Xn],!jt||(Be=jt(De,it,Be))<0)return-1}else if(Xn!=it.charCodeAt(Be++))return-1}return Be}function F(De,ht,it){var Be=d.exec(ht.slice(it));return Be?(De.p=v.get(Be[0].toLowerCase()),it+Be[0].length):-1}function Z(De,ht,it){var Be=T.exec(ht.slice(it));return Be?(De.w=N.get(Be[0].toLowerCase()),it+Be[0].length):-1}function z(De,ht,it){var Be=w.exec(ht.slice(it));return Be?(De.w=S.get(Be[0].toLowerCase()),it+Be[0].length):-1}function K(De,ht,it){var Be=B.exec(ht.slice(it));return Be?(De.m=$.get(Be[0].toLowerCase()),it+Be[0].length):-1}function U(De,ht,it){var Be=M.exec(ht.slice(it));return Be?(De.m=P.get(Be[0].toLowerCase()),it+Be[0].length):-1}function ue(De,ht,it){return G(De,e,ht,it)}function se(De,ht,it){return G(De,n,ht,it)}function oe(De,ht,it){return G(De,r,ht,it)}function ce(De){return u[De.getDay()]}function Te(De){return a[De.getDay()]}function Ve(De){return m[De.getMonth()]}function ae(De){return g[De.getMonth()]}function be(De){return i[+(De.getHours()>=12)]}function Ie(De){return 1+~~(De.getMonth()/3)}function je(De){return u[De.getUTCDay()]}function Ye(De){return a[De.getUTCDay()]}function rt(De){return m[De.getUTCMonth()]}function Ue(De){return g[De.getUTCMonth()]}function Pn(De){return i[+(De.getUTCHours()>=12)]}function vt(De){return 1+~~(De.getUTCMonth()/3)}return{format:function(De){var ht=ee(De+="",q);return ht.toString=function(){return De},ht},parse:function(De){var ht=j(De+="",!1);return ht.toString=function(){return De},ht},utcFormat:function(De){var ht=ee(De+="",te);return ht.toString=function(){return De},ht},utcParse:function(De){var ht=j(De+="",!0);return ht.toString=function(){return De},ht}}}var VO={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,pX=/^%/,yX=/[\\^$*+?|[\]().{}]/g;function pn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function vX(t){return t.replace(yX,"\\$&")}function td(t){return new RegExp("^(?:"+t.map(vX).join("|")+")","i")}function nd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xX(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bX(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wX(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function EX(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function AX(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zO(t,e,n){var r=mi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function HO(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SX(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _X(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CX(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qO(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function TX(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function GO(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function IX(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function OX(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function RX(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function NX(t,e,n){var r=mi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DX(t,e,n){var r=pX.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function MX(t,e,n){var r=mi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PX(t,e,n){var r=mi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function WO(t,e){return pn(t.getDate(),e,2)}function LX(t,e){return pn(t.getHours(),e,2)}function kX(t,e){return pn(t.getHours()%12||12,e,2)}function jX(t,e){return pn(1+o0.count(ll(t),t),e,3)}function t6(t,e){return pn(t.getMilliseconds(),e,3)}function BX(t,e){return t6(t,e)+"000"}function UX(t,e){return pn(t.getMonth()+1,e,2)}function FX(t,e){return pn(t.getMinutes(),e,2)}function VX(t,e){return pn(t.getSeconds(),e,2)}function zX(t){var e=t.getDay();return e===0?7:e}function HX(t,e){return pn(np.count(ll(t)-1,t),e,2)}function n6(t){var e=t.getDay();return e>=4||e===0?Uf(t):Uf.ceil(t)}function qX(t,e){return t=n6(t),pn(Uf.count(ll(t),t)+(ll(t).getDay()===4),e,2)}function GX(t){return t.getDay()}function WX(t,e){return pn(Gg.count(ll(t)-1,t),e,2)}function YX(t,e){return pn(t.getFullYear()%100,e,2)}function $X(t,e){return t=n6(t),pn(t.getFullYear()%100,e,2)}function XX(t,e){return pn(t.getFullYear()%1e4,e,4)}function KX(t,e){var n=t.getDay();return t=n>=4||n===0?Uf(t):Uf.ceil(t),pn(t.getFullYear()%1e4,e,4)}function QX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pn(e/60|0,"0",2)+pn(e%60,"0",2)}function YO(t,e){return pn(t.getUTCDate(),e,2)}function ZX(t,e){return pn(t.getUTCHours(),e,2)}function JX(t,e){return pn(t.getUTCHours()%12||12,e,2)}function eK(t,e){return pn(1+tp.count(cl(t),t),e,3)}function r6(t,e){return pn(t.getUTCMilliseconds(),e,3)}function tK(t,e){return r6(t,e)+"000"}function nK(t,e){return pn(t.getUTCMonth()+1,e,2)}function rK(t,e){return pn(t.getUTCMinutes(),e,2)}function iK(t,e){return pn(t.getUTCSeconds(),e,2)}function aK(t){var e=t.getUTCDay();return e===0?7:e}function sK(t,e){return pn(rp.count(cl(t)-1,t),e,2)}function i6(t){var e=t.getUTCDay();return e>=4||e===0?Ff(t):Ff.ceil(t)}function oK(t,e){return t=i6(t),pn(Ff.count(cl(t),t)+(cl(t).getUTCDay()===4),e,2)}function lK(t){return t.getUTCDay()}function cK(t,e){return pn(Wg.count(cl(t)-1,t),e,2)}function uK(t,e){return pn(t.getUTCFullYear()%100,e,2)}function fK(t,e){return t=i6(t),pn(t.getUTCFullYear()%100,e,2)}function hK(t,e){return pn(t.getUTCFullYear()%1e4,e,4)}function dK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ff(t):Ff.ceil(t),pn(t.getUTCFullYear()%1e4,e,4)}function gK(){return"+0000"}function $O(){return"%"}function XO(t){return+t}function KO(t){return Math.floor(+t/1e3)}var lf,a6,s6;mK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mK(t){return lf=mX(t),a6=lf.format,lf.parse,s6=lf.utcFormat,lf.utcParse,lf}function pK(t){return new Date(t)}function yK(t){return t instanceof Date?+t:+new Date(+t)}function hE(t,e,n,r,i,a,u,g,m,d){var v=Zw(),w=v.invert,S=v.domain,T=d(".%L"),N=d(":%S"),M=d("%I:%M"),P=d("%I %p"),B=d("%a %d"),$=d("%b %d"),q=d("%B"),te=d("%Y");function X(ee){return(m(ee)<ee?T:g(ee)<ee?N:u(ee)<ee?M:a(ee)<ee?P:r(ee)<ee?i(ee)<ee?B:$:n(ee)<ee?q:te)(ee)}return v.invert=function(ee){return new Date(w(ee))},v.domain=function(ee){return arguments.length?S(Array.from(ee,yK)):S().map(pK)},v.ticks=function(ee){var j=S();return t(j[0],j[j.length-1],ee??10)},v.tickFormat=function(ee,j){return j==null?X:d(j)},v.nice=function(ee){var j=S();return(!ee||typeof ee.range!="function")&&(ee=e(j[0],j[j.length-1],ee??10)),ee?S(W8(j,ee)):v},v.copy=function(){return s0(v,hE(t,e,n,r,i,a,u,g,m,d))},v}function vK(){return Rs.apply(hE(dX,gX,ll,uE,np,o0,lE,sE,Zc,a6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xK(){return Rs.apply(hE(fX,hX,cl,fE,rp,tp,cE,oE,Zc,s6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ip(){var t=0,e=1,n,r,i,a,u=ia,g=!1,m;function d(w){return w==null||isNaN(w=+w)?m:u(i===0?.5:(w=(a(w)-n)*i,g?Math.max(0,Math.min(1,w)):w))}d.domain=function(w){return arguments.length?([t,e]=w,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(w){return arguments.length?(g=!!w,d):g},d.interpolator=function(w){return arguments.length?(u=w,d):u};function v(w){return function(S){var T,N;return arguments.length?([T,N]=S,u=w(T,N),d):[u(0),u(1)]}}return d.range=v(Qf),d.rangeRound=v(Qw),d.unknown=function(w){return arguments.length?(m=w,d):m},function(w){return a=w,n=w(t),r=w(e),i=n===r?0:1/(r-n),d}}function Cc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function o6(){var t=_c(ip()(ia));return t.copy=function(){return Cc(t,o6())},dl.apply(t,arguments)}function l6(){var t=tE(ip()).domain([1,10]);return t.copy=function(){return Cc(t,l6()).base(t.base())},dl.apply(t,arguments)}function c6(){var t=nE(ip());return t.copy=function(){return Cc(t,c6()).constant(t.constant())},dl.apply(t,arguments)}function dE(){var t=rE(ip());return t.copy=function(){return Cc(t,dE()).exponent(t.exponent())},dl.apply(t,arguments)}function bK(){return dE.apply(null,arguments).exponent(.5)}function u6(){var t=[],e=ia;function n(r){if(r!=null&&!isNaN(r=+r))return e((i0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ac),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>a$(t,a/r))},n.copy=function(){return u6(e).domain(t)},dl.apply(n,arguments)}function ap(){var t=0,e=.5,n=1,r=1,i,a,u,g,m,d=ia,v,w=!1,S;function T(M){return isNaN(M=+M)?S:(M=.5+((M=+v(M))-a)*(r*M<r*a?g:m),d(w?Math.max(0,Math.min(1,M)):M))}T.domain=function(M){return arguments.length?([t,e,n]=M,i=v(t=+t),a=v(e=+e),u=v(n=+n),g=i===a?0:.5/(a-i),m=a===u?0:.5/(u-a),r=a<i?-1:1,T):[t,e,n]},T.clamp=function(M){return arguments.length?(w=!!M,T):w},T.interpolator=function(M){return arguments.length?(d=M,T):d};function N(M){return function(P){var B,$,q;return arguments.length?([B,$,q]=P,d=D$(M,[B,$,q]),T):[d(0),d(.5),d(1)]}}return T.range=N(Qf),T.rangeRound=N(Qw),T.unknown=function(M){return arguments.length?(S=M,T):S},function(M){return v=M,i=M(t),a=M(e),u=M(n),g=i===a?0:.5/(a-i),m=a===u?0:.5/(u-a),r=a<i?-1:1,T}}function f6(){var t=_c(ap()(ia));return t.copy=function(){return Cc(t,f6())},dl.apply(t,arguments)}function h6(){var t=tE(ap()).domain([.1,1,10]);return t.copy=function(){return Cc(t,h6()).base(t.base())},dl.apply(t,arguments)}function d6(){var t=nE(ap());return t.copy=function(){return Cc(t,d6()).constant(t.constant())},dl.apply(t,arguments)}function gE(){var t=rE(ap());return t.copy=function(){return Cc(t,gE()).exponent(t.exponent())},dl.apply(t,arguments)}function wK(){return gE.apply(null,arguments).exponent(.5)}const ud=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$w,scaleDiverging:f6,scaleDivergingLog:h6,scaleDivergingPow:gE,scaleDivergingSqrt:wK,scaleDivergingSymlog:d6,scaleIdentity:G8,scaleImplicit:eb,scaleLinear:q8,scaleLog:Y8,scaleOrdinal:Yw,scalePoint:l$,scalePow:iE,scaleQuantile:K8,scaleQuantize:Q8,scaleRadial:X8,scaleSequential:o6,scaleSequentialLog:l6,scaleSequentialPow:dE,scaleSequentialQuantile:u6,scaleSequentialSqrt:bK,scaleSequentialSymlog:c6,scaleSqrt:tX,scaleSymlog:$8,scaleThreshold:Z8,scaleTime:vK,scaleUtc:xK,tickFormat:H8},Symbol.toStringTag,{value:"Module"}));var Tc=t=>t.chartData,mE=we([Tc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),sp=(t,e,n,r)=>r?mE(t):Tc(t);function hu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ki(e)&&Ki(n))return!0}return!1}function QO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function g6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Ki(n))i=n;else if(typeof n=="function")return;if(Ki(r))a=r;else if(typeof r=="function")return;var u=[i,a];if(hu(u))return u}}function EK(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hu(r))return QO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,u,g;if(i==="auto")e!=null&&(u=Math.min(...e));else if(ot(i))u=i;else if(typeof i=="function")try{e!=null&&(u=i(e?.[0]))}catch{}else if(typeof i=="string"&&P3.test(i)){var m=P3.exec(i);if(m==null||e==null)u=void 0;else{var d=+m[1];u=e[0]-d}}else u=e?.[0];if(a==="auto")e!=null&&(g=Math.max(...e));else if(ot(a))g=a;else if(typeof a=="function")try{e!=null&&(g=a(e?.[1]))}catch{}else if(typeof a=="string"&&L3.test(a)){var v=L3.exec(a);if(v==null||e==null)g=void 0;else{var w=+v[1];g=e[1]+w}}else g=e?.[1];var S=[u,g];if(hu(S))return e==null?S:QO(S,e,n)}}}var Zf=1e9,AK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yE,hr=!0,Os="[DecimalError] ",au=Os+"Invalid argument: ",pE=Os+"Exponent out of range: ",Jf=Math.floor,$c=Math.pow,SK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,di=1e7,nr=7,m6=9007199254740991,Yg=Jf(m6/nr),Je={};Je.absoluteValue=Je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Je.comparedTo=Je.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Je.dividedBy=Je.div=function(t){return Zo(this,new this.constructor(t))};Je.dividedToIntegerBy=Je.idiv=function(t){var e=this,n=e.constructor;return Hn(Zo(e,new n(t),0,1),n.precision)};Je.equals=Je.eq=function(t){return!this.cmp(t)};Je.exponent=function(){return Xr(this)};Je.greaterThan=Je.gt=function(t){return this.cmp(t)>0};Je.greaterThanOrEqualTo=Je.gte=function(t){return this.cmp(t)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(t){return this.cmp(t)<0};Je.lessThanOrEqualTo=Je.lte=function(t){return this.cmp(t)<1};Je.logarithm=Je.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xa))throw Error(Os+"NaN");if(n.s<1)throw Error(Os+(n.s?"NaN":"-Infinity"));return n.eq(Xa)?new r(0):(hr=!1,e=Zo(Ud(n,a),Ud(t,a),a),hr=!0,Hn(e,i))};Je.minus=Je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v6(e,t):p6(e,(t.s=-t.s,t))};Je.modulo=Je.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Os+"NaN");return n.s?(hr=!1,e=Zo(n,t,0,1).times(t),hr=!0,n.minus(e)):Hn(new r(n),i)};Je.naturalExponential=Je.exp=function(){return y6(this)};Je.naturalLogarithm=Je.ln=function(){return Ud(this)};Je.negated=Je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Je.plus=Je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p6(e,t):v6(e,(t.s=-t.s,t))};Je.precision=Je.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(au+t);if(e=Xr(i)+1,r=i.d.length-1,n=r*nr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Je.squareRoot=Je.sqrt=function(){var t,e,n,r,i,a,u,g=this,m=g.constructor;if(g.s<1){if(!g.s)return new m(0);throw Error(Os+"NaN")}for(t=Xr(g),hr=!1,i=Math.sqrt(+g),i==0||i==1/0?(e=co(g.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new m(e)):r=new m(i.toString()),n=m.precision,i=u=n+3;;)if(a=r,r=a.plus(Zo(g,a,u+2)).times(.5),co(a.d).slice(0,u)===(e=co(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),i==u&&e=="4999"){if(Hn(a,n+1,0),a.times(a).eq(g)){r=a;break}}else if(e!="9999")break;u+=4}return hr=!0,Hn(r,n)};Je.times=Je.mul=function(t){var e,n,r,i,a,u,g,m,d,v=this,w=v.constructor,S=v.d,T=(t=new w(t)).d;if(!v.s||!t.s)return new w(0);for(t.s*=v.s,n=v.e+t.e,m=S.length,d=T.length,m<d&&(a=S,S=T,T=a,u=m,m=d,d=u),a=[],u=m+d,r=u;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=m+r;i>r;)g=a[i]+T[r]*S[i-r-1]+e,a[i--]=g%di|0,e=g/di|0;a[i]=(a[i]+e)%di|0}for(;!a[--u];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,hr?Hn(t,w.precision):t};Je.toDecimalPlaces=Je.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xo(t,0,Zf),e===void 0?e=r.rounding:xo(e,0,8),Hn(n,t+Xr(n)+1,e))};Je.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=du(r,!0):(xo(t,0,Zf),e===void 0?e=i.rounding:xo(e,0,8),r=Hn(new i(r),t+1,e),n=du(r,!0,t+1)),n};Je.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?du(i):(xo(t,0,Zf),e===void 0?e=a.rounding:xo(e,0,8),r=Hn(new a(i),t+Xr(i)+1,e),n=du(r.abs(),!1,t+Xr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Je.toInteger=Je.toint=function(){var t=this,e=t.constructor;return Hn(new e(t),Xr(t)+1,e.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(t){var e,n,r,i,a,u,g=this,m=g.constructor,d=12,v=+(t=new m(t));if(!t.s)return new m(Xa);if(g=new m(g),!g.s){if(t.s<1)throw Error(Os+"Infinity");return g}if(g.eq(Xa))return g;if(r=m.precision,t.eq(Xa))return Hn(g,r);if(e=t.e,n=t.d.length-1,u=e>=n,a=g.s,u){if((n=v<0?-v:v)<=m6){for(i=new m(Xa),e=Math.ceil(r/nr+4),hr=!1;n%2&&(i=i.times(g),JO(i.d,e)),n=Jf(n/2),n!==0;)g=g.times(g),JO(g.d,e);return hr=!0,t.s<0?new m(Xa).div(i):Hn(i,r)}}else if(a<0)throw Error(Os+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,g.s=1,hr=!1,i=t.times(Ud(g,r+d)),hr=!0,i=y6(i),i.s=a,i};Je.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Xr(i),r=du(i,n<=a.toExpNeg||n>=a.toExpPos)):(xo(t,1,Zf),e===void 0?e=a.rounding:xo(e,0,8),i=Hn(new a(i),t,e),n=Xr(i),r=du(i,t<=n||n<=a.toExpNeg,t)),r};Je.toSignificantDigits=Je.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xo(t,1,Zf),e===void 0?e=r.rounding:xo(e,0,8)),Hn(new r(n),t,e)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xr(t),n=t.constructor;return du(t,e<=n.toExpNeg||e>=n.toExpPos)};function p6(t,e){var n,r,i,a,u,g,m,d,v=t.constructor,w=v.precision;if(!t.s||!e.s)return e.s||(e=new v(t)),hr?Hn(e,w):e;if(m=t.d,d=e.d,u=t.e,i=e.e,m=m.slice(),a=u-i,a){for(a<0?(r=m,a=-a,g=d.length):(r=d,i=u,g=m.length),u=Math.ceil(w/nr),g=u>g?u+1:g+1,a>g&&(a=g,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(g=m.length,a=d.length,g-a<0&&(a=g,r=d,d=m,m=r),n=0;a;)n=(m[--a]=m[a]+d[a]+n)/di|0,m[a]%=di;for(n&&(m.unshift(n),++i),g=m.length;m[--g]==0;)m.pop();return e.d=m,e.e=i,hr?Hn(e,w):e}function xo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(au+t)}function co(t){var e,n,r,i=t.length-1,a="",u=t[0];if(i>0){for(a+=u,e=1;e<i;e++)r=t[e]+"",n=nr-r.length,n&&(a+=Xl(n)),a+=r;u=t[e],r=u+"",n=nr-r.length,n&&(a+=Xl(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return a+u}var Zo=function(){function t(r,i){var a,u=0,g=r.length;for(r=r.slice();g--;)a=r[g]*i+u,r[g]=a%di|0,u=a/di|0;return u&&r.unshift(u),r}function e(r,i,a,u){var g,m;if(a!=u)m=a>u?1:-1;else for(g=m=0;g<a;g++)if(r[g]!=i[g]){m=r[g]>i[g]?1:-1;break}return m}function n(r,i,a){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*di+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,u){var g,m,d,v,w,S,T,N,M,P,B,$,q,te,X,ee,j,G,F=r.constructor,Z=r.s==i.s?1:-1,z=r.d,K=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(Os+"Division by zero");for(m=r.e-i.e,j=K.length,X=z.length,T=new F(Z),N=T.d=[],d=0;K[d]==(z[d]||0);)++d;if(K[d]>(z[d]||0)&&--m,a==null?$=a=F.precision:u?$=a+(Xr(r)-Xr(i))+1:$=a,$<0)return new F(0);if($=$/nr+2|0,d=0,j==1)for(v=0,K=K[0],$++;(d<X||v)&&$--;d++)q=v*di+(z[d]||0),N[d]=q/K|0,v=q%K|0;else{for(v=di/(K[0]+1)|0,v>1&&(K=t(K,v),z=t(z,v),j=K.length,X=z.length),te=j,M=z.slice(0,j),P=M.length;P<j;)M[P++]=0;G=K.slice(),G.unshift(0),ee=K[0],K[1]>=di/2&&++ee;do v=0,g=e(K,M,j,P),g<0?(B=M[0],j!=P&&(B=B*di+(M[1]||0)),v=B/ee|0,v>1?(v>=di&&(v=di-1),w=t(K,v),S=w.length,P=M.length,g=e(w,M,S,P),g==1&&(v--,n(w,j<S?G:K,S))):(v==0&&(g=v=1),w=K.slice()),S=w.length,S<P&&w.unshift(0),n(M,w,P),g==-1&&(P=M.length,g=e(K,M,j,P),g<1&&(v++,n(M,j<P?G:K,P))),P=M.length):g===0&&(v++,M=[0]),N[d++]=v,g&&M[0]?M[P++]=z[te]||0:(M=[z[te]],P=1);while((te++<X||M[0]!==void 0)&&$--)}return N[0]||N.shift(),T.e=m,Hn(T,u?a+Xr(T)+1:a)}}();function y6(t,e){var n,r,i,a,u,g,m=0,d=0,v=t.constructor,w=v.precision;if(Xr(t)>16)throw Error(pE+Xr(t));if(!t.s)return new v(Xa);for(hr=!1,g=w,u=new v(.03125);t.abs().gte(.1);)t=t.times(u),d+=5;for(r=Math.log($c(2,d))/Math.LN10*2+5|0,g+=r,n=i=a=new v(Xa),v.precision=g;;){if(i=Hn(i.times(t),g),n=n.times(++m),u=a.plus(Zo(i,n,g)),co(u.d).slice(0,g)===co(a.d).slice(0,g)){for(;d--;)a=Hn(a.times(a),g);return v.precision=w,e==null?(hr=!0,Hn(a,w)):a}a=u}}function Xr(t){for(var e=t.e*nr,n=t.d[0];n>=10;n/=10)e++;return e}function Ux(t,e,n){if(e>t.LN10.sd())throw hr=!0,n&&(t.precision=n),Error(Os+"LN10 precision limit exceeded");return Hn(new t(t.LN10),e)}function Xl(t){for(var e="";t--;)e+="0";return e}function Ud(t,e){var n,r,i,a,u,g,m,d,v,w=1,S=10,T=t,N=T.d,M=T.constructor,P=M.precision;if(T.s<1)throw Error(Os+(T.s?"NaN":"-Infinity"));if(T.eq(Xa))return new M(0);if(e==null?(hr=!1,d=P):d=e,T.eq(10))return e==null&&(hr=!0),Ux(M,d);if(d+=S,M.precision=d,n=co(N),r=n.charAt(0),a=Xr(T),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)T=T.times(t),n=co(T.d),r=n.charAt(0),w++;a=Xr(T),r>1?(T=new M("0."+n),a++):T=new M(r+"."+n.slice(1))}else return m=Ux(M,d+2,P).times(a+""),T=Ud(new M(r+"."+n.slice(1)),d-S).plus(m),M.precision=P,e==null?(hr=!0,Hn(T,P)):T;for(g=u=T=Zo(T.minus(Xa),T.plus(Xa),d),v=Hn(T.times(T),d),i=3;;){if(u=Hn(u.times(v),d),m=g.plus(Zo(u,new M(i),d)),co(m.d).slice(0,d)===co(g.d).slice(0,d))return g=g.times(2),a!==0&&(g=g.plus(Ux(M,d+2,P).times(a+""))),g=Zo(g,new M(w),d),M.precision=P,e==null?(hr=!0,Hn(g,P)):g;g=m,i+=2}}function ZO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Jf(n/nr),t.d=[],r=(n+1)%nr,n<0&&(r+=nr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nr;r<i;)t.d.push(+e.slice(r,r+=nr));e=e.slice(r),r=nr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),hr&&(t.e>Yg||t.e<-Yg))throw Error(pE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Hn(t,e,n){var r,i,a,u,g,m,d,v,w=t.d;for(u=1,a=w[0];a>=10;a/=10)u++;if(r=e-u,r<0)r+=nr,i=e,d=w[v=0];else{if(v=Math.ceil((r+1)/nr),a=w.length,v>=a)return t;for(d=a=w[v],u=1;a>=10;a/=10)u++;r%=nr,i=r-nr+u}if(n!==void 0&&(a=$c(10,u-i-1),g=d/a%10|0,m=e<0||w[v+1]!==void 0||d%a,m=n<4?(g||m)&&(n==0||n==(t.s<0?3:2)):g>5||g==5&&(n==4||m||n==6&&(r>0?i>0?d/$c(10,u-i):0:w[v-1])%10&1||n==(t.s<0?8:7))),e<1||!w[0])return m?(a=Xr(t),w.length=1,e=e-a-1,w[0]=$c(10,(nr-e%nr)%nr),t.e=Jf(-e/nr)||0):(w.length=1,w[0]=t.e=t.s=0),t;if(r==0?(w.length=v,a=1,v--):(w.length=v+1,a=$c(10,nr-r),w[v]=i>0?(d/$c(10,u-i)%$c(10,i)|0)*a:0),m)for(;;)if(v==0){(w[0]+=a)==di&&(w[0]=1,++t.e);break}else{if(w[v]+=a,w[v]!=di)break;w[v--]=0,a=1}for(r=w.length;w[--r]===0;)w.pop();if(hr&&(t.e>Yg||t.e<-Yg))throw Error(pE+Xr(t));return t}function v6(t,e){var n,r,i,a,u,g,m,d,v,w,S=t.constructor,T=S.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new S(t),hr?Hn(e,T):e;if(m=t.d,w=e.d,r=e.e,d=t.e,m=m.slice(),u=d-r,u){for(v=u<0,v?(n=m,u=-u,g=w.length):(n=w,r=d,g=m.length),i=Math.max(Math.ceil(T/nr),g)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=m.length,g=w.length,v=i<g,v&&(g=i),i=0;i<g;i++)if(m[i]!=w[i]){v=m[i]<w[i];break}u=0}for(v&&(n=m,m=w,w=n,e.s=-e.s),g=m.length,i=w.length-g;i>0;--i)m[g++]=0;for(i=w.length;i>u;){if(m[--i]<w[i]){for(a=i;a&&m[--a]===0;)m[a]=di-1;--m[a],m[i]+=di}m[i]-=w[i]}for(;m[--g]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(e.d=m,e.e=r,hr?Hn(e,T):e):new S(0)}function du(t,e,n){var r,i=Xr(t),a=co(t.d),u=a.length;return e?(n&&(r=n-u)>0?a=a.charAt(0)+"."+a.slice(1)+Xl(r):u>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xl(-i-1)+a,n&&(r=n-u)>0&&(a+=Xl(r))):i>=u?(a+=Xl(i+1-u),n&&(r=n-i-1)>0&&(a=a+"."+Xl(r))):((r=i+1)<u&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(a+="."),a+=Xl(r))),t.s<0?"-"+a:a}function JO(t,e){if(t.length>e)return t.length=e,!0}function x6(t){var e,n,r;function i(a){var u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a instanceof i){u.s=a.s,u.e=a.e,u.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(au+a);if(a>0)u.s=1;else if(a<0)a=-a,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(a===~~a&&a<1e7){u.e=0,u.d=[a];return}return ZO(u,a.toString())}else if(typeof a!="string")throw Error(au+a);if(a.charCodeAt(0)===45?(a=a.slice(1),u.s=-1):u.s=1,SK.test(a))ZO(u,a);else throw Error(au+a)}if(i.prototype=Je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=x6,i.config=i.set=_K,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _K(t){if(!t||typeof t!="object")throw Error(Os+"Object expected");var e,n,r,i=["precision",1,Zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Jf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(au+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(au+n+": "+r);return this}var yE=x6(AK);Xa=new yE(1);const In=yE;var CK=t=>t,b6={},w6=t=>t===b6,e4=t=>function e(){return arguments.length===0||arguments.length===1&&w6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},E6=(t,e)=>t===1?e:e4(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(u=>u!==b6).length;return a>=t?e(...r):E6(t-a,e4(function(){for(var u=arguments.length,g=new Array(u),m=0;m<u;m++)g[m]=arguments[m];var d=r.map(v=>w6(v)?g.shift():v);return e(...d,...g)}))}),op=t=>E6(t.length,t),ib=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},TK=op((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),IK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return CK;var i=n.reverse(),a=i[0],u=i.slice(1);return function(){return u.reduce((g,m)=>m(g),a(...arguments))}},ab=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),A6=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((u,g)=>{var m;return u===((m=e)===null||m===void 0?void 0:m[g])})||(e=i,n=t(...i)),n}};function S6(t){var e;return t===0?e=1:e=Math.floor(new In(t).abs().log(10).toNumber())+1,e}function _6(t,e,n){for(var r=new In(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}op((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});op((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});op((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var C6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},T6=(t,e,n)=>{if(t.lte(0))return new In(0);var r=S6(t.toNumber()),i=new In(10).pow(r),a=t.div(i),u=r!==1?.05:.1,g=new In(Math.ceil(a.div(u).toNumber())).add(n).mul(u),m=g.mul(i);return e?new In(m.toNumber()):new In(Math.ceil(m.toNumber()))},OK=(t,e,n)=>{var r=new In(1),i=new In(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new In(10).pow(S6(t)-1),i=new In(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new In(Math.floor(t)))}else t===0?i=new In(Math.floor((e-1)/2)):n||(i=new In(Math.floor(t)));var u=Math.floor((e-1)/2),g=IK(TK(m=>i.add(new In(m-u).mul(r)).toNumber()),ib);return g(0,e)},I6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new In(0),tickMin:new In(0),tickMax:new In(0)};var u=T6(new In(n).sub(e).div(r-1),i,a),g;e<=0&&n>=0?g=new In(0):(g=new In(e).add(n).div(2),g=g.sub(new In(g).mod(u)));var m=Math.ceil(g.sub(e).div(u).toNumber()),d=Math.ceil(new In(n).sub(g).div(u).toNumber()),v=m+d+1;return v>r?I6(e,n,r,i,a+1):(v<r&&(d=n>0?d+(r-v):d,m=n>0?m:m+(r-v)),{step:u,tickMin:g.sub(new In(m).mul(u)),tickMax:g.add(new In(d).mul(u))})};function RK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[u,g]=C6([e,n]);if(u===-1/0||g===1/0){var m=g===1/0?[u,...ib(0,r-1).map(()=>1/0)]:[...ib(0,r-1).map(()=>-1/0),g];return e>n?ab(m):m}if(u===g)return OK(u,r,i);var{step:d,tickMin:v,tickMax:w}=I6(u,g,a,i,0),S=_6(v,w.add(new In(.1).mul(d)),d);return e>n?ab(S):S}function NK(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,u]=C6([n,r]);if(a===-1/0||u===1/0)return[n,r];if(a===u)return[a];var g=Math.max(e,2),m=T6(new In(u).sub(a).div(g-1),i,0),d=[..._6(new In(a),new In(u),m),u];return i===!1&&(d=d.map(v=>Math.round(v))),n>r?ab(d):d}var DK=A6(RK),MK=A6(NK),O6=t=>t.rootProps.maxBarSize,PK=t=>t.rootProps.barGap,R6=t=>t.rootProps.barCategoryGap,LK=t=>t.rootProps.barSize,l0=t=>t.rootProps.stackOffset,vE=t=>t.options.chartName,xE=t=>t.rootProps.syncId,N6=t=>t.rootProps.syncMethod,bE=t=>t.options.eventEmitter,qo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},kK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:qo.reversed,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:qo.type,unit:void 0},jK={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:Wa.type,unit:void 0},BK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:qo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},UK={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:"category",unit:void 0},wE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?BK:kK,EE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?UK:jK,cp=t=>t.polarOptions,AE=we([fl,hl,ri],u8),D6=we([cp,AE],(t,e)=>{if(t!=null)return Xi(t.innerRadius,e,0)}),M6=we([cp,AE],(t,e)=>{if(t!=null)return Xi(t.outerRadius,e,e*.8)}),FK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},P6=we([cp],FK);we([wE,P6],lp);var L6=we([AE,D6,M6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});we([EE,L6],lp);var k6=we([ln,cp,D6,M6,fl,hl],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:u,cy:g,startAngle:m,endAngle:d}=e;return{cx:Xi(u,i,i/2),cy:Xi(g,a,a/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:d,clockWise:!1}}}),yr=(t,e)=>e,c0=(t,e,n)=>n;function SE(t){return t?.id}var ai=t=>{var e=ln(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},eh=t=>t.tooltip.settings.axisId,si=t=>{var e=ai(t),n=eh(t);return u0(t,e,n)},j6=we([si],t=>t?.dataKey);function B6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,u=new Map;return t.forEach(g=>{var m,d=(m=g.data)!==null&&m!==void 0?m:r;if(!(d==null||d.length===0)){var v=SE(g);d.forEach((w,S)=>{var T=a==null||i?S:String($n(w,a,null)),N=$n(w,g.dataKey,0),M;u.has(T)?M=u.get(T):M={},Object.assign(M,{[v]:N}),u.set(T,M)})}}),Array.from(u.values())}function up(t){return t.stackId!=null&&t.dataKey!=null}var fp=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function hp(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){VK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e,n){return(e=zK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zK(t){var e=HK(t,"string");return typeof e=="symbol"?e:e+""}function HK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sb=[0,"auto"],qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},U6=(t,e)=>t.cartesianAxis.xAxis[e],gl=(t,e)=>{var n=U6(t,e);return n??qa},Ga={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:t0},F6=(t,e)=>t.cartesianAxis.yAxis[e],ml=(t,e)=>{var n=F6(t,e);return n??Ga},qK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_E=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??qK},wr=(t,e,n)=>{switch(e){case"xAxis":return gl(t,n);case"yAxis":return ml(t,n);case"zAxis":return _E(t,n);case"angleAxis":return wE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},GK=(t,e,n)=>{switch(e){case"xAxis":return gl(t,n);case"yAxis":return ml(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},u0=(t,e,n)=>{switch(e){case"xAxis":return gl(t,n);case"yAxis":return ml(t,n);case"angleAxis":return wE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},V6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function CE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var dp=t=>t.graphicalItems.cartesianItems,WK=we([yr,c0],CE),TE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),f0=we([dp,wr,WK],TE,{memoizeOptions:{resultEqualityCheck:hp}}),z6=we([f0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(up)),H6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),YK=we([f0],H6),IE=t=>t.map(e=>e.data).filter(Boolean).flat(1),$K=we([f0],IE,{memoizeOptions:{resultEqualityCheck:hp}}),OE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},RE=we([$K,sp],OE),NE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:$n(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:$n(i,r)}))):t.map(r=>({value:r})),gp=we([RE,wr,f0],NE);function q6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Z1(t){if(vo(t)||t instanceof Date){var e=Number(t);if(Ki(e))return e}}function n4(t){if(Array.isArray(t)){var e=[Z1(t[0]),Z1(t[1])];return hu(e)?e:void 0}var n=Z1(t);if(n!=null)return[n,n]}function th(t){return t.map(Z1).filter(fY)}function XK(t,e,n){return!n||typeof e!="number"||Ts(e)?[]:n.length?th(n.flatMap(r=>{var i=$n(t,r.dataKey),a,u;if(Array.isArray(i)?[a,u]=i:a=u=i,!(!Ki(a)||!Ki(u)))return[e-a,e+u]})):[]}var KK=we([z6,sp,si],B6),G6=(t,e,n)=>{var r={},i=e.reduce((a,u)=>(u.stackId==null||(a[u.stackId]==null&&(a[u.stackId]=[]),a[u.stackId].push(u)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[u,g]=a,m=g.map(SE);return[u,{stackedData:PG(t,m,n),graphicalItems:g}]}))},ob=we([KK,z6,l0],G6),W6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var u=UG(t,i,a);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},QK=we([wr],t=>t.allowDataOverflow),DE=t=>{var e;if(t==null||!("domain"in t))return sb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=th(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:sb},ME=we([wr],DE),PE=we([ME,QK],g6),ZK=we([ob,Tc,yr,PE],W6,{memoizeOptions:{resultEqualityCheck:fp}}),mp=t=>t.errorBars,JK=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>q6(n,r)),Xg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),u=Math.min(...a),g=Math.max(...a);return[u,g]}},LE=(t,e,n,r,i)=>{var a,u;if(n.length>0&&t.forEach(g=>{n.forEach(m=>{var d,v,w=(d=r[m.id])===null||d===void 0?void 0:d.filter(B=>q6(i,B)),S=$n(g,(v=e.dataKey)!==null&&v!==void 0?v:m.dataKey),T=XK(g,S,w);if(T.length>=2){var N=Math.min(...T),M=Math.max(...T);(a==null||N<a)&&(a=N),(u==null||M>u)&&(u=M)}var P=n4(S);P!=null&&(a=a==null?P[0]:Math.min(a,P[0]),u=u==null?P[1]:Math.max(u,P[1]))})}),e?.dataKey!=null&&t.forEach(g=>{var m=n4($n(g,e.dataKey));m!=null&&(a=a==null?m[0]:Math.min(a,m[0]),u=u==null?m[1]:Math.max(u,m[1]))}),Ki(a)&&Ki(u))return[a,u]},eQ=we([RE,wr,YK,mp,yr],LE,{memoizeOptions:{resultEqualityCheck:fp}});function tQ(t){var{value:e}=t;if(vo(e)||e instanceof Date)return e}var nQ=(t,e,n)=>{var r=t.map(tQ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&wM(r))?M8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Y6=t=>t.referenceElements.dots,nh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),rQ=we([Y6,yr,c0],nh),$6=t=>t.referenceElements.areas,iQ=we([$6,yr,c0],nh),X6=t=>t.referenceElements.lines,aQ=we([X6,yr,c0],nh),K6=(t,e)=>{var n=th(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sQ=we(rQ,yr,K6),Q6=(t,e)=>{var n=th(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},oQ=we([iQ,yr],Q6),Z6=(t,e)=>{var n=th(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lQ=we(aQ,yr,Z6),cQ=we(sQ,lQ,oQ,(t,e,n)=>Xg(t,n,e)),kE=(t,e,n,r,i,a,u,g)=>{if(n!=null)return n;var m=u==="vertical"&&g==="xAxis"||u==="horizontal"&&g==="yAxis",d=m?Xg(r,a,i):Xg(a,i);return EK(e,d,t.allowDataOverflow)},uQ=we([wr,ME,PE,ZK,eQ,cQ,ln,yr],kE,{memoizeOptions:{resultEqualityCheck:fp}}),fQ=[0,1],jE=(t,e,n,r,i,a,u)=>{if(!((t==null||n==null||n.length===0)&&u===void 0)){var{dataKey:g,type:m}=t,d=Ac(e,a);return d&&g==null?M8(0,n.length):m==="category"?nQ(r,t,d):i==="expand"?fQ:u}},BE=we([wr,ln,RE,gp,l0,yr,uQ],jE),J6=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:u}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof a=="string"){var g="scale".concat(Qd(a));return g in ud?g:"point"}}},rh=we([wr,ln,V6,vE,yr],J6);function hQ(t){if(t!=null){if(t in ud)return ud[t]();var e="scale".concat(Qd(t));if(e in ud)return ud[e]()}}function UE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=hQ(e);if(i!=null){var a=i.domain(n).range(r);return OG(a),a}}}var FE=(t,e,n)=>{var r=DE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hu(t))return DK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hu(t))return MK(t,e.tickCount,e.allowDecimals)}},VE=we([BE,u0,rh],FE),zE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&hu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],u=e[1],g=n[n.length-1];return[Math.min(i,a),Math.max(u,g)]}return e},dQ=we([wr,BE,VE,yr],zE),gQ=we(gp,wr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(th(t.map(g=>g.value))).sort((g,m)=>g-m);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var u=r[a+1]-r[a];n=Math.min(n,u)}return n/i}}),eP=we(gQ,ln,R6,ri,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Ki(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var u=Xi(n,t*a),g=t*a/2;return g-u-(g-u)/a*u}return 0}),mQ=(t,e)=>{var n=gl(t,e);return n==null||typeof n.padding!="string"?0:eP(t,"xAxis",e,n.padding)},pQ=(t,e)=>{var n=ml(t,e);return n==null||typeof n.padding!="string"?0:eP(t,"yAxis",e,n.padding)},yQ=we(gl,mQ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),vQ=we(ml,pQ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),xQ=we([ri,yQ,Km,Xm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),bQ=we([ri,ln,vQ,Km,Xm,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:u}=i;return a?[r.height-u.bottom,u.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),h0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return xQ(t,n,r);case"yAxis":return bQ(t,n,r);case"zAxis":return(i=_E(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return P6(t);case"radiusAxis":return L6(t,n);default:return}},tP=we([wr,h0],lp),ih=we([wr,rh,dQ,tP],UE);we([f0,mp,yr],JK);function nP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var pp=(t,e)=>e,yp=(t,e,n)=>n,wQ=we(Ym,pp,yp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nP)),EQ=we($m,pp,yp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nP)),rP=(t,e)=>({width:t.width,height:e.height}),AQ=(t,e)=>{var n=typeof e.width=="number"?e.width:t0;return{width:n,height:t.height}},iP=we(ri,gl,rP),SQ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},_Q=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},CQ=we(hl,ri,wQ,pp,yp,(t,e,n,r,i)=>{var a={},u;return n.forEach(g=>{var m=rP(e,g);u==null&&(u=SQ(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[g.id]=u-Number(d)*m.height,u+=(d?-1:1)*m.height}),a}),TQ=we(fl,ri,EQ,pp,yp,(t,e,n,r,i)=>{var a={},u;return n.forEach(g=>{var m=AQ(e,g);u==null&&(u=_Q(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[g.id]=u-Number(d)*m.width,u+=(d?-1:1)*m.width}),a}),IQ=(t,e)=>{var n=gl(t,e);if(n!=null)return CQ(t,n.orientation,n.mirror)},OQ=we([ri,gl,IQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),RQ=(t,e)=>{var n=ml(t,e);if(n!=null)return TQ(t,n.orientation,n.mirror)},NQ=we([ri,ml,RQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),aP=we(ri,ml,(t,e)=>{var n=typeof e.width=="number"?e.width:t0;return{width:n,height:t.height}}),r4=(t,e,n)=>{switch(e){case"xAxis":return iP(t,n).width;case"yAxis":return aP(t,n).height;default:return}},sP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:u}=n,g=Ac(t,r),m=e.map(d=>d.value);if(u&&g&&a==="category"&&i&&wM(m))return m}},HE=we([ln,gp,wr,yr],sP),oP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,u=Ac(t,r);if(u&&(i==="number"||a!=="auto"))return e.map(g=>g.value)}},qE=we([ln,gp,u0,yr],oP),i4=we([ln,GK,rh,ih,HE,qE,h0,VE,yr],(t,e,n,r,i,a,u,g,m)=>{if(e==null)return null;var d=Ac(t,m);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:m,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:g,range:u,realScaleType:n,scale:r}}),DQ=(t,e,n,r,i,a,u,g,m)=>{if(!(e==null||r==null)){var d=Ac(t,m),{type:v,ticks:w,tickCount:S}=e,T=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=v==="category"&&r.bandwidth?r.bandwidth()/T:0;N=m==="angleAxis"&&a!=null&&a.length>=2?gi(a[0]-a[1])*2*N:N;var M=w||i;if(M){var P=M.map((B,$)=>{var q=u?u.indexOf(B):B;return{index:$,coordinate:r(q)+N,value:B,offset:N}});return P.filter(B=>!Ts(B.coordinate))}return d&&g?g.map((B,$)=>({coordinate:r(B)+N,value:B,index:$,offset:N})):r.ticks?r.ticks(S).map(B=>({coordinate:r(B)+N,value:B,offset:N})):r.domain().map((B,$)=>({coordinate:r(B)+N,value:u?u[B]:B,index:$,offset:N}))}},lP=we([ln,u0,rh,ih,VE,h0,HE,qE,yr],DQ),MQ=(t,e,n,r,i,a,u)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var g=Ac(t,u),{tickCount:m}=e,d=0;return d=u==="angleAxis"&&r?.length>=2?gi(r[0]-r[1])*2*d:d,g&&a?a.map((v,w)=>({coordinate:n(v)+d,value:v,index:w,offset:d})):n.ticks?n.ticks(m).map(v=>({coordinate:n(v)+d,value:v,offset:d})):n.domain().map((v,w)=>({coordinate:n(v)+d,value:i?i[v]:v,index:w,offset:d}))}},gc=we([ln,u0,ih,h0,HE,qE,yr],MQ),mc=we(wr,ih,(t,e)=>{if(!(t==null||e==null))return $g($g({},t),{},{scale:e})}),PQ=we([wr,rh,BE,tP],UE);we((t,e,n)=>_E(t,n),PQ,(t,e)=>{if(!(t==null||e==null))return $g($g({},t),{},{scale:e})});var LQ=we([ln,Ym,$m],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),cP=t=>t.options.defaultTooltipEventType,uP=t=>t.options.validateTooltipEventTypes;function fP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function GE(t,e){var n=cP(t),r=uP(t);return fP(e,n,r)}function kQ(t){return nt(e=>GE(e,t))}var hP=(t,e)=>{var n,r=Number(e);if(!(Ts(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},jQ=t=>t.tooltip.settings,Ql={active:!1,index:null,dataKey:void 0,coordinate:void 0},BQ={itemInteraction:{click:Ql,hover:Ql},axisInteraction:{click:Ql,hover:Ql},keyboardInteraction:Ql,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},dP=ts({name:"tooltip",initialState:BQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:na()},removeTooltipEntrySettings:{reducer(t,e){var n=Qo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:na()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:UQ,removeTooltipEntrySettings:FQ,setTooltipSettingsState:VQ,setActiveMouseOverItemIndex:gP,mouseLeaveItem:zQ,mouseLeaveChart:mP,setActiveClickItemIndex:HQ,setMouseOverAxisIndex:pP,setMouseClickAxisIndex:qQ,setSyncInteraction:lb,setKeyboardInteraction:cb}=dP.actions,GQ=dP.reducer;function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){WQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WQ(t,e,n){return(e=YQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=$Q(t,"string");return typeof e=="symbol"?e:e+""}function $Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function KQ(t){return t.index!=null}var yP=(t,e,n,r)=>{if(e==null)return Ql;var i=XQ(t,e,n);if(i==null)return Ql;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(KQ(i)){if(a)return U1(U1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return U1(U1({},Ql),{},{coordinate:i.coordinate})},WE=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Ki(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},vP=(t,e,n,r,i,a,u,g)=>{if(!(a==null||g==null)){var m=u[0],d=m==null?void 0:g(m.positions,a);if(d!=null)return d;var v=i?.[Number(a)];if(v)switch(n){case"horizontal":return{x:v.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:v.coordinate}}}},xP=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var u;return((u=a.settings)===null||u===void 0?void 0:u.dataKey)===i})},d0=t=>t.options.tooltipPayloadSearcher,ah=t=>t.tooltip;function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=ZQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=JQ(t,"string");return typeof e=="symbol"?e:e+""}function JQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eZ(t,e){return t??e}var bP=(t,e,n,r,i,a,u)=>{if(!(e==null||a==null)){var{chartData:g,computedData:m,dataStartIndex:d,dataEndIndex:v}=n,w=[];return t.reduce((S,T)=>{var N,{dataDefinedOnItem:M,settings:P}=T,B=eZ(M,g),$=Array.isArray(B)?f8(B,d,v):B,q=(N=P?.dataKey)!==null&&N!==void 0?N:r,te=P?.nameKey,X;if(r&&Array.isArray($)&&!Array.isArray($[0])&&u==="axis"?X=EM($,r,i):X=a($,e,m,te),Array.isArray(X))X.forEach(j=>{var G=o4(o4({},P),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});S.push(k3({tooltipEntrySettings:G,dataKey:j.dataKey,payload:j.payload,value:$n(j.payload,j.dataKey),name:j.name}))});else{var ee;S.push(k3({tooltipEntrySettings:P,dataKey:q,payload:X,value:$n(X,q),name:(ee=$n(X,te))!==null&&ee!==void 0?ee:P?.name}))}return S},w)}},YE=we([si,ln,V6,vE,ai],J6),tZ=we([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),nZ=we([ai,eh],CE),g0=we([tZ,si,nZ],TE,{memoizeOptions:{resultEqualityCheck:hp}}),rZ=we([g0],t=>t.filter(up)),iZ=we([g0],IE,{memoizeOptions:{resultEqualityCheck:hp}}),sh=we([iZ,Tc],OE),aZ=we([rZ,Tc,si],B6),$E=we([sh,si,g0],NE),wP=we([si],DE),sZ=we([si],t=>t.allowDataOverflow),EP=we([wP,sZ],g6),oZ=we([g0],t=>t.filter(up)),lZ=we([aZ,oZ,l0],G6),cZ=we([lZ,Tc,ai,EP],W6),uZ=we([g0],H6),fZ=we([sh,si,uZ,mp,ai],LE,{memoizeOptions:{resultEqualityCheck:fp}}),hZ=we([Y6,ai,eh],nh),dZ=we([hZ,ai],K6),gZ=we([$6,ai,eh],nh),mZ=we([gZ,ai],Q6),pZ=we([X6,ai,eh],nh),yZ=we([pZ,ai],Z6),vZ=we([dZ,yZ,mZ],Xg),xZ=we([si,wP,EP,cZ,fZ,vZ,ln,ai],kE),AP=we([si,ln,sh,$E,l0,ai,xZ],jE),bZ=we([AP,si,YE],FE),wZ=we([si,AP,bZ,ai],zE),SP=t=>{var e=ai(t),n=eh(t),r=!1;return h0(t,e,n,r)},_P=we([si,SP],lp),CP=we([si,YE,wZ,_P],UE),EZ=we([ln,$E,si,ai],sP),AZ=we([ln,$E,si,ai],oP),SZ=(t,e,n,r,i,a,u,g)=>{if(e){var{type:m}=e,d=Ac(t,g);if(r){var v=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/v:0;return w=g==="angleAxis"&&i!=null&&i?.length>=2?gi(i[0]-i[1])*2*w:w,d&&u?u.map((S,T)=>({coordinate:r(S)+w,value:S,index:T,offset:w})):r.domain().map((S,T)=>({coordinate:r(S)+w,value:a?a[S]:S,index:T,offset:w}))}}},pl=we([ln,si,YE,CP,SP,EZ,AZ,ai],SZ),XE=we([cP,uP,jQ],(t,e,n)=>fP(n.shared,t,e)),TP=t=>t.tooltip.settings.trigger,KE=t=>t.tooltip.settings.defaultIndex,vp=we([ah,XE,TP,KE],yP),pc=we([vp,sh],WE),IP=we([pl,pc],hP),OP=we([vp],t=>{if(t)return t.dataKey}),RP=we([ah,XE,TP,KE],xP),_Z=we([fl,hl,ln,ri,pl,KE,RP,d0],vP),CZ=we([vp,_Z],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),TZ=we([vp],t=>t.active),IZ=we([RP,pc,Tc,j6,IP,d0,XE],bP),OZ=we([IZ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return(e=NZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MZ=()=>nt(si),PZ=()=>{var t=MZ(),e=nt(pl),n=nt(CP);return Md(c4(c4({},t),{},{scale:n}),e)},LZ=()=>nt(vE),QE=(t,e)=>e,NP=(t,e,n)=>n,ZE=(t,e,n,r)=>r,kZ=we(pl,t=>Vm(t,e=>e.coordinate)),JE=we([ah,QE,NP,ZE],yP),DP=we([JE,sh],WE),jZ=(t,e,n)=>{if(e!=null){var r=ah(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},MP=we([ah,QE,NP,ZE],xP),Kg=we([fl,hl,ln,ri,pl,ZE,MP,d0],vP),BZ=we([JE,Kg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),PP=we(pl,DP,hP),UZ=we([MP,DP,Tc,j6,PP,d0,QE],bP),FZ=we([JE],t=>({isActive:t.active,activeIndex:t.index})),VZ=(t,e,n,r,i,a,u,g)=>{if(!(!t||!e||!r||!i||!a)){var m=FG(t.chartX,t.chartY,e,n,g);if(m){var d=zG(m,e),v=TG(d,u,a,r,i),w=VG(e,a,v,m);return{activeIndex:String(v),activeCoordinate:w}}}};function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(null,arguments)}function u4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(r){zZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e,n){return(e=HZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HZ(t){var e=qZ(t,"string");return typeof e=="symbol"?e:e+""}function qZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GZ(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:u,cursor:g,tooltipEventType:m,chartName:d}=t,v=e,w=n,S=r;if(!g||!v||d!=="ScatterChart"&&m!=="axis")return null;var T,N;if(d==="ScatterChart")T=v,N=iY;else if(d==="BarChart")T=aY(u,v,i,a),N=O8;else if(u==="radial"){var{cx:M,cy:P,radius:B,startAngle:$,endAngle:q}=R8(v);T={cx:M,cy:P,startAngle:$,endAngle:q,innerRadius:B,outerRadius:B},N=D8}else T={points:zY(u,v,i)},N=Gw;var te=typeof g=="object"&&"className"in g?g.className:void 0,X=F1(F1(F1(F1({stroke:"#ccc",pointerEvents:"none"},i),T),lu(g)),{},{payload:w,payloadIndex:S,className:mn("recharts-tooltip-cursor",te)});return R.isValidElement(g)?R.cloneElement(g,X):R.createElement(N,X)}function WZ(t){var e=PZ(),n=b8(),r=Zm(),i=LZ();return R.createElement(GZ,ub({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var LP=R.createContext(null),YZ=()=>R.useContext(LP),Fx={exports:{}},f4;function $Z(){return f4||(f4=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,d,v){this.fn=m,this.context=d,this.once=v||!1}function a(m,d,v,w,S){if(typeof v!="function")throw new TypeError("The listener must be a function");var T=new i(v,w||m,S),N=n?n+d:d;return m._events[N]?m._events[N].fn?m._events[N]=[m._events[N],T]:m._events[N].push(T):(m._events[N]=T,m._eventsCount++),m}function u(m,d){--m._eventsCount===0?m._events=new r:delete m._events[d]}function g(){this._events=new r,this._eventsCount=0}g.prototype.eventNames=function(){var d=[],v,w;if(this._eventsCount===0)return d;for(w in v=this._events)e.call(v,w)&&d.push(n?w.slice(1):w);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},g.prototype.listeners=function(d){var v=n?n+d:d,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,T=w.length,N=new Array(T);S<T;S++)N[S]=w[S].fn;return N},g.prototype.listenerCount=function(d){var v=n?n+d:d,w=this._events[v];return w?w.fn?1:w.length:0},g.prototype.emit=function(d,v,w,S,T,N){var M=n?n+d:d;if(!this._events[M])return!1;var P=this._events[M],B=arguments.length,$,q;if(P.fn){switch(P.once&&this.removeListener(d,P.fn,void 0,!0),B){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,v),!0;case 3:return P.fn.call(P.context,v,w),!0;case 4:return P.fn.call(P.context,v,w,S),!0;case 5:return P.fn.call(P.context,v,w,S,T),!0;case 6:return P.fn.call(P.context,v,w,S,T,N),!0}for(q=1,$=new Array(B-1);q<B;q++)$[q-1]=arguments[q];P.fn.apply(P.context,$)}else{var te=P.length,X;for(q=0;q<te;q++)switch(P[q].once&&this.removeListener(d,P[q].fn,void 0,!0),B){case 1:P[q].fn.call(P[q].context);break;case 2:P[q].fn.call(P[q].context,v);break;case 3:P[q].fn.call(P[q].context,v,w);break;case 4:P[q].fn.call(P[q].context,v,w,S);break;default:if(!$)for(X=1,$=new Array(B-1);X<B;X++)$[X-1]=arguments[X];P[q].fn.apply(P[q].context,$)}}return!0},g.prototype.on=function(d,v,w){return a(this,d,v,w,!1)},g.prototype.once=function(d,v,w){return a(this,d,v,w,!0)},g.prototype.removeListener=function(d,v,w,S){var T=n?n+d:d;if(!this._events[T])return this;if(!v)return u(this,T),this;var N=this._events[T];if(N.fn)N.fn===v&&(!S||N.once)&&(!w||N.context===w)&&u(this,T);else{for(var M=0,P=[],B=N.length;M<B;M++)(N[M].fn!==v||S&&!N[M].once||w&&N[M].context!==w)&&P.push(N[M]);P.length?this._events[T]=P.length===1?P[0]:P:u(this,T)}return this},g.prototype.removeAllListeners=function(d){var v;return d?(v=n?n+d:d,this._events[v]&&u(this,v)):(this._events=new r,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=n,g.EventEmitter=g,t.exports=g}(Fx)),Fx.exports}var XZ=$Z();const KZ=bo(XZ);var Fd=new KZ,fb="recharts.syncEvent.tooltip",h4="recharts.syncEvent.brush";function eA(t,e){if(e){var n=Number.parseInt(e,10);if(!Ts(n))return t?.[n]}}var QZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kP=ts({name:"options",initialState:QZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ZZ=kP.reducer,{createEventEmitter:JZ}=kP.actions;function eJ(t){return t.tooltip.syncInteraction}var tJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jP=ts({name:"chartData",initialState:tJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:d4,setDataStartEndIndexes:nJ,setComputedData:Joe}=jP.actions,rJ=jP.reducer,iJ=["x","y"];function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lJ(t,e){if(t==null)return{};var n,r,i=cJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BP=()=>{};function uJ(){var t=nt(xE),e=nt(bE),n=pr(),r=nt(N6),i=nt(pl),a=Zm(),u=Qm(),g=nt(m=>m.rootProps.className);R.useEffect(()=>{if(t==null)return BP;var m=(d,v,w)=>{if(e!==w&&t===d){if(r==="index"){var S;if(u&&v!==null&&v!==void 0&&(S=v.payload)!==null&&S!==void 0&&S.coordinate&&v.payload.sourceViewBox){var T=v.payload.coordinate,{x:N,y:M}=T,P=lJ(T,iJ),{x:B,y:$,width:q,height:te}=v.payload.sourceViewBox,X=cf(cf({},P),{},{x:u.x+(q?(N-B)/q:0)*u.width,y:u.y+(te?(M-$)/te:0)*u.height});n(cf(cf({},v),{},{payload:cf(cf({},v.payload),{},{coordinate:X})}))}else n(v);return}if(i!=null){var ee;if(typeof r=="function"){var j={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},G=r(i,j);ee=i[G]}else r==="value"&&(ee=i.find(oe=>String(oe.value)===v.payload.label));var{coordinate:F}=v.payload;if(ee==null||v.payload.active===!1||F==null||u==null){n(lb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:Z,y:z}=F,K=Math.min(Z,u.x+u.width),U=Math.min(z,u.y+u.height),ue={x:a==="horizontal"?ee.coordinate:K,y:a==="horizontal"?U:ee.coordinate},se=lb({active:v.payload.active,coordinate:ue,dataKey:v.payload.dataKey,index:String(ee.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox});n(se)}}};return Fd.on(fb,m),()=>{Fd.off(fb,m)}},[g,n,e,t,r,i,a,u])}function fJ(){var t=nt(xE),e=nt(bE),n=pr();R.useEffect(()=>{if(t==null)return BP;var r=(i,a,u)=>{e!==u&&t===i&&n(nJ(a))};return Fd.on(h4,r),()=>{Fd.off(h4,r)}},[n,e,t])}function hJ(){var t=pr();R.useEffect(()=>{t(JZ())},[t]),uJ(),fJ()}function dJ(t,e,n,r,i,a){var u=nt(T=>jZ(T,t,e)),g=nt(bE),m=nt(xE),d=nt(N6),v=nt(eJ),w=v?.active,S=Qm();R.useEffect(()=>{if(!w&&m!=null&&g!=null){var T=lb({active:a,coordinate:n,dataKey:u,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:S});Fd.emit(fb,m,T,g)}},[w,n,u,i,r,g,m,d,a,S])}function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){gJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yJ(t){return t.dataKey}function vJ(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(kW,e)}var y4=[],xJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Sc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function uf(t){var e=Pi(t,xJ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:u,filterNull:g,isAnimationActive:m,offset:d,payloadUniqBy:v,position:w,reverseDirection:S,useTranslate3d:T,wrapperStyle:N,cursor:M,shared:P,trigger:B,defaultIndex:$,portal:q,axisId:te}=e,X=pr(),ee=typeof $=="number"?String($):$;R.useEffect(()=>{X(VQ({shared:P,trigger:B,axisId:te,active:n,defaultIndex:ee}))},[X,P,B,te,n,ee]);var j=Qm(),G=S8(),F=kQ(P),{activeIndex:Z,isActive:z}=nt(rt=>FZ(rt,F,B,ee)),K=nt(rt=>UZ(rt,F,B,ee)),U=nt(rt=>PP(rt,F,B,ee)),ue=nt(rt=>BZ(rt,F,B,ee)),se=K,oe=YZ(),ce=n??z,[Te,Ve]=jM([se,ce]),ae=F==="axis"?U:void 0;dJ(F,B,ue,ae,Z,ce);var be=q??oe;if(be==null)return null;var Ie=se??y4;ce||(Ie=y4),g&&Ie.length&&(Ie=DM(se.filter(rt=>rt.value!=null&&(rt.hide!==!0||e.includeHidden)),v,yJ));var je=Ie.length>0,Ye=R.createElement(HW,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:m,active:ce,coordinate:ue,hasPayload:je,offset:d,position:w,reverseDirection:S,useTranslate3d:T,viewBox:j,wrapperStyle:N,lastBoundingBox:Te,innerRef:Ve,hasPortalFromProps:!!q},vJ(u,p4(p4({},e),{},{payload:Ie,label:ae,active:ce,coordinate:ue,accessibilityLayer:G})));return R.createElement(R.Fragment,null,zR.createPortal(Ye,be),ce&&R.createElement(WZ,{cursor:M,tooltipEventType:F,coordinate:ue,payload:se,index:Z}))}var Jl=t=>null;Jl.displayName="Cell";function bJ(t,e,n){return(e=wJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=EJ(t,"string");return typeof e=="symbol"?e:e+""}function EJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AJ{constructor(e){bJ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return(e=CJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=TJ(t,"string");return typeof e=="symbol"?e:e+""}function TJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IJ={cacheSize:2e3,enableCache:!0},UP=SJ({},IJ),x4=new AJ(UP.cacheSize),OJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b4="recharts_measurement_span";function RJ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",u=e.letterSpacing||"",g=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(u,"|").concat(g)}var w4=(t,e)=>{try{var n=document.getElementById(b4);n||(n=document.createElement("span"),n.setAttribute("id",b4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,OJ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},yd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Sc.isSsr)return{width:0,height:0};if(!UP.enableCache)return w4(e,n);var r=RJ(e,n),i=x4.get(r);if(i)return i;var a=w4(e,n);return x4.set(r,a),a},E4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MJ=Object.keys(FP),wf="NaN";function PJ(t,e){return t*FP[e]}class va{static parse(e){var n,[,r,i]=(n=DJ.exec(e))!==null&&n!==void 0?n:[];return new va(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ts(e)&&(this.unit=""),n!==""&&!NJ.test(n)&&(this.num=NaN,this.unit=""),MJ.includes(n)&&(this.num=PJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new va(NaN,""):new va(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new va(NaN,""):new va(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new va(NaN,""):new va(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new va(NaN,""):new va(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ts(this.num)}}function VP(t){if(t.includes(wf))return wf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=E4.exec(e))!==null&&n!==void 0?n:[],u=va.parse(r??""),g=va.parse(a??""),m=i==="*"?u.multiply(g):u.divide(g);if(m.isNaN())return wf;e=e.replace(E4,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,v,w,S]=(d=A4.exec(e))!==null&&d!==void 0?d:[],T=va.parse(v??""),N=va.parse(S??""),M=w==="+"?T.add(N):T.subtract(N);if(M.isNaN())return wf;e=e.replace(A4,M.toString())}return e}var S4=/\(([^()]*)\)/;function LJ(t){for(var e=t,n;(n=S4.exec(e))!=null;){var[,r]=n;e=e.replace(S4,VP(r))}return e}function kJ(t){var e=t.replace(/\s+/g,"");return e=LJ(e),e=VP(e),e}function jJ(t){try{return kJ(t)}catch{return wf}}function Vx(t){var e=jJ(t.slice(5,-1));return e===wf?"":e}var BJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UJ=["dx","dy","angle","className","breakAll"];function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(null,arguments)}function _4(t,e){if(t==null)return{};var n,r,i=FJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zP=/[ \f\n\r\t\v\u2028\u2029]+/,HP=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];mr(e)||(n?i=e.toString().split(""):i=e.toString().split(zP));var a=i.map(g=>({word:g,width:yd(g,r).width})),u=n?0:yd(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},VJ=(t,e,n,r,i)=>{var{maxLines:a,children:u,style:g,breakAll:m}=t,d=ot(a),v=u,w=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((K,U)=>{var{word:ue,width:se}=U,oe=K[K.length-1];if(oe&&(r==null||i||oe.width+se+n<Number(r)))oe.words.push(ue),oe.width+=se+n;else{var ce={words:[ue],width:se};K.push(ce)}return K},[])},S=w(e),T=Z=>Z.reduce((z,K)=>z.width>K.width?z:K);if(!d||i)return S;var N=S.length>a||T(S).width>Number(r);if(!N)return S;for(var M="…",P=Z=>{var z=v.slice(0,Z),K=HP({breakAll:m,style:g,children:z+M}).wordsWithComputedWidth,U=w(K),ue=U.length>a||T(U).width>Number(r);return[ue,U]},B=0,$=v.length-1,q=0,te;B<=$&&q<=v.length-1;){var X=Math.floor((B+$)/2),ee=X-1,[j,G]=P(ee),[F]=P(X);if(!j&&!F&&(B=X+1),j&&F&&($=X-1),!j&&F){te=G;break}q++}return te||S},C4=t=>{var e=mr(t)?[]:t.toString().split(zP);return[{words:e}]},zJ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:u}=t;if((e||n)&&!Sc.isSsr){var g,m,d=HP({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:v,spaceWidth:w}=d;g=v,m=w}else return C4(r);return VJ({breakAll:a,children:r,maxLines:u,style:i},g,m,e,n)}return C4(r)},T4="#808080",xp=R.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:u=!1,textAnchor:g="start",verticalAnchor:m="end",fill:d=T4}=t,v=_4(t,BJ),w=R.useMemo(()=>zJ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:u,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,u,v.style,v.width]),{dx:S,dy:T,angle:N,className:M,breakAll:P}=v,B=_4(v,UJ);if(!vo(n)||!vo(r)||w.length===0)return null;var $=n+(ot(S)?S:0),q=r+(ot(T)?T:0),te;switch(m){case"start":te=Vx("calc(".concat(a,")"));break;case"middle":te=Vx("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:te=Vx("calc(".concat(w.length-1," * -").concat(i,")"));break}var X=[];if(u){var ee=w[0].width,{width:j}=v;X.push("scale(".concat(ot(j)?j/ee:1,")"))}return N&&X.push("rotate(".concat(N,", ").concat($,", ").concat(q,")")),X.length&&(B.transform=X.join(" ")),R.createElement("text",hb({},aa(B),{ref:e,x:$,y:q,className:mn("recharts-text",M),textAnchor:g,fill:d.includes("url")?T4:d}),w.map((G,F)=>{var Z=G.words.join(P?"":" ");return R.createElement("tspan",{x:$,dy:F===0?te:i,key:"".concat(Z,"-").concat(F)},Z)}))});xp.displayName="Text";var HJ=["labelRef"];function qJ(t,e){if(t==null)return{};var n,r,i=GJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){WJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJ(t,e,n){return(e=YJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YJ(t){var e=$J(t,"string");return typeof e=="symbol"?e:e+""}function $J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Go.apply(null,arguments)}var qP=R.createContext(null),XJ=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,u=R.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return R.createElement(qP.Provider,{value:u},a)},GP=()=>{var t=R.useContext(qP),e=Qm();return t||e},KJ=R.createContext(null),QJ=()=>{var t=R.useContext(KJ),e=nt(k6);return t||e},ZJ=t=>{var{value:e,formatter:n}=t,r=mr(t.children)?e:t.children;return typeof n=="function"?n(r):r},tA=t=>t!=null&&typeof t=="function",JJ=(t,e)=>{var n=gi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},eee=(t,e,n,r,i)=>{var{offset:a,className:u}=t,{cx:g,cy:m,innerRadius:d,outerRadius:v,startAngle:w,endAngle:S,clockWise:T}=i,N=(d+v)/2,M=JJ(w,S),P=M>=0?1:-1,B,$;switch(e){case"insideStart":B=w+P*a,$=T;break;case"insideEnd":B=S-P*a,$=!T;break;case"end":B=S+P*a,$=T;break;default:throw new Error("Unsupported position ".concat(e))}$=M<=0?$:!$;var q=$r(g,m,N,B),te=$r(g,m,N,B+($?1:-1)*359),X="M".concat(q.x,",").concat(q.y,`
    A`).concat(N,",").concat(N,",0,1,").concat($?0:1,`,
    `).concat(te.x,",").concat(te.y),ee=mr(t.id)?Rd("recharts-radial-line-"):t.id;return R.createElement("text",Go({},r,{dominantBaseline:"central",className:mn("recharts-radial-bar-label",u)}),R.createElement("defs",null,R.createElement("path",{id:ee,d:X})),R.createElement("textPath",{xlinkHref:"#".concat(ee)},n))},tee=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:u,startAngle:g,endAngle:m}=t,d=(g+m)/2;if(n==="outside"){var{x:v,y:w}=$r(r,i,u+e,d);return{x:v,y:w,textAnchor:v>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var S=(a+u)/2,{x:T,y:N}=$r(r,i,S,d);return{x:T,y:N,textAnchor:"middle",verticalAnchor:"middle"}},WP=t=>"cx"in t&&ot(t.cx),nee=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!WP(n)&&(a=n);var{x:u,y:g,width:m,height:d}=e,v=d>=0?1:-1,w=v*r,S=v>0?"end":"start",T=v>0?"start":"end",N=m>=0?1:-1,M=N*r,P=N>0?"end":"start",B=N>0?"start":"end";if(i==="top"){var $={x:u+m/2,y:g-v*r,textAnchor:"middle",verticalAnchor:S};return jr(jr({},$),a?{height:Math.max(g-a.y,0),width:m}:{})}if(i==="bottom"){var q={x:u+m/2,y:g+d+w,textAnchor:"middle",verticalAnchor:T};return jr(jr({},q),a?{height:Math.max(a.y+a.height-(g+d),0),width:m}:{})}if(i==="left"){var te={x:u-M,y:g+d/2,textAnchor:P,verticalAnchor:"middle"};return jr(jr({},te),a?{width:Math.max(te.x-a.x,0),height:d}:{})}if(i==="right"){var X={x:u+m+M,y:g+d/2,textAnchor:B,verticalAnchor:"middle"};return jr(jr({},X),a?{width:Math.max(a.x+a.width-X.x,0),height:d}:{})}var ee=a?{width:m,height:d}:{};return i==="insideLeft"?jr({x:u+M,y:g+d/2,textAnchor:B,verticalAnchor:"middle"},ee):i==="insideRight"?jr({x:u+m-M,y:g+d/2,textAnchor:P,verticalAnchor:"middle"},ee):i==="insideTop"?jr({x:u+m/2,y:g+w,textAnchor:"middle",verticalAnchor:T},ee):i==="insideBottom"?jr({x:u+m/2,y:g+d-w,textAnchor:"middle",verticalAnchor:S},ee):i==="insideTopLeft"?jr({x:u+M,y:g+w,textAnchor:B,verticalAnchor:T},ee):i==="insideTopRight"?jr({x:u+m-M,y:g+w,textAnchor:P,verticalAnchor:T},ee):i==="insideBottomLeft"?jr({x:u+M,y:g+d-w,textAnchor:B,verticalAnchor:S},ee):i==="insideBottomRight"?jr({x:u+m-M,y:g+d-w,textAnchor:P,verticalAnchor:S},ee):i&&typeof i=="object"&&(ot(i.x)||al(i.x))&&(ot(i.y)||al(i.y))?jr({x:u+Xi(i.x,m),y:g+Xi(i.y,d),textAnchor:"end",verticalAnchor:"end"},ee):jr({x:u+m/2,y:g+d/2,textAnchor:"middle",verticalAnchor:"middle"},ee)},ree={offset:5};function Kl(t){var e=Pi(t,ree),{viewBox:n,position:r,value:i,children:a,content:u,className:g="",textBreakAll:m,labelRef:d}=e,v=QJ(),w=GP(),S=r==="center"?w:v??w,T=n||S;if(!T||mr(i)&&mr(a)&&!R.isValidElement(u)&&typeof u!="function")return null;var N=jr(jr({},e),{},{viewBox:T});if(R.isValidElement(u)){var{labelRef:M}=N,P=qJ(N,HJ);return R.cloneElement(u,P)}var B;if(typeof u=="function"){if(B=R.createElement(u,N),R.isValidElement(B))return B}else B=ZJ(e);var $=WP(T),q=aa(e);if($&&(r==="insideStart"||r==="insideEnd"||r==="end"))return eee(e,r,B,q,T);var te=$?tee(T,e.offset,e.position):nee(e,T);return R.createElement(xp,Go({ref:d,className:mn("recharts-label",g)},q,te,{breakAll:m}),B)}Kl.displayName="Label";var iee=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(Kl,Go({key:"label-implicit"},r)):vo(t)?R.createElement(Kl,Go({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===Kl?R.cloneElement(t,jr({key:"label-implicit"},r)):R.createElement(Kl,Go({key:"label-implicit",content:t},r)):tA(t)?R.createElement(Kl,Go({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(Kl,Go({},t,{key:"label-implicit"},r)):null};function aee(t){var{label:e,labelRef:n}=t,r=GP();return iee(e,r,n)||null}var zx={},Hx={},O4;function see(){return O4||(O4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(Hx)),Hx}var qx={},R4;function oee(){return R4||(R4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(qx)),qx}var N4;function lee(){return N4||(N4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=see(),n=oee(),r=Dw();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i}(zx)),zx}var Gx,D4;function cee(){return D4||(D4=1,Gx=lee().last),Gx}var uee=cee();const fee=bo(uee);var hee=["valueAccessor"],dee=["dataKey","clockWise","id","textBreakAll"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(null,arguments)}function M4(t,e){if(t==null)return{};var n,r,i=gee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mee=t=>Array.isArray(t.value)?fee(t.value):t.value,YP=R.createContext(void 0),$P=YP.Provider,XP=R.createContext(void 0),pee=XP.Provider;function yee(){return R.useContext(YP)}function vee(){return R.useContext(XP)}function J1(t){var{valueAccessor:e=mee}=t,n=M4(t,hee),{dataKey:r,clockWise:i,id:a,textBreakAll:u}=n,g=M4(n,dee),m=yee(),d=vee(),v=m||d;return!v||!v.length?null:R.createElement(Mi,{className:"recharts-label-list"},v.map((w,S)=>{var T,N=mr(r)?e(w,S):$n(w&&w.payload,r),M=mr(a)?{}:{id:"".concat(a,"-").concat(S)};return R.createElement(Kl,Qg({key:"label-".concat(S)},aa(w),g,M,{fill:(T=n.fill)!==null&&T!==void 0?T:w.fill,parentViewBox:w.parentViewBox,value:N,textBreakAll:u,viewBox:w.viewBox,index:S}))}))}J1.displayName="LabelList";function nA(t){var{label:e}=t;return e?e===!0?R.createElement(J1,{key:"labelList-implicit"}):R.isValidElement(e)||tA(e)?R.createElement(J1,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(J1,Qg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(null,arguments)}var KP=t=>{var{cx:e,cy:n,r,className:i}=t,a=mn("recharts-dot",i);return e===+e&&n===+n&&r===+r?R.createElement("circle",db({},Ja(t),Ow(t),{className:a,cx:e,cy:n,r})):null},QP=t=>t.graphicalItems.polarItems,xee=we([yr,c0],CE),bp=we([QP,wr,xee],TE),bee=we([bp],IE),wp=we([bee,mE],OE),wee=we([wp,wr,bp],NE);we([wp,wr,bp],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,u=$n(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:$n(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var P4=()=>{},Eee=we([wp,wr,bp,mp,yr],LE),Aee=we([wr,ME,PE,P4,Eee,P4,ln,yr],kE),ZP=we([wr,ln,wp,wee,l0,yr,Aee],jE),See=we([ZP,wr,rh],FE);we([wr,ZP,See,yr],zE);var _ee={radiusAxis:{},angleAxis:{}},JP=ts({name:"polarAxis",initialState:_ee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ele,removeRadiusAxis:tle,addAngleAxis:nle,removeAngleAxis:rle}=JP.actions,Cee=JP.reducer;function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ree=(t,e)=>e,rA=we([QP,Ree],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Nee=[],iA=(t,e,n)=>n?.length===0?Nee:n,e5=we([mE,rA,iA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>k4(k4({},e.presentationProps),a.props))),i!=null)return i}}),Dee=we([e5,rA,iA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,u=$n(r,e.nameKey,e.name),g;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?g=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?g=r.fill:g=e.fill,{value:Kf(u,e.dataKey),color:g,payload:r,type:e.legendType}})}),Mee=we([e5,rA,iA,ri],(t,e,n,r)=>{if(!(e==null||t==null))return Mte({offset:r,pieSettings:e,displayedData:t,cells:n})}),Wx={exports:{}},Mn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4;function Pee(){if(j4)return Mn;j4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function N(M){if(typeof M=="object"&&M!==null){var P=M.$$typeof;switch(P){case t:switch(M=M.type,M){case n:case i:case r:case m:case d:case S:return M;default:switch(M=M&&M.$$typeof,M){case u:case g:case w:case v:return M;case a:return M;default:return P}}case e:return P}}}return Mn.ContextConsumer=a,Mn.ContextProvider=u,Mn.Element=t,Mn.ForwardRef=g,Mn.Fragment=n,Mn.Lazy=w,Mn.Memo=v,Mn.Portal=e,Mn.Profiler=i,Mn.StrictMode=r,Mn.Suspense=m,Mn.SuspenseList=d,Mn.isContextConsumer=function(M){return N(M)===a},Mn.isContextProvider=function(M){return N(M)===u},Mn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Mn.isForwardRef=function(M){return N(M)===g},Mn.isFragment=function(M){return N(M)===n},Mn.isLazy=function(M){return N(M)===w},Mn.isMemo=function(M){return N(M)===v},Mn.isPortal=function(M){return N(M)===e},Mn.isProfiler=function(M){return N(M)===i},Mn.isStrictMode=function(M){return N(M)===r},Mn.isSuspense=function(M){return N(M)===m},Mn.isSuspenseList=function(M){return N(M)===d},Mn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===n||M===i||M===r||M===m||M===d||typeof M=="object"&&M!==null&&(M.$$typeof===w||M.$$typeof===v||M.$$typeof===u||M.$$typeof===a||M.$$typeof===g||M.$$typeof===T||M.getModuleId!==void 0)},Mn.typeOf=N,Mn}var B4;function Lee(){return B4||(B4=1,Wx.exports=Pee()),Wx.exports}var kee=Lee(),U4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",F4=null,Yx=null,t5=t=>{if(t===F4&&Array.isArray(Yx))return Yx;var e=[];return R.Children.forEach(t,n=>{mr(n)||(kee.isFragment(n)?e=e.concat(t5(n.props.children)):e.push(n))}),Yx=e,F4=t,e};function aA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>U4(i)):r=[U4(e)],t5(t).forEach(i=>{var a=cu(i,"type.displayName")||cu(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var n5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,$x={},V4;function jee(){return V4||(V4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}($x)),$x}var Xx,z4;function Bee(){return z4||(z4=1,Xx=jee().isPlainObject),Xx}var Uee=Bee();const Fee=bo(Uee);function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){Vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(null,arguments)}var G4=(t,e,n,r,i)=>{var a=n-r,u;return u="M ".concat(t,",").concat(e),u+="L ".concat(t+n,",").concat(e),u+="L ".concat(t+n-a/2,",").concat(e+i),u+="L ".concat(t+n-a/2-r,",").concat(e+i),u+="L ".concat(t,",").concat(e," Z"),u},qee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gee=t=>{var e=Pi(t,qee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:u,className:g}=e,{animationEasing:m,animationDuration:d,animationBegin:v,isUpdateAnimationActive:w}=e,S=R.useRef(null),[T,N]=R.useState(-1),M=R.useRef(i),P=R.useRef(a),B=R.useRef(u),$=R.useRef(n),q=R.useRef(r),te=r0(t,"trapezoid-");if(R.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var ue=S.current.getTotalLength();ue&&N(ue)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||u!==+u||i===0&&a===0||u===0)return null;var X=mn("recharts-trapezoid",g);if(!w)return R.createElement("g",null,R.createElement("path",Zg({},aa(e),{className:X,d:G4(n,r,i,a,u)})));var ee=M.current,j=P.current,G=B.current,F=$.current,Z=q.current,z="0px ".concat(T===-1?1:T,"px"),K="".concat(T,"px 0px"),U=_8(["strokeDasharray"],d,m);return R.createElement(n0,{animationId:te,key:te,canBegin:T>0,duration:d,easing:m,isActive:w,begin:v},ue=>{var se=Or(ee,i,ue),oe=Or(j,a,ue),ce=Or(G,u,ue),Te=Or(F,n,ue),Ve=Or(Z,r,ue);S.current&&(M.current=se,P.current=oe,B.current=ce,$.current=Te,q.current=Ve);var ae=ue>0?{transition:U,strokeDasharray:K}:{strokeDasharray:z};return R.createElement("path",Zg({},aa(e),{className:X,d:G4(Te,Ve,se,oe,ce),ref:S,style:q4(q4({},ae),e.style)}))})},Wee=["option","shapeType","propTransformer","activeClassName","isActive"];function Yee(t,e){if(t==null)return{};var n,r,i=$ee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){Xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xee(t,e,n){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zee(t,e){return Jg(Jg({},e),t)}function Jee(t,e){return t==="symbols"}function Y4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(O8,n);case"trapezoid":return R.createElement(Gee,n);case"sector":return R.createElement(D8,n);case"symbols":if(Jee(e))return R.createElement(Iw,n);break;default:return null}}function ete(t){return R.isValidElement(t)?t.props:t}function r5(t){var{option:e,shapeType:n,propTransformer:r=Zee,activeClassName:i="recharts-active-shape",isActive:a}=t,u=Yee(t,Wee),g;if(R.isValidElement(e))g=R.cloneElement(e,Jg(Jg({},u),ete(e)));else if(typeof e=="function")g=e(u);else if(Fee(e)&&typeof e!="boolean"){var m=r(e,u);g=R.createElement(Y4,{shapeType:n,elementProps:m})}else{var d=u;g=R.createElement(Y4,{shapeType:n,elementProps:d})}return a?R.createElement(Mi,{className:i},g):g}var sA=(t,e)=>{var n=pr();return(r,i)=>a=>{t?.(r,i,a),n(gP({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},oA=t=>{var e=pr();return(n,r)=>i=>{t?.(n,r,i),e(zQ())}},lA=(t,e)=>{var n=pr();return(r,i)=>a=>{t?.(r,i,a),n(HQ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function cA(t){var{fn:e,args:n}=t,r=pr(),i=sa();return R.useLayoutEffect(()=>{if(!i){var a=e(n);return r(UQ(a)),()=>{r(FQ(a))}}},[e,n,r,i]),null}var i5=()=>{};function a5(t){var{legendPayload:e}=t,n=pr(),r=sa();return R.useLayoutEffect(()=>r?i5:(n(E8(e)),()=>{n(A8(e))}),[n,r,e]),null}function tte(t){var{legendPayload:e}=t,n=pr(),r=nt(ln);return R.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?i5:(n(E8(e)),()=>{n(A8(e))}),[n,r,e]),null}var Kx,nte=()=>{var[t]=R.useState(()=>Rd("uid-"));return t},rte=(Kx=TL.useId)!==null&&Kx!==void 0?Kx:nte;function ite(t,e){var n=rte();return e||(t?"".concat(t,"-").concat(n):n)}var ate=R.createContext(void 0),uA=t=>{var{id:e,type:n,children:r}=t,i=ite("recharts-".concat(n),e);return R.createElement(ate.Provider,{value:i},r(i))},ste={cartesianItems:[],polarItems:[]},s5=ts({name:"graphicalItems",initialState:ste,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:na()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Qo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:na()},removeCartesianGraphicalItem:{reducer(t,e){var n=Qo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:na()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:na()},removePolarGraphicalItem:{reducer(t,e){var n=Qo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:na()}}}),{addCartesianGraphicalItem:ote,replaceCartesianGraphicalItem:lte,removeCartesianGraphicalItem:cte,addPolarGraphicalItem:ute,removePolarGraphicalItem:fte}=s5.actions,hte=s5.reducer;function o5(t){var e=pr(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(ote(t)):n.current!==t&&e(lte({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(cte(n.current)),n.current=null)},[e]),null}function dte(t){var e=pr();return R.useLayoutEffect(()=>(e(ute(t)),()=>{e(fte(t))}),[e,t]),null}var gte=["onMouseEnter","onClick","onMouseLeave"],mte=["id"],pte=["id"];function fA(t,e){if(t==null)return{};var n,r,i=yte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vte(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(null,arguments)}function wte(t){var e=R.useMemo(()=>aA(t.children,Jl),[t.children]),n=nt(r=>Dee(r,t.id,e));return n==null?null:R.createElement(tte,{legendPayload:n})}function Ete(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:u,name:g,hide:m,tooltipType:d}=t;return{dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:u,dataKey:e,nameKey:n,name:Kf(g,e),hide:m,type:d,color:u,unit:""}}}var Ate=(t,e)=>t>e?"start":t<e?"end":"middle",Ste=(t,e,n)=>Xi(typeof e=="function"?e(t):e,n,n*.8),_te=(t,e,n)=>{var{top:r,left:i,width:a,height:u}=e,g=u8(a,u),m=i+Xi(t.cx,a,a/2),d=r+Xi(t.cy,u,u/2),v=Xi(t.innerRadius,g,0),w=Ste(n,t.outerRadius,g),S=t.maxRadius||Math.sqrt(a*a+u*u)/2;return{cx:m,cy:d,innerRadius:v,outerRadius:w,maxRadius:S}},Cte=(t,e)=>{var n=gi(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Tte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Ite=(t,e)=>{if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return t(e);var n=mn("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return R.createElement(Gw,yc({},e,{type:"linear",className:n}))},Ote=(t,e,n)=>{if(R.isValidElement(t))return R.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),R.isValidElement(r)))return r;var i=mn("recharts-pie-label-text",Tte(t));return R.createElement(xp,yc({},e,{alignmentBaseline:"middle",className:i}),r)};function Rte(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:u}=n;if(!r||!i||!e)return null;var g=Ja(n),m=lu(i),d=lu(a),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,w=e.map((S,T)=>{var N=(S.startAngle+S.endAngle)/2,M=$r(S.cx,S.cy,S.outerRadius+v,N),P=fr(fr(fr(fr({},g),S),{},{stroke:"none"},m),{},{index:T,textAnchor:Ate(M.x,S.cx)},M),B=fr(fr(fr(fr({},g),S),{},{fill:"none",stroke:S.fill},d),{},{index:T,points:[$r(S.cx,S.cy,S.outerRadius,N),M],key:"line"});return R.createElement(Mi,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(T)},a&&Ite(a,B),Ote(i,P,$n(S,u)))});return R.createElement(Mi,{className:"recharts-pie-labels"},w)}function Nte(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?R.createElement(nA,{label:i}):R.createElement(Rte,{sectors:e,props:n,showLabels:r})}function Dte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=nt(pc),{onMouseEnter:u,onClick:g,onMouseLeave:m}=i,d=fA(i,gte),v=sA(u,i.dataKey),w=oA(m),S=lA(g,i.dataKey);return e==null||e.length===0?null:R.createElement(R.Fragment,null,e.map((T,N)=>{if(T?.startAngle===0&&T?.endAngle===0&&e.length!==1)return null;var M=n&&String(N)===a,P=a?r:null,B=M?n:P,$=fr(fr({},T),{},{stroke:T.stroke,tabIndex:-1,[m8]:N,[p8]:i.dataKey});return R.createElement(Mi,yc({key:"sector-".concat(T?.startAngle,"-").concat(T?.endAngle,"-").concat(T.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},Zd(d,T,N),{onMouseEnter:v(T,N),onMouseLeave:w(T,N),onClick:S(T,N)}),R.createElement(r5,yc({option:B,isActive:M,shapeType:"sector"},$)))}))}function Mte(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:u,startAngle:g,endAngle:m,dataKey:d,nameKey:v,tooltipType:w}=n,S=Math.abs(n.minAngle),T=Cte(g,m),N=Math.abs(T),M=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,P=r.filter(ee=>$n(ee,d,0)!==0).length,B=(N>=360?P:P-1)*M,$=N-P*S-B,q=r.reduce((ee,j)=>{var G=$n(j,d,0);return ee+(ot(G)?G:0)},0),te;if(q>0){var X;te=r.map((ee,j)=>{var G=$n(ee,d,0),F=$n(ee,v,j),Z=_te(n,a,ee),z=(ot(G)?G:0)/q,K,U=fr(fr({},ee),i&&i[j]&&i[j].props);j?K=X.endAngle+gi(T)*M*(G!==0?1:0):K=g;var ue=K+gi(T)*((G!==0?S:0)+z*$),se=(K+ue)/2,oe=(Z.innerRadius+Z.outerRadius)/2,ce=[{name:F,value:G,payload:U,dataKey:d,type:w}],Te=$r(Z.cx,Z.cy,oe,se);return X=fr(fr(fr(fr({},n.presentationProps),{},{percent:z,cornerRadius:u,name:F,tooltipPayload:ce,midAngle:se,middleRadius:oe,tooltipPosition:Te},U),Z),{},{value:G,startAngle:K,endAngle:ue,payload:U,paddingAngle:gi(T)*M}),X})}return te}function Pte(t){var{showLabels:e,sectors:n,children:r}=t,i=R.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return R.createElement(pee,{value:e?i:void 0},r)}function Lte(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:u,animationEasing:g,activeShape:m,inactiveShape:d,onAnimationStart:v,onAnimationEnd:w}=e,S=r0(e,"recharts-pie-"),T=n.current,[N,M]=R.useState(!1),P=R.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),B=R.useCallback(()=>{typeof v=="function"&&v(),M(!0)},[v]);return R.createElement(Pte,{showLabels:!N,sectors:r},R.createElement(n0,{animationId:S,begin:a,duration:u,isActive:i,easing:g,onAnimationStart:B,onAnimationEnd:P,key:S},$=>{var q=[],te=r&&r[0],X=te?.startAngle;return r?.forEach((ee,j)=>{var G=T&&T[j],F=j>0?cu(ee,"paddingAngle",0):0;if(G){var Z=Or(G.endAngle-G.startAngle,ee.endAngle-ee.startAngle,$),z=fr(fr({},ee),{},{startAngle:X+F,endAngle:X+Z+F});q.push(z),X=z.endAngle}else{var{endAngle:K,startAngle:U}=ee,ue=Or(0,K-U,$),se=fr(fr({},ee),{},{startAngle:X+F,endAngle:X+ue+F});q.push(se),X=se.endAngle}}),n.current=q,R.createElement(Mi,null,R.createElement(Dte,{sectors:q,activeShape:m,inactiveShape:d,allOtherPieProps:e}))}),R.createElement(Nte,{showLabels:!N,sectors:r,props:e}),e.children)}var kte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Sc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function jte(t){var{id:e}=t,n=fA(t,mte),{hide:r,className:i,rootTabIndex:a}=t,u=R.useMemo(()=>aA(t.children,Jl),[t.children]),g=nt(v=>Mee(v,e,u)),m=R.useRef(null),d=mn("recharts-pie",i);return r||g==null?(m.current=null,R.createElement(Mi,{tabIndex:a,className:d})):R.createElement(R.Fragment,null,R.createElement(cA,{fn:Ete,args:fr(fr({},t),{},{sectors:g})}),R.createElement(Mi,{tabIndex:a,className:d},R.createElement(Lte,{props:fr(fr({},n),{},{sectors:g}),previousSectorsRef:m})))}function l5(t){var e=Pi(t,kte),{id:n}=e,r=fA(e,pte),i=Ja(r);return R.createElement(uA,{id:n,type:"pie"},a=>R.createElement(R.Fragment,null,R.createElement(dte,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),R.createElement(wte,yc({},r,{id:a})),R.createElement(jte,yc({},r,{id:a}))))}l5.displayName="Pie";function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vte={xAxis:{},yAxis:{},zAxis:{}},c5=ts({name:"cartesianAxis",initialState:Vte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:na()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:na()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:na()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:na()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:na()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:na()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var u=[...a,r].slice(-3);t.yAxis[n]=K4(K4({},t.yAxis[n]),{},{width:r,widthHistory:u})}}}}),{addXAxis:zte,removeXAxis:Hte,addYAxis:qte,removeYAxis:Gte,addZAxis:ile,removeZAxis:ale,updateYAxisWidth:Wte}=c5.actions,Yte=c5.reducer,$te=we([ri],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Xte=we([$te,fl,hl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),hA=()=>nt(Xte),Kte=()=>nt(OZ);function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){Qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ene=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var u=Z4(Z4({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},lu(i)),Ow(i)),g;return R.isValidElement(i)?g=R.cloneElement(i,u):typeof i=="function"?g=i(u):g=R.createElement(KP,u),R.createElement(Mi,{className:"recharts-active-dot"},g)};function tne(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=nt(pc),u=Kte();if(e==null||u==null)return null;var g=e.find(m=>u.includes(m.payload));return mr(g)?null:ene({point:g,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var nne="Invariant failed";function rne(t,e){throw new Error(nne)}var ine=["x","y"];function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(null,arguments)}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e,n){return(e=sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lne(t,e){if(t==null)return{};var n,r,i=cne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function une(t,e){var{x:n,y:r}=t,i=lne(t,ine),a="".concat(n),u=parseInt(a,10),g="".concat(r),m=parseInt(g,10),d="".concat(e.height||i.height),v=parseInt(d,10),w="".concat(e.width||i.width),S=parseInt(w,10);return rd(rd(rd(rd(rd({},e),i),u?{x:u}:{}),m?{y:m}:{}),{},{height:v,width:S,name:e.name,radius:e.radius})}function dA(t){return R.createElement(r5,gb({shapeType:"rectangle",propTransformer:une,activeClassName:"recharts-active-bar"},t))}var fne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ot(e))return e;var a=ot(r)||mr(r);return a?e(r,i):(a||rne(),n)}},hne={},u5=ts({name:"errorBars",initialState:hne,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:sle,replaceErrorBar:ole,removeErrorBar:lle}=u5.actions,dne=u5.reducer,gne=["children"];function mne(t,e){if(t==null)return{};var n,r,i=pne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vne=R.createContext(yne);function f5(t){var{children:e}=t,n=mne(t,gne);return R.createElement(vne.Provider,{value:n},e)}function gA(t,e){var n,r,i=nt(d=>gl(d,t)),a=nt(d=>ml(d,e)),u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:qa.allowDataOverflow,g=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ga.allowDataOverflow,m=u||g;return{needClip:m,needClipX:u,needClipY:g}}function h5(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=hA(),{needClipX:a,needClipY:u,needClip:g}=gA(e,n);if(!g)return null;var{x:m,y:d,width:v,height:w}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?m:m-v/2,y:u?d:d-w/2,width:a?v:v*2,height:u?w:w*2}))}var xne=["onMouseEnter","onMouseLeave","onClick"],bne=["value","background","tooltipPosition"],wne=["id"],Ene=["onMouseEnter","onClick","onMouseLeave"];function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(null,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return(e=Sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function em(t,e){if(t==null)return{};var n,r,i=Cne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tne=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Kf(n,e),payload:t}]};function Ine(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:u,unit:g}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Kf(a,e),hide:u,type:t.tooltipType,color:t.fill,unit:g}}}function One(t){var e=nt(pc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:u,onMouseLeave:g,onClick:m}=a,d=em(a,xne),v=sA(u,r),w=oA(g),S=lA(m,r);if(!i||n==null)return null;var T=lu(i);return R.createElement(R.Fragment,null,n.map((N,M)=>{var{value:P,background:B,tooltipPosition:$}=N,q=em(N,bne);if(!B)return null;var te=v(N,M),X=w(N,M),ee=S(N,M),j=ra(ra(ra(ra(ra({option:i,isActive:String(M)===e},q),{},{fill:"#eee"},B),T),Zd(d,N,M)),{},{onMouseEnter:te,onMouseLeave:X,onClick:ee,dataKey:r,index:M,className:"recharts-bar-background-rectangle"});return R.createElement(dA,vc({key:"background-bar-".concat(M)},j))}))}function Rne(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var u={x:a.x,y:a.y,width:a.width,height:a.height};return ra(ra({},u),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:u,fill:a.fill})});return R.createElement($P,{value:e?i:void 0},n)}function Nne(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:u}=t,g=nt(pc),m=nt(OP),d=n&&String(a)===g&&(m==null||u===m),v=d?n:e;return R.createElement(dA,vc({},r,{name:String(r.name)},i,{isActive:d,option:v,index:a,dataKey:u}))}function Dne(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return R.createElement(dA,vc({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Mne(t){var{data:e,props:n}=t,r=Ja(n),{id:i}=r,a=em(r,wne),{shape:u,dataKey:g,activeBar:m}=n,{onMouseEnter:d,onClick:v,onMouseLeave:w}=n,S=em(n,Ene),T=sA(d,g),N=oA(w),M=lA(v,g);return e?R.createElement(R.Fragment,null,e.map((P,B)=>R.createElement(Mi,vc({key:"rectangle-".concat(P?.x,"-").concat(P?.y,"-").concat(P?.value,"-").concat(B),className:"recharts-bar-rectangle"},Zd(S,P,B),{onMouseEnter:T(P,B),onMouseLeave:N(P,B),onClick:M(P,B)}),m?R.createElement(Nne,{shape:u,activeBar:m,baseProps:a,entry:P,index:B,dataKey:g}):R.createElement(Dne,{shape:u,baseProps:a,entry:P,index:B,dataKey:g})))):null}function Pne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:u,animationDuration:g,animationEasing:m,onAnimationEnd:d,onAnimationStart:v}=e,w=n.current,S=r0(e,"recharts-bar-"),[T,N]=R.useState(!1),M=!T,P=R.useCallback(()=>{typeof d=="function"&&d(),N(!1)},[d]),B=R.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]);return R.createElement(Rne,{showLabels:M,rects:r},R.createElement(n0,{animationId:S,begin:u,duration:g,isActive:a,easing:m,onAnimationEnd:P,onAnimationStart:B,key:S},$=>{var q=$===1?r:r?.map((te,X)=>{var ee=w&&w[X];if(ee)return ra(ra({},te),{},{x:Or(ee.x,te.x,$),y:Or(ee.y,te.y,$),width:Or(ee.width,te.width,$),height:Or(ee.height,te.height,$)});if(i==="horizontal"){var j=Or(0,te.height,$);return ra(ra({},te),{},{y:te.y+te.height-j,height:j})}var G=Or(0,te.width,$);return ra(ra({},te),{},{width:G})});return $>0&&(n.current=q??null),q==null?null:R.createElement(Mi,null,R.createElement(Mne,{props:e,data:q}))}),R.createElement(nA,{label:e.label}),e.children)}function Lne(t){var e=R.useRef(null);return R.createElement(Pne,{previousRectanglesRef:e,props:t})}var d5=0,kne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:$n(t,e)}};class jne extends R.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:u,needClip:g,background:m,id:d}=this.props;if(e||n==null)return null;var v=mn("recharts-bar",i),w=d;return R.createElement(Mi,{className:v,id:d},g&&R.createElement("defs",null,R.createElement(h5,{clipPathId:w,xAxisId:a,yAxisId:u})),R.createElement(Mi,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(w,")"):void 0},R.createElement(One,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),R.createElement(Lne,this.props)))}}var Bne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Sc.isSsr,legendType:"rect",minPointSize:d5,xAxisId:0,yAxisId:0};function Une(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:g,animationDuration:m,animationEasing:d,isAnimationActive:v}=t,{needClip:w}=gA(e,n),S=Zm(),T=sa(),N=aA(t.children,Jl),M=nt($=>dre($,e,n,T,t.id,N));if(S!=="vertical"&&S!=="horizontal")return null;var P,B=M?.[0];return B==null||B.height==null||B.width==null?P=0:P=S==="vertical"?B.height/2:B.width/2,R.createElement(f5,{xAxisId:e,yAxisId:n,data:M,dataPointFormatter:kne,errorBarOffset:P},R.createElement(jne,vc({},t,{layout:S,needClip:w,data:M,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:g,animationDuration:m,animationEasing:d,isAnimationActive:v})))}function Fne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:u,yAxis:g,xAxisTicks:m,yAxisTicks:d,stackedData:v,displayedData:w,offset:S,cells:T,parentViewBox:N}=t,M=e==="horizontal"?g:u,P=v?M.scale.domain():null,B=kG({numericAxis:M});return w.map(($,q)=>{var te,X,ee,j,G,F;v?te=RG(v[q],P):(te=$n($,n),Array.isArray(te)||(te=[B,te]));var Z=fne(r,d5)(te[1],q);if(e==="horizontal"){var z,[K,U]=[g.scale(te[0]),g.scale(te[1])];X=M3({axis:u,ticks:m,bandSize:a,offset:i.offset,entry:$,index:q}),ee=(z=U??K)!==null&&z!==void 0?z:void 0,j=i.size;var ue=K-U;if(G=Ts(ue)?0:ue,F={x:X,y:S.top,width:j,height:S.height},Math.abs(Z)>0&&Math.abs(G)<Math.abs(Z)){var se=gi(G||Z)*(Math.abs(Z)-Math.abs(G));ee-=se,G+=se}}else{var[oe,ce]=[u.scale(te[0]),u.scale(te[1])];if(X=oe,ee=M3({axis:g,ticks:d,bandSize:a,offset:i.offset,entry:$,index:q}),j=ce-oe,G=i.size,F={x:S.left,y:ee,width:S.width,height:G},Math.abs(Z)>0&&Math.abs(j)<Math.abs(Z)){var Te=gi(j||Z)*(Math.abs(Z)-Math.abs(j));j+=Te}}if(X==null||ee==null||j==null||G==null)return null;var Ve=ra(ra({},$),{},{x:X,y:ee,width:j,height:G,value:v?te:te[1],payload:$,background:F,tooltipPosition:{x:X+j/2,y:ee+G/2},parentViewBox:N},T&&T[q]&&T[q].props);return Ve}).filter(Boolean)}function Vne(t){var e=Pi(t,Bne),n=sa();return R.createElement(uA,{id:e.id,type:"bar"},r=>R.createElement(R.Fragment,null,R.createElement(a5,{legendPayload:Tne(e)}),R.createElement(cA,{fn:Ine,args:e}),R.createElement(o5,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:LG(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),R.createElement(Une,vc({},e,{id:r}))))}var fd=R.memo(Vne);fd.displayName="Bar";function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gne=(t,e)=>e,Wne=(t,e,n)=>n,Yne=(t,e,n,r)=>r,$ne=(t,e,n,r,i)=>i,m0=we([dp,$ne],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Xne=we([m0],t=>t?.maxBarSize),Kne=(t,e,n,r,i,a)=>a,nR=(t,e,n)=>{var r=n??t;if(!mr(r))return Xi(r,e,0)},Qne=we([ln,dp,Gne,Wne,Yne],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Zne=(t,e,n,r)=>{var i=ln(t);return i==="horizontal"?ob(t,"yAxis",n,r):ob(t,"xAxis",e,r)},Jne=(t,e,n)=>{var r=ln(t);return r==="horizontal"?r4(t,"xAxis",e):r4(t,"yAxis",n)},ere=(t,e,n)=>{var r={},i=t.filter(up),a=t.filter(d=>d.stackId==null),u=i.reduce((d,v)=>(d[v.stackId]||(d[v.stackId]=[]),d[v.stackId].push(v),d),r),g=Object.entries(u).map(d=>{var[v,w]=d,S=w.map(N=>N.dataKey),T=nR(e,n,w[0].barSize);return{stackId:v,dataKeys:S,barSize:T}}),m=a.map(d=>{var v=[d.dataKey].filter(S=>S!=null),w=nR(e,n,d.barSize);return{stackId:void 0,dataKeys:v,barSize:w}});return[...g,...m]},tre=we([Qne,LK,Jne],ere),nre=(t,e,n,r,i)=>{var a,u,g=m0(t,e,n,r,i);if(g!=null){var m=ln(t),d=O6(t),{maxBarSize:v}=g,w=mr(v)?d:v,S,T;return m==="horizontal"?(S=mc(t,"xAxis",e,r),T=gc(t,"xAxis",e,r)):(S=mc(t,"yAxis",n,r),T=gc(t,"yAxis",n,r)),(a=(u=Md(S,T,!0))!==null&&u!==void 0?u:w)!==null&&a!==void 0?a:0}},g5=(t,e,n,r)=>{var i=ln(t),a,u;return i==="horizontal"?(a=mc(t,"xAxis",e,r),u=gc(t,"xAxis",e,r)):(a=mc(t,"yAxis",n,r),u=gc(t,"yAxis",n,r)),Md(a,u)};function rre(t,e,n,r,i){var a=r.length;if(!(a<1)){var u=Xi(t,n,0,!0),g,m=[];if(Ki(r[0].barSize)){var d=!1,v=n/a,w=r.reduce((B,$)=>B+($.barSize||0),0);w+=(a-1)*u,w>=n&&(w-=(a-1)*u,u=0),w>=n&&v>0&&(d=!0,v*=.9,w=a*v);var S=(n-w)/2>>0,T={offset:S-u,size:0};g=r.reduce((B,$)=>{var q,te={stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:T.offset+T.size+u,size:d?v:(q=$.barSize)!==null&&q!==void 0?q:0}},X=[...B,te];return T=X[X.length-1].position,X},m)}else{var N=Xi(e,n,0,!0);n-2*N-(a-1)*u<=0&&(u=0);var M=(n-2*N-(a-1)*u)/a;M>1&&(M>>=0);var P=Ki(i)?Math.min(M,i):M;g=r.reduce((B,$,q)=>[...B,{stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:N+(M+u)*q+(M-P)/2,size:P}}],m)}return g}}var ire=(t,e,n,r,i,a,u)=>{var g=mr(u)?e:u,m=rre(n,r,i!==a?i:a,t,g);return i!==a&&m!=null&&(m=m.map(d=>V1(V1({},d),{},{position:V1(V1({},d.position),{},{offset:d.position.offset-i/2})}))),m},are=we([tre,O6,PK,R6,nre,g5,Xne],ire),sre=(t,e,n,r)=>mc(t,"xAxis",e,r),ore=(t,e,n,r)=>mc(t,"yAxis",n,r),lre=(t,e,n,r)=>gc(t,"xAxis",e,r),cre=(t,e,n,r)=>gc(t,"yAxis",n,r),ure=we([are,m0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),fre=(t,e)=>{var n=SE(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(u=>u.key===n)}}}},hre=we([Zne,m0],fre),dre=we([ri,Fw,sre,ore,lre,cre,ure,ln,sp,g5,hre,m0,Kne],(t,e,n,r,i,a,u,g,m,d,v,w,S)=>{var{chartData:T,dataStartIndex:N,dataEndIndex:M}=m;if(!(w==null||u==null||e==null||g!=="horizontal"&&g!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:P}=w,B;if(P!=null&&P.length>0?B=P:B=T?.slice(N,M+1),B!=null)return Fne({layout:g,barSettings:w,pos:u,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:v,displayedData:B,offset:t,cells:S})}}),m5=t=>{var{chartData:e}=t,n=pr(),r=sa();return R.useEffect(()=>r?()=>{}:(n(d4(e)),()=>{n(d4(void 0))}),[e,n,r]),null},rR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},p5=ts({name:"brush",initialState:rR,reducers:{setBrushSettings(t,e){return e.payload==null?rR:e.payload}}}),{setBrushSettings:cle}=p5.actions,gre=p5.reducer;function mre(t,e,n){return(e=pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mA{static create(e){return new mA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+u}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}mre(mA,"EPS",1e-4);function vre(t){return(t%180+180)%180}var xre=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vre(i),u=a*Math.PI/180,g=Math.atan(r/n),m=u>g&&u<Math.PI-g?r/Math.sin(u):n/Math.cos(u);return Math.abs(m)},bre={dots:[],areas:[],lines:[]},y5=ts({name:"referenceElements",initialState:bre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Qo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Qo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Qo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ule,removeDot:fle,addArea:hle,removeArea:dle,addLine:gle,removeLine:mle}=y5.actions,wre=y5.reducer,Ere=R.createContext(void 0),Are=t=>{var{children:e}=t,[n]=R.useState("".concat(Rd("recharts"),"-clip")),r=hA();if(r==null)return null;var{x:i,y:a,width:u,height:g}=r;return R.createElement(Ere.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:g,width:u}))),e)};function Vf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function v5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Sre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xre(r,n)}function _re(t,e,n){var r=n==="width",{x:i,y:a,width:u,height:g}=t;return e===1?{start:r?i:a,end:r?i+u:a+g}:{start:r?i+u:a+g,end:r?i:a}}function tm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Cre(t,e){return v5(t,e+1)}function Tre(t,e,n,r,i){for(var a=(r||[]).slice(),{start:u,end:g}=e,m=0,d=1,v=u,w=function(){var N=r?.[m];if(N===void 0)return{v:v5(r,d)};var M=m,P,B=()=>(P===void 0&&(P=n(N,M)),P),$=N.coordinate,q=m===0||tm(t,$,B,v,g);q||(m=0,v=u,d+=1),q&&(v=$+t*(B()/2+i),m+=d)},S;d<=a.length;)if(S=w(),S)return S.v;return[]}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nre(t,e,n,r,i){for(var a=(r||[]).slice(),u=a.length,{start:g}=e,{end:m}=e,d=function(S){var T=a[S],N,M=()=>(N===void 0&&(N=n(T,S)),N);if(S===u-1){var P=t*(T.coordinate+t*M()/2-m);a[S]=T=Gi(Gi({},T),{},{tickCoord:P>0?T.coordinate-P*t:T.coordinate})}else a[S]=T=Gi(Gi({},T),{},{tickCoord:T.coordinate});var B=tm(t,T.tickCoord,M,g,m);B&&(m=T.tickCoord-t*(M()/2+i),a[S]=Gi(Gi({},T),{},{isShow:!0}))},v=u-1;v>=0;v--)d(v);return a}function Dre(t,e,n,r,i,a){var u=(r||[]).slice(),g=u.length,{start:m,end:d}=e;if(a){var v=r[g-1],w=n(v,g-1),S=t*(v.coordinate+t*w/2-d);u[g-1]=v=Gi(Gi({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate});var T=tm(t,v.tickCoord,()=>w,m,d);T&&(d=v.tickCoord-t*(w/2+i),u[g-1]=Gi(Gi({},v),{},{isShow:!0}))}for(var N=a?g-1:g,M=function($){var q=u[$],te,X=()=>(te===void 0&&(te=n(q,$)),te);if($===0){var ee=t*(q.coordinate-t*X()/2-m);u[$]=q=Gi(Gi({},q),{},{tickCoord:ee<0?q.coordinate-ee*t:q.coordinate})}else u[$]=q=Gi(Gi({},q),{},{tickCoord:q.coordinate});var j=tm(t,q.tickCoord,X,m,d);j&&(m=q.tickCoord+t*(X()/2+i),u[$]=Gi(Gi({},q),{},{isShow:!0}))},P=0;P<N;P++)M(P);return u}function pA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:u,orientation:g,interval:m,tickFormatter:d,unit:v,angle:w}=t;if(!i||!i.length||!r)return[];if(ot(m)||Sc.isSsr){var S;return(S=Cre(i,ot(m)?m:0))!==null&&S!==void 0?S:[]}var T=[],N=g==="top"||g==="bottom"?"width":"height",M=v&&N==="width"?yd(v,{fontSize:e,letterSpacing:n}):{width:0,height:0},P=(q,te)=>{var X=typeof d=="function"?d(q.value,te):q.value;return N==="width"?Sre(yd(X,{fontSize:e,letterSpacing:n}),M,w):yd(X,{fontSize:e,letterSpacing:n})[N]},B=i.length>=2?gi(i[1].coordinate-i[0].coordinate):1,$=_re(a,B,N);return m==="equidistantPreserveStart"?Tre(B,$,P,i,u):(m==="preserveStart"||m==="preserveStartEnd"?T=Dre(B,$,P,i,u,m==="preserveStartEnd"):T=Nre(B,$,P,i,u),T.filter(q=>q.isShow))}var Mre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,u=0;if(e){Array.from(e).forEach(v=>{if(v){var w=v.getBoundingClientRect();w.width>u&&(u=w.width)}});var g=n?n.getBoundingClientRect().width:0,m=i+a,d=u+m+g+(n?r:0);return Math.round(d)}return 0},Pre=["axisLine","width","height","className","hide","ticks"],Lre=["viewBox"],kre=["viewBox"];function mb(t,e){if(t==null)return{};var n,r,i=jre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(null,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Vre(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:u,axisLine:g,otherSvgProps:m}=t;if(!g)return null;var d=ti(ti(ti({},m),Ja(g)),{},{fill:"none"});if(a==="top"||a==="bottom"){var v=+(a==="top"&&!u||a==="bottom"&&u);d=ti(ti({},d),{},{x1:e,y1:n+v*i,x2:e+r,y2:n+v*i})}else{var w=+(a==="left"&&!u||a==="right"&&u);d=ti(ti({},d),{},{x1:e+w*r,y1:n,x2:e+w*r,y2:n+i})}return R.createElement("line",gu({},d,{className:mn("recharts-cartesian-axis-line",cu(g,"className"))}))}function zre(t,e,n,r,i,a,u,g,m){var d,v,w,S,T,N,M=g?-1:1,P=t.tickSize||u,B=ot(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=v=t.coordinate,S=n+ +!g*i,w=S-M*P,N=w-M*m,T=B;break;case"left":w=S=t.coordinate,v=e+ +!g*r,d=v-M*P,T=d-M*m,N=B;break;case"right":w=S=t.coordinate,v=e+ +g*r,d=v+M*P,T=d+M*m,N=B;break;default:d=v=t.coordinate,S=n+ +g*i,w=S+M*P,N=w+M*m,T=B;break}return{line:{x1:d,y1:w,x2:v,y2:S},tick:{x:T,y:N}}}function Hre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function qre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Gre(t){var{option:e,tickProps:n,value:r}=t,i,a=mn(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,ti(ti({},n),{},{className:a}));else if(typeof e=="function")i=e(ti(ti({},n),{},{className:a}));else{var u="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(u=mn(u,e?.className)),i=R.createElement(xp,gu({},n,{className:u}),r)}return i}function Wre(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:u,padding:g,tickTextProps:m,orientation:d,mirror:v,x:w,y:S,width:T,height:N,tickSize:M,tickMargin:P,fontSize:B,letterSpacing:$,getTicksConfig:q,events:te}=t,X=pA(ti(ti({},q),{},{ticks:e}),B,$),ee=Hre(d,v),j=qre(d,v),G=Ja(q),F=lu(n),Z={};typeof r=="object"&&(Z=r);var z=ti(ti({},G),{},{fill:"none"},Z),K=X.map((U,ue)=>{var{line:se,tick:oe}=zre(U,w,S,T,N,d,M,v,P),ce=ti(ti(ti(ti({textAnchor:ee,verticalAnchor:j},G),{},{stroke:"none",fill:i},F),oe),{},{index:ue,payload:U,visibleTicksCount:X.length,tickFormatter:a,padding:g},m);return R.createElement(Mi,gu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},Zd(te,U,ue)),r&&R.createElement("line",gu({},z,se,{className:mn("recharts-cartesian-axis-tick-line",cu(r,"className"))})),n&&R.createElement(Gre,{option:n,tickProps:ce,value:"".concat(typeof a=="function"?a(U.value,ue):U.value).concat(u||"")}))});return K.length>0?R.createElement("g",{className:"recharts-cartesian-axis-ticks"},K):null}var Yre=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:u,ticks:g}=t,m=mb(t,Pre),[d,v]=R.useState(""),[w,S]=R.useState(""),T=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var M;return Mre({ticks:T.current,label:(M=t.labelRef)===null||M===void 0?void 0:M.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var N=R.useCallback(M=>{if(M){var P=M.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=P;var B=P[0];if(B){var $=window.getComputedStyle(B),q=$.fontSize,te=$.letterSpacing;(q!==d||te!==w)&&(v(q),S(te))}}},[d,w]);return u||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(Mi,{className:mn("recharts-cartesian-axis",a),ref:N},R.createElement(Vre,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ja(t)}),R.createElement(Wre,{ticks:g,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:w,getTicksConfig:t,events:m}),R.createElement(XJ,{x:t.x,y:t.y,width:t.width,height:t.height},R.createElement(aee,{label:t.label,labelRef:t.labelRef}),t.children))}),$re=R.memo(Yre,(t,e)=>{var{viewBox:n}=t,r=mb(t,Lre),{viewBox:i}=e,a=mb(e,kre);return Vf(n,i)&&Vf(r,a)}),vA=R.forwardRef((t,e)=>{var n=Pi(t,yA);return R.createElement($re,gu({},n,{ref:e}))});vA.displayName="CartesianAxis";var Xre=["x1","y1","x2","y2","key"],Kre=["offset"],Qre=["xAxisId","yAxisId"],Zre=["xAxisId","yAxisId"];function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(null,arguments)}function nm(t,e){if(t==null)return{};var n,r,i=nie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rie=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:u,ry:g}=t;return R.createElement("rect",{x:r,y:i,ry:g,width:a,height:u,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function x5(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:u,key:g}=e,m=nm(e,Xre),d=Ja(m),{offset:v}=d,w=nm(d,Kre);n=R.createElement("line",Jc({},w,{x1:r,y1:i,x2:a,y2:u,fill:"none",key:g}))}return n}function iie(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:u}=t,g=nm(t,Qre),m=i.map((d,v)=>{var w=$i($i({},g),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(v),index:v});return x5(r,w)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function aie(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:u}=t,g=nm(t,Zre),m=i.map((d,v)=>{var w=$i($i({},g),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(v),index:v});return x5(r,w)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function sie(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:u,horizontalPoints:g,horizontal:m=!0}=t;if(!m||!e||!e.length)return null;var d=g.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==d[0]&&d.unshift(0);var v=d.map((w,S)=>{var T=!d[S+1],N=T?i+u-w:d[S+1]-w;if(N<=0)return null;var M=S%e.length;return R.createElement("rect",{key:"react-".concat(S),y:w,x:r,height:N,width:a,stroke:"none",fill:e[M],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function oie(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:u,height:g,verticalPoints:m}=t;if(!e||!n||!n.length)return null;var d=m.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==d[0]&&d.unshift(0);var v=d.map((w,S)=>{var T=!d[S+1],N=T?i+u-w:d[S+1]-w;if(N<=0)return null;var M=S%n.length;return R.createElement("rect",{key:"react-".concat(S),x:w,y:a,width:N,height:g,stroke:"none",fill:n[M],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var lie=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return h8(pA($i($i($i({},yA),n),{},{ticks:d8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},cie=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return h8(pA($i($i($i({},yA),n),{},{ticks:d8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},uie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function yf(t){var e=zw(),n=Hw(),r=b8(),i=$i($i({},Pi(t,uie)),{},{x:ot(t.x)?t.x:r.left,y:ot(t.y)?t.y:r.top,width:ot(t.width)?t.width:r.width,height:ot(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:u,x:g,y:m,width:d,height:v,syncWithTicks:w,horizontalValues:S,verticalValues:T}=i,N=sa(),M=nt(F=>i4(F,"xAxis",a,N)),P=nt(F=>i4(F,"yAxis",u,N));if(!ot(d)||d<=0||!ot(v)||v<=0||!ot(g)||g!==+g||!ot(m)||m!==+m)return null;var B=i.verticalCoordinatesGenerator||lie,$=i.horizontalCoordinatesGenerator||cie,{horizontalPoints:q,verticalPoints:te}=i;if((!q||!q.length)&&typeof $=="function"){var X=S&&S.length,ee=$({yAxis:P?$i($i({},P),{},{ticks:X?S:P.ticks}):void 0,width:e,height:n,offset:r},X?!0:w);Pg(Array.isArray(ee),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ee,"]")),Array.isArray(ee)&&(q=ee)}if((!te||!te.length)&&typeof B=="function"){var j=T&&T.length,G=B({xAxis:M?$i($i({},M),{},{ticks:j?T:M.ticks}):void 0,width:e,height:n,offset:r},j?!0:w);Pg(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(te=G)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(rie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(sie,Jc({},i,{horizontalPoints:q})),R.createElement(oie,Jc({},i,{verticalPoints:te})),R.createElement(iie,Jc({},i,{offset:r,horizontalPoints:q,xAxis:M,yAxis:P})),R.createElement(aie,Jc({},i,{offset:r,verticalPoints:te,xAxis:M,yAxis:P})))}yf.displayName="CartesianGrid";var b5=(t,e,n,r)=>mc(t,"xAxis",e,r),w5=(t,e,n,r)=>gc(t,"xAxis",e,r),E5=(t,e,n,r)=>mc(t,"yAxis",n,r),A5=(t,e,n,r)=>gc(t,"yAxis",n,r),fie=we([ln,b5,E5,w5,A5],(t,e,n,r,i)=>Ac(t,"xAxis")?Md(e,r,!1):Md(n,i,!1)),hie=(t,e,n,r,i)=>i;function die(t){return t.type==="line"}var gie=we([dp,hie],(t,e)=>t.filter(die).find(n=>n.id===e)),mie=we([ln,b5,E5,w5,A5,gie,fie,sp],(t,e,n,r,i,a,u,g)=>{var{chartData:m,dataStartIndex:d,dataEndIndex:v}=g;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{dataKey:w,data:S}=a,T;if(S!=null&&S.length>0?T=S:T=m?.slice(d,v+1),T!=null)return Bie({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:w,bandSize:u,displayedData:T})}});function pie(t){var e=lu(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,u=Number(i),g=Number(a);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(g)||g<0)&&(g=r),{r:u,strokeWidth:g}}return{r:n,strokeWidth:r}}var yie=["id"],vie=["type","layout","connectNulls","needClip"],xie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=Eie(t,"string");return typeof e=="symbol"?e:e+""}function Eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xA(t,e){if(t==null)return{};var n,r,i=Aie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(null,arguments)}var Sie=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Kf(n,e),payload:t}]};function _ie(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:u,hide:g,unit:m}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Kf(u,e),hide:g,type:t.tooltipType,color:t.stroke,unit:m}}}var S5=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Cie(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Tie=(t,e,n)=>{var r=n.reduce((w,S)=>w+S);if(!r)return S5(e,t);for(var i=Math.floor(t/r),a=t%r,u=e-t,g=[],m=0,d=0;m<n.length;d+=n[m],++m)if(d+n[m]>a){g=[...n.slice(0,m),a-d];break}var v=g.length%2===0?[0,u]:[u];return[...Cie(n,i),...g,...v].map(w=>"".concat(w,"px")).join(", ")};function Iie(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=mn("recharts-line-dot",typeof t!="boolean"?t.className:"");n=R.createElement(KP,mu({},e,{className:r}))}return n}function Oie(t,e){return t==null?!1:e?!0:t.length===1}function Rie(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:u}=r;if(!Oie(n,i))return null;var{id:g}=r,m=xA(r,yie),d=n5(i),v=Ja(m),w=bz(i),S=n.map((N,M)=>{var P=Ya(Ya(Ya({key:"dot-".concat(M),r:3},v),w),{},{index:M,cx:N.x,cy:N.y,dataKey:a,value:N.value,payload:N.payload,points:n});return Iie(i,P)}),T={clipPath:u?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return R.createElement(Mi,mu({className:"recharts-line-dots",key:"dots"},T),S)}function Nie(t){var{showLabels:e,children:n,points:r}=t,i=R.useMemo(()=>r?.map(a=>{var u={x:a.x,y:a.y,width:0,height:0};return Ya(Ya({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return R.createElement($P,{value:e?i:null},n)}function lR(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:u,layout:g,connectNulls:m,needClip:d}=a,v=xA(a,vie),w=Ya(Ya({},aa(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:g,connectNulls:m,strokeDasharray:i??a.strokeDasharray});return R.createElement(R.Fragment,null,r?.length>1&&R.createElement(Gw,mu({},w,{pathRef:n})),R.createElement(Rie,{points:r,clipPathId:e,props:a}))}function Die(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Mie(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:u,strokeDasharray:g,isAnimationActive:m,animationBegin:d,animationDuration:v,animationEasing:w,animateNewValues:S,width:T,height:N,onAnimationEnd:M,onAnimationStart:P}=n,B=i.current,$=r0(n,"recharts-line-"),[q,te]=R.useState(!1),X=!q,ee=R.useCallback(()=>{typeof M=="function"&&M(),te(!1)},[M]),j=R.useCallback(()=>{typeof P=="function"&&P(),te(!0)},[P]),G=Die(r.current),F=a.current;return R.createElement(Nie,{points:u,showLabels:X},n.children,R.createElement(n0,{animationId:$,begin:d,duration:v,isActive:m,easing:w,onAnimationEnd:ee,onAnimationStart:j,key:$},Z=>{var z=Or(F,G+F,Z),K=Math.min(z,G),U;if(m)if(g){var ue="".concat(g).split(/[,\s]+/gim).map(ce=>parseFloat(ce));U=Tie(K,G,ue)}else U=S5(G,K);else U=g==null?void 0:String(g);if(B){var se=B.length/u.length,oe=Z===1?u:u.map((ce,Te)=>{var Ve=Math.floor(Te*se);if(B[Ve]){var ae=B[Ve];return Ya(Ya({},ce),{},{x:Or(ae.x,ce.x,Z),y:Or(ae.y,ce.y,Z)})}return S?Ya(Ya({},ce),{},{x:Or(T*2,ce.x,Z),y:Or(N/2,ce.y,Z)}):Ya(Ya({},ce),{},{x:ce.x,y:ce.y})});return i.current=oe,R.createElement(lR,{props:n,points:oe,clipPathId:e,pathRef:r,strokeDasharray:U})}return Z>0&&G>0&&(i.current=u,a.current=K),R.createElement(lR,{props:n,points:u,clipPathId:e,pathRef:r,strokeDasharray:U})}),R.createElement(nA,{label:n.label}))}function Pie(t){var{clipPathId:e,props:n}=t,r=R.useRef(null),i=R.useRef(0),a=R.useRef(null);return R.createElement(Mie,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Lie=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:$n(t.payload,e)});class kie extends R.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:u,top:g,left:m,width:d,height:v,id:w,needClip:S}=this.props;if(e)return null;var T=mn("recharts-line",i),N=w,{r:M,strokeWidth:P}=pie(n),B=n5(n),$=M*2+P;return R.createElement(R.Fragment,null,R.createElement(Mi,{className:T},S&&R.createElement("defs",null,R.createElement(h5,{clipPathId:N,xAxisId:a,yAxisId:u}),!B&&R.createElement("clipPath",{id:"clipPath-dots-".concat(N)},R.createElement("rect",{x:m-$/2,y:g-$/2,width:d+$,height:v+$}))),R.createElement(f5,{xAxisId:a,yAxisId:u,data:r,dataPointFormatter:Lie,errorBarOffset:0},R.createElement(Pie,{props:this.props,clipPathId:N}))),R.createElement(tne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Sc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function jie(t){var e=Pi(t,_5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:u,connectNulls:g,dot:m,hide:d,isAnimationActive:v,label:w,legendType:S,xAxisId:T,yAxisId:N,id:M}=e,P=xA(e,xie),{needClip:B}=gA(T,N),$=hA(),q=Zm(),te=sa(),X=nt(Z=>mie(Z,T,N,te,M));if(q!=="horizontal"&&q!=="vertical"||X==null||$==null)return null;var{height:ee,width:j,x:G,y:F}=$;return R.createElement(kie,mu({},P,{id:M,connectNulls:g,dot:m,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:u,isAnimationActive:v,hide:d,label:w,legendType:S,xAxisId:T,yAxisId:N,points:X,layout:q,height:ee,width:j,left:G,top:F,needClip:B}))}function Bie(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:u,bandSize:g,displayedData:m}=t;return m.map((d,v)=>{var w=$n(d,u);if(e==="horizontal"){var S=D3({axis:n,ticks:i,bandSize:g,entry:d,index:v}),T=mr(w)?null:r.scale(w);return{x:S,y:T,value:w,payload:d}}var N=mr(w)?null:n.scale(w),M=D3({axis:r,ticks:a,bandSize:g,entry:d,index:v});return N==null||M==null?null:{x:N,y:M,value:w,payload:d}}).filter(Boolean)}function Uie(t){var e=Pi(t,_5),n=sa();return R.createElement(uA,{id:e.id,type:"line"},r=>R.createElement(R.Fragment,null,R.createElement(a5,{legendPayload:Sie(e)}),R.createElement(cA,{fn:_ie,args:e}),R.createElement(o5,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),R.createElement(jie,mu({},e,{id:r}))))}var C5=R.memo(Uie);C5.displayName="Line";var Fie=["dangerouslySetInnerHTML","ticks"],Vie=["id"],zie=["domain"],Hie=["domain"];function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(null,arguments)}function rm(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gie(t){var e=pr();return R.useLayoutEffect(()=>(e(zte(t)),()=>{e(Hte(t))}),[t,e]),null}var Wie=t=>{var{xAxisId:e,className:n}=t,r=nt(Fw),i=sa(),a="xAxis",u=nt(P=>ih(P,a,e,i)),g=nt(P=>lP(P,a,e,i)),m=nt(P=>iP(P,e)),d=nt(P=>OQ(P,e)),v=nt(P=>U6(P,e));if(m==null||d==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:S}=t,T=rm(t,Fie),{id:N}=v,M=rm(v,Vie);return R.createElement(vA,pb({},T,M,{scale:u,x:d.x,y:d.y,width:m.width,height:m.height,className:mn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:g}))},Yie={allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,height:qa.height,hide:!1,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tickCount:qa.tickCount,type:qa.type,xAxisId:0},$ie=t=>{var e,n,r,i,a,u=Pi(t,Yie);return R.createElement(R.Fragment,null,R.createElement(Gie,{interval:(e=u.interval)!==null&&e!==void 0?e:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(a=u.tick)!==null&&a!==void 0?a:!0,tickFormatter:u.tickFormatter}),R.createElement(Wie,u))},Xie=(t,e)=>{var{domain:n}=t,r=rm(t,zie),{domain:i}=e,a=rm(e,Hie);return Vf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Vf({domain:n},{domain:i}):!1},vf=R.memo($ie,Xie);vf.displayName="XAxis";var Kie=["dangerouslySetInnerHTML","ticks"],Qie=["id"],Zie=["domain"],Jie=["domain"];function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yb.apply(null,arguments)}function im(t,e){if(t==null)return{};var n,r,i=eae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tae(t){var e=pr();return R.useLayoutEffect(()=>(e(qte(t)),()=>{e(Gte(t))}),[t,e]),null}var nae=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),u=R.useRef(null),g=nt(Fw),m=sa(),d=pr(),v="yAxis",w=nt(X=>ih(X,v,e,m)),S=nt(X=>aP(X,e)),T=nt(X=>NQ(X,e)),N=nt(X=>lP(X,v,e,m)),M=nt(X=>F6(X,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!S||tA(i)||R.isValidElement(i)||M==null)){var X=a.current;if(X){var ee=X.getCalculatedWidth();Math.round(S.width)!==Math.round(ee)&&d(Wte({id:e,width:ee}))}}},[N,S,d,i,e,r,M]),S==null||T==null||M==null)return null;var{dangerouslySetInnerHTML:P,ticks:B}=t,$=im(t,Kie),{id:q}=M,te=im(M,Qie);return R.createElement(vA,yb({},$,te,{ref:a,labelRef:u,scale:w,x:T.x,y:T.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:S.width,height:S.height,className:mn("recharts-".concat(v," ").concat(v),n),viewBox:g,ticks:N}))},rae={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:Ga.allowDecimals,allowDuplicatedCategory:Ga.allowDuplicatedCategory,hide:!1,mirror:Ga.mirror,orientation:Ga.orientation,padding:Ga.padding,reversed:Ga.reversed,scale:Ga.scale,tickCount:Ga.tickCount,type:Ga.type,width:Ga.width,yAxisId:0},iae=t=>{var e,n,r,i,a,u=Pi(t,rae);return R.createElement(R.Fragment,null,R.createElement(tae,{interval:(e=u.interval)!==null&&e!==void 0?e:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(a=u.tick)!==null&&a!==void 0?a:!0,tickFormatter:u.tickFormatter}),R.createElement(nae,u))},aae=(t,e)=>{var{domain:n}=t,r=im(t,Zie),{domain:i}=e,a=im(e,Jie);return Vf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Vf({domain:n},{domain:i}):!1},xf=R.memo(iae,aae);xf.displayName="YAxis";var Qx={exports:{}},Zx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function sae(){if(cR)return Zx;cR=1;var t=zf();function e(m,d){return m===d&&(m!==0||1/m===1/d)||m!==m&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,u=t.useMemo,g=t.useDebugValue;return Zx.useSyncExternalStoreWithSelector=function(m,d,v,w,S){var T=i(null);if(T.current===null){var N={hasValue:!1,value:null};T.current=N}else N=T.current;T=u(function(){function P(X){if(!B){if(B=!0,$=X,X=w(X),S!==void 0&&N.hasValue){var ee=N.value;if(S(ee,X))return q=ee}return q=X}if(ee=q,n($,X))return ee;var j=w(X);return S!==void 0&&S(ee,j)?($=X,ee):($=X,q=j)}var B=!1,$,q,te=v===void 0?null:v;return[function(){return P(d())},te===null?void 0:function(){return P(te())}]},[d,v,w,S]);var M=r(m,T[0],T[1]);return a(function(){N.hasValue=!0,N.value=M},[M]),g(M),M},Zx}var uR;function oae(){return uR||(uR=1,Qx.exports=sae()),Qx.exports}oae();function lae(t){t()}function cae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fR={notify(){},get:()=>[]};function uae(t,e){let n,r=fR,i=0,a=!1;function u(M){v();const P=r.subscribe(M);let B=!1;return()=>{B||(B=!0,P(),w())}}function g(){r.notify()}function m(){N.onStateChange&&N.onStateChange()}function d(){return a}function v(){i++,n||(n=t.subscribe(m),r=cae())}function w(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fR)}function S(){a||(a=!0,v())}function T(){a&&(a=!1,w())}const N={addNestedSub:u,notifyNestedSubs:g,handleChangeWrapper:m,isSubscribed:d,trySubscribe:S,tryUnsubscribe:T,getListeners:()=>r};return N}var fae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hae=fae(),dae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gae=dae(),mae=()=>hae||gae?R.useLayoutEffect:R.useEffect,pae=mae(),yae=Symbol.for("react-redux-context"),vae=typeof globalThis<"u"?globalThis:{};function xae(){if(!R.createContext)return{};const t=vae[yae]??=new Map;let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var bae=xae();function wae(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const m=uae(i);return{store:i,subscription:m,getServerState:r?()=>r:void 0}},[i,r]),u=R.useMemo(()=>i.getState(),[i]);pae(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,u]);const g=n||bae;return R.createElement(g.Provider,{value:a},e)}var Eae=wae,Aae=(t,e)=>e,bA=we([Aae,ln,k6,ai,_P,pl,kZ,ri],VZ),wA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},T5=Is("mouseClick"),I5=e0();I5.startListening({actionCreator:T5,effect:(t,e)=>{var n=t.payload,r=bA(e.getState(),wA(n));r?.activeIndex!=null&&e.dispatch(qQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var vb=Is("mouseMove"),O5=e0();O5.startListening({actionCreator:vb,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=GE(r,r.tooltip.settings.shared),a=bA(r,wA(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(pP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(mP()))}});var hR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},R5=ts({name:"rootProps",initialState:hR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:hR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Sae=R5.reducer,{updateOptions:_ae}=R5.actions,N5=ts({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Cae}=N5.actions,Tae=N5.reducer,D5=Is("keyDown"),M5=Is("focus"),EA=e0();EA.startListening({actionCreator:D5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var u=Number(WE(i,sh(n))),g=pl(n);if(a==="Enter"){var m=Kg(n,"axis","hover",String(i.index));e.dispatch(cb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var d=LQ(n),v=d==="left-to-right"?1:-1,w=a==="ArrowRight"?1:-1,S=u+w*v;if(!(g==null||S>=g.length||S<0)){var T=Kg(n,"axis","hover",String(S));e.dispatch(cb({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}});EA.startListening({actionCreator:M5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",u=Kg(n,"axis","hover",String(a));e.dispatch(cb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:u}))}}}});var ws=Is("externalEvent"),P5=e0();P5.startListening({actionCreator:ws,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:CZ(n),activeDataKey:OP(n),activeIndex:pc(n),activeLabel:IP(n),activeTooltipIndex:pc(n),isTooltipActive:TZ(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Iae=we([ah],t=>t.tooltipItemPayloads),Oae=we([Iae,d0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(g=>g.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var u=e(a,n);return u}}}),L5=Is("touchMove"),k5=e0();k5.startListening({actionCreator:L5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=GE(r,r.tooltip.settings.shared);if(i==="axis"){var a=bA(r,wA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(pP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var u,g=n.touches[0],m=document.elementFromPoint(g.clientX,g.clientY);if(!m||!m.getAttribute)return;var d=m.getAttribute(m8),v=(u=m.getAttribute(p8))!==null&&u!==void 0?u:void 0,w=Oae(e.getState(),d,v);e.dispatch(gP({activeDataKey:v,activeIndex:d,activeCoordinate:w}))}}});var Rae=UM({brush:gre,cartesianAxis:Yte,chartData:rJ,errorBars:dne,graphicalItems:hte,layout:gG,legend:bW,options:ZZ,polarAxis:Cee,polarOptions:Tae,referenceElements:wre,rootProps:Sae,tooltip:GQ}),Nae=function(e){return Uq({reducer:Rae,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([I5.middleware,O5.middleware,EA.middleware,P5.middleware,k5.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(QM({type:"raf"}))},devTools:Sc.devToolsEnabled})};function j5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=sa(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=Nae(e));var u=Pw;return R.createElement(Eae,{context:u,store:a.current},n)}function B5(t){var{layout:e,margin:n}=t,r=pr(),i=sa();return R.useEffect(()=>{i||(r(fG(e)),r(uG(n)))},[r,i,e,n]),null}function U5(t){var e=pr();return R.useEffect(()=>{e(_ae(t))},[e,t]),null}var Dae=["children"];function Mae(t,e){if(t==null)return{};var n,r,i=Pae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(null,arguments)}var Lae={width:"100%",height:"100%",display:"block"},kae=R.forwardRef((t,e)=>{var n=zw(),r=Hw(),i=S8();if(!kf(n)||!kf(r))return null;var{children:a,otherAttributes:u,title:g,desc:m}=t,d,v;return typeof u.tabIndex=="number"?d=u.tabIndex:d=i?0:void 0,typeof u.role=="string"?v=u.role:v=i?"application":void 0,R.createElement(ww,am({},u,{title:g,desc:m,role:v,tabIndex:d,width:n,height:r,style:Lae,ref:e}),a)}),jae=t=>{var{children:e}=t,n=nt(Km);if(!n)return null;var{width:r,height:i,y:a,x:u}=n;return R.createElement(ww,{width:r,height:i,x:u,y:a},e)},dR=R.forwardRef((t,e)=>{var{children:n}=t,r=Mae(t,Dae),i=sa();return i?R.createElement(jae,null,n):R.createElement(kae,am({ref:e},r),n)});function Bae(){var t=pr(),[e,n]=R.useState(null),r=nt(HG);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ki(a)&&a!==r&&t(dG(a))}},[e,t,r]),n}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(null,arguments)}var Hae=()=>(hJ(),null);function sm(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var qae=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[a,u]=R.useState({containerWidth:sm((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:sm((r=t.style)===null||r===void 0?void 0:r.height)}),g=R.useCallback((d,v)=>{u(w=>{var S=Math.round(d),T=Math.round(v);return w.containerWidth===S&&w.containerHeight===T?w:{containerWidth:S,containerHeight:T}})},[]),m=R.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:v,height:w}=d.getBoundingClientRect();g(v,w);var S=N=>{var{width:M,height:P}=N[0].contentRect;g(M,P)},T=new ResizeObserver(S);T.observe(d),i.current=T}},[e,g]);return R.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[g]),R.createElement(R.Fragment,null,R.createElement(Jm,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",pu({ref:m},t)))}),Gae=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=R.useState({containerWidth:sm(n),containerHeight:sm(r)}),u=R.useCallback((m,d)=>{a(v=>{var w=Math.round(m),S=Math.round(d);return v.containerWidth===w&&v.containerHeight===S?v:{containerWidth:w,containerHeight:S}})},[]),g=R.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null){var{width:d,height:v}=m.getBoundingClientRect();u(d,v)}},[e,u]);return R.createElement(R.Fragment,null,R.createElement(Jm,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",pu({ref:g},t)))}),Wae=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(Jm,{width:n,height:r}),R.createElement("div",pu({ref:e},t)))}),Yae=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return al(n)||al(r)?R.createElement(Gae,pu({},t,{ref:e})):R.createElement(Wae,pu({},t,{ref:e}))});function $ae(t){return t===!0?qae:Yae}var Xae=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:u,onDoubleClick:g,onMouseDown:m,onMouseEnter:d,onMouseLeave:v,onMouseMove:w,onMouseUp:S,onTouchEnd:T,onTouchMove:N,onTouchStart:M,style:P,width:B,responsive:$,dispatchTouchEvents:q=!0}=t,te=R.useRef(null),X=pr(),[ee,j]=R.useState(null),[G,F]=R.useState(null),Z=Bae(),z=Vw(),K=z?.width>0?z.width:B,U=z?.height>0?z.height:i,ue=R.useCallback(De=>{Z(De),typeof e=="function"&&e(De),j(De),F(De),De!=null&&(te.current=De)},[Z,e,j,F]),se=R.useCallback(De=>{X(T5(De)),X(ws({handler:a,reactEvent:De}))},[X,a]),oe=R.useCallback(De=>{X(vb(De)),X(ws({handler:d,reactEvent:De}))},[X,d]),ce=R.useCallback(De=>{X(mP()),X(ws({handler:v,reactEvent:De}))},[X,v]),Te=R.useCallback(De=>{X(vb(De)),X(ws({handler:w,reactEvent:De}))},[X,w]),Ve=R.useCallback(()=>{X(M5())},[X]),ae=R.useCallback(De=>{X(D5(De.key))},[X]),be=R.useCallback(De=>{X(ws({handler:u,reactEvent:De}))},[X,u]),Ie=R.useCallback(De=>{X(ws({handler:g,reactEvent:De}))},[X,g]),je=R.useCallback(De=>{X(ws({handler:m,reactEvent:De}))},[X,m]),Ye=R.useCallback(De=>{X(ws({handler:S,reactEvent:De}))},[X,S]),rt=R.useCallback(De=>{X(ws({handler:M,reactEvent:De}))},[X,M]),Ue=R.useCallback(De=>{q&&X(L5(De)),X(ws({handler:N,reactEvent:De}))},[X,q,N]),Pn=R.useCallback(De=>{X(ws({handler:T,reactEvent:De}))},[X,T]),vt=$ae($);return R.createElement(LP.Provider,{value:ee},R.createElement(rM.Provider,{value:G},R.createElement(vt,{width:K??P?.width,height:U??P?.height,className:mn("recharts-wrapper",r),style:Uae({position:"relative",cursor:"default",width:K,height:U},P),onClick:se,onContextMenu:be,onDoubleClick:Ie,onFocus:Ve,onKeyDown:ae,onMouseDown:je,onMouseEnter:oe,onMouseLeave:ce,onMouseMove:Te,onMouseUp:Ye,onTouchEnd:Pn,onTouchMove:Ue,onTouchStart:rt,ref:ue},R.createElement(Hae,null),n)))}),Kae=["width","height","responsive","children","className","style","compact","title","desc"];function Qae(t,e){if(t==null)return{};var n,r,i=Zae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F5=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:u,style:g,compact:m,title:d,desc:v}=t,w=Qae(t,Kae),S=Ja(w);return m?R.createElement(R.Fragment,null,R.createElement(Jm,{width:n,height:r}),R.createElement(dR,{otherAttributes:S,title:d,desc:v},a)):R.createElement(Xae,{className:u,style:g,width:n,height:r,responsive:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(dR,{otherAttributes:S,title:d,desc:v,ref:e},R.createElement(Are,null,a)))});function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(null,arguments)}var Jae={top:5,right:5,bottom:5,left:5},ese={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},V5=R.forwardRef(function(e,n){var r,i=Pi(e.categoricalChartProps,ese),{chartName:a,defaultTooltipEventType:u,validateTooltipEventTypes:g,tooltipPayloadSearcher:m,categoricalChartProps:d}=e,v={chartName:a,defaultTooltipEventType:u,validateTooltipEventTypes:g,tooltipPayloadSearcher:m,eventEmitter:void 0};return R.createElement(j5,{preloadedState:{options:v},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},R.createElement(m5,{chartData:d.data}),R.createElement(B5,{layout:i.layout,margin:i.margin}),R.createElement(U5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(F5,xb({},i,{ref:n})))}),tse=["axis"],nse=R.forwardRef((t,e)=>R.createElement(V5,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tse,tooltipPayloadSearcher:eA,categoricalChartProps:t,ref:e})),rse=["axis","item"],z1=R.forwardRef((t,e)=>R.createElement(V5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rse,tooltipPayloadSearcher:eA,categoricalChartProps:t,ref:e}));function ise(t){var e=pr();return R.useEffect(()=>{e(Cae(t))},[e,t]),null}var ase=["layout"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(null,arguments)}function sse(t,e){if(t==null)return{};var n,r,i=ose(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lse={top:5,right:5,bottom:5,left:5},cse={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},use=R.forwardRef(function(e,n){var r,i=Pi(e.categoricalChartProps,cse),{layout:a}=i,u=sse(i,ase),{chartName:g,defaultTooltipEventType:m,validateTooltipEventTypes:d,tooltipPayloadSearcher:v}=e,w={chartName:g,defaultTooltipEventType:m,validateTooltipEventTypes:d,tooltipPayloadSearcher:v,eventEmitter:void 0};return R.createElement(j5,{preloadedState:{options:w},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:g},R.createElement(m5,{chartData:i.data}),R.createElement(B5,{layout:a,margin:i.margin}),R.createElement(U5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(ise,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),R.createElement(F5,bb({},u,{ref:n})))}),fse=["item"],hse={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},dse=R.forwardRef((t,e)=>{var n=Pi(t,hse);return R.createElement(use,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fse,tooltipPayloadSearcher:eA,categoricalChartProps:n,ref:e})});function gse(){const[t,e]=R.useState(0),[n,r]=R.useState([]),[i,a]=R.useState([]),[u,g]=R.useState([]),[m,d]=R.useState([{name:"Pending",value:0},{name:"Approved",value:0},{name:"Rejected",value:0}]),[v,w]=R.useState([]),[S,T]=R.useState("today"),[N,M]=R.useState(!1),[P,B]=R.useState("");R.useEffect(()=>{(async()=>{try{const{totalSales:X,topCategories:ee,dailyPaymentData:j,paymentBreakdown:G}=await NV(S);e(X||0),r(ee||[]),a(j||[]),g(G||[]);const F=await wn(pt(Ge,"globalTransactions")),Z={};F.forEach(K=>{const U=K.data();if(U.promotype){const ue=U.promotype.trim();Z[ue]=(Z[ue]||0)+1}});const z=Object.keys(Z).map(K=>({name:K,count:Z[K]}));w(z)}catch(X){console.error("Error fetching dashboard data:",X)}})()},[S]),R.useEffect(()=>{const te=il(pt(Ge,"walletRequests"),X=>{let ee=0,j=0,G=0;X.forEach(F=>{const z=F.data().status?.toLowerCase();z==="pending"?ee++:z==="approved"?j++:z==="rejected"&&G++}),d([{name:"Pending",value:ee},{name:"Approved",value:j},{name:"Rejected",value:G}])});return()=>te()},[]),R.useEffect(()=>{const te=gr(pt(Ge,"walletRequests"),Ur("status","==","pending")),X=il(te,ee=>{if(!ee.empty){const j=ee.docs[0].data();j?.email&&(B(j.email),M(!0))}});return()=>X()},[]);const $=["#b17a50","#d4a373","#a46a3b","#c08457","#8b5e3c","#e2c29d"],q=i.length>0?Object.keys(i.reduce((te,X)=>({...te,...X}),{})).filter(te=>te!=="date"):[];return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"dashboard-container",children:[I.jsx("h1",{className:"dashboard-title",children:"Dashboard Overview"}),I.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:16},children:I.jsxs("label",{children:["Sales Filter:"," ",I.jsxs("select",{value:S,onChange:te=>T(te.target.value),children:[I.jsx("option",{value:"today",children:"Today"}),I.jsx("option",{value:"week",children:"This Week"}),I.jsx("option",{value:"month",children:"This Month"})]})]})}),I.jsxs("div",{className:"graphs-section",children:[I.jsxs("div",{className:"graph-card",children:[I.jsxs("h3",{children:["Total Sales Overview: ",I.jsx("strong",{children:t})]}),I.jsx(of,{width:"100%",height:260,children:I.jsxs(nse,{data:[{name:S==="today"?"Today":S==="week"?"This Week":"This Month",sales:t}],children:[I.jsx(yf,{strokeDasharray:"3 3"}),I.jsx(vf,{dataKey:"name"}),I.jsx(xf,{}),I.jsx(uf,{}),I.jsx(C5,{type:"monotone",dataKey:"sales",stroke:"#b17a50",strokeWidth:3})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Payment Method Breakdown"}),I.jsx(of,{width:"100%",height:280,children:I.jsxs(dse,{children:[I.jsx(l5,{data:u,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,label:!0,children:u.map((te,X)=>I.jsx(Jl,{fill:$[X%$.length]},`cell-${X}`))}),I.jsx(uf,{}),I.jsx(Kc,{})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Wallet Request Status"}),I.jsx(of,{width:"100%",height:280,children:I.jsxs(z1,{data:m,margin:{top:20,right:30,left:20,bottom:5},children:[I.jsx(yf,{strokeDasharray:"3 3"}),I.jsx(vf,{dataKey:"name"}),I.jsx(xf,{allowDecimals:!1}),I.jsx(uf,{}),I.jsx(Kc,{}),I.jsx(fd,{dataKey:"value",barSize:60,children:m.map((te,X)=>I.jsx(Jl,{fill:$[X%$.length]},`cell-${X}`))})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsxs("h3",{children:["Top Selling Categories: ",S]}),I.jsx(of,{width:"100%",height:320,children:I.jsxs(z1,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[I.jsx(yf,{strokeDasharray:"3 3"}),I.jsx(vf,{dataKey:"name",tick:{fontSize:14,fill:"#4b2e16"}}),I.jsx(xf,{}),I.jsx(uf,{}),I.jsx(fd,{dataKey:"count",fill:"#a46a3b",barSize:40,children:n.map((te,X)=>I.jsx(Jl,{fill:$[X%$.length]},`cell-${X}`))})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Most Availed Promos by Type"}),I.jsx(of,{width:"100%",height:320,children:I.jsxs(z1,{data:v,margin:{top:20,right:30,left:20,bottom:5},children:[I.jsx(yf,{strokeDasharray:"3 3"}),I.jsx(vf,{dataKey:"name"}),I.jsx(xf,{}),I.jsx(uf,{}),I.jsx(Kc,{}),I.jsx(fd,{dataKey:"count",fill:"#c08457",barSize:40,children:v.map((te,X)=>I.jsx(Jl,{fill:$[X%$.length]},`cell-${X}`))})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Daily Payment Method Breakdown"}),I.jsx(of,{width:"100%",height:320,children:I.jsxs(z1,{data:i,margin:{top:20,right:30,left:0,bottom:5},children:[I.jsx(yf,{strokeDasharray:"3 3"}),I.jsx(vf,{dataKey:"date"}),I.jsx(xf,{}),I.jsx(uf,{}),I.jsx(Kc,{}),q.map((te,X)=>I.jsx(fd,{dataKey:te,stackId:"a",fill:$[X%$.length],barSize:40},te))]})})]})]})]}),I.jsx(JD,{}),N&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-box",children:[I.jsx("h2",{children:"🪙 New Pending Wallet Request!"}),I.jsx("button",{onClick:()=>M(!1),style:{background:"#763f00ff",color:"white"},children:"Close"})]})})]})}var mse=Object.defineProperty,om=Object.getOwnPropertySymbols,z5=Object.prototype.hasOwnProperty,H5=Object.prototype.propertyIsEnumerable,mR=(t,e,n)=>e in t?mse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wb=(t,e)=>{for(var n in e||(e={}))z5.call(e,n)&&mR(t,n,e[n]);if(om)for(var n of om(e))H5.call(e,n)&&mR(t,n,e[n]);return t},Eb=(t,e)=>{var n={};for(var r in t)z5.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&om)for(var r of om(t))e.indexOf(r)<0&&H5.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var yu;(t=>{const e=class Gt{constructor(m,d,v,w){if(this.version=m,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],m<Gt.MIN_VERSION||m>Gt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let S=[];for(let N=0;N<this.size;N++)S.push(!1);for(let N=0;N<this.size;N++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(v);if(this.drawCodewords(T),w==-1){let N=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const P=this.getPenaltyScore();P<N&&(w=M,N=P),this.applyMask(M)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(m,d){const v=t.QrSegment.makeSegments(m);return Gt.encodeSegments(v,d)}static encodeBinary(m,d){const v=t.QrSegment.makeBytes(m);return Gt.encodeSegments([v],d)}static encodeSegments(m,d,v=1,w=40,S=-1,T=!0){if(!(Gt.MIN_VERSION<=v&&v<=w&&w<=Gt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let N,M;for(N=v;;N++){const q=Gt.getNumDataCodewords(N,d)*8,te=u.getTotalBits(m,N);if(te<=q){M=te;break}if(N>=w)throw new RangeError("Data too long")}for(const q of[Gt.Ecc.MEDIUM,Gt.Ecc.QUARTILE,Gt.Ecc.HIGH])T&&M<=Gt.getNumDataCodewords(N,q)*8&&(d=q);let P=[];for(const q of m){n(q.mode.modeBits,4,P),n(q.numChars,q.mode.numCharCountBits(N),P);for(const te of q.getData())P.push(te)}i(P.length==M);const B=Gt.getNumDataCodewords(N,d)*8;i(P.length<=B),n(0,Math.min(4,B-P.length),P),n(0,(8-P.length%8)%8,P),i(P.length%8==0);for(let q=236;P.length<B;q^=253)n(q,8,P);let $=[];for(;$.length*8<P.length;)$.push(0);return P.forEach((q,te)=>$[te>>>3]|=q<<7-(te&7)),new Gt(N,d,$,S)}getModule(m,d){return 0<=m&&m<this.size&&0<=d&&d<this.size&&this.modules[d][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),d=m.length;for(let v=0;v<d;v++)for(let w=0;w<d;w++)v==0&&w==0||v==0&&w==d-1||v==d-1&&w==0||this.drawAlignmentPattern(m[v],m[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const d=this.errorCorrectionLevel.formatBits<<3|m;let v=d;for(let S=0;S<10;S++)v=v<<1^(v>>>9)*1335;const w=(d<<10|v)^21522;i(w>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,r(w,S));this.setFunctionModule(8,7,r(w,6)),this.setFunctionModule(8,8,r(w,7)),this.setFunctionModule(7,8,r(w,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,r(w,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,r(w,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,r(w,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let v=0;v<12;v++)m=m<<1^(m>>>11)*7973;const d=this.version<<12|m;i(d>>>18==0);for(let v=0;v<18;v++){const w=r(d,v),S=this.size-11+v%3,T=Math.floor(v/3);this.setFunctionModule(S,T,w),this.setFunctionModule(T,S,w)}}drawFinderPattern(m,d){for(let v=-4;v<=4;v++)for(let w=-4;w<=4;w++){const S=Math.max(Math.abs(w),Math.abs(v)),T=m+w,N=d+v;0<=T&&T<this.size&&0<=N&&N<this.size&&this.setFunctionModule(T,N,S!=2&&S!=4)}}drawAlignmentPattern(m,d){for(let v=-2;v<=2;v++)for(let w=-2;w<=2;w++)this.setFunctionModule(m+w,d+v,Math.max(Math.abs(w),Math.abs(v))!=1)}setFunctionModule(m,d,v){this.modules[d][m]=v,this.isFunction[d][m]=!0}addEccAndInterleave(m){const d=this.version,v=this.errorCorrectionLevel;if(m.length!=Gt.getNumDataCodewords(d,v))throw new RangeError("Invalid argument");const w=Gt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][d],S=Gt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][d],T=Math.floor(Gt.getNumRawDataModules(d)/8),N=w-T%w,M=Math.floor(T/w);let P=[];const B=Gt.reedSolomonComputeDivisor(S);for(let q=0,te=0;q<w;q++){let X=m.slice(te,te+M-S+(q<N?0:1));te+=X.length;const ee=Gt.reedSolomonComputeRemainder(X,B);q<N&&X.push(0),P.push(X.concat(ee))}let $=[];for(let q=0;q<P[0].length;q++)P.forEach((te,X)=>{(q!=M-S||X>=N)&&$.push(te[q])});return i($.length==T),$}drawCodewords(m){if(m.length!=Math.floor(Gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let w=0;w<this.size;w++)for(let S=0;S<2;S++){const T=v-S,M=(v+1&2)==0?this.size-1-w:w;!this.isFunction[M][T]&&d<m.length*8&&(this.modules[M][T]=r(m[d>>>3],7-(d&7)),d++)}}i(d==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let v=0;v<this.size;v++){let w;switch(m){case 0:w=(v+d)%2==0;break;case 1:w=d%2==0;break;case 2:w=v%3==0;break;case 3:w=(v+d)%3==0;break;case 4:w=(Math.floor(v/3)+Math.floor(d/2))%2==0;break;case 5:w=v*d%2+v*d%3==0;break;case 6:w=(v*d%2+v*d%3)%2==0;break;case 7:w=((v+d)%2+v*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][v]&&w&&(this.modules[d][v]=!this.modules[d][v])}}getPenaltyScore(){let m=0;for(let S=0;S<this.size;S++){let T=!1,N=0,M=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[S][P]==T?(N++,N==5?m+=Gt.PENALTY_N1:N>5&&m++):(this.finderPenaltyAddHistory(N,M),T||(m+=this.finderPenaltyCountPatterns(M)*Gt.PENALTY_N3),T=this.modules[S][P],N=1);m+=this.finderPenaltyTerminateAndCount(T,N,M)*Gt.PENALTY_N3}for(let S=0;S<this.size;S++){let T=!1,N=0,M=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[P][S]==T?(N++,N==5?m+=Gt.PENALTY_N1:N>5&&m++):(this.finderPenaltyAddHistory(N,M),T||(m+=this.finderPenaltyCountPatterns(M)*Gt.PENALTY_N3),T=this.modules[P][S],N=1);m+=this.finderPenaltyTerminateAndCount(T,N,M)*Gt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let T=0;T<this.size-1;T++){const N=this.modules[S][T];N==this.modules[S][T+1]&&N==this.modules[S+1][T]&&N==this.modules[S+1][T+1]&&(m+=Gt.PENALTY_N2)}let d=0;for(const S of this.modules)d=S.reduce((T,N)=>T+(N?1:0),d);const v=this.size*this.size,w=Math.ceil(Math.abs(d*20-v*10)/v)-1;return i(0<=w&&w<=9),m+=w*Gt.PENALTY_N4,i(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let v=[6];for(let w=this.size-7;v.length<m;w-=d)v.splice(1,0,w);return v}}static getNumRawDataModules(m){if(m<Gt.MIN_VERSION||m>Gt.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*m+128)*m+64;if(m>=2){const v=Math.floor(m/7)+2;d-=(25*v-10)*v-55,m>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(m,d){return Math.floor(Gt.getNumRawDataModules(m)/8)-Gt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][m]*Gt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let d=[];for(let w=0;w<m-1;w++)d.push(0);d.push(1);let v=1;for(let w=0;w<m;w++){for(let S=0;S<d.length;S++)d[S]=Gt.reedSolomonMultiply(d[S],v),S+1<d.length&&(d[S]^=d[S+1]);v=Gt.reedSolomonMultiply(v,2)}return d}static reedSolomonComputeRemainder(m,d){let v=d.map(w=>0);for(const w of m){const S=w^v.shift();v.push(0),d.forEach((T,N)=>v[N]^=Gt.reedSolomonMultiply(T,S))}return v}static reedSolomonMultiply(m,d){if(m>>>8||d>>>8)throw new RangeError("Byte out of range");let v=0;for(let w=7;w>=0;w--)v=v<<1^(v>>>7)*285,v^=(d>>>w&1)*m;return i(v>>>8==0),v}finderPenaltyCountPatterns(m){const d=m[1];i(d<=this.size*3);const v=d>0&&m[2]==d&&m[3]==d*3&&m[4]==d&&m[5]==d;return(v&&m[0]>=d*4&&m[6]>=d?1:0)+(v&&m[6]>=d*4&&m[0]>=d?1:0)}finderPenaltyTerminateAndCount(m,d,v){return m&&(this.finderPenaltyAddHistory(d,v),d=0),d+=this.size,this.finderPenaltyAddHistory(d,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(m,d){d[0]==0&&(m+=this.size),d.pop(),d.unshift(m)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(g,m,d){if(m<0||m>31||g>>>m)throw new RangeError("Value out of range");for(let v=m-1;v>=0;v--)d.push(g>>>v&1)}function r(g,m){return(g>>>m&1)!=0}function i(g){if(!g)throw new Error("Assertion error")}const a=class Tr{constructor(m,d,v){if(this.mode=m,this.numChars=d,this.bitData=v,d<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(m){let d=[];for(const v of m)n(v,8,d);return new Tr(Tr.Mode.BYTE,m.length,d)}static makeNumeric(m){if(!Tr.isNumeric(m))throw new RangeError("String contains non-numeric characters");let d=[];for(let v=0;v<m.length;){const w=Math.min(m.length-v,3);n(parseInt(m.substring(v,v+w),10),w*3+1,d),v+=w}return new Tr(Tr.Mode.NUMERIC,m.length,d)}static makeAlphanumeric(m){if(!Tr.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],v;for(v=0;v+2<=m.length;v+=2){let w=Tr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v))*45;w+=Tr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v+1)),n(w,11,d)}return v<m.length&&n(Tr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v)),6,d),new Tr(Tr.Mode.ALPHANUMERIC,m.length,d)}static makeSegments(m){return m==""?[]:Tr.isNumeric(m)?[Tr.makeNumeric(m)]:Tr.isAlphanumeric(m)?[Tr.makeAlphanumeric(m)]:[Tr.makeBytes(Tr.toUtf8ByteArray(m))]}static makeEci(m){let d=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,d);else if(m<16384)n(2,2,d),n(m,14,d);else if(m<1e6)n(6,3,d),n(m,21,d);else throw new RangeError("ECI assignment value out of range");return new Tr(Tr.Mode.ECI,0,d)}static isNumeric(m){return Tr.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return Tr.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,d){let v=0;for(const w of m){const S=w.mode.numCharCountBits(d);if(w.numChars>=1<<S)return 1/0;v+=4+S+w.bitData.length}return v}static toUtf8ByteArray(m){m=encodeURI(m);let d=[];for(let v=0;v<m.length;v++)m.charAt(v)!="%"?d.push(m.charCodeAt(v)):(d.push(parseInt(m.substring(v+1,v+3),16)),v+=2);return d}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=a;t.QrSegment=a})(yu||(yu={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(yu||(yu={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(yu||(yu={}));var Ef=yu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var pse={L:Ef.QrCode.Ecc.LOW,M:Ef.QrCode.Ecc.MEDIUM,Q:Ef.QrCode.Ecc.QUARTILE,H:Ef.QrCode.Ecc.HIGH},q5=128,G5="L",W5="#FFFFFF",Y5="#000000",$5=!1,X5=1,yse=4,vse=0,xse=.1;function K5(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(u,g){if(!u&&a!==null){n.push(`M${a+e} ${i+e}h${g-a}v1H${a+e}z`),a=null;return}if(g===r.length-1){if(!u)return;a===null?n.push(`M${g+e},${i+e} h1v1H${g+e}z`):n.push(`M${a+e},${i+e} h${g+1-a}v1H${a+e}z`);return}u&&a===null&&(a=g)})}),n.join("")}function Q5(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function bse(t,e,n,r){if(r==null)return null;const i=t.length+n*2,a=Math.floor(e*xse),u=i/e,g=(r.width||a)*u,m=(r.height||a)*u,d=r.x==null?t.length/2-g/2:r.x*u,v=r.y==null?t.length/2-m/2:r.y*u,w=r.opacity==null?1:r.opacity;let S=null;if(r.excavate){let N=Math.floor(d),M=Math.floor(v),P=Math.ceil(g+d-N),B=Math.ceil(m+v-M);S={x:N,y:M,w:P,h:B}}const T=r.crossOrigin;return{x:d,y:v,h:m,w:g,excavation:S,opacity:w,crossOrigin:T}}function wse(t,e){return e!=null?Math.max(Math.floor(e),0):t?yse:vse}function Z5({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:u,boostLevel:g}){let m=zn.useMemo(()=>{const N=(Array.isArray(t)?t:[t]).reduce((M,P)=>(M.push(...Ef.QrSegment.makeSegments(P)),M),[]);return Ef.QrCode.encodeSegments(N,pse[e],n,void 0,void 0,g)},[t,e,n,g]);const{cells:d,margin:v,numCells:w,calculatedImageSettings:S}=zn.useMemo(()=>{let T=m.getModules();const N=wse(r,i),M=T.length+N*2,P=bse(T,u,N,a);return{cells:T,margin:N,numCells:M,calculatedImageSettings:P}},[m,u,a,r,i]);return{qrcode:m,margin:v,cells:d,numCells:w,calculatedImageSettings:S}}var Ese=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Ase=zn.forwardRef(function(e,n){const r=e,{value:i,size:a=q5,level:u=G5,bgColor:g=W5,fgColor:m=Y5,includeMargin:d=$5,minVersion:v=X5,boostLevel:w,marginSize:S,imageSettings:T}=r,M=Eb(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:P}=M,B=Eb(M,["style"]),$=T?.src,q=zn.useRef(null),te=zn.useRef(null),X=zn.useCallback(ue=>{q.current=ue,typeof n=="function"?n(ue):n&&(n.current=ue)},[n]),[ee,j]=zn.useState(!1),{margin:G,cells:F,numCells:Z,calculatedImageSettings:z}=Z5({value:i,level:u,minVersion:v,boostLevel:w,includeMargin:d,marginSize:S,imageSettings:T,size:a});zn.useEffect(()=>{if(q.current!=null){const ue=q.current,se=ue.getContext("2d");if(!se)return;let oe=F;const ce=te.current,Te=z!=null&&ce!==null&&ce.complete&&ce.naturalHeight!==0&&ce.naturalWidth!==0;Te&&z.excavation!=null&&(oe=Q5(F,z.excavation));const Ve=window.devicePixelRatio||1;ue.height=ue.width=a*Ve;const ae=a/Z*Ve;se.scale(ae,ae),se.fillStyle=g,se.fillRect(0,0,Z,Z),se.fillStyle=m,Ese?se.fill(new Path2D(K5(oe,G))):F.forEach(function(be,Ie){be.forEach(function(je,Ye){je&&se.fillRect(Ye+G,Ie+G,1,1)})}),z&&(se.globalAlpha=z.opacity),Te&&se.drawImage(ce,z.x+G,z.y+G,z.w,z.h)}}),zn.useEffect(()=>{j(!1)},[$]);const K=wb({height:a,width:a},P);let U=null;return $!=null&&(U=zn.createElement("img",{src:$,key:$,style:{display:"none"},onLoad:()=>{j(!0)},ref:te,crossOrigin:z?.crossOrigin})),zn.createElement(zn.Fragment,null,zn.createElement("canvas",wb({style:K,height:a,width:a,ref:X,role:"img"},B)),U)});Ase.displayName="QRCodeCanvas";var lm=zn.forwardRef(function(e,n){const r=e,{value:i,size:a=q5,level:u=G5,bgColor:g=W5,fgColor:m=Y5,includeMargin:d=$5,minVersion:v=X5,boostLevel:w,title:S,marginSize:T,imageSettings:N}=r,M=Eb(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:P,cells:B,numCells:$,calculatedImageSettings:q}=Z5({value:i,level:u,minVersion:v,boostLevel:w,includeMargin:d,marginSize:T,imageSettings:N,size:a});let te=B,X=null;N!=null&&q!=null&&(q.excavation!=null&&(te=Q5(B,q.excavation)),X=zn.createElement("image",{href:N.src,height:q.h,width:q.w,x:q.x+P,y:q.y+P,preserveAspectRatio:"none",opacity:q.opacity,crossOrigin:q.crossOrigin}));const ee=K5(te,P);return zn.createElement("svg",wb({height:a,width:a,viewBox:`0 0 ${$} ${$}`,ref:n,role:"img"},M),!!S&&zn.createElement("title",null,S),zn.createElement("path",{fill:g,d:`M0,0 h${$}v${$}H0z`,shapeRendering:"crispEdges"}),zn.createElement("path",{fill:m,d:ee,shapeRendering:"crispEdges"}),X)});lm.displayName="QRCodeSVG";function Sse(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const _se=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function sc(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let ff=null;function J5(t={}){return ff||(t.includeStyleProperties?(ff=t.includeStyleProperties,ff):(ff=sc(window.getComputedStyle(document.documentElement)),ff))}function cm(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Cse(t){const e=cm(t,"border-left-width"),n=cm(t,"border-right-width");return t.clientWidth+e+n}function Tse(t){const e=cm(t,"border-top-width"),n=cm(t,"border-bottom-width");return t.clientHeight+e+n}function e9(t,e={}){const n=e.width||Cse(t),r=e.height||Tse(t);return{width:n,height:r}}function Ise(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Fa=16384;function Ose(t){(t.width>Fa||t.height>Fa)&&(t.width>Fa&&t.height>Fa?t.width>t.height?(t.height*=Fa/t.width,t.width=Fa):(t.width*=Fa/t.height,t.height=Fa):t.width>Fa?(t.height*=Fa/t.width,t.width=Fa):(t.width*=Fa/t.height,t.height=Fa))}function um(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function Rse(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Nse(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(t),Rse(i)}const Sa=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Sa(n,e)};function Dse(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Mse(t,e){return J5(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function Pse(t,e,n,r){const i=`.${t}:${e}`,a=n.cssText?Dse(n):Mse(n,r);return document.createTextNode(`${i}{${a}}`)}function pR(t,e,n,r){const i=window.getComputedStyle(t,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const u=_se();try{e.className=`${e.className} ${u}`}catch{return}const g=document.createElement("style");g.appendChild(Pse(u,n,i,r)),e.appendChild(g)}function Lse(t,e,n){pR(t,e,":before",n),pR(t,e,":after",n)}const yR="application/font-woff",vR="image/jpeg",kse={woff:yR,woff2:yR,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:vR,jpeg:vR,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function jse(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function AA(t){const e=jse(t).toLowerCase();return kse[e]||""}function Bse(t){return t.split(/,/)[1]}function Ab(t){return t.search(/^(data:)/)!==-1}function Use(t,e){return`data:${e};base64,${t}`}async function t9(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,u)=>{const g=new FileReader;g.onerror=u,g.onloadend=()=>{try{a(n({res:r,result:g.result}))}catch(m){u(m)}},g.readAsDataURL(i)})}const Jx={};function Fse(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function SA(t,e,n){const r=Fse(t,e,n.includeQueryParams);if(Jx[r]!=null)return Jx[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const a=await t9(t,n.fetchRequestInit,({res:u,result:g})=>(e||(e=u.headers.get("Content-Type")||""),Bse(g)));i=Use(a,e)}catch(a){i=n.imagePlaceholder||"";let u=`Failed to fetch resource: ${t}`;a&&(u=typeof a=="string"?a:a.message),u&&console.warn(u)}return Jx[r]=i,i}async function Vse(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):um(e)}async function zse(t,e){if(t.currentSrc){const a=document.createElement("canvas"),u=a.getContext("2d");a.width=t.clientWidth,a.height=t.clientHeight,u?.drawImage(t,0,0,a.width,a.height);const g=a.toDataURL();return um(g)}const n=t.poster,r=AA(n),i=await SA(n,r,e);return um(i)}async function Hse(t,e){var n;try{if(!((n=t?.contentDocument)===null||n===void 0)&&n.body)return await Ep(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function qse(t,e){return Sa(t,HTMLCanvasElement)?Vse(t):Sa(t,HTMLVideoElement)?zse(t,e):Sa(t,HTMLIFrameElement)?Hse(t,e):t.cloneNode(n9(t))}const Gse=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",n9=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function Wse(t,e,n){var r,i;if(n9(e))return e;let a=[];return Gse(t)&&t.assignedNodes?a=sc(t.assignedNodes()):Sa(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?a=sc(t.contentDocument.body.childNodes):a=sc(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),a.length===0||Sa(t,HTMLVideoElement)||await a.reduce((u,g)=>u.then(()=>Ep(g,n)).then(m=>{m&&e.appendChild(m)}),Promise.resolve()),e}function Yse(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):J5(n).forEach(a=>{let u=i.getPropertyValue(a);a==="font-size"&&u.endsWith("px")&&(u=`${Math.floor(parseFloat(u.substring(0,u.length-2)))-.1}px`),Sa(t,HTMLIFrameElement)&&a==="display"&&u==="inline"&&(u="block"),a==="d"&&e.getAttribute("d")&&(u=`path(${e.getAttribute("d")})`),r.setProperty(a,u,i.getPropertyPriority(a))})}function $se(t,e){Sa(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Sa(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Xse(t,e){if(Sa(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function Kse(t,e,n){return Sa(e,Element)&&(Yse(t,e,n),Lse(t,e,n),$se(t,e),Xse(t,e)),e}async function Qse(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let a=0;a<n.length;a++){const g=n[a].getAttribute("xlink:href");if(g){const m=t.querySelector(g),d=document.querySelector(g);!m&&d&&!r[g]&&(r[g]=await Ep(d,e,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",u=document.createElementNS(a,"svg");u.setAttribute("xmlns",a),u.style.position="absolute",u.style.width="0",u.style.height="0",u.style.overflow="hidden",u.style.display="none";const g=document.createElementNS(a,"defs");u.appendChild(g);for(let m=0;m<i.length;m++)g.appendChild(i[m]);t.appendChild(u)}return t}async function Ep(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>qse(r,e)).then(r=>Wse(t,r,e)).then(r=>Kse(t,r,e)).then(r=>Qse(r,e))}const r9=/url\((['"]?)([^'"]+?)\1\)/g,Zse=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Jse=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function eoe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function toe(t){const e=[];return t.replace(r9,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Ab(n))}async function noe(t,e,n,r,i){try{const a=n?Sse(e,n):e,u=AA(e);let g;return i||(g=await SA(a,u,r)),t.replace(eoe(e),`$1${g}$3`)}catch{}return t}function roe(t,{preferredFontFormat:e}){return e?t.replace(Jse,n=>{for(;;){const[r,,i]=Zse.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function i9(t){return t.search(r9)!==-1}async function a9(t,e,n){if(!i9(t))return t;const r=roe(t,n);return toe(r).reduce((a,u)=>a.then(g=>noe(g,u,e,n)),Promise.resolve(r))}async function hf(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const a=await a9(i,null,n);return e.style.setProperty(t,a,e.style.getPropertyPriority(t)),!0}return!1}async function ioe(t,e){await hf("background",t,e)||await hf("background-image",t,e),await hf("mask",t,e)||await hf("-webkit-mask",t,e)||await hf("mask-image",t,e)||await hf("-webkit-mask-image",t,e)}async function aoe(t,e){const n=Sa(t,HTMLImageElement);if(!(n&&!Ab(t.src))&&!(Sa(t,SVGImageElement)&&!Ab(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await SA(r,AA(r),e);await new Promise((a,u)=>{t.onload=a,t.onerror=e.onImageErrorHandler?(...m)=>{try{a(e.onImageErrorHandler(...m))}catch(d){u(d)}}:u;const g=t;g.decode&&(g.decode=a),g.loading==="lazy"&&(g.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function soe(t,e){const r=sc(t.childNodes).map(i=>s9(i,e));await Promise.all(r).then(()=>t)}async function s9(t,e){Sa(t,Element)&&(await ioe(t,e),await aoe(t,e),await soe(t,e))}function ooe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const xR={};async function bR(t){let e=xR[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},xR[t]=e,e}async function wR(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async u=>{let g=u.replace(r,"$1");return g.startsWith("https://")||(g=new URL(g,t.url).href),t9(g,e.fetchRequestInit,({result:m})=>(n=n.replace(u,`url(${m})`),[u,m]))});return Promise.all(a).then(()=>n)}function ER(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=i.exec(r);if(m===null)break;e.push(m[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",g=new RegExp(u,"gi");for(;;){let m=a.exec(r);if(m===null){if(m=g.exec(r),m===null)break;a.lastIndex=g.lastIndex}else g.lastIndex=a.lastIndex;e.push(m[0])}return e}async function loe(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{sc(i.cssRules||[]).forEach((a,u)=>{if(a.type===CSSRule.IMPORT_RULE){let g=u+1;const m=a.href,d=bR(m).then(v=>wR(v,e)).then(v=>ER(v).forEach(w=>{try{i.insertRule(w,w.startsWith("@import")?g+=1:i.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:w,error:S})}})).catch(v=>{console.error("Error loading remote css",v.toString())});r.push(d)}})}catch(a){const u=t.find(g=>g.href==null)||document.styleSheets[0];i.href!=null&&r.push(bR(i.href).then(g=>wR(g,e)).then(g=>ER(g).forEach(m=>{u.insertRule(m,u.cssRules.length)})).catch(g=>{console.error("Error loading remote stylesheet",g)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{sc(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function coe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>i9(e.style.getPropertyValue("src")))}async function uoe(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=sc(t.ownerDocument.styleSheets),r=await loe(n,e);return coe(r)}function o9(t){return t.trim().replace(/["']/g,"")}function foe(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{e.add(o9(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(t),e}async function hoe(t,e){const n=await uoe(t,e),r=foe(t);return(await Promise.all(n.filter(a=>r.has(o9(a.style.fontFamily))).map(a=>{const u=a.parentStyleSheet?a.parentStyleSheet.href:null;return a9(a.cssText,u,e)}))).join(`
`)}async function doe(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await hoe(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function goe(t,e={}){const{width:n,height:r}=e9(t,e),i=await Ep(t,e,!0);return await doe(i,e),await s9(i,e),ooe(i,e),await Nse(i,n,r)}async function moe(t,e={}){const{width:n,height:r}=e9(t,e),i=await goe(t,e),a=await um(i),u=document.createElement("canvas"),g=u.getContext("2d"),m=e.pixelRatio||Ise(),d=e.canvasWidth||n,v=e.canvasHeight||r;return u.width=d*m,u.height=v*m,e.skipAutoScale||Ose(u),u.style.width=`${d}`,u.style.height=`${v}`,e.backgroundColor&&(g.fillStyle=e.backgroundColor,g.fillRect(0,0,u.width,u.height)),g.drawImage(a,0,0,u.width,u.height),u}async function poe(t,e={}){return(await moe(t,e)).toDataURL()}function yoe({customers:t,onView:e,onDelete:n}){const[r,i]=R.useState(null),a=R.useRef(null),u=()=>{a.current&&poe(a.current,{cacheBust:!0}).then(g=>{const m=document.createElement("a");m.download="qr-code.png",m.href=g,m.click()}).catch(g=>console.error("Error downloading QR:",g))};return I.jsxs(I.Fragment,{children:[I.jsxs("table",{className:"customer-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"QR"}),I.jsx("th",{children:"Name"}),I.jsx("th",{children:"Mobile"}),I.jsx("th",{children:"Tier"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Wallet"}),I.jsx("th",{children:"Points"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:t.map(g=>I.jsxs("tr",{children:[I.jsx("td",{children:g.email?I.jsx("div",{style:{cursor:"pointer"},onClick:()=>i(g.email),children:I.jsx(lm,{value:g.email,size:48,bgColor:"#ffffff",fgColor:"#000000",level:"H"})}):I.jsx("span",{children:"N/A"})}),I.jsx("td",{children:g.fullName}),I.jsx("td",{children:g.mobile}),I.jsx("td",{children:g.tier}),I.jsx("td",{children:g.status}),I.jsxs("td",{children:["₱",g.wallet]}),I.jsx("td",{children:g.points}),I.jsxs("td",{children:[I.jsx("button",{className:"btn view",onClick:()=>e(g),style:{background:"#43f220ff",color:"white"},children:"View"}),I.jsx("button",{className:"btn delete",onClick:()=>n(g.id),style:{background:"#ff4848ff",color:"white"},children:"Delete"})]})]},g.id))})]}),r&&I.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>i(null),children:I.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:10,textAlign:"center"},onClick:g=>g.stopPropagation(),children:[I.jsx("div",{ref:a,children:I.jsx(lm,{value:r,size:180,bgColor:"#ffffff",fgColor:"#000000",level:"H"})}),I.jsxs("div",{style:{marginTop:15},children:[I.jsx("button",{onClick:u,style:{marginRight:10},children:"💾 Download"}),I.jsx("button",{onClick:()=>i(null),children:"❌ Close"})]})]})})]})}const voe=async t=>{try{const e=t.trim(),n=gr(pt(Ge,"customers"),Ur("mobile","==",e));return!(await wn(n)).empty}catch(e){throw console.error("Error checking mobile number:",e),e}},xoe=async t=>{const e=gr(pt(Ge,"customers"),Ur("email","==",t));return!(await wn(e)).empty};function boe({onAdd:t,onClose:e}){const[n,r]=R.useState(""),[i,a]=R.useState(""),[u,g]=R.useState(""),[m,d]=R.useState(""),[v,w]=R.useState(""),[S,T]=R.useState(!1),N=async()=>{if(!n.trim()||!i.trim()||!u.trim()){alert("Last Name, First Name, and Email are required");return}const M=u.trim(),P=m.trim();if(!/^\S+@\S+\.\S+$/.test(M)){alert("Please enter a valid email address");return}if(P&&!/^09\d{9}$/.test(P)){alert("Please enter a valid mobile number (11 digits starting with 09)");return}T(!0);try{if(await xoe(M)){alert("This email is already registered."),T(!1);return}if(P&&await voe(P)){alert("This mobile number is already registered."),T(!1);return}const $={fullName:`${i.trim()} ${n.trim()}`,lastName:n.trim(),firstName:i.trim(),email:M,mobile:P,wallet:0,gender:v||void 0},q=await t({...$,id:M});q.success?(alert("Customer added successfully!"),e()):alert("Error adding customer: "+q.error)}catch(B){console.error("❌ Error saving customer:",B),alert("Something went wrong. Please try again.")}finally{T(!1)}};return I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h3",{children:"Add Customer"}),I.jsx("input",{type:"text",placeholder:"Last Name",value:n,onChange:M=>r(M.target.value),className:"input"}),I.jsx("input",{type:"text",placeholder:"First Name",value:i,onChange:M=>a(M.target.value),className:"input"}),I.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:M=>g(M.target.value),className:"input"}),I.jsx("input",{type:"text",placeholder:"Mobile Number (optional)",value:m,onChange:M=>d(M.target.value),className:"input",maxLength:11}),I.jsxs("select",{value:v,onChange:M=>w(M.target.value),className:"picker",children:[I.jsx("option",{value:"",children:"Select Gender"}),I.jsx("option",{value:"Male",children:"Male"}),I.jsx("option",{value:"Female",children:"Female"})]}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{className:"btn",onClick:N,disabled:S,style:{marginLeft:10,background:"#92e846ff",color:"#010000ff"},children:S?"Saving...":"Save"}),I.jsx("button",{className:"btn danger",onClick:e,disabled:S,style:{marginLeft:10,background:"#ff2c2cff",color:"white"},children:"Cancel"})]})]})})}function woe({customer:t,onClose:e}){return I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h3",{children:"Customer Details"}),I.jsxs("p",{children:[I.jsx("strong",{children:"Name:"})," ",t.fullName]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Mobile:"})," ",t.mobile]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Email:"})," ",t.email]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Tier:"})," ",t.tier]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Status:"})," ",t.status]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Points:"})," ",t.points]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Favorite Category:"})," ",t.favoriteCategory]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Wallet:"})," ₱",t.wallet]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Date Joined:"})," ",t.dateJoined||"N/A"]}),t.email&&I.jsx(lm,{value:t.email,size:128}),I.jsx("br",{}),I.jsx("button",{className:"btn",onClick:e,style:{marginLeft:10,background:"#828282ff",color:"white"},children:"Close"})]})})}const Eoe=async t=>{const e=gr(pt(Ge,"customers"),Ur("email","==",t));return!(await wn(e)).empty},Aoe=async t=>{if(!t)return!1;const e=gr(pt(Ge,"customers"),Ur("mobile","==",t));return!(await wn(e)).empty},Soe=async t=>{try{if(!t.email)throw new Error("Email is required");const e=t.email.trim(),n=t.mobile?.trim()||"";if(await Eoe(e))throw new Error("This email is already registered.");if(n&&await Aoe(n))throw new Error("This mobile number is already registered.");const i=e,a=Date.now().toString().slice(-4);return await WF(wt(Ge,"customers",e),{customerNumber:a,fullName:t.fullName,email:e,mobile:n,wallet:t.wallet||0,tier:"Bronze",status:"Inactive",points:0,qrCode:i,createdAt:Vn(),favoriteCategory:t.favoriteCategory||"",gender:t.gender||""}),{success:!0,id:e,qrValue:i}}catch(e){return console.error("❌ Error adding customer:",e),{success:!1,error:e.message}}};function _oe(){const[t,e]=R.useState([]),[n,r]=R.useState({tier:"All",status:"All",mobile:""}),[i,a]=R.useState(null),[u,g]=R.useState(!1);R.useEffect(()=>{const w=il(pt(Ge,"customers"),S=>{const T=S.docs.map(N=>{const M=N.data(),P=M.createdAt?M.createdAt.toDate().toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}):"N/A";return{id:N.id,...M,dateJoined:P}});e(T)},S=>console.error("Error fetching customers:",S));return()=>w()},[]);const m=async w=>{if(!w.email){alert("Email is required to generate QR code");return}const S=await Soe(w);S.success?alert("Customer added successfully!"):alert("Error adding customer: "+S.error)},d=async w=>{window.confirm("Are you sure you want to delete this customer?")&&(await Eu(wt(Ge,"customers",w)),e(S=>S.filter(T=>T.id!==w)))},v=R.useMemo(()=>t.filter(w=>{const S=n.tier==="All"||w.tier===n.tier,T=n.status==="All"||w.status===n.status,N=w.mobile.toLowerCase().includes(n.mobile.toLowerCase());return S&&T&&N}),[t,n]);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"customer-container",children:[I.jsx("h2",{className:"title",children:"Customer Management"}),I.jsxs("div",{className:"filters",children:[I.jsxs("select",{value:n.tier,onChange:w=>r(S=>({...S,tier:w.target.value})),children:[I.jsx("option",{value:"All",children:"All Tiers"}),I.jsx("option",{value:"Bronze",children:"Bronze"}),I.jsx("option",{value:"Silver",children:"Silver"}),I.jsx("option",{value:"Gold",children:"Gold"})]}),I.jsxs("select",{value:n.status,onChange:w=>r(S=>({...S,status:w.target.value})),children:[I.jsx("option",{value:"All",children:"All Status"}),I.jsx("option",{value:"Active",children:"Active"}),I.jsx("option",{value:"Inactive",children:"Inactive"})]}),I.jsx("input",{type:"text",placeholder:"Search by Mobile",value:n.mobile,onChange:w=>r(S=>({...S,mobile:w.target.value}))}),I.jsx("button",{className:"btn add",onClick:()=>g(!0),style:{marginLeft:10,background:"#5b1818ff",color:"white"},children:"+ Add Customer"})]}),I.jsx(yoe,{customers:v,onView:a,onDelete:d}),i&&I.jsx(woe,{customer:i,onClose:()=>a(null)}),u&&I.jsx(boe,{onClose:()=>g(!1),onAdd:m})]})]})}const Coe=async t=>{try{const e=pt(Ge,"customers",t,"transactions"),n=await wn(e),r={};return n.forEach(a=>{const u=a.data();u.items&&Array.isArray(u.items)&&u.items.forEach(g=>{const m=g.category,d=g.qty??1;r[m]=(r[m]||0)+d})}),Object.entries(r).reduce((a,[u,g])=>g>a.count?{category:u,count:g}:a,{category:"",count:0}).category||null}catch(e){return console.error(`❌ Error getting top category for ${t}:`,e),null}},Vd=async t=>{try{const e=await Coe(t);if(!e){console.log(`⚠️ No favorite category found for ${t}`);return}const n=wt(Ge,"customers",t);await Wt(n,{favoriteCategory:e}),console.log(`✅ Updated favorite category for ${t}: ${e}`)}catch(e){console.error(`❌ Error updating favorite category for ${t}:`,e)}},Toe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!0),[i,a]=R.useState(!1),[u,g]=R.useState(null),[m,d]=R.useState(null),[v,w]=R.useState(!1),[S,T]=R.useState("Pending");t.filter(U=>U.status===S);const[N,M]=R.useState(null),[P,B]=R.useState(!1),[$,q]=R.useState(null),[te,X]=R.useState(0),ee=async(U=null)=>{try{r(!0);let ue;if(U){const oe=gr(pt(Ge,"orders"),Ur("customerId","==",U));ue=await wn(oe)}else ue=await wn(pt(Ge,"orders"));const se=ue.docs.map(oe=>{const ce=oe.data(),Te=ce.placedAt||ce.date||"";let Ve="";Te?.toDate?Ve=Te.toDate().toISOString().split("T")[0]:typeof Te=="string"&&(Ve=Te.split("T")[0]);const ae=Array.isArray(ce.items)?ce.items:[],be=ce.paidByWallet?"Wallet":ce.paymentMethod||(ce.type==="points-used"?"Points":"Cash");return{id:oe.id,customerEmail:ce.customerId||"N/A",date:Ve,amount:ce.subtotal||ce.total||ce.amount||0,status:ce.status||"Pending",items:ae,paymentMethod:be,paidByWallet:!!ce.paidByWallet,pointsEarned:ce.pointsEarned||0,instructions:ce.instructions||""}});e(se)}catch(ue){console.error("Error fetching orders:",ue)}finally{r(!1)}};R.useEffect(()=>{ee()},[]);const j=async({customerEmail:U,customerName:ue,orderId:se,amount:oe,paymentMethod:ce,type:Te,status:Ve,date:ae,items:be,pointsEarned:Ie=0})=>{await ta(pt(Ge,"transactions"),{orderId:se,amount:oe,paymentMethod:ce,type:Te,status:Ve,date:ae,items:be,customerId:U,fullName:ue,pointsEarned:Ie}),await ta(pt(Ge,"customers",U,"transactions"),{orderId:se,amount:oe,paymentMethod:ce,type:Te,status:Ve,date:ae,items:be,customerId:U,fullName:ue,pointsEarned:Ie})},G=async(U,ue,se)=>{const oe=wt(Ge,"customers",U.customerEmail),Te=(await Qa(oe)).data();await Wt(oe,{points:(Te.points||0)-se,totalSpent:(Te.totalSpent||0)+U.amount,updatedAt:Vn()}),await Wt(wt(Ge,"orders",U.id),{status:"Completed",paymentMethod:se===U.amount?"Points":"Mix",updatedAt:Vn()}),await j({customerEmail:U.customerEmail,customerName:ue,orderId:U.id,amount:U.amount,paymentMethod:se===U.amount?"Points":"Mix",type:se===U.amount?"points-used":"mixed-payment",status:"Completed",date:Vn(),items:U.items}),await Vd(U.customerEmail),alert("✅ Order completed successfully."),ee(u)},F=async U=>{try{const ue=wt(Ge,"customers",U.customerEmail),se=await Qa(ue);if(!se.exists()){alert("❌ Customer not found.");return}const oe=se.data(),ce=oe.points||0,Te=oe.wallet||0,Ve=U.amount;if(ce>=Ve){await G(U,oe.fullName||"N/A",Ve);return}M(U),X(ce),B(!0)}catch(ue){console.error("Error completing order:",ue),alert("❌ Failed to complete order.")}},Z=async U=>{if(!N)return;const ue=wt(Ge,"customers",N.customerEmail),oe=(await Qa(ue)).data(),ce=oe.fullName||"N/A",Te=oe.points||0,Ve=oe.wallet||0,ae=N.amount;let be=Math.min(Te,ae),Ie=ae-be;if(U==="Cash")await Wt(ue,{points:Te-be,totalSpent:(oe.totalSpent||0)+ae,updatedAt:Vn()}),await Wt(wt(Ge,"orders",N.id),{status:"Completed",paymentMethod:be>0?"Points + Cash":"Cash",updatedAt:Vn()}),await j({customerEmail:N.customerEmail,customerName:ce,orderId:N.id,amount:ae,paymentMethod:be>0?"Points + Cash":"Cash",type:be>0?"points-cash":"cash",status:"Completed",date:Vn(),items:N.items}),alert(`✅ Order completed using ${be} points + ₱${Ie} cash.`);else if(U==="Wallet"){if(Ve<Ie){alert("❌ Not enough wallet balance to complete payment!");return}await Wt(ue,{points:Te-be,wallet:Ve-Ie,totalSpent:(oe.totalSpent||0)+ae,updatedAt:Vn()}),await Wt(wt(Ge,"orders",N.id),{status:"Completed",paymentMethod:be>0?"Points + Wallet":"Wallet",paidByWallet:!0,updatedAt:Vn()}),await j({customerEmail:N.customerEmail,customerName:ce,orderId:N.id,amount:ae,paymentMethod:be>0?"Points + Wallet":"Wallet",type:be>0?"points-wallet":"wallet",status:"Completed",date:Vn(),items:N.items}),alert(`✅ Order completed using ${be} points + ₱${Ie} from wallet.`)}B(!1),M(null),ee(u)},z=async(U,ue)=>{if(confirm("Are you sure you want to cancel this order?"))try{const se=wt(Ge,"orders",U);await Wt(se,{status:"Canceled",updatedAt:Vn()});const oe=gr(pt(Ge,"transactions"),Ur("orderId","==",U)),ce=await wn(oe);for(const ae of ce.docs)await Wt(wt(Ge,"transactions",ae.id),{status:"Canceled",updatedAt:Vn()});const Te=gr(pt(Ge,"customers",ue,"transactions"),Ur("orderId","==",U)),Ve=await wn(Te);for(const ae of Ve.docs)await Wt(wt(Ge,"customers",ue,"transactions",ae.id),{status:"Canceled",updatedAt:Vn()});alert("🚫 Order has been marked as Canceled."),ee(u)}catch(se){console.error("Error canceling order:",se),alert("❌ Failed to cancel order.")}},K=()=>{a(!0);const U=new Mf("reader",{fps:10,qrbox:{width:250,height:250}},!1);U.render(async ue=>{try{const se=wt(Ge,"customers",ue),oe=await Qa(se);oe.exists()?(g(ue),alert(`✅ Showing orders for: ${oe.data().fullName}`),ee(ue)):alert("❌ Customer not found!")}catch(se){console.error("Error scanning QR:",se)}U.clear().catch(()=>{}),a(!1)},ue=>console.warn(ue))};return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"p-6 ml-64",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Redeem Orders"}),I.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[I.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"📷 Scan QR to Filter"}),u&&I.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition",onClick:()=>{g(null),ee()},children:"🔁 Show All"}),I.jsxs("select",{value:S,onChange:U=>T(U.target.value),className:"px-3 py-2 border rounded-lg",children:[I.jsx("option",{value:"Pending",children:"Pending"}),I.jsx("option",{value:"Completed",children:"Completed"})]})]}),i&&I.jsx("div",{id:"reader",className:"w-[300px] h-[300px] border-2 border-gray-300 mb-4"}),n?I.jsx("p",{children:"Loading orders..."}):t.filter(U=>U.status===S).length===0?I.jsx("p",{children:"No orders found."}):I.jsx("div",{className:"table-wrapper",children:I.jsxs("table",{className:"orders-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Order ID"}),I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Items"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Payment"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:t.filter(U=>U.status===S).map(U=>I.jsxs("tr",{children:[I.jsx("td",{children:U.id}),I.jsx("td",{children:U.customerEmail}),I.jsx("td",{children:U.date}),I.jsx("td",{children:U.items.length?U.items.map(ue=>ue.name).join(", "):"N/A"}),I.jsxs("td",{children:[U.amount.toFixed(2)," pts."]}),I.jsx("td",{children:"Points"}),I.jsx("td",{children:I.jsx("span",{className:`order-status ${U.status.toLowerCase()}`,children:U.status})}),I.jsx("td",{children:U.status==="Pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{className:"complete-btn",onClick:()=>F(U),style:{background:"#ffca61",color:"white",marginRight:"6px"},children:"Complete"}),I.jsx("button",{className:"cancel-btn",onClick:()=>z(U.id,U.customerEmail),style:{background:"#ff2600",color:"white"},children:"Cancel"})]}):U.status==="Completed"?I.jsx("button",{className:"delete-btn",onClick:async()=>{if(confirm("🗑️ Are you sure you want to delete this completed order?"))try{await Eu(wt(Ge,"orders",U.id)),alert("✅ Order deleted successfully!"),ee(u)}catch(ue){console.error("Error deleting order:",ue),alert("❌ Failed to delete order.")}},style:{background:"#d32f2f",color:"white"},children:"Delete"}):null})]},U.id))})]})}),P&&N&&I.jsx("div",{className:"payment-modal",children:I.jsxs("div",{className:"payment-modal-content",children:[I.jsx("h3",{children:"Not enough points"}),I.jsxs("p",{children:["Customer has only ",te," points, order costs ₱",N.amount,".",I.jsx("br",{}),"Choose how to pay:"]}),I.jsxs("div",{className:"payment-options",children:[I.jsx("button",{onClick:()=>Z("Cash"),children:" Cash"}),I.jsx("button",{onClick:()=>Z("Wallet"),children:" Wallet"})]}),I.jsx("button",{className:"cancel-btn",onClick:()=>{B(!1),M(null)},children:"Cancel"})]})})]})]})};function Ioe(){const[t,e]=R.useState([]),[n,r]=R.useState({promoType:"global",applicableTiers:[],category:""}),[i,a]=R.useState(null),[u,g]=R.useState([]),[m,d]=R.useState(""),[v,w]=R.useState("all"),[S,T]=R.useState("all"),[N,M]=R.useState(!1);R.useEffect(()=>{const j=gr(pt(Ge,"promotions"),pw("createdAt","desc")),G=il(j,F=>{const Z=F.docs.map(z=>({id:z.id,...z.data()}));e(Z)});return()=>G()},[]),R.useEffect(()=>{(async()=>{try{const G=await wn(pt(Ge,"menu")),F=new Set;G.forEach(Z=>{const z=Z.data();z.category&&F.add(z.category)}),g(Array.from(F))}catch(G){console.error("Error fetching categories:",G)}})()},[]);const P=j=>{const{name:G,value:F}=j.target;r(Z=>({...Z,[G]:G==="price"?parseFloat(F):F}))},B=j=>{r(G=>{const F=G.applicableTiers||[];return F.includes(j)?{...G,applicableTiers:F.filter(Z=>Z!==j)}:{...G,applicableTiers:[...F,j]}})},$=async()=>{if(!n.title||!n.description||!n.price||!n.startDate||!n.endDate){alert("Please fill in all required fields.");return}const j={...n,createdAt:Vn()};try{i?(await Wt(wt(Ge,"promotions",i),j),a(null)):await ta(pt(Ge,"promotions"),j),r({promoType:"global",applicableTiers:[],category:""}),M(!1)}catch(G){console.error("Error saving promotion:",G)}},q=j=>{r(j),a(j.id),M(!0)},te=async j=>await Eu(wt(Ge,"promotions",j)),X=j=>new Date(j)>=new Date?"active":"expired",ee=t.filter(j=>{const G=j.title.toLowerCase().includes(m.toLowerCase())||j.description.toLowerCase().includes(m.toLowerCase()),F=X(j.endDate),Z=v==="all"||v==="active"&&F==="active"||v==="expired"&&F==="expired",z=S==="all"||j.category===S;return G&&Z&&z});return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"promotion-container",children:[I.jsxs("div",{className:"promo-header",children:[I.jsx("h2",{children:"Current Promotions"}),I.jsx("button",{className:"add-btn",onClick:()=>M(!0),style:{background:"#5b1818ff",color:"white"},children:"+ Add Promotion"})]}),I.jsxs("div",{className:"filter-controls",children:[I.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:j=>d(j.target.value)}),I.jsxs("select",{value:v,onChange:j=>w(j.target.value),children:[I.jsx("option",{value:"all",children:"All"}),I.jsx("option",{value:"active",children:"Active"}),I.jsx("option",{value:"expired",children:"Expired"})]}),I.jsxs("select",{value:S,onChange:j=>T(j.target.value),children:[I.jsx("option",{value:"all",children:"All Categories"}),u.map(j=>I.jsx("option",{value:j,children:j},j))]})]}),ee.length===0?I.jsx("p",{children:"No promotions found."}):I.jsx("ul",{className:"promo-list",children:ee.map(j=>I.jsxs("li",{className:"promo-item",children:[I.jsxs("div",{className:"promo-details",children:[I.jsx("h3",{children:j.title}),I.jsx("p",{children:j.description}),I.jsxs("p",{children:["Price: ₱",j.price?.toFixed(2)]}),I.jsxs("p",{children:["Type: ",I.jsx("b",{children:j.promoType})," ",j.applicableTiers?.length>0&&`| Tiers: ${j.applicableTiers.join(", ")}`]}),j.category&&I.jsxs("p",{children:["Category: ",I.jsx("b",{children:j.category})]}),I.jsxs("p",{className:`promo-status ${X(j.endDate)}`,children:[j.startDate," → ",j.endDate," |"," ",I.jsx("b",{style:{color:X(j.endDate)==="active"?"green":"red"},children:X(j.endDate).toUpperCase()})]})]}),I.jsxs("div",{className:"promo-actions",children:[I.jsx("button",{onClick:()=>q(j),style:{background:"#67ad42ff",color:"white"},children:"Edit"}),I.jsx("button",{onClick:()=>te(j.id),style:{background:"#f13e1fff",color:"white"},children:"Delete"})]})]},j.id))}),N&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h2",{children:i?"Edit Promotion":"Add Promotion"}),I.jsxs("div",{className:"promo-input-grid",children:[I.jsx("input",{type:"text",name:"title",placeholder:"Title",value:n.title||"",onChange:P}),I.jsx("input",{type:"number",name:"price",placeholder:"Price (₱)",value:n.price||"",onChange:P}),I.jsx("input",{type:"date",name:"startDate",value:n.startDate||"",onChange:P}),I.jsx("input",{type:"date",name:"endDate",value:n.endDate||"",onChange:P})]}),I.jsxs("div",{className:"promo-type",children:[I.jsx("label",{children:"Promo Type:"}),I.jsxs("select",{name:"promoType",value:n.promoType,onChange:P,children:[I.jsx("option",{value:"global",children:"Global (all tiers)"}),I.jsx("option",{value:"personalized",children:"Personalized (category + tier)"})]})]}),n.promoType==="personalized"&&I.jsxs("select",{name:"category",value:n.category||"",onChange:P,children:[I.jsx("option",{value:"",children:"Select Category"}),u.map(j=>I.jsx("option",{value:j,children:j},j))]}),I.jsx("div",{className:"tier-options",children:["Bronze","Silver","Gold"].map(j=>I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:n.applicableTiers?.includes(j)||!1,onChange:()=>B(j)}),j]},j))}),I.jsx("textarea",{name:"description",placeholder:"Description",value:n.description||"",onChange:P,rows:3}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{onClick:$,style:{background:"#3a7c17ff",color:"white"},children:i?"Update":"Add"}),I.jsx("button",{onClick:()=>M(!1),style:{background:"#f13e1fff",color:"white"},children:"Cancel"})]})]})})]})]})}function Ooe(){const[t,e]=R.useState([]),[n,r]=R.useState({name:"",description:"",price:0,category:"",availability:!0}),[i,a]=R.useState(null),[u,g]=R.useState(!1),[m,d]=R.useState(!1),[v,w]=R.useState(null),[S,T]=R.useState(""),[N,M]=R.useState(null);R.useEffect(()=>{(async()=>{const G=(await wn(pt(Ge,"menu"))).docs.map(F=>({id:F.id,...F.data()}));e(G)})()},[]);const P=ee=>{const{name:j,value:G,type:F,checked:Z}=ee.target;r(z=>({...z,[j]:F==="checkbox"?Z:G}))},B=(ee,j)=>{w(ee),ee==="delete"&&j&&M(j),d(!0)},$=async()=>{if(S==="admin123"){if(v==="add"){if(i){const ee=wt(Ge,"menu",i);await Wt(ee,n),e(j=>j.map(G=>G.id===i?{id:i,...n}:G)),a(null)}else{const ee=await ta(pt(Ge,"menu"),n);e(j=>[...j,{id:ee.id,...n}])}X()}else v==="delete"&&N&&(await Eu(wt(Ge,"menu",N)),e(ee=>ee.filter(j=>j.id!==N)),M(null));d(!1),T("")}else alert("❌ Incorrect PIN!")},q=ee=>{ee.preventDefault(),B("add")},te=ee=>{const j=t.find(G=>G.id===ee);j&&(r({...j}),a(ee),g(!0))},X=()=>{r({name:"",description:"",price:0,category:"",availability:!0}),g(!1)};return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"menu-container",children:[I.jsx("h1",{children:"Reward Management"}),I.jsx("button",{onClick:()=>{X(),g(!0)},style:{padding:"10px 20px",background:"#5b1818ff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginBottom:"20px"},children:"+ Add Menu Item"}),I.jsxs("table",{className:"menu-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Name"}),I.jsx("th",{children:"Description"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Category"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:t.map(ee=>I.jsxs("tr",{children:[I.jsx("td",{children:ee.name}),I.jsx("td",{children:ee.description}),I.jsxs("td",{children:[ee.price," pts."]}),I.jsx("td",{children:ee.category}),I.jsx("td",{children:ee.availability?"Available":"Unavailable"}),I.jsxs("td",{children:[I.jsx("button",{onClick:()=>te(ee.id),style:{background:"#67ad42ff",color:"white",marginRight:"5px"},children:"Edit"}),I.jsx("button",{onClick:()=>B("delete",ee.id),style:{background:"#f13e1fff",color:"white"},children:"Delete"})]})]},ee.id))})]})]}),u&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h2",{children:i?"Edit Menu Item":"Add Menu Item"}),I.jsxs("form",{onSubmit:q,className:"menu-form",children:[I.jsx("input",{name:"name",placeholder:"Item Name",value:n.name,onChange:P,required:!0}),I.jsx("textarea",{name:"description",placeholder:"Description",value:n.description,onChange:P,required:!0}),I.jsx("input",{name:"price",type:"number",placeholder:"Price",value:n.price,onChange:P,required:!0}),I.jsxs("select",{name:"category",value:n.category,onChange:P,required:!0,children:[I.jsx("option",{value:"",children:"Category"}),I.jsx("option",{value:"Pork",children:"Pork"}),I.jsx("option",{value:"Beef",children:"Beef"}),I.jsx("option",{value:"Chicken",children:"Chicken"}),I.jsx("option",{value:"Sea Food",children:"Sea Food"}),I.jsx("option",{value:"Appetizer",children:"Appetizer"}),I.jsx("option",{value:"Soup",children:"Soup"}),I.jsx("option",{value:"Pasta",children:"Pasta"}),I.jsx("option",{value:"Vegetable",children:"Vegetable"}),I.jsx("option",{value:"Burger & Sandwiches",children:"Burger & Sandwiches"}),I.jsx("option",{value:"Bento",children:"Bento"}),I.jsx("option",{value:"Package Bundles",children:"Package Bundles"})]}),I.jsxs("label",{children:[I.jsx("input",{name:"availability",type:"checkbox",checked:n.availability,onChange:P}),"Available"]}),I.jsxs("button",{type:"submit",style:{background:"#67ad42ff",color:"white",marginRight:"5px"},children:[i?"Update":"Add"," Item"]}),I.jsx("button",{type:"button",onClick:X,style:{background:"#f13e1fff",color:"white"},children:"Cancel"})]})]})}),m&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h3",{children:"Enter Admin PIN"}),I.jsx("input",{type:"password",value:S,onChange:ee=>T(ee.target.value),placeholder:"Enter PIN"}),I.jsx("br",{}),I.jsx("button",{onClick:$,style:{background:"#67ad42ff",color:"white",marginRight:"5px"},children:"Confirm"}),I.jsx("button",{onClick:()=>d(!1),style:{background:"#f13e1fff",color:"white"},children:"Cancel"})]})})]})}const Ti=[];for(let t=0;t<256;++t)Ti.push((t+256).toString(16).slice(1));function Roe(t,e=0){return(Ti[t[e+0]]+Ti[t[e+1]]+Ti[t[e+2]]+Ti[t[e+3]]+"-"+Ti[t[e+4]]+Ti[t[e+5]]+"-"+Ti[t[e+6]]+Ti[t[e+7]]+"-"+Ti[t[e+8]]+Ti[t[e+9]]+"-"+Ti[t[e+10]]+Ti[t[e+11]]+Ti[t[e+12]]+Ti[t[e+13]]+Ti[t[e+14]]+Ti[t[e+15]]).toLowerCase()}let e2;const Noe=new Uint8Array(16);function Doe(){if(!e2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");e2=crypto.getRandomValues.bind(crypto)}return e2(Noe)}const Moe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AR={randomUUID:Moe};function zd(t,e,n){if(AR.randomUUID&&!t)return AR.randomUUID();t=t||{};const r=t.random??t.rng?.()??Doe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Roe(r)}const Poe=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(null),[i,a]=R.useState(0),[u,g]=R.useState(""),[m,d]=R.useState("GCash"),[v,w]=R.useState([]),[S,T]=R.useState(!1),[N,M]=R.useState(0),[P,B]=R.useState(null),[$,q]=R.useState("pending");R.useEffect(()=>{const z=il(pt(Ge,"walletRequests"),K=>{const U=K.docs.map(ue=>({id:ue.id,...ue.data()}));w(U)});return()=>z()},[]);const te=async()=>{if(!t.trim()){alert("Enter a mobile number to search");return}const z=gr(pt(Ge,"customers"),Ur("mobile","==",t.trim())),K=await wn(z);if(K.empty){alert("❌ Customer not found"),r(null);return}const U=K.docs[0],ue=U.data();r({id:U.id,email:ue.email,mobile:ue.mobile,balance:ue.wallet||0,logs:ue.logs||[]})},X=async()=>{if(!n){alert("Search a customer first");return}if(i<=0){alert("❌ Amount must be greater than 0");return}const z=n.balance+i,K={id:zd(),method:m,amount:i,date:new Date().toISOString().split("T")[0],type:"Over The Counter",referenceNo:u||void 0};await Wt(wt(Ge,"customers",n.id),{wallet:z,logs:[...n.logs,K]}),r({...n,balance:z,logs:[...n.logs,K]}),a(0),g(""),alert("✅ Wallet updated successfully!")},ee=z=>{B(z),M(0),T(!0)},j=async()=>{if(P){if(N<=0){alert("Enter valid amount");return}try{const z=gr(pt(Ge,"customers"),Ur("email","==",P.email)),K=await wn(z);if(K.empty){alert("❌ Customer not found for this request.");return}const U=K.docs[0],ue=U.data(),se=(ue.wallet||0)+N,oe={id:zd(),method:"GCash",amount:N,date:new Date().toISOString().split("T")[0],type:"request",referenceNo:P.referenceNo};await Wt(wt(Ge,"customers",U.id),{wallet:se,logs:[...ue.logs||[],oe]}),await Wt(wt(Ge,"walletRequests",P.id),{status:"approved"}),T(!1),B(null),M(0),alert("✅ Wallet request approved!")}catch(z){console.error(z),alert("❌ Failed to approve request.")}}},G=async z=>{try{await Wt(wt(Ge,"walletRequests",z),{status:"rejected"}),alert("❌ Request rejected.")}catch(K){console.error(K),alert("Failed to reject request.")}},F=async z=>{try{await Eu(wt(Ge,"walletRequests",z)),alert("🗑️ Request deleted!")}catch(K){console.error(K),alert("Failed to delete request.")}},Z=v.filter(z=>z.status===$);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"wallet-container",children:[I.jsx("h1",{className:"wallet-title",children:"Wallet System & Requests"}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"Search Customer"}),I.jsx("input",{type:"text",value:t,onChange:z=>e(z.target.value),placeholder:"Enter mobile number"}),I.jsx("button",{onClick:te,style:{background:"#5b1818ff",color:"white"},children:"Search"})]}),n&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"section customer-info",children:[I.jsx("h2",{children:"Customer Info"}),I.jsxs("p",{children:["👤 ",I.jsx("strong",{children:"Name:"})," ",n.email]}),I.jsxs("p",{children:["📱 ",I.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),I.jsxs("p",{children:["💳 ",I.jsx("strong",{children:"Wallet Balance:"})," ₱",n.balance.toFixed(2)]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"🔧 Manual Adjustment"}),I.jsxs("select",{value:m,onChange:z=>d(z.target.value),children:[I.jsx("option",{value:"GCash",children:"GCash"}),I.jsx("option",{value:"Cash",children:"Cash"})]}),I.jsx("input",{type:"number",value:i,onChange:z=>a(Number(z.target.value)),placeholder:"Enter amount"}),I.jsx("input",{type:"text",value:u,onChange:z=>g(z.target.value),placeholder:"Reference No. (optional)"}),I.jsx("button",{onClick:X,style:{background:"#5b1818ff",color:"white"},children:"Confirm Adjustment"})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"📜 Top-up Logs"}),n.logs.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"#"}),I.jsx("th",{children:"Method"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Type"}),I.jsx("th",{children:"Reference No."})]})}),I.jsx("tbody",{children:[...n.logs].sort((z,K)=>z.date<K.date?1:-1).map((z,K)=>I.jsxs("tr",{children:[I.jsx("td",{children:K+1}),I.jsx("td",{children:z.method}),I.jsxs("td",{children:["₱",z.amount.toFixed(2)]}),I.jsx("td",{children:z.date}),I.jsx("td",{children:z.type}),I.jsx("td",{children:z.referenceNo||"-"})]},z.id))})]}):I.jsx("p",{className:"empty-log",children:"No logs available."})]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"📥 Wallet Requests"}),I.jsx("div",{style:{marginBottom:"10px"},children:I.jsxs("label",{children:[I.jsx("strong",{children:"Filter:"})," ",I.jsxs("select",{value:$,onChange:z=>q(z.target.value),children:[I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"approved",children:"Approved"})]})]})}),Z.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Email"}),I.jsx("th",{children:"Reference No."}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:Z.map(z=>I.jsxs("tr",{children:[I.jsx("td",{children:z.email}),I.jsx("td",{children:z.referenceNo}),I.jsx("td",{children:z.status}),I.jsx("td",{children:z.status==="pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{onClick:()=>ee(z),style:{background:"#6dff50ff",color:"black"},children:"Approve"}),I.jsx("button",{onClick:()=>G(z.id),style:{background:"#ff6150ff",color:"white"},children:"Reject"})]}):I.jsx("button",{onClick:()=>F(z.id),style:{background:"#ff4444ff",color:"white"},children:"Delete"})})]},z.id))})]}):I.jsxs("p",{children:["No ",$," requests found."]})]})]}),S&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-box",children:[I.jsx("h2",{children:"Approve Wallet Request"}),I.jsxs("p",{children:["Enter amount to add for ",I.jsx("strong",{children:P?.email})]}),I.jsx("input",{type:"number",value:N,onChange:z=>M(Number(z.target.value)),placeholder:"Enter amount"}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{onClick:j,style:{background:"#cfffc6ff",color:"black"},children:"Confirm"}),I.jsx("button",{onClick:()=>T(!1),children:"Cancel"})]})]})})]})};function p0(){const[t,e]=R.useState(!1),[n,r]=R.useState(0),[i,a]=R.useState(0);return R.useEffect(()=>{const u=gr(pt(Ge,"walletRequests"),Ur("status","==","pending")),g=il(u,m=>{r(m.size)});return()=>g()},[]),R.useEffect(()=>{const u=gr(pt(Ge,"orders"),Ur("status","==","Pending")),g=il(u,m=>{a(m.size)});return()=>g()},[]),I.jsxs(I.Fragment,{children:[I.jsxs("aside",{className:`sidebar ${t?"hidden":""}`,"aria-hidden":t,children:[I.jsx("h2",{className:"sidebar-title",children:"Staff Panel"}),I.jsxs("nav",{className:"sidebar-nav",children:[I.jsx(xa,{to:"/take-order",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Take-Order"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(xa,{to:"/promo-redemption",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Promo"}),I.jsxs(xa,{to:"/orders-staff",className:({isActive:u})=>u?"sidebar-link active order-link":"sidebar-link order-link",children:["Order",i>0&&I.jsx("span",{className:" order-badge",children:i})]}),I.jsx("div",{className:"sidebar-separator"}),I.jsxs(xa,{to:"/wallet-staff",className:({isActive:u})=>u?"sidebar-link active wallet-link":"sidebar-link wallet-link",children:["Wallet Requests",n>0&&I.jsx("span",{className:"notification-badge",children:n})]}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(xa,{to:"/",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Logout"})]})]}),I.jsx("button",{className:"toggle-btn",onClick:()=>e(u=>!u),"aria-pressed":!t,"aria-label":t?"Open sidebar":"Close sidebar",children:t?I.jsx(YR,{size:20}):I.jsx(WR,{size:20})})]})}const Loe={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},koe=mm(Loe),Va=lw(koe);function joe(){const[t,e]=R.useState([{id:1,name:"",price:0,qty:1}]),[n,r]=R.useState([]),[i,a]=R.useState([]),[u,g]=R.useState(""),[m,d]=R.useState(null),[v,w]=R.useState(!1),[S,T]=R.useState([]),[N,M]=R.useState(null),[P,B]=R.useState(null),[$,q]=R.useState(!1),[te,X]=R.useState(!1),[ee,j]=R.useState([]),[G,F]=R.useState(null),[Z,z]=R.useState(null),[K,U]=R.useState(""),[ue,se]=R.useState(!1),[oe,ce]=R.useState(null),[Te,Ve]=R.useState(null),[ae,be]=R.useState(null),[Ie,je]=R.useState(null),[Ye,rt]=R.useState(null),[Ue,Pn]=R.useState(!1),[vt,De]=R.useState(null),[ht,it]=R.useState(""),[Be,st]=R.useState(null),[Tt,tn]=R.useState(null),[Xn,jt]=R.useState(!1);R.useEffect(()=>{if(!m)return;(async()=>{try{const ut=pt(Va,"promotions"),Bt=await wn(ut),dt=[];Bt.forEach(bt=>{dt.push({promoId:bt.id,...bt.data()})});const ke=dt.filter(bt=>{const Ft=!bt.tier||bt.tier===m.tier,un=!bt.favoriteCategory||bt.favoriteCategory===m.favoriteCategory;return Ft&&un});j(ke)}catch(ut){console.error("Error fetching promos:",ut),j([])}})()},[m]);const Jt=async()=>{if(!ht)return alert("Enter a mobile number to search.");try{const tt=gr(pt(Va,"customers"),Ur("mobile","==",ht)),ut=await wn(tt);if(ut.empty)st(null),d(null),tn("❌ No customer found with this mobile number.");else{const Bt=ut.docs[0],dt=Bt.data();st({id:Bt.id,...dt}),d({id:Bt.id,...dt}),tn(`✅ Customer found: ${dt.fullName}`)}}catch(tt){console.error("Error searching customer:",tt),st(null),d(null),tn("❌ Error occurred during search.")}},It=t.reduce((tt,ut)=>tt+ut.price*ut.qty,0),xn=+It.toFixed(2),$e=+(It*.05).toFixed(2);R.useEffect(()=>{(async()=>{const ut=await wn(pt(Va,"menu")),Bt=[],dt=new Set;ut.forEach(ke=>{const bt=ke.data(),Ft=Number(bt.price)||0;Bt.push({id:ke.id,...bt,price:Ft}),bt.category&&dt.add(bt.category.trim())}),r(Bt),a(Array.from(dt))})()},[]);const Ys=()=>{const ut={id:t.length?t[t.length-1].id+1:1,name:"",price:0,qty:1};e(Bt=>[...Bt,ut])},pi=(tt,ut,Bt)=>{e(dt=>dt.map(ke=>ke.id===tt?{...ke,[ut]:Bt}:ke))},yi=tt=>{e(ut=>ut.filter(Bt=>Bt.id!==tt))},$s=tt=>{g(tt.target.value)},Yt=()=>{w(!0);const tt=new Mf("reader",{fps:10,qrbox:{width:250,height:250}},!1);tt.render(async ut=>{try{const Bt=wt(Va,"customers",ut),dt=await Qa(Bt);if(dt.exists()){const ke=dt.data();d({id:ut,...ke}),alert("✅ Customer found and linked!")}else alert("❌ Customer not found!")}catch(Bt){console.error("Error fetching customer:",Bt)}await tt.clear().catch(()=>{}),w(!1)},ut=>console.warn(ut))},nn=async()=>{if(t.length===0||t.every(tt=>tt.name===""))return alert("❌ Add at least one item before proceeding with payment.");if(!m)return alert("❌ No customer selected.");if(!Z)return alert("❌ Select a payment method first.");if(Z==="ewallet"&&K.trim()==="")return alert("❌ Please enter a valid E-Wallet Reference Number before proceeding.");try{const tt=wt(Va,"customers",m.id),ut=+(It*.05).toFixed(2),Bt=+(Number(m.points||0)+ut).toFixed(2),dt=+(Number(m.totalSpent||0)+xn).toFixed(2);await Wt(tt,{points:Bt,totalSpent:dt});const ke=`ORD-${Date.now()}`,bt=Z==="cash"?"Cash":"E-Wallet";await ta(pt(Va,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:ke,amount:xn,paymentMethod:bt,type:Z,status:"Completed",date:vn.now(),items:t,pointsEarned:ut,...Z==="ewallet"?{referenceNo:K}:{}}),await ta(pt(Va,"customers",m.id,"transactions"),{orderId:ke,amount:xn,paymentMethod:bt,type:Z,status:"Completed",date:vn.now(),items:t,pointsEarned:ut,...Z==="ewallet"?{referenceNo:K}:{}}),await Vd(m.id),alert(`✅ Paid using ${Z==="cash"?"Cash":"E-Wallet"}${Z==="ewallet"?`
Reference No: ${K}`:""}
${ut} points added to ${m.fullName}.`),d({...m,points:Bt}),e([{id:1,name:"",price:0,qty:1}]),U(""),z(null)}catch(tt){console.error("Payment Error:",tt),alert("❌ Something went wrong while processing payment.")}},rr=async()=>{if(t.length===0||t.every(ke=>ke.name===""))return alert("❌ Add at least one item before proceeding with payment.");if(!m)return alert("No customer selected.");if((m.points||0)<xn)return alert(`❌ Not enough points. Required: ${xn}`);const tt=wt(Va,"customers",m.id),ut=+(Number(m.points)-xn).toFixed(2),Bt=+(Number(m.totalSpent||0)+xn).toFixed(2),dt=`ORD-${Date.now()}`;await Wt(tt,{points:ut,totalSpent:+Bt.toFixed(2)}),await ta(pt(Va,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:dt,amount:xn,paymentMethod:"Points",status:"Completed",date:vn.now(),items:t,pointsEarned:0}),await ta(pt(Va,"customers",m.id,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:dt,amount:xn,paymentMethod:"Points",status:"Completed",date:vn.now(),items:t,pointsEarned:0}),alert(`✅ Paid using Points! ${xn} points deducted.`),d({...m,points:ut}),e([{id:1,name:"",price:0,qty:1}])},rn=async()=>{if(t.length===0||t.every(bt=>bt.name===""))return alert("❌ Add at least one item before proceeding with payment.");if(!m)return alert("No customer selected.");if((m.wallet||0)<xn)return alert(`❌ Not enough wallet balance. Required: ₱${xn}`);const tt=wt(Va,"customers",m.id),ut=+(Number(m.wallet)-xn).toFixed(2),Bt=+(Number(m.points||0)+$e).toFixed(2),dt=+(Number(m.totalSpent||0)+xn).toFixed(2),ke=`ORD-${Date.now()}`;await Wt(tt,{wallet:ut,points:Bt,totalSpent:+dt.toFixed(2)}),await ta(pt(Va,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:ke,amount:xn,paymentMethod:"Wallet",status:"Completed",date:vn.now(),items:t,pointsEarned:$e}),await ta(pt(Va,"customers",m.id,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:ke,amount:xn,paymentMethod:"Wallet",status:"Completed",date:vn.now(),items:t,pointsEarned:$e}),await Vd(m.id),alert(`✅ Paid using Wallet! ₱${xn} deducted. ${$e} points earned.`),d({...m,wallet:ut,points:Bt}),e([{id:1,name:"",price:0,qty:1}])};return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"assisted-ordering",children:[I.jsx("h2",{children:"Take Order"}),I.jsxs("div",{className:"columns",children:[I.jsxs("div",{className:"column",children:[I.jsx("h3",{children:"Order Items"}),I.jsx("label",{children:"Category:"}),I.jsxs("select",{value:u,onChange:$s,children:[I.jsx("option",{value:"",children:"Select Category"}),i.map(tt=>I.jsx("option",{value:tt,children:tt},tt))]}),t.map(tt=>I.jsxs("div",{className:"order-item",children:[I.jsxs("select",{value:tt.name,onChange:ut=>{const Bt=ut.target.value,dt=n.find(ke=>ke.name===Bt&&(u?ke.category.trim().toLowerCase()===u.trim().toLowerCase():!0));dt?(pi(tt.id,"name",dt.name),pi(tt.id,"price",Number(dt.price)),pi(tt.id,"category",dt.category)):(pi(tt.id,"name",Bt),pi(tt.id,"price",0),pi(tt.id,"category",u||"Uncategorized"))},disabled:!u,children:[I.jsx("option",{value:"",children:u?"Select Item":"Select a category first"}),u&&n.filter(ut=>ut.category.trim().toLowerCase()===u.trim().toLowerCase()).map(ut=>I.jsxs("option",{value:ut.name,disabled:!ut.availability,children:[ut.name," ",ut.availability?"":"(Unavailable)"]},ut.id))]}),I.jsx("input",{type:"number",value:tt.qty,onChange:ut=>pi(tt.id,"qty",Number(ut.target.value)),placeholder:"Qty"}),I.jsx("input",{type:"number",value:tt.price,readOnly:!0,placeholder:"Price"}),I.jsx("button",{onClick:()=>yi(tt.id),children:"✖"})]},tt.id)),I.jsx("button",{onClick:Ys,style:{marginLeft:10,background:"#673000ff",color:"white  "},children:"+ Add Item"}),I.jsxs("div",{className:"order-summary-list",style:{marginTop:"18px"},children:[I.jsx("h3",{children:"Current Items:"}),I.jsx("ul",{children:t.map((tt,ut)=>I.jsxs("li",{children:[I.jsx("b",{children:tt.name||I.jsx("i",{children:"No item selected"})})," (",tt.category||"—",") × ",tt.qty," — ₱",(tt.price*tt.qty).toFixed(2)]},tt.id||ut))})]}),I.jsxs("div",{className:"summary",children:[I.jsxs("p",{children:["Subtotal: ₱",It.toFixed(2)]}),I.jsxs("p",{children:["Total: ₱",xn.toFixed(2)]}),I.jsxs("p",{children:["Earnable Points: ",$e]})]})]}),I.jsxs("div",{className:"column",children:[I.jsx("h3",{children:"Action"}),I.jsx("hr",{style:{margin:"20px 0"}}),I.jsxs("div",{children:[I.jsx("input",{type:"text",placeholder:"Enter mobile number",value:ht,onChange:tt=>it(tt.target.value)}),I.jsx("button",{onClick:Jt,style:{marginLeft:10,background:"#ffffffff",color:"black"},children:"🔍 Search"})]}),I.jsx("button",{onClick:Yt,style:{marginTop:10,background:"#673000ff",color:"white  "},children:"📷 Scan Customer QR (Optional)"}),v&&I.jsx("div",{id:"reader",style:{width:350,height:300,marginTop:10}}),m&&I.jsxs("div",{style:{marginTop:15,padding:15,border:"1px solid #ccc",borderRadius:8,background:"#fafafa"},children:[I.jsxs("p",{children:[I.jsx("b",{children:"Name:"})," ",m.fullName]}),I.jsxs("p",{children:[I.jsx("b",{children:"Tier:"})," ",m.tier||"—"]}),I.jsxs("p",{children:[I.jsx("b",{children:"Points:"})," ",m.points??0]}),I.jsxs("p",{children:[I.jsx("b",{children:"Wallet:"})," ₱",m.wallet??0]})]}),m&&I.jsx("div",{style:{marginTop:15},children:I.jsxs("div",{className:"payment-section",children:[I.jsx("h3",{children:"Choose Payment Method"}),I.jsxs("div",{className:"payment-buttons",children:[I.jsx("button",{onClick:rr,style:{background:"#ffc34bff",color:"#383838ff"},children:" Points Balance"}),I.jsx("button",{onClick:rn,style:{background:"#14d7caff",color:"#383838ff"},children:"Wallet Balance"}),I.jsx("button",{onClick:()=>z("cash"),className:Z==="cash"?"active":"",style:{background:"#ae6a0cff",color:"#ffffffff"},children:"Cash"}),I.jsx("button",{onClick:()=>z("ewallet"),className:Z==="ewallet"?"active":"",style:{background:"#1cc451ff",color:"white"},children:"Pay using E-Wallet"})]}),Z==="ewallet"&&I.jsxs("div",{className:"ewallet-input",children:[I.jsx("label",{children:"E-Wallet Reference No.:"}),I.jsx("input",{type:"text",value:K,onChange:tt=>U(tt.target.value),placeholder:"Enter Reference No."})]}),Z&&I.jsx("button",{onClick:nn,className:"proceed-btn",style:{background:"#f1bf48ff",color:"#383838ff"},children:"Proceed Payment"})]})}),Tt&&I.jsx("p",{style:{marginTop:10},children:Tt})]})]})]})]})}const SR=async t=>{try{const e=pt(Ge,"customers",t),n=await wn(e);let r=0;return n.forEach(i=>{const a=i.data();a.pointsEarned&&(r+=a.pointsEarned)}),r}catch(e){return console.error("Error fetching total earned points:",e),0}},Boe=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(null),[i,a]=R.useState([]),[u,g]=R.useState(null),[m,d]=R.useState(""),[v,w]=R.useState(""),[S,T]=R.useState(!1),[N,M]=R.useState(!1),[P,B]=R.useState(""),[$,q]=R.useState(0),te=async()=>{if(B(""),r(null),a([]),g(null),!t.trim()){B("Please enter a name or mobile number.");return}try{const F=pt(Ge,"customers"),Z=gr(F,Ur("fullName","==",t)),z=gr(F,Ur("mobile","==",t)),[K,U]=await Promise.all([wn(Z),wn(z)]);let ue=null;if(K.empty?U.empty||(ue=U.docs[0]):ue=K.docs[0],!ue){B("Customer not found.");return}const se=ue.data();r(se),ee(se);const oe=await SR(se.email);q(oe),B("✅ Customer loaded successfully.")}catch(F){console.error("Error fetching customer:",F),B("Error loading customer.")}},X=()=>{T(!0);const F=new Mf("customerReader",{fps:10,qrbox:250},!1);F.render(async Z=>{try{const z=Z.trim(),K=wt(Ge,"customers",z),U=await Qa(K);if(!U.exists()){B("Customer not found via QR."),F.clear(),T(!1);return}const ue=U.data();r(ue),ee(ue);const se=await SR(ue.email);q(se),B("✅ Customer loaded via QR successfully."),F.clear(),T(!1)}catch(z){console.error("QR error:",z),B("Error scanning customer QR."),F.clear(),T(!1)}})},ee=async F=>{try{const Z=await wn(pt(Ge,"promotions")),z=new Date,U=Z.docs.map(ue=>({id:ue.id,...ue.data()})).filter(ue=>{const se=!ue.startDate||new Date(ue.startDate)<=z,oe=!ue.endDate||new Date(ue.endDate)>=z,ce=ue.applicableTiers?.length===0||ue.applicableTiers?.includes(F.tier),Te=ue.promoType==="global"||ue.promoType==="personalized"&&ue.category===F.favoriteCategory;return se&&oe&&ce&&Te});a(U)}catch(Z){console.error("Error fetching promos:",Z),B("Error loading promotions.")}},j=()=>{M(!0);const F=new Mf("promoReader",{fps:10,qrbox:250},!1);F.render(async Z=>{try{let z;try{z=JSON.parse(Z)}catch{B("Invalid promo QR format."),F.clear(),M(!1);return}if(z.type!=="PROMO"||!z.promoId){B("Unrecognized promo QR."),F.clear(),M(!1);return}const K=wt(Ge,"promotions",z.promoId),U=await Qa(K);if(!U.exists()){B("Promo not found."),F.clear(),M(!1);return}const ue=U.data();ue.applicableTiers?.includes(n?.tier||"")&&(ue.promoType==="global"||ue.promoType==="personalized"&&ue.category===n?.favoriteCategory)?(g({id:z.promoId,...ue}),B(`✅ Promo "${ue.title}" is valid for this customer.`)):B("❌ Customer not eligible for this promo."),F.clear(),M(!1)}catch(z){console.error("Promo QR error:",z),B("Error scanning promo QR."),F.clear(),M(!1)}})},G=async()=>{if(!u||!m||!n){B("Please select a promo and payment method.");return}if(m==="E-Wallet"&&!v.trim()){B("Please enter the E-Wallet reference number.");return}try{const F=wt(Ge,"customers",n.email),Z={...n};let z=0;const K=(Z.totalSpent||0)+u.price;if(Z.totalSpent=K,await Wt(F,{totalSpent:K}),m==="Points"){if(n.points<u.price){B("❌ Not enough points for this promo.");return}Z.points-=u.price,await Wt(F,{points:Z.points})}if(m==="Wallet"){const ue=n.wallet||0;if(ue<u.price){B("❌ Not enough wallet balance.");return}Z.wallet=ue-u.price,z=Math.floor(u.price*.05),Z.points=(Z.points||0)+z,await Wt(F,{wallet:Z.wallet,points:Z.points}),q(se=>se+z)}m==="Cash"&&(z=Math.floor(u.price*.05),Z.points=(Z.points||0)+z,await Wt(F,{points:Z.points}),q(ue=>ue+z)),m==="E-Wallet"&&(z=Math.floor(u.price*.05),Z.points=(Z.points||0)+z,await Wt(F,{points:Z.points}),q(ue=>ue+z)),r(Z);const U={orderId:zd(),customerId:n.email,fullName:n.fullName,items:[{name:u.title,category:"Promo",price:u.price,qty:1}],amount:u.price,paymentMethod:m,referenceNo:m==="E-Wallet"?v:"",promoType:u.promoType,status:"Completed",pointsEarned:z,date:Vn()};await ta(pt(Ge,"transactions"),U),await ta(pt(Ge,"globalTransactions"),U),await ta(pt(Ge,"customers",n.email,"transactions"),U),await Vd(n.email),B(`✅ Promo "${u.title}" redeemed successfully using ${m.toUpperCase()}. Points earned: ${z}`),g(null),d(""),w("")}catch(F){console.error("Redeem error:",F),B("❌ Error processing transaction.")}};return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"promo-container",children:[I.jsx("h2",{children:"Promo Redemption"}),I.jsxs("div",{className:"search-section",children:[I.jsx("input",{type:"text",placeholder:"Search by name or mobile",value:t,onChange:F=>e(F.target.value)}),I.jsx("button",{onClick:te,style:{background:"#693500ff",color:"white"},children:"Search"}),I.jsx("button",{onClick:X,style:{background:"#693500ff",color:"white"},children:"Scan Customer QR"}),S&&I.jsx("div",{id:"customerReader",className:"qr-scanner active"})]}),n&&I.jsxs("div",{className:"customer-info",children:[I.jsx("h3",{children:"Customer Info"}),I.jsxs("p",{children:[I.jsx("strong",{children:"Name:"})," ",n.fullName]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Email:"})," ",n.email]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Tier:"})," ",n.tier]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Favorite Category:"})," ",n.favoriteCategory]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Points:"})," ",n.points]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Wallet Balance:"})," ₱",n.wallet||0]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Total Spent:"})," ₱",n.totalSpent||0]})]}),n&&I.jsxs("div",{children:[I.jsx("h3",{children:"Eligible Promos"}),I.jsx("button",{onClick:j,style:{background:"#693500ff",color:"white"},children:"Scan Promo QR"}),N&&I.jsx("div",{id:"promoReader",className:"qr-scanner active"}),i.length>0?i.map(F=>I.jsxs("div",{className:`promo-card ${u?.id===F.id?"selected":""}`,onClick:()=>g(F),children:[I.jsx("h4",{children:F.title}),I.jsx("p",{children:F.description}),I.jsxs("small",{children:["₱",F.price," | Type: ",F.promoType]})]},F.id)):I.jsx("p",{children:"No eligible promos found."})]}),u&&I.jsxs("div",{className:"payment-section",children:[I.jsx("h3",{children:"Payment Method"}),I.jsxs("select",{value:m,onChange:F=>d(F.target.value),children:[I.jsx("option",{value:"",children:"-- Select Payment --"}),I.jsx("option",{value:"Points",children:"Points"}),I.jsx("option",{value:"Wallet",children:"Wallet"}),I.jsx("option",{value:"Cash",children:"Cash"}),I.jsx("option",{value:"E-Wallet",children:"E-Wallet"})]}),m==="E-Wallet"&&I.jsx("input",{type:"text",placeholder:"Enter E-Wallet Reference Number",value:v,onChange:F=>w(F.target.value),style:{marginTop:"10px",padding:"8px",border:"1px solid #ccc",borderRadius:"6px",width:"100%"}}),I.jsx("button",{onClick:G,style:{background:"#693500ff",color:"white",marginTop:"10px"},children:"Confirm"})]}),P&&I.jsx("p",{className:"message",children:P})]})]})};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Foe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_R=t=>{const e=Foe(t);return e.charAt(0).toUpperCase()+e.slice(1)},l9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Voe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...g},m)=>R.createElement("svg",{ref:m,...zoe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:l9("lucide",i),...!a&&!Voe(g)&&{"aria-hidden":"true"},...g},[...u.map(([d,v])=>R.createElement(d,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(Hoe,{ref:a,iconNode:e,className:l9(`lucide-${Uoe(_R(t))}`,`lucide-${t}`,r),...i}));return n.displayName=_R(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Woe=qoe("star",Goe),Yoe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(""),[i,a]=R.useState("All"),[u,g]=R.useState(!0);R.useEffect(()=>{(async()=>{g(!0);try{const v=gr(pt(Ge,"feedbacks"),pw("createdAt","desc")),S=(await wn(v)).docs.map(T=>{const N=T.data();return{id:T.id,customerId:N.customerId??"N/A",orderId:N.orderId??"N/A",rating:N.rating??0,comment:N.comment??"",createdAt:N.createdAt?.toDate()??new Date}});e(S)}catch(v){console.error("Error loading feedbacks:",v)}finally{g(!1)}})()},[]);const m=R.useMemo(()=>t.filter(d=>{const v=d.customerId.toLowerCase().includes(n.toLowerCase())||d.orderId.toLowerCase().includes(n.toLowerCase())||d.comment.toLowerCase().includes(n.toLowerCase()),w=i==="All"||d.rating===i;return v&&w}),[t,n,i]);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"feedback-container",children:[I.jsx("h2",{className:"feedback-header",children:"Customer Feedbacks"}),I.jsxs("div",{className:"feedback-controls",children:[I.jsx("input",{type:"text",placeholder:"Search by customer, order, or comment...",value:n,onChange:d=>r(d.target.value),className:"feedback-search"}),I.jsxs("select",{value:i,onChange:d=>a(d.target.value==="All"?"All":parseInt(d.target.value)),className:"feedback-filter",children:[I.jsx("option",{value:"All",children:"All Ratings"}),[5,4,3,2,1].map(d=>I.jsxs("option",{value:d,children:[d," Stars"]},d))]})]}),u?I.jsx("p",{children:"Loading feedback..."}):m.length===0?I.jsx("p",{children:"No feedback found."}):I.jsx("div",{className:"feedback-table-wrapper",children:I.jsxs("table",{className:"feedback-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Rating"}),I.jsx("th",{children:"Comment"}),I.jsx("th",{children:"Date"})]})}),I.jsx("tbody",{children:m.map(d=>I.jsxs("tr",{children:[I.jsx("td",{children:d.customerId}),I.jsx("td",{children:[...Array(5)].map((v,w)=>I.jsx(Woe,{size:18,color:w<d.rating?"#f9a825":"#ccc",fill:w<d.rating?"#f9a825":"none"},w))}),I.jsx("td",{children:d.comment||I.jsx("em",{children:"No comment"})}),I.jsx("td",{children:d.createdAt.toLocaleString()})]},d.id))})]})})]})]})},$oe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!0),[i,a]=R.useState(!1),[u,g]=R.useState(null),[m,d]=R.useState(null),[v,w]=R.useState(!1),[S,T]=R.useState("Pending");t.filter(U=>U.status===S);const[N,M]=R.useState(null),[P,B]=R.useState(!1),[$,q]=R.useState(null),[te,X]=R.useState(0),ee=async(U=null)=>{try{r(!0);let ue;if(U){const oe=gr(pt(Ge,"orders"),Ur("customerId","==",U));ue=await wn(oe)}else ue=await wn(pt(Ge,"orders"));const se=ue.docs.map(oe=>{const ce=oe.data(),Te=ce.placedAt||ce.date||"";let Ve="";Te?.toDate?Ve=Te.toDate().toISOString().split("T")[0]:typeof Te=="string"&&(Ve=Te.split("T")[0]);const ae=Array.isArray(ce.items)?ce.items:[],be=ce.paidByWallet?"Wallet":ce.paymentMethod||(ce.type==="points-used"?"Points":"Cash");return{id:oe.id,customerEmail:ce.customerId||"N/A",date:Ve,amount:ce.subtotal||ce.total||ce.amount||0,status:ce.status||"Pending",items:ae,paymentMethod:be,paidByWallet:!!ce.paidByWallet,pointsEarned:ce.pointsEarned||0,instructions:ce.instructions||""}});e(se)}catch(ue){console.error("Error fetching orders:",ue)}finally{r(!1)}};R.useEffect(()=>{ee()},[]);const j=async({customerEmail:U,customerName:ue,orderId:se,amount:oe,paymentMethod:ce,type:Te,status:Ve,date:ae,items:be,pointsEarned:Ie=0})=>{await ta(pt(Ge,"transactions"),{orderId:se,amount:oe,paymentMethod:ce,type:Te,status:Ve,date:ae,items:be,customerId:U,fullName:ue,pointsEarned:Ie}),await ta(pt(Ge,"customers",U,"transactions"),{orderId:se,amount:oe,paymentMethod:ce,type:Te,status:Ve,date:ae,items:be,customerId:U,fullName:ue,pointsEarned:Ie})},G=async(U,ue,se)=>{const oe=wt(Ge,"customers",U.customerEmail),Te=(await Qa(oe)).data();await Wt(oe,{points:(Te.points||0)-se,totalSpent:(Te.totalSpent||0)+U.amount,updatedAt:Vn()}),await Wt(wt(Ge,"orders",U.id),{status:"Completed",paymentMethod:se===U.amount?"Points":"Mix",updatedAt:Vn()}),await j({customerEmail:U.customerEmail,customerName:ue,orderId:U.id,amount:U.amount,paymentMethod:se===U.amount?"Points":"Mix",type:se===U.amount?"points-used":"mixed-payment",status:"Completed",date:Vn(),items:U.items}),await Vd(U.customerEmail),alert("✅ Order completed successfully."),ee(u)},F=async U=>{try{const ue=wt(Ge,"customers",U.customerEmail),se=await Qa(ue);if(!se.exists()){alert("❌ Customer not found.");return}const oe=se.data(),ce=oe.points||0,Te=oe.wallet||0,Ve=U.amount;if(ce>=Ve){await G(U,oe.fullName||"N/A",Ve);return}M(U),X(ce),B(!0)}catch(ue){console.error("Error completing order:",ue),alert("❌ Failed to complete order.")}},Z=async U=>{if(!N)return;const ue=wt(Ge,"customers",N.customerEmail),oe=(await Qa(ue)).data(),ce=oe.fullName||"N/A",Te=oe.points||0,Ve=oe.wallet||0,ae=N.amount;let be=Math.min(Te,ae),Ie=ae-be;if(U==="Cash")await Wt(ue,{points:Te-be,totalSpent:(oe.totalSpent||0)+ae,updatedAt:Vn()}),await Wt(wt(Ge,"orders",N.id),{status:"Completed",paymentMethod:be>0?"Points + Cash":"Cash",updatedAt:Vn()}),await j({customerEmail:N.customerEmail,customerName:ce,orderId:N.id,amount:ae,paymentMethod:be>0?"Points + Cash":"Cash",type:be>0?"points-cash":"cash",status:"Completed",date:Vn(),items:N.items}),alert(`✅ Order completed using ${be} points + ₱${Ie} cash.`);else if(U==="Wallet"){if(Ve<Ie){alert("❌ Not enough wallet balance to complete payment!");return}await Wt(ue,{points:Te-be,wallet:Ve-Ie,totalSpent:(oe.totalSpent||0)+ae,updatedAt:Vn()}),await Wt(wt(Ge,"orders",N.id),{status:"Completed",paymentMethod:be>0?"Points + Wallet":"Wallet",paidByWallet:!0,updatedAt:Vn()}),await j({customerEmail:N.customerEmail,customerName:ce,orderId:N.id,amount:ae,paymentMethod:be>0?"Points + Wallet":"Wallet",type:be>0?"points-wallet":"wallet",status:"Completed",date:Vn(),items:N.items}),alert(`✅ Order completed using ${be} points + ₱${Ie} from wallet.`)}B(!1),M(null),ee(u)},z=async(U,ue)=>{if(confirm("Are you sure you want to cancel this order?"))try{const se=wt(Ge,"orders",U);await Wt(se,{status:"Canceled",updatedAt:Vn()});const oe=gr(pt(Ge,"transactions"),Ur("orderId","==",U)),ce=await wn(oe);for(const ae of ce.docs)await Wt(wt(Ge,"transactions",ae.id),{status:"Canceled",updatedAt:Vn()});const Te=gr(pt(Ge,"customers",ue,"transactions"),Ur("orderId","==",U)),Ve=await wn(Te);for(const ae of Ve.docs)await Wt(wt(Ge,"customers",ue,"transactions",ae.id),{status:"Canceled",updatedAt:Vn()});alert("🚫 Order has been marked as Canceled."),ee(u)}catch(se){console.error("Error canceling order:",se),alert("❌ Failed to cancel order.")}},K=()=>{a(!0);const U=new Mf("reader",{fps:10,qrbox:{width:250,height:250}},!1);U.render(async ue=>{try{const se=wt(Ge,"customers",ue),oe=await Qa(se);oe.exists()?(g(ue),alert(`✅ Showing orders for: ${oe.data().fullName}`),ee(ue)):alert("❌ Customer not found!")}catch(se){console.error("Error scanning QR:",se)}U.clear().catch(()=>{}),a(!1)},ue=>console.warn(ue))};return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"p-6 ml-64",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Redeem Orders"}),I.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[I.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",style:{background:"#693500ff",color:"white",marginTop:"10px"},children:"📷 Scan QR to Filter"}),u&&I.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition",onClick:()=>{g(null),ee()},children:"🔁 Show All"}),I.jsxs("select",{value:S,onChange:U=>T(U.target.value),className:"px-3 py-2 border rounded-lg",children:[I.jsx("option",{value:"Pending",children:"Pending"}),I.jsx("option",{value:"Completed",children:"Completed"})]})]}),i&&I.jsx("div",{id:"reader",className:"w-[300px] h-[300px] border-2 border-gray-300 mb-4"}),n?I.jsx("p",{children:"Loading orders..."}):t.filter(U=>U.status===S).length===0?I.jsx("p",{children:"No orders found."}):I.jsx("div",{className:"table-wrapper",children:I.jsxs("table",{className:"orders-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Order ID"}),I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Items"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Payment"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:t.filter(U=>U.status===S).map(U=>I.jsxs("tr",{children:[I.jsx("td",{children:U.id}),I.jsx("td",{children:U.customerEmail}),I.jsx("td",{children:U.date}),I.jsx("td",{children:U.items.length?U.items.map(ue=>ue.name).join(", "):"N/A"}),I.jsxs("td",{children:[U.amount.toFixed(2)," pts."]}),I.jsx("td",{children:"Points"}),I.jsx("td",{children:I.jsx("span",{className:`order-status ${U.status.toLowerCase()}`,children:U.status})}),I.jsx("td",{children:U.status==="Pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{className:"complete-btn",onClick:()=>F(U),style:{background:"#ffca61",color:"white"},children:"Complete"}),I.jsx("button",{className:"cancel-btn",onClick:()=>z(U.id,U.customerEmail),style:{background:"#ff2600",color:"white"},children:"Cancel"})]}):U.status==="Completed"?I.jsx("button",{className:"delete-btn",onClick:async()=>{if(confirm("🗑️ Are you sure you want to delete this completed order?"))try{await Eu(wt(Ge,"orders",U.id)),alert("✅ Order deleted successfully!"),ee(u)}catch(ue){console.error("Error deleting order:",ue),alert("❌ Failed to delete order.")}},style:{background:"#d32f2f",color:"white"},children:"Delete"}):null})]},U.id))})]})}),P&&N&&I.jsx("div",{className:"payment-modal",children:I.jsxs("div",{className:"payment-modal-content",children:[I.jsx("h3",{children:"Not enough points"}),I.jsxs("p",{children:["Customer has only ",te," points, order costs ₱",N.amount,".",I.jsx("br",{}),"Choose how to pay:"]}),I.jsxs("div",{className:"payment-options",children:[I.jsx("button",{onClick:()=>Z("Cash"),style:{background:"#00c30dff",color:"white",marginTop:"10px"},children:" Cash"}),I.jsx("button",{onClick:()=>Z("Wallet"),style:{background:"#007cd5ff",color:"white",marginTop:"10px"},children:"Wallet Balance"})]}),I.jsx("button",{className:"cancel-btn",onClick:()=>{B(!1),M(null)},style:{background:"#ffffffff",color:"black"},children:"Close"})]})})]})]})},Xoe=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(null),[i,a]=R.useState(0),[u,g]=R.useState(""),[m,d]=R.useState("GCash"),[v,w]=R.useState([]),[S,T]=R.useState(!1),[N,M]=R.useState(0),[P,B]=R.useState(null),[$,q]=R.useState("pending");R.useEffect(()=>{const z=il(pt(Ge,"walletRequests"),K=>{const U=K.docs.map(ue=>({id:ue.id,...ue.data()}));w(U)});return()=>z()},[]);const te=async()=>{if(!t.trim()){alert("Enter a mobile number to search");return}const z=gr(pt(Ge,"customers"),Ur("mobile","==",t.trim())),K=await wn(z);if(K.empty){alert("❌ Customer not found"),r(null);return}const U=K.docs[0],ue=U.data();r({id:U.id,email:ue.email,mobile:ue.mobile,balance:ue.wallet||0,logs:ue.logs||[]})},X=async()=>{if(!n){alert("Search a customer first");return}if(i<=0){alert("❌ Amount must be greater than 0");return}const z=n.balance+i,K={id:zd(),method:m,amount:i,date:new Date().toISOString().split("T")[0],type:"Over The Counter",referenceNo:u||void 0};await Wt(wt(Ge,"customers",n.id),{wallet:z,logs:[...n.logs,K]}),r({...n,balance:z,logs:[...n.logs,K]}),a(0),g(""),alert("✅ Wallet updated successfully!")},ee=z=>{B(z),M(0),T(!0)},j=async()=>{if(P){if(N<=0){alert("Enter valid amount");return}try{const z=gr(pt(Ge,"customers"),Ur("email","==",P.email)),K=await wn(z);if(K.empty){alert("❌ Customer not found for this request.");return}const U=K.docs[0],ue=U.data(),se=(ue.wallet||0)+N,oe={id:zd(),method:"GCash",amount:N,date:new Date().toISOString().split("T")[0],type:"request",referenceNo:P.referenceNo};await Wt(wt(Ge,"customers",U.id),{wallet:se,logs:[...ue.logs||[],oe]}),await Wt(wt(Ge,"walletRequests",P.id),{status:"approved"}),T(!1),B(null),M(0),alert("✅ Wallet request approved!")}catch(z){console.error(z),alert("❌ Failed to approve request.")}}},G=async z=>{try{await Wt(wt(Ge,"walletRequests",z),{status:"rejected"}),alert("❌ Request rejected.")}catch(K){console.error(K),alert("Failed to reject request.")}},F=async z=>{try{await Eu(wt(Ge,"walletRequests",z)),alert("🗑️ Request deleted!")}catch(K){console.error(K),alert("Failed to delete request.")}},Z=v.filter(z=>z.status===$);return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"wallet-container",children:[I.jsx("h1",{className:"wallet-title",children:"Wallet System & Requests"}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"Search Customer"}),I.jsx("input",{type:"text",value:t,onChange:z=>e(z.target.value),placeholder:"Enter mobile number"}),I.jsx("button",{onClick:te,style:{background:"#5b1818ff",color:"white"},children:"Search"})]}),n&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"section customer-info",children:[I.jsx("h2",{children:"Customer Info"}),I.jsxs("p",{children:["👤 ",I.jsx("strong",{children:"Name:"})," ",n.email]}),I.jsxs("p",{children:["📱 ",I.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),I.jsxs("p",{children:["💳 ",I.jsx("strong",{children:"Wallet Balance:"})," ₱",n.balance.toFixed(2)]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"🔧 Manual Adjustment"}),I.jsxs("select",{value:m,onChange:z=>d(z.target.value),children:[I.jsx("option",{value:"GCash",children:"GCash"}),I.jsx("option",{value:"Cash",children:"Cash"})]}),I.jsx("input",{type:"number",value:i,onChange:z=>a(Number(z.target.value)),placeholder:"Enter amount"}),I.jsx("input",{type:"text",value:u,onChange:z=>g(z.target.value),placeholder:"Reference No. (optional)"}),I.jsx("button",{onClick:X,style:{background:"#5b1818ff",color:"white"},children:"Confirm Adjustment"})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"📜 Top-up Logs"}),n.logs.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"#"}),I.jsx("th",{children:"Method"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Type"}),I.jsx("th",{children:"Reference No."})]})}),I.jsx("tbody",{children:[...n.logs].sort((z,K)=>z.date<K.date?1:-1).map((z,K)=>I.jsxs("tr",{children:[I.jsx("td",{children:K+1}),I.jsx("td",{children:z.method}),I.jsxs("td",{children:["₱",z.amount.toFixed(2)]}),I.jsx("td",{children:z.date}),I.jsx("td",{children:z.type}),I.jsx("td",{children:z.referenceNo||"-"})]},z.id))})]}):I.jsx("p",{className:"empty-log",children:"No logs available."})]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"📥 Wallet Requests"}),I.jsx("div",{style:{marginBottom:"10px"},children:I.jsxs("label",{children:[I.jsx("strong",{children:"Filter:"})," ",I.jsxs("select",{value:$,onChange:z=>q(z.target.value),children:[I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"approved",children:"Approved"})]})]})}),Z.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Email"}),I.jsx("th",{children:"Reference No."}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:Z.map(z=>I.jsxs("tr",{children:[I.jsx("td",{children:z.email}),I.jsx("td",{children:z.referenceNo}),I.jsx("td",{children:z.status}),I.jsx("td",{children:z.status==="pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{onClick:()=>ee(z),style:{background:"#6dff50ff",color:"black"},children:"Approve"}),I.jsx("button",{onClick:()=>G(z.id),style:{background:"#ff6150ff",color:"white"},children:"Reject"})]}):I.jsx("button",{onClick:()=>F(z.id),style:{background:"#d3d3d3",color:"black"},children:"Delete"})})]},z.id))})]}):I.jsxs("p",{children:["No ",$," requests found."]})]})]}),S&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-box",children:[I.jsx("h2",{children:"Approve Wallet Request"}),I.jsxs("p",{children:["Enter amount to add for ",I.jsx("strong",{children:P?.email})]}),I.jsx("input",{type:"number",value:N,onChange:z=>M(Number(z.target.value)),placeholder:"Enter amount"}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{onClick:j,style:{background:"#cfffc6ff",color:"black"},children:"Confirm"}),I.jsx("button",{onClick:()=>T(!1),children:"Cancel"})]})]})})]})};function Koe(){return I.jsxs(Sk,{children:[I.jsx(fi,{path:"/",element:I.jsx(Ek,{to:"/Intro",replace:!0})}),I.jsx(fi,{path:"/Intro",element:I.jsx(_V,{})}),I.jsx(fi,{path:"/Owner",element:I.jsx(RV,{})}),I.jsx(fi,{path:"/Sidebar",element:I.jsx(ul,{})}),I.jsx(fi,{path:"/SideBarStaff",element:I.jsx(p0,{})}),I.jsx(fi,{path:"/Dashboard",element:I.jsx(gse,{})}),I.jsx(fi,{path:"/customers",element:I.jsx(_oe,{})}),I.jsx(fi,{path:"/orders",element:I.jsx(Toe,{})}),I.jsx(fi,{path:"/transactions",element:I.jsx(JD,{})}),I.jsx(fi,{path:"/rewards",element:I.jsx(Ioe,{})}),I.jsx(fi,{path:"/menu",element:I.jsx(Ooe,{})}),I.jsx(fi,{path:"/wallet",element:I.jsx(Poe,{})}),I.jsx(fi,{path:"/take-order",element:I.jsx(joe,{})}),I.jsx(fi,{path:"/promo-redemption",element:I.jsx(Boe,{})}),I.jsx(fi,{path:"/feedback",element:I.jsx(Yoe,{})}),I.jsx(fi,{path:"/orders-staff",element:I.jsx($oe,{})}),I.jsx(fi,{path:"/wallet-staff",element:I.jsx(Xoe,{})})]})}ML.createRoot(document.getElementById("root")).render(I.jsx(R.StrictMode,{children:I.jsx(Yk,{children:I.jsx(Koe,{})})}));
