function CR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sv={exports:{}},Wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function SL(){if(vC)return Wh;vC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var g in i)g!=="key"&&(a[g]=i[g])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:a}}return Wh.Fragment=e,Wh.jsx=n,Wh.jsxs=n,Wh}var xC;function _L(){return xC||(xC=1,sv.exports=SL()),sv.exports}var I=_L(),ov={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function CL(){if(bC)return Lt;bC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(ae){return ae===null||typeof ae!="object"?null:(ae=w&&ae[w]||ae["@@iterator"],typeof ae=="function"?ae:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function P(ae,be,Te){this.props=ae,this.context=be,this.refs=M,this.updater=Te||T}P.prototype.isReactComponent={},P.prototype.setState=function(ae,be){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,be,"setState")},P.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function U(){}U.prototype=P.prototype;function W(ae,be,Te){this.props=ae,this.context=be,this.refs=M,this.updater=Te||T}var q=W.prototype=new U;q.constructor=W,R(q,P.prototype),q.isPureReactComponent=!0;var ee=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function k(ae,be,Te,ke,$e,at){return Te=at.ref,{$$typeof:t,type:ae,key:be,ref:Te!==void 0?Te:null,props:at}}function V(ae,be){return k(ae.type,be,void 0,void 0,void 0,ae.props)}function j(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===t}function Q(ae){var be={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(Te){return be[Te]})}var Z=/\/+/g;function X(ae,be){return typeof ae=="object"&&ae!==null&&ae.key!=null?Q(""+ae.key):be.toString(36)}function z(){}function ge(ae){switch(ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason;default:switch(typeof ae.status=="string"?ae.then(z,z):(ae.status="pending",ae.then(function(be){ae.status==="pending"&&(ae.status="fulfilled",ae.value=be)},function(be){ae.status==="pending"&&(ae.status="rejected",ae.reason=be)})),ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason}}throw ae}function se(ae,be,Te,ke,$e){var at=typeof ae;(at==="undefined"||at==="boolean")&&(ae=null);var je=!1;if(ae===null)je=!0;else switch(at){case"bigint":case"string":case"number":je=!0;break;case"object":switch(ae.$$typeof){case t:case e:je=!0;break;case v:return je=ae._init,se(je(ae._payload),be,Te,ke,$e)}}if(je)return $e=$e(ae),je=ke===""?"."+X(ae,0):ke,ee($e)?(Te="",je!=null&&(Te=je.replace(Z,"$&/")+"/"),se($e,be,Te,"",function(Re){return Re})):$e!=null&&(j($e)&&($e=V($e,Te+($e.key==null||ae&&ae.key===$e.key?"":(""+$e.key).replace(Z,"$&/")+"/")+je)),be.push($e)),1;je=0;var In=ke===""?".":ke+":";if(ee(ae))for(var vt=0;vt<ae.length;vt++)ke=ae[vt],at=In+X(ke,vt),je+=se(ke,be,Te,at,$e);else if(vt=S(ae),typeof vt=="function")for(ae=vt.call(ae),vt=0;!(ke=ae.next()).done;)ke=ke.value,at=In+X(ke,vt++),je+=se(ke,be,Te,at,$e);else if(at==="object"){if(typeof ae.then=="function")return se(ge(ae),be,Te,ke,$e);throw be=String(ae),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return je}function le(ae,be,Te){if(ae==null)return ae;var ke=[],$e=0;return se(ae,ke,"","",function(at){return be.call(Te,at,$e++)}),ke}function ue(ae){if(ae._status===-1){var be=ae._result;be=be(),be.then(function(Te){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=Te)},function(Te){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=Te)}),ae._status===-1&&(ae._status=0,ae._result=be)}if(ae._status===1)return ae._result.default;throw ae._result}var Ie=typeof reportError=="function"?reportError:function(ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ae=="object"&&ae!==null&&typeof ae.message=="string"?String(ae.message):String(ae),error:ae});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ae);return}console.error(ae)};function Fe(){}return Lt.Children={map:le,forEach:function(ae,be,Te){le(ae,function(){be.apply(this,arguments)},Te)},count:function(ae){var be=0;return le(ae,function(){be++}),be},toArray:function(ae){return le(ae,function(be){return be})||[]},only:function(ae){if(!j(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},Lt.Component=P,Lt.Fragment=n,Lt.Profiler=i,Lt.PureComponent=W,Lt.StrictMode=r,Lt.Suspense=m,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(ae){return $.H.useMemoCache(ae)}},Lt.cache=function(ae){return function(){return ae.apply(null,arguments)}},Lt.cloneElement=function(ae,be,Te){if(ae==null)throw Error("The argument must be a React element, but you passed "+ae+".");var ke=R({},ae.props),$e=ae.key,at=void 0;if(be!=null)for(je in be.ref!==void 0&&(at=void 0),be.key!==void 0&&($e=""+be.key),be)!ne.call(be,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&be.ref===void 0||(ke[je]=be[je]);var je=arguments.length-2;if(je===1)ke.children=Te;else if(1<je){for(var In=Array(je),vt=0;vt<je;vt++)In[vt]=arguments[vt+2];ke.children=In}return k(ae.type,$e,void 0,void 0,at,ke)},Lt.createContext=function(ae){return ae={$$typeof:c,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null},ae.Provider=ae,ae.Consumer={$$typeof:a,_context:ae},ae},Lt.createElement=function(ae,be,Te){var ke,$e={},at=null;if(be!=null)for(ke in be.key!==void 0&&(at=""+be.key),be)ne.call(be,ke)&&ke!=="key"&&ke!=="__self"&&ke!=="__source"&&($e[ke]=be[ke]);var je=arguments.length-2;if(je===1)$e.children=Te;else if(1<je){for(var In=Array(je),vt=0;vt<je;vt++)In[vt]=arguments[vt+2];$e.children=In}if(ae&&ae.defaultProps)for(ke in je=ae.defaultProps,je)$e[ke]===void 0&&($e[ke]=je[ke]);return k(ae,at,void 0,void 0,null,$e)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(ae){return{$$typeof:g,render:ae}},Lt.isValidElement=j,Lt.lazy=function(ae){return{$$typeof:v,_payload:{_status:-1,_result:ae},_init:ue}},Lt.memo=function(ae,be){return{$$typeof:d,type:ae,compare:be===void 0?null:be}},Lt.startTransition=function(ae){var be=$.T,Te={};$.T=Te;try{var ke=ae(),$e=$.S;$e!==null&&$e(Te,ke),typeof ke=="object"&&ke!==null&&typeof ke.then=="function"&&ke.then(Fe,Ie)}catch(at){Ie(at)}finally{$.T=be}},Lt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Lt.use=function(ae){return $.H.use(ae)},Lt.useActionState=function(ae,be,Te){return $.H.useActionState(ae,be,Te)},Lt.useCallback=function(ae,be){return $.H.useCallback(ae,be)},Lt.useContext=function(ae){return $.H.useContext(ae)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(ae,be){return $.H.useDeferredValue(ae,be)},Lt.useEffect=function(ae,be,Te){var ke=$.H;if(typeof Te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ke.useEffect(ae,be)},Lt.useId=function(){return $.H.useId()},Lt.useImperativeHandle=function(ae,be,Te){return $.H.useImperativeHandle(ae,be,Te)},Lt.useInsertionEffect=function(ae,be){return $.H.useInsertionEffect(ae,be)},Lt.useLayoutEffect=function(ae,be){return $.H.useLayoutEffect(ae,be)},Lt.useMemo=function(ae,be){return $.H.useMemo(ae,be)},Lt.useOptimistic=function(ae,be){return $.H.useOptimistic(ae,be)},Lt.useReducer=function(ae,be,Te){return $.H.useReducer(ae,be,Te)},Lt.useRef=function(ae){return $.H.useRef(ae)},Lt.useState=function(ae){return $.H.useState(ae)},Lt.useSyncExternalStore=function(ae,be,Te){return $.H.useSyncExternalStore(ae,be,Te)},Lt.useTransition=function(){return $.H.useTransition()},Lt.version="19.1.1",Lt}var wC;function zf(){return wC||(wC=1,ov.exports=CL()),ov.exports}var N=zf();const Vn=bo(N),TL=CR({__proto__:null,default:Vn},[N]);var lv={exports:{}},$h={},uv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function IL(){return EC||(EC=1,function(t){function e(le,ue){var Ie=le.length;le.push(ue);e:for(;0<Ie;){var Fe=Ie-1>>>1,ae=le[Fe];if(0<i(ae,ue))le[Fe]=ue,le[Ie]=ae,Ie=Fe;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var ue=le[0],Ie=le.pop();if(Ie!==ue){le[0]=Ie;e:for(var Fe=0,ae=le.length,be=ae>>>1;Fe<be;){var Te=2*(Fe+1)-1,ke=le[Te],$e=Te+1,at=le[$e];if(0>i(ke,Ie))$e<ae&&0>i(at,ke)?(le[Fe]=at,le[$e]=Ie,Fe=$e):(le[Fe]=ke,le[Te]=Ie,Fe=Te);else if($e<ae&&0>i(at,Ie))le[Fe]=at,le[$e]=Ie,Fe=$e;else break e}}return ue}function i(le,ue){var Ie=le.sortIndex-ue.sortIndex;return Ie!==0?Ie:le.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,g=c.now();t.unstable_now=function(){return c.now()-g}}var m=[],d=[],v=1,w=null,S=3,T=!1,R=!1,M=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ee(le){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=le)r(d),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=n(d)}}function $(le){if(M=!1,ee(le),!R)if(n(m)!==null)R=!0,ne||(ne=!0,X());else{var ue=n(d);ue!==null&&se($,ue.startTime-le)}}var ne=!1,k=-1,V=5,j=-1;function Q(){return P?!0:!(t.unstable_now()-j<V)}function Z(){if(P=!1,ne){var le=t.unstable_now();j=le;var ue=!0;try{e:{R=!1,M&&(M=!1,W(k),k=-1),T=!0;var Ie=S;try{t:{for(ee(le),w=n(m);w!==null&&!(w.expirationTime>le&&Q());){var Fe=w.callback;if(typeof Fe=="function"){w.callback=null,S=w.priorityLevel;var ae=Fe(w.expirationTime<=le);if(le=t.unstable_now(),typeof ae=="function"){w.callback=ae,ee(le),ue=!0;break t}w===n(m)&&r(m),ee(le)}else r(m);w=n(m)}if(w!==null)ue=!0;else{var be=n(d);be!==null&&se($,be.startTime-le),ue=!1}}break e}finally{w=null,S=Ie,T=!1}ue=void 0}}finally{ue?X():ne=!1}}}var X;if(typeof q=="function")X=function(){q(Z)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ge=z.port2;z.port1.onmessage=Z,X=function(){ge.postMessage(null)}}else X=function(){U(Z,0)};function se(le,ue){k=U(function(){le(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(le){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var Ie=S;S=ue;try{return le()}finally{S=Ie}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(le,ue){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Ie=S;S=le;try{return ue()}finally{S=Ie}},t.unstable_scheduleCallback=function(le,ue,Ie){var Fe=t.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Fe+Ie:Fe):Ie=Fe,le){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Ie+ae,le={id:v++,callback:ue,priorityLevel:le,startTime:Ie,expirationTime:ae,sortIndex:-1},Ie>Fe?(le.sortIndex=Ie,e(d,le),n(m)===null&&le===n(d)&&(M?(W(k),k=-1):M=!0,se($,Ie-Fe))):(le.sortIndex=ae,e(m,le),R||T||(R=!0,ne||(ne=!0,X()))),le},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(le){var ue=S;return function(){var Ie=S;S=ue;try{return le.apply(this,arguments)}finally{S=Ie}}}}(cv)),cv}var AC;function OL(){return AC||(AC=1,uv.exports=IL()),uv.exports}var fv={exports:{}},Fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function RL(){if(SC)return Fi;SC=1;var t=zf();function e(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(m,d,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:w==null?null:""+w,children:m,containerInfo:d,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fi.createPortal=function(m,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(m,d,null,v)},Fi.flushSync=function(m){var d=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=d,r.p=v,r.d.f()}},Fi.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Fi.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Fi.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var v=d.as,w=g(v,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:T}):v==="script"&&r.d.X(m,{crossOrigin:w,integrity:S,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Fi.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=g(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Fi.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,w=g(v,d.crossOrigin);r.d.L(m,v,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Fi.preloadModule=function(m,d){if(typeof m=="string")if(d){var v=g(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Fi.requestFormReset=function(m){r.d.r(m)},Fi.unstable_batchedUpdates=function(m,d){return m(d)},Fi.useFormState=function(m,d,v){return c.H.useFormState(m,d,v)},Fi.useFormStatus=function(){return c.H.useHostTransitionStatus()},Fi.version="19.1.1",Fi}var _C;function TR(){if(_C)return fv.exports;_C=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fv.exports=RL(),fv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function NL(){if(CC)return $h;CC=1;var t=OL(),e=zf(),n=TR();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function c(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function g(s){if(a(s)!==s)throw Error(r(188))}function m(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,x=l;;){var _=h.return;if(_===null)break;var O=_.alternate;if(O===null){if(x=_.return,x!==null){h=x;continue}break}if(_.child===O.child){for(O=_.child;O;){if(O===h)return g(_),s;if(O===x)return g(_),l;O=O.sibling}throw Error(r(188))}if(h.return!==x.return)h=_,x=O;else{for(var H=!1,J=_.child;J;){if(J===h){H=!0,h=_,x=O;break}if(J===x){H=!0,x=_,h=O;break}J=J.sibling}if(!H){for(J=O.child;J;){if(J===h){H=!0,h=O,x=_;break}if(J===x){H=!0,x=O,h=_;break}J=J.sibling}if(!H)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var z=Symbol.for("react.client.reference");function ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case ne:return"SuspenseList";case j:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case q:return(s.displayName||"Context")+".Provider";case W:return(s._context.displayName||"Context")+".Consumer";case ee:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return l=s.displayName||null,l!==null?l:ge(s.type)||"Memo";case V:l=s._payload,s=s._init;try{return ge(s(l))}catch{}}return null}var se=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Fe=[],ae=-1;function be(s){return{current:s}}function Te(s){0>ae||(s.current=Fe[ae],Fe[ae]=null,ae--)}function ke(s,l){ae++,Fe[ae]=s.current,s.current=l}var $e=be(null),at=be(null),je=be(null),In=be(null);function vt(s,l){switch(ke(je,l),ke(at,s),ke($e,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?Y_(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=Y_(l),s=W_(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Te($e),ke($e,s)}function Re(){Te($e),Te(at),Te(je)}function gt(s){s.memoizedState!==null&&ke(In,s);var l=$e.current,h=W_(l,s.type);l!==h&&(ke(at,s),ke($e,h))}function it(s){at.current===s&&(Te($e),Te(at)),In.current===s&&(Te(In),zh._currentValue=Ie)}var Be=Object.prototype.hasOwnProperty,ht=t.unstable_scheduleCallback,Nt=t.unstable_cancelCallback,Qt=t.unstable_shouldYield,Dt=t.unstable_requestPaint,_t=t.unstable_now,Zt=t.unstable_getCurrentPriorityLevel,St=t.unstable_ImmediatePriority,Ea=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,Ws=t.unstable_LowPriority,Rs=t.unstable_IdlePriority,gi=t.log,$s=t.unstable_setDisableYieldValue,Ye=null,Xe=null;function pt(s){if(typeof gi=="function"&&$s(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Ye,s)}catch{}}var st=Math.clz32?Math.clz32:Aa,wn=Math.log,$n=Math.LN2;function Aa(s){return s>>>=0,s===0?32:31-(wn(s)/$n|0)|0}var pn=256,He=4194304;function dn(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function en(s,l,h){var x=s.pendingLanes;if(x===0)return 0;var _=0,O=s.suspendedLanes,H=s.pingedLanes;s=s.warmLanes;var J=x&134217727;return J!==0?(x=J&~O,x!==0?_=dn(x):(H&=J,H!==0?_=dn(H):h||(h=J&~s,h!==0&&(_=dn(h))))):(J=x&~O,J!==0?_=dn(J):H!==0?_=dn(H):h||(h=x&~s,h!==0&&(_=dn(h)))),_===0?0:l!==0&&l!==_&&(l&O)===0&&(O=_&-_,h=l&-l,O>=h||O===32&&(h&4194048)!==0)?l:_}function yn(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ns(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var s=pn;return pn<<=1,(pn&4194048)===0&&(pn=256),s}function pl(){var s=He;return He<<=1,(He&62914560)===0&&(He=4194304),s}function Pt(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function mi(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function yl(s,l,h,x,_,O){var H=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var J=s.entanglements,oe=s.expirationTimes,xe=s.hiddenUpdates;for(h=H&~h;0<h;){var Oe=31-st(h),Pe=1<<Oe;J[Oe]=0,oe[Oe]=-1;var Ee=xe[Oe];if(Ee!==null)for(xe[Oe]=null,Oe=0;Oe<Ee.length;Oe++){var _e=Ee[Oe];_e!==null&&(_e.lane&=-536870913)}h&=~Pe}x!==0&&Sa(s,x,0),O!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=O&~(H&~l))}function Sa(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var x=31-st(l);s.entangledLanes|=l,s.entanglements[x]=s.entanglements[x]|1073741824|h&4194090}function pi(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var x=31-st(h),_=1<<x;_&l|s[x]&l&&(s[x]|=l),h&=~_}}function ts(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function mr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $i(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:hC(s.type))}function So(s,l){var h=ue.p;try{return ue.p=s,l()}finally{ue.p=h}}var Jt=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Jt,On="__reactProps$"+Jt,Di="__reactContainer$"+Jt,jr="__reactEvents$"+Jt,Ds="__reactListeners$"+Jt,Or="__reactHandles$"+Jt,Qe="__reactResources$"+Jt,ia="__reactMarker$"+Jt;function ns(s){delete s[Ir],delete s[On],delete s[jr],delete s[Ds],delete s[Or]}function nr(s){var l=s[Ir];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Di]||h[Ir]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=Q_(s);s!==null;){if(h=s[Ir])return h;s=Q_(s)}return l}s=h,h=s.parentNode}return null}function yi(s){if(s=s[Ir]||s[Di]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Xi(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Br(s){var l=s[Qe];return l||(l=s[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function on(s){s[ia]=!0}var Tu=new Set,vl={};function xr(s,l){Xn(s,l),Xn(s+"Capture",l)}function Xn(s,l){for(vl[s]=l,s=0;s<l.length;s++)Tu.add(l[s])}var En=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Mi={};function xl(s){return Be.call(Mi,s)?!0:Be.call(Iu,s)?!1:En.test(s)?Mi[s]=!0:(Iu[s]=!0,!1)}function Me(s,l,h){if(xl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function rs(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function kt(s,l,h,x){if(x===null)s.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+x)}}var aa,Sc;function jt(s){if(aa===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);aa=l&&l[1]||"",Sc=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+s+Sc}var Ft=!1;function Mt(s,l){if(!s||Ft)return"";Ft=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(_e){var Ee=_e}Reflect.construct(s,[],Pe)}else{try{Pe.call()}catch(_e){Ee=_e}s.call(Pe.prototype)}}else{try{throw Error()}catch(_e){Ee=_e}(Pe=s())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(_e){if(_e&&Ee&&typeof _e.stack=="string")return[_e.stack,Ee.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),H=O[0],J=O[1];if(H&&J){var oe=H.split(`
`),xe=J.split(`
`);for(_=x=0;x<oe.length&&!oe[x].includes("DetermineComponentFrameRoot");)x++;for(;_<xe.length&&!xe[_].includes("DetermineComponentFrameRoot");)_++;if(x===oe.length||_===xe.length)for(x=oe.length-1,_=xe.length-1;1<=x&&0<=_&&oe[x]!==xe[_];)_--;for(;1<=x&&0<=_;x--,_--)if(oe[x]!==xe[_]){if(x!==1||_!==1)do if(x--,_--,0>_||oe[x]!==xe[_]){var Oe=`
`+oe[x].replace(" at new "," at ");return s.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",s.displayName)),Oe}while(1<=x&&0<=_);break}}}finally{Ft=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?jt(h):""}function _o(s){switch(s.tag){case 26:case 27:case 5:return jt(s.type);case 16:return jt("Lazy");case 13:return jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return Mt(s.type,!1);case 11:return Mt(s.type.render,!1);case 1:return Mt(s.type,!0);case 31:return jt("Activity");default:return""}}function Xs(s){try{var l="";do l+=_o(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Wr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Kn(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function is(s){var l=Kn(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),x=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,O=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(H){x=""+H,O.call(this,H)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(H){x=""+H},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function bl(s){s._valueTracker||(s._valueTracker=is(s))}function Pn(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return s&&(x=Kn(s)?s.checked?"true":"false":s.value),s=x,s!==h?(l.setValue(s),!0):!1}function Pi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var oh=/[\n"\\]/g;function Ln(s){return s.replace(oh,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Bt(s,l,h,x,_,O,H,J){s.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.type=H:s.removeAttribute("type"),l!=null?H==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Wr(l)):s.value!==""+Wr(l)&&(s.value=""+Wr(l)):H!=="submit"&&H!=="reset"||s.removeAttribute("value"),l!=null?me(s,H,Wr(l)):h!=null?me(s,H,Wr(h)):x!=null&&s.removeAttribute("value"),_==null&&O!=null&&(s.defaultChecked=!!O),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.name=""+Wr(J):s.removeAttribute("name")}function rr(s,l,h,x,_,O,H,J){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),l!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||l!=null))return;h=h!=null?""+Wr(h):"",l=l!=null?""+Wr(l):h,J||l===s.value||(s.value=l),s.defaultValue=l}x=x??_,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=J?s.checked:!!x,s.defaultChecked=!!x,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(s.name=H)}function me(s,l,h){l==="number"&&Pi(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function re(s,l,h,x){if(s=s.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=l.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&x&&(s[h].defaultSelected=!0)}else{for(h=""+Wr(h),l=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,x&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function Ge(s,l,h){if(l!=null&&(l=""+Wr(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+Wr(h):""}function Hn(s,l,h,x){if(l==null){if(x!=null){if(h!=null)throw Error(r(92));if(se(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),l=h}h=Wr(l),s.defaultValue=h,x=s.textContent,x===h&&x!==""&&x!==null&&(s.value=x)}function Qn(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(s,l,h){var x=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":x?s.setProperty(l,h):typeof h!="number"||h===0||Co.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function ii(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var _ in l)x=l[_],l.hasOwnProperty(_)&&h[_]!==x&&wl(s,_,x)}else for(var O in l)l.hasOwnProperty(O)&&wl(s,O,l[O])}function ot(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(s){return _c.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var _a=null;function vi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ca=null,Ms=null;function ir(s){var l=yi(s);if(l&&(s=l.stateNode)){var h=s[On]||null;e:switch(s=l.stateNode,l.type){case"input":if(Bt(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ln(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==s&&x.form===s.form){var _=x[On]||null;if(!_)throw Error(r(90));Bt(x,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<h.length;l++)x=h[l],x.form===s.form&&Pn(x)}break e;case"textarea":Ge(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&re(s,!!h.multiple,l,!1)}}}var Li=!1;function Ta(s,l,h){if(Li)return s(l,h);Li=!0;try{var x=s(l);return x}finally{if(Li=!1,(Ca!==null||Ms!==null)&&(Q0(),Ca&&(l=Ca,s=Ms,Ms=Ca=null,ir(l),s)))for(l=0;l<s.length;l++)ir(s[l])}}function ut(s,l){var h=s.stateNode;if(h===null)return null;var x=h[On]||null;if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mt=!1;if(Ia)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){mt=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{mt=!1}var as=null,ss=null,os=null;function Oa(){if(os)return os;var s,l=ss,h=l.length,x,_="value"in as?as.value:as.textContent,O=_.length;for(s=0;s<h&&l[s]===_[s];s++);var H=h-s;for(x=1;x<=H&&l[h-x]===_[O-x];x++);return os=_.slice(s,1<x?1-x:void 0)}function ls(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ki(){return!0}function Ps(){return!1}function ar(s){function l(h,x,_,O,H){this._reactName=h,this._targetInst=_,this.type=x,this.nativeEvent=O,this.target=H,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(h=s[J],this[J]=h?h(O):O[J]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ki:Ps,this.isPropagationStopped=Ps,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),l}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=ar(sn),Ra=v({},sn,{view:0,detail:0}),$r=ar(Ra),To,Io,Na,Oo=v({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Na&&(Na&&s.type==="mousemove"?(To=s.screenX-Na.screenX,Io=s.screenY-Na.screenY):Io=To=0,Na=s),To)},movementY:function(s){return"movementY"in s?s.movementY:Io}}),sa=ar(Oo),Cc=v({},Oo,{dataTransfer:0}),ln=ar(Cc),Ks=v({},Ra,{relatedTarget:0}),Ls=ar(Ks),oa=v({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=ar(oa),Se=v({},sn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ct=ar(Se),Rr=v({},sn,{data:0}),Qs=ar(Rr),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Ic[s])?!!l[s]:!1}function ks(){return Ou}var sr=v({},Ra,{key:function(s){if(s.key){var l=Zs[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ls(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(s){return s.type==="keypress"?ls(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ls(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Js=ar(sr),jn=v({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=ar(jn),xi=v({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),un=ar(xi),ft=v({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oc=ar(ft),vn=v({},Oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),la=ar(vn),br=v({},sn,{newState:0,oldState:0}),Rc=ar(br),Ki=[9,13,27,32],ua=Ia&&"CompositionEvent"in window,A=null;Ia&&"documentMode"in document&&(A=document.documentMode);var L=Ia&&"TextEvent"in window&&!A,F=Ia&&(!ua||A&&8<A&&11>=A),te=" ",pe=!1;function Ce(s,l){switch(s){case"keyup":return Ki.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gt=!1;function Jn(s,l){switch(s){case"compositionend":return qe(l);case"keypress":return l.which!==32?null:(pe=!0,te);case"textInput":return s=l.data,s===te&&pe?null:s;default:return null}}function Yt(s,l){if(Gt)return s==="compositionend"||!ua&&Ce(s,l)?(s=Oa(),os=ss=as=null,Gt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return F&&l.locale!=="ko"?null:l.data;default:return null}}var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function or(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Bn[s.type]:l==="textarea"}function wr(s,l,h,x){Ca?Ms?Ms.push(x):Ms=[x]:Ca=x,l=r1(l,"onChange"),0<l.length&&(h=new us("onChange","change",null,h,x),s.push({event:h,listeners:l}))}var Ur=null,Nr=null;function Ru(s){V_(s,0)}function Sl(s){var l=Xi(s);if(Pn(l))return s}function y0(s,l){if(s==="change")return l}var lh=!1;if(Ia){var ca;if(Ia){var uh="oninput"in document;if(!uh){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),uh=typeof Nc.oninput=="function"}ca=uh}else ca=!1;lh=ca&&(!document.documentMode||9<document.documentMode)}function _l(){Ur&&(Ur.detachEvent("onpropertychange",Wt),Nr=Ur=null)}function Wt(s){if(s.propertyName==="value"&&Sl(Nr)){var l=[];wr(l,Nr,s,vi(s)),Ta(Ru,l)}}function Dc(s,l,h){s==="focusin"?(_l(),Ur=l,Nr=h,Ur.attachEvent("onpropertychange",Wt)):s==="focusout"&&_l()}function G(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sl(Nr)}function o(s,l){if(s==="click")return Sl(l)}function u(s,l){if(s==="input"||s==="change")return Sl(l)}function f(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var p=typeof Object.is=="function"?Object.is:f;function y(s,l){if(p(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var _=h[x];if(!Be.call(l,_)||!p(s[_],l[_]))return!1}return!0}function b(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E(s,l){var h=b(s);s=0;for(var x;h;){if(h.nodeType===3){if(x=s+h.textContent.length,s<=l&&x>=l)return{node:h,offset:l-s};s=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=b(h)}}function C(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?C(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function D(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Pi(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Pi(s.document)}return l}function B(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Y=Ia&&"documentMode"in document&&11>=document.documentMode,K=null,ie=null,ce=null,fe=!1;function ye(s,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;fe||K==null||K!==Pi(x)||(x=K,"selectionStart"in x&&B(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ce&&y(ce,x)||(ce=x,x=r1(ie,"onSelect"),0<x.length&&(l=new us("onSelect","select",null,l,h),s.push({event:l,listeners:x}),l.target=K)))}function Ae(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Ve={animationend:Ae("Animation","AnimationEnd"),animationiteration:Ae("Animation","AnimationIteration"),animationstart:Ae("Animation","AnimationStart"),transitionrun:Ae("Transition","TransitionRun"),transitionstart:Ae("Transition","TransitionStart"),transitioncancel:Ae("Transition","TransitionCancel"),transitionend:Ae("Transition","TransitionEnd")},ze={},Ue={};Ia&&(Ue=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function Ot(s){if(ze[s])return ze[s];if(!Ve[s])return s;var l=Ve[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ue)return ze[s]=l[h];return s}var Tt=Ot("animationend"),bi=Ot("animationiteration"),fa=Ot("animationstart"),ji=Ot("transitionrun"),An=Ot("transitionstart"),Xr=Ot("transitioncancel"),Bi=Ot("transitionend"),Ro=new Map,to="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");to.push("scrollEnd");function Da(s,l){Ro.set(s,l),xr(l,[s])}var v0=new WeakMap;function cs(s,l){if(typeof s=="object"&&s!==null){var h=v0.get(s);return h!==void 0?h:(l={value:s,source:l,stack:Xs(l)},v0.set(s,l),l)}return{value:s,source:l,stack:Xs(l)}}var fs=[],Mc=0,Ap=0;function x0(){for(var s=Mc,l=Ap=Mc=0;l<s;){var h=fs[l];fs[l++]=null;var x=fs[l];fs[l++]=null;var _=fs[l];fs[l++]=null;var O=fs[l];if(fs[l++]=null,x!==null&&_!==null){var H=x.pending;H===null?_.next=_:(_.next=H.next,H.next=_),x.pending=_}O!==0&&_A(h,_,O)}}function b0(s,l,h,x){fs[Mc++]=s,fs[Mc++]=l,fs[Mc++]=h,fs[Mc++]=x,Ap|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Sp(s,l,h,x){return b0(s,l,h,x),w0(s)}function Pc(s,l){return b0(s,null,null,l),w0(s)}function _A(s,l,h){s.lanes|=h;var x=s.alternate;x!==null&&(x.lanes|=h);for(var _=!1,O=s.return;O!==null;)O.childLanes|=h,x=O.alternate,x!==null&&(x.childLanes|=h),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(_=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,_&&l!==null&&(_=31-st(h),s=O.hiddenUpdates,x=s[_],x===null?s[_]=[l]:x.push(l),l.lane=h|536870912),O):null}function w0(s){if(50<Ph)throw Ph=0,Ry=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Lc={};function u9(s,l,h,x){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(s,l,h,x){return new u9(s,l,h,x)}function _p(s){return s=s.prototype,!(!s||!s.isReactComponent)}function No(s,l){var h=s.alternate;return h===null?(h=Ma(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function CA(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function E0(s,l,h,x,_,O){var H=0;if(x=s,typeof s=="function")_p(s)&&(H=1);else if(typeof s=="string")H=fL(s,h,$e.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case j:return s=Ma(31,h,l,_),s.elementType=j,s.lanes=O,s;case R:return Nu(h.children,_,O,l);case M:H=8,_|=24;break;case P:return s=Ma(12,h,l,_|2),s.elementType=P,s.lanes=O,s;case $:return s=Ma(13,h,l,_),s.elementType=$,s.lanes=O,s;case ne:return s=Ma(19,h,l,_),s.elementType=ne,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case q:H=10;break e;case W:H=9;break e;case ee:H=11;break e;case k:H=14;break e;case V:H=16,x=null;break e}H=29,h=Error(r(130,s===null?"null":typeof s,"")),x=null}return l=Ma(H,h,l,_),l.elementType=s,l.type=x,l.lanes=O,l}function Nu(s,l,h,x){return s=Ma(7,s,x,l),s.lanes=h,s}function Cp(s,l,h){return s=Ma(6,s,null,l),s.lanes=h,s}function Tp(s,l,h){return l=Ma(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var kc=[],jc=0,A0=null,S0=0,hs=[],ds=0,Du=null,Do=1,Mo="";function Mu(s,l){kc[jc++]=S0,kc[jc++]=A0,A0=s,S0=l}function TA(s,l,h){hs[ds++]=Do,hs[ds++]=Mo,hs[ds++]=Du,Du=s;var x=Do;s=Mo;var _=32-st(x)-1;x&=~(1<<_),h+=1;var O=32-st(l)+_;if(30<O){var H=_-_%5;O=(x&(1<<H)-1).toString(32),x>>=H,_-=H,Do=1<<32-st(l)+_|h<<_|x,Mo=O+s}else Do=1<<O|h<<_|x,Mo=s}function Ip(s){s.return!==null&&(Mu(s,1),TA(s,1,0))}function Op(s){for(;s===A0;)A0=kc[--jc],kc[jc]=null,S0=kc[--jc],kc[jc]=null;for(;s===Du;)Du=hs[--ds],hs[ds]=null,Mo=hs[--ds],hs[ds]=null,Do=hs[--ds],hs[ds]=null}var Qi=null,Er=null,gn=!1,Pu=null,no=!1,Rp=Error(r(519));function Lu(s){var l=Error(r(418,""));throw hh(cs(l,s)),Rp}function IA(s){var l=s.stateNode,h=s.type,x=s.memoizedProps;switch(l[Ir]=s,l[On]=x,h){case"dialog":Ht("cancel",l),Ht("close",l);break;case"iframe":case"object":case"embed":Ht("load",l);break;case"video":case"audio":for(h=0;h<kh.length;h++)Ht(kh[h],l);break;case"source":Ht("error",l);break;case"img":case"image":case"link":Ht("error",l),Ht("load",l);break;case"details":Ht("toggle",l);break;case"input":Ht("invalid",l),rr(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),bl(l);break;case"select":Ht("invalid",l);break;case"textarea":Ht("invalid",l),Hn(l,x.value,x.defaultValue,x.children),bl(l)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||x.suppressHydrationWarning===!0||G_(l.textContent,h)?(x.popover!=null&&(Ht("beforetoggle",l),Ht("toggle",l)),x.onScroll!=null&&Ht("scroll",l),x.onScrollEnd!=null&&Ht("scrollend",l),x.onClick!=null&&(l.onclick=i1),l=!0):l=!1,l||Lu(s)}function OA(s){for(Qi=s.return;Qi;)switch(Qi.tag){case 5:case 13:no=!1;return;case 27:case 3:no=!0;return;default:Qi=Qi.return}}function ch(s){if(s!==Qi)return!1;if(!gn)return OA(s),gn=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Yy(s.type,s.memoizedProps)),h=!h),h&&Er&&Lu(s),OA(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){Er=Bs(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}Er=null}}else l===27?(l=Er,Vl(s.type)?(s=Ky,Ky=null,Er=s):Er=l):Er=Qi?Bs(s.stateNode.nextSibling):null;return!0}function fh(){Er=Qi=null,gn=!1}function RA(){var s=Pu;return s!==null&&(ga===null?ga=s:ga.push.apply(ga,s),Pu=null),s}function hh(s){Pu===null?Pu=[s]:Pu.push(s)}var Np=be(null),ku=null,Po=null;function Cl(s,l,h){ke(Np,l._currentValue),l._currentValue=h}function Lo(s){s._currentValue=Np.current,Te(Np)}function Dp(s,l,h){for(;s!==null;){var x=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),s===h)break;s=s.return}}function Mp(s,l,h,x){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var O=_.dependencies;if(O!==null){var H=_.child;O=O.firstContext;e:for(;O!==null;){var J=O;O=_;for(var oe=0;oe<l.length;oe++)if(J.context===l[oe]){O.lanes|=h,J=O.alternate,J!==null&&(J.lanes|=h),Dp(O.return,h,s),x||(H=null);break e}O=J.next}}else if(_.tag===18){if(H=_.return,H===null)throw Error(r(341));H.lanes|=h,O=H.alternate,O!==null&&(O.lanes|=h),Dp(H,h,s),H=null}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===s){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}}function dh(s,l,h,x){s=null;for(var _=l,O=!1;_!==null;){if(!O){if((_.flags&524288)!==0)O=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var H=_.alternate;if(H===null)throw Error(r(387));if(H=H.memoizedProps,H!==null){var J=_.type;p(_.pendingProps.value,H.value)||(s!==null?s.push(J):s=[J])}}else if(_===In.current){if(H=_.alternate,H===null)throw Error(r(387));H.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(zh):s=[zh])}_=_.return}s!==null&&Mp(l,s,h,x),l.flags|=262144}function _0(s){for(s=s.firstContext;s!==null;){if(!p(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ju(s){ku=s,Po=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ui(s){return NA(ku,s)}function C0(s,l){return ku===null&&ju(s),NA(s,l)}function NA(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Po===null){if(s===null)throw Error(r(308));Po=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Po=Po.next=l;return h}var c9=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,x){s.push(x)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},f9=t.unstable_scheduleCallback,h9=t.unstable_NormalPriority,Kr={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pp(){return{controller:new c9,data:new Map,refCount:0}}function gh(s){s.refCount--,s.refCount===0&&f9(h9,function(){s.controller.abort()})}var mh=null,Lp=0,Bc=0,Uc=null;function d9(s,l){if(mh===null){var h=mh=[];Lp=0,Bc=jy(),Uc={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Lp++,l.then(DA,DA),l}function DA(){if(--Lp===0&&mh!==null){Uc!==null&&(Uc.status="fulfilled");var s=mh;mh=null,Bc=0,Uc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function g9(s,l){var h=[],x={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return s.then(function(){x.status="fulfilled",x.value=l;for(var _=0;_<h.length;_++)(0,h[_])(l)},function(_){for(x.status="rejected",x.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),x}var MA=le.S;le.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&d9(s,l),MA!==null&&MA(s,l)};var Bu=be(null);function kp(){var s=Bu.current;return s!==null?s:qn.pooledCache}function T0(s,l){l===null?ke(Bu,Bu.current):ke(Bu,l.pool)}function PA(){var s=kp();return s===null?null:{parent:Kr._currentValue,pool:s}}var ph=Error(r(460)),LA=Error(r(474)),I0=Error(r(542)),jp={then:function(){}};function kA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function O0(){}function jA(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(O0,O0),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,UA(s),s;default:if(typeof l.status=="string")l.then(O0,O0);else{if(s=qn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(x){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=x}},function(x){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,UA(s),s}throw yh=l,ph}}var yh=null;function BA(){if(yh===null)throw Error(r(459));var s=yh;return yh=null,s}function UA(s){if(s===ph||s===I0)throw Error(r(483))}var Tl=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Up(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Il(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ol(s,l,h){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Sn&2)!==0){var _=x.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),x.pending=l,l=w0(s),_A(s,null,h),l}return b0(s,x,l,h),w0(s)}function vh(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var x=l.lanes;x&=s.pendingLanes,h|=x,l.lanes=h,pi(s,h)}}function Fp(s,l){var h=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var _=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var H={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?_=O=H:O=O.next=H,h=h.next}while(h!==null);O===null?_=O=l:O=O.next=l}else _=O=l;h={baseState:x.baseState,firstBaseUpdate:_,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var Vp=!1;function xh(){if(Vp){var s=Uc;if(s!==null)throw s}}function bh(s,l,h,x){Vp=!1;var _=s.updateQueue;Tl=!1;var O=_.firstBaseUpdate,H=_.lastBaseUpdate,J=_.shared.pending;if(J!==null){_.shared.pending=null;var oe=J,xe=oe.next;oe.next=null,H===null?O=xe:H.next=xe,H=oe;var Oe=s.alternate;Oe!==null&&(Oe=Oe.updateQueue,J=Oe.lastBaseUpdate,J!==H&&(J===null?Oe.firstBaseUpdate=xe:J.next=xe,Oe.lastBaseUpdate=oe))}if(O!==null){var Pe=_.baseState;H=0,Oe=xe=oe=null,J=O;do{var Ee=J.lane&-536870913,_e=Ee!==J.lane;if(_e?(tn&Ee)===Ee:(x&Ee)===Ee){Ee!==0&&Ee===Bc&&(Vp=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var At=s,yt=J;Ee=l;var Dn=h;switch(yt.tag){case 1:if(At=yt.payload,typeof At=="function"){Pe=At.call(Dn,Pe,Ee);break e}Pe=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=yt.payload,Ee=typeof At=="function"?At.call(Dn,Pe,Ee):At,Ee==null)break e;Pe=v({},Pe,Ee);break e;case 2:Tl=!0}}Ee=J.callback,Ee!==null&&(s.flags|=64,_e&&(s.flags|=8192),_e=_.callbacks,_e===null?_.callbacks=[Ee]:_e.push(Ee))}else _e={lane:Ee,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Oe===null?(xe=Oe=_e,oe=Pe):Oe=Oe.next=_e,H|=Ee;if(J=J.next,J===null){if(J=_.shared.pending,J===null)break;_e=J,J=_e.next,_e.next=null,_.lastBaseUpdate=_e,_.shared.pending=null}}while(!0);Oe===null&&(oe=Pe),_.baseState=oe,_.firstBaseUpdate=xe,_.lastBaseUpdate=Oe,O===null&&(_.shared.lanes=0),jl|=H,s.lanes=H,s.memoizedState=Pe}}function FA(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function VA(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)FA(h[s],l)}var Fc=be(null),R0=be(0);function zA(s,l){s=zo,ke(R0,s),ke(Fc,l),zo=s|l.baseLanes}function zp(){ke(R0,zo),ke(Fc,Fc.current)}function Hp(){zo=R0.current,Te(Fc),Te(R0)}var Rl=0,Ut=null,Rn=null,Fr=null,N0=!1,Vc=!1,Uu=!1,D0=0,wh=0,zc=null,m9=0;function Dr(){throw Error(r(321))}function qp(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!p(s[h],l[h]))return!1;return!0}function Gp(s,l,h,x,_,O){return Rl=O,Ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,le.H=s===null||s.memoizedState===null?_S:CS,Uu=!1,O=h(x,_),Uu=!1,Vc&&(O=qA(l,h,x,_)),HA(s),O}function HA(s){le.H=B0;var l=Rn!==null&&Rn.next!==null;if(Rl=0,Fr=Rn=Ut=null,N0=!1,wh=0,zc=null,l)throw Error(r(300));s===null||ai||(s=s.dependencies,s!==null&&_0(s)&&(ai=!0))}function qA(s,l,h,x){Ut=s;var _=0;do{if(Vc&&(zc=null),wh=0,Vc=!1,25<=_)throw Error(r(301));if(_+=1,Fr=Rn=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}le.H=E9,O=l(h,x)}while(Vc);return O}function p9(){var s=le.H,l=s.useState()[0];return l=typeof l.then=="function"?Eh(l):l,s=s.useState()[0],(Rn!==null?Rn.memoizedState:null)!==s&&(Ut.flags|=1024),l}function Yp(){var s=D0!==0;return D0=0,s}function Wp(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function $p(s){if(N0){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}N0=!1}Rl=0,Fr=Rn=Ut=null,Vc=!1,wh=D0=0,zc=null}function ha(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Ut.memoizedState=Fr=s:Fr=Fr.next=s,Fr}function Vr(){if(Rn===null){var s=Ut.alternate;s=s!==null?s.memoizedState:null}else s=Rn.next;var l=Fr===null?Ut.memoizedState:Fr.next;if(l!==null)Fr=l,Rn=s;else{if(s===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));Rn=s,s={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Fr===null?Ut.memoizedState=Fr=s:Fr=Fr.next=s}return Fr}function Xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eh(s){var l=wh;return wh+=1,zc===null&&(zc=[]),s=jA(zc,s,l),l=Ut,(Fr===null?l.memoizedState:Fr.next)===null&&(l=l.alternate,le.H=l===null||l.memoizedState===null?_S:CS),s}function M0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eh(s);if(s.$$typeof===q)return Ui(s)}throw Error(r(438,String(s)))}function Kp(s){var l=null,h=Ut.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var x=Ut.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Xp(),Ut.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),x=0;x<s;x++)h[x]=Q;return l.index++,h}function ko(s,l){return typeof l=="function"?l(s):l}function P0(s){var l=Vr();return Qp(l,Rn,s)}function Qp(s,l,h){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var _=s.baseQueue,O=x.pending;if(O!==null){if(_!==null){var H=_.next;_.next=O.next,O.next=H}l.baseQueue=_=O,x.pending=null}if(O=s.baseState,_===null)s.memoizedState=O;else{l=_.next;var J=H=null,oe=null,xe=l,Oe=!1;do{var Pe=xe.lane&-536870913;if(Pe!==xe.lane?(tn&Pe)===Pe:(Rl&Pe)===Pe){var Ee=xe.revertLane;if(Ee===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Pe===Bc&&(Oe=!0);else if((Rl&Ee)===Ee){xe=xe.next,Ee===Bc&&(Oe=!0);continue}else Pe={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(J=oe=Pe,H=O):oe=oe.next=Pe,Ut.lanes|=Ee,jl|=Ee;Pe=xe.action,Uu&&h(O,Pe),O=xe.hasEagerState?xe.eagerState:h(O,Pe)}else Ee={lane:Pe,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(J=oe=Ee,H=O):oe=oe.next=Ee,Ut.lanes|=Pe,jl|=Pe;xe=xe.next}while(xe!==null&&xe!==l);if(oe===null?H=O:oe.next=J,!p(O,s.memoizedState)&&(ai=!0,Oe&&(h=Uc,h!==null)))throw h;s.memoizedState=O,s.baseState=H,s.baseQueue=oe,x.lastRenderedState=O}return _===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Zp(s){var l=Vr(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var x=h.dispatch,_=h.pending,O=l.memoizedState;if(_!==null){h.pending=null;var H=_=_.next;do O=s(O,H.action),H=H.next;while(H!==_);p(O,l.memoizedState)||(ai=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),h.lastRenderedState=O}return[O,x]}function GA(s,l,h){var x=Ut,_=Vr(),O=gn;if(O){if(h===void 0)throw Error(r(407));h=h()}else h=l();var H=!p((Rn||_).memoizedState,h);H&&(_.memoizedState=h,ai=!0),_=_.queue;var J=$A.bind(null,x,_,s);if(Ah(2048,8,J,[s]),_.getSnapshot!==l||H||Fr!==null&&Fr.memoizedState.tag&1){if(x.flags|=2048,Hc(9,L0(),WA.bind(null,x,_,h,l),null),qn===null)throw Error(r(349));O||(Rl&124)!==0||YA(x,l,h)}return h}function YA(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Ut.updateQueue,l===null?(l=Xp(),Ut.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function WA(s,l,h,x){l.value=h,l.getSnapshot=x,XA(l)&&KA(s)}function $A(s,l,h){return h(function(){XA(l)&&KA(s)})}function XA(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!p(s,h)}catch{return!0}}function KA(s){var l=Pc(s,2);l!==null&&Ba(l,s,2)}function Jp(s){var l=ha();if(typeof s=="function"){var h=s;if(s=h(),Uu){pt(!0);try{h()}finally{pt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:s},l}function QA(s,l,h,x){return s.baseState=h,Qp(s,Rn,typeof x=="function"?x:ko)}function y9(s,l,h,x,_){if(j0(s))throw Error(r(485));if(s=l.action,s!==null){var O={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){O.listeners.push(H)}};le.T!==null?h(!0):O.isTransition=!1,x(O),h=l.pending,h===null?(O.next=l.pending=O,ZA(l,O)):(O.next=h.next,l.pending=h.next=O)}}function ZA(s,l){var h=l.action,x=l.payload,_=s.state;if(l.isTransition){var O=le.T,H={};le.T=H;try{var J=h(_,x),oe=le.S;oe!==null&&oe(H,J),JA(s,l,J)}catch(xe){ey(s,l,xe)}finally{le.T=O}}else try{O=h(_,x),JA(s,l,O)}catch(xe){ey(s,l,xe)}}function JA(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){eS(s,l,x)},function(x){return ey(s,l,x)}):eS(s,l,h)}function eS(s,l,h){l.status="fulfilled",l.value=h,tS(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,ZA(s,h)))}function ey(s,l,h){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=h,tS(l),l=l.next;while(l!==x)}s.action=null}function tS(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function nS(s,l){return l}function rS(s,l){if(gn){var h=qn.formState;if(h!==null){e:{var x=Ut;if(gn){if(Er){t:{for(var _=Er,O=no;_.nodeType!==8;){if(!O){_=null;break t}if(_=Bs(_.nextSibling),_===null){_=null;break t}}O=_.data,_=O==="F!"||O==="F"?_:null}if(_){Er=Bs(_.nextSibling),x=_.data==="F!";break e}}Lu(x)}x=!1}x&&(l=h[0])}}return h=ha(),h.memoizedState=h.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nS,lastRenderedState:l},h.queue=x,h=ES.bind(null,Ut,x),x.dispatch=h,x=Jp(!1),O=ay.bind(null,Ut,!1,x.queue),x=ha(),_={state:l,dispatch:null,action:s,pending:null},x.queue=_,h=y9.bind(null,Ut,_,O,h),_.dispatch=h,x.memoizedState=s,[l,h,!1]}function iS(s){var l=Vr();return aS(l,Rn,s)}function aS(s,l,h){if(l=Qp(s,l,nS)[0],s=P0(ko)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=Eh(l)}catch(H){throw H===ph?I0:H}else x=l;l=Vr();var _=l.queue,O=_.dispatch;return h!==l.memoizedState&&(Ut.flags|=2048,Hc(9,L0(),v9.bind(null,_,h),null)),[x,O,s]}function v9(s,l){s.action=l}function sS(s){var l=Vr(),h=Rn;if(h!==null)return aS(l,h,s);Vr(),l=l.memoizedState,h=Vr();var x=h.queue.dispatch;return h.memoizedState=s,[l,x,!1]}function Hc(s,l,h,x){return s={tag:s,create:h,deps:x,inst:l,next:null},l=Ut.updateQueue,l===null&&(l=Xp(),Ut.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(x=h.next,h.next=s,s.next=x,l.lastEffect=s),s}function L0(){return{destroy:void 0,resource:void 0}}function oS(){return Vr().memoizedState}function k0(s,l,h,x){var _=ha();x=x===void 0?null:x,Ut.flags|=s,_.memoizedState=Hc(1|l,L0(),h,x)}function Ah(s,l,h,x){var _=Vr();x=x===void 0?null:x;var O=_.memoizedState.inst;Rn!==null&&x!==null&&qp(x,Rn.memoizedState.deps)?_.memoizedState=Hc(l,O,h,x):(Ut.flags|=s,_.memoizedState=Hc(1|l,O,h,x))}function lS(s,l){k0(8390656,8,s,l)}function uS(s,l){Ah(2048,8,s,l)}function cS(s,l){return Ah(4,2,s,l)}function fS(s,l){return Ah(4,4,s,l)}function hS(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function dS(s,l,h){h=h!=null?h.concat([s]):null,Ah(4,4,hS.bind(null,l,s),h)}function ty(){}function gS(s,l){var h=Vr();l=l===void 0?null:l;var x=h.memoizedState;return l!==null&&qp(l,x[1])?x[0]:(h.memoizedState=[s,l],s)}function mS(s,l){var h=Vr();l=l===void 0?null:l;var x=h.memoizedState;if(l!==null&&qp(l,x[1]))return x[0];if(x=s(),Uu){pt(!0);try{s()}finally{pt(!1)}}return h.memoizedState=[x,l],x}function ny(s,l,h){return h===void 0||(Rl&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=v_(),Ut.lanes|=s,jl|=s,h)}function pS(s,l,h,x){return p(h,l)?h:Fc.current!==null?(s=ny(s,h,x),p(s,l)||(ai=!0),s):(Rl&42)===0?(ai=!0,s.memoizedState=h):(s=v_(),Ut.lanes|=s,jl|=s,l)}function yS(s,l,h,x,_){var O=ue.p;ue.p=O!==0&&8>O?O:8;var H=le.T,J={};le.T=J,ay(s,!1,l,h);try{var oe=_(),xe=le.S;if(xe!==null&&xe(J,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Oe=g9(oe,x);Sh(s,l,Oe,ja(s))}else Sh(s,l,x,ja(s))}catch(Pe){Sh(s,l,{then:function(){},status:"rejected",reason:Pe},ja())}finally{ue.p=O,le.T=H}}function x9(){}function ry(s,l,h,x){if(s.tag!==5)throw Error(r(476));var _=vS(s).queue;yS(s,_,l,Ie,h===null?x9:function(){return xS(s),h(x)})}function vS(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:Ie},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function xS(s){var l=vS(s).next.queue;Sh(s,l,{},ja())}function iy(){return Ui(zh)}function bS(){return Vr().memoizedState}function wS(){return Vr().memoizedState}function b9(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=ja();s=Il(h);var x=Ol(l,s,h);x!==null&&(Ba(x,l,h),vh(x,l,h)),l={cache:Pp()},s.payload=l;return}l=l.return}}function w9(s,l,h){var x=ja();h={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},j0(s)?AS(l,h):(h=Sp(s,l,h,x),h!==null&&(Ba(h,s,x),SS(h,l,x)))}function ES(s,l,h){var x=ja();Sh(s,l,h,x)}function Sh(s,l,h,x){var _={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(j0(s))AS(l,_);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var H=l.lastRenderedState,J=O(H,h);if(_.hasEagerState=!0,_.eagerState=J,p(J,H))return b0(s,l,_,0),qn===null&&x0(),!1}catch{}finally{}if(h=Sp(s,l,_,x),h!==null)return Ba(h,s,x),SS(h,l,x),!0}return!1}function ay(s,l,h,x){if(x={lane:2,revertLane:jy(),action:x,hasEagerState:!1,eagerState:null,next:null},j0(s)){if(l)throw Error(r(479))}else l=Sp(s,h,x,2),l!==null&&Ba(l,s,2)}function j0(s){var l=s.alternate;return s===Ut||l!==null&&l===Ut}function AS(s,l){Vc=N0=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function SS(s,l,h){if((h&4194048)!==0){var x=l.lanes;x&=s.pendingLanes,h|=x,l.lanes=h,pi(s,h)}}var B0={readContext:Ui,use:M0,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useInsertionEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useSyncExternalStore:Dr,useId:Dr,useHostTransitionStatus:Dr,useFormState:Dr,useActionState:Dr,useOptimistic:Dr,useMemoCache:Dr,useCacheRefresh:Dr},_S={readContext:Ui,use:M0,useCallback:function(s,l){return ha().memoizedState=[s,l===void 0?null:l],s},useContext:Ui,useEffect:lS,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,k0(4194308,4,hS.bind(null,l,s),h)},useLayoutEffect:function(s,l){return k0(4194308,4,s,l)},useInsertionEffect:function(s,l){k0(4,2,s,l)},useMemo:function(s,l){var h=ha();l=l===void 0?null:l;var x=s();if(Uu){pt(!0);try{s()}finally{pt(!1)}}return h.memoizedState=[x,l],x},useReducer:function(s,l,h){var x=ha();if(h!==void 0){var _=h(l);if(Uu){pt(!0);try{h(l)}finally{pt(!1)}}}else _=l;return x.memoizedState=x.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},x.queue=s,s=s.dispatch=w9.bind(null,Ut,s),[x.memoizedState,s]},useRef:function(s){var l=ha();return s={current:s},l.memoizedState=s},useState:function(s){s=Jp(s);var l=s.queue,h=ES.bind(null,Ut,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:ty,useDeferredValue:function(s,l){var h=ha();return ny(h,s,l)},useTransition:function(){var s=Jp(!1);return s=yS.bind(null,Ut,s.queue,!0,!1),ha().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var x=Ut,_=ha();if(gn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),qn===null)throw Error(r(349));(tn&124)!==0||YA(x,l,h)}_.memoizedState=h;var O={value:h,getSnapshot:l};return _.queue=O,lS($A.bind(null,x,O,s),[s]),x.flags|=2048,Hc(9,L0(),WA.bind(null,x,O,h,l),null),h},useId:function(){var s=ha(),l=qn.identifierPrefix;if(gn){var h=Mo,x=Do;h=(x&~(1<<32-st(x)-1)).toString(32)+h,l="«"+l+"R"+h,h=D0++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=m9++,l="«"+l+"r"+h.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:iy,useFormState:rS,useActionState:rS,useOptimistic:function(s){var l=ha();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=ay.bind(null,Ut,!0,h),h.dispatch=l,[s,l]},useMemoCache:Kp,useCacheRefresh:function(){return ha().memoizedState=b9.bind(null,Ut)}},CS={readContext:Ui,use:M0,useCallback:gS,useContext:Ui,useEffect:uS,useImperativeHandle:dS,useInsertionEffect:cS,useLayoutEffect:fS,useMemo:mS,useReducer:P0,useRef:oS,useState:function(){return P0(ko)},useDebugValue:ty,useDeferredValue:function(s,l){var h=Vr();return pS(h,Rn.memoizedState,s,l)},useTransition:function(){var s=P0(ko)[0],l=Vr().memoizedState;return[typeof s=="boolean"?s:Eh(s),l]},useSyncExternalStore:GA,useId:bS,useHostTransitionStatus:iy,useFormState:iS,useActionState:iS,useOptimistic:function(s,l){var h=Vr();return QA(h,Rn,s,l)},useMemoCache:Kp,useCacheRefresh:wS},E9={readContext:Ui,use:M0,useCallback:gS,useContext:Ui,useEffect:uS,useImperativeHandle:dS,useInsertionEffect:cS,useLayoutEffect:fS,useMemo:mS,useReducer:Zp,useRef:oS,useState:function(){return Zp(ko)},useDebugValue:ty,useDeferredValue:function(s,l){var h=Vr();return Rn===null?ny(h,s,l):pS(h,Rn.memoizedState,s,l)},useTransition:function(){var s=Zp(ko)[0],l=Vr().memoizedState;return[typeof s=="boolean"?s:Eh(s),l]},useSyncExternalStore:GA,useId:bS,useHostTransitionStatus:iy,useFormState:sS,useActionState:sS,useOptimistic:function(s,l){var h=Vr();return Rn!==null?QA(h,Rn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:wS},qc=null,_h=0;function U0(s){var l=_h;return _h+=1,qc===null&&(qc=[]),jA(qc,s,l)}function Ch(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function F0(s,l){throw l.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function TS(s){var l=s._init;return l(s._payload)}function IS(s){function l(de,he){if(s){var ve=de.deletions;ve===null?(de.deletions=[he],de.flags|=16):ve.push(he)}}function h(de,he){if(!s)return null;for(;he!==null;)l(de,he),he=he.sibling;return null}function x(de){for(var he=new Map;de!==null;)de.key!==null?he.set(de.key,de):he.set(de.index,de),de=de.sibling;return he}function _(de,he){return de=No(de,he),de.index=0,de.sibling=null,de}function O(de,he,ve){return de.index=ve,s?(ve=de.alternate,ve!==null?(ve=ve.index,ve<he?(de.flags|=67108866,he):ve):(de.flags|=67108866,he)):(de.flags|=1048576,he)}function H(de){return s&&de.alternate===null&&(de.flags|=67108866),de}function J(de,he,ve,Ne){return he===null||he.tag!==6?(he=Cp(ve,de.mode,Ne),he.return=de,he):(he=_(he,ve),he.return=de,he)}function oe(de,he,ve,Ne){var nt=ve.type;return nt===R?Oe(de,he,ve.props.children,Ne,ve.key):he!==null&&(he.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===V&&TS(nt)===he.type)?(he=_(he,ve.props),Ch(he,ve),he.return=de,he):(he=E0(ve.type,ve.key,ve.props,null,de.mode,Ne),Ch(he,ve),he.return=de,he)}function xe(de,he,ve,Ne){return he===null||he.tag!==4||he.stateNode.containerInfo!==ve.containerInfo||he.stateNode.implementation!==ve.implementation?(he=Tp(ve,de.mode,Ne),he.return=de,he):(he=_(he,ve.children||[]),he.return=de,he)}function Oe(de,he,ve,Ne,nt){return he===null||he.tag!==7?(he=Nu(ve,de.mode,Ne,nt),he.return=de,he):(he=_(he,ve),he.return=de,he)}function Pe(de,he,ve){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=Cp(""+he,de.mode,ve),he.return=de,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case S:return ve=E0(he.type,he.key,he.props,null,de.mode,ve),Ch(ve,he),ve.return=de,ve;case T:return he=Tp(he,de.mode,ve),he.return=de,he;case V:var Ne=he._init;return he=Ne(he._payload),Pe(de,he,ve)}if(se(he)||X(he))return he=Nu(he,de.mode,ve,null),he.return=de,he;if(typeof he.then=="function")return Pe(de,U0(he),ve);if(he.$$typeof===q)return Pe(de,C0(de,he),ve);F0(de,he)}return null}function Ee(de,he,ve,Ne){var nt=he!==null?he.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return nt!==null?null:J(de,he,""+ve,Ne);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return ve.key===nt?oe(de,he,ve,Ne):null;case T:return ve.key===nt?xe(de,he,ve,Ne):null;case V:return nt=ve._init,ve=nt(ve._payload),Ee(de,he,ve,Ne)}if(se(ve)||X(ve))return nt!==null?null:Oe(de,he,ve,Ne,null);if(typeof ve.then=="function")return Ee(de,he,U0(ve),Ne);if(ve.$$typeof===q)return Ee(de,he,C0(de,ve),Ne);F0(de,ve)}return null}function _e(de,he,ve,Ne,nt){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return de=de.get(ve)||null,J(he,de,""+Ne,nt);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case S:return de=de.get(Ne.key===null?ve:Ne.key)||null,oe(he,de,Ne,nt);case T:return de=de.get(Ne.key===null?ve:Ne.key)||null,xe(he,de,Ne,nt);case V:var Vt=Ne._init;return Ne=Vt(Ne._payload),_e(de,he,ve,Ne,nt)}if(se(Ne)||X(Ne))return de=de.get(ve)||null,Oe(he,de,Ne,nt,null);if(typeof Ne.then=="function")return _e(de,he,ve,U0(Ne),nt);if(Ne.$$typeof===q)return _e(de,he,ve,C0(he,Ne),nt);F0(he,Ne)}return null}function At(de,he,ve,Ne){for(var nt=null,Vt=null,ct=he,xt=he=0,oi=null;ct!==null&&xt<ve.length;xt++){ct.index>xt?(oi=ct,ct=null):oi=ct.sibling;var cn=Ee(de,ct,ve[xt],Ne);if(cn===null){ct===null&&(ct=oi);break}s&&ct&&cn.alternate===null&&l(de,ct),he=O(cn,he,xt),Vt===null?nt=cn:Vt.sibling=cn,Vt=cn,ct=oi}if(xt===ve.length)return h(de,ct),gn&&Mu(de,xt),nt;if(ct===null){for(;xt<ve.length;xt++)ct=Pe(de,ve[xt],Ne),ct!==null&&(he=O(ct,he,xt),Vt===null?nt=ct:Vt.sibling=ct,Vt=ct);return gn&&Mu(de,xt),nt}for(ct=x(ct);xt<ve.length;xt++)oi=_e(ct,de,xt,ve[xt],Ne),oi!==null&&(s&&oi.alternate!==null&&ct.delete(oi.key===null?xt:oi.key),he=O(oi,he,xt),Vt===null?nt=oi:Vt.sibling=oi,Vt=oi);return s&&ct.forEach(function(Yl){return l(de,Yl)}),gn&&Mu(de,xt),nt}function yt(de,he,ve,Ne){if(ve==null)throw Error(r(151));for(var nt=null,Vt=null,ct=he,xt=he=0,oi=null,cn=ve.next();ct!==null&&!cn.done;xt++,cn=ve.next()){ct.index>xt?(oi=ct,ct=null):oi=ct.sibling;var Yl=Ee(de,ct,cn.value,Ne);if(Yl===null){ct===null&&(ct=oi);break}s&&ct&&Yl.alternate===null&&l(de,ct),he=O(Yl,he,xt),Vt===null?nt=Yl:Vt.sibling=Yl,Vt=Yl,ct=oi}if(cn.done)return h(de,ct),gn&&Mu(de,xt),nt;if(ct===null){for(;!cn.done;xt++,cn=ve.next())cn=Pe(de,cn.value,Ne),cn!==null&&(he=O(cn,he,xt),Vt===null?nt=cn:Vt.sibling=cn,Vt=cn);return gn&&Mu(de,xt),nt}for(ct=x(ct);!cn.done;xt++,cn=ve.next())cn=_e(ct,de,xt,cn.value,Ne),cn!==null&&(s&&cn.alternate!==null&&ct.delete(cn.key===null?xt:cn.key),he=O(cn,he,xt),Vt===null?nt=cn:Vt.sibling=cn,Vt=cn);return s&&ct.forEach(function(AL){return l(de,AL)}),gn&&Mu(de,xt),nt}function Dn(de,he,ve,Ne){if(typeof ve=="object"&&ve!==null&&ve.type===R&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:e:{for(var nt=ve.key;he!==null;){if(he.key===nt){if(nt=ve.type,nt===R){if(he.tag===7){h(de,he.sibling),Ne=_(he,ve.props.children),Ne.return=de,de=Ne;break e}}else if(he.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===V&&TS(nt)===he.type){h(de,he.sibling),Ne=_(he,ve.props),Ch(Ne,ve),Ne.return=de,de=Ne;break e}h(de,he);break}else l(de,he);he=he.sibling}ve.type===R?(Ne=Nu(ve.props.children,de.mode,Ne,ve.key),Ne.return=de,de=Ne):(Ne=E0(ve.type,ve.key,ve.props,null,de.mode,Ne),Ch(Ne,ve),Ne.return=de,de=Ne)}return H(de);case T:e:{for(nt=ve.key;he!==null;){if(he.key===nt)if(he.tag===4&&he.stateNode.containerInfo===ve.containerInfo&&he.stateNode.implementation===ve.implementation){h(de,he.sibling),Ne=_(he,ve.children||[]),Ne.return=de,de=Ne;break e}else{h(de,he);break}else l(de,he);he=he.sibling}Ne=Tp(ve,de.mode,Ne),Ne.return=de,de=Ne}return H(de);case V:return nt=ve._init,ve=nt(ve._payload),Dn(de,he,ve,Ne)}if(se(ve))return At(de,he,ve,Ne);if(X(ve)){if(nt=X(ve),typeof nt!="function")throw Error(r(150));return ve=nt.call(ve),yt(de,he,ve,Ne)}if(typeof ve.then=="function")return Dn(de,he,U0(ve),Ne);if(ve.$$typeof===q)return Dn(de,he,C0(de,ve),Ne);F0(de,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,he!==null&&he.tag===6?(h(de,he.sibling),Ne=_(he,ve),Ne.return=de,de=Ne):(h(de,he),Ne=Cp(ve,de.mode,Ne),Ne.return=de,de=Ne),H(de)):h(de,he)}return function(de,he,ve,Ne){try{_h=0;var nt=Dn(de,he,ve,Ne);return qc=null,nt}catch(ct){if(ct===ph||ct===I0)throw ct;var Vt=Ma(29,ct,null,de.mode);return Vt.lanes=Ne,Vt.return=de,Vt}finally{}}}var Gc=IS(!0),OS=IS(!1),gs=be(null),ro=null;function Nl(s){var l=s.alternate;ke(Qr,Qr.current&1),ke(gs,s),ro===null&&(l===null||Fc.current!==null||l.memoizedState!==null)&&(ro=s)}function RS(s){if(s.tag===22){if(ke(Qr,Qr.current),ke(gs,s),ro===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(ro=s)}}else Dl()}function Dl(){ke(Qr,Qr.current),ke(gs,gs.current)}function jo(s){Te(gs),ro===s&&(ro=null),Te(Qr)}var Qr=be(0);function V0(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Xy(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function sy(s,l,h,x){l=s.memoizedState,h=h(x,l),h=h==null?l:v({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var oy={enqueueSetState:function(s,l,h){s=s._reactInternals;var x=ja(),_=Il(x);_.payload=l,h!=null&&(_.callback=h),l=Ol(s,_,x),l!==null&&(Ba(l,s,x),vh(l,s,x))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var x=ja(),_=Il(x);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=Ol(s,_,x),l!==null&&(Ba(l,s,x),vh(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=ja(),x=Il(h);x.tag=2,l!=null&&(x.callback=l),l=Ol(s,x,h),l!==null&&(Ba(l,s,h),vh(l,s,h))}};function NS(s,l,h,x,_,O,H){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,O,H):l.prototype&&l.prototype.isPureReactComponent?!y(h,x)||!y(_,O):!0}function DS(s,l,h,x){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==s&&oy.enqueueReplaceState(l,l.state,null)}function Fu(s,l){var h=l;if("ref"in l){h={};for(var x in l)x!=="ref"&&(h[x]=l[x])}if(s=s.defaultProps){h===l&&(h=v({},h));for(var _ in s)h[_]===void 0&&(h[_]=s[_])}return h}var z0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function MS(s){z0(s)}function PS(s){console.error(s)}function LS(s){z0(s)}function H0(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function kS(s,l,h){try{var x=s.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ly(s,l,h){return h=Il(h),h.tag=3,h.payload={element:null},h.callback=function(){H0(s,l)},h}function jS(s){return s=Il(s),s.tag=3,s}function BS(s,l,h,x){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var O=x.value;s.payload=function(){return _(O)},s.callback=function(){kS(l,h,x)}}var H=h.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(s.callback=function(){kS(l,h,x),typeof _!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var J=x.stack;this.componentDidCatch(x.value,{componentStack:J!==null?J:""})})}function A9(s,l,h,x,_){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=h.alternate,l!==null&&dh(l,h,_,!0),h=gs.current,h!==null){switch(h.tag){case 13:return ro===null?Dy():h.alternate===null&&Ar===0&&(Ar=3),h.flags&=-257,h.flags|=65536,h.lanes=_,x===jp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([x]):l.add(x),Py(s,x,_)),!1;case 22:return h.flags|=65536,x===jp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([x]):h.add(x)),Py(s,x,_)),!1}throw Error(r(435,h.tag))}return Py(s,x,_),Dy(),!1}if(gn)return l=gs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,x!==Rp&&(s=Error(r(422),{cause:x}),hh(cs(s,h)))):(x!==Rp&&(l=Error(r(423),{cause:x}),hh(cs(l,h))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,x=cs(x,h),_=ly(s.stateNode,x,_),Fp(s,_),Ar!==4&&(Ar=2)),!1;var O=Error(r(520),{cause:x});if(O=cs(O,h),Mh===null?Mh=[O]:Mh.push(O),Ar!==4&&(Ar=2),l===null)return!0;x=cs(x,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=_&-_,h.lanes|=s,s=ly(h.stateNode,x,s),Fp(h,s),!1;case 1:if(l=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Bl===null||!Bl.has(O))))return h.flags|=65536,_&=-_,h.lanes|=_,_=jS(_),BS(_,s,h,x),Fp(h,_),!1}h=h.return}while(h!==null);return!1}var US=Error(r(461)),ai=!1;function wi(s,l,h,x){l.child=s===null?OS(l,null,h,x):Gc(l,s.child,h,x)}function FS(s,l,h,x,_){h=h.render;var O=l.ref;if("ref"in x){var H={};for(var J in x)J!=="ref"&&(H[J]=x[J])}else H=x;return ju(l),x=Gp(s,l,h,H,O,_),J=Yp(),s!==null&&!ai?(Wp(s,l,_),Bo(s,l,_)):(gn&&J&&Ip(l),l.flags|=1,wi(s,l,x,_),l.child)}function VS(s,l,h,x,_){if(s===null){var O=h.type;return typeof O=="function"&&!_p(O)&&O.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=O,zS(s,l,O,x,_)):(s=E0(h.type,null,x,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(O=s.child,!py(s,_)){var H=O.memoizedProps;if(h=h.compare,h=h!==null?h:y,h(H,x)&&s.ref===l.ref)return Bo(s,l,_)}return l.flags|=1,s=No(O,x),s.ref=l.ref,s.return=l,l.child=s}function zS(s,l,h,x,_){if(s!==null){var O=s.memoizedProps;if(y(O,x)&&s.ref===l.ref)if(ai=!1,l.pendingProps=x=O,py(s,_))(s.flags&131072)!==0&&(ai=!0);else return l.lanes=s.lanes,Bo(s,l,_)}return uy(s,l,h,x,_)}function HS(s,l,h){var x=l.pendingProps,_=x.children,O=s!==null?s.memoizedState:null;if(x.mode==="hidden"){if((l.flags&128)!==0){if(x=O!==null?O.baseLanes|h:h,s!==null){for(_=l.child=s.child,O=0;_!==null;)O=O|_.lanes|_.childLanes,_=_.sibling;l.childLanes=O&~x}else l.childLanes=0,l.child=null;return qS(s,l,x,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&T0(l,O!==null?O.cachePool:null),O!==null?zA(l,O):zp(),RS(l);else return l.lanes=l.childLanes=536870912,qS(s,l,O!==null?O.baseLanes|h:h,h)}else O!==null?(T0(l,O.cachePool),zA(l,O),Dl(),l.memoizedState=null):(s!==null&&T0(l,null),zp(),Dl());return wi(s,l,_,h),l.child}function qS(s,l,h,x){var _=kp();return _=_===null?null:{parent:Kr._currentValue,pool:_},l.memoizedState={baseLanes:h,cachePool:_},s!==null&&T0(l,null),zp(),RS(l),s!==null&&dh(s,l,x,!0),null}function q0(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function uy(s,l,h,x,_){return ju(l),h=Gp(s,l,h,x,void 0,_),x=Yp(),s!==null&&!ai?(Wp(s,l,_),Bo(s,l,_)):(gn&&x&&Ip(l),l.flags|=1,wi(s,l,h,_),l.child)}function GS(s,l,h,x,_,O){return ju(l),l.updateQueue=null,h=qA(l,x,h,_),HA(s),x=Yp(),s!==null&&!ai?(Wp(s,l,O),Bo(s,l,O)):(gn&&x&&Ip(l),l.flags|=1,wi(s,l,h,O),l.child)}function YS(s,l,h,x,_){if(ju(l),l.stateNode===null){var O=Lc,H=h.contextType;typeof H=="object"&&H!==null&&(O=Ui(H)),O=new h(x,O),l.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=oy,l.stateNode=O,O._reactInternals=l,O=l.stateNode,O.props=x,O.state=l.memoizedState,O.refs={},Bp(l),H=h.contextType,O.context=typeof H=="object"&&H!==null?Ui(H):Lc,O.state=l.memoizedState,H=h.getDerivedStateFromProps,typeof H=="function"&&(sy(l,h,H,x),O.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(H=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),H!==O.state&&oy.enqueueReplaceState(O,O.state,null),bh(l,x,O,_),xh(),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(s===null){O=l.stateNode;var J=l.memoizedProps,oe=Fu(h,J);O.props=oe;var xe=O.context,Oe=h.contextType;H=Lc,typeof Oe=="object"&&Oe!==null&&(H=Ui(Oe));var Pe=h.getDerivedStateFromProps;Oe=typeof Pe=="function"||typeof O.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,Oe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(J||xe!==H)&&DS(l,O,x,H),Tl=!1;var Ee=l.memoizedState;O.state=Ee,bh(l,x,O,_),xh(),xe=l.memoizedState,J||Ee!==xe||Tl?(typeof Pe=="function"&&(sy(l,h,Pe,x),xe=l.memoizedState),(oe=Tl||NS(l,h,oe,x,Ee,xe,H))?(Oe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=xe),O.props=x,O.state=xe,O.context=H,x=oe):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{O=l.stateNode,Up(s,l),H=l.memoizedProps,Oe=Fu(h,H),O.props=Oe,Pe=l.pendingProps,Ee=O.context,xe=h.contextType,oe=Lc,typeof xe=="object"&&xe!==null&&(oe=Ui(xe)),J=h.getDerivedStateFromProps,(xe=typeof J=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(H!==Pe||Ee!==oe)&&DS(l,O,x,oe),Tl=!1,Ee=l.memoizedState,O.state=Ee,bh(l,x,O,_),xh();var _e=l.memoizedState;H!==Pe||Ee!==_e||Tl||s!==null&&s.dependencies!==null&&_0(s.dependencies)?(typeof J=="function"&&(sy(l,h,J,x),_e=l.memoizedState),(Oe=Tl||NS(l,h,Oe,x,Ee,_e,oe)||s!==null&&s.dependencies!==null&&_0(s.dependencies))?(xe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,_e,oe),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,_e,oe)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=_e),O.props=x,O.state=_e,O.context=oe,x=Oe):(typeof O.componentDidUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),x=!1)}return O=x,q0(s,l),x=(l.flags&128)!==0,O||x?(O=l.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:O.render(),l.flags|=1,s!==null&&x?(l.child=Gc(l,s.child,null,_),l.child=Gc(l,null,h,_)):wi(s,l,h,_),l.memoizedState=O.state,s=l.child):s=Bo(s,l,_),s}function WS(s,l,h,x){return fh(),l.flags|=256,wi(s,l,h,x),l.child}var cy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fy(s){return{baseLanes:s,cachePool:PA()}}function hy(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=ms),s}function $S(s,l,h){var x=l.pendingProps,_=!1,O=(l.flags&128)!==0,H;if((H=O)||(H=s!==null&&s.memoizedState===null?!1:(Qr.current&2)!==0),H&&(_=!0,l.flags&=-129),H=(l.flags&32)!==0,l.flags&=-33,s===null){if(gn){if(_?Nl(l):Dl(),gn){var J=Er,oe;if(oe=J){e:{for(oe=J,J=no;oe.nodeType!==8;){if(!J){J=null;break e}if(oe=Bs(oe.nextSibling),oe===null){J=null;break e}}J=oe}J!==null?(l.memoizedState={dehydrated:J,treeContext:Du!==null?{id:Do,overflow:Mo}:null,retryLane:536870912,hydrationErrors:null},oe=Ma(18,null,null,0),oe.stateNode=J,oe.return=l,l.child=oe,Qi=l,Er=null,oe=!0):oe=!1}oe||Lu(l)}if(J=l.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return Xy(J)?l.lanes=32:l.lanes=536870912,null;jo(l)}return J=x.children,x=x.fallback,_?(Dl(),_=l.mode,J=G0({mode:"hidden",children:J},_),x=Nu(x,_,h,null),J.return=l,x.return=l,J.sibling=x,l.child=J,_=l.child,_.memoizedState=fy(h),_.childLanes=hy(s,H,h),l.memoizedState=cy,x):(Nl(l),dy(l,J))}if(oe=s.memoizedState,oe!==null&&(J=oe.dehydrated,J!==null)){if(O)l.flags&256?(Nl(l),l.flags&=-257,l=gy(s,l,h)):l.memoizedState!==null?(Dl(),l.child=s.child,l.flags|=128,l=null):(Dl(),_=x.fallback,J=l.mode,x=G0({mode:"visible",children:x.children},J),_=Nu(_,J,h,null),_.flags|=2,x.return=l,_.return=l,x.sibling=_,l.child=x,Gc(l,s.child,null,h),x=l.child,x.memoizedState=fy(h),x.childLanes=hy(s,H,h),l.memoizedState=cy,l=_);else if(Nl(l),Xy(J)){if(H=J.nextSibling&&J.nextSibling.dataset,H)var xe=H.dgst;H=xe,x=Error(r(419)),x.stack="",x.digest=H,hh({value:x,source:null,stack:null}),l=gy(s,l,h)}else if(ai||dh(s,l,h,!1),H=(h&s.childLanes)!==0,ai||H){if(H=qn,H!==null&&(x=h&-h,x=(x&42)!==0?1:ts(x),x=(x&(H.suspendedLanes|h))!==0?0:x,x!==0&&x!==oe.retryLane))throw oe.retryLane=x,Pc(s,x),Ba(H,s,x),US;J.data==="$?"||Dy(),l=gy(s,l,h)}else J.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=oe.treeContext,Er=Bs(J.nextSibling),Qi=l,gn=!0,Pu=null,no=!1,s!==null&&(hs[ds++]=Do,hs[ds++]=Mo,hs[ds++]=Du,Do=s.id,Mo=s.overflow,Du=l),l=dy(l,x.children),l.flags|=4096);return l}return _?(Dl(),_=x.fallback,J=l.mode,oe=s.child,xe=oe.sibling,x=No(oe,{mode:"hidden",children:x.children}),x.subtreeFlags=oe.subtreeFlags&65011712,xe!==null?_=No(xe,_):(_=Nu(_,J,h,null),_.flags|=2),_.return=l,x.return=l,x.sibling=_,l.child=x,x=_,_=l.child,J=s.child.memoizedState,J===null?J=fy(h):(oe=J.cachePool,oe!==null?(xe=Kr._currentValue,oe=oe.parent!==xe?{parent:xe,pool:xe}:oe):oe=PA(),J={baseLanes:J.baseLanes|h,cachePool:oe}),_.memoizedState=J,_.childLanes=hy(s,H,h),l.memoizedState=cy,x):(Nl(l),h=s.child,s=h.sibling,h=No(h,{mode:"visible",children:x.children}),h.return=l,h.sibling=null,s!==null&&(H=l.deletions,H===null?(l.deletions=[s],l.flags|=16):H.push(s)),l.child=h,l.memoizedState=null,h)}function dy(s,l){return l=G0({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function G0(s,l){return s=Ma(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function gy(s,l,h){return Gc(l,s.child,null,h),s=dy(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function XS(s,l,h){s.lanes|=l;var x=s.alternate;x!==null&&(x.lanes|=l),Dp(s.return,l,h)}function my(s,l,h,x,_){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:_}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=h,O.tailMode=_)}function KS(s,l,h){var x=l.pendingProps,_=x.revealOrder,O=x.tail;if(wi(s,l,x.children,h),x=Qr.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&XS(s,h,l);else if(s.tag===19)XS(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}switch(ke(Qr,x),_){case"forwards":for(h=l.child,_=null;h!==null;)s=h.alternate,s!==null&&V0(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),my(l,!1,_,h,O);break;case"backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&V0(s)===null){l.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}my(l,!0,h,null,O);break;case"together":my(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Bo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),jl|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(dh(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=No(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=No(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function py(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&_0(s)))}function S9(s,l,h){switch(l.tag){case 3:vt(l,l.stateNode.containerInfo),Cl(l,Kr,s.memoizedState.cache),fh();break;case 27:case 5:gt(l);break;case 4:vt(l,l.stateNode.containerInfo);break;case 10:Cl(l,l.type,l.memoizedProps.value);break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(Nl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?$S(s,l,h):(Nl(l),s=Bo(s,l,h),s!==null?s.sibling:null);Nl(l);break;case 19:var _=(s.flags&128)!==0;if(x=(h&l.childLanes)!==0,x||(dh(s,l,h,!1),x=(h&l.childLanes)!==0),_){if(x)return KS(s,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ke(Qr,Qr.current),x)break;return null;case 22:case 23:return l.lanes=0,HS(s,l,h);case 24:Cl(l,Kr,s.memoizedState.cache)}return Bo(s,l,h)}function QS(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)ai=!0;else{if(!py(s,h)&&(l.flags&128)===0)return ai=!1,S9(s,l,h);ai=(s.flags&131072)!==0}else ai=!1,gn&&(l.flags&1048576)!==0&&TA(l,S0,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var x=l.elementType,_=x._init;if(x=_(x._payload),l.type=x,typeof x=="function")_p(x)?(s=Fu(x,s),l.tag=1,l=YS(null,l,x,s,h)):(l.tag=0,l=uy(null,l,x,s,h));else{if(x!=null){if(_=x.$$typeof,_===ee){l.tag=11,l=FS(null,l,x,s,h);break e}else if(_===k){l.tag=14,l=VS(null,l,x,s,h);break e}}throw l=ge(x)||x,Error(r(306,l,""))}}return l;case 0:return uy(s,l,l.type,l.pendingProps,h);case 1:return x=l.type,_=Fu(x,l.pendingProps),YS(s,l,x,_,h);case 3:e:{if(vt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));x=l.pendingProps;var O=l.memoizedState;_=O.element,Up(s,l),bh(l,x,null,h);var H=l.memoizedState;if(x=H.cache,Cl(l,Kr,x),x!==O.cache&&Mp(l,[Kr],h,!0),xh(),x=H.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:H.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=WS(s,l,x,h);break e}else if(x!==_){_=cs(Error(r(424)),l),hh(_),l=WS(s,l,x,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Er=Bs(s.firstChild),Qi=l,gn=!0,Pu=null,no=!0,h=OS(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fh(),x===_){l=Bo(s,l,h);break e}wi(s,l,x,h)}l=l.child}return l;case 26:return q0(s,l),s===null?(h=tC(l.type,null,l.pendingProps,null))?l.memoizedState=h:gn||(h=l.type,s=l.pendingProps,x=a1(je.current).createElement(h),x[Ir]=l,x[On]=s,Ai(x,h,s),on(x),l.stateNode=x):l.memoizedState=tC(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return gt(l),s===null&&gn&&(x=l.stateNode=Z_(l.type,l.pendingProps,je.current),Qi=l,no=!0,_=Er,Vl(l.type)?(Ky=_,Er=Bs(x.firstChild)):Er=_),wi(s,l,l.pendingProps.children,h),q0(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&gn&&((_=x=Er)&&(x=Z9(x,l.type,l.pendingProps,no),x!==null?(l.stateNode=x,Qi=l,Er=Bs(x.firstChild),no=!1,_=!0):_=!1),_||Lu(l)),gt(l),_=l.type,O=l.pendingProps,H=s!==null?s.memoizedProps:null,x=O.children,Yy(_,O)?x=null:H!==null&&Yy(_,H)&&(l.flags|=32),l.memoizedState!==null&&(_=Gp(s,l,p9,null,null,h),zh._currentValue=_),q0(s,l),wi(s,l,x,h),l.child;case 6:return s===null&&gn&&((s=h=Er)&&(h=J9(h,l.pendingProps,no),h!==null?(l.stateNode=h,Qi=l,Er=null,s=!0):s=!1),s||Lu(l)),null;case 13:return $S(s,l,h);case 4:return vt(l,l.stateNode.containerInfo),x=l.pendingProps,s===null?l.child=Gc(l,null,x,h):wi(s,l,x,h),l.child;case 11:return FS(s,l,l.type,l.pendingProps,h);case 7:return wi(s,l,l.pendingProps,h),l.child;case 8:return wi(s,l,l.pendingProps.children,h),l.child;case 12:return wi(s,l,l.pendingProps.children,h),l.child;case 10:return x=l.pendingProps,Cl(l,l.type,x.value),wi(s,l,x.children,h),l.child;case 9:return _=l.type._context,x=l.pendingProps.children,ju(l),_=Ui(_),x=x(_),l.flags|=1,wi(s,l,x,h),l.child;case 14:return VS(s,l,l.type,l.pendingProps,h);case 15:return zS(s,l,l.type,l.pendingProps,h);case 19:return KS(s,l,h);case 31:return x=l.pendingProps,h=l.mode,x={mode:x.mode,children:x.children},s===null?(h=G0(x,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=No(s.child,x),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return HS(s,l,h);case 24:return ju(l),x=Ui(Kr),s===null?(_=kp(),_===null&&(_=qn,O=Pp(),_.pooledCache=O,O.refCount++,O!==null&&(_.pooledCacheLanes|=h),_=O),l.memoizedState={parent:x,cache:_},Bp(l),Cl(l,Kr,_)):((s.lanes&h)!==0&&(Up(s,l),bh(l,null,null,h),xh()),_=s.memoizedState,O=l.memoizedState,_.parent!==x?(_={parent:x,cache:x},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Cl(l,Kr,x)):(x=O.cache,Cl(l,Kr,x),x!==_.cache&&Mp(l,[Kr],h,!0))),wi(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Uo(s){s.flags|=4}function ZS(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sC(l)){if(l=gs.current,l!==null&&((tn&4194048)===tn?ro!==null:(tn&62914560)!==tn&&(tn&536870912)===0||l!==ro))throw yh=jp,LA;s.flags|=8192}}function Y0(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?pl():536870912,s.lanes|=l,Xc|=l)}function Th(s,l){if(!gn)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function pr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,x=0;if(l)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,x|=_.subtreeFlags&65011712,x|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,x|=_.subtreeFlags,x|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=x,s.childLanes=h,l}function _9(s,l,h){var x=l.pendingProps;switch(Op(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(l),null;case 1:return pr(l),null;case 3:return h=l.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),Lo(Kr),Re(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(ch(l)?Uo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,RA())),pr(l),null;case 26:return h=l.memoizedState,s===null?(Uo(l),h!==null?(pr(l),ZS(l,h)):(pr(l),l.flags&=-16777217)):h?h!==s.memoizedState?(Uo(l),pr(l),ZS(l,h)):(pr(l),l.flags&=-16777217):(s.memoizedProps!==x&&Uo(l),pr(l),l.flags&=-16777217),null;case 27:it(l),h=je.current;var _=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Uo(l);else{if(!x){if(l.stateNode===null)throw Error(r(166));return pr(l),null}s=$e.current,ch(l)?IA(l):(s=Z_(_,x,h),l.stateNode=s,Uo(l))}return pr(l),null;case 5:if(it(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Uo(l);else{if(!x){if(l.stateNode===null)throw Error(r(166));return pr(l),null}if(s=$e.current,ch(l))IA(l);else{switch(_=a1(je.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof x.is=="string"?_.createElement("select",{is:x.is}):_.createElement("select"),x.multiple?s.multiple=!0:x.size&&(s.size=x.size);break;default:s=typeof x.is=="string"?_.createElement(h,{is:x.is}):_.createElement(h)}}s[Ir]=l,s[On]=x;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=s;e:switch(Ai(s,h,x),h){case"button":case"input":case"select":case"textarea":s=!!x.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Uo(l)}}return pr(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==x&&Uo(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(r(166));if(s=je.current,ch(l)){if(s=l.stateNode,h=l.memoizedProps,x=null,_=Qi,_!==null)switch(_.tag){case 27:case 5:x=_.memoizedProps}s[Ir]=l,s=!!(s.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||G_(s.nodeValue,h)),s||Lu(l)}else s=a1(s).createTextNode(x),s[Ir]=l,l.stateNode=s}return pr(l),null;case 13:if(x=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=ch(l),x!==null&&x.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Ir]=l}else fh(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pr(l),_=!1}else _=RA(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(jo(l),l):(jo(l),null)}if(jo(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=x!==null,s=s!==null&&s.memoizedState!==null,h){x=l.child,_=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(_=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==_&&(x.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),Y0(l,l.updateQueue),pr(l),null;case 4:return Re(),s===null&&Vy(l.stateNode.containerInfo),pr(l),null;case 10:return Lo(l.type),pr(l),null;case 19:if(Te(Qr),_=l.memoizedState,_===null)return pr(l),null;if(x=(l.flags&128)!==0,O=_.rendering,O===null)if(x)Th(_,!1);else{if(Ar!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(O=V0(s),O!==null){for(l.flags|=128,Th(_,!1),s=O.updateQueue,l.updateQueue=s,Y0(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)CA(h,s),h=h.sibling;return ke(Qr,Qr.current&1|2),l.child}s=s.sibling}_.tail!==null&&_t()>X0&&(l.flags|=128,x=!0,Th(_,!1),l.lanes=4194304)}else{if(!x)if(s=V0(O),s!==null){if(l.flags|=128,x=!0,s=s.updateQueue,l.updateQueue=s,Y0(l,s),Th(_,!0),_.tail===null&&_.tailMode==="hidden"&&!O.alternate&&!gn)return pr(l),null}else 2*_t()-_.renderingStartTime>X0&&h!==536870912&&(l.flags|=128,x=!0,Th(_,!1),l.lanes=4194304);_.isBackwards?(O.sibling=l.child,l.child=O):(s=_.last,s!==null?s.sibling=O:l.child=O,_.last=O)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=_t(),l.sibling=null,s=Qr.current,ke(Qr,x?s&1|2:s&1),l):(pr(l),null);case 22:case 23:return jo(l),Hp(),x=l.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(h&536870912)!==0&&(l.flags&128)===0&&(pr(l),l.subtreeFlags&6&&(l.flags|=8192)):pr(l),h=l.updateQueue,h!==null&&Y0(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==h&&(l.flags|=2048),s!==null&&Te(Bu),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Lo(Kr),pr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function C9(s,l){switch(Op(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Lo(Kr),Re(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return it(l),null;case 13:if(jo(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));fh()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Te(Qr),null;case 4:return Re(),null;case 10:return Lo(l.type),null;case 22:case 23:return jo(l),Hp(),s!==null&&Te(Bu),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Lo(Kr),null;case 25:return null;default:return null}}function JS(s,l){switch(Op(l),l.tag){case 3:Lo(Kr),Re();break;case 26:case 27:case 5:it(l);break;case 4:Re();break;case 13:jo(l);break;case 19:Te(Qr);break;case 10:Lo(l.type);break;case 22:case 23:jo(l),Hp(),s!==null&&Te(Bu);break;case 24:Lo(Kr)}}function Ih(s,l){try{var h=l.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var _=x.next;h=_;do{if((h.tag&s)===s){x=void 0;var O=h.create,H=h.inst;x=O(),H.destroy=x}h=h.next}while(h!==_)}}catch(J){Un(l,l.return,J)}}function Ml(s,l,h){try{var x=l.updateQueue,_=x!==null?x.lastEffect:null;if(_!==null){var O=_.next;x=O;do{if((x.tag&s)===s){var H=x.inst,J=H.destroy;if(J!==void 0){H.destroy=void 0,_=l;var oe=h,xe=J;try{xe()}catch(Oe){Un(_,oe,Oe)}}}x=x.next}while(x!==O)}}catch(Oe){Un(l,l.return,Oe)}}function e_(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{VA(l,h)}catch(x){Un(s,s.return,x)}}}function t_(s,l,h){h.props=Fu(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(x){Un(s,l,x)}}function Oh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof h=="function"?s.refCleanup=h(x):h.current=x}}catch(_){Un(s,l,_)}}function io(s,l){var h=s.ref,x=s.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(_){Un(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Un(s,l,_)}else h.current=null}function n_(s){var l=s.type,h=s.memoizedProps,x=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(_){Un(s,s.return,_)}}function yy(s,l,h){try{var x=s.stateNode;W9(x,s.type,h,l),x[On]=l}catch(_){Un(s,s.return,_)}}function r_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Vl(s.type)||s.tag===4}function vy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Vl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xy(s,l,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=i1));else if(x!==4&&(x===27&&Vl(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(xy(s,l,h),s=s.sibling;s!==null;)xy(s,l,h),s=s.sibling}function W0(s,l,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(x!==4&&(x===27&&Vl(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(W0(s,l,h),s=s.sibling;s!==null;)W0(s,l,h),s=s.sibling}function i_(s){var l=s.stateNode,h=s.memoizedProps;try{for(var x=s.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Ai(l,x,h),l[Ir]=s,l[On]=h}catch(O){Un(s,s.return,O)}}var Fo=!1,Mr=!1,by=!1,a_=typeof WeakSet=="function"?WeakSet:Set,si=null;function T9(s,l){if(s=s.containerInfo,qy=f1,s=D(s),B(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var _=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var H=0,J=-1,oe=-1,xe=0,Oe=0,Pe=s,Ee=null;t:for(;;){for(var _e;Pe!==h||_!==0&&Pe.nodeType!==3||(J=H+_),Pe!==O||x!==0&&Pe.nodeType!==3||(oe=H+x),Pe.nodeType===3&&(H+=Pe.nodeValue.length),(_e=Pe.firstChild)!==null;)Ee=Pe,Pe=_e;for(;;){if(Pe===s)break t;if(Ee===h&&++xe===_&&(J=H),Ee===O&&++Oe===x&&(oe=H),(_e=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=_e}h=J===-1||oe===-1?null:{start:J,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(Gy={focusedElem:s,selectionRange:h},f1=!1,si=l;si!==null;)if(l=si,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,si=s;else for(;si!==null;){switch(l=si,O=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,h=l,_=O.memoizedProps,O=O.memoizedState,x=h.stateNode;try{var At=Fu(h.type,_,h.elementType===h.type);s=x.getSnapshotBeforeUpdate(At,O),x.__reactInternalSnapshotBeforeUpdate=s}catch(yt){Un(h,h.return,yt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)$y(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$y(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,si=s;break}si=l.return}}function s_(s,l,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:Pl(s,h),x&4&&Ih(5,h);break;case 1:if(Pl(s,h),x&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(H){Un(h,h.return,H)}else{var _=Fu(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(H){Un(h,h.return,H)}}x&64&&e_(h),x&512&&Oh(h,h.return);break;case 3:if(Pl(s,h),x&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{VA(s,l)}catch(H){Un(h,h.return,H)}}break;case 27:l===null&&x&4&&i_(h);case 26:case 5:Pl(s,h),l===null&&x&4&&n_(h),x&512&&Oh(h,h.return);break;case 12:Pl(s,h);break;case 13:Pl(s,h),x&4&&u_(s,h),x&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=k9.bind(null,h),eL(s,h))));break;case 22:if(x=h.memoizedState!==null||Fo,!x){l=l!==null&&l.memoizedState!==null||Mr,_=Fo;var O=Mr;Fo=x,(Mr=l)&&!O?Ll(s,h,(h.subtreeFlags&8772)!==0):Pl(s,h),Fo=_,Mr=O}break;case 30:break;default:Pl(s,h)}}function o_(s){var l=s.alternate;l!==null&&(s.alternate=null,o_(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&ns(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lr=null,da=!1;function Vo(s,l,h){for(h=h.child;h!==null;)l_(s,l,h),h=h.sibling}function l_(s,l,h){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Ye,h)}catch{}switch(h.tag){case 26:Mr||io(h,l),Vo(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Mr||io(h,l);var x=lr,_=da;Vl(h.type)&&(lr=h.stateNode,da=!1),Vo(s,l,h),Bh(h.stateNode),lr=x,da=_;break;case 5:Mr||io(h,l);case 6:if(x=lr,_=da,lr=null,Vo(s,l,h),lr=x,da=_,lr!==null)if(da)try{(lr.nodeType===9?lr.body:lr.nodeName==="HTML"?lr.ownerDocument.body:lr).removeChild(h.stateNode)}catch(O){Un(h,l,O)}else try{lr.removeChild(h.stateNode)}catch(O){Un(h,l,O)}break;case 18:lr!==null&&(da?(s=lr,K_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Yh(s)):K_(lr,h.stateNode));break;case 4:x=lr,_=da,lr=h.stateNode.containerInfo,da=!0,Vo(s,l,h),lr=x,da=_;break;case 0:case 11:case 14:case 15:Mr||Ml(2,h,l),Mr||Ml(4,h,l),Vo(s,l,h);break;case 1:Mr||(io(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"&&t_(h,l,x)),Vo(s,l,h);break;case 21:Vo(s,l,h);break;case 22:Mr=(x=Mr)||h.memoizedState!==null,Vo(s,l,h),Mr=x;break;default:Vo(s,l,h)}}function u_(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yh(s)}catch(h){Un(l,l.return,h)}}function I9(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new a_),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new a_),l;default:throw Error(r(435,s.tag))}}function wy(s,l){var h=I9(s);l.forEach(function(x){var _=j9.bind(null,s,x);h.has(x)||(h.add(x),x.then(_,_))})}function Pa(s,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var _=h[x],O=s,H=l,J=H;e:for(;J!==null;){switch(J.tag){case 27:if(Vl(J.type)){lr=J.stateNode,da=!1;break e}break;case 5:lr=J.stateNode,da=!1;break e;case 3:case 4:lr=J.stateNode.containerInfo,da=!0;break e}J=J.return}if(lr===null)throw Error(r(160));l_(O,H,_),lr=null,da=!1,O=_.alternate,O!==null&&(O.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)c_(l,s),l=l.sibling}var js=null;function c_(s,l){var h=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Pa(l,s),La(s),x&4&&(Ml(3,s,s.return),Ih(3,s),Ml(5,s,s.return));break;case 1:Pa(l,s),La(s),x&512&&(Mr||h===null||io(h,h.return)),x&64&&Fo&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var _=js;if(Pa(l,s),La(s),x&512&&(Mr||h===null||io(h,h.return)),x&4){var O=h!==null?h.memoizedState:null;if(x=s.memoizedState,h===null)if(x===null)if(s.stateNode===null){e:{x=s.type,h=s.memoizedProps,_=_.ownerDocument||_;t:switch(x){case"title":O=_.getElementsByTagName("title")[0],(!O||O[ia]||O[Ir]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=_.createElement(x),_.head.insertBefore(O,_.querySelector("head > title"))),Ai(O,x,h),O[Ir]=s,on(O),x=O;break e;case"link":var H=iC("link","href",_).get(x+(h.href||""));if(H){for(var J=0;J<H.length;J++)if(O=H[J],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){H.splice(J,1);break t}}O=_.createElement(x),Ai(O,x,h),_.head.appendChild(O);break;case"meta":if(H=iC("meta","content",_).get(x+(h.content||""))){for(J=0;J<H.length;J++)if(O=H[J],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){H.splice(J,1);break t}}O=_.createElement(x),Ai(O,x,h),_.head.appendChild(O);break;default:throw Error(r(468,x))}O[Ir]=s,on(O),x=O}s.stateNode=x}else aC(_,s.type,s.stateNode);else s.stateNode=rC(_,x,s.memoizedProps);else O!==x?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,x===null?aC(_,s.type,s.stateNode):rC(_,x,s.memoizedProps)):x===null&&s.stateNode!==null&&yy(s,s.memoizedProps,h.memoizedProps)}break;case 27:Pa(l,s),La(s),x&512&&(Mr||h===null||io(h,h.return)),h!==null&&x&4&&yy(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Pa(l,s),La(s),x&512&&(Mr||h===null||io(h,h.return)),s.flags&32){_=s.stateNode;try{Qn(_,"")}catch(_e){Un(s,s.return,_e)}}x&4&&s.stateNode!=null&&(_=s.memoizedProps,yy(s,_,h!==null?h.memoizedProps:_)),x&1024&&(by=!0);break;case 6:if(Pa(l,s),La(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,h=s.stateNode;try{h.nodeValue=x}catch(_e){Un(s,s.return,_e)}}break;case 3:if(l1=null,_=js,js=s1(l.containerInfo),Pa(l,s),js=_,La(s),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Yh(l.containerInfo)}catch(_e){Un(s,s.return,_e)}by&&(by=!1,f_(s));break;case 4:x=js,js=s1(s.stateNode.containerInfo),Pa(l,s),La(s),js=x;break;case 12:Pa(l,s),La(s);break;case 13:Pa(l,s),La(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ty=_t()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,wy(s,x)));break;case 22:_=s.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,xe=Fo,Oe=Mr;if(Fo=xe||_,Mr=Oe||oe,Pa(l,s),Mr=Oe,Fo=xe,La(s),x&8192)e:for(l=s.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(h===null||oe||Fo||Mr||Vu(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){oe=h=l;try{if(O=oe.stateNode,_)H=O.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{J=oe.stateNode;var Pe=oe.memoizedProps.style,Ee=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;J.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(_e){Un(oe,oe.return,_e)}}}else if(l.tag===6){if(h===null){oe=l;try{oe.stateNode.nodeValue=_?"":oe.memoizedProps}catch(_e){Un(oe,oe.return,_e)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=s.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,wy(s,h))));break;case 19:Pa(l,s),La(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,wy(s,x)));break;case 30:break;case 21:break;default:Pa(l,s),La(s)}}function La(s){var l=s.flags;if(l&2){try{for(var h,x=s.return;x!==null;){if(r_(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,O=vy(s);W0(s,O,_);break;case 5:var H=h.stateNode;h.flags&32&&(Qn(H,""),h.flags&=-33);var J=vy(s);W0(s,J,H);break;case 3:case 4:var oe=h.stateNode.containerInfo,xe=vy(s);xy(s,xe,oe);break;default:throw Error(r(161))}}catch(Oe){Un(s,s.return,Oe)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function f_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;f_(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Pl(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)s_(s,l.alternate,l),l=l.sibling}function Vu(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Ml(4,l,l.return),Vu(l);break;case 1:io(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&t_(l,l.return,h),Vu(l);break;case 27:Bh(l.stateNode);case 26:case 5:io(l,l.return),Vu(l);break;case 22:l.memoizedState===null&&Vu(l);break;case 30:Vu(l);break;default:Vu(l)}s=s.sibling}}function Ll(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,_=s,O=l,H=O.flags;switch(O.tag){case 0:case 11:case 15:Ll(_,O,h),Ih(4,O);break;case 1:if(Ll(_,O,h),x=O,_=x.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(xe){Un(x,x.return,xe)}if(x=O,_=x.updateQueue,_!==null){var J=x.stateNode;try{var oe=_.shared.hiddenCallbacks;if(oe!==null)for(_.shared.hiddenCallbacks=null,_=0;_<oe.length;_++)FA(oe[_],J)}catch(xe){Un(x,x.return,xe)}}h&&H&64&&e_(O),Oh(O,O.return);break;case 27:i_(O);case 26:case 5:Ll(_,O,h),h&&x===null&&H&4&&n_(O),Oh(O,O.return);break;case 12:Ll(_,O,h);break;case 13:Ll(_,O,h),h&&H&4&&u_(_,O);break;case 22:O.memoizedState===null&&Ll(_,O,h),Oh(O,O.return);break;case 30:break;default:Ll(_,O,h)}l=l.sibling}}function Ey(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&gh(h))}function Ay(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&gh(s))}function ao(s,l,h,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)h_(s,l,h,x),l=l.sibling}function h_(s,l,h,x){var _=l.flags;switch(l.tag){case 0:case 11:case 15:ao(s,l,h,x),_&2048&&Ih(9,l);break;case 1:ao(s,l,h,x);break;case 3:ao(s,l,h,x),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&gh(s)));break;case 12:if(_&2048){ao(s,l,h,x),s=l.stateNode;try{var O=l.memoizedProps,H=O.id,J=O.onPostCommit;typeof J=="function"&&J(H,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(oe){Un(l,l.return,oe)}}else ao(s,l,h,x);break;case 13:ao(s,l,h,x);break;case 23:break;case 22:O=l.stateNode,H=l.alternate,l.memoizedState!==null?O._visibility&2?ao(s,l,h,x):Rh(s,l):O._visibility&2?ao(s,l,h,x):(O._visibility|=2,Yc(s,l,h,x,(l.subtreeFlags&10256)!==0)),_&2048&&Ey(H,l);break;case 24:ao(s,l,h,x),_&2048&&Ay(l.alternate,l);break;default:ao(s,l,h,x)}}function Yc(s,l,h,x,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var O=s,H=l,J=h,oe=x,xe=H.flags;switch(H.tag){case 0:case 11:case 15:Yc(O,H,J,oe,_),Ih(8,H);break;case 23:break;case 22:var Oe=H.stateNode;H.memoizedState!==null?Oe._visibility&2?Yc(O,H,J,oe,_):Rh(O,H):(Oe._visibility|=2,Yc(O,H,J,oe,_)),_&&xe&2048&&Ey(H.alternate,H);break;case 24:Yc(O,H,J,oe,_),_&&xe&2048&&Ay(H.alternate,H);break;default:Yc(O,H,J,oe,_)}l=l.sibling}}function Rh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,x=l,_=x.flags;switch(x.tag){case 22:Rh(h,x),_&2048&&Ey(x.alternate,x);break;case 24:Rh(h,x),_&2048&&Ay(x.alternate,x);break;default:Rh(h,x)}l=l.sibling}}var Nh=8192;function Wc(s){if(s.subtreeFlags&Nh)for(s=s.child;s!==null;)d_(s),s=s.sibling}function d_(s){switch(s.tag){case 26:Wc(s),s.flags&Nh&&s.memoizedState!==null&&dL(js,s.memoizedState,s.memoizedProps);break;case 5:Wc(s);break;case 3:case 4:var l=js;js=s1(s.stateNode.containerInfo),Wc(s),js=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Nh,Nh=16777216,Wc(s),Nh=l):Wc(s));break;default:Wc(s)}}function g_(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Dh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];si=x,p_(x,s)}g_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m_(s),s=s.sibling}function m_(s){switch(s.tag){case 0:case 11:case 15:Dh(s),s.flags&2048&&Ml(9,s,s.return);break;case 3:Dh(s);break;case 12:Dh(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,$0(s)):Dh(s);break;default:Dh(s)}}function $0(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];si=x,p_(x,s)}g_(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Ml(8,l,l.return),$0(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,$0(l));break;default:$0(l)}s=s.sibling}}function p_(s,l){for(;si!==null;){var h=si;switch(h.tag){case 0:case 11:case 15:Ml(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:gh(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,si=x;else e:for(h=s;si!==null;){x=si;var _=x.sibling,O=x.return;if(o_(x),x===h){si=null;break e}if(_!==null){_.return=O,si=_;break e}si=O}}}var O9={getCacheForType:function(s){var l=Ui(Kr),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},R9=typeof WeakMap=="function"?WeakMap:Map,Sn=0,qn=null,zt=null,tn=0,_n=0,ka=null,kl=!1,$c=!1,Sy=!1,zo=0,Ar=0,jl=0,zu=0,_y=0,ms=0,Xc=0,Mh=null,ga=null,Cy=!1,Ty=0,X0=1/0,K0=null,Bl=null,Ei=0,Ul=null,Kc=null,Qc=0,Iy=0,Oy=null,y_=null,Ph=0,Ry=null;function ja(){if((Sn&2)!==0&&tn!==0)return tn&-tn;if(le.T!==null){var s=Bc;return s!==0?s:jy()}return $i()}function v_(){ms===0&&(ms=(tn&536870912)===0||gn?Ao():536870912);var s=gs.current;return s!==null&&(s.flags|=32),ms}function Ba(s,l,h){(s===qn&&(_n===2||_n===9)||s.cancelPendingCommit!==null)&&(Zc(s,0),Fl(s,tn,ms,!1)),mi(s,h),((Sn&2)===0||s!==qn)&&(s===qn&&((Sn&2)===0&&(zu|=h),Ar===4&&Fl(s,tn,ms,!1)),so(s))}function x_(s,l,h){if((Sn&6)!==0)throw Error(r(327));var x=!h&&(l&124)===0&&(l&s.expiredLanes)===0||yn(s,l),_=x?M9(s,l):My(s,l,!0),O=x;do{if(_===0){$c&&!x&&Fl(s,l,0,!1);break}else{if(h=s.current.alternate,O&&!N9(h)){_=My(s,l,!1),O=!1;continue}if(_===2){if(O=l,s.errorRecoveryDisabledLanes&O)var H=0;else H=s.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){l=H;e:{var J=s;_=Mh;var oe=J.current.memoizedState.isDehydrated;if(oe&&(Zc(J,H).flags|=256),H=My(J,H,!1),H!==2){if(Sy&&!oe){J.errorRecoveryDisabledLanes|=O,zu|=O,_=4;break e}O=ga,ga=_,O!==null&&(ga===null?ga=O:ga.push.apply(ga,O))}_=H}if(O=!1,_!==2)continue}}if(_===1){Zc(s,0),Fl(s,l,0,!0);break}e:{switch(x=s,O=_,O){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Fl(x,l,ms,!kl);break e;case 2:ga=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=Ty+300-_t(),10<_)){if(Fl(x,l,ms,!kl),en(x,0,!0)!==0)break e;x.timeoutHandle=$_(b_.bind(null,x,h,ga,K0,Cy,l,ms,zu,Xc,kl,O,2,-0,0),_);break e}b_(x,h,ga,K0,Cy,l,ms,zu,Xc,kl,O,0,-0,0)}}break}while(!0);so(s)}function b_(s,l,h,x,_,O,H,J,oe,xe,Oe,Pe,Ee,_e){if(s.timeoutHandle=-1,Pe=l.subtreeFlags,(Pe&8192||(Pe&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:hL},d_(l),Pe=gL(),Pe!==null)){s.cancelPendingCommit=Pe(T_.bind(null,s,l,O,h,x,_,H,J,oe,Oe,1,Ee,_e)),Fl(s,O,H,!xe);return}T_(s,l,O,h,x,_,H,J,oe)}function N9(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var _=h[x],O=_.getSnapshot;_=_.value;try{if(!p(O(),_))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Fl(s,l,h,x){l&=~_y,l&=~zu,s.suspendedLanes|=l,s.pingedLanes&=~l,x&&(s.warmLanes|=l),x=s.expirationTimes;for(var _=l;0<_;){var O=31-st(_),H=1<<O;x[O]=-1,_&=~H}h!==0&&Sa(s,h,l)}function Q0(){return(Sn&6)===0?(Lh(0),!1):!0}function Ny(){if(zt!==null){if(_n===0)var s=zt.return;else s=zt,Po=ku=null,$p(s),qc=null,_h=0,s=zt;for(;s!==null;)JS(s.alternate,s),s=s.return;zt=null}}function Zc(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,X9(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Ny(),qn=s,zt=h=No(s.current,null),tn=l,_n=0,ka=null,kl=!1,$c=yn(s,l),Sy=!1,Xc=ms=_y=zu=jl=Ar=0,ga=Mh=null,Cy=!1,(l&8)!==0&&(l|=l&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=l;0<x;){var _=31-st(x),O=1<<_;l|=s[_],x&=~O}return zo=l,x0(),h}function w_(s,l){Ut=null,le.H=B0,l===ph||l===I0?(l=BA(),_n=3):l===LA?(l=BA(),_n=4):_n=l===US?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ka=l,zt===null&&(Ar=1,H0(s,cs(l,s.current)))}function E_(){var s=le.H;return le.H=B0,s===null?B0:s}function A_(){var s=le.A;return le.A=O9,s}function Dy(){Ar=4,kl||(tn&4194048)!==tn&&gs.current!==null||($c=!0),(jl&134217727)===0&&(zu&134217727)===0||qn===null||Fl(qn,tn,ms,!1)}function My(s,l,h){var x=Sn;Sn|=2;var _=E_(),O=A_();(qn!==s||tn!==l)&&(K0=null,Zc(s,l)),l=!1;var H=Ar;e:do try{if(_n!==0&&zt!==null){var J=zt,oe=ka;switch(_n){case 8:Ny(),H=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(l=!0);var xe=_n;if(_n=0,ka=null,Jc(s,J,oe,xe),h&&$c){H=0;break e}break;default:xe=_n,_n=0,ka=null,Jc(s,J,oe,xe)}}D9(),H=Ar;break}catch(Oe){w_(s,Oe)}while(!0);return l&&s.shellSuspendCounter++,Po=ku=null,Sn=x,le.H=_,le.A=O,zt===null&&(qn=null,tn=0,x0()),H}function D9(){for(;zt!==null;)S_(zt)}function M9(s,l){var h=Sn;Sn|=2;var x=E_(),_=A_();qn!==s||tn!==l?(K0=null,X0=_t()+500,Zc(s,l)):$c=yn(s,l);e:do try{if(_n!==0&&zt!==null){l=zt;var O=ka;t:switch(_n){case 1:_n=0,ka=null,Jc(s,l,O,1);break;case 2:case 9:if(kA(O)){_n=0,ka=null,__(l);break}l=function(){_n!==2&&_n!==9||qn!==s||(_n=7),so(s)},O.then(l,l);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:kA(O)?(_n=0,ka=null,__(l)):(_n=0,ka=null,Jc(s,l,O,7));break;case 5:var H=null;switch(zt.tag){case 26:H=zt.memoizedState;case 5:case 27:var J=zt;if(!H||sC(H)){_n=0,ka=null;var oe=J.sibling;if(oe!==null)zt=oe;else{var xe=J.return;xe!==null?(zt=xe,Z0(xe)):zt=null}break t}}_n=0,ka=null,Jc(s,l,O,5);break;case 6:_n=0,ka=null,Jc(s,l,O,6);break;case 8:Ny(),Ar=6;break e;default:throw Error(r(462))}}P9();break}catch(Oe){w_(s,Oe)}while(!0);return Po=ku=null,le.H=x,le.A=_,Sn=h,zt!==null?0:(qn=null,tn=0,x0(),Ar)}function P9(){for(;zt!==null&&!Qt();)S_(zt)}function S_(s){var l=QS(s.alternate,s,zo);s.memoizedProps=s.pendingProps,l===null?Z0(s):zt=l}function __(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=GS(h,l,l.pendingProps,l.type,void 0,tn);break;case 11:l=GS(h,l,l.pendingProps,l.type.render,l.ref,tn);break;case 5:$p(l);default:JS(h,l),l=zt=CA(l,zo),l=QS(h,l,zo)}s.memoizedProps=s.pendingProps,l===null?Z0(s):zt=l}function Jc(s,l,h,x){Po=ku=null,$p(l),qc=null,_h=0;var _=l.return;try{if(A9(s,_,l,h,tn)){Ar=1,H0(s,cs(h,s.current)),zt=null;return}}catch(O){if(_!==null)throw zt=_,O;Ar=1,H0(s,cs(h,s.current)),zt=null;return}l.flags&32768?(gn||x===1?s=!0:$c||(tn&536870912)!==0?s=!1:(kl=s=!0,(x===2||x===9||x===3||x===6)&&(x=gs.current,x!==null&&x.tag===13&&(x.flags|=16384))),C_(l,s)):Z0(l)}function Z0(s){var l=s;do{if((l.flags&32768)!==0){C_(l,kl);return}s=l.return;var h=_9(l.alternate,l,zo);if(h!==null){zt=h;return}if(l=l.sibling,l!==null){zt=l;return}zt=l=s}while(l!==null);Ar===0&&(Ar=5)}function C_(s,l){do{var h=C9(s.alternate,s);if(h!==null){h.flags&=32767,zt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){zt=s;return}zt=s=h}while(s!==null);Ar=6,zt=null}function T_(s,l,h,x,_,O,H,J,oe){s.cancelPendingCommit=null;do J0();while(Ei!==0);if((Sn&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(O=l.lanes|l.childLanes,O|=Ap,yl(s,h,O,H,J,oe),s===qn&&(zt=qn=null,tn=0),Kc=l,Ul=s,Qc=h,Iy=O,Oy=_,y_=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,B9(Ze,function(){return D_(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=le.T,le.T=null,_=ue.p,ue.p=2,H=Sn,Sn|=4;try{T9(s,l,h)}finally{Sn=H,ue.p=_,le.T=x}}Ei=1,I_(),O_(),R_()}}function I_(){if(Ei===1){Ei=0;var s=Ul,l=Kc,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=le.T,le.T=null;var x=ue.p;ue.p=2;var _=Sn;Sn|=4;try{c_(l,s);var O=Gy,H=D(s.containerInfo),J=O.focusedElem,oe=O.selectionRange;if(H!==J&&J&&J.ownerDocument&&C(J.ownerDocument.documentElement,J)){if(oe!==null&&B(J)){var xe=oe.start,Oe=oe.end;if(Oe===void 0&&(Oe=xe),"selectionStart"in J)J.selectionStart=xe,J.selectionEnd=Math.min(Oe,J.value.length);else{var Pe=J.ownerDocument||document,Ee=Pe&&Pe.defaultView||window;if(Ee.getSelection){var _e=Ee.getSelection(),At=J.textContent.length,yt=Math.min(oe.start,At),Dn=oe.end===void 0?yt:Math.min(oe.end,At);!_e.extend&&yt>Dn&&(H=Dn,Dn=yt,yt=H);var de=E(J,yt),he=E(J,Dn);if(de&&he&&(_e.rangeCount!==1||_e.anchorNode!==de.node||_e.anchorOffset!==de.offset||_e.focusNode!==he.node||_e.focusOffset!==he.offset)){var ve=Pe.createRange();ve.setStart(de.node,de.offset),_e.removeAllRanges(),yt>Dn?(_e.addRange(ve),_e.extend(he.node,he.offset)):(ve.setEnd(he.node,he.offset),_e.addRange(ve))}}}}for(Pe=[],_e=J;_e=_e.parentNode;)_e.nodeType===1&&Pe.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Pe.length;J++){var Ne=Pe[J];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}f1=!!qy,Gy=qy=null}finally{Sn=_,ue.p=x,le.T=h}}s.current=l,Ei=2}}function O_(){if(Ei===2){Ei=0;var s=Ul,l=Kc,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=le.T,le.T=null;var x=ue.p;ue.p=2;var _=Sn;Sn|=4;try{s_(s,l.alternate,l)}finally{Sn=_,ue.p=x,le.T=h}}Ei=3}}function R_(){if(Ei===4||Ei===3){Ei=0,Dt();var s=Ul,l=Kc,h=Qc,x=y_;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ei=5:(Ei=0,Kc=Ul=null,N_(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Bl=null),mr(h),l=l.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Ye,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=le.T,_=ue.p,ue.p=2,le.T=null;try{for(var O=s.onRecoverableError,H=0;H<x.length;H++){var J=x[H];O(J.value,{componentStack:J.stack})}}finally{le.T=l,ue.p=_}}(Qc&3)!==0&&J0(),so(s),_=s.pendingLanes,(h&4194090)!==0&&(_&42)!==0?s===Ry?Ph++:(Ph=0,Ry=s):Ph=0,Lh(0)}}function N_(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,gh(l)))}function J0(s){return I_(),O_(),R_(),D_()}function D_(){if(Ei!==5)return!1;var s=Ul,l=Iy;Iy=0;var h=mr(Qc),x=le.T,_=ue.p;try{ue.p=32>h?32:h,le.T=null,h=Oy,Oy=null;var O=Ul,H=Qc;if(Ei=0,Kc=Ul=null,Qc=0,(Sn&6)!==0)throw Error(r(331));var J=Sn;if(Sn|=4,m_(O.current),h_(O,O.current,H,h),Sn=J,Lh(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Ye,O)}catch{}return!0}finally{ue.p=_,le.T=x,N_(s,l)}}function M_(s,l,h){l=cs(h,l),l=ly(s.stateNode,l,2),s=Ol(s,l,2),s!==null&&(mi(s,2),so(s))}function Un(s,l,h){if(s.tag===3)M_(s,s,h);else for(;l!==null;){if(l.tag===3){M_(l,s,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Bl===null||!Bl.has(x))){s=cs(h,s),h=jS(2),x=Ol(l,h,2),x!==null&&(BS(h,x,l,s),mi(x,2),so(x));break}}l=l.return}}function Py(s,l,h){var x=s.pingCache;if(x===null){x=s.pingCache=new R9;var _=new Set;x.set(l,_)}else _=x.get(l),_===void 0&&(_=new Set,x.set(l,_));_.has(h)||(Sy=!0,_.add(h),s=L9.bind(null,s,l,h),l.then(s,s))}function L9(s,l,h){var x=s.pingCache;x!==null&&x.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,qn===s&&(tn&h)===h&&(Ar===4||Ar===3&&(tn&62914560)===tn&&300>_t()-Ty?(Sn&2)===0&&Zc(s,0):_y|=h,Xc===tn&&(Xc=0)),so(s)}function P_(s,l){l===0&&(l=pl()),s=Pc(s,l),s!==null&&(mi(s,l),so(s))}function k9(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),P_(s,h)}function j9(s,l){var h=0;switch(s.tag){case 13:var x=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(l),P_(s,h)}function B9(s,l){return ht(s,l)}var e1=null,ef=null,Ly=!1,t1=!1,ky=!1,Hu=0;function so(s){s!==ef&&s.next===null&&(ef===null?e1=ef=s:ef=ef.next=s),t1=!0,Ly||(Ly=!0,F9())}function Lh(s,l){if(!ky&&t1){ky=!0;do for(var h=!1,x=e1;x!==null;){if(s!==0){var _=x.pendingLanes;if(_===0)var O=0;else{var H=x.suspendedLanes,J=x.pingedLanes;O=(1<<31-st(42|s)+1)-1,O&=_&~(H&~J),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,B_(x,O))}else O=tn,O=en(x,x===qn?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||yn(x,O)||(h=!0,B_(x,O));x=x.next}while(h);ky=!1}}function U9(){L_()}function L_(){t1=Ly=!1;var s=0;Hu!==0&&($9()&&(s=Hu),Hu=0);for(var l=_t(),h=null,x=e1;x!==null;){var _=x.next,O=k_(x,l);O===0?(x.next=null,h===null?e1=_:h.next=_,_===null&&(ef=h)):(h=x,(s!==0||(O&3)!==0)&&(t1=!0)),x=_}Lh(s)}function k_(s,l){for(var h=s.suspendedLanes,x=s.pingedLanes,_=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var H=31-st(O),J=1<<H,oe=_[H];oe===-1?((J&h)===0||(J&x)!==0)&&(_[H]=Ns(J,l)):oe<=l&&(s.expiredLanes|=J),O&=~J}if(l=qn,h=tn,h=en(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,h===0||s===l&&(_n===2||_n===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Nt(x),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||yn(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(x!==null&&Nt(x),mr(h)){case 2:case 8:h=Ea;break;case 32:h=Ze;break;case 268435456:h=Rs;break;default:h=Ze}return x=j_.bind(null,s),h=ht(h,x),s.callbackPriority=l,s.callbackNode=h,l}return x!==null&&x!==null&&Nt(x),s.callbackPriority=2,s.callbackNode=null,2}function j_(s,l){if(Ei!==0&&Ei!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(J0()&&s.callbackNode!==h)return null;var x=tn;return x=en(s,s===qn?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(x_(s,x,l),k_(s,_t()),s.callbackNode!=null&&s.callbackNode===h?j_.bind(null,s):null)}function B_(s,l){if(J0())return null;x_(s,l,!0)}function F9(){K9(function(){(Sn&6)!==0?ht(St,U9):L_()})}function jy(){return Hu===0&&(Hu=Ao()),Hu}function U_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:El(""+s)}function F_(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function V9(s,l,h,x,_){if(l==="submit"&&h&&h.stateNode===_){var O=U_((_[On]||null).action),H=x.submitter;H&&(l=(l=H[On]||null)?U_(l.formAction):H.getAttribute("formAction"),l!==null&&(O=l,H=null));var J=new us("action","action",null,x,_);s.push({event:J,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Hu!==0){var oe=H?F_(_,H):new FormData(_);ry(h,{pending:!0,data:oe,method:_.method,action:O},null,oe)}}else typeof O=="function"&&(J.preventDefault(),oe=H?F_(_,H):new FormData(_),ry(h,{pending:!0,data:oe,method:_.method,action:O},O,oe))},currentTarget:_}]})}}for(var By=0;By<to.length;By++){var Uy=to[By],z9=Uy.toLowerCase(),H9=Uy[0].toUpperCase()+Uy.slice(1);Da(z9,"on"+H9)}Da(Tt,"onAnimationEnd"),Da(bi,"onAnimationIteration"),Da(fa,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(ji,"onTransitionRun"),Da(An,"onTransitionStart"),Da(Xr,"onTransitionCancel"),Da(Bi,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function V_(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var x=s[h],_=x.event;x=x.listeners;e:{var O=void 0;if(l)for(var H=x.length-1;0<=H;H--){var J=x[H],oe=J.instance,xe=J.currentTarget;if(J=J.listener,oe!==O&&_.isPropagationStopped())break e;O=J,_.currentTarget=xe;try{O(_)}catch(Oe){z0(Oe)}_.currentTarget=null,O=oe}else for(H=0;H<x.length;H++){if(J=x[H],oe=J.instance,xe=J.currentTarget,J=J.listener,oe!==O&&_.isPropagationStopped())break e;O=J,_.currentTarget=xe;try{O(_)}catch(Oe){z0(Oe)}_.currentTarget=null,O=oe}}}}function Ht(s,l){var h=l[jr];h===void 0&&(h=l[jr]=new Set);var x=s+"__bubble";h.has(x)||(z_(l,s,2,!1),h.add(x))}function Fy(s,l,h){var x=0;l&&(x|=4),z_(h,s,x,l)}var n1="_reactListening"+Math.random().toString(36).slice(2);function Vy(s){if(!s[n1]){s[n1]=!0,Tu.forEach(function(h){h!=="selectionchange"&&(q9.has(h)||Fy(h,!1,s),Fy(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[n1]||(l[n1]=!0,Fy("selectionchange",!1,l))}}function z_(s,l,h,x){switch(hC(l)){case 2:var _=yL;break;case 8:_=vL;break;default:_=tv}h=_.bind(null,l,h,s),_=void 0,!mt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),x?_!==void 0?s.addEventListener(l,h,{capture:!0,passive:_}):s.addEventListener(l,h,!0):_!==void 0?s.addEventListener(l,h,{passive:_}):s.addEventListener(l,h,!1)}function zy(s,l,h,x,_){var O=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var H=x.tag;if(H===3||H===4){var J=x.stateNode.containerInfo;if(J===_)break;if(H===4)for(H=x.return;H!==null;){var oe=H.tag;if((oe===3||oe===4)&&H.stateNode.containerInfo===_)return;H=H.return}for(;J!==null;){if(H=nr(J),H===null)return;if(oe=H.tag,oe===5||oe===6||oe===26||oe===27){x=O=H;continue e}J=J.parentNode}}x=x.return}Ta(function(){var xe=O,Oe=vi(h),Pe=[];e:{var Ee=Ro.get(s);if(Ee!==void 0){var _e=us,At=s;switch(s){case"keypress":if(ls(h)===0)break e;case"keydown":case"keyup":_e=Js;break;case"focusin":At="focus",_e=Ls;break;case"focusout":At="blur",_e=Ls;break;case"beforeblur":case"afterblur":_e=Ls;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=un;break;case Tt:case bi:case fa:_e=Al;break;case Bi:_e=Oc;break;case"scroll":case"scrollend":_e=$r;break;case"wheel":_e=la;break;case"copy":case"cut":case"paste":_e=Ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=eo;break;case"toggle":case"beforetoggle":_e=Rc}var yt=(l&4)!==0,Dn=!yt&&(s==="scroll"||s==="scrollend"),de=yt?Ee!==null?Ee+"Capture":null:Ee;yt=[];for(var he=xe,ve;he!==null;){var Ne=he;if(ve=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ve===null||de===null||(Ne=ut(he,de),Ne!=null&&yt.push(jh(he,Ne,ve))),Dn)break;he=he.return}0<yt.length&&(Ee=new _e(Ee,At,null,h,Oe),Pe.push({event:Ee,listeners:yt}))}}if((l&7)===0){e:{if(Ee=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",Ee&&h!==_a&&(At=h.relatedTarget||h.fromElement)&&(nr(At)||At[Di]))break e;if((_e||Ee)&&(Ee=Oe.window===Oe?Oe:(Ee=Oe.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,_e?(At=h.relatedTarget||h.toElement,_e=xe,At=At?nr(At):null,At!==null&&(Dn=a(At),yt=At.tag,At!==Dn||yt!==5&&yt!==27&&yt!==6)&&(At=null)):(_e=null,At=xe),_e!==At)){if(yt=sa,Ne="onMouseLeave",de="onMouseEnter",he="mouse",(s==="pointerout"||s==="pointerover")&&(yt=eo,Ne="onPointerLeave",de="onPointerEnter",he="pointer"),Dn=_e==null?Ee:Xi(_e),ve=At==null?Ee:Xi(At),Ee=new yt(Ne,he+"leave",_e,h,Oe),Ee.target=Dn,Ee.relatedTarget=ve,Ne=null,nr(Oe)===xe&&(yt=new yt(de,he+"enter",At,h,Oe),yt.target=ve,yt.relatedTarget=Dn,Ne=yt),Dn=Ne,_e&&At)t:{for(yt=_e,de=At,he=0,ve=yt;ve;ve=tf(ve))he++;for(ve=0,Ne=de;Ne;Ne=tf(Ne))ve++;for(;0<he-ve;)yt=tf(yt),he--;for(;0<ve-he;)de=tf(de),ve--;for(;he--;){if(yt===de||de!==null&&yt===de.alternate)break t;yt=tf(yt),de=tf(de)}yt=null}else yt=null;_e!==null&&H_(Pe,Ee,_e,yt,!1),At!==null&&Dn!==null&&H_(Pe,Dn,At,yt,!0)}}e:{if(Ee=xe?Xi(xe):window,_e=Ee.nodeName&&Ee.nodeName.toLowerCase(),_e==="select"||_e==="input"&&Ee.type==="file")var nt=y0;else if(or(Ee))if(lh)nt=u;else{nt=G;var Vt=Dc}else _e=Ee.nodeName,!_e||_e.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?xe&&ot(xe.elementType)&&(nt=y0):nt=o;if(nt&&(nt=nt(s,xe))){wr(Pe,nt,h,Oe);break e}Vt&&Vt(s,Ee,xe),s==="focusout"&&xe&&Ee.type==="number"&&xe.memoizedProps.value!=null&&me(Ee,"number",Ee.value)}switch(Vt=xe?Xi(xe):window,s){case"focusin":(or(Vt)||Vt.contentEditable==="true")&&(K=Vt,ie=xe,ce=null);break;case"focusout":ce=ie=K=null;break;case"mousedown":fe=!0;break;case"contextmenu":case"mouseup":case"dragend":fe=!1,ye(Pe,h,Oe);break;case"selectionchange":if(Y)break;case"keydown":case"keyup":ye(Pe,h,Oe)}var ct;if(ua)e:{switch(s){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Gt?Ce(s,h)&&(xt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(xt="onCompositionStart");xt&&(F&&h.locale!=="ko"&&(Gt||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Gt&&(ct=Oa()):(as=Oe,ss="value"in as?as.value:as.textContent,Gt=!0)),Vt=r1(xe,xt),0<Vt.length&&(xt=new Qs(xt,s,null,h,Oe),Pe.push({event:xt,listeners:Vt}),ct?xt.data=ct:(ct=qe(h),ct!==null&&(xt.data=ct)))),(ct=L?Jn(s,h):Yt(s,h))&&(xt=r1(xe,"onBeforeInput"),0<xt.length&&(Vt=new Qs("onBeforeInput","beforeinput",null,h,Oe),Pe.push({event:Vt,listeners:xt}),Vt.data=ct)),V9(Pe,s,xe,h,Oe)}V_(Pe,l)})}function jh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function r1(s,l){for(var h=l+"Capture",x=[];s!==null;){var _=s,O=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||O===null||(_=ut(s,h),_!=null&&x.unshift(jh(s,_,O)),_=ut(s,l),_!=null&&x.push(jh(s,_,O))),s.tag===3)return x;s=s.return}return[]}function tf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function H_(s,l,h,x,_){for(var O=l._reactName,H=[];h!==null&&h!==x;){var J=h,oe=J.alternate,xe=J.stateNode;if(J=J.tag,oe!==null&&oe===x)break;J!==5&&J!==26&&J!==27||xe===null||(oe=xe,_?(xe=ut(h,O),xe!=null&&H.unshift(jh(h,xe,oe))):_||(xe=ut(h,O),xe!=null&&H.push(jh(h,xe,oe)))),h=h.return}H.length!==0&&s.push({event:l,listeners:H})}var G9=/\r\n?/g,Y9=/\u0000|\uFFFD/g;function q_(s){return(typeof s=="string"?s:""+s).replace(G9,`
`).replace(Y9,"")}function G_(s,l){return l=q_(l),q_(s)===l}function i1(){}function Nn(s,l,h,x,_,O){switch(h){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||Qn(s,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&Qn(s,""+x);break;case"className":rs(s,"class",x);break;case"tabIndex":rs(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(s,h,x);break;case"style":ii(s,x,O);break;case"data":if(l!=="object"){rs(s,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=El(""+x),s.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(l!=="input"&&Nn(s,l,"name",_.name,_,null),Nn(s,l,"formEncType",_.formEncType,_,null),Nn(s,l,"formMethod",_.formMethod,_,null),Nn(s,l,"formTarget",_.formTarget,_,null)):(Nn(s,l,"encType",_.encType,_,null),Nn(s,l,"method",_.method,_,null),Nn(s,l,"target",_.target,_,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=El(""+x),s.setAttribute(h,x);break;case"onClick":x!=null&&(s.onclick=i1);break;case"onScroll":x!=null&&Ht("scroll",s);break;case"onScrollEnd":x!=null&&Ht("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}h=El(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""+x):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":x===!0?s.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,x):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(h,x):s.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(h):s.setAttribute(h,x);break;case"popover":Ht("beforetoggle",s),Ht("toggle",s),Me(s,"popover",x);break;case"xlinkActuate":kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":kt(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":kt(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":kt(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":kt(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Me(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=kn.get(h)||h,Me(s,h,x))}}function Hy(s,l,h,x,_,O){switch(h){case"style":ii(s,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof x=="string"?Qn(s,x):(typeof x=="number"||typeof x=="bigint")&&Qn(s,""+x);break;case"onScroll":x!=null&&Ht("scroll",s);break;case"onScrollEnd":x!=null&&Ht("scrollend",s);break;case"onClick":x!=null&&(s.onclick=i1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),l=h.slice(2,_?h.length-7:void 0),O=s[On]||null,O=O!=null?O[h]:null,typeof O=="function"&&s.removeEventListener(l,O,_),typeof x=="function")){typeof O!="function"&&O!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,x,_);break e}h in s?s[h]=x:x===!0?s.setAttribute(h,""):Me(s,h,x)}}}function Ai(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",s),Ht("load",s);var x=!1,_=!1,O;for(O in h)if(h.hasOwnProperty(O)){var H=h[O];if(H!=null)switch(O){case"src":x=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Nn(s,l,O,H,h,null)}}_&&Nn(s,l,"srcSet",h.srcSet,h,null),x&&Nn(s,l,"src",h.src,h,null);return;case"input":Ht("invalid",s);var J=O=H=_=null,oe=null,xe=null;for(x in h)if(h.hasOwnProperty(x)){var Oe=h[x];if(Oe!=null)switch(x){case"name":_=Oe;break;case"type":H=Oe;break;case"checked":oe=Oe;break;case"defaultChecked":xe=Oe;break;case"value":O=Oe;break;case"defaultValue":J=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,l));break;default:Nn(s,l,x,Oe,h,null)}}rr(s,O,J,oe,xe,H,_,!1),bl(s);return;case"select":Ht("invalid",s),x=H=O=null;for(_ in h)if(h.hasOwnProperty(_)&&(J=h[_],J!=null))switch(_){case"value":O=J;break;case"defaultValue":H=J;break;case"multiple":x=J;default:Nn(s,l,_,J,h,null)}l=O,h=H,s.multiple=!!x,l!=null?re(s,!!x,l,!1):h!=null&&re(s,!!x,h,!0);return;case"textarea":Ht("invalid",s),O=_=x=null;for(H in h)if(h.hasOwnProperty(H)&&(J=h[H],J!=null))switch(H){case"value":x=J;break;case"defaultValue":_=J;break;case"children":O=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Nn(s,l,H,J,h,null)}Hn(s,x,_,O),bl(s);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(x=h[oe],x!=null))switch(oe){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Nn(s,l,oe,x,h,null)}return;case"dialog":Ht("beforetoggle",s),Ht("toggle",s),Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":Ht("load",s);break;case"video":case"audio":for(x=0;x<kh.length;x++)Ht(kh[x],s);break;case"image":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"embed":case"source":case"link":Ht("error",s),Ht("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in h)if(h.hasOwnProperty(xe)&&(x=h[xe],x!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Nn(s,l,xe,x,h,null)}return;default:if(ot(l)){for(Oe in h)h.hasOwnProperty(Oe)&&(x=h[Oe],x!==void 0&&Hy(s,l,Oe,x,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(x=h[J],x!=null&&Nn(s,l,J,x,h,null))}function W9(s,l,h,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,O=null,H=null,J=null,oe=null,xe=null,Oe=null;for(_e in h){var Pe=h[_e];if(h.hasOwnProperty(_e)&&Pe!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":oe=Pe;default:x.hasOwnProperty(_e)||Nn(s,l,_e,null,x,Pe)}}for(var Ee in x){var _e=x[Ee];if(Pe=h[Ee],x.hasOwnProperty(Ee)&&(_e!=null||Pe!=null))switch(Ee){case"type":O=_e;break;case"name":_=_e;break;case"checked":xe=_e;break;case"defaultChecked":Oe=_e;break;case"value":H=_e;break;case"defaultValue":J=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,l));break;default:_e!==Pe&&Nn(s,l,Ee,_e,x,Pe)}}Bt(s,H,J,oe,xe,Oe,O,_);return;case"select":_e=H=J=Ee=null;for(O in h)if(oe=h[O],h.hasOwnProperty(O)&&oe!=null)switch(O){case"value":break;case"multiple":_e=oe;default:x.hasOwnProperty(O)||Nn(s,l,O,null,x,oe)}for(_ in x)if(O=x[_],oe=h[_],x.hasOwnProperty(_)&&(O!=null||oe!=null))switch(_){case"value":Ee=O;break;case"defaultValue":J=O;break;case"multiple":H=O;default:O!==oe&&Nn(s,l,_,O,x,oe)}l=J,h=H,x=_e,Ee!=null?re(s,!!h,Ee,!1):!!x!=!!h&&(l!=null?re(s,!!h,l,!0):re(s,!!h,h?[]:"",!1));return;case"textarea":_e=Ee=null;for(J in h)if(_=h[J],h.hasOwnProperty(J)&&_!=null&&!x.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Nn(s,l,J,null,x,_)}for(H in x)if(_=x[H],O=h[H],x.hasOwnProperty(H)&&(_!=null||O!=null))switch(H){case"value":Ee=_;break;case"defaultValue":_e=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==O&&Nn(s,l,H,_,x,O)}Ge(s,Ee,_e);return;case"option":for(var At in h)if(Ee=h[At],h.hasOwnProperty(At)&&Ee!=null&&!x.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:Nn(s,l,At,null,x,Ee)}for(oe in x)if(Ee=x[oe],_e=h[oe],x.hasOwnProperty(oe)&&Ee!==_e&&(Ee!=null||_e!=null))switch(oe){case"selected":s.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:Nn(s,l,oe,Ee,x,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in h)Ee=h[yt],h.hasOwnProperty(yt)&&Ee!=null&&!x.hasOwnProperty(yt)&&Nn(s,l,yt,null,x,Ee);for(xe in x)if(Ee=x[xe],_e=h[xe],x.hasOwnProperty(xe)&&Ee!==_e&&(Ee!=null||_e!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Nn(s,l,xe,Ee,x,_e)}return;default:if(ot(l)){for(var Dn in h)Ee=h[Dn],h.hasOwnProperty(Dn)&&Ee!==void 0&&!x.hasOwnProperty(Dn)&&Hy(s,l,Dn,void 0,x,Ee);for(Oe in x)Ee=x[Oe],_e=h[Oe],!x.hasOwnProperty(Oe)||Ee===_e||Ee===void 0&&_e===void 0||Hy(s,l,Oe,Ee,x,_e);return}}for(var de in h)Ee=h[de],h.hasOwnProperty(de)&&Ee!=null&&!x.hasOwnProperty(de)&&Nn(s,l,de,null,x,Ee);for(Pe in x)Ee=x[Pe],_e=h[Pe],!x.hasOwnProperty(Pe)||Ee===_e||Ee==null&&_e==null||Nn(s,l,Pe,Ee,x,_e)}var qy=null,Gy=null;function a1(s){return s.nodeType===9?s:s.ownerDocument}function Y_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Yy(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Wy=null;function $9(){var s=window.event;return s&&s.type==="popstate"?s===Wy?!1:(Wy=s,!0):(Wy=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,X9=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,K9=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(s){return X_.resolve(null).then(s).catch(Q9)}:$_;function Q9(s){setTimeout(function(){throw s})}function Vl(s){return s==="head"}function K_(s,l){var h=l,x=0,_=0;do{var O=h.nextSibling;if(s.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(0<x&&8>x){h=x;var H=s.ownerDocument;if(h&1&&Bh(H.documentElement),h&2&&Bh(H.body),h&4)for(h=H.head,Bh(h),H=h.firstChild;H;){var J=H.nextSibling,oe=H.nodeName;H[ia]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&H.rel.toLowerCase()==="stylesheet"||h.removeChild(H),H=J}}if(_===0){s.removeChild(O),Yh(l);return}_--}else h==="$"||h==="$?"||h==="$!"?_++:x=h.charCodeAt(0)-48;else x=0;h=O}while(h);Yh(l)}function $y(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":$y(h),ns(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function Z9(s,l,h,x){for(;s.nodeType===1;){var _=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[ia])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var O=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=Bs(s.nextSibling),s===null)break}return null}function J9(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Bs(s.nextSibling),s===null))return null;return s}function Xy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function eL(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var x=function(){l(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function Bs(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var Ky=null;function Q_(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function Z_(s,l,h){switch(l=a1(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Bh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);ns(s)}var ps=new Map,J_=new Set;function s1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ho=ue.d;ue.d={f:tL,r:nL,D:rL,C:iL,L:aL,m:sL,X:lL,S:oL,M:uL};function tL(){var s=Ho.f(),l=Q0();return s||l}function nL(s){var l=yi(s);l!==null&&l.tag===5&&l.type==="form"?xS(l):Ho.r(s)}var nf=typeof document>"u"?null:document;function eC(s,l,h){var x=nf;if(x&&typeof l=="string"&&l){var _=Ln(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),J_.has(_)||(J_.add(_),s={rel:s,crossOrigin:h,href:l},x.querySelector(_)===null&&(l=x.createElement("link"),Ai(l,"link",s),on(l),x.head.appendChild(l)))}}function rL(s){Ho.D(s),eC("dns-prefetch",s,null)}function iL(s,l){Ho.C(s,l),eC("preconnect",s,l)}function aL(s,l,h){Ho.L(s,l,h);var x=nf;if(x&&s&&l){var _='link[rel="preload"][as="'+Ln(l)+'"]';l==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+Ln(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+Ln(h.imageSizes)+'"]')):_+='[href="'+Ln(s)+'"]';var O=_;switch(l){case"style":O=rf(s);break;case"script":O=af(s)}ps.has(O)||(s=v({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),ps.set(O,s),x.querySelector(_)!==null||l==="style"&&x.querySelector(Uh(O))||l==="script"&&x.querySelector(Fh(O))||(l=x.createElement("link"),Ai(l,"link",s),on(l),x.head.appendChild(l)))}}function sL(s,l){Ho.m(s,l);var h=nf;if(h&&s){var x=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Ln(x)+'"][href="'+Ln(s)+'"]',O=_;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=af(s)}if(!ps.has(O)&&(s=v({rel:"modulepreload",href:s},l),ps.set(O,s),h.querySelector(_)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Fh(O)))return}x=h.createElement("link"),Ai(x,"link",s),on(x),h.head.appendChild(x)}}}function oL(s,l,h){Ho.S(s,l,h);var x=nf;if(x&&s){var _=Br(x).hoistableStyles,O=rf(s);l=l||"default";var H=_.get(O);if(!H){var J={loading:0,preload:null};if(H=x.querySelector(Uh(O)))J.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":l},h),(h=ps.get(O))&&Qy(s,h);var oe=H=x.createElement("link");on(oe),Ai(oe,"link",s),oe._p=new Promise(function(xe,Oe){oe.onload=xe,oe.onerror=Oe}),oe.addEventListener("load",function(){J.loading|=1}),oe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,o1(H,l,x)}H={type:"stylesheet",instance:H,count:1,state:J},_.set(O,H)}}}function lL(s,l){Ho.X(s,l);var h=nf;if(h&&s){var x=Br(h).hoistableScripts,_=af(s),O=x.get(_);O||(O=h.querySelector(Fh(_)),O||(s=v({src:s,async:!0},l),(l=ps.get(_))&&Zy(s,l),O=h.createElement("script"),on(O),Ai(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(_,O))}}function uL(s,l){Ho.M(s,l);var h=nf;if(h&&s){var x=Br(h).hoistableScripts,_=af(s),O=x.get(_);O||(O=h.querySelector(Fh(_)),O||(s=v({src:s,async:!0,type:"module"},l),(l=ps.get(_))&&Zy(s,l),O=h.createElement("script"),on(O),Ai(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(_,O))}}function tC(s,l,h,x){var _=(_=je.current)?s1(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=rf(h.href),h=Br(_).hoistableStyles,x=h.get(l),x||(x={type:"style",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=rf(h.href);var O=Br(_).hoistableStyles,H=O.get(s);if(H||(_=_.ownerDocument||_,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,H),(O=_.querySelector(Uh(s)))&&!O._p&&(H.instance=O,H.state.loading=5),ps.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ps.set(s,h),O||cL(_,s,h,H.state))),l&&x===null)throw Error(r(528,""));return H}if(l&&x!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=af(h),h=Br(_).hoistableScripts,x=h.get(l),x||(x={type:"script",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function rf(s){return'href="'+Ln(s)+'"'}function Uh(s){return'link[rel="stylesheet"]['+s+"]"}function nC(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function cL(s,l,h,x){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=s.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),Ai(l,"link",h),on(l),s.head.appendChild(l))}function af(s){return'[src="'+Ln(s)+'"]'}function Fh(s){return"script[async]"+s}function rC(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var x=s.querySelector('style[data-href~="'+Ln(h.href)+'"]');if(x)return l.instance=x,on(x),x;var _=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),on(x),Ai(x,"style",_),o1(x,h.precedence,s),l.instance=x;case"stylesheet":_=rf(h.href);var O=s.querySelector(Uh(_));if(O)return l.state.loading|=4,l.instance=O,on(O),O;x=nC(h),(_=ps.get(_))&&Qy(x,_),O=(s.ownerDocument||s).createElement("link"),on(O);var H=O;return H._p=new Promise(function(J,oe){H.onload=J,H.onerror=oe}),Ai(O,"link",x),l.state.loading|=4,o1(O,h.precedence,s),l.instance=O;case"script":return O=af(h.src),(_=s.querySelector(Fh(O)))?(l.instance=_,on(_),_):(x=h,(_=ps.get(O))&&(x=v({},h),Zy(x,_)),s=s.ownerDocument||s,_=s.createElement("script"),on(_),Ai(_,"link",x),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,o1(x,h.precedence,s));return l.instance}function o1(s,l,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=x.length?x[x.length-1]:null,O=_,H=0;H<x.length;H++){var J=x[H];if(J.dataset.precedence===l)O=J;else if(O!==_)break}O?O.parentNode.insertBefore(s,O.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function Qy(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Zy(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var l1=null;function iC(s,l,h){if(l1===null){var x=new Map,_=l1=new Map;_.set(h,x)}else _=l1,x=_.get(h),x||(x=new Map,_.set(h,x));if(x.has(s))return x;for(x.set(s,null),h=h.getElementsByTagName(s),_=0;_<h.length;_++){var O=h[_];if(!(O[ia]||O[Ir]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var H=O.getAttribute(l)||"";H=s+H;var J=x.get(H);J?J.push(O):x.set(H,[O])}}return x}function aC(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function fL(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function sC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Vh=null;function hL(){}function dL(s,l,h){if(Vh===null)throw Error(r(475));var x=Vh;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=rf(h.href),O=s.querySelector(Uh(_));if(O){s=O._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(x.count++,x=u1.bind(x),s.then(x,x)),l.state.loading|=4,l.instance=O,on(O);return}O=s.ownerDocument||s,h=nC(h),(_=ps.get(_))&&Qy(h,_),O=O.createElement("link"),on(O);var H=O;H._p=new Promise(function(J,oe){H.onload=J,H.onerror=oe}),Ai(O,"link",h),l.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(x.count++,l=u1.bind(x),s.addEventListener("load",l),s.addEventListener("error",l))}}function gL(){if(Vh===null)throw Error(r(475));var s=Vh;return s.stylesheets&&s.count===0&&Jy(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&Jy(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function u1(){if(this.count--,this.count===0){if(this.stylesheets)Jy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var c1=null;function Jy(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,c1=new Map,l.forEach(mL,s),c1=null,u1.call(s))}function mL(s,l){if(!(l.state.loading&4)){var h=c1.get(s);if(h)var x=h.get(null);else{h=new Map,c1.set(s,h);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<_.length;O++){var H=_[O];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(h.set(H.dataset.precedence,H),x=H)}x&&h.set(null,x)}_=l.instance,H=_.getAttribute("data-precedence"),O=h.get(H)||x,O===x&&h.set(null,_),h.set(H,_),this.count++,x=u1.bind(this),_.addEventListener("load",x),_.addEventListener("error",x),O?O.parentNode.insertBefore(_,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var zh={$$typeof:q,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function pL(s,l,h,x,_,O,H,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=x,this.onUncaughtError=_,this.onCaughtError=O,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function oC(s,l,h,x,_,O,H,J,oe,xe,Oe,Pe){return s=new pL(s,l,h,H,J,oe,xe,Pe),l=1,O===!0&&(l|=24),O=Ma(3,null,null,l),s.current=O,O.stateNode=s,l=Pp(),l.refCount++,s.pooledCache=l,l.refCount++,O.memoizedState={element:x,isDehydrated:h,cache:l},Bp(O),s}function lC(s){return s?(s=Lc,s):Lc}function uC(s,l,h,x,_,O){_=lC(_),x.context===null?x.context=_:x.pendingContext=_,x=Il(l),x.payload={element:h},O=O===void 0?null:O,O!==null&&(x.callback=O),h=Ol(s,x,l),h!==null&&(Ba(h,s,l),vh(h,s,l))}function cC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function ev(s,l){cC(s,l),(s=s.alternate)&&cC(s,l)}function fC(s){if(s.tag===13){var l=Pc(s,67108864);l!==null&&Ba(l,s,67108864),ev(s,67108864)}}var f1=!0;function yL(s,l,h,x){var _=le.T;le.T=null;var O=ue.p;try{ue.p=2,tv(s,l,h,x)}finally{ue.p=O,le.T=_}}function vL(s,l,h,x){var _=le.T;le.T=null;var O=ue.p;try{ue.p=8,tv(s,l,h,x)}finally{ue.p=O,le.T=_}}function tv(s,l,h,x){if(f1){var _=nv(x);if(_===null)zy(s,l,x,h1,h),dC(s,x);else if(bL(_,s,l,h,x))x.stopPropagation();else if(dC(s,x),l&4&&-1<xL.indexOf(s)){for(;_!==null;){var O=yi(_);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var H=dn(O.pendingLanes);if(H!==0){var J=O;for(J.pendingLanes|=2,J.entangledLanes|=2;H;){var oe=1<<31-st(H);J.entanglements[1]|=oe,H&=~oe}so(O),(Sn&6)===0&&(X0=_t()+500,Lh(0))}}break;case 13:J=Pc(O,2),J!==null&&Ba(J,O,2),Q0(),ev(O,2)}if(O=nv(x),O===null&&zy(s,l,x,h1,h),O===_)break;_=O}_!==null&&x.stopPropagation()}else zy(s,l,x,null,h)}}function nv(s){return s=vi(s),rv(s)}var h1=null;function rv(s){if(h1=null,s=nr(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=c(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return h1=s,null}function hC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case St:return 2;case Ea:return 8;case Ze:case Ws:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var iv=!1,zl=null,Hl=null,ql=null,Hh=new Map,qh=new Map,Gl=[],xL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dC(s,l){switch(s){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Hl=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":Hh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qh.delete(l.pointerId)}}function Gh(s,l,h,x,_,O){return s===null||s.nativeEvent!==O?(s={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:O,targetContainers:[_]},l!==null&&(l=yi(l),l!==null&&fC(l)),s):(s.eventSystemFlags|=x,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function bL(s,l,h,x,_){switch(l){case"focusin":return zl=Gh(zl,s,l,h,x,_),!0;case"dragenter":return Hl=Gh(Hl,s,l,h,x,_),!0;case"mouseover":return ql=Gh(ql,s,l,h,x,_),!0;case"pointerover":var O=_.pointerId;return Hh.set(O,Gh(Hh.get(O)||null,s,l,h,x,_)),!0;case"gotpointercapture":return O=_.pointerId,qh.set(O,Gh(qh.get(O)||null,s,l,h,x,_)),!0}return!1}function gC(s){var l=nr(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=c(h),l!==null){s.blockedOn=l,So(s.priority,function(){if(h.tag===13){var x=ja();x=ts(x);var _=Pc(h,x);_!==null&&Ba(_,h,x),ev(h,x)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function d1(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=nv(s.nativeEvent);if(h===null){h=s.nativeEvent;var x=new h.constructor(h.type,h);_a=x,h.target.dispatchEvent(x),_a=null}else return l=yi(h),l!==null&&fC(l),s.blockedOn=h,!1;l.shift()}return!0}function mC(s,l,h){d1(s)&&h.delete(l)}function wL(){iv=!1,zl!==null&&d1(zl)&&(zl=null),Hl!==null&&d1(Hl)&&(Hl=null),ql!==null&&d1(ql)&&(ql=null),Hh.forEach(mC),qh.forEach(mC)}function g1(s,l){s.blockedOn===l&&(s.blockedOn=null,iv||(iv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wL)))}var m1=null;function pC(s){m1!==s&&(m1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){m1===s&&(m1=null);for(var l=0;l<s.length;l+=3){var h=s[l],x=s[l+1],_=s[l+2];if(typeof x!="function"){if(rv(x||h)===null)continue;break}var O=yi(h);O!==null&&(s.splice(l,3),l-=3,ry(O,{pending:!0,data:_,method:h.method,action:x},x,_))}}))}function Yh(s){function l(oe){return g1(oe,s)}zl!==null&&g1(zl,s),Hl!==null&&g1(Hl,s),ql!==null&&g1(ql,s),Hh.forEach(l),qh.forEach(l);for(var h=0;h<Gl.length;h++){var x=Gl[h];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Gl.length&&(h=Gl[0],h.blockedOn===null);)gC(h),h.blockedOn===null&&Gl.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var _=h[x],O=h[x+1],H=_[On]||null;if(typeof O=="function")H||pC(h);else if(H){var J=null;if(O&&O.hasAttribute("formAction")){if(_=O,H=O[On]||null)J=H.formAction;else if(rv(_)!==null)continue}else J=H.action;typeof J=="function"?h[x+1]=J:(h.splice(x,3),x-=3),pC(h)}}}function av(s){this._internalRoot=s}p1.prototype.render=av.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,x=ja();uC(h,x,s,l,null,null)},p1.prototype.unmount=av.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;uC(s.current,2,null,s,null,null),Q0(),l[Di]=null}};function p1(s){this._internalRoot=s}p1.prototype.unstable_scheduleHydration=function(s){if(s){var l=$i();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Gl.length&&l!==0&&l<Gl[h].priority;h++);Gl.splice(h,0,s),h===0&&gC(s)}};var yC=e.version;if(yC!=="19.1.1")throw Error(r(527,yC,"19.1.1"));ue.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=m(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var EL={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y1.isDisabled&&y1.supportsFiber)try{Ye=y1.inject(EL),Xe=y1}catch{}}return $h.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,x="",_=MS,O=PS,H=LS,J=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks)),l=oC(s,1,!1,null,null,h,x,_,O,H,J,null),s[Di]=l.current,Vy(s),new av(l)},$h.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var x=!1,_="",O=MS,H=PS,J=LS,oe=null,xe=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(H=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(oe=h.unstable_transitionCallbacks),h.formState!==void 0&&(xe=h.formState)),l=oC(s,1,!0,l,h??null,x,_,O,H,J,oe,xe),l.context=lC(null),h=l.current,x=ja(),x=ts(x),_=Il(x),_.callback=null,Ol(h,_,x),h=x,l.current.lanes=h,mi(l,h),so(l),s[Di]=l.current,Vy(s),new p1(l)},$h.version="19.1.1",$h}var TC;function DL(){if(TC)return lv.exports;TC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lv.exports=NL(),lv.exports}var ML=DL();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IC="popstate";function PL(t={}){function e(i,a){let{pathname:c="/",search:g="",hash:m=""}=yc(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),t2("",{pathname:c,search:g,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let c=i.document.querySelector("base"),g="";if(c&&c.getAttribute("href")){let m=i.location.href,d=m.indexOf("#");g=d===-1?m:m.slice(0,d)}return g+"#"+(typeof a=="string"?a:vd(a))}function r(i,a){_s(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return kL(e,n,r,t)}function fr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _s(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LL(){return Math.random().toString(36).substring(2,10)}function OC(t,e){return{usr:t.state,key:t.key,idx:e}}function t2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yc(e):e,state:n,key:e&&e.key||r||LL()}}function vd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function kL(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,g="POP",m=null,d=v();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function v(){return(c.state||{idx:null}).idx}function w(){g="POP";let P=v(),U=P==null?null:P-d;d=P,m&&m({action:g,location:M.location,delta:U})}function S(P,U){g="PUSH";let W=t2(M.location,P,U);n&&n(W,P),d=v()+1;let q=OC(W,d),ee=M.createHref(W);try{c.pushState(q,"",ee)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(ee)}a&&m&&m({action:g,location:M.location,delta:1})}function T(P,U){g="REPLACE";let W=t2(M.location,P,U);n&&n(W,P),d=v();let q=OC(W,d),ee=M.createHref(W);c.replaceState(q,"",ee),a&&m&&m({action:g,location:M.location,delta:0})}function R(P){return jL(P)}let M={get action(){return g},get location(){return t(i,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(IC,w),m=P,()=>{i.removeEventListener(IC,w),m=null}},createHref(P){return e(i,P)},createURL:R,encodeLocation(P){let U=R(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:T,go(P){return c.go(P)}};return M}function jL(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IR(t,e,n="/"){return BL(t,e,n,!1)}function BL(t,e,n,r){let i=typeof e=="string"?yc(e):e,a=Jo(i.pathname||"/",n);if(a==null)return null;let c=OR(t);UL(c);let g=null;for(let m=0;g==null&&m<c.length;++m){let d=KL(a);g=$L(c[m],d,r)}return g}function OR(t,e=[],n=[],r=""){let i=(a,c,g)=>{let m={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};m.relativePath.startsWith("/")&&(fr(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let d=Xo([r,m.relativePath]),v=n.concat(m);a.children&&a.children.length>0&&(fr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),OR(a.children,e,v,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:YL(d,a.index),routesMeta:v})};return t.forEach((a,c)=>{if(a.path===""||!a.path?.includes("?"))i(a,c);else for(let g of RR(a.path))i(a,c,g)}),e}function RR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=RR(r.join("/")),g=[];return g.push(...c.map(m=>m===""?a:[a,m].join("/"))),i&&g.push(...c),g.map(m=>t.startsWith("/")&&m===""?"/":m)}function UL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FL=/^:[\w-]+$/,VL=3,zL=2,HL=1,qL=10,GL=-2,RC=t=>t==="*";function YL(t,e){let n=t.split("/"),r=n.length;return n.some(RC)&&(r+=GL),e&&(r+=zL),n.filter(i=>!RC(i)).reduce((i,a)=>i+(FL.test(a)?VL:a===""?HL:qL),r)}function WL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $L(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",c=[];for(let g=0;g<r.length;++g){let m=r[g],d=g===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=eg({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},v),S=m.route;if(!w&&d&&n&&!r[r.length-1].route.index&&(w=eg({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:Xo([a,w.pathname]),pathnameBase:e7(Xo([a,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(a=Xo([a,w.pathnameBase]))}return c}function eg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((d,{paramName:v,isOptional:w},S)=>{if(v==="*"){let R=g[S]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const T=g[S];return w&&!T?d[v]=void 0:d[v]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:c,pattern:t}}function XL(t,e=!1,n=!0){_s(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,g,m)=>(r.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _s(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QL(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yc(t):t;return{pathname:n?n.startsWith("/")?n:ZL(n,e):e,search:t7(r),hash:n7(i)}}function ZL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sb(t){let e=JL(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _b(t,e,n,r=!1){let i;typeof t=="string"?i=yc(t):(i={...t},fr(!i.pathname||!i.pathname.includes("?"),hv("?","pathname","search",i)),fr(!i.pathname||!i.pathname.includes("#"),hv("#","pathname","hash",i)),fr(!i.search||!i.search.includes("#"),hv("#","search","hash",i)));let a=t===""||i.pathname==="",c=a?"/":i.pathname,g;if(c==null)g=n;else{let w=e.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),w-=1;i.pathname=S.join("/")}g=w>=0?e[w]:"/"}let m=QL(i,g),d=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(d||v)&&(m.pathname+="/"),m}var Xo=t=>t.join("/").replace(/\/\/+/g,"/"),e7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NR=["POST","PUT","PATCH","DELETE"];new Set(NR);var i7=["GET",...NR];new Set(i7);var Hf=N.createContext(null);Hf.displayName="DataRouter";var fm=N.createContext(null);fm.displayName="DataRouterState";N.createContext(!1);var DR=N.createContext({isTransitioning:!1});DR.displayName="ViewTransition";var a7=N.createContext(new Map);a7.displayName="Fetchers";var s7=N.createContext(null);s7.displayName="Await";var Gs=N.createContext(null);Gs.displayName="Navigation";var Hd=N.createContext(null);Hd.displayName="Location";var wo=N.createContext({outlet:null,matches:[],isDataRoute:!1});wo.displayName="Route";var Cb=N.createContext(null);Cb.displayName="RouteError";function o7(t,{relative:e}={}){fr(qf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Gs),{hash:i,pathname:a,search:c}=qd(t,{relative:e}),g=a;return n!=="/"&&(g=a==="/"?n:Xo([n,a])),r.createHref({pathname:g,search:c,hash:i})}function qf(){return N.useContext(Hd)!=null}function vu(){return fr(qf(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Hd).location}var MR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PR(t){N.useContext(Gs).static||N.useLayoutEffect(t)}function hm(){let{isDataRoute:t}=N.useContext(wo);return t?b7():l7()}function l7(){fr(qf(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Hf),{basename:e,navigator:n}=N.useContext(Gs),{matches:r}=N.useContext(wo),{pathname:i}=vu(),a=JSON.stringify(Sb(r)),c=N.useRef(!1);return PR(()=>{c.current=!0}),N.useCallback((m,d={})=>{if(_s(c.current,MR),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=_b(m,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xo([e,v.pathname])),(d.replace?n.replace:n.push)(v,d.state,d)},[e,n,a,i,t])}N.createContext(null);function qd(t,{relative:e}={}){let{matches:n}=N.useContext(wo),{pathname:r}=vu(),i=JSON.stringify(Sb(n));return N.useMemo(()=>_b(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function u7(t,e){return LR(t,e)}function LR(t,e,n,r){fr(qf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(Gs),{matches:a}=N.useContext(wo),c=a[a.length-1],g=c?c.params:{},m=c?c.pathname:"/",d=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";kR(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=vu(),S;if(e){let U=typeof e=="string"?yc(e):e;fr(d==="/"||U.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=w;let T=S.pathname||"/",R=T;if(d!=="/"){let U=d.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let M=IR(t,{pathname:R});_s(v||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),_s(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=g7(M&&M.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:Xo([d,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?d:Xo([d,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),a,n,r);return e&&P?N.createElement(Hd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function c7(){let t=x7(),e=r7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,c)}var f7=N.createElement(c7,null),h7=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(wo.Provider,{value:this.props.routeContext},N.createElement(Cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d7({routeContext:t,match:e,children:n}){let r=N.useContext(Hf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(wo.Provider,{value:t},n)}function g7(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let m=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);fr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,g=-1;if(n)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(g=m),d.route.id){let{loaderData:v,errors:w}=n,S=d.route.loader&&!v.hasOwnProperty(d.route.id)&&(!w||w[d.route.id]===void 0);if(d.route.lazy||S){c=!0,g>=0?i=i.slice(0,g+1):i=[i[0]];break}}}return i.reduceRight((m,d,v)=>{let w,S=!1,T=null,R=null;n&&(w=a&&d.route.id?a[d.route.id]:void 0,T=d.route.errorElement||f7,c&&(g<0&&v===0?(kR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):g===v&&(S=!0,R=d.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,v+1)),P=()=>{let U;return w?U=T:S?U=R:d.route.Component?U=N.createElement(d.route.Component,null):d.route.element?U=d.route.element:U=m,N.createElement(d7,{match:d,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:U})};return n&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?N.createElement(h7,{location:n.location,revalidation:n.revalidation,component:T,error:w,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):P()},null)}function Tb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m7(t){let e=N.useContext(Hf);return fr(e,Tb(t)),e}function p7(t){let e=N.useContext(fm);return fr(e,Tb(t)),e}function y7(t){let e=N.useContext(wo);return fr(e,Tb(t)),e}function Ib(t){let e=y7(t),n=e.matches[e.matches.length-1];return fr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function v7(){return Ib("useRouteId")}function x7(){let t=N.useContext(Cb),e=p7("useRouteError"),n=Ib("useRouteError");return t!==void 0?t:e.errors?.[n]}function b7(){let{router:t}=m7("useNavigate"),e=Ib("useNavigate"),n=N.useRef(!1);return PR(()=>{n.current=!0}),N.useCallback(async(i,a={})=>{_s(n.current,MR),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var NC={};function kR(t,e,n){!e&&!NC[t]&&(NC[t]=!0,_s(!1,n))}N.memo(w7);function w7({routes:t,future:e,state:n}){return LR(t,void 0,n,e)}function E7({to:t,replace:e,state:n,relative:r}){fr(qf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Gs);_s(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(wo),{pathname:c}=vu(),g=hm(),m=_b(t,Sb(a),c,r==="path"),d=JSON.stringify(m);return N.useEffect(()=>{g(JSON.parse(d),{replace:e,state:n,relative:r})},[g,d,r,e,n]),null}function li(t){fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){fr(!qf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),g=N.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof n=="string"&&(n=yc(n));let{pathname:m="/",search:d="",hash:v="",state:w=null,key:S="default"}=n,T=N.useMemo(()=>{let R=Jo(m,c);return R==null?null:{location:{pathname:R,search:d,hash:v,state:w,key:S},navigationType:r}},[c,m,d,v,w,S,r]);return _s(T!=null,`<Router basename="${c}"> is not able to match the URL "${m}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:N.createElement(Gs.Provider,{value:g},N.createElement(Hd.Provider,{children:e,value:T}))}function S7({children:t,location:e}){return u7(n2(t),e)}function n2(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let a=[...e,i];if(r.type===N.Fragment){n.push.apply(n,n2(r.props.children,a));return}fr(r.type===li,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=n2(r.props.children,a)),n.push(c)}),n}var H1="get",q1="application/x-www-form-urlencoded";function dm(t){return t!=null&&typeof t.tagName=="string"}function _7(t){return dm(t)&&t.tagName.toLowerCase()==="button"}function C7(t){return dm(t)&&t.tagName.toLowerCase()==="form"}function T7(t){return dm(t)&&t.tagName.toLowerCase()==="input"}function I7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O7(t,e){return t.button===0&&(!e||e==="_self")&&!I7(t)}var x1=null;function R7(){if(x1===null)try{new FormData(document.createElement("form"),0),x1=!1}catch{x1=!0}return x1}var N7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dv(t){return t!=null&&!N7.has(t)?(_s(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${q1}"`),null):t}function D7(t,e){let n,r,i,a,c;if(C7(t)){let g=t.getAttribute("action");r=g?Jo(g,e):null,n=t.getAttribute("method")||H1,i=dv(t.getAttribute("enctype"))||q1,a=new FormData(t)}else if(_7(t)||T7(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||g.getAttribute("action");if(r=m?Jo(m,e):null,n=t.getAttribute("formmethod")||g.getAttribute("method")||H1,i=dv(t.getAttribute("formenctype"))||dv(g.getAttribute("enctype"))||q1,a=new FormData(g,t),!R7()){let{name:d,type:v,value:w}=t;if(v==="image"){let S=d?`${d}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else d&&a.append(d,w)}}else{if(dm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=H1,r=null,i=q1,c=t}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ob(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Jo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function P7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function k7(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let c=await P7(a,n);return c.links?c.links():[]}return[]}));return F7(r.flat(1).filter(L7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DC(t,e,n,r,i,a){let c=(m,d)=>n[d]?m.route.id!==n[d].route.id:!0,g=(m,d)=>n[d].pathname!==m.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==m.params["*"];return a==="assets"?e.filter((m,d)=>c(m,d)||g(m,d)):a==="data"?e.filter((m,d)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,d)||g(m,d))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function j7(t,e,{includeHydrateFallback:n}={}){return B7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function B7(t){return[...new Set(t)]}function U7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function F7(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(U7(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function jR(){let t=N.useContext(Hf);return Ob(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V7(){let t=N.useContext(fm);return Ob(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rb=N.createContext(void 0);Rb.displayName="FrameworkContext";function BR(){let t=N.useContext(Rb);return Ob(t,"You must render this element inside a <HydratedRouter> element"),t}function z7(t,e){let n=N.useContext(Rb),[r,i]=N.useState(!1),[a,c]=N.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:d,onMouseLeave:v,onTouchStart:w}=e,S=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=U=>{U.forEach(W=>{c(W.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[t]),N.useEffect(()=>{if(r){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[r]);let T=()=>{i(!0)},R=()=>{i(!1),c(!1)};return n?t!=="intent"?[a,S,{}]:[a,S,{onFocus:Xh(g,T),onBlur:Xh(m,R),onMouseEnter:Xh(d,T),onMouseLeave:Xh(v,R),onTouchStart:Xh(w,T)}]:[!1,S,{}]}function Xh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H7({page:t,...e}){let{router:n}=jR(),r=N.useMemo(()=>IR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(G7,{page:t,matches:r,...e}):null}function q7(t){let{manifest:e,routeModules:n}=BR(),[r,i]=N.useState([]);return N.useEffect(()=>{let a=!1;return k7(t,e,n).then(c=>{a||i(c)}),()=>{a=!0}},[t,e,n]),r}function G7({page:t,matches:e,...n}){let r=vu(),{manifest:i,routeModules:a}=BR(),{basename:c}=jR(),{loaderData:g,matches:m}=V7(),d=N.useMemo(()=>DC(t,e,m,i,r,"data"),[t,e,m,i,r]),v=N.useMemo(()=>DC(t,e,m,i,r,"assets"),[t,e,m,i,r]),w=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,M=!1;if(e.forEach(U=>{let W=i.routes[U.route.id];!W||!W.hasLoader||(!d.some(q=>q.route.id===U.route.id)&&U.route.id in g&&a[U.route.id]?.shouldRevalidate||W.hasClientLoader?M=!0:R.add(U.route.id))}),R.size===0)return[];let P=M7(t,c,"data");return M&&R.size>0&&P.searchParams.set("_routes",e.filter(U=>R.has(U.route.id)).map(U=>U.route.id).join(",")),[P.pathname+P.search]},[c,g,r,i,d,e,t,a]),S=N.useMemo(()=>j7(v,i),[v,i]),T=q7(v);return N.createElement(N.Fragment,null,w.map(R=>N.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),S.map(R=>N.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),T.map(({key:R,link:M})=>N.createElement("link",{key:R,nonce:n.nonce,...M})))}function Y7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UR&&(window.__reactRouterVersion="7.8.0")}catch{}function W7({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=PL({window:n,v5Compat:!0}));let i=r.current,[a,c]=N.useState({action:i.action,location:i.location}),g=N.useCallback(m=>{N.startTransition(()=>c(m))},[c]);return N.useLayoutEffect(()=>i.listen(g),[i,g]),N.createElement(A7,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var FR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xd=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:g,target:m,to:d,preventScrollReset:v,viewTransition:w,...S},T){let{basename:R}=N.useContext(Gs),M=typeof d=="string"&&FR.test(d),P,U=!1;if(typeof d=="string"&&M&&(P=d,UR))try{let j=new URL(window.location.href),Q=d.startsWith("//")?new URL(j.protocol+d):new URL(d),Z=Jo(Q.pathname,R);Q.origin===j.origin&&Z!=null?d=Z+Q.search+Q.hash:U=!0}catch{_s(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=o7(d,{relative:i}),[q,ee,$]=z7(r,S),ne=K7(d,{replace:c,state:g,target:m,preventScrollReset:v,relative:i,viewTransition:w});function k(j){e&&e(j),j.defaultPrevented||ne(j)}let V=N.createElement("a",{...S,...$,href:P||W,onClick:U||a?e:k,ref:Y7(T,ee),target:m,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?N.createElement(N.Fragment,null,V,N.createElement(H7,{page:W})):V});xd.displayName="Link";var pa=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:g,children:m,...d},v){let w=qd(c,{relative:d.relative}),S=vu(),T=N.useContext(fm),{navigator:R,basename:M}=N.useContext(Gs),P=T!=null&&tk(w)&&g===!0,U=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,W=S.pathname,q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(W=W.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&M&&(q=Jo(q,M)||q);const ee=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let $=W===U||!i&&W.startsWith(U)&&W.charAt(ee)==="/",ne=q!=null&&(q===U||!i&&q.startsWith(U)&&q.charAt(U.length)==="/"),k={isActive:$,isPending:ne,isTransitioning:P},V=$?e:void 0,j;typeof r=="function"?j=r(k):j=[r,$?"active":null,ne?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Q=typeof a=="function"?a(k):a;return N.createElement(xd,{...d,"aria-current":V,className:j,ref:v,style:Q,to:c,viewTransition:g},typeof m=="function"?m(k):m)});pa.displayName="NavLink";var $7=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:c=H1,action:g,onSubmit:m,relative:d,preventScrollReset:v,viewTransition:w,...S},T)=>{let R=J7(),M=ek(g,{relative:d}),P=c.toLowerCase()==="get"?"get":"post",U=typeof g=="string"&&FR.test(g),W=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let ee=q.nativeEvent.submitter,$=ee?.getAttribute("formmethod")||c;R(ee||q.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:a,relative:d,preventScrollReset:v,viewTransition:w})};return N.createElement("form",{ref:T,method:P,action:M,onSubmit:r?m:W,...S,"data-discover":!U&&t==="render"?"true":void 0})});$7.displayName="Form";function X7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(t){let e=N.useContext(Hf);return fr(e,X7(t)),e}function K7(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:c}={}){let g=hm(),m=vu(),d=qd(t,{relative:a});return N.useCallback(v=>{if(O7(v,e)){v.preventDefault();let w=n!==void 0?n:vd(m)===vd(d);g(t,{replace:w,state:r,preventScrollReset:i,relative:a,viewTransition:c})}},[m,g,d,n,r,e,t,i,a,c])}var Q7=0,Z7=()=>`__${String(++Q7)}__`;function J7(){let{router:t}=VR("useSubmit"),{basename:e}=N.useContext(Gs),n=v7();return N.useCallback(async(r,i={})=>{let{action:a,method:c,encType:g,formData:m,body:d}=D7(r,e);if(i.navigate===!1){let v=i.fetcherKey||Z7();await t.fetch(v,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:d,formMethod:i.method||c,formEncType:i.encType||g,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:d,formMethod:i.method||c,formEncType:i.encType||g,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ek(t,{relative:e}={}){let{basename:n}=N.useContext(Gs),r=N.useContext(wo);fr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...qd(t||".",{relative:e})},c=vu();if(t==null){a.search=c.search;let g=new URLSearchParams(a.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(w=>w).forEach(w=>g.append("index",w));let v=g.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Xo([n,a.pathname])),vd(a)}function tk(t,{relative:e}={}){let n=N.useContext(DR);fr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VR("useViewTransitionState"),i=qd(t,{relative:e});if(!n.isTransitioning)return!1;let a=Jo(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Jo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eg(i.pathname,c)!=null||eg(i.pathname,a)!=null}var zR=TR(),HR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MC=Vn.createContext&&Vn.createContext(HR),nk=["attr","size","title"];function rk(t,e){if(t==null)return{};var n=ik(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ik(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){ak(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ak(t,e,n){return e=sk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sk(t){var e=ok(t,"string");return typeof e=="symbol"?e:e+""}function ok(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qR(t){return t&&t.map((e,n)=>Vn.createElement(e.tag,ng({key:n},e.attr),qR(e.child)))}function GR(t){return e=>Vn.createElement(lk,tg({attr:ng({},t.attr)},e),qR(t.child))}function lk(t){var e=n=>{var{attr:r,size:i,title:a}=t,c=rk(t,nk),g=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),Vn.createElement("svg",tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:ng(ng({color:t.color||n.color},n.style),t.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),a&&Vn.createElement("title",null,a),t.children)};return MC!==void 0?Vn.createElement(MC.Consumer,null,n=>e(n)):e(HR)}function YR(t){return GR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function WR(t){return GR({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function ul(){const[t,e]=N.useState(!1);return I.jsxs(I.Fragment,{children:[I.jsxs("aside",{className:`sidebar ${t?"hidden":""}`,"aria-hidden":t,children:[I.jsx("h2",{className:"sidebar-title",children:"Admin Panel"}),I.jsxs("nav",{className:"sidebar-nav",children:[I.jsx(pa,{to:"/dashboard",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Dashboard"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/customers",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Customers"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/rewards",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Rewards"}),I.jsx(pa,{to:"/menu",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Menu"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/wallet",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Wallet Requests"}),I.jsx(pa,{to:"/feedback",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Feedback"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/transactions",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Transactions"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Logout"})]})]}),I.jsx("button",{className:"toggle-btn",onClick:()=>e(n=>!n),"aria-pressed":!t,"aria-label":t?"Open sidebar":"Close sidebar",children:t?I.jsx(WR,{size:20}):I.jsx(YR,{size:20})})]})}function uk(){return I.jsx("div",{className:"intro-container",children:I.jsxs("div",{className:"intro-card",children:[I.jsx("h1",{className:"intro-title",children:"Welcome!"}),I.jsx("div",{className:"intro-buttons",children:I.jsx(xd,{to:"/Owner",children:I.jsx("button",{className:"intro-button admin-button",children:"Start"})})})]})})}const ck=()=>{};var LC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],g=t[n++],m=((i&7)<<18|(a&63)<<12|(c&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},XR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,g=c?t[i+1]:0,m=i+2<t.length,d=m?t[i+2]:0,v=a>>2,w=(a&3)<<4|g>>4;let S=(g&15)<<2|d>>6,T=d&63;m||(T=64,c||(S=64)),r.push(n[v],n[w],n[S],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($R(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],g=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||g==null||d==null||w==null)throw new hk;const S=a<<2|g>>4;if(r.push(S),d!==64){const T=g<<4&240|d>>2;if(r.push(T),w!==64){const R=d<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dk=function(t){const e=$R(t);return XR.encodeByteArray(e,!0)},rg=function(t){return dk(t).replace(/\./g,"")},gk=function(t){try{return XR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=()=>mk().__FIREBASE_DEFAULTS__,yk=()=>{if(typeof process>"u"||typeof LC>"u")return;const t=LC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gk(t[1]);return e&&JSON.parse(e)},Nb=()=>{try{return ck()||pk()||yk()||vk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xk=t=>Nb()?.emulatorHosts?.[t],KR=t=>{const e=xk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QR=()=>Nb()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rg(JSON.stringify(n)),rg(JSON.stringify(c)),""].join(".")}const hd={};function wk(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function Ek(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kC=!1;function eN(t,e){if(typeof window>"u"||typeof document>"u"||!gm(window.location.host)||hd[t]===e||hd[t]||kC)return;hd[t]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",a=wk().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,T){S.setAttribute("width","24"),S.setAttribute("id",T),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function d(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{kC=!0,c()},S}function v(S,T){S.setAttribute("id",T),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=Ek(r),T=n("text"),R=document.getElementById(T)||document.createElement("span"),M=n("learnmore"),P=document.getElementById(M)||document.createElement("a"),U=n("preprendIcon"),W=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;g(q),v(P,M);const ee=d();m(W,U),q.append(W,R,P,ee),document.body.appendChild(q)}a?(R.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sk(){const t=Nb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _k(){return!Sk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ck(){try{return typeof indexedDB=="object"}catch{return!1}}function Tk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="FirebaseError";class vc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ik,Object.setPrototypeOf(this,vc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tN.prototype.create)}}class tN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?Ok(a,r):"Error",g=`${this.serviceName}: ${c} (${i}).`;return new vc(i,g,r)}}function Ok(t,e){return t.replace(Rk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Rk=/\{\$([^}]+)}/g;function ig(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(jC(a)&&jC(c)){if(!ig(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){return t&&t._delegate?t._delegate:t}class _f{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nk=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mk(e))try{this.getOrInitializeService({instanceIdentifier:qu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qu){return this.instances.has(e)}getOptions(e=qu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(a);r===g&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qu){return this.component?this.component.multipleInstances?e:qu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dk(t){return t===qu?void 0:t}function Mk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rn||(rn={}));const Lk={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},kk=rn.INFO,jk={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},Bk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nN{constructor(e){this.name=e,this._logLevel=kk,this._logHandler=Bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...e),this._logHandler(this,rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...e),this._logHandler(this,rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...e),this._logHandler(this,rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...e),this._logHandler(this,rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...e),this._logHandler(this,rn.ERROR,...e)}}const Uk=(t,e)=>e.some(n=>t instanceof n);let BC,UC;function Fk(){return BC||(BC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vk(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rN=new WeakMap,r2=new WeakMap,iN=new WeakMap,gv=new WeakMap,Db=new WeakMap;function zk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Jl(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&rN.set(n,t)}).catch(()=>{}),Db.set(e,t),e}function Hk(t){if(r2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});r2.set(t,e)}let i2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qk(t){i2=t(i2)}function Gk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mv(this),e,...n);return iN.set(r,e.sort?e.sort():[e]),Jl(r)}:Vk().includes(t)?function(...e){return t.apply(mv(this),e),Jl(rN.get(this))}:function(...e){return Jl(t.apply(mv(this),e))}}function Yk(t){return typeof t=="function"?Gk(t):(t instanceof IDBTransaction&&Hk(t),Uk(t,Fk())?new Proxy(t,i2):t)}function Jl(t){if(t instanceof IDBRequest)return zk(t);if(gv.has(t))return gv.get(t);const e=Yk(t);return e!==t&&(gv.set(t,e),Db.set(e,t)),e}const mv=t=>Db.get(t);function Wk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),g=Jl(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Jl(c.result),m.oldVersion,m.newVersion,Jl(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),g}const $k=["get","getKey","getAll","getAllKeys","count"],Xk=["put","add","delete","clear"],pv=new Map;function FC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$k.includes(n)))return;const a=async function(c,...g){const m=this.transaction(c,i?"readwrite":"readonly");let d=m.store;return r&&(d=d.index(g.shift())),(await Promise.all([d[n](...g),i&&m.done]))[0]};return pv.set(e,a),a}qk(t=>({...t,get:(e,n,r)=>FC(e,n)||t.get(e,n,r),has:(e,n)=>!!FC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Qk(t){return t.getComponent()?.type==="VERSION"}const a2="@firebase/app",VC="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new nN("@firebase/app"),Zk="@firebase/app-compat",Jk="@firebase/analytics-compat",ej="@firebase/analytics",tj="@firebase/app-check-compat",nj="@firebase/app-check",rj="@firebase/auth",ij="@firebase/auth-compat",aj="@firebase/database",sj="@firebase/data-connect",oj="@firebase/database-compat",lj="@firebase/functions",uj="@firebase/functions-compat",cj="@firebase/installations",fj="@firebase/installations-compat",hj="@firebase/messaging",dj="@firebase/messaging-compat",gj="@firebase/performance",mj="@firebase/performance-compat",pj="@firebase/remote-config",yj="@firebase/remote-config-compat",vj="@firebase/storage",xj="@firebase/storage-compat",bj="@firebase/firestore",wj="@firebase/ai",Ej="@firebase/firestore-compat",Aj="firebase",Sj="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="[DEFAULT]",_j={[a2]:"fire-core",[Zk]:"fire-core-compat",[ej]:"fire-analytics",[Jk]:"fire-analytics-compat",[nj]:"fire-app-check",[tj]:"fire-app-check-compat",[rj]:"fire-auth",[ij]:"fire-auth-compat",[aj]:"fire-rtdb",[sj]:"fire-data-connect",[oj]:"fire-rtdb-compat",[lj]:"fire-fn",[uj]:"fire-fn-compat",[cj]:"fire-iid",[fj]:"fire-iid-compat",[hj]:"fire-fcm",[dj]:"fire-fcm-compat",[gj]:"fire-perf",[mj]:"fire-perf-compat",[pj]:"fire-rc",[yj]:"fire-rc-compat",[vj]:"fire-gcs",[xj]:"fire-gcs-compat",[bj]:"fire-fst",[Ej]:"fire-fst-compat",[wj]:"fire-vertex","fire-js":"fire-js",[Aj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map,Cj=new Map,o2=new Map;function zC(t,e){try{t.container.addComponent(e)}catch(n){el.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bd(t){const e=t.name;if(o2.has(e))return el.debug(`There were multiple attempts to register component ${e}.`),!1;o2.set(e,t);for(const n of ag.values())zC(n,t);for(const n of Cj.values())zC(n,t);return!0}function aN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eu=new tN("app","Firebase",Tj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _f("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=Sj;function mm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:s2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw eu.create("bad-app-name",{appName:String(i)});if(n||(n=QR()),!n)throw eu.create("no-options");const a=ag.get(i);if(a){if(ig(n,a.options)&&ig(r,a.config))return a;throw eu.create("duplicate-app",{appName:i})}const c=new Pk(i);for(const m of o2.values())c.addComponent(m);const g=new Ij(n,r,c);return ag.set(i,g),g}function lN(t=s2){const e=ag.get(t);if(!e&&t===s2&&QR())return mm();if(!e)throw eu.create("no-app",{appName:t});return e}function tu(t,e,n){let r=_j[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),el.warn(c.join(" "));return}bd(new _f(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="firebase-heartbeat-database",Rj=1,wd="firebase-heartbeat-store";let yv=null;function uN(){return yv||(yv=Wk(Oj,Rj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw eu.create("idb-open",{originalErrorMessage:t.message})})),yv}async function Nj(t){try{const n=(await uN()).transaction(wd),r=await n.objectStore(wd).get(cN(t));return await n.done,r}catch(e){if(e instanceof vc)el.warn(e.message);else{const n=eu.create("idb-get",{originalErrorMessage:e?.message});el.warn(n.message)}}}async function HC(t,e){try{const r=(await uN()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,cN(t)),await r.done}catch(n){if(n instanceof vc)el.warn(n.message);else{const r=eu.create("idb-set",{originalErrorMessage:n?.message});el.warn(r.message)}}}function cN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=1024,Mj=30;class Pj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Mj){const i=jj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){el.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qC(),{heartbeatsToSend:n,unsentEntries:r}=Lj(this._heartbeatsCache.heartbeats),i=rg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return el.warn(e),""}}}function qC(){return new Date().toISOString().substring(0,10)}function Lj(t,e=Dj){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),GC(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ck()?Tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GC(t){return rg(JSON.stringify({version:2,heartbeats:t})).length}function jj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){bd(new _f("platform-logger",e=>new Kk(e),"PRIVATE")),bd(new _f("heartbeat",e=>new Pj(e),"PRIVATE")),tu(a2,VC,t),tu(a2,VC,"esm2020"),tu("fire-js","")}Bj("");var Uj="firebase",Fj="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tu(Uj,Fj,"app");var YC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nu,fN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,V){function j(){}j.prototype=V.prototype,k.D=V.prototype,k.prototype=new j,k.prototype.constructor=k,k.C=function(Q,Z,X){for(var z=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)z[ge-2]=arguments[ge];return V.prototype[Z].apply(Q,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,V,j){j||(j=0);var Q=Array(16);if(typeof V=="string")for(var Z=0;16>Z;++Z)Q[Z]=V.charCodeAt(j++)|V.charCodeAt(j++)<<8|V.charCodeAt(j++)<<16|V.charCodeAt(j++)<<24;else for(Z=0;16>Z;++Z)Q[Z]=V[j++]|V[j++]<<8|V[j++]<<16|V[j++]<<24;V=k.g[0],j=k.g[1],Z=k.g[2];var X=k.g[3],z=V+(X^j&(Z^X))+Q[0]+3614090360&4294967295;V=j+(z<<7&4294967295|z>>>25),z=X+(Z^V&(j^Z))+Q[1]+3905402710&4294967295,X=V+(z<<12&4294967295|z>>>20),z=Z+(j^X&(V^j))+Q[2]+606105819&4294967295,Z=X+(z<<17&4294967295|z>>>15),z=j+(V^Z&(X^V))+Q[3]+3250441966&4294967295,j=Z+(z<<22&4294967295|z>>>10),z=V+(X^j&(Z^X))+Q[4]+4118548399&4294967295,V=j+(z<<7&4294967295|z>>>25),z=X+(Z^V&(j^Z))+Q[5]+1200080426&4294967295,X=V+(z<<12&4294967295|z>>>20),z=Z+(j^X&(V^j))+Q[6]+2821735955&4294967295,Z=X+(z<<17&4294967295|z>>>15),z=j+(V^Z&(X^V))+Q[7]+4249261313&4294967295,j=Z+(z<<22&4294967295|z>>>10),z=V+(X^j&(Z^X))+Q[8]+1770035416&4294967295,V=j+(z<<7&4294967295|z>>>25),z=X+(Z^V&(j^Z))+Q[9]+2336552879&4294967295,X=V+(z<<12&4294967295|z>>>20),z=Z+(j^X&(V^j))+Q[10]+4294925233&4294967295,Z=X+(z<<17&4294967295|z>>>15),z=j+(V^Z&(X^V))+Q[11]+2304563134&4294967295,j=Z+(z<<22&4294967295|z>>>10),z=V+(X^j&(Z^X))+Q[12]+1804603682&4294967295,V=j+(z<<7&4294967295|z>>>25),z=X+(Z^V&(j^Z))+Q[13]+4254626195&4294967295,X=V+(z<<12&4294967295|z>>>20),z=Z+(j^X&(V^j))+Q[14]+2792965006&4294967295,Z=X+(z<<17&4294967295|z>>>15),z=j+(V^Z&(X^V))+Q[15]+1236535329&4294967295,j=Z+(z<<22&4294967295|z>>>10),z=V+(Z^X&(j^Z))+Q[1]+4129170786&4294967295,V=j+(z<<5&4294967295|z>>>27),z=X+(j^Z&(V^j))+Q[6]+3225465664&4294967295,X=V+(z<<9&4294967295|z>>>23),z=Z+(V^j&(X^V))+Q[11]+643717713&4294967295,Z=X+(z<<14&4294967295|z>>>18),z=j+(X^V&(Z^X))+Q[0]+3921069994&4294967295,j=Z+(z<<20&4294967295|z>>>12),z=V+(Z^X&(j^Z))+Q[5]+3593408605&4294967295,V=j+(z<<5&4294967295|z>>>27),z=X+(j^Z&(V^j))+Q[10]+38016083&4294967295,X=V+(z<<9&4294967295|z>>>23),z=Z+(V^j&(X^V))+Q[15]+3634488961&4294967295,Z=X+(z<<14&4294967295|z>>>18),z=j+(X^V&(Z^X))+Q[4]+3889429448&4294967295,j=Z+(z<<20&4294967295|z>>>12),z=V+(Z^X&(j^Z))+Q[9]+568446438&4294967295,V=j+(z<<5&4294967295|z>>>27),z=X+(j^Z&(V^j))+Q[14]+3275163606&4294967295,X=V+(z<<9&4294967295|z>>>23),z=Z+(V^j&(X^V))+Q[3]+4107603335&4294967295,Z=X+(z<<14&4294967295|z>>>18),z=j+(X^V&(Z^X))+Q[8]+1163531501&4294967295,j=Z+(z<<20&4294967295|z>>>12),z=V+(Z^X&(j^Z))+Q[13]+2850285829&4294967295,V=j+(z<<5&4294967295|z>>>27),z=X+(j^Z&(V^j))+Q[2]+4243563512&4294967295,X=V+(z<<9&4294967295|z>>>23),z=Z+(V^j&(X^V))+Q[7]+1735328473&4294967295,Z=X+(z<<14&4294967295|z>>>18),z=j+(X^V&(Z^X))+Q[12]+2368359562&4294967295,j=Z+(z<<20&4294967295|z>>>12),z=V+(j^Z^X)+Q[5]+4294588738&4294967295,V=j+(z<<4&4294967295|z>>>28),z=X+(V^j^Z)+Q[8]+2272392833&4294967295,X=V+(z<<11&4294967295|z>>>21),z=Z+(X^V^j)+Q[11]+1839030562&4294967295,Z=X+(z<<16&4294967295|z>>>16),z=j+(Z^X^V)+Q[14]+4259657740&4294967295,j=Z+(z<<23&4294967295|z>>>9),z=V+(j^Z^X)+Q[1]+2763975236&4294967295,V=j+(z<<4&4294967295|z>>>28),z=X+(V^j^Z)+Q[4]+1272893353&4294967295,X=V+(z<<11&4294967295|z>>>21),z=Z+(X^V^j)+Q[7]+4139469664&4294967295,Z=X+(z<<16&4294967295|z>>>16),z=j+(Z^X^V)+Q[10]+3200236656&4294967295,j=Z+(z<<23&4294967295|z>>>9),z=V+(j^Z^X)+Q[13]+681279174&4294967295,V=j+(z<<4&4294967295|z>>>28),z=X+(V^j^Z)+Q[0]+3936430074&4294967295,X=V+(z<<11&4294967295|z>>>21),z=Z+(X^V^j)+Q[3]+3572445317&4294967295,Z=X+(z<<16&4294967295|z>>>16),z=j+(Z^X^V)+Q[6]+76029189&4294967295,j=Z+(z<<23&4294967295|z>>>9),z=V+(j^Z^X)+Q[9]+3654602809&4294967295,V=j+(z<<4&4294967295|z>>>28),z=X+(V^j^Z)+Q[12]+3873151461&4294967295,X=V+(z<<11&4294967295|z>>>21),z=Z+(X^V^j)+Q[15]+530742520&4294967295,Z=X+(z<<16&4294967295|z>>>16),z=j+(Z^X^V)+Q[2]+3299628645&4294967295,j=Z+(z<<23&4294967295|z>>>9),z=V+(Z^(j|~X))+Q[0]+4096336452&4294967295,V=j+(z<<6&4294967295|z>>>26),z=X+(j^(V|~Z))+Q[7]+1126891415&4294967295,X=V+(z<<10&4294967295|z>>>22),z=Z+(V^(X|~j))+Q[14]+2878612391&4294967295,Z=X+(z<<15&4294967295|z>>>17),z=j+(X^(Z|~V))+Q[5]+4237533241&4294967295,j=Z+(z<<21&4294967295|z>>>11),z=V+(Z^(j|~X))+Q[12]+1700485571&4294967295,V=j+(z<<6&4294967295|z>>>26),z=X+(j^(V|~Z))+Q[3]+2399980690&4294967295,X=V+(z<<10&4294967295|z>>>22),z=Z+(V^(X|~j))+Q[10]+4293915773&4294967295,Z=X+(z<<15&4294967295|z>>>17),z=j+(X^(Z|~V))+Q[1]+2240044497&4294967295,j=Z+(z<<21&4294967295|z>>>11),z=V+(Z^(j|~X))+Q[8]+1873313359&4294967295,V=j+(z<<6&4294967295|z>>>26),z=X+(j^(V|~Z))+Q[15]+4264355552&4294967295,X=V+(z<<10&4294967295|z>>>22),z=Z+(V^(X|~j))+Q[6]+2734768916&4294967295,Z=X+(z<<15&4294967295|z>>>17),z=j+(X^(Z|~V))+Q[13]+1309151649&4294967295,j=Z+(z<<21&4294967295|z>>>11),z=V+(Z^(j|~X))+Q[4]+4149444226&4294967295,V=j+(z<<6&4294967295|z>>>26),z=X+(j^(V|~Z))+Q[11]+3174756917&4294967295,X=V+(z<<10&4294967295|z>>>22),z=Z+(V^(X|~j))+Q[2]+718787259&4294967295,Z=X+(z<<15&4294967295|z>>>17),z=j+(X^(Z|~V))+Q[9]+3951481745&4294967295,k.g[0]=k.g[0]+V&4294967295,k.g[1]=k.g[1]+(Z+(z<<21&4294967295|z>>>11))&4294967295,k.g[2]=k.g[2]+Z&4294967295,k.g[3]=k.g[3]+X&4294967295}r.prototype.u=function(k,V){V===void 0&&(V=k.length);for(var j=V-this.blockSize,Q=this.B,Z=this.h,X=0;X<V;){if(Z==0)for(;X<=j;)i(this,k,X),X+=this.blockSize;if(typeof k=="string"){for(;X<V;)if(Q[Z++]=k.charCodeAt(X++),Z==this.blockSize){i(this,Q),Z=0;break}}else for(;X<V;)if(Q[Z++]=k[X++],Z==this.blockSize){i(this,Q),Z=0;break}}this.h=Z,this.o+=V},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var V=1;V<k.length-8;++V)k[V]=0;var j=8*this.o;for(V=k.length-8;V<k.length;++V)k[V]=j&255,j/=256;for(this.u(k),k=Array(16),V=j=0;4>V;++V)for(var Q=0;32>Q;Q+=8)k[j++]=this.g[V]>>>Q&255;return k};function a(k,V){var j=g;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=V(k)}function c(k,V){this.h=V;for(var j=[],Q=!0,Z=k.length-1;0<=Z;Z--){var X=k[Z]|0;Q&&X==V||(j[Z]=X,Q=!1)}this.g=j}var g={};function m(k){return-128<=k&&128>k?a(k,function(V){return new c([V|0],0>V?-1:0)}):new c([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return P(d(-k));for(var V=[],j=1,Q=0;k>=j;Q++)V[Q]=k/j|0,j*=4294967296;return new c(V,0)}function v(k,V){if(k.length==0)throw Error("number format error: empty string");if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(k.charAt(0)=="-")return P(v(k.substring(1),V));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=d(Math.pow(V,8)),Q=w,Z=0;Z<k.length;Z+=8){var X=Math.min(8,k.length-Z),z=parseInt(k.substring(Z,Z+X),V);8>X?(X=d(Math.pow(V,X)),Q=Q.j(X).add(d(z))):(Q=Q.j(j),Q=Q.add(d(z)))}return Q}var w=m(0),S=m(1),T=m(16777216);t=c.prototype,t.m=function(){if(M(this))return-P(this).m();for(var k=0,V=1,j=0;j<this.g.length;j++){var Q=this.i(j);k+=(0<=Q?Q:4294967296+Q)*V,V*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(M(this))return"-"+P(this).toString(k);for(var V=d(Math.pow(k,6)),j=this,Q="";;){var Z=ee(j,V).g;j=U(j,Z.j(V));var X=((0<j.g.length?j.g[0]:j.h)>>>0).toString(k);if(j=Z,R(j))return X+Q;for(;6>X.length;)X="0"+X;Q=X+Q}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var V=0;V<k.g.length;V++)if(k.g[V]!=0)return!1;return!0}function M(k){return k.h==-1}t.l=function(k){return k=U(this,k),M(k)?-1:R(k)?0:1};function P(k){for(var V=k.g.length,j=[],Q=0;Q<V;Q++)j[Q]=~k.g[Q];return new c(j,~k.h).add(S)}t.abs=function(){return M(this)?P(this):this},t.add=function(k){for(var V=Math.max(this.g.length,k.g.length),j=[],Q=0,Z=0;Z<=V;Z++){var X=Q+(this.i(Z)&65535)+(k.i(Z)&65535),z=(X>>>16)+(this.i(Z)>>>16)+(k.i(Z)>>>16);Q=z>>>16,X&=65535,z&=65535,j[Z]=z<<16|X}return new c(j,j[j.length-1]&-2147483648?-1:0)};function U(k,V){return k.add(P(V))}t.j=function(k){if(R(this)||R(k))return w;if(M(this))return M(k)?P(this).j(P(k)):P(P(this).j(k));if(M(k))return P(this.j(P(k)));if(0>this.l(T)&&0>k.l(T))return d(this.m()*k.m());for(var V=this.g.length+k.g.length,j=[],Q=0;Q<2*V;Q++)j[Q]=0;for(Q=0;Q<this.g.length;Q++)for(var Z=0;Z<k.g.length;Z++){var X=this.i(Q)>>>16,z=this.i(Q)&65535,ge=k.i(Z)>>>16,se=k.i(Z)&65535;j[2*Q+2*Z]+=z*se,W(j,2*Q+2*Z),j[2*Q+2*Z+1]+=X*se,W(j,2*Q+2*Z+1),j[2*Q+2*Z+1]+=z*ge,W(j,2*Q+2*Z+1),j[2*Q+2*Z+2]+=X*ge,W(j,2*Q+2*Z+2)}for(Q=0;Q<V;Q++)j[Q]=j[2*Q+1]<<16|j[2*Q];for(Q=V;Q<2*V;Q++)j[Q]=0;return new c(j,0)};function W(k,V){for(;(k[V]&65535)!=k[V];)k[V+1]+=k[V]>>>16,k[V]&=65535,V++}function q(k,V){this.g=k,this.h=V}function ee(k,V){if(R(V))throw Error("division by zero");if(R(k))return new q(w,w);if(M(k))return V=ee(P(k),V),new q(P(V.g),P(V.h));if(M(V))return V=ee(k,P(V)),new q(P(V.g),V.h);if(30<k.g.length){if(M(k)||M(V))throw Error("slowDivide_ only works with positive integers.");for(var j=S,Q=V;0>=Q.l(k);)j=$(j),Q=$(Q);var Z=ne(j,1),X=ne(Q,1);for(Q=ne(Q,2),j=ne(j,2);!R(Q);){var z=X.add(Q);0>=z.l(k)&&(Z=Z.add(j),X=z),Q=ne(Q,1),j=ne(j,1)}return V=U(k,Z.j(V)),new q(Z,V)}for(Z=w;0<=k.l(V);){for(j=Math.max(1,Math.floor(k.m()/V.m())),Q=Math.ceil(Math.log(j)/Math.LN2),Q=48>=Q?1:Math.pow(2,Q-48),X=d(j),z=X.j(V);M(z)||0<z.l(k);)j-=Q,X=d(j),z=X.j(V);R(X)&&(X=S),Z=Z.add(X),k=U(k,z)}return new q(Z,k)}t.A=function(k){return ee(this,k).h},t.and=function(k){for(var V=Math.max(this.g.length,k.g.length),j=[],Q=0;Q<V;Q++)j[Q]=this.i(Q)&k.i(Q);return new c(j,this.h&k.h)},t.or=function(k){for(var V=Math.max(this.g.length,k.g.length),j=[],Q=0;Q<V;Q++)j[Q]=this.i(Q)|k.i(Q);return new c(j,this.h|k.h)},t.xor=function(k){for(var V=Math.max(this.g.length,k.g.length),j=[],Q=0;Q<V;Q++)j[Q]=this.i(Q)^k.i(Q);return new c(j,this.h^k.h)};function $(k){for(var V=k.g.length+1,j=[],Q=0;Q<V;Q++)j[Q]=k.i(Q)<<1|k.i(Q-1)>>>31;return new c(j,k.h)}function ne(k,V){var j=V>>5;V%=32;for(var Q=k.g.length-j,Z=[],X=0;X<Q;X++)Z[X]=0<V?k.i(X+j)>>>V|k.i(X+j+1)<<32-V:k.i(X+j);return new c(Z,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fN=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=v,nu=c}).apply(typeof YC<"u"?YC:typeof self<"u"?self:typeof window<"u"?window:{});var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hN,id,dN,G1,l2,gN,mN,pN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,L,F){return A==Array.prototype||A==Object.prototype||(A[L]=F.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof b1=="object"&&b1];for(var L=0;L<A.length;++L){var F=A[L];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(A,L){if(L)e:{var F=r;A=A.split(".");for(var te=0;te<A.length-1;te++){var pe=A[te];if(!(pe in F))break e;F=F[pe]}A=A[A.length-1],te=F[A],L=L(te),L!=te&&L!=null&&e(F,A,{configurable:!0,writable:!0,value:L})}}function a(A,L){A instanceof String&&(A+="");var F=0,te=!1,pe={next:function(){if(!te&&F<A.length){var Ce=F++;return{value:L(Ce,A[Ce]),done:!1}}return te=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}i("Array.prototype.values",function(A){return A||function(){return a(this,function(L,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},g=this||self;function m(A){var L=typeof A;return L=L!="object"?L:A?Array.isArray(A)?"array":L:"null",L=="array"||L=="object"&&typeof A.length=="number"}function d(A){var L=typeof A;return L=="object"&&A!=null||L=="function"}function v(A,L,F){return A.call.apply(A.bind,arguments)}function w(A,L,F){if(!A)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,te),A.apply(L,pe)}}return function(){return A.apply(L,arguments)}}function S(A,L,F){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,S.apply(null,arguments)}function T(A,L){var F=Array.prototype.slice.call(arguments,1);return function(){var te=F.slice();return te.push.apply(te,arguments),A.apply(this,te)}}function R(A,L){function F(){}F.prototype=L.prototype,A.aa=L.prototype,A.prototype=new F,A.prototype.constructor=A,A.Qb=function(te,pe,Ce){for(var qe=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)qe[Gt-2]=arguments[Gt];return L.prototype[pe].apply(te,qe)}}function M(A){const L=A.length;if(0<L){const F=Array(L);for(let te=0;te<L;te++)F[te]=A[te];return F}return[]}function P(A,L){for(let F=1;F<arguments.length;F++){const te=arguments[F];if(m(te)){const pe=A.length||0,Ce=te.length||0;A.length=pe+Ce;for(let qe=0;qe<Ce;qe++)A[pe+qe]=te[qe]}else A.push(te)}}class U{constructor(L,F){this.i=L,this.j=F,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function W(A){return/^[\s\xa0]*$/.test(A)}function q(){var A=g.navigator;return A&&(A=A.userAgent)?A:""}function ee(A){return ee[" "](A),A}ee[" "]=function(){};var $=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ne(A,L,F){for(const te in A)L.call(F,A[te],te,A)}function k(A,L){for(const F in A)L.call(void 0,A[F],F,A)}function V(A){const L={};for(const F in A)L[F]=A[F];return L}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(A,L){let F,te;for(let pe=1;pe<arguments.length;pe++){te=arguments[pe];for(F in te)A[F]=te[F];for(let Ce=0;Ce<j.length;Ce++)F=j[Ce],Object.prototype.hasOwnProperty.call(te,F)&&(A[F]=te[F])}}function Z(A){var L=1;A=A.split(":");const F=[];for(;0<L&&A.length;)F.push(A.shift()),L--;return A.length&&F.push(A.join(":")),F}function X(A){g.setTimeout(()=>{throw A},0)}function z(){var A=Fe;let L=null;return A.g&&(L=A.g,A.g=A.g.next,A.g||(A.h=null),L.next=null),L}class ge{constructor(){this.h=this.g=null}add(L,F){const te=se.get();te.set(L,F),this.h?this.h.next=te:this.g=te,this.h=te}}var se=new U(()=>new le,A=>A.reset());class le{constructor(){this.next=this.g=this.h=null}set(L,F){this.h=L,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Ie=!1,Fe=new ge,ae=()=>{const A=g.Promise.resolve(void 0);ue=()=>{A.then(be)}};var be=()=>{for(var A;A=z();){try{A.h.call(A.g)}catch(F){X(F)}var L=se;L.j(A),100>L.h&&(L.h++,A.next=L.g,L.g=A)}Ie=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(A,L){this.type=A,this.g=this.target=L,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var $e=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var A=!1,L=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const F=()=>{};g.addEventListener("test",F,L),g.removeEventListener("test",F,L)}catch{}return A}();function at(A,L){if(ke.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var F=this.type=A.type,te=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=L,L=A.relatedTarget){if($){e:{try{ee(L.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(L=null)}}else F=="mouseover"?L=A.fromElement:F=="mouseout"&&(L=A.toElement);this.relatedTarget=L,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:je[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&at.aa.h.call(this)}}R(at,ke);var je={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var In="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Re(A,L,F,te,pe){this.listener=A,this.proxy=null,this.src=L,this.type=F,this.capture=!!te,this.ha=pe,this.key=++vt,this.da=this.fa=!1}function gt(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function it(A){this.src=A,this.g={},this.h=0}it.prototype.add=function(A,L,F,te,pe){var Ce=A.toString();A=this.g[Ce],A||(A=this.g[Ce]=[],this.h++);var qe=ht(A,L,te,pe);return-1<qe?(L=A[qe],F||(L.fa=!1)):(L=new Re(L,this.src,Ce,!!te,pe),L.fa=F,A.push(L)),L};function Be(A,L){var F=L.type;if(F in A.g){var te=A.g[F],pe=Array.prototype.indexOf.call(te,L,void 0),Ce;(Ce=0<=pe)&&Array.prototype.splice.call(te,pe,1),Ce&&(gt(L),A.g[F].length==0&&(delete A.g[F],A.h--))}}function ht(A,L,F,te){for(var pe=0;pe<A.length;++pe){var Ce=A[pe];if(!Ce.da&&Ce.listener==L&&Ce.capture==!!F&&Ce.ha==te)return pe}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),Qt={};function Dt(A,L,F,te,pe){if(Array.isArray(L)){for(var Ce=0;Ce<L.length;Ce++)Dt(A,L[Ce],F,te,pe);return null}return F=$s(F),A&&A[In]?A.K(L,F,d(te)?!!te.capture:!1,pe):_t(A,L,F,!1,te,pe)}function _t(A,L,F,te,pe,Ce){if(!L)throw Error("Invalid event type");var qe=d(pe)?!!pe.capture:!!pe,Gt=Rs(A);if(Gt||(A[Nt]=Gt=new it(A)),F=Gt.add(L,F,te,qe,Ce),F.proxy)return F;if(te=Zt(),F.proxy=te,te.src=A,te.listener=F,A.addEventListener)$e||(pe=qe),pe===void 0&&(pe=!1),A.addEventListener(L.toString(),te,pe);else if(A.attachEvent)A.attachEvent(Ze(L.toString()),te);else if(A.addListener&&A.removeListener)A.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Zt(){function A(F){return L.call(A.src,A.listener,F)}const L=Ws;return A}function St(A,L,F,te,pe){if(Array.isArray(L))for(var Ce=0;Ce<L.length;Ce++)St(A,L[Ce],F,te,pe);else te=d(te)?!!te.capture:!!te,F=$s(F),A&&A[In]?(A=A.i,L=String(L).toString(),L in A.g&&(Ce=A.g[L],F=ht(Ce,F,te,pe),-1<F&&(gt(Ce[F]),Array.prototype.splice.call(Ce,F,1),Ce.length==0&&(delete A.g[L],A.h--)))):A&&(A=Rs(A))&&(L=A.g[L.toString()],A=-1,L&&(A=ht(L,F,te,pe)),(F=-1<A?L[A]:null)&&Ea(F))}function Ea(A){if(typeof A!="number"&&A&&!A.da){var L=A.src;if(L&&L[In])Be(L.i,A);else{var F=A.type,te=A.proxy;L.removeEventListener?L.removeEventListener(F,te,A.capture):L.detachEvent?L.detachEvent(Ze(F),te):L.addListener&&L.removeListener&&L.removeListener(te),(F=Rs(L))?(Be(F,A),F.h==0&&(F.src=null,L[Nt]=null)):gt(A)}}}function Ze(A){return A in Qt?Qt[A]:Qt[A]="on"+A}function Ws(A,L){if(A.da)A=!0;else{L=new at(L,this);var F=A.listener,te=A.ha||A.src;A.fa&&Ea(A),A=F.call(te,L)}return A}function Rs(A){return A=A[Nt],A instanceof it?A:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function $s(A){return typeof A=="function"?A:(A[gi]||(A[gi]=function(L){return A.handleEvent(L)}),A[gi])}function Ye(){Te.call(this),this.i=new it(this),this.M=this,this.F=null}R(Ye,Te),Ye.prototype[In]=!0,Ye.prototype.removeEventListener=function(A,L,F,te){St(this,A,L,F,te)};function Xe(A,L){var F,te=A.F;if(te)for(F=[];te;te=te.F)F.push(te);if(A=A.M,te=L.type||L,typeof L=="string")L=new ke(L,A);else if(L instanceof ke)L.target=L.target||A;else{var pe=L;L=new ke(te,A),Q(L,pe)}if(pe=!0,F)for(var Ce=F.length-1;0<=Ce;Ce--){var qe=L.g=F[Ce];pe=pt(qe,te,!0,L)&&pe}if(qe=L.g=A,pe=pt(qe,te,!0,L)&&pe,pe=pt(qe,te,!1,L)&&pe,F)for(Ce=0;Ce<F.length;Ce++)qe=L.g=F[Ce],pe=pt(qe,te,!1,L)&&pe}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var A=this.i,L;for(L in A.g){for(var F=A.g[L],te=0;te<F.length;te++)gt(F[te]);delete A.g[L],A.h--}}this.F=null},Ye.prototype.K=function(A,L,F,te){return this.i.add(String(A),L,!1,F,te)},Ye.prototype.L=function(A,L,F,te){return this.i.add(String(A),L,!0,F,te)};function pt(A,L,F,te){if(L=A.i.g[String(L)],!L)return!0;L=L.concat();for(var pe=!0,Ce=0;Ce<L.length;++Ce){var qe=L[Ce];if(qe&&!qe.da&&qe.capture==F){var Gt=qe.listener,Jn=qe.ha||qe.src;qe.fa&&Be(A.i,qe),pe=Gt.call(Jn,te)!==!1&&pe}}return pe&&!te.defaultPrevented}function st(A,L,F){if(typeof A=="function")F&&(A=S(A,F));else if(A&&typeof A.handleEvent=="function")A=S(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:g.setTimeout(A,L||0)}function wn(A){A.g=st(()=>{A.g=null,A.i&&(A.i=!1,wn(A))},A.l);const L=A.h;A.h=null,A.m.apply(null,L)}class $n extends Te{constructor(L,F){super(),this.m=L,this.l=F,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:wn(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(A){Te.call(this),this.h=A,this.g={}}R(Aa,Te);var pn=[];function He(A){ne(A.g,function(L,F){this.g.hasOwnProperty(F)&&Ea(L)},A),A.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),He(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=g.JSON.stringify,en=g.JSON.parse,yn=class{stringify(A){return g.JSON.stringify(A,void 0)}parse(A){return g.JSON.parse(A,void 0)}};function Ns(){}Ns.prototype.h=null;function Ao(A){return A.h||(A.h=A.i())}function pl(){}var Pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){ke.call(this,"d")}R(mi,ke);function yl(){ke.call(this,"c")}R(yl,ke);var Sa={},pi=null;function ts(){return pi=pi||new Ye}Sa.La="serverreachability";function mr(A){ke.call(this,Sa.La,A)}R(mr,ke);function $i(A){const L=ts();Xe(L,new mr(L))}Sa.STAT_EVENT="statevent";function So(A,L){ke.call(this,Sa.STAT_EVENT,A),this.stat=L}R(So,ke);function Jt(A){const L=ts();Xe(L,new So(L,A))}Sa.Ma="timingevent";function Ir(A,L){ke.call(this,Sa.Ma,A),this.size=L}R(Ir,ke);function On(A,L){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){A()},L)}function Di(){this.g=!0}Di.prototype.xa=function(){this.g=!1};function jr(A,L,F,te,pe,Ce){A.info(function(){if(A.g)if(Ce)for(var qe="",Gt=Ce.split("&"),Jn=0;Jn<Gt.length;Jn++){var Yt=Gt[Jn].split("=");if(1<Yt.length){var Bn=Yt[0];Yt=Yt[1];var or=Bn.split("_");qe=2<=or.length&&or[1]=="type"?qe+(Bn+"="+Yt+"&"):qe+(Bn+"=redacted&")}}else qe=null;else qe=Ce;return"XMLHTTP REQ ("+te+") [attempt "+pe+"]: "+L+`
`+F+`
`+qe})}function Ds(A,L,F,te,pe,Ce,qe){A.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+pe+"]: "+L+`
`+F+`
`+Ce+" "+qe})}function Or(A,L,F,te){A.info(function(){return"XMLHTTP TEXT ("+L+"): "+ia(A,F)+(te?" "+te:"")})}function Qe(A,L){A.info(function(){return"TIMEOUT: "+L})}Di.prototype.info=function(){};function ia(A,L){if(!A.g)return L;if(!L)return null;try{var F=JSON.parse(L);if(F){for(A=0;A<F.length;A++)if(Array.isArray(F[A])){var te=F[A];if(!(2>te.length)){var pe=te[1];if(Array.isArray(pe)&&!(1>pe.length)){var Ce=pe[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(var qe=1;qe<pe.length;qe++)pe[qe]=""}}}}return dn(F)}catch{return L}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function Xi(){}R(Xi,Ns),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},yi=new Xi;function Br(A,L,F,te){this.j=A,this.i=L,this.l=F,this.R=te||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new on}function on(){this.i=null,this.g="",this.h=!1}var Tu={},vl={};function xr(A,L,F){A.L=1,A.v=Hn(Bt(L)),A.m=F,A.P=!0,Xn(A,null)}function Xn(A,L){A.F=Date.now(),Mi(A),A.A=Bt(A.v);var F=A.A,te=A.R;Array.isArray(te)||(te=[String(te)]),ir(F.i,"t",te),A.C=0,F=A.j.J,A.h=new on,A.g=Oc(A.j,F?L:null,!A.m),0<A.O&&(A.M=new $n(S(A.Y,A,A.g),A.O)),L=A.U,F=A.g,te=A.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(pn[0]=pe.toString()),pe=pn);for(var Ce=0;Ce<pe.length;Ce++){var qe=Dt(F,pe[Ce],te||L.handleEvent,!1,L.h||L);if(!qe)break;L.g[qe.key]=qe}L=A.H?V(A.H):{},A.m?(A.u||(A.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,L)):(A.u="GET",A.g.ea(A.A,A.u,null,L)),$i(),jr(A.i,A.u,A.A,A.l,A.R,A.m)}Br.prototype.ca=function(A){A=A.target;const L=this.M;L&&sa(A)==3?L.j():this.Y(A)},Br.prototype.Y=function(A){try{if(A==this.g)e:{const or=sa(this.g);var L=this.g.Ba();const wr=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||Cc(this.g)))){this.J||or!=4||L==7||(L==8||0>=wr?$i(3):$i(2)),Me(this);var F=this.g.Z();this.X=F;t:if(En(this)){var te=Cc(this.g);A="";var pe=te.length,Ce=sa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),rs(this);var qe="";break t}this.h.i=new g.TextDecoder}for(L=0;L<pe;L++)this.h.h=!0,A+=this.h.i.decode(te[L],{stream:!(Ce&&L==pe-1)});te.length=0,this.h.g+=A,this.C=0,qe=this.h.g}else qe=this.g.oa();if(this.o=F==200,Ds(this.i,this.u,this.A,this.l,this.R,or,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,Jn=this.g;if((Gt=Jn.g?Jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Gt)){var Yt=Gt;break t}}Yt=null}if(F=Yt)Or(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,F);else{this.o=!1,this.s=3,Jt(12),kt(this),rs(this);break e}}if(this.P){F=!0;let Ur;for(;!this.J&&this.C<qe.length;)if(Ur=Iu(this,qe),Ur==vl){or==4&&(this.s=4,Jt(14),F=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==Tu){this.s=4,Jt(15),Or(this.i,this.l,qe,"[Invalid Chunk]"),F=!1;break}else Or(this.i,this.l,Ur,null),aa(this,Ur);if(En(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||qe.length!=0||this.h.h||(this.s=1,Jt(16),F=!1),this.o=this.o&&F,!F)Or(this.i,this.l,qe,"[Invalid Chunked Response]"),kt(this),rs(this);else if(0<qe.length&&!this.W){this.W=!0;var Bn=this.j;Bn.g==this&&Bn.ba&&!Bn.M&&(Bn.j.info("Great, no buffering proxy detected. Bytes received: "+qe.length),ks(Bn),Bn.M=!0,Jt(11))}}else Or(this.i,this.l,qe,null),aa(this,qe);or==4&&kt(this),this.o&&!this.J&&(or==4?jn(this.j,this):(this.o=!1,Mi(this)))}else ln(this.g),F==400&&0<qe.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),kt(this),rs(this)}}}catch{}finally{}};function En(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Iu(A,L){var F=A.C,te=L.indexOf(`
`,F);return te==-1?vl:(F=Number(L.substring(F,te)),isNaN(F)?Tu:(te+=1,te+F>L.length?vl:(L=L.slice(te,te+F),A.C=te+F,L)))}Br.prototype.cancel=function(){this.J=!0,kt(this)};function Mi(A){A.S=Date.now()+A.I,xl(A,A.I)}function xl(A,L){if(A.B!=null)throw Error("WatchDog timer not null");A.B=On(S(A.ba,A),L)}function Me(A){A.B&&(g.clearTimeout(A.B),A.B=null)}Br.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(Qe(this.i,this.A),this.L!=2&&($i(),Jt(17)),kt(this),this.s=2,rs(this)):xl(this,this.S-A)};function rs(A){A.j.G==0||A.J||jn(A.j,A)}function kt(A){Me(A);var L=A.M;L&&typeof L.ma=="function"&&L.ma(),A.M=null,He(A.U),A.g&&(L=A.g,A.g=null,L.abort(),L.ma())}function aa(A,L){try{var F=A.j;if(F.G!=0&&(F.g==A||_o(F.h,A))){if(!A.K&&_o(F.h,A)&&F.G==3){try{var te=F.Da.g.parse(L)}catch{te=null}if(Array.isArray(te)&&te.length==3){var pe=te;if(pe[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<A.F)Js(F),Al(F);else break e;Ou(F),Jt(18)}}else F.za=pe[1],0<F.za-F.T&&37500>pe[2]&&F.F&&F.v==0&&!F.C&&(F.C=On(S(F.Za,F),6e3));if(1>=Mt(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else xi(F,11)}else if((A.K||F.g==A)&&Js(F),!W(L))for(pe=F.Da.g.parse(L),L=0;L<pe.length;L++){let Yt=pe[L];if(F.T=Yt[0],Yt=Yt[1],F.G==2)if(Yt[0]=="c"){F.K=Yt[1],F.ia=Yt[2];const Bn=Yt[3];Bn!=null&&(F.la=Bn,F.j.info("VER="+F.la));const or=Yt[4];or!=null&&(F.Aa=or,F.j.info("SVER="+F.Aa));const wr=Yt[5];wr!=null&&typeof wr=="number"&&0<wr&&(te=1.5*wr,F.L=te,F.j.info("backChannelRequestTimeoutMs_="+te)),te=F;const Ur=A.g;if(Ur){const Nr=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var Ce=te.h;Ce.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(Xs(Ce,Ce.h),Ce.h=null))}if(te.D){const Ru=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Ru&&(te.ya=Ru,Ge(te.I,te.D,Ru))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-A.F,F.j.info("Handshake RTT: "+F.R+"ms")),te=F;var qe=A;if(te.qa=ft(te,te.J?te.ia:null,te.W),qe.K){Wr(te.h,qe);var Gt=qe,Jn=te.L;Jn&&(Gt.I=Jn),Gt.B&&(Me(Gt),Mi(Gt)),te.g=qe}else Ic(te);0<F.i.length&&Ct(F)}else Yt[0]!="stop"&&Yt[0]!="close"||xi(F,7);else F.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?xi(F,7):oa(F):Yt[0]!="noop"&&F.l&&F.l.ta(Yt),F.v=0)}}$i(4)}catch{}}var Sc=class{constructor(A,L){this.g=A,this.map=L}};function jt(A){this.l=A||10,g.PerformanceNavigationTiming?(A=g.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ft(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Mt(A){return A.h?1:A.g?A.g.size:0}function _o(A,L){return A.h?A.h==L:A.g?A.g.has(L):!1}function Xs(A,L){A.g?A.g.add(L):A.h=L}function Wr(A,L){A.h&&A.h==L?A.h=null:A.g&&A.g.has(L)&&A.g.delete(L)}jt.prototype.cancel=function(){if(this.i=Kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Kn(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let L=A.i;for(const F of A.g.values())L=L.concat(F.D);return L}return M(A.i)}function is(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(m(A)){for(var L=[],F=A.length,te=0;te<F;te++)L.push(A[te]);return L}L=[],F=0;for(te in A)L[F++]=A[te];return L}function bl(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(m(A)||typeof A=="string"){var L=[];A=A.length;for(var F=0;F<A;F++)L.push(F);return L}L=[],F=0;for(const te in A)L[F++]=te;return L}}}function Pn(A,L){if(A.forEach&&typeof A.forEach=="function")A.forEach(L,void 0);else if(m(A)||typeof A=="string")Array.prototype.forEach.call(A,L,void 0);else for(var F=bl(A),te=is(A),pe=te.length,Ce=0;Ce<pe;Ce++)L.call(void 0,te[Ce],F&&F[Ce],A)}var Pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(A,L){if(A){A=A.split("&");for(var F=0;F<A.length;F++){var te=A[F].indexOf("="),pe=null;if(0<=te){var Ce=A[F].substring(0,te);pe=A[F].substring(te+1)}else Ce=A[F];L(Ce,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Ln(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof Ln){this.h=A.h,rr(this,A.j),this.o=A.o,this.g=A.g,me(this,A.s),this.l=A.l;var L=A.i,F=new _a;F.i=L.i,L.g&&(F.g=new Map(L.g),F.h=L.h),re(this,F),this.m=A.m}else A&&(L=String(A).match(Pi))?(this.h=!1,rr(this,L[1]||"",!0),this.o=Qn(L[2]||""),this.g=Qn(L[3]||"",!0),me(this,L[4]),this.l=Qn(L[5]||"",!0),re(this,L[6]||"",!0),this.m=Qn(L[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}Ln.prototype.toString=function(){var A=[],L=this.j;L&&A.push(Co(L,ii,!0),":");var F=this.g;return(F||L=="file")&&(A.push("//"),(L=this.o)&&A.push(Co(L,ii,!0),"@"),A.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&A.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&A.push("/"),A.push(Co(F,F.charAt(0)=="/"?kn:ot,!0))),(F=this.i.toString())&&A.push("?",F),(F=this.m)&&A.push("#",Co(F,El)),A.join("")};function Bt(A){return new Ln(A)}function rr(A,L,F){A.j=F?Qn(L,!0):L,A.j&&(A.j=A.j.replace(/:$/,""))}function me(A,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);A.s=L}else A.s=null}function re(A,L,F){L instanceof _a?(A.i=L,Ta(A.i,A.h)):(F||(L=Co(L,_c)),A.i=new _a(L,A.h))}function Ge(A,L,F){A.i.set(L,F)}function Hn(A){return Ge(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Qn(A,L){return A?L?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Co(A,L,F){return typeof A=="string"?(A=encodeURI(A).replace(L,wl),F&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function wl(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var ii=/[#\/\?@]/g,ot=/[#\?:]/g,kn=/[#\?]/g,_c=/[#\?@]/g,El=/#/g;function _a(A,L){this.h=this.g=null,this.i=A||null,this.j=!!L}function vi(A){A.g||(A.g=new Map,A.h=0,A.i&&oh(A.i,function(L,F){A.add(decodeURIComponent(L.replace(/\+/g," ")),F)}))}t=_a.prototype,t.add=function(A,L){vi(this),this.i=null,A=Li(this,A);var F=this.g.get(A);return F||this.g.set(A,F=[]),F.push(L),this.h+=1,this};function Ca(A,L){vi(A),L=Li(A,L),A.g.has(L)&&(A.i=null,A.h-=A.g.get(L).length,A.g.delete(L))}function Ms(A,L){return vi(A),L=Li(A,L),A.g.has(L)}t.forEach=function(A,L){vi(this),this.g.forEach(function(F,te){F.forEach(function(pe){A.call(L,pe,te,this)},this)},this)},t.na=function(){vi(this);const A=Array.from(this.g.values()),L=Array.from(this.g.keys()),F=[];for(let te=0;te<L.length;te++){const pe=A[te];for(let Ce=0;Ce<pe.length;Ce++)F.push(L[te])}return F},t.V=function(A){vi(this);let L=[];if(typeof A=="string")Ms(this,A)&&(L=L.concat(this.g.get(Li(this,A))));else{A=Array.from(this.g.values());for(let F=0;F<A.length;F++)L=L.concat(A[F])}return L},t.set=function(A,L){return vi(this),this.i=null,A=Li(this,A),Ms(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[L]),this.h+=1,this},t.get=function(A,L){return A?(A=this.V(A),0<A.length?String(A[0]):L):L};function ir(A,L,F){Ca(A,L),0<F.length&&(A.i=null,A.g.set(Li(A,L),M(F)),A.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],L=Array.from(this.g.keys());for(var F=0;F<L.length;F++){var te=L[F];const Ce=encodeURIComponent(String(te)),qe=this.V(te);for(te=0;te<qe.length;te++){var pe=Ce;qe[te]!==""&&(pe+="="+encodeURIComponent(String(qe[te]))),A.push(pe)}}return this.i=A.join("&")};function Li(A,L){return L=String(L),A.j&&(L=L.toLowerCase()),L}function Ta(A,L){L&&!A.j&&(vi(A),A.i=null,A.g.forEach(function(F,te){var pe=te.toLowerCase();te!=pe&&(Ca(this,te),ir(this,pe,F))},A)),A.j=L}function ut(A,L){const F=new Di;if(g.Image){const te=new Image;te.onload=T(mt,F,"TestLoadImage: loaded",!0,L,te),te.onerror=T(mt,F,"TestLoadImage: error",!1,L,te),te.onabort=T(mt,F,"TestLoadImage: abort",!1,L,te),te.ontimeout=T(mt,F,"TestLoadImage: timeout",!1,L,te),g.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=A}else L(!1)}function Ia(A,L){const F=new Di,te=new AbortController,pe=setTimeout(()=>{te.abort(),mt(F,"TestPingServer: timeout",!1,L)},1e4);fetch(A,{signal:te.signal}).then(Ce=>{clearTimeout(pe),Ce.ok?mt(F,"TestPingServer: ok",!0,L):mt(F,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(pe),mt(F,"TestPingServer: error",!1,L)})}function mt(A,L,F,te,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),te(F)}catch{}}function Zn(){this.g=new yn}function as(A,L,F){const te=F||"";try{Pn(A,function(pe,Ce){let qe=pe;d(pe)&&(qe=dn(pe)),L.push(te+Ce+"="+encodeURIComponent(qe))})}catch(pe){throw L.push(te+"type="+encodeURIComponent("_badmap")),pe}}function ss(A){this.l=A.Ub||null,this.j=A.eb||!1}R(ss,Ns),ss.prototype.g=function(){return new os(this.l,this.j)},ss.prototype.i=function(A){return function(){return A}}({});function os(A,L){Ye.call(this),this.D=A,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(os,Ye),t=os.prototype,t.open=function(A,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=L,this.readyState=1,ki(this)},t.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(L.body=A),(this.D||g).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},t.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oa(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}t.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var L=A.value?A.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!A.done}))&&(this.response=this.responseText+=L)}A.done?ls(this):ki(this),this.readyState==3&&Oa(this)}},t.Ra=function(A){this.g&&(this.response=this.responseText=A,ls(this))},t.Qa=function(A){this.g&&(this.response=A,ls(this))},t.ga=function(){this.g&&ls(this)};function ls(A){A.readyState=4,A.l=null,A.j=null,A.v=null,ki(A)}t.setRequestHeader=function(A,L){this.u.append(A,L)},t.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],L=this.h.entries();for(var F=L.next();!F.done;)F=F.value,A.push(F[0]+": "+F[1]),F=L.next();return A.join(`\r
`)};function ki(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Ps(A){let L="";return ne(A,function(F,te){L+=te,L+=":",L+=F,L+=`\r
`}),L}function ar(A,L,F){e:{for(te in F){var te=!1;break e}te=!0}te||(F=Ps(F),typeof A=="string"?F!=null&&encodeURIComponent(String(F)):Ge(A,L,F))}function sn(A){Ye.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(sn,Ye);var us=/^https?$/i,Ra=["POST","PUT"];t=sn.prototype,t.Ha=function(A){this.J=A},t.ea=function(A,L,F,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);L=L?L.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?Ao(this.o):Ao(yi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(L,String(A),!0),this.B=!1}catch(Ce){$r(this,Ce);return}if(A=F||"",F=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var pe in te)F.set(pe,te[pe]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Ce of te.keys())F.set(Ce,te.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(F.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),pe=g.FormData&&A instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ra,L,void 0))||te||pe||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,qe]of F)this.g.setRequestHeader(Ce,qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oo(this),this.u=!0,this.g.send(A),this.u=!1}catch(Ce){$r(this,Ce)}};function $r(A,L){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=L,A.m=5,To(A),Na(A)}function To(A){A.A||(A.A=!0,Xe(A,"complete"),Xe(A,"error"))}t.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,Xe(this,"complete"),Xe(this,"abort"),Na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),sn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},t.bb=function(){Io(this)};function Io(A){if(A.h&&typeof c<"u"&&(!A.v[1]||sa(A)!=4||A.Z()!=2)){if(A.u&&sa(A)==4)st(A.Ea,0,A);else if(Xe(A,"readystatechange"),sa(A)==4){A.h=!1;try{const qe=A.Z();e:switch(qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var F;if(!(F=L)){var te;if(te=qe===0){var pe=String(A.D).match(Pi)[1]||null;!pe&&g.self&&g.self.location&&(pe=g.self.location.protocol.slice(0,-1)),te=!us.test(pe?pe.toLowerCase():"")}F=te}if(F)Xe(A,"complete"),Xe(A,"success");else{A.m=6;try{var Ce=2<sa(A)?A.g.statusText:""}catch{Ce=""}A.l=Ce+" ["+A.Z()+"]",To(A)}}finally{Na(A)}}}}function Na(A,L){if(A.g){Oo(A);const F=A.g,te=A.v[0]?()=>{}:null;A.g=null,A.v=null,L||Xe(A,"ready");try{F.onreadystatechange=te}catch{}}}function Oo(A){A.I&&(g.clearTimeout(A.I),A.I=null)}t.isActive=function(){return!!this.g};function sa(A){return A.g?A.g.readyState:0}t.Z=function(){try{return 2<sa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(A){if(this.g){var L=this.g.responseText;return A&&L.indexOf(A)==0&&(L=L.substring(A.length)),en(L)}};function Cc(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function ln(A){const L={};A=(A.g&&2<=sa(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<A.length;te++){if(W(A[te]))continue;var F=Z(A[te]);const pe=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const Ce=L[pe]||[];L[pe]=Ce,Ce.push(F)}k(L,function(te){return te.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(A,L,F){return F&&F.internalChannelParams&&F.internalChannelParams[A]||L}function Ls(A){this.Aa=0,this.i=[],this.j=new Di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,A),this.cb=Ks("retryDelaySeedMs",1e4,A),this.Wa=Ks("forwardChannelMaxRetries",2,A),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new jt(A&&A.concurrentRequestLimit),this.Da=new Zn,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ls.prototype,t.la=8,t.G=1,t.connect=function(A,L,F,te){Jt(0),this.W=A,this.H=L||{},F&&te!==void 0&&(this.H.OSID=F,this.H.OAID=te),this.F=this.X,this.I=ft(this,null,this.W),Ct(this)};function oa(A){if(Se(A),A.G==3){var L=A.U++,F=Bt(A.I);if(Ge(F,"SID",A.K),Ge(F,"RID",L),Ge(F,"TYPE","terminate"),Zs(A,F),L=new Br(A,A.j,L),L.L=2,L.v=Hn(Bt(F)),F=!1,g.navigator&&g.navigator.sendBeacon)try{F=g.navigator.sendBeacon(L.v.toString(),"")}catch{}!F&&g.Image&&(new Image().src=L.v,F=!0),F||(L.g=Oc(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Mi(L)}un(A)}function Al(A){A.g&&(ks(A),A.g.cancel(),A.g=null)}function Se(A){Al(A),A.u&&(g.clearTimeout(A.u),A.u=null),Js(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&g.clearTimeout(A.s),A.s=null)}function Ct(A){if(!Ft(A.h)&&!A.s){A.s=!0;var L=A.Ga;ue||ae(),Ie||(ue(),Ie=!0),Fe.add(L,A),A.B=0}}function Rr(A,L){return Mt(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=L.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=On(S(A.Ga,A,L),eo(A,A.B)),A.B++,!0)}t.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const pe=new Br(this,this.j,A);let Ce=this.o;if(this.S&&(Ce?(Ce=V(Ce),Q(Ce,this.S)):Ce=this.S),this.m!==null||this.O||(pe.H=Ce,Ce=null),this.P)e:{for(var L=0,F=0;F<this.i.length;F++){t:{var te=this.i[F];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(L+=te,4096<L){L=F;break e}if(L===4096||F===this.i.length-1){L=F+1;break e}}L=1e3}else L=1e3;L=Tc(this,pe,L),F=Bt(this.I),Ge(F,"RID",A),Ge(F,"CVER",22),this.D&&Ge(F,"X-HTTP-Session-Id",this.D),Zs(this,F),Ce&&(this.O?L="headers="+encodeURIComponent(String(Ps(Ce)))+"&"+L:this.m&&ar(F,this.m,Ce)),Xs(this.h,pe),this.Ua&&Ge(F,"TYPE","init"),this.P?(Ge(F,"$req",L),Ge(F,"SID","null"),pe.T=!0,xr(pe,F,null)):xr(pe,F,L),this.G=2}}else this.G==3&&(A?Qs(this,A):this.i.length==0||Ft(this.h)||Qs(this))};function Qs(A,L){var F;L?F=L.l:F=A.U++;const te=Bt(A.I);Ge(te,"SID",A.K),Ge(te,"RID",F),Ge(te,"AID",A.T),Zs(A,te),A.m&&A.o&&ar(te,A.m,A.o),F=new Br(A,A.j,F,A.B+1),A.m===null&&(F.H=A.o),L&&(A.i=L.D.concat(A.i)),L=Tc(A,F,1e3),F.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Xs(A.h,F),xr(F,te,L)}function Zs(A,L){A.H&&ne(A.H,function(F,te){Ge(L,te,F)}),A.l&&Pn({},function(F,te){Ge(L,te,F)})}function Tc(A,L,F){F=Math.min(A.i.length,F);var te=A.l?S(A.l.Na,A.l,A):null;e:{var pe=A.i;let Ce=-1;for(;;){const qe=["count="+F];Ce==-1?0<F?(Ce=pe[0].g,qe.push("ofs="+Ce)):Ce=0:qe.push("ofs="+Ce);let Gt=!0;for(let Jn=0;Jn<F;Jn++){let Yt=pe[Jn].g;const Bn=pe[Jn].map;if(Yt-=Ce,0>Yt)Ce=Math.max(0,pe[Jn].g-100),Gt=!1;else try{as(Bn,qe,"req"+Yt+"_")}catch{te&&te(Bn)}}if(Gt){te=qe.join("&");break e}}}return A=A.i.splice(0,F),L.D=A,te}function Ic(A){if(!A.g&&!A.u){A.Y=1;var L=A.Fa;ue||ae(),Ie||(ue(),Ie=!0),Fe.add(L,A),A.v=0}}function Ou(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=On(S(A.Fa,A),eo(A,A.v)),A.v++,!0)}t.Fa=function(){if(this.u=null,sr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=On(S(this.ab,this),A)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Al(this),sr(this))};function ks(A){A.A!=null&&(g.clearTimeout(A.A),A.A=null)}function sr(A){A.g=new Br(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var L=Bt(A.qa);Ge(L,"RID","rpc"),Ge(L,"SID",A.K),Ge(L,"AID",A.T),Ge(L,"CI",A.F?"0":"1"),!A.F&&A.ja&&Ge(L,"TO",A.ja),Ge(L,"TYPE","xmlhttp"),Zs(A,L),A.m&&A.o&&ar(L,A.m,A.o),A.L&&(A.g.I=A.L);var F=A.g;A=A.ia,F.L=1,F.v=Hn(Bt(L)),F.m=null,F.P=!0,Xn(F,A)}t.Za=function(){this.C!=null&&(this.C=null,Al(this),Ou(this),Jt(19))};function Js(A){A.C!=null&&(g.clearTimeout(A.C),A.C=null)}function jn(A,L){var F=null;if(A.g==L){Js(A),ks(A),A.g=null;var te=2}else if(_o(A.h,L))F=L.D,Wr(A.h,L),te=1;else return;if(A.G!=0){if(L.o)if(te==1){F=L.m?L.m.length:0,L=Date.now()-L.F;var pe=A.B;te=ts(),Xe(te,new Ir(te,F)),Ct(A)}else Ic(A);else if(pe=L.s,pe==3||pe==0&&0<L.X||!(te==1&&Rr(A,L)||te==2&&Ou(A)))switch(F&&0<F.length&&(L=A.h,L.i=L.i.concat(F)),pe){case 1:xi(A,5);break;case 4:xi(A,10);break;case 3:xi(A,6);break;default:xi(A,2)}}}function eo(A,L){let F=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(F*=2),F*L}function xi(A,L){if(A.j.info("Error code "+L),L==2){var F=S(A.fb,A),te=A.Xa;const pe=!te;te=new Ln(te||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||rr(te,"https"),Hn(te),pe?ut(te.toString(),F):Ia(te.toString(),F)}else Jt(2);A.G=0,A.l&&A.l.sa(L),un(A),Se(A)}t.fb=function(A){A?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function un(A){if(A.G=0,A.ka=[],A.l){const L=Kn(A.h);(L.length!=0||A.i.length!=0)&&(P(A.ka,L),P(A.ka,A.i),A.h.i.length=0,M(A.i),A.i.length=0),A.l.ra()}}function ft(A,L,F){var te=F instanceof Ln?Bt(F):new Ln(F);if(te.g!="")L&&(te.g=L+"."+te.g),me(te,te.s);else{var pe=g.location;te=pe.protocol,L=L?L+"."+pe.hostname:pe.hostname,pe=+pe.port;var Ce=new Ln(null);te&&rr(Ce,te),L&&(Ce.g=L),pe&&me(Ce,pe),F&&(Ce.l=F),te=Ce}return F=A.D,L=A.ya,F&&L&&Ge(te,F,L),Ge(te,"VER",A.la),Zs(A,te),te}function Oc(A,L,F){if(L&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=A.Ca&&!A.pa?new sn(new ss({eb:F})):new sn(A.pa),L.Ha(A.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vn(){}t=vn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function la(){}la.prototype.g=function(A,L){return new br(A,L)};function br(A,L){Ye.call(this),this.g=new Ls(L),this.l=A,this.h=L&&L.messageUrlParams||null,A=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(A?A["X-WebChannel-Content-Type"]=L.messageContentType:A={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(A?A["X-WebChannel-Client-Profile"]=L.va:A={"X-WebChannel-Client-Profile":L.va}),this.g.S=A,(A=L&&L.Sb)&&!W(A)&&(this.g.m=A),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!W(L)&&(this.g.D=L,A=this.h,A!==null&&L in A&&(A=this.h,L in A&&delete A[L])),this.j=new ua(this)}R(br,Ye),br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){oa(this.g)},br.prototype.o=function(A){var L=this.g;if(typeof A=="string"){var F={};F.__data__=A,A=F}else this.u&&(F={},F.__data__=dn(A),A=F);L.i.push(new Sc(L.Ya++,A)),L.G==3&&Ct(L)},br.prototype.N=function(){this.g.l=null,delete this.j,oa(this.g),delete this.g,br.aa.N.call(this)};function Rc(A){mi.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var L=A.__sm__;if(L){e:{for(const F in L){A=F;break e}A=void 0}(this.i=A)&&(A=this.i,L=L!==null&&A in L?L[A]:void 0),this.data=L}else this.data=A}R(Rc,mi);function Ki(){yl.call(this),this.status=1}R(Ki,yl);function ua(A){this.g=A}R(ua,vn),ua.prototype.ua=function(){Xe(this.g,"a")},ua.prototype.ta=function(A){Xe(this.g,new Rc(A))},ua.prototype.sa=function(A){Xe(this.g,new Ki)},ua.prototype.ra=function(){Xe(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,pN=function(){return new la},mN=function(){return ts()},gN=Sa,l2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,G1=ns,nr.COMPLETE="complete",dN=nr,pl.EventType=Pt,Pt.OPEN="a",Pt.CLOSE="b",Pt.ERROR="c",Pt.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,id=pl,sn.prototype.listenOnce=sn.prototype.L,sn.prototype.getLastError=sn.prototype.Ka,sn.prototype.getLastErrorCode=sn.prototype.Ba,sn.prototype.getStatus=sn.prototype.Z,sn.prototype.getResponseJson=sn.prototype.Oa,sn.prototype.getResponseText=sn.prototype.oa,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Ha,hN=sn}).apply(typeof b1<"u"?b1:typeof self<"u"?self:typeof window<"u"?window:{});const WC="@firebase/firestore",$C="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new nN("@firebase/firestore");function hf(){return ac.logLevel}function Je(t,...e){if(ac.logLevel<=rn.DEBUG){const n=e.map(Mb);ac.debug(`Firestore (${Gf}): ${t}`,...n)}}function tl(t,...e){if(ac.logLevel<=rn.ERROR){const n=e.map(Mb);ac.error(`Firestore (${Gf}): ${t}`,...n)}}function Cf(t,...e){if(ac.logLevel<=rn.WARN){const n=e.map(Mb);ac.warn(`Firestore (${Gf}): ${t}`,...n)}}function Mb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yN(t,r,n)}function yN(t,e,n){let r=`FIRESTORE (${Gf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw tl(r),new Error(r)}function bn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yN(e,i,r)}function Rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends vc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hi.UNAUTHENTICATED))}shutdown(){}}class zj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Hj{constructor(e){this.t=e,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bn(this.o===void 0,42304);let r=this.i;const i=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let a=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ko,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const m=a;e.enqueueRetryable(async()=>{await m.promise,await i(this.currentUser)})},g=m=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ko)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bn(typeof r.accessToken=="string",31837,{l:r}),new vN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string",2055,{h:e}),new Hi(e)}}class qj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bn(this.o===void 0,3512);const r=a=>{a.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Wj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Xt(t,e){return t<e?-1:t>e?1:0}function u2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return vv(i)===vv(a)?Xt(i,a):vv(i)?1:-1}return Xt(t.length,e.length)}const $j=55296,Xj=57343;function vv(t){const e=t.charCodeAt(0);return e>=$j&&e<=Xj}function Tf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__name__";class lo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Et(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Et(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=lo.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Xt(e.length,n.length)}static compareSegments(e,n){const r=lo.isNumericId(e),i=lo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?lo.extractNumericId(e).compare(lo.extractNumericId(n)):u2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nu.fromString(e.substring(4,e.length-2))}}class Yn extends lo{construct(e,n,r){return new Yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Yn(n)}static emptyPath(){return new Yn([])}}const Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends lo{construct(e,n,r){return new Ii(e,n,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KC}static keyField(){return new Ii([KC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ke(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if(g==="\\"){if(i+1===e.length)throw new Ke(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ke(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else g==="`"?(c=!c,i++):g!=="."||c?(r+=g,i++):(a(),i++)}if(a(),c)throw new Ke(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(n)}static emptyPath(){return new Ii([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Yn.fromString(e))}static fromName(e){return new dt(Yn.fromString(e).popFirst(5))}static empty(){return new dt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Yn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){if(!n)throw new Ke(De.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qj(t,e,n,r){if(e===!0&&r===!0)throw new Ke(De.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QC(t){if(!dt.isDocumentKey(t))throw new Ke(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZC(t){if(dt.isDocumentKey(t))throw new Ke(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Et(12329,{type:typeof t})}function ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(t);throw new Ke(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!bN(t))throw new Ke(De.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ke(De.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=-62135596800,eT=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eT);return new mn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JC)throw new Ke(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,mn._jsonSchema))return new mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mn._jsonSchemaVersion="firestore/timestamp/1.0",mn._jsonSchema={type:qr("string",mn._jsonSchemaVersion),seconds:qr("number"),nanoseconds:qr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new mn(0,0))}static max(){return new It(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function Zj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new mn(n+1,0):new mn(n,r));return new su(i,dt.empty(),e)}function Jj(t){return new su(t.readTime,t.key,Ed)}class su{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new su(It.min(),dt.empty(),Ed)}static max(){return new su(It.max(),dt.empty(),Ed)}}function eB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=dt.comparator(t.documentKey,e.documentKey),n!==0?n:Xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){if(t.code!==De.FAILED_PRECONDITION||t.message!==tB)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.reject(n)}static resolve(e){return new Le((n,r)=>{n(e)})}static reject(e){return new Le((n,r)=>{r(e)})}static waitFor(e){return new Le((n,r)=>{let i=0,a=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++a,c&&a===i&&n()},m=>r(m))}),c=!0,a===i&&n()})}static or(e){let n=Le.resolve(!1);for(const r of e)n=n.next(i=>i?Le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Le((r,i)=>{const a=e.length,c=new Array(a);let g=0;for(let m=0;m<a;m++){const d=m;n(e[d]).next(v=>{c[d]=v,++g,g===a&&r(c)},v=>i(v))}})}static doWhile(e,n){return new Le((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function rB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ym.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=-1;function vm(t){return t==null}function sg(t){return t===0&&1/t==-1/0}function iB(t){return typeof t=="number"&&Number.isInteger(t)&&!sg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="";function aB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tT(e)),e=sB(t.get(n),e);return tT(e)}function sB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case wN:n+="";break;default:n+=a}}return n}function tT(t){return t+wN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.comparator=e,this.root=n||Ci.EMPTY}insert(e,n){return new yr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w1(this.root,e,this.comparator,!1)}getReverseIterator(){return new w1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w1(this.root,e,this.comparator,!0)}}class w1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ci.RED,this.left=i??Ci.EMPTY,this.right=a??Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ci(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ci.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1;Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ci(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new Xa([])}unionWith(e){let n=new Jr(Ii.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new AN("Invalid base64 string: "+a):a}}(e);return new Oi(n)}static fromUint8Array(e){const n=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new Oi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const oB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(t){if(bn(!!t,39018),typeof t=="string"){let e=0;const n=oB.exec(t);if(bn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lr(t.seconds),nanos:Lr(t.nanos)}}function Lr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lu(t){return typeof t=="string"?Oi.fromBase64String(t):Oi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="server_timestamp",_N="__type__",CN="__previous_value__",TN="__local_write_time__";function kb(t){return(t?.mapValue?.fields||{})[_N]?.stringValue===SN}function xm(t){const e=t.mapValue.fields[CN];return kb(e)?xm(e):e}function Ad(t){const e=ou(t.mapValue.fields[TN].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n,r,i,a,c,g,m,d,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=d,this.isUsingEmulator=v}}const og="(default)";class Sd{constructor(e,n){this.projectId=e,this.database=n||og}static empty(){return new Sd("","")}get isDefaultDatabase(){return this.database===og}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="__type__",uB="__max__",E1={mapValue:{}},ON="__vector__",lg="value";function uu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kb(t)?4:fB(t)?9007199254740991:cB(t)?10:11:Et(28295,{value:t})}function po(t,e){if(t===e)return!0;const n=uu(t);if(n!==uu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ad(t).isEqual(Ad(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=ou(i.timestampValue),g=ou(a.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return lu(i.bytesValue).isEqual(lu(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Lr(i.geoPointValue.latitude)===Lr(a.geoPointValue.latitude)&&Lr(i.geoPointValue.longitude)===Lr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Lr(i.integerValue)===Lr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=Lr(i.doubleValue),g=Lr(a.doubleValue);return c===g?sg(c)===sg(g):isNaN(c)&&isNaN(g)}return!1}(t,e);case 9:return Tf(t.arrayValue.values||[],e.arrayValue.values||[],po);case 10:case 11:return function(i,a){const c=i.mapValue.fields||{},g=a.mapValue.fields||{};if(nT(c)!==nT(g))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(g[m]===void 0||!po(c[m],g[m])))return!1;return!0}(t,e);default:return Et(52216,{left:t})}}function _d(t,e){return(t.values||[]).find(n=>po(n,e))!==void 0}function If(t,e){if(t===e)return 0;const n=uu(t),r=uu(e);if(n!==r)return Xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xt(t.booleanValue,e.booleanValue);case 2:return function(a,c){const g=Lr(a.integerValue||a.doubleValue),m=Lr(c.integerValue||c.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1}(t,e);case 3:return iT(t.timestampValue,e.timestampValue);case 4:return iT(Ad(t),Ad(e));case 5:return u2(t.stringValue,e.stringValue);case 6:return function(a,c){const g=lu(a),m=lu(c);return g.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const g=a.split("/"),m=c.split("/");for(let d=0;d<g.length&&d<m.length;d++){const v=Xt(g[d],m[d]);if(v!==0)return v}return Xt(g.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const g=Xt(Lr(a.latitude),Lr(c.latitude));return g!==0?g:Xt(Lr(a.longitude),Lr(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aT(t.arrayValue,e.arrayValue);case 10:return function(a,c){const g=a.fields||{},m=c.fields||{},d=g[lg]?.arrayValue,v=m[lg]?.arrayValue,w=Xt(d?.values?.length||0,v?.values?.length||0);return w!==0?w:aT(d,v)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===E1.mapValue&&c===E1.mapValue)return 0;if(a===E1.mapValue)return 1;if(c===E1.mapValue)return-1;const g=a.fields||{},m=Object.keys(g),d=c.fields||{},v=Object.keys(d);m.sort(),v.sort();for(let w=0;w<m.length&&w<v.length;++w){const S=u2(m[w],v[w]);if(S!==0)return S;const T=If(g[m[w]],d[v[w]]);if(T!==0)return T}return Xt(m.length,v.length)}(t.mapValue,e.mapValue);default:throw Et(23264,{he:n})}}function iT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xt(t,e);const n=ou(t),r=ou(e),i=Xt(n.seconds,r.seconds);return i!==0?i:Xt(n.nanos,r.nanos)}function aT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=If(n[i],r[i]);if(a)return a}return Xt(n.length,r.length)}function Of(t){return c2(t)}function c2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ou(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return dt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=c2(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${c2(n.fields[c])}`;return i+"}"}(t.mapValue):Et(61005,{value:t})}function Y1(t){switch(uu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xm(t);return e?16+Y1(e):16;case 5:return 2*t.stringValue.length;case 6:return lu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Y1(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return xu(r.fields,(a,c)=>{i+=a.length+Y1(c)}),i}(t.mapValue);default:throw Et(13486,{value:t})}}function sT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f2(t){return!!t&&"integerValue"in t}function jb(t){return!!t&&"arrayValue"in t}function oT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function W1(t){return!!t&&"mapValue"in t}function cB(t){return(t?.mapValue?.fields||{})[IN]?.stringValue===ON}function dd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dd(t.arrayValue.values[n]);return e}return{...t}}function fB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.value=e}static empty(){return new va({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!W1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dd(n)}setAll(e){let n=Ii.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,r,i),r={},i=[],n=g.popLast()}c?r[g.lastSegment()]=dd(c):i.push(g.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());W1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];W1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xu(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new va(dd(this.value))}}function RN(t){const e=[];return xu(t.fields,(n,r)=>{const i=new Ii([n]);if(W1(r)){const a=RN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Xa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,a,c,g){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=g}static newInvalidDocument(e){return new qi(e,0,It.min(),It.min(),It.min(),va.empty(),0)}static newFoundDocument(e,n,r,i){return new qi(e,1,n,It.min(),r,i,0)}static newNoDocument(e,n){return new qi(e,2,n,It.min(),It.min(),va.empty(),0)}static newUnknownDocument(e,n){return new qi(e,3,n,It.min(),It.min(),va.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=va.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=va.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.position=e,this.inclusive=n}}function uT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=dt.comparator(dt.fromName(c.referenceValue),n.key):r=If(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!po(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function hB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{}class Hr extends NN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gB(e,n,r):n==="array-contains"?new yB(e,r):n==="in"?new vB(e,r):n==="not-in"?new xB(e,r):n==="array-contains-any"?new bB(e,r):new Hr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mB(e,r):new pB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(If(n,this.value)):n!==null&&uu(this.value)===uu(n)&&this.matchesComparison(If(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends NN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qs(e,n)}matches(e){return DN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DN(t){return t.op==="and"}function MN(t){return dB(t)&&DN(t)}function dB(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function h2(t){if(t instanceof Hr)return t.field.canonicalString()+t.op.toString()+Of(t.value);if(MN(t))return t.filters.map(e=>h2(e)).join(",");{const e=t.filters.map(n=>h2(n)).join(",");return`${t.op}(${e})`}}function PN(t,e){return t instanceof Hr?function(r,i){return i instanceof Hr&&r.op===i.op&&r.field.isEqual(i.field)&&po(r.value,i.value)}(t,e):t instanceof qs?function(r,i){return i instanceof qs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,c,g)=>a&&PN(c,i.filters[g]),!0):!1}(t,e):void Et(19439)}function LN(t){return t instanceof Hr?function(n){return`${n.field.canonicalString()} ${n.op} ${Of(n.value)}`}(t):t instanceof qs?function(n){return n.op.toString()+" {"+n.getFilters().map(LN).join(" ,")+"}"}(t):"Filter"}class gB extends Hr{constructor(e,n,r){super(e,n,r),this.key=dt.fromName(r.referenceValue)}matches(e){const n=dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class mB extends Hr{constructor(e,n){super(e,"in",n),this.keys=kN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pB extends Hr{constructor(e,n){super(e,"not-in",n),this.keys=kN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kN(t,e){return(e.arrayValue?.values||[]).map(n=>dt.fromName(n.referenceValue))}class yB extends Hr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jb(n)&&_d(n.arrayValue,this.value)}}class vB extends Hr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_d(this.value.arrayValue,n)}}class xB extends Hr{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_d(this.value.arrayValue,n)}}class bB extends Hr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n=null,r=[],i=[],a=null,c=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=g,this.Te=null}}function fT(t,e=null,n=[],r=[],i=null,a=null,c=null){return new wB(t,e,n,r,i,a,c)}function Bb(t){const e=Rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Of(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Of(r)).join(",")),e.Te=n}return e.Te}function Ub(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cT(t.startAt,e.startAt)&&cT(t.endAt,e.endAt)}function d2(t){return dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n=null,r=[],i=[],a=null,c="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EB(t,e,n,r,i,a,c,g){return new $f(t,e,n,r,i,a,c,g)}function bm(t){return new $f(t)}function hT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jN(t){return t.collectionGroup!==null}function gd(t){const e=Rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let g=new Jr(Ii.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(d=>{d.isInequality()&&(g=g.add(d.field))})}),g})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Cd(a,r))}),n.has(Ii.keyField().canonicalString())||e.Ie.push(new Cd(Ii.keyField(),r))}return e.Ie}function co(t){const e=Rt(t);return e.Ee||(e.Ee=AB(e,gd(t))),e.Ee}function AB(t,e){if(t.limitType==="F")return fT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Cd(i.field,a)});const n=t.endAt?new ug(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ug(t.startAt.position,t.startAt.inclusive):null;return fT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g2(t,e){const n=t.filters.concat([e]);return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function m2(t,e,n){return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wm(t,e){return Ub(co(t),co(e))&&t.limitType===e.limitType}function BN(t){return`${Bb(co(t))}|lt:${t.limitType}`}function df(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LN(i)).join(", ")}]`),vm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Of(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Of(i)).join(",")),`Target(${r})`}(co(t))}; limitType=${t.limitType})`}function Em(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):dt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of gd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,g,m){const d=uT(c,g,m);return c.inclusive?d<=0:d<0}(r.startAt,gd(r),i)||r.endAt&&!function(c,g,m){const d=uT(c,g,m);return c.inclusive?d>=0:d>0}(r.endAt,gd(r),i))}(t,e)}function SB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UN(t){return(e,n)=>{let r=!1;for(const i of gd(t)){const a=_B(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function _B(t,e,n){const r=t.field.isKeyField()?dt.comparator(e.key,n.key):function(a,c,g){const m=c.data.field(a),d=g.data.field(a);return m!==null&&d!==null?If(m,d):Et(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xu(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return EN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new yr(dt.comparator);function nl(){return CB}const FN=new yr(dt.comparator);function ad(...t){let e=FN;for(const n of t)e=e.insert(n.key,n);return e}function VN(t){let e=FN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $u(){return md()}function zN(){return md()}function md(){return new xc(t=>t.toString(),(t,e)=>t.isEqual(e))}const TB=new yr(dt.comparator),IB=new Jr(dt.comparator);function Kt(...t){let e=IB;for(const n of t)e=e.add(n);return e}const OB=new Jr(Xt);function RB(){return OB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sg(e)?"-0":e}}function HN(t){return{integerValue:""+t}}function NB(t,e){return iB(e)?HN(e):Fb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function DB(t,e,n){return t instanceof Td?function(i,a){const c={fields:{[_N]:{stringValue:SN},[TN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kb(a)&&(a=xm(a)),a&&(c.fields[CN]=a),{mapValue:c}}(n,e):t instanceof Id?GN(t,e):t instanceof Od?YN(t,e):function(i,a){const c=qN(i,a),g=dT(c)+dT(i.Ae);return f2(c)&&f2(i.Ae)?HN(g):Fb(i.serializer,g)}(t,e)}function MB(t,e,n){return t instanceof Id?GN(t,e):t instanceof Od?YN(t,e):n}function qN(t,e){return t instanceof cg?function(r){return f2(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Td extends Am{}class Id extends Am{constructor(e){super(),this.elements=e}}function GN(t,e){const n=WN(e);for(const r of t.elements)n.some(i=>po(i,r))||n.push(r);return{arrayValue:{values:n}}}class Od extends Am{constructor(e){super(),this.elements=e}}function YN(t,e){let n=WN(e);for(const r of t.elements)n=n.filter(i=>!po(i,r));return{arrayValue:{values:n}}}class cg extends Am{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dT(t){return Lr(t.integerValue||t.doubleValue)}function WN(t){return jb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n){this.field=e,this.transform=n}}function LB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Id&&i instanceof Id||r instanceof Od&&i instanceof Od?Tf(r.elements,i.elements,po):r instanceof cg&&i instanceof cg?po(r.Ae,i.Ae):r instanceof Td&&i instanceof Td}(t.transform,e.transform)}class kB{constructor(e,n){this.version=e,this.transformResults=n}}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sm{}function $N(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vb(t.key,Ss.none()):new Yd(t.key,t.data,Ss.none());{const n=t.data,r=va.empty();let i=new Jr(Ii.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new bu(t.key,r,new Xa(i.toArray()),Ss.none())}}function jB(t,e,n){t instanceof Yd?function(i,a,c){const g=i.value.clone(),m=mT(i.fieldTransforms,a,c.transformResults);g.setAll(m),a.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(t,e,n):t instanceof bu?function(i,a,c){if(!$1(i.precondition,a))return void a.convertToUnknownDocument(c.version);const g=mT(i.fieldTransforms,a,c.transformResults),m=a.data;m.setAll(XN(i)),m.setAll(g),a.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function pd(t,e,n,r){return t instanceof Yd?function(a,c,g,m){if(!$1(a.precondition,c))return g;const d=a.value.clone(),v=pT(a.fieldTransforms,m,c);return d.setAll(v),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof bu?function(a,c,g,m){if(!$1(a.precondition,c))return g;const d=pT(a.fieldTransforms,m,c),v=c.data;return v.setAll(XN(a)),v.setAll(d),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),g===null?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(a,c,g){return $1(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):g}(t,e,n)}function BB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=qN(r.transform,i||null);a!=null&&(n===null&&(n=va.empty()),n.set(r.field,a))}return n||null}function gT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tf(r,i,(a,c)=>LB(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends Sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bu extends Sm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function XN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mT(t,e,n){const r=new Map;bn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,g=e.data.field(a.field);r.set(a.field,MB(c,g,n[i]))}return r}function pT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,DB(a,c,e))}return r}class Vb extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UB extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zN();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let g=this.applyToLocalView(c,a.mutatedFields);g=n.has(i.key)?null:g;const m=$N(c,g);m!==null&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Tf(this.mutations,e.mutations,(n,r)=>gT(n,r))&&Tf(this.baseMutations,e.baseMutations,(n,r)=>gT(n,r))}}class zb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return TB}();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new zb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr,nn;function HB(t){switch(t){case De.OK:return Et(64938);case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0;default:return Et(15467,{code:t})}}function KN(t){if(t===void 0)return tl("GRPC error has no .code"),De.UNKNOWN;switch(t){case zr.OK:return De.OK;case zr.CANCELLED:return De.CANCELLED;case zr.UNKNOWN:return De.UNKNOWN;case zr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case zr.INTERNAL:return De.INTERNAL;case zr.UNAVAILABLE:return De.UNAVAILABLE;case zr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case zr.NOT_FOUND:return De.NOT_FOUND;case zr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case zr.ABORTED:return De.ABORTED;case zr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case zr.DATA_LOSS:return De.DATA_LOSS;default:return Et(39323,{code:t})}}(nn=zr||(zr={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new nu([4294967295,4294967295],0);function yT(t){const e=qB().encode(t),n=new fN;return n.update(e),new Uint8Array(n.digest())}function vT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new nu([n,r],0),new nu([i,a],0)]}class Hb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sd(`Invalid padding: ${n}`);if(r<0)throw new sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=nu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(nu.fromNumber(r)));return i.compare(GB)===1&&(i=new nu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yT(e),[r,i]=vT(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Hb(a,i,n);return r.forEach(g=>c.insert(g)),c}insert(e){if(this.ge===0)return;const n=yT(e),[r,i]=vT(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _m(It.min(),i,new yr(Xt),nl(),Kt())}}class Wd{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class QN{constructor(e,n){this.targetId=e,this.Ce=n}}class ZN{constructor(e,n,r=Oi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xT{constructor(){this.ve=0,this.Fe=bT(),this.Me=Oi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),n=Kt(),r=Kt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Et(38017,{changeType:a})}}),new Wd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YB{constructor(e){this.Ge=e,this.ze=new Map,this.je=nl(),this.Je=A1(),this.He=A1(),this.Ye=new yr(Xt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(d2(a))if(r===0){const c=new dt(a.path);this.et(n,c,qi.newNoDocument(c,It.min()))}else bn(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const g=this.ut(e),m=g?this.ct(g,e,c):1;if(m!==0){this.it(n);const d=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,g;try{c=lu(r).toUint8Array()}catch(m){if(m instanceof AN)return Cf("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Hb(c,i,a)}catch(m){return Cf(m instanceof sd?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const c=this.Ge.ht(),g=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(g)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,c)=>{const g=this.ot(c);if(g){if(a.current&&d2(g.target)){const m=new dt(g.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,qi.newNoDocument(m,e))}a.Be&&(n.set(c,a.ke()),a.qe())}});let r=Kt();this.He.forEach((a,c)=>{let g=!0;c.forEachWhile(m=>{const d=this.ot(m);return!d||d.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(a))}),this.je.forEach((a,c)=>c.setReadTime(e));const i=new _m(e,n,this.Ye,this.je,r);return this.je=nl(),this.Je=A1(),this.He=A1(),this.Ye=new yr(Xt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new xT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jr(Xt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jr(Xt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function A1(){return new yr(dt.comparator)}function bT(){return new yr(dt.comparator)}const WB={asc:"ASCENDING",desc:"DESCENDING"},$B={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XB={and:"AND",or:"OR"};class KB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p2(t,e){return t.useProto3Json||vm(e)?e:{value:e}}function fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QB(t,e){return fg(t,e.toTimestamp())}function fo(t){return bn(!!t,49232),It.fromTimestamp(function(n){const r=ou(n);return new mn(r.seconds,r.nanos)}(t))}function qb(t,e){return y2(t,e).canonicalString()}function y2(t,e){const n=function(i){return new Yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eD(t){const e=Yn.fromString(t);return bn(aD(e),10190,{key:e.toString()}),e}function v2(t,e){return qb(t.databaseId,e.path)}function xv(t,e){const n=eD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new dt(nD(n))}function tD(t,e){return qb(t.databaseId,e)}function ZB(t){const e=eD(t);return e.length===4?Yn.emptyPath():nD(e)}function x2(t){return new Yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nD(t){return bn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wT(t,e,n){return{name:v2(t,e),fields:n.value.mapValue.fields}}function JB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Et(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,v){return d.useProto3Json?(bn(v===void 0||typeof v=="string",58123),Oi.fromBase64String(v||"")):(bn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Oi.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(d){const v=d.code===void 0?De.UNKNOWN:KN(d.code);return new Ke(v,d.message||"")}(c);n=new ZN(r,i,a,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xv(t,r.document.name),a=fo(r.document.updateTime),c=r.document.createTime?fo(r.document.createTime):It.min(),g=new va({mapValue:{fields:r.document.fields}}),m=qi.newFoundDocument(i,a,c,g),d=r.targetIds||[],v=r.removedTargetIds||[];n=new X1(d,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xv(t,r.document),a=r.readTime?fo(r.readTime):It.min(),c=qi.newNoDocument(i,a),g=r.removedTargetIds||[];n=new X1([],g,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xv(t,r.document),a=r.removedTargetIds||[];n=new X1([],a,i,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new zB(i,a),g=r.targetId;n=new QN(g,c)}}return n}function eU(t,e){let n;if(e instanceof Yd)n={update:wT(t,e.key,e.value)};else if(e instanceof Vb)n={delete:v2(t,e.key)};else if(e instanceof bu)n={update:wT(t,e.key,e.data),updateMask:uU(e.fieldMask)};else{if(!(e instanceof UB))return Et(16599,{Vt:e.type});n={verify:v2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const g=c.transform;if(g instanceof Td)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Id)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Od)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof cg)return{fieldPath:c.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:QB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Et(27497)}(t,e.precondition)),n}function tU(t,e){return t&&t.length>0?(bn(e!==void 0,14353),t.map(n=>function(i,a){let c=i.updateTime?fo(i.updateTime):fo(a);return c.isEqual(It.min())&&(c=fo(a)),new kB(c,i.transformResults||[])}(n,e))):[]}function nU(t,e){return{documents:[tD(t,e.path)]}}function rU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tD(t,i);const a=function(d){if(d.length!==0)return iD(qs.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(d){if(d.length!==0)return d.map(v=>function(S){return{field:gf(S.field),direction:sU(S.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const g=p2(t,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function iU(t){let e=ZB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bn(r===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(w){const S=rD(w);return S instanceof qs&&MN(S)?S.getFilters():[S]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(S=>function(R){return new Cd(mf(R.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(S))}(n.orderBy));let g=null;n.limit&&(g=function(w){let S;return S=typeof w=="object"?w.value:w,vm(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(w){const S=!!w.before,T=w.values||[];return new ug(T,S)}(n.startAt));let d=null;return n.endAt&&(d=function(w){const S=!w.before,T=w.values||[];return new ug(T,S)}(n.endAt)),EB(e,i,c,a,g,"F",m,d)}function aU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mf(n.unaryFilter.field);return Hr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mf(n.unaryFilter.field);return Hr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mf(n.unaryFilter.field);return Hr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mf(n.unaryFilter.field);return Hr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(t):t.fieldFilter!==void 0?function(n){return Hr.create(mf(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qs.create(n.compositeFilter.filters.map(r=>rD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(t):Et(30097,{filter:t})}function sU(t){return WB[t]}function oU(t){return $B[t]}function lU(t){return XB[t]}function gf(t){return{fieldPath:t.canonicalString()}}function mf(t){return Ii.fromServerFormat(t.fieldPath)}function iD(t){return t instanceof Hr?function(n){if(n.op==="=="){if(lT(n.value))return{unaryFilter:{field:gf(n.field),op:"IS_NAN"}};if(oT(n.value))return{unaryFilter:{field:gf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lT(n.value))return{unaryFilter:{field:gf(n.field),op:"IS_NOT_NAN"}};if(oT(n.value))return{unaryFilter:{field:gf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gf(n.field),op:oU(n.op),value:n.value}}}(t):t instanceof qs?function(n){const r=n.getFilters().map(i=>iD(i));return r.length===1?r[0]:{compositeFilter:{op:lU(n.op),filters:r}}}(t):Et(54877,{filter:t})}function uU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,i,a=It.min(),c=It.min(),g=Oi.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new Ql(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.yt=e}}function fU(t){const e=iU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.Cn=new dU}addToCollectionParentIndex(e,n){return this.Cn.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}deleteAllFieldIndexes(e){return Le.resolve()}createTargetIndexes(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(su.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(su.min())}updateCollectionGroup(e,n,r){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}}class dU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jr(Yn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jr(Yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sD=41943040;class ya{static withCacheSize(e){return new ya(e,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya.DEFAULT_COLLECTION_PERCENTILE=10,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ya.DEFAULT=new ya(sD,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ya.DISABLED=new ya(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rf(0)}static cr(){return new Rf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",gU=1048576;function ST([t,e],[n,r]){const i=Xt(t,n);return i===0?Xt(e,r):i}class mU{constructor(e){this.Ir=e,this.buffer=new Jr(ST),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ST(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Je(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wf(n)?Je(AT,"Ignoring IndexedDB error during garbage collection: ",n):await Yf(n)}await this.Vr(3e5)})}}class yU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Le.resolve(ym.ce);const r=new mU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(ET)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,c,g,m,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,c=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,g=Date.now(),this.removeTargets(e,r,n))).next(w=>(a=w,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(d=Date.now(),hf()<=rn.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${i} in `+(g-c)+`ms
	Removed ${a} targets in `+(m-g)+`ms
	Removed ${w} documents in `+(d-m)+`ms
Total Duration: ${d-v}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function vU(t,e){return new yU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.changes=new xc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pd(r.mutation,i,Xa.empty(),mn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Kt()){const i=$u();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let c=ad();return a.forEach((g,m)=>{c=c.insert(g,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=$u();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Kt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,g)=>{n.set(c,g)})})}computeViews(e,n,r,i){let a=nl();const c=md(),g=function(){return md()}();return n.forEach((m,d)=>{const v=r.get(d.key);i.has(d.key)&&(v===void 0||v.mutation instanceof bu)?a=a.insert(d.key,d):v!==void 0?(c.set(d.key,v.mutation.getFieldMask()),pd(v.mutation,d,v.mutation.getFieldMask(),mn.now())):c.set(d.key,Xa.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((d,v)=>c.set(d,v)),n.forEach((d,v)=>g.set(d,new bU(v,c.get(d)??null))),g))}recalculateAndSaveOverlays(e,n){const r=md();let i=new yr((c,g)=>c-g),a=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const g of c)g.keys().forEach(m=>{const d=n.get(m);if(d===null)return;let v=r.get(m)||Xa.empty();v=g.applyToLocalView(d,v),r.set(m,v);const w=(i.get(g.batchId)||Kt()).add(m);i=i.insert(g.batchId,w)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),d=m.key,v=m.value,w=zN();v.forEach(S=>{if(!a.has(S)){const T=$N(n.get(S),r.get(S));T!==null&&w.set(S,T),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Le.resolve($u());let g=Ed,m=a;return c.next(d=>Le.forEach(d,(v,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),a.get(v)?Le.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,m,d,Kt())).next(v=>({batchId:g,changes:VN(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dt(n)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=ad();return this.indexManager.getCollectionParents(e,a).next(g=>Le.forEach(g,m=>{const d=function(w,S){return new $f(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(v=>{v.forEach((w,S)=>{c=c.insert(w,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(c=>{a.forEach((m,d)=>{const v=d.getKey();c.get(v)===null&&(c=c.insert(v,qi.newInvalidDocument(v)))});let g=ad();return c.forEach((m,d)=>{const v=a.get(m);v!==void 0&&pd(v.mutation,d,Xa.empty(),mn.now()),Em(n,d)&&(g=g.insert(m,d))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fo(i.createTime)}}(n)),Le.resolve()}getNamedQuery(e,n){return Le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:fU(i.bundledQuery),readTime:fo(i.readTime)}}(n)),Le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.overlays=new yr(dt.comparator),this.qr=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$u();return Le.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Le.resolve()}getOverlaysForCollection(e,n,r){const i=$u(),a=n.length+1,c=new dt(n.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const m=g.getNext().value,d=m.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new yr((d,v)=>d-v);const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let v=a.get(d.largestBatchId);v===null&&(v=$u(),a=a.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const g=$u(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((d,v)=>g.set(d,v)),!(g.size()>=i)););return Le.resolve(g)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new VB(n,r));let a=this.qr.get(n);a===void 0&&(a=Kt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.sessionToken=Oi.EMPTY_BYTE_STRING}getSessionToken(e){return Le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.Qr=new Jr(ui.$r),this.Ur=new Jr(ui.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ui(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ui(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new dt(new Yn([])),r=new ui(n,e),i=new ui(n,e+1),a=[];return this.Ur.forEachInRange([r,i],c=>{this.Gr(c),a.push(c.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new dt(new Yn([])),r=new ui(n,e),i=new ui(n,e+1);let a=Kt();return this.Ur.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new ui(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ui{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return dt.comparator(e.key,n.key)||Xt(e.Yr,n.Yr)}static Kr(e,n){return Xt(e.Yr,n.Yr)||dt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jr(ui.$r)}checkEmpty(e){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FB(a,n,r,i);this.mutationQueue.push(c);for(const g of i)this.Zr=this.Zr.add(new ui(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Le.resolve(c)}lookupMutationBatch(e,n){return Le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?Lb:this.tr-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ui(n,0),i=new ui(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],c=>{const g=this.Xr(c.Yr);a.push(g)}),Le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jr(Xt);return n.forEach(i=>{const a=new ui(i,0),c=new ui(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],g=>{r=r.add(g.Yr)})}),Le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;dt.isDocumentKey(a)||(a=a.child(""));const c=new ui(new dt(a),0);let g=new Jr(Xt);return this.Zr.forEachWhile(m=>{const d=m.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(g=g.add(m.Yr)),!0)},c),Le.resolve(this.ti(g))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Le.forEach(n.mutations,i=>{const a=new ui(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ui(n,0),i=this.Zr.firstAfterOrEqual(r);return Le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.ri=e,this.docs=function(){return new yr(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Le.resolve(r?r.document.mutableCopy():qi.newInvalidDocument(n))}getEntries(e,n){let r=nl();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():qi.newInvalidDocument(i))}),Le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=nl();const c=n.path,g=new dt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:d,value:{document:v}}=m.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||eB(Jj(v),r)<=0||(i.has(v.key)||Em(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Et(9500)}ii(e,n){return Le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TU(this)}getSize(e){return Le.resolve(this.size)}}class TU extends xU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.persistence=e,this.si=new xc(n=>Bb(n),Ub),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new Gb,this.targetCount=0,this.ai=Rf.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.Pr(n),Le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((c,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),Le.waitFor(a).next(()=>i)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),Le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Le.resolve(r)}containsKey(e,n){return Le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.ui={},this.overlays={},this.ci=new ym(0),this.li=!1,this.li=!0,this.hi=new SU,this.referenceDelegate=e(this),this.Pi=new IU(this),this.indexManager=new hU,this.remoteDocumentCache=function(i){return new CU(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new cU(n),this.Ii=new EU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new _U(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new OU(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return Le.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class OU extends nB{constructor(e){super(),this.currentSequenceNumber=e}}class Yb{constructor(e){this.persistence=e,this.Ri=new Gb,this.Vi=null}static mi(e){return new Yb(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.fi,r=>{const i=dt.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,It.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Le.or([()=>Le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hg{constructor(e,n){this.persistence=e,this.pi=new xc(r=>aB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vU(this,n)}static mi(e,n){return new hg(e,n)}Ei(){}di(e){return Le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Le.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Le.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,c=>this.br(e,c,n).next(g=>{g||(r++,a.removeEntry(c,It.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Y1(e.data.value)),n}br(e,n,r){return Le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Kt(),i=Kt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Wb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _k()?8:rB(Ak())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new RU;return this.Ss(e,n,c).next(g=>{if(a.result=g,this.Vs)return this.bs(e,n,c,g.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(hf()<=rn.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",df(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Le.resolve()):(hf()<=rn.DEBUG&&Je("QueryEngine","Query:",df(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(hf()<=rn.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",df(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(n))):Le.resolve())}ys(e,n){if(hT(n))return Le.resolve(null);let r=co(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m2(n,null,"F"),r=co(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Kt(...a);return this.ps.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(m=>{const d=this.Ds(n,g);return this.Cs(n,d,c,m.readTime)?this.ys(e,m2(n,null,"F")):this.vs(e,d,n,m)}))})))}ws(e,n,r,i){return hT(n)||i.isEqual(It.min())?Le.resolve(null):this.ps.getDocuments(e,r).next(a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,i)?Le.resolve(null):(hf()<=rn.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),df(n)),this.vs(e,c,n,Zj(i,Ed)).next(g=>g))})}Ds(e,n){let r=new Jr(UN(e));return n.forEach((i,a)=>{Em(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return hf()<=rn.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",df(n)),this.ps.getDocumentsMatchingQuery(e,n,su.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="LocalStore",DU=3e8;class MU{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new yr(Xt),this.xs=new xc(a=>Bb(a),Ub),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function PU(t,e,n,r){return new MU(t,e,n,r)}async function lD(t,e){const n=Rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],g=[];let m=Kt();for(const d of i){c.push(d.batchId);for(const v of d.mutations)m=m.add(v.key)}for(const d of a){g.push(d.batchId);for(const v of d.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(r,m).next(d=>({Ls:d,removedBatchIds:c,addedBatchIds:g}))})})}function LU(t,e){const n=Rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,m,d,v){const w=d.batch,S=w.keys();let T=Le.resolve();return S.forEach(R=>{T=T.next(()=>v.getEntry(m,R)).next(M=>{const P=d.docVersions.get(R);bn(P!==null,48541),M.version.compareTo(P)<0&&(w.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),v.addEntry(M)))})}),T.next(()=>g.mutationQueue.removeMutationBatch(m,w))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let m=Kt();for(let d=0;d<g.mutationResults.length;++d)g.mutationResults[d].transformResults.length>0&&(m=m.add(g.batch.mutations[d].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uD(t){const e=Rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function kU(t,e){const n=Rt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const g=[];e.targetChanges.forEach((v,w)=>{const S=i.get(w);if(!S)return;g.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(a,v.addedDocuments,w)));let T=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?T=T.withResumeToken(Oi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),i=i.insert(w,T),function(M,P,U){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=DU?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(S,T,v)&&g.push(n.Pi.updateTargetData(a,T))});let m=nl(),d=Kt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),g.push(jU(a,c,e.documentUpdates).next(v=>{m=v.ks,d=v.qs})),!r.isEqual(It.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next(w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));g.push(v)}return Le.waitFor(g).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,m,d)).next(()=>m)}).then(a=>(n.Ms=i,a))}function jU(t,e,n){let r=Kt(),i=Kt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let c=nl();return n.forEach((g,m)=>{const d=a.get(g);m.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(g)),m.isNoDocument()&&m.version.isEqual(It.min())?(e.removeEntry(g,m.readTime),c=c.insert(g,m)):!d.isValidDocument()||m.version.compareTo(d.version)>0||m.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(m),c=c.insert(g,m)):Je($b,"Ignoring outdated watch update for ",g,". Current version:",d.version," Watch version:",m.version)}),{ks:c,qs:i}})}function BU(t,e){const n=Rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UU(t,e){const n=Rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,Le.resolve(i)):n.Pi.allocateTargetId(r).next(c=>(i=new Ql(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function b2(t,e,n){const r=Rt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!Wf(c))throw c;Je($b,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _T(t,e,n){const r=Rt(t);let i=It.min(),a=Kt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,d,v){const w=Rt(m),S=w.xs.get(v);return S!==void 0?Le.resolve(w.Ms.get(S)):w.Pi.getTargetData(d,v)}(r,c,co(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,g.targetId).next(m=>{a=m})}).next(()=>r.Fs.getDocumentsMatchingQuery(c,e,n?i:It.min(),n?a:Kt())).next(g=>(FU(r,SB(e),g),{documents:g,Qs:a})))}function FU(t,e,n){let r=t.Os.get(e)||It.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class CT{constructor(){this.activeTargetIds=RB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VU{constructor(){this.Mo=new CT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class IT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Je(TT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Je(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S1=null;function w2(){return S1===null?S1=function(){return 268435456+Math.round(2147483648*Math.random())}():S1++,"0x"+S1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="RestConnection",HU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===og?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const c=w2(),g=this.zo(e,n.toUriEncodedString());Je(bv,`Sending RPC '${e}' ${c}:`,g,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,i,a);const{host:d}=new URL(g),v=gm(d);return this.Jo(e,g,m,r,v).then(w=>(Je(bv,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Cf(bv,`RPC '${e}' ${c} failed with error: `,w,"url: ",g,"request:",r),w})}Ho(e,n,r,i,a,c){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=HU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="WebChannelConnection";class YU extends qU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const c=w2();return new Promise((g,m)=>{const d=new hN;d.setWithCredentials(!0),d.listenOnce(dN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case G1.NO_ERROR:const w=d.getResponseJson();Je(Vi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),g(w);break;case G1.TIMEOUT:Je(Vi,`RPC '${e}' ${c} timed out`),m(new Ke(De.DEADLINE_EXCEEDED,"Request time out"));break;case G1.HTTP_ERROR:const S=d.getStatus();if(Je(Vi,`RPC '${e}' ${c} failed with status:`,S,"response text:",d.getResponseText()),S>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T?.error;if(R&&R.status&&R.message){const M=function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(W)>=0?W:De.UNKNOWN}(R.status);m(new Ke(M,R.message))}else m(new Ke(De.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new Ke(De.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Je(Vi,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(i);Je(Vi,`RPC '${e}' ${c} sending request:`,i),d.send(n,"POST",v,r,15)})}T_(e,n,r){const i=w2(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=pN(),g=mN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(m.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const v=a.join("");Je(Vi,`Creating RPC '${e}' stream ${i}: ${v}`,m);const w=c.createWebChannel(v,m);this.I_(w);let S=!1,T=!1;const R=new GU({Yo:P=>{T?Je(Vi,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(S||(Je(Vi,`Opening RPC '${e}' stream ${i} transport.`),w.open(),S=!0),Je(Vi,`RPC '${e}' stream ${i} sending:`,P),w.send(P))},Zo:()=>w.close()}),M=(P,U,W)=>{P.listen(U,q=>{try{W(q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return M(w,id.EventType.OPEN,()=>{T||(Je(Vi,`RPC '${e}' stream ${i} transport opened.`),R.o_())}),M(w,id.EventType.CLOSE,()=>{T||(T=!0,Je(Vi,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(w))}),M(w,id.EventType.ERROR,P=>{T||(T=!0,Cf(Vi,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),R.a_(new Ke(De.UNAVAILABLE,"The operation could not be completed")))}),M(w,id.EventType.MESSAGE,P=>{if(!T){const U=P.data[0];bn(!!U,16349);const W=U,q=W?.error||W[0]?.error;if(q){Je(Vi,`RPC '${e}' stream ${i} received error:`,q);const ee=q.status;let $=function(V){const j=zr[V];if(j!==void 0)return KN(j)}(ee),ne=q.message;$===void 0&&($=De.INTERNAL,ne="Unknown error status: "+ee+" with message "+q.message),T=!0,R.a_(new Ke($,ne)),w.close()}else Je(Vi,`RPC '${e}' stream ${i} received:`,U),R.u_(U)}}),M(g,gN.STAT_EVENT,P=>{P.stat===l2.PROXY?Je(Vi,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===l2.NOPROXY&&Je(Vi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){return new KB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="PersistentStream";class fD{constructor(e,n,r,i,a,c,g,m){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===De.RESOURCE_EXHAUSTED?(tl(n.toString()),tl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ke(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Je(OT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Je(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WU extends fD{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JB(this.serializer,e),r=function(a){if(!("targetChange"in a))return It.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?fo(c.readTime):It.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=x2(this.serializer),n.addTarget=function(a,c){let g;const m=c.target;if(g=d2(m)?{documents:nU(a,m)}:{query:rU(a,m).ft},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){g.resumeToken=JN(a,c.resumeToken);const d=p2(a,c.expectedCount);d!==null&&(g.expectedCount=d)}else if(c.snapshotVersion.compareTo(It.min())>0){g.readTime=fg(a,c.snapshotVersion.toTimestamp());const d=p2(a,c.expectedCount);d!==null&&(g.expectedCount=d)}return g}(this.serializer,e);const r=aU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=x2(this.serializer),n.removeTarget=e,this.q_(n)}}class $U extends fD{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return bn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tU(e.writeResults,e.commitTime),r=fo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=x2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{}class KU extends XU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ke(De.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Go(e,y2(n,r),i,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(De.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,g])=>this.connection.Ho(e,y2(n,r),i,c,g,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ke(De.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tl(n),this.aa=!1):Je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc="RemoteStore";class ZU{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(c=>{r.enqueueAndForget(async()=>{bc(this)&&(Je(sc,"Restarting streams for network reachability change."),await async function(m){const d=Rt(m);d.Ea.add(4),await $d(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Tm(d)}(this))})}),this.Ra=new QU(r,i)}}async function Tm(t){if(bc(t))for(const e of t.da)await e(!0)}async function $d(t){for(const e of t.da)await e(!1)}function hD(t,e){const n=Rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zb(n)?Qb(n):Xf(n).O_()&&Kb(n,e))}function Xb(t,e){const n=Rt(t),r=Xf(n);n.Ia.delete(e),r.O_()&&dD(n,e),n.Ia.size===0&&(r.O_()?r.L_():bc(n)&&n.Ra.set("Unknown"))}function Kb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xf(t).Y_(e)}function dD(t,e){t.Va.Ue(e),Xf(t).Z_(e)}function Qb(t){t.Va=new YB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xf(t).start(),t.Ra.ua()}function Zb(t){return bc(t)&&!Xf(t).x_()&&t.Ia.size>0}function bc(t){return Rt(t).Ea.size===0}function gD(t){t.Va=void 0}async function JU(t){t.Ra.set("Online")}async function eF(t){t.Ia.forEach((e,n)=>{Kb(t,e)})}async function tF(t,e){gD(t),Zb(t)?(t.Ra.ha(e),Qb(t)):t.Ra.set("Unknown")}async function nF(t,e,n){if(t.Ra.set("Online"),e instanceof ZN&&e.state===2&&e.cause)try{await async function(i,a){const c=a.cause;for(const g of a.targetIds)i.Ia.has(g)&&(await i.remoteSyncer.rejectListen(g,c),i.Ia.delete(g),i.Va.removeTarget(g))}(t,e)}catch(r){Je(sc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dg(t,r)}else if(e instanceof X1?t.Va.Ze(e):e instanceof QN?t.Va.st(e):t.Va.tt(e),!n.isEqual(It.min()))try{const r=await uD(t.localStore);n.compareTo(r)>=0&&await function(a,c){const g=a.Va.Tt(c);return g.targetChanges.forEach((m,d)=>{if(m.resumeToken.approximateByteSize()>0){const v=a.Ia.get(d);v&&a.Ia.set(d,v.withResumeToken(m.resumeToken,c))}}),g.targetMismatches.forEach((m,d)=>{const v=a.Ia.get(m);if(!v)return;a.Ia.set(m,v.withResumeToken(Oi.EMPTY_BYTE_STRING,v.snapshotVersion)),dD(a,m);const w=new Ql(v.target,m,d,v.sequenceNumber);Kb(a,w)}),a.remoteSyncer.applyRemoteEvent(g)}(t,n)}catch(r){Je(sc,"Failed to raise snapshot:",r),await dg(t,r)}}async function dg(t,e,n){if(!Wf(e))throw e;t.Ea.add(1),await $d(t),t.Ra.set("Offline"),n||(n=()=>uD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Je(sc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Tm(t)})}function mD(t,e){return e().catch(n=>dg(t,n,e))}async function Im(t){const e=Rt(t),n=cu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lb;for(;rF(e);)try{const i=await BU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,iF(e,i)}catch(i){await dg(e,i)}pD(e)&&yD(e)}function rF(t){return bc(t)&&t.Ta.length<10}function iF(t,e){t.Ta.push(e);const n=cu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pD(t){return bc(t)&&!cu(t).x_()&&t.Ta.length>0}function yD(t){cu(t).start()}async function aF(t){cu(t).ra()}async function sF(t){const e=cu(t);for(const n of t.Ta)e.ea(n.mutations)}async function oF(t,e,n){const r=t.Ta.shift(),i=zb.from(r,e,n);await mD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Im(t)}async function lF(t,e){e&&cu(t).X_&&await async function(r,i){if(function(c){return HB(c)&&c!==De.ABORTED}(i.code)){const a=r.Ta.shift();cu(r).B_(),await mD(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Im(r)}}(t,e),pD(t)&&yD(t)}async function RT(t,e){const n=Rt(t);n.asyncQueue.verifyOperationInProgress(),Je(sc,"RemoteStore received new credentials");const r=bc(n);n.Ea.add(3),await $d(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tm(n)}async function uF(t,e){const n=Rt(t);e?(n.Ea.delete(2),await Tm(n)):e||(n.Ea.add(2),await $d(n),n.Ra.set("Unknown"))}function Xf(t){return t.ma||(t.ma=function(n,r,i){const a=Rt(n);return a.sa(),new WU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:JU.bind(null,t),t_:eF.bind(null,t),r_:tF.bind(null,t),H_:nF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Zb(t)?Qb(t):t.Ra.set("Unknown")):(await t.ma.stop(),gD(t))})),t.ma}function cu(t){return t.fa||(t.fa=function(n,r,i){const a=Rt(n);return a.sa(),new $U(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aF.bind(null,t),r_:lF.bind(null,t),ta:sF.bind(null,t),na:oF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Im(t)):(await t.fa.stop(),t.Ta.length>0&&(Je(sc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,g=new Jb(e,n,c,i,a);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ew(t,e){if(tl("AsyncQueue",`${e}: ${t}`),Wf(t))return new Ke(De.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{static emptySet(e){return new Ef(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=ad(),this.sortedSet=new yr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ef)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ef;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ga=new yr(dt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nf{constructor(e,n,r,i,a,c,g,m,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach(g=>{c.push({type:0,doc:g})}),new Nf(e,n,Ef.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class fF{constructor(){this.queries=DT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Rt(n),a=i.queries;i.queries=DT(),a.forEach((c,g)=>{for(const m of g.Sa)m.onError(r)})})(this,new Ke(De.ABORTED,"Firestore shutting down"))}}function DT(){return new xc(t=>BN(t),wm)}async function tw(t,e){const n=Rt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new cF,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const g=ew(c,`Initialization of query '${df(e.query)}' failed`);return void e.onError(g)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&rw(n)}async function nw(t,e){const n=Rt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hF(t,e){const n=Rt(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const g of c.Sa)g.Fa(i)&&(r=!0);c.wa=i}}r&&rw(n)}function dF(t,e,n){const r=Rt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function rw(t){t.Ca.forEach(e=>{e.next()})}var E2,MT;(MT=E2||(E2={})).Ma="default",MT.Cache="cache";class iw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.key=e}}class xD{constructor(e){this.key=e}}class gF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=UN(e),this.tu=new Ef(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new NT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,g=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,w)=>{const S=i.get(v),T=Em(this.query,w)?w:null,R=!!S&&this.mutatedKeys.has(S.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;S&&T?S.data.isEqual(T.data)?R!==M&&(r.track({type:3,doc:T}),P=!0):this.su(S,T)||(r.track({type:2,doc:T}),P=!0,(m&&this.eu(T,m)>0||d&&this.eu(T,d)<0)&&(g=!0)):!S&&T?(r.track({type:0,doc:T}),P=!0):S&&!T&&(r.track({type:1,doc:S}),P=!0,(m||d)&&(g=!0)),P&&(T?(c=c.add(T),a=M?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:g,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,w)=>function(T,R){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:P})}};return M(T)-M(R)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),i=i??!1;const g=n&&!i?this._u():[],m=this.Xa.size===0&&this.current&&!i?1:0,d=m!==this.Za;return this.Za=m,c.length!==0||d?{snapshot:new Nf(this.query,e.tu,a,c,e.mutatedKeys,m===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new xD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new vD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Kt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const aw="SyncEngine";class mF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pF{constructor(e){this.key=e,this.hu=!1}}class yF{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new xc(g=>BN(g),wm),this.Iu=new Map,this.Eu=new Set,this.du=new yr(dt.comparator),this.Au=new Map,this.Ru=new Gb,this.Vu={},this.mu=new Map,this.fu=Rf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vF(t,e,n=!0){const r=_D(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await bD(r,e,n,!0),i}async function xF(t,e){const n=_D(t);await bD(n,e,!0,!1)}async function bD(t,e,n,r){const i=await UU(t.localStore,co(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let g;return r&&(g=await bF(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&hD(t.remoteStore,i),g}async function bF(t,e,n,r,i){t.pu=(w,S,T)=>async function(M,P,U,W){let q=P.view.ru(U);q.Cs&&(q=await _T(M.localStore,P.query,!1).then(({documents:k})=>P.view.ru(k,q)));const ee=W&&W.targetChanges.get(P.targetId),$=W&&W.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(q,M.isPrimaryClient,ee,$);return LT(M,P.targetId,ne.au),ne.snapshot}(t,w,S,T);const a=await _T(t.localStore,e,!0),c=new gF(e,a.Qs),g=c.ru(a.documents),m=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=c.applyChanges(g,t.isPrimaryClient,m);LT(t,n,d.au);const v=new mF(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function wF(t,e,n){const r=Rt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(c=>!wm(c,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await b2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xb(r.remoteStore,i.targetId),A2(r,i.targetId)}).catch(Yf)):(A2(r,i.targetId),await b2(r.localStore,i.targetId,!0))}async function EF(t,e){const n=Rt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xb(n.remoteStore,r.targetId))}async function AF(t,e,n){const r=RF(t);try{const i=await function(c,g){const m=Rt(c),d=mn.now(),v=g.reduce((T,R)=>T.add(R.key),Kt());let w,S;return m.persistence.runTransaction("Locally write mutations","readwrite",T=>{let R=nl(),M=Kt();return m.Ns.getEntries(T,v).next(P=>{R=P,R.forEach((U,W)=>{W.isValidDocument()||(M=M.add(U))})}).next(()=>m.localDocuments.getOverlayedDocuments(T,R)).next(P=>{w=P;const U=[];for(const W of g){const q=BB(W,w.get(W.key).overlayedDocument);q!=null&&U.push(new bu(W.key,q,RN(q.value.mapValue),Ss.exists(!0)))}return m.mutationQueue.addMutationBatch(T,d,U,g)}).next(P=>{S=P;const U=P.applyToLocalDocumentSet(w,M);return m.documentOverlayCache.saveOverlays(T,P.batchId,U)})}).then(()=>({batchId:S.batchId,changes:VN(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,g,m){let d=c.Vu[c.currentUser.toKey()];d||(d=new yr(Xt)),d=d.insert(g,m),c.Vu[c.currentUser.toKey()]=d}(r,i.batchId,n),await Xd(r,i.changes),await Im(r.remoteStore)}catch(i){const a=ew(i,"Failed to persist write");n.reject(a)}}async function wD(t,e){const n=Rt(t);try{const r=await kU(n.localStore,e);e.targetChanges.forEach((i,a)=>{const c=n.Au.get(a);c&&(bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?bn(c.hu,14607):i.removedDocuments.size>0&&(bn(c.hu,42227),c.hu=!1))}),await Xd(n,r,e)}catch(r){await Yf(r)}}function PT(t,e,n){const r=Rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,c)=>{const g=c.view.va(e);g.snapshot&&i.push(g.snapshot)}),function(c,g){const m=Rt(c);m.onlineState=g;let d=!1;m.queries.forEach((v,w)=>{for(const S of w.Sa)S.va(g)&&(d=!0)}),d&&rw(m)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SF(t,e,n){const r=Rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let c=new yr(dt.comparator);c=c.insert(a,qi.newNoDocument(a,It.min()));const g=Kt().add(a),m=new _m(It.min(),new Map,new yr(Xt),c,g);await wD(r,m),r.du=r.du.remove(a),r.Au.delete(e),sw(r)}else await b2(r.localStore,e,!1).then(()=>A2(r,e,n)).catch(Yf)}async function _F(t,e){const n=Rt(t),r=e.batch.batchId;try{const i=await LU(n.localStore,e);AD(n,r,null),ED(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xd(n,i)}catch(i){await Yf(i)}}async function CF(t,e,n){const r=Rt(t);try{const i=await function(c,g){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let v;return m.mutationQueue.lookupMutationBatch(d,g).next(w=>(bn(w!==null,37113),v=w.keys(),m.mutationQueue.removeMutationBatch(d,w))).next(()=>m.mutationQueue.performConsistencyCheck(d)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(d,v,g)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v)).next(()=>m.localDocuments.getDocuments(d,v))})}(r.localStore,e);AD(r,e,n),ED(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xd(r,i)}catch(i){await Yf(i)}}function ED(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function AD(t,e,n){const r=Rt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function A2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||SD(t,r)})}function SD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sw(t))}function LT(t,e,n){for(const r of n)r instanceof vD?(t.Ru.addReference(r.key,e),TF(t,r)):r instanceof xD?(Je(aw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SD(t,r.key)):Et(19791,{wu:r})}function TF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Je(aw,"New document in limbo: "+n),t.Eu.add(r),sw(t))}function sw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new dt(Yn.fromString(e)),r=t.fu.next();t.Au.set(r,new pF(n)),t.du=t.du.insert(n,r),hD(t.remoteStore,new Ql(co(bm(n.path)),r,"TargetPurposeLimboResolution",ym.ce))}}async function Xd(t,e,n){const r=Rt(t),i=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach((g,m)=>{c.push(r.pu(m,e,n).then(d=>{if((d||n)&&r.isPrimaryClient){const v=d?!d.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(d){i.push(d);const v=Wb.As(m.targetId,d);a.push(v)}}))}),await Promise.all(c),r.Pu.H_(i),await async function(m,d){const v=Rt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Le.forEach(d,S=>Le.forEach(S.Es,T=>v.persistence.referenceDelegate.addReference(w,S.targetId,T)).next(()=>Le.forEach(S.ds,T=>v.persistence.referenceDelegate.removeReference(w,S.targetId,T)))))}catch(w){if(!Wf(w))throw w;Je($b,"Failed to update sequence numbers: "+w)}for(const w of d){const S=w.targetId;if(!w.fromCache){const T=v.Ms.get(S),R=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(R);v.Ms=v.Ms.insert(S,M)}}}(r.localStore,a))}async function IF(t,e){const n=Rt(t);if(!n.currentUser.isEqual(e)){Je(aw,"User change. New user:",e.toKey());const r=await lD(n.localStore,e);n.currentUser=e,function(a,c){a.mu.forEach(g=>{g.forEach(m=>{m.reject(new Ke(De.CANCELLED,c))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xd(n,r.Ls)}}function OF(t,e){const n=Rt(t),r=n.Au.get(e);if(r&&r.hu)return Kt().add(r.key);{let i=Kt();const a=n.Iu.get(e);if(!a)return i;for(const c of a){const g=n.Tu.get(c);i=i.unionWith(g.view.nu)}return i}}function _D(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SF.bind(null,e),e.Pu.H_=hF.bind(null,e.eventManager),e.Pu.yu=dF.bind(null,e.eventManager),e}function RF(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_F.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CF.bind(null,e),e}class gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PU(this.persistence,new NU,e.initialUser,this.serializer)}Cu(e){return new oD(Yb.mi,this.serializer)}Du(e){return new VU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gg.provider={build:()=>new gg};class NF extends gg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bn(this.persistence.referenceDelegate instanceof hg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ya.withCacheSize(this.cacheSizeBytes):ya.DEFAULT;return new oD(r=>hg.mi(r,n),this.serializer)}}class S2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IF.bind(null,this.syncEngine),await uF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fF}()}createDatastore(e){const n=Cm(e.databaseInfo.databaseId),r=function(a){return new YU(a)}(e.databaseInfo);return function(a,c,g,m){return new KU(a,c,g,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,c,g){return new ZU(r,i,a,c,g)}(this.localStore,this.datastore,e.asyncQueue,n=>PT(this.syncEngine,n,0),function(){return IT.v()?new IT:new zU}())}createSyncEngine(e,n){return function(i,a,c,g,m,d,v){const w=new yF(i,a,c,g,m,d);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Rt(n);Je(sc,"RemoteStore shutting down."),r.Ea.add(5),await $d(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}S2.provider={build:()=>new S2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="FirestoreClient";class DF{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hi.UNAUTHENTICATED,this.clientId=Pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async c=>{Je(fu,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Je(fu,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ew(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ev(t,e){t.asyncQueue.verifyOperationInProgress(),Je(fu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MF(t);Je(fu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RT(e.remoteStore,i)),t._onlineComponents=e}async function MF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je(fu,"Using user provided OfflineComponentProvider");try{await Ev(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===De.FAILED_PRECONDITION||i.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cf("Error using user provided cache. Falling back to memory cache: "+n),await Ev(t,new gg)}}else Je(fu,"Using default OfflineComponentProvider"),await Ev(t,new NF(void 0));return t._offlineComponents}async function CD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je(fu,"Using user provided OnlineComponentProvider"),await kT(t,t._uninitializedComponentsProvider._online)):(Je(fu,"Using default OnlineComponentProvider"),await kT(t,new S2))),t._onlineComponents}function PF(t){return CD(t).then(e=>e.syncEngine)}async function mg(t){const e=await CD(t),n=e.eventManager;return n.onListen=vF.bind(null,e.syncEngine),n.onUnlisten=wF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EF.bind(null,e.syncEngine),n}function LF(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,g,m,d){const v=new ow({next:S=>{v.Nu(),c.enqueueAndForget(()=>nw(a,w));const T=S.docs.has(g);!T&&S.fromCache?d.reject(new Ke(De.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&S.fromCache&&m&&m.source==="server"?d.reject(new Ke(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(S)},error:S=>d.reject(S)}),w=new iw(bm(g.path),v,{includeMetadataChanges:!0,qa:!0});return tw(a,w)}(await mg(t),t.asyncQueue,e,n,r)),r.promise}function kF(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,g,m,d){const v=new ow({next:S=>{v.Nu(),c.enqueueAndForget(()=>nw(a,w)),S.fromCache&&m.source==="server"?d.reject(new Ke(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(S)},error:S=>d.reject(S)}),w=new iw(g,v,{includeMetadataChanges:!0,qa:!0});return tw(a,w)}(await mg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="firestore.googleapis.com",BT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ID,this.ssl=BT}else this.host=e.host,this.ssl=e.ssl??BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gU)throw new Ke(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vj;switch(r.type){case"firstParty":return new Gj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jT.get(n);r&&(Je("ComponentProvider","Removing Datastore"),jT.delete(n),r.terminate())}(this),Promise.resolve()}}function jF(t,e,n,r={}){t=ba(t,Om);const i=gm(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},g=`${e}:${n}`;i&&(ZR(`https://${g}`),eN("Firestore",!0)),a.host!==ID&&a.host!==g&&Cf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:g,ssl:i,emulatorOptions:r};if(!ig(m,c)&&(t._setSettings(m),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=Hi.MOCK_USER;else{d=JR(r.mockUserToken,t._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ke(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Hi(w)}t._authCredentials=new zj(new vN(d,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wu(this.firestore,e,this._query)}}class Tr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}toJSON(){return{type:Tr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,Tr._jsonSchema))return new Tr(e,r||null,new dt(Yn.fromString(n.referencePath)))}}Tr._jsonSchemaVersion="firestore/documentReference/1.0",Tr._jsonSchema={type:qr("string",Tr._jsonSchemaVersion),referencePath:qr("string")};class ru extends wu{constructor(e,n,r){super(e,n,bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new dt(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function bt(t,e,...n){if(t=Hs(t),xN("collection","path",e),t instanceof Om){const r=Yn.fromString(e,...n);return ZC(r),new ru(t,null,r)}{if(!(t instanceof Tr||t instanceof ru))throw new Ke(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yn.fromString(e,...n));return ZC(r),new ru(t.firestore,null,r)}}function wt(t,e,...n){if(t=Hs(t),arguments.length===1&&(e=Pb.newId()),xN("doc","path",e),t instanceof Om){const r=Yn.fromString(e,...n);return QC(r),new Tr(t,null,new dt(r))}{if(!(t instanceof Tr||t instanceof ru))throw new Ke(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yn.fromString(e,...n));return QC(r),new Tr(t.firestore,t instanceof ru?t.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cD(this,"async_queue_retry"),this._c=()=>{const r=wv();r&&Je(FT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ko;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wf(e))throw e;Je(FT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,tl("INTERNAL UNHANDLED ERROR: ",zT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Jb.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Et(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class rl extends Om{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new VT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function lw(t,e){const n=typeof t=="object"?t:lN(),r=typeof t=="string"?t:og,i=aN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=KR("firestore");a&&jF(i,...a)}return i}function Rm(t){if(t._terminated)throw new Ke(De.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BF(t),t._firestoreClient}function BF(t){const e=t._freezeSettings(),n=function(i,a,c,g){return new lB(i,a,c,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,TD(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Oi.fromBase64String(e))}catch(n){throw new Ke(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Es(Oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,Es._jsonSchema))return Es.fromBase64String(e.bytes)}}Es._jsonSchemaVersion="firestore/bytes/1.0",Es._jsonSchema={type:qr("string",Es._jsonSchemaVersion),bytes:qr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ho._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,ho._jsonSchema))return new ho(e.latitude,e.longitude)}}ho._jsonSchemaVersion="firestore/geoPoint/1.0",ho._jsonSchema={type:qr("string",ho._jsonSchemaVersion),latitude:qr("number"),longitude:qr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,go._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new go(e.vectorValues);throw new Ke(De.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}go._jsonSchemaVersion="firestore/vectorValue/1.0",go._jsonSchema={type:qr("string",go._jsonSchemaVersion),vectorValues:qr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^__.*__$/;class FF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yd(e,this.data,n,this.fieldTransforms)}}class OD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:t})}}class uw{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RD(this.Ac)&&UF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cm(e)}Cc(e,n,r,i=!1){return new uw({Ac:e,methodName:n,Dc:r,path:Ii.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mm(t){const e=t._freezeSettings(),n=Cm(t._databaseId);return new VF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ND(t,e,n,r,i,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);fw("Data must be an object, but it was:",c,r);const g=DD(r,c);let m,d;if(a.merge)m=new Xa(c.fieldMask),d=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const S=_2(e,w,n);if(!c.contains(S))throw new Ke(De.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);PD(v,S)||v.push(S)}m=new Xa(v),d=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,d=c.fieldTransforms;return new FF(new va(g),m,d)}class Pm extends Dm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pm}}class cw extends Dm{_toFieldTransform(e){return new PB(e.path,new Td)}isEqual(e){return e instanceof cw}}function zF(t,e,n,r){const i=t.Cc(1,e,n);fw("Data must be an object, but it was:",i,r);const a=[],c=va.empty();xu(r,(m,d)=>{const v=hw(e,m,n);d=Hs(d);const w=i.yc(v);if(d instanceof Pm)a.push(v);else{const S=Kd(d,w);S!=null&&(a.push(v),c.set(v,S))}});const g=new Xa(a);return new OD(c,g,i.fieldTransforms)}function HF(t,e,n,r,i,a){const c=t.Cc(1,e,n),g=[_2(e,r,n)],m=[i];if(a.length%2!=0)throw new Ke(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)g.push(_2(e,a[S])),m.push(a[S+1]);const d=[],v=va.empty();for(let S=g.length-1;S>=0;--S)if(!PD(d,g[S])){const T=g[S];let R=m[S];R=Hs(R);const M=c.yc(T);if(R instanceof Pm)d.push(T);else{const P=Kd(R,M);P!=null&&(d.push(T),v.set(T,P))}}const w=new Xa(d);return new OD(v,w,c.fieldTransforms)}function qF(t,e,n,r=!1){return Kd(n,t.Cc(r?4:3,e))}function Kd(t,e){if(MD(t=Hs(t)))return fw("Unsupported field value:",e,t),DD(t,e);if(t instanceof Dm)return function(r,i){if(!RD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let c=0;for(const g of r){let m=Kd(g,i.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),c++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Hs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=mn.fromDate(r);return{timestampValue:fg(i.serializer,a)}}if(r instanceof mn){const a=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fg(i.serializer,a)}}if(r instanceof ho)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Es)return{bytesValue:JN(i.serializer,r._byteString)};if(r instanceof Tr){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof go)return function(c,g){return{mapValue:{fields:{[IN]:{stringValue:ON},[lg]:{arrayValue:{values:c.toArray().map(d=>{if(typeof d!="number")throw g.Sc("VectorValues must only contain numeric values.");return Fb(g.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${pm(r)}`)}(t,e)}function DD(t,e){const n={};return EN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xu(t,(r,i)=>{const a=Kd(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function MD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof ho||t instanceof Es||t instanceof Tr||t instanceof Dm||t instanceof go)}function fw(t,e,n){if(!MD(n)||!bN(n)){const r=pm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function _2(t,e,n){if((e=Hs(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return hw(t,e);throw pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const GF=new RegExp("[~\\*/\\[\\]]");function hw(t,e,n){if(e.search(GF)>=0)throw pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nm(...e.split("."))._internalPath}catch{throw pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pg(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new Ke(De.INVALID_ARGUMENT,g+t+m)}function PD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YF extends LD{data(){return super.data()}}function Lm(t,e){return typeof e=="string"?hw(t,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dw{}class jD extends dw{}function kr(t,e,...n){let r=[];e instanceof dw&&r.push(e),r=r.concat(n),function(a){const c=a.filter(m=>m instanceof gw).length,g=a.filter(m=>m instanceof km).length;if(c>1||c>0&&g>0)throw new Ke(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class km extends jD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new km(e,n,r)}_apply(e){const n=this._parse(e);return BD(e._query,n),new wu(e.firestore,e.converter,g2(e._query,n))}_parse(e){const n=Mm(e.firestore);return function(a,c,g,m,d,v,w){let S;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ke(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){GT(w,v);const R=[];for(const M of w)R.push(qT(m,a,M));S={arrayValue:{values:R}}}else S=qT(m,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||GT(w,v),S=qF(g,c,w,v==="in"||v==="not-in");return Hr.create(d,v,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hi(t,e,n){const r=e,i=Lm("where",t);return km._create(i,r,n)}class gw extends dw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let c=i;const g=a.getFlattenedFilters();for(const m of g)BD(c,m),c=g2(c,m)}(e._query,n),new wu(e.firestore,e.converter,g2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mw extends jD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mw(e,n)}_apply(e){const n=function(i,a,c){if(i.startAt!==null)throw new Ke(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cd(a,c)}(e._query,this._field,this._direction);return new wu(e.firestore,e.converter,function(i,a){const c=i.explicitOrderBy.concat([a]);return new $f(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pw(t,e="asc"){const n=e,r=Lm("orderBy",t);return mw._create(r,n)}function qT(t,e,n){if(typeof(n=Hs(n))=="string"){if(n==="")throw new Ke(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jN(e)&&n.indexOf("/")!==-1)throw new Ke(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Yn.fromString(n));if(!dt.isDocumentKey(r))throw new Ke(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sT(t,new dt(r))}if(n instanceof Tr)return sT(t,n._key);throw new Ke(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(n)}.`)}function GT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BD(t,e){const n=function(i,a){for(const c of i)for(const g of c.getFlattenedFilters())if(a.indexOf(g.op)>=0)return g.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WF{convertValue(e,n="none"){switch(uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xu(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[lg].arrayValue?.values?.map(r=>Lr(r.doubleValue));return new go(n)}convertGeoPoint(e){return new ho(Lr(e.latitude),Lr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ad(e));default:return null}}convertTimestamp(e){const n=ou(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Yn.fromString(e);bn(aD(r),9688,{name:e});const i=new Sd(r.get(1),r.get(3)),a=new dt(r.popFirst(5));return i.isEqual(n)||tl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends LD{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new K1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(De.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ju._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ju._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ju._jsonSchema={type:qr("string",Ju._jsonSchemaVersion),bundleSource:qr("string","DocumentSnapshot"),bundleName:qr("string"),bundle:qr("string")};class K1 extends Ju{data(e={}){return super.data(e)}}class ec{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new K1(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(g=>{const m=new K1(i._firestore,i._userDataWriter,g.doc.key,g.doc,new od(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(g=>a||g.type!==3).map(g=>{const m=new K1(i._firestore,i._userDataWriter,g.doc.key,g.doc,new od(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,v=-1;return g.type!==0&&(d=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),g.type!==1&&(c=c.add(g.doc),v=c.indexOf(g.doc.key)),{type:$F(g.type),doc:m,oldIndex:d,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(De.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ec._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $F(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){t=ba(t,Tr);const e=ba(t.firestore,rl);return LF(Rm(e),t._key).then(n=>FD(e,t,n))}ec._jsonSchemaVersion="firestore/querySnapshot/1.0",ec._jsonSchema={type:qr("string",ec._jsonSchemaVersion),bundleSource:qr("string","QuerySnapshot"),bundleName:qr("string"),bundle:qr("string")};class yw extends WF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,n)}}function xn(t){t=ba(t,wu);const e=ba(t.firestore,rl),n=Rm(e),r=new yw(e);return kD(t._query),kF(n,t._query).then(i=>new ec(e,r,t,i))}function XF(t,e,n){t=ba(t,Tr);const r=ba(t.firestore,rl),i=UD(t.converter,e);return jm(r,[ND(Mm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ss.none())])}function $t(t,e,n,...r){t=ba(t,Tr);const i=ba(t.firestore,rl),a=Mm(i);let c;return c=typeof(e=Hs(e))=="string"||e instanceof Nm?HF(a,"updateDoc",t._key,e,n,r):zF(a,"updateDoc",t._key,e),jm(i,[c.toMutation(t._key,Ss.exists(!0))])}function wc(t){return jm(ba(t.firestore,rl),[new Vb(t._key,Ss.none())])}function Zi(t,e){const n=ba(t.firestore,rl),r=wt(t),i=UD(t.converter,e);return jm(n,[ND(Mm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ss.exists(!1))]).then(()=>r)}function Df(t,...e){t=Hs(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||HT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(HT(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let a,c,g;if(t instanceof Tr)c=ba(t.firestore,rl),g=bm(t._key.path),a={next:m=>{e[r]&&e[r](FD(c,t,m))},error:e[r+1],complete:e[r+2]};else{const m=ba(t,wu);c=ba(m.firestore,rl),g=m._query;const d=new yw(c);a={next:v=>{e[r]&&e[r](new ec(c,d,m,v))},error:e[r+1],complete:e[r+2]},kD(t._query)}return function(d,v,w,S){const T=new ow(S),R=new iw(v,T,w);return d.asyncQueue.enqueueAndForget(async()=>tw(await mg(d),R)),()=>{T.Nu(),d.asyncQueue.enqueueAndForget(async()=>nw(await mg(d),R))}}(Rm(c),g,i,a)}function jm(t,e){return function(r,i){const a=new Ko;return r.asyncQueue.enqueueAndForget(async()=>AF(await PF(r),i,a)),a.promise}(Rm(t),e)}function FD(t,e,n){const r=n.docs.get(e._key),i=new yw(t);return new Ju(t,i,e._key,r,new od(n.hasPendingWrites,n.fromCache),e.converter)}function Fn(){return new cw("serverTimestamp")}(function(e,n=!0){(function(i){Gf=i})(oN),bd(new _f("firestore",(r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),g=new rl(new Hj(r.getProvider("auth-internal")),new Yj(c,r.getProvider("app-check-internal")),function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ke(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(d.options.projectId,v)}(c,i),c);return a={useFetchStreams:n,...a},g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),tu(WC,$C,e),tu(WC,$C,"esm2020")})();const KF={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},QF=mm(KF),VD=lw(QF),ZF=async()=>{const t=wt(VD,"AdminUser","Admin"),e=await Ka(t);return e.exists()?e.data().PIN:(console.log("No such document!"),null)},JF=async()=>{const t=wt(VD,"AdminUser","Staff"),e=await Ka(t);return e.exists()?e.data().PIN:(console.log("No such document!"),null)};function eV(){const[t,e]=N.useState(!1),[n,r]=N.useState(""),[i,a]=N.useState(""),[c,g]=N.useState(""),[m,d]=N.useState(""),v=hm();N.useEffect(()=>{(async()=>{const T=await ZF(),R=await JF();g(T),d(R)})()},[]);const w=()=>{if(!n.trim()){a("❌ Please enter your PIN.");return}n===c?(e(!0),v("/Dashboard",{replace:!0}),a("")):n===m?(e(!0),v("/take-order",{replace:!0}),a("")):a("❌ Incorrect password. Please try again.")};return I.jsx("div",{className:"owner-container",children:t?I.jsxs("div",{className:"owner-welcome",children:[I.jsx("h1",{className:"welcome-title",children:"👋 Welcome, Owner!"}),I.jsx(xd,{to:"/Intro",className:"back-link",children:"← Back to Intro"})]}):I.jsxs("div",{className:"login-card",children:[I.jsx("h2",{className:"login-title",children:"🔐Please enter pin"}),I.jsx("input",{type:"password",placeholder:"Enter PIN",value:n,onChange:S=>r(S.target.value),className:"login-input"}),I.jsx("button",{onClick:w,className:"login-button",children:"Login"}),i&&I.jsx("p",{className:"error-message",children:i}),I.jsx(xd,{to:"/Intro",className:"back-link",children:"← Back"})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="firebasestorage.googleapis.com",tV="storageBucket",nV=120*1e3,rV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends vc{constructor(e,n,r=0){super(Av(e),`Firebase Storage: ${n} (${Av(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Eo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Av(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yo||(yo={}));function Av(t){return"storage/"+t}function iV(){const t="An unknown error occurred, please check the error payload for server response.";return new Eo(yo.UNKNOWN,t)}function aV(){return new Eo(yo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sV(){return new Eo(yo.CANCELED,"User canceled the upload/download.")}function oV(t){return new Eo(yo.INVALID_URL,"Invalid URL '"+t+"'.")}function lV(t){return new Eo(yo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YT(t){return new Eo(yo.INVALID_ARGUMENT,t)}function HD(){return new Eo(yo.APP_DELETED,"The Firebase app was deleted.")}function uV(t){return new Eo(yo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zs.makeFromUrl(e,n)}catch{return new zs(e,"")}if(r.path==="")return r;throw lV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const c="(/(.*))?$",g=new RegExp("^gs://"+i+c,"i"),m={bucket:1,path:3};function d(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",T=new RegExp(`^https?://${w}/${v}/b/${i}/o${S}`,"i"),R={bucket:1,path:3},M=n===zD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",U=new RegExp(`^https?://${M}/${i}/${P}`,"i"),q=[{regex:g,indices:m,postModify:a},{regex:T,indices:R,postModify:d},{regex:U,indices:{bucket:1,path:2},postModify:d}];for(let ee=0;ee<q.length;ee++){const $=q[ee],ne=$.regex.exec(e);if(ne){const k=ne[$.indices.bucket];let V=ne[$.indices.path];V||(V=""),r=new zs(k,V),$.postModify(r);break}}if(r==null)throw oV(e);return r}}class cV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t,e,n){let r=1,i=null,a=null,c=!1,g=0;function m(){return g===2}let d=!1;function v(...P){d||(d=!0,e.apply(null,P))}function w(P){i=setTimeout(()=>{i=null,t(T,m())},P)}function S(){a&&clearTimeout(a)}function T(P,...U){if(d){S();return}if(P){S(),v.call(null,P,...U);return}if(m()||c){S(),v.call(null,P,...U);return}r<64&&(r*=2);let q;g===1?(g=2,q=0):q=(r+Math.random())*1e3,w(q)}let R=!1;function M(P){R||(R=!0,S(),!d&&(i!==null?(P||(g=2),clearTimeout(i),w(0)):P||(g=1)))}return w(0),a=setTimeout(()=>{c=!0,M(!0)},n),M}function hV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){return t!==void 0}function WT(t,e,n,r){if(r<e)throw YT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YT(`Invalid value for '${t}'. Expected ${n} or less.`)}function gV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var yg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yg||(yg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,i,a,c,g,m,d,v,w,S=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=m,this.timeout_=d,this.progressCallback_=v,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,M)=>{this.resolve_=R,this.reject_=M,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=g=>{const m=g.loaded,d=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,d)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const g=a.getErrorCode()===yg.NO_ERROR,m=a.getStatus();if(!g||mV(m,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===yg.ABORT;r(!1,new _1(!1,null,v));return}const d=this.successCodes_.indexOf(m)!==-1;r(!0,new _1(d,a))})},n=(r,i)=>{const a=this.resolve_,c=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());dV(m)?a(m):a()}catch(m){c(m)}else if(g!==null){const m=iV();m.serverResponse=g.getErrorText(),this.errorCallback_?c(this.errorCallback_(g,m)):c(m)}else if(i.canceled){const m=this.appDelete_?HD():sV();c(m)}else{const m=aV();c(m)}};this.canceled_?n(!1,new _1(!1,null,!0)):this.backoffId_=fV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wV(t,e,n,r,i,a,c=!0,g=!1){const m=gV(t.urlParams),d=t.url+m,v=Object.assign({},t.headers);return xV(v,e),yV(v,n),vV(v,a),bV(v,r),new pV(d,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this._service=e,n instanceof zs?this._location=n:this._location=zs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vg(e,n)}get root(){const e=new zs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AV(this._location.path)}get storage(){return this._service}get parent(){const e=EV(this._location.path);if(e===null)return null;const n=new zs(this._location.bucket,e);return new vg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uV(e)}}function $T(t,e){const n=e?.[tV];return n==null?null:zs.makeFromBucketSpec(n,t)}function SV(t,e,n,r={}){t.host=`${e}:${n}`;const i=gm(e);i&&(ZR(`https://${t.host}/b`),eN("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:JR(a,t.app.options.projectId))}class _V{constructor(e,n,r,i,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=zD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nV,this._maxUploadRetryTime=rV,this._requests=new Set,i!=null?this._bucket=zs.makeFromBucketSpec(i,this._host):this._bucket=$T(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zs.makeFromBucketSpec(this._url,e):this._bucket=$T(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sN(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vg(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new cV(HD());{const c=wV(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const XT="@firebase/storage",KT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="storage";function CV(t=lN(),e){t=Hs(t);const r=aN(t,qD).getImmediate({identifier:e}),i=KR("storage");return i&&TV(r,...i),r}function TV(t,e,n,r={}){SV(t,e,n,r)}function IV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _V(n,r,i,e,oN)}function OV(){bd(new _f(qD,IV,"PUBLIC").setMultipleInstances(!0)),tu(XT,KT,""),tu(XT,KT,"esm2020")}OV();const RV={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},GD=mm(RV),We=lw(GD);CV(GD);const QT=(t,e)=>{const n=new Date,r=new Date(n.toDateString()),i=new Date(t.toDateString());if(e==="today")return i.getTime()===r.getTime();if(e==="week"){const a=new Date(r);return a.setDate(r.getDate()-r.getDay()),i>=a&&i<=n}else if(e==="month")return i.getMonth()===r.getMonth()&&i.getFullYear()===r.getFullYear();return!1},NV=async t=>{const e=bt(We,"transactions"),n=await xn(e);let r=0,i=0;const a={},c={},g={},m={Requested:0,Approved:0,Rejected:0,Total:0},d=[];n.forEach(T=>{const R=T.data(),M=R.date?.toDate?.()||new Date(R.date||Date.now()),P=R.status||"pending",U=R.type||"",W=R.paymentMethod||"Unknown",q=R.items||[],ee=Number(R.amount)||0;if(U==="wallet-topup"&&QT(M,t)&&(d.push({id:T.id,amount:ee,status:P,paymentMethod:W,date:M.toLocaleDateString(),customerName:R.customerName||"N/A"}),m[P]!==void 0&&(m[P]+=1),m.Total+=1),P==="Completed"&&QT(M,t)){const $=M.toISOString().split("T")[0];U!=="wallet-topup"&&(r+=ee),(U==="wallet-topup"||W==="Wallet Top-up")&&(i+=ee),Array.isArray(q)&&q.forEach(ne=>{const k=ne.category||"Uncategorized";a[k]=(a[k]||0)+1}),c[$]||(c[$]={}),c[$][W]=(c[$][W]||0)+ee,U!=="wallet-topup"&&(g[W]=(g[W]||0)+ee)}});const v=Object.entries(a).sort((T,R)=>R[1]-T[1]).slice(0,6).map(([T,R])=>({name:T,count:R})),w=Object.entries(c).map(([T,R])=>({date:T,...R})),S=Object.entries(g).map(([T,R])=>({name:T,value:R}));return{totalSales:r,walletTopups:i,topCategories:v,dailyPaymentData:w,paymentBreakdown:S,topupRequests:m,topupWalletRecords:d}};var et;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var ZT=new Map([[et.QR_CODE,"QR_CODE"],[et.AZTEC,"AZTEC"],[et.CODABAR,"CODABAR"],[et.CODE_39,"CODE_39"],[et.CODE_93,"CODE_93"],[et.CODE_128,"CODE_128"],[et.DATA_MATRIX,"DATA_MATRIX"],[et.MAXICODE,"MAXICODE"],[et.ITF,"ITF"],[et.EAN_13,"EAN_13"],[et.EAN_8,"EAN_8"],[et.PDF_417,"PDF_417"],[et.RSS_14,"RSS_14"],[et.RSS_EXPANDED,"RSS_EXPANDED"],[et.UPC_A,"UPC_A"],[et.UPC_E,"UPC_E"],[et.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),JT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(JT||(JT={}));function DV(t){return Object.values(et).includes(t)}var hu;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(hu||(hu={}));var Us=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[hu.SCAN_TYPE_CAMERA,hu.SCAN_TYPE_FILE],t}(),YD=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!ZT.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,ZT.get(e))},t}(),eI=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),C2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(C2||(C2={}));var WD=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:C2.UNKWOWN_ERROR}},t}(),$D=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function oo(t){return typeof t>"u"||t===null}function MV(t,e,n){return t>n?n:t<e?e:t}var xf=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Cn=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),tI=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),XD=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),c=Object.keys(e),g=0,m=c;g<m.length;g++){var d=m[g];if(a.has(d))return n.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},t}(),ld={exports:{}},PV=ld.exports,nI;function LV(){return nI||(nI=1,function(t,e){(function(n,r){r(e)})(PV,function(n){function r(G){return G==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,o){G.__proto__=o}||function(G,o){for(var u in o)o.hasOwnProperty(u)&&(G[u]=o[u])};function a(G,o){i(G,o);function u(){this.constructor=G}G.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function c(G,o){var u=Object.setPrototypeOf;u?u(G,o):G.__proto__=o}function g(G,o){o===void 0&&(o=G.constructor);var u=Error.captureStackTrace;u&&u(G,o)}var m=function(G){a(o,G);function o(u){var f=this.constructor,p=G.call(this,u)||this;return Object.defineProperty(p,"name",{value:f.name,enumerable:!1}),c(p,f.prototype),g(p),p}return o}(Error);class d extends m{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}d.kind="Exception";class v extends d{}v.kind="ArgumentException";class w extends d{}w.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,f,p){const y=this.binarizer.getLuminanceSource().crop(o,u,f,p);return new S(this.binarizer.createBinarizer(y))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends d{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class R{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(o,u,f,p,y){for(;y--;)f[p++]=o[u++]}static currentTimeMillis(){return Date.now()}}class P extends d{}P.kind="IndexOutOfBoundsException";class U extends P{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}U.kind="ArrayIndexOutOfBoundsException";class W{static fill(o,u){for(let f=0,p=o.length;f<p;f++)o[f]=u}static fillWithin(o,u,f,p){W.rangeCheck(o.length,u,f);for(let y=u;y<f;y++)o[y]=p}static rangeCheck(o,u,f){if(u>f)throw new w("fromIndex("+u+") > toIndex("+f+")");if(u<0)throw new U(u);if(f>o)throw new U(f)}static asList(...o){return o}static create(o,u,f){return Array.from({length:o}).map(y=>Array.from({length:u}).fill(f))}static createInt32Array(o,u,f){return Array.from({length:o}).map(y=>Int32Array.from({length:u}).fill(f))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let f=0,p=o.length;f<p;f++)if(o[f]!==u[f])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const f of o)u=31*u+f;return u}static fillUint8Array(o,u){for(let f=0;f!==o.length;f++)o[f]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const f=new Uint8Array(u);return f.set(o),f}return o.slice(0,u)}static copyOfRange(o,u,f){const p=f-u,y=new Int32Array(p);return M.arraycopy(o,u,y,0,p),y}static binarySearch(o,u,f){f===void 0&&(f=W.numberComparator);let p=0,y=o.length-1;for(;p<=y;){const b=y+p>>1,E=f(u,o[b]);if(E>0)p=b+1;else if(E<0)y=b-1;else return b}return-p-1}static numberComparator(o,u){return o-u}}class q{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let f=31;return u=o<<16,u!==0&&(f-=16,o=u),u=o<<8,u!==0&&(f-=8,o=u),u=o<<4,u!==0&&(f-=4,o=u),u=o<<2,u!==0&&(f-=2,o=u),f-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}q.MIN_VALUE_32_BITS=-2147483648,q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=ee.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=ee.makeArray(o);M.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const f=this.bits;let p=Math.floor(o/32),y=f[p];y&=~((1<<(o&31))-1);const b=f.length;for(;y===0;){if(++p===b)return u;y=f[p]}const E=p*32+q.numberOfTrailingZeros(y);return E>u?u:E}getNextUnset(o){const u=this.size;if(o>=u)return u;const f=this.bits;let p=Math.floor(o/32),y=~f[p];y&=~((1<<(o&31))-1);const b=f.length;for(;y===0;){if(++p===b)return u;y=~f[p]}const E=p*32+q.numberOfTrailingZeros(y);return E>u?u:E}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new w;if(u===o)return;u--;const f=Math.floor(o/32),p=Math.floor(u/32),y=this.bits;for(let b=f;b<=p;b++){const E=b>f?0:o&31,D=(2<<(b<p?31:u&31))-(1<<E);y[b]|=D}}clear(){const o=this.bits.length,u=this.bits;for(let f=0;f<o;f++)u[f]=0}isRange(o,u,f){if(u<o||o<0||u>this.size)throw new w;if(u===o)return!0;u--;const p=Math.floor(o/32),y=Math.floor(u/32),b=this.bits;for(let E=p;E<=y;E++){const C=E>p?0:o&31,B=(2<<(E<y?31:u&31))-(1<<C)&4294967295;if((b[E]&B)!==(f?B:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let f=u;f>0;f--)this.appendBit((o>>f-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let f=0;f<u;f++)this.appendBit(o.get(f))}xor(o){if(this.size!==o.size)throw new w("Sizes don't match");const u=this.bits;for(let f=0,p=u.length;f<p;f++)u[f]^=o.bits[f]}toBytes(o,u,f,p){for(let y=0;y<p;y++){let b=0;for(let E=0;E<8;E++)this.get(o)&&(b|=1<<7-E),o++;u[f+y]=b}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),f=u+1,p=this.bits;for(let y=0;y<f;y++){let b=p[y];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,o[u-y]=b}if(this.size!==f*32){const y=f*32-this.size;let b=o[0]>>>y;for(let E=1;E<f;E++){const C=o[E];b|=C<<32-y,o[E-1]=b,b=C>>>y}o[f-1]=b}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof ee))return!1;const u=o;return this.size===u.size&&W.equals(this.bits,u.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let o="";for(let u=0,f=this.size;u<f;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new ee(this.size,this.bits.slice())}}var $;(function(G){G[G.OTHER=0]="OTHER",G[G.PURE_BARCODE=1]="PURE_BARCODE",G[G.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",G[G.TRY_HARDER=3]="TRY_HARDER",G[G.CHARACTER_SET=4]="CHARACTER_SET",G[G.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",G[G.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",G[G.ASSUME_GS1=7]="ASSUME_GS1",G[G.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",G[G.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",G[G.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var ne=$;class k extends d{static getFormatInstance(){return new k}}k.kind="FormatException";var V;(function(G){G[G.Cp437=0]="Cp437",G[G.ISO8859_1=1]="ISO8859_1",G[G.ISO8859_2=2]="ISO8859_2",G[G.ISO8859_3=3]="ISO8859_3",G[G.ISO8859_4=4]="ISO8859_4",G[G.ISO8859_5=5]="ISO8859_5",G[G.ISO8859_6=6]="ISO8859_6",G[G.ISO8859_7=7]="ISO8859_7",G[G.ISO8859_8=8]="ISO8859_8",G[G.ISO8859_9=9]="ISO8859_9",G[G.ISO8859_10=10]="ISO8859_10",G[G.ISO8859_11=11]="ISO8859_11",G[G.ISO8859_13=12]="ISO8859_13",G[G.ISO8859_14=13]="ISO8859_14",G[G.ISO8859_15=14]="ISO8859_15",G[G.ISO8859_16=15]="ISO8859_16",G[G.SJIS=16]="SJIS",G[G.Cp1250=17]="Cp1250",G[G.Cp1251=18]="Cp1251",G[G.Cp1252=19]="Cp1252",G[G.Cp1256=20]="Cp1256",G[G.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",G[G.UTF8=22]="UTF8",G[G.ASCII=23]="ASCII",G[G.Big5=24]="Big5",G[G.GB18030=25]="GB18030",G[G.EUC_KR=26]="EUC_KR"})(V||(V={}));class j{constructor(o,u,f,...p){this.valueIdentifier=o,this.name=f,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=p,j.VALUE_IDENTIFIER_TO_ECI.set(o,this),j.NAME_TO_ECI.set(f,this);const y=this.values;for(let b=0,E=y.length;b!==E;b++){const C=y[b];j.VALUES_TO_ECI.set(C,this)}for(const b of p)j.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new k("incorect value");const u=j.VALUES_TO_ECI.get(o);if(u===void 0)throw new k("incorect value");return u}static getCharacterSetECIByName(o){const u=j.NAME_TO_ECI.get(o);if(u===void 0)throw new k("incorect value");return u}equals(o){if(!(o instanceof j))return!1;const u=o;return this.getName()===u.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(V.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(V.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(V.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(V.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(V.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(V.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(V.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(V.Big5,28,"Big5"),j.GB18030=new j(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(V.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends d{}Q.kind="UnsupportedOperationException";class Z{static decode(o,u){const f=this.encodingName(u);return this.customDecoder?this.customDecoder(o,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(o,f):new TextDecoder(f).decode(o)}static shouldDecodeOnFallback(o){return!Z.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const f=this.encodingName(u);return this.customEncoder?this.customEncoder(o,f):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof j?o:j.getCharacterSetECIByName(o)}static decodeFallback(o,u){const f=this.encodingCharacterSet(u);if(Z.isDecodeFallbackSupported(f)){let p="";for(let y=0,b=o.length;y<b;y++){let E=o[y].toString(16);E.length<2&&(E="0"+E),p+="%"+E}return decodeURIComponent(p)}if(f.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Q(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(j.UTF8)||o.equals(j.ISO8859_1)||o.equals(j.ASCII)}static encodeFallback(o){const f=btoa(unescape(encodeURIComponent(o))).split(""),p=[];for(let y=0;y<f.length;y++)p.push(f[y].charCodeAt(0));return new Uint8Array(p)}}class X{static castAsNonUtf8Char(o,u=null){const f=u?u.getName():this.ISO88591;return Z.decode(new Uint8Array([o]),f)}static guessEncoding(o,u){if(u!=null&&u.get(ne.CHARACTER_SET)!==void 0)return u.get(ne.CHARACTER_SET).toString();const f=o.length;let p=!0,y=!0,b=!0,E=0,C=0,D=0,B=0,Y=0,K=0,ie=0,ce=0,fe=0,ye=0,Ae=0;const Ve=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ze=0;ze<f&&(p||y||b);ze++){const Ue=o[ze]&255;b&&(E>0?(Ue&128)===0?b=!1:E--:(Ue&128)!==0&&((Ue&64)===0?b=!1:(E++,(Ue&32)===0?C++:(E++,(Ue&16)===0?D++:(E++,(Ue&8)===0?B++:b=!1))))),p&&(Ue>127&&Ue<160?p=!1:Ue>159&&(Ue<192||Ue===215||Ue===247)&&Ae++),y&&(Y>0?Ue<64||Ue===127||Ue>252?y=!1:Y--:Ue===128||Ue===160||Ue>239?y=!1:Ue>160&&Ue<224?(K++,ce=0,ie++,ie>fe&&(fe=ie)):Ue>127?(Y++,ie=0,ce++,ce>ye&&(ye=ce)):(ie=0,ce=0))}return b&&E>0&&(b=!1),y&&Y>0&&(y=!1),b&&(Ve||C+D+B>0)?X.UTF8:y&&(X.ASSUME_SHIFT_JIS||fe>=3||ye>=3)?X.SHIFT_JIS:p&&y?fe===2&&K===2||Ae*10>=f?X.SHIFT_JIS:X.ISO88591:p?X.ISO88591:y?X.SHIFT_JIS:b?X.UTF8:X.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let f=-1;function p(b,E,C,D,B,Y){if(b==="%%")return"%";if(u[++f]===void 0)return;b=D?parseInt(D.substr(1)):void 0;let K=B?parseInt(B.substr(1)):void 0,ie;switch(Y){case"s":ie=u[f];break;case"c":ie=u[f][0];break;case"f":ie=parseFloat(u[f]).toFixed(b);break;case"p":ie=parseFloat(u[f]).toPrecision(b);break;case"e":ie=parseFloat(u[f]).toExponential(b);break;case"x":ie=parseInt(u[f]).toString(K||16);break;case"d":ie=parseFloat(parseInt(u[f],K||10).toPrecision(b)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(K);let ce=parseInt(C),fe=C&&C[0]+""=="0"?"0":" ";for(;ie.length<ce;)ie=E!==void 0?ie+fe:fe+ie;return ie}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,p)}static getBytes(o,u){return Z.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}X.SHIFT_JIS=j.SJIS.getName(),X.GB2312="GB2312",X.ISO88591=j.ISO8859_1.getName(),X.EUC_JP="EUC_JP",X.UTF8=j.UTF8.getName(),X.PLATFORM_DEFAULT_ENCODING=X.UTF8,X.ASSUME_SHIFT_JIS=!1;class z{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=X.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,f){for(let p=u;u<u+f;p++)this.append(o[p]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class ge{constructor(o,u,f,p){if(this.width=o,this.height=u,this.rowSize=f,this.bits=p,u==null&&(u=o),this.height=u,o<1||u<1)throw new w("Both dimensions must be greater than 0");f==null&&(f=Math.floor((o+31)/32)),this.rowSize=f,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,f=o[0].length,p=new ge(f,u);for(let y=0;y<u;y++){const b=o[y];for(let E=0;E<f;E++)b[E]&&p.set(E,y)}return p}static parseFromString(o,u,f){if(o===null)throw new w("stringRepresentation cannot be null");const p=new Array(o.length);let y=0,b=0,E=-1,C=0,D=0;for(;D<o.length;)if(o.charAt(D)===`
`||o.charAt(D)==="\r"){if(y>b){if(E===-1)E=y-b;else if(y-b!==E)throw new w("row lengths do not match");b=y,C++}D++}else if(o.substring(D,D+u.length)===u)D+=u.length,p[y]=!0,y++;else if(o.substring(D,D+f.length)===f)D+=f.length,p[y]=!1,y++;else throw new w("illegal character encountered: "+o.substring(D));if(y>b){if(E===-1)E=y-b;else if(y-b!==E)throw new w("row lengths do not match");C++}const B=new ge(E,C);for(let Y=0;Y<y;Y++)p[Y]&&B.set(Math.floor(Y%E),Math.floor(Y/E));return B}get(o,u){const f=u*this.rowSize+Math.floor(o/32);return(this.bits[f]>>>(o&31)&1)!==0}set(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]|=1<<(o&31)&4294967295}unset(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]&=~(1<<(o&31)&4294967295)}flip(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new w("input matrix dimensions do not match");const u=new ee(Math.floor(this.width/32)+1),f=this.rowSize,p=this.bits;for(let y=0,b=this.height;y<b;y++){const E=y*f,C=o.getRow(y,u).getBitArray();for(let D=0;D<f;D++)p[E+D]^=C[D]}}clear(){const o=this.bits,u=o.length;for(let f=0;f<u;f++)o[f]=0}setRegion(o,u,f,p){if(u<0||o<0)throw new w("Left and top must be nonnegative");if(p<1||f<1)throw new w("Height and width must be at least 1");const y=o+f,b=u+p;if(b>this.height||y>this.width)throw new w("The region must fit inside the matrix");const E=this.rowSize,C=this.bits;for(let D=u;D<b;D++){const B=D*E;for(let Y=o;Y<y;Y++)C[B+Math.floor(Y/32)]|=1<<(Y&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new ee(this.width):u.clear();const f=this.rowSize,p=this.bits,y=o*f;for(let b=0;b<f;b++)u.setBulk(b*32,p[y+b]);return u}setRow(o,u){M.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let f=new ee(o),p=new ee(o);for(let y=0,b=Math.floor((u+1)/2);y<b;y++)f=this.getRow(y,f),p=this.getRow(u-1-y,p),f.reverse(),p.reverse(),this.setRow(y,p),this.setRow(u-1-y,f)}getEnclosingRectangle(){const o=this.width,u=this.height,f=this.rowSize,p=this.bits;let y=o,b=u,E=-1,C=-1;for(let D=0;D<u;D++)for(let B=0;B<f;B++){const Y=p[D*f+B];if(Y!==0){if(D<b&&(b=D),D>C&&(C=D),B*32<y){let K=0;for(;(Y<<31-K&4294967295)===0;)K++;B*32+K<y&&(y=B*32+K)}if(B*32+31>E){let K=31;for(;!(Y>>>K);)K--;B*32+K>E&&(E=B*32+K)}}}return E<y||C<b?null:Int32Array.from([y,b,E-y+1,C-b+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let f=0;for(;f<u.length&&u[f]===0;)f++;if(f===u.length)return null;const p=f/o;let y=f%o*32;const b=u[f];let E=0;for(;(b<<31-E&4294967295)===0;)E++;return y+=E,Int32Array.from([y,p])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let f=u.length-1;for(;f>=0&&u[f]===0;)f--;if(f<0)return null;const p=Math.floor(f/o);let y=Math.floor(f%o)*32;const b=u[f];let E=31;for(;!(b>>>E);)E--;return y+=E,Int32Array.from([y,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof ge))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&W.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+W.hashCode(this.bits),o}toString(o="X ",u="  ",f=`
`){return this.buildToString(o,u,f)}buildToString(o,u,f){let p=new z;for(let y=0,b=this.height;y<b;y++){for(let E=0,C=this.width;E<C;E++)p.append(this.get(E,y)?o:u);p.append(f)}return p.toString()}clone(){return new ge(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends d{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class le extends R{constructor(o){super(o),this.luminances=le.EMPTY,this.buckets=new Int32Array(le.LUMINANCE_BUCKETS)}getBlackRow(o,u){const f=this.getLuminanceSource(),p=f.getWidth();u==null||u.getSize()<p?u=new ee(p):u.clear(),this.initArrays(p);const y=f.getRow(o,this.luminances),b=this.buckets;for(let C=0;C<p;C++)b[(y[C]&255)>>le.LUMINANCE_SHIFT]++;const E=le.estimateBlackPoint(b);if(p<3)for(let C=0;C<p;C++)(y[C]&255)<E&&u.set(C);else{let C=y[0]&255,D=y[1]&255;for(let B=1;B<p-1;B++){const Y=y[B+1]&255;(D*4-C-Y)/2<E&&u.set(B),C=D,D=Y}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),f=o.getHeight(),p=new ge(u,f);this.initArrays(u);const y=this.buckets;for(let C=1;C<5;C++){const D=Math.floor(f*C/5),B=o.getRow(D,this.luminances),Y=Math.floor(u*4/5);for(let K=Math.floor(u/5);K<Y;K++){const ie=B[K]&255;y[ie>>le.LUMINANCE_SHIFT]++}}const b=le.estimateBlackPoint(y),E=o.getMatrix();for(let C=0;C<f;C++){const D=C*u;for(let B=0;B<u;B++)(E[D+B]&255)<b&&p.set(B,C)}return p}createBinarizer(o){return new le(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let f=0;f<le.LUMINANCE_BUCKETS;f++)u[f]=0}static estimateBlackPoint(o){const u=o.length;let f=0,p=0,y=0;for(let B=0;B<u;B++)o[B]>y&&(p=B,y=o[B]),o[B]>f&&(f=o[B]);let b=0,E=0;for(let B=0;B<u;B++){const Y=B-p,K=o[B]*Y*Y;K>E&&(b=B,E=K)}if(p>b){const B=p;p=b,b=B}if(b-p<=u/16)throw new se;let C=b-1,D=-1;for(let B=b-1;B>p;B--){const Y=B-p,K=Y*Y*(b-B)*(f-o[B]);K>D&&(C=B,D=K)}return C<<le.LUMINANCE_SHIFT}}le.LUMINANCE_BITS=5,le.LUMINANCE_SHIFT=8-le.LUMINANCE_BITS,le.LUMINANCE_BUCKETS=1<<le.LUMINANCE_BITS,le.EMPTY=Uint8ClampedArray.from([0]);class ue extends le{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),f=o.getHeight();if(u>=ue.MINIMUM_DIMENSION&&f>=ue.MINIMUM_DIMENSION){const p=o.getMatrix();let y=u>>ue.BLOCK_SIZE_POWER;(u&ue.BLOCK_SIZE_MASK)!==0&&y++;let b=f>>ue.BLOCK_SIZE_POWER;(f&ue.BLOCK_SIZE_MASK)!==0&&b++;const E=ue.calculateBlackPoints(p,y,b,u,f),C=new ge(u,f);ue.calculateThresholdForBlock(p,y,b,u,f,E,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ue(o)}static calculateThresholdForBlock(o,u,f,p,y,b,E){const C=y-ue.BLOCK_SIZE,D=p-ue.BLOCK_SIZE;for(let B=0;B<f;B++){let Y=B<<ue.BLOCK_SIZE_POWER;Y>C&&(Y=C);const K=ue.cap(B,2,f-3);for(let ie=0;ie<u;ie++){let ce=ie<<ue.BLOCK_SIZE_POWER;ce>D&&(ce=D);const fe=ue.cap(ie,2,u-3);let ye=0;for(let Ve=-2;Ve<=2;Ve++){const ze=b[K+Ve];ye+=ze[fe-2]+ze[fe-1]+ze[fe]+ze[fe+1]+ze[fe+2]}const Ae=ye/25;ue.thresholdBlock(o,ce,Y,Ae,p,E)}}}static cap(o,u,f){return o<u?u:o>f?f:o}static thresholdBlock(o,u,f,p,y,b){for(let E=0,C=f*y+u;E<ue.BLOCK_SIZE;E++,C+=y)for(let D=0;D<ue.BLOCK_SIZE;D++)(o[C+D]&255)<=p&&b.set(u+D,f+E)}static calculateBlackPoints(o,u,f,p,y){const b=y-ue.BLOCK_SIZE,E=p-ue.BLOCK_SIZE,C=new Array(f);for(let D=0;D<f;D++){C[D]=new Int32Array(u);let B=D<<ue.BLOCK_SIZE_POWER;B>b&&(B=b);for(let Y=0;Y<u;Y++){let K=Y<<ue.BLOCK_SIZE_POWER;K>E&&(K=E);let ie=0,ce=255,fe=0;for(let Ae=0,Ve=B*p+K;Ae<ue.BLOCK_SIZE;Ae++,Ve+=p){for(let ze=0;ze<ue.BLOCK_SIZE;ze++){const Ue=o[Ve+ze]&255;ie+=Ue,Ue<ce&&(ce=Ue),Ue>fe&&(fe=Ue)}if(fe-ce>ue.MIN_DYNAMIC_RANGE)for(Ae++,Ve+=p;Ae<ue.BLOCK_SIZE;Ae++,Ve+=p)for(let ze=0;ze<ue.BLOCK_SIZE;ze++)ie+=o[Ve+ze]&255}let ye=ie>>ue.BLOCK_SIZE_POWER*2;if(fe-ce<=ue.MIN_DYNAMIC_RANGE&&(ye=ce/2,D>0&&Y>0)){const Ae=(C[D-1][Y]+2*C[D][Y-1]+C[D-1][Y-1])/4;ce<Ae&&(ye=Ae)}C[D][Y]=ye}}return C}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class Ie{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,f,p){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new z;for(let f=0;f<this.height;f++){const p=this.getRow(f,o);for(let y=0;y<this.width;y++){const b=p[y]&255;let E;b<64?E="#":b<128?E="+":b<192?E=".":E=" ",u.append(E)}u.append(`
`)}return u.toString()}}class Fe extends Ie{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const f=this.delegate.getRow(o,u),p=this.getWidth();for(let y=0;y<p;y++)f[y]=255-(f[y]&255);return f}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(u);for(let p=0;p<u;p++)f[p]=255-(o[p]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,f,p){return new Fe(this.delegate.crop(o,u,f,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Fe(this.delegate.rotateCounterClockwise45())}}class ae extends Ie{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return ae.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,f){const p=new Uint8ClampedArray(u*f);for(let y=0,b=0,E=o.length;y<E;y+=4,b++){let C;if(o[y+3]===0)C=255;else{const B=o[y],Y=o[y+1],K=o[y+2];C=306*B+601*Y+117*K+512>>10}p[b]=C}return p}getRow(o,u){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth(),p=o*f;return u===null?u=this.buffer.slice(p,p+f):(u.length<f&&(u=new Uint8ClampedArray(f)),u.set(this.buffer.slice(p,p+f))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,f,p){return super.crop(o,u,f,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),f=u.getContext("2d"),p=o*ae.DEGREE_TO_RADIANS,y=this.canvas.width,b=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(p))*y+Math.abs(Math.sin(p))*b),C=Math.ceil(Math.abs(Math.sin(p))*y+Math.abs(Math.cos(p))*b);return u.width=E,u.height=C,f.translate(E/2,C/2),f.rotate(p),f.drawImage(this.canvas,y/-2,b/-2),this.buffer=ae.makeBufferFromCanvasImageData(u),this}invert(){return new Fe(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(o,u,f){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Te=(globalThis||v1||self||window||void 0)&&(globalThis||v1||self||window||void 0).__awaiter||function(G,o,u,f){function p(y){return y instanceof u?y:new u(function(b){b(y)})}return new(u||(u=Promise))(function(y,b){function E(B){try{D(f.next(B))}catch(Y){b(Y)}}function C(B){try{D(f.throw(B))}catch(Y){b(Y)}}function D(B){B.done?y(B.value):p(B.value).then(E,C)}D((f=f.apply(G,o||[])).next())})};class ke{constructor(o,u=500,f){this.reader=o,this.timeBetweenScansMillis=u,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const f of o){const p=f.kind==="video"?"videoinput":f.kind;if(p!=="videoinput")continue;const y=f.deviceId||f.id,b=f.label||`Video device ${u.length+1}`,E=f.groupId,C={deviceId:y,label:b,kind:p,groupId:E};u.push(C)}return u})}getVideoInputDevices(){return Te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new be(u.deviceId,u.label))})}findDeviceById(o){return Te(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(f=>f.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Te(this,void 0,void 0,function*(){this.reset();let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const p={video:f};return yield this.decodeOnceFromConstraints(p,u)})}decodeOnceFromConstraints(o,u){return Te(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(f,u)})}decodeOnceFromStream(o,u){return Te(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(o,u,f){return Te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,f)})}decodeFromVideoDevice(o,u,f){return Te(this,void 0,void 0,function*(){let p;o?p={deviceId:{exact:o}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeFromConstraints(y,u,f)})}decodeFromConstraints(o,u,f){return Te(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(p,u,f)})}decodeFromStream(o,u,f){return Te(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(p,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Te(this,void 0,void 0,function*(){const f=this.prepareVideoElement(u);return this.addVideoSource(f,o),this.videoElement=f,this.stream=o,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(o){return new Promise((u,f)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Te(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const f=document.getElementById(o);if(!f)throw new v(`element with id '${o}' not found`);if(f.nodeName.toLowerCase()!==u.toLowerCase())throw new v(`element with id '${o}' must be an ${u} element`);return f}decodeFromImage(o,u){if(!o&&!u)throw new v("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new v("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,f){if(o===void 0&&u===void 0)throw new v("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,f):this.decodeFromVideoElementContinuously(o,f)}decodeFromImageElement(o){if(!o)throw new v("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let f;return this.isImageLoaded(u)?f=this.decodeOnce(u,!1,!0):f=this._decodeOnLoadImage(u),f}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const f=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(f,u)}_decodeFromVideoElementSetup(o){if(!o)throw new v("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new v("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const f=this._decodeOnLoadImage(u);return u.src=o,f}decodeFromVideoUrl(o){if(!o)throw new v("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),f=this.decodeFromVideoElement(u);return u.src=o,f}decodeFromVideoUrlContinuously(o,u){if(!o)throw new v("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(f,u);return f.src=o,p}_decodeOnLoadImage(o){return new Promise((u,f)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,f),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,f=!0){this._stopAsyncDecode=!1;const p=(y,b)=>{if(this._stopAsyncDecode){b(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(o);y(E)}catch(E){const C=u&&E instanceof se,B=(E instanceof T||E instanceof k)&&f;if(C||B)return setTimeout(p,this._timeBetweenDecodingAttempts,y,b);b(E)}};return new Promise((y,b)=>p(y,b))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(o);u(p,null),setTimeout(f,this.timeBetweenScansMillis)}catch(p){u(null,p);const y=p instanceof T||p instanceof k,b=p instanceof se;(y||b)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,f){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,f=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),f=new ae(u),p=new ue(f);return new S(p)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let f,p;return typeof o<"u"&&(o instanceof HTMLVideoElement?(f=o.videoWidth,p=o.videoHeight):o instanceof HTMLImageElement&&(f=o.naturalWidth||o.width,p=o.naturalHeight||o.height)),u.style.width=f+"px",u.style.height=p+"px",u.width=f,u.height=p,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class $e{constructor(o,u,f=u==null?0:8*u.length,p,y,b=M.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=f,this.resultPoints=p,this.format=y,this.timestamp=b,this.text=o,this.rawBytes=u,f==null?this.numBits=u==null?0:8*u.length:this.numBits=f,this.resultPoints=p,this.format=y,this.resultMetadata=null,b==null?this.timestamp=M.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const f=new Array(u.length+o.length);M.arraycopy(u,0,f,0,u.length),M.arraycopy(o,0,f,u.length,o.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var at;(function(G){G[G.AZTEC=0]="AZTEC",G[G.CODABAR=1]="CODABAR",G[G.CODE_39=2]="CODE_39",G[G.CODE_93=3]="CODE_93",G[G.CODE_128=4]="CODE_128",G[G.DATA_MATRIX=5]="DATA_MATRIX",G[G.EAN_8=6]="EAN_8",G[G.EAN_13=7]="EAN_13",G[G.ITF=8]="ITF",G[G.MAXICODE=9]="MAXICODE",G[G.PDF_417=10]="PDF_417",G[G.QR_CODE=11]="QR_CODE",G[G.RSS_14=12]="RSS_14",G[G.RSS_EXPANDED=13]="RSS_EXPANDED",G[G.UPC_A=14]="UPC_A",G[G.UPC_E=15]="UPC_E",G[G.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var je=at,In;(function(G){G[G.OTHER=0]="OTHER",G[G.ORIENTATION=1]="ORIENTATION",G[G.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",G[G.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",G[G.ISSUE_NUMBER=4]="ISSUE_NUMBER",G[G.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",G[G.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",G[G.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",G[G.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",G[G.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",G[G.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(In||(In={}));var vt=In;class Re{constructor(o,u,f,p,y=-1,b=-1){this.rawBytes=o,this.text=u,this.byteSegments=f,this.ecLevel=p,this.structuredAppendSequenceNumber=y,this.structuredAppendParity=b,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class gt{exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class it{constructor(o,u){if(u.length===0)throw new w;this.field=o;const f=u.length;if(f>1&&u[0]===0){let p=1;for(;p<f&&u[p]===0;)p++;p===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-p),M.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let f;if(o===1){f=0;for(let b=0,E=u.length;b!==E;b++){const C=u[b];f=gt.addOrSubtract(f,C)}return f}f=u[0];const p=u.length,y=this.field;for(let b=1;b<p;b++)f=gt.addOrSubtract(y.multiply(o,f),u[b]);return f}addOrSubtract(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,f=o.coefficients;if(u.length>f.length){const b=u;u=f,f=b}let p=new Int32Array(f.length);const y=f.length-u.length;M.arraycopy(f,0,p,0,y);for(let b=y;b<f.length;b++)p[b]=gt.addOrSubtract(u[b-y],f[b]);return new it(this.field,p)}multiply(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,f=u.length,p=o.coefficients,y=p.length,b=new Int32Array(f+y-1),E=this.field;for(let C=0;C<f;C++){const D=u[C];for(let B=0;B<y;B++)b[C+B]=gt.addOrSubtract(b[C+B],E.multiply(D,p[B]))}return new it(E,b)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,f=this.field,p=new Int32Array(u),y=this.coefficients;for(let b=0;b<u;b++)p[b]=f.multiply(y[b],o);return new it(f,p)}multiplyByMonomial(o,u){if(o<0)throw new w;if(u===0)return this.field.getZero();const f=this.coefficients,p=f.length,y=new Int32Array(p+o),b=this.field;for(let E=0;E<p;E++)y[E]=b.multiply(f[E],u);return new it(b,y)}divide(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new w("Divide by 0");const u=this.field;let f=u.getZero(),p=this;const y=o.getCoefficient(o.getDegree()),b=u.inverse(y);for(;p.getDegree()>=o.getDegree()&&!p.isZero();){const E=p.getDegree()-o.getDegree(),C=u.multiply(p.getCoefficient(p.getDegree()),b),D=o.multiplyByMonomial(E,C),B=u.buildMonomial(E,C);f=f.addOrSubtract(B),p=p.addOrSubtract(D)}return[f,p]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let f=this.getCoefficient(u);if(f!==0){if(f<0?(o+=" - ",f=-f):o.length>0&&(o+=" + "),u===0||f!==1){const p=this.field.log(f);p===0?o+="1":p===1?o+="a":(o+="a^",o+=p)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class Be extends d{}Be.kind="ArithmeticException";class ht extends gt{constructor(o,u,f){super(),this.primitive=o,this.size=u,this.generatorBase=f;const p=new Int32Array(u);let y=1;for(let E=0;E<u;E++)p[E]=y,y*=2,y>=u&&(y^=o,y&=u-1);this.expTable=p;const b=new Int32Array(u);for(let E=0;E<u-1;E++)b[p[E]]=E;this.logTable=b,this.zero=new it(this,Int32Array.from([0])),this.one=new it(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new w;if(u===0)return this.zero;const f=new Int32Array(o+1);return f[0]=u,new it(this,f)}inverse(o){if(o===0)throw new Be;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+q.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}ht.AZTEC_DATA_12=new ht(4201,4096,1),ht.AZTEC_DATA_10=new ht(1033,1024,1),ht.AZTEC_DATA_6=new ht(67,64,1),ht.AZTEC_PARAM=new ht(19,16,1),ht.QR_CODE_FIELD_256=new ht(285,256,0),ht.DATA_MATRIX_FIELD_256=new ht(301,256,1),ht.AZTEC_DATA_8=ht.DATA_MATRIX_FIELD_256,ht.MAXICODE_FIELD_64=ht.AZTEC_DATA_6;class Nt extends d{}Nt.kind="ReedSolomonException";class Qt extends d{}Qt.kind="IllegalStateException";class Dt{constructor(o){this.field=o}decode(o,u){const f=this.field,p=new it(f,o),y=new Int32Array(u);let b=!0;for(let ie=0;ie<u;ie++){const ce=p.evaluateAt(f.exp(ie+f.getGeneratorBase()));y[y.length-1-ie]=ce,ce!==0&&(b=!1)}if(b)return;const E=new it(f,y),C=this.runEuclideanAlgorithm(f.buildMonomial(u,1),E,u),D=C[0],B=C[1],Y=this.findErrorLocations(D),K=this.findErrorMagnitudes(B,Y);for(let ie=0;ie<Y.length;ie++){const ce=o.length-1-f.log(Y[ie]);if(ce<0)throw new Nt("Bad error location");o[ce]=ht.addOrSubtract(o[ce],K[ie])}}runEuclideanAlgorithm(o,u,f){if(o.getDegree()<u.getDegree()){const ie=o;o=u,u=ie}const p=this.field;let y=o,b=u,E=p.getZero(),C=p.getOne();for(;b.getDegree()>=(f/2|0);){let ie=y,ce=E;if(y=b,E=C,y.isZero())throw new Nt("r_{i-1} was zero");b=ie;let fe=p.getZero();const ye=y.getCoefficient(y.getDegree()),Ae=p.inverse(ye);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){const Ve=b.getDegree()-y.getDegree(),ze=p.multiply(b.getCoefficient(b.getDegree()),Ae);fe=fe.addOrSubtract(p.buildMonomial(Ve,ze)),b=b.addOrSubtract(y.multiplyByMonomial(Ve,ze))}if(C=fe.multiply(E).addOrSubtract(ce),b.getDegree()>=y.getDegree())throw new Qt("Division algorithm failed to reduce polynomial?")}const D=C.getCoefficient(0);if(D===0)throw new Nt("sigmaTilde(0) was zero");const B=p.inverse(D),Y=C.multiplyScalar(B),K=b.multiplyScalar(B);return[Y,K]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const f=new Int32Array(u);let p=0;const y=this.field;for(let b=1;b<y.getSize()&&p<u;b++)o.evaluateAt(b)===0&&(f[p]=y.inverse(b),p++);if(p!==u)throw new Nt("Error locator degree does not match number of roots");return f}findErrorMagnitudes(o,u){const f=u.length,p=new Int32Array(f),y=this.field;for(let b=0;b<f;b++){const E=y.inverse(u[b]);let C=1;for(let D=0;D<f;D++)if(b!==D){const B=y.multiply(u[D],E),Y=(B&1)===0?B|1:B&-2;C=y.multiply(C,Y)}p[b]=y.multiply(o.evaluateAt(E),y.inverse(C)),y.getGeneratorBase()!==0&&(p[b]=y.multiply(p[b],E))}return p}}var _t;(function(G){G[G.UPPER=0]="UPPER",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.DIGIT=3]="DIGIT",G[G.PUNCT=4]="PUNCT",G[G.BINARY=5]="BINARY"})(_t||(_t={}));class Zt{decode(o){this.ddata=o;let u=o.getBits(),f=this.extractBits(u),p=this.correctBits(f),y=Zt.convertBoolArrayToByteArray(p),b=Zt.getEncodedData(p),E=new Re(y,b,null,null);return E.setNumBits(p.length),E}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,f=_t.UPPER,p=_t.UPPER,y="",b=0;for(;b<u;)if(p===_t.BINARY){if(u-b<5)break;let E=Zt.readCode(o,b,5);if(b+=5,E===0){if(u-b<11)break;E=Zt.readCode(o,b,11)+31,b+=11}for(let C=0;C<E;C++){if(u-b<8){b=u;break}const D=Zt.readCode(o,b,8);y+=X.castAsNonUtf8Char(D),b+=8}p=f}else{let E=p===_t.DIGIT?4:5;if(u-b<E)break;let C=Zt.readCode(o,b,E);b+=E;let D=Zt.getCharacter(p,C);D.startsWith("CTRL_")?(f=p,p=Zt.getTable(D.charAt(5)),D.charAt(6)==="L"&&(f=p)):(y+=D,p=f)}return y}static getTable(o){switch(o){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(o,u){switch(o){case _t.UPPER:return Zt.UPPER_TABLE[u];case _t.LOWER:return Zt.LOWER_TABLE[u];case _t.MIXED:return Zt.MIXED_TABLE[u];case _t.PUNCT:return Zt.PUNCT_TABLE[u];case _t.DIGIT:return Zt.DIGIT_TABLE[u];default:throw new Qt("Bad table")}}correctBits(o){let u,f;this.ddata.getNbLayers()<=2?(f=6,u=ht.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,u=ht.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,u=ht.AZTEC_DATA_10):(f=12,u=ht.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),y=o.length/f;if(y<p)throw new k;let b=o.length%f,E=new Int32Array(y);for(let K=0;K<y;K++,b+=f)E[K]=Zt.readCode(o,b,f);try{new Dt(u).decode(E,y-p)}catch(K){throw new k(K)}let C=(1<<f)-1,D=0;for(let K=0;K<p;K++){let ie=E[K];if(ie===0||ie===C)throw new k;(ie===1||ie===C-1)&&D++}let B=new Array(p*f-D),Y=0;for(let K=0;K<p;K++){let ie=E[K];if(ie===1||ie===C-1)B.fill(ie>1,Y,Y+f-1),Y+=f-1;else for(let ce=f-1;ce>=0;--ce)B[Y++]=(ie&1<<ce)!==0}return B}extractBits(o){let u=this.ddata.isCompact(),f=this.ddata.getNbLayers(),p=(u?11:14)+f*4,y=new Int32Array(p),b=new Array(this.totalBitsInLayer(f,u));if(u)for(let E=0;E<y.length;E++)y[E]=E;else{let E=p+1+2*q.truncDivision(q.truncDivision(p,2)-1,15),C=p/2,D=q.truncDivision(E,2);for(let B=0;B<C;B++){let Y=B+q.truncDivision(B,15);y[C-B-1]=D-Y-1,y[C+B]=D+Y+1}}for(let E=0,C=0;E<f;E++){let D=(f-E)*4+(u?9:12),B=E*2,Y=p-1-B;for(let K=0;K<D;K++){let ie=K*2;for(let ce=0;ce<2;ce++)b[C+ie+ce]=o.get(y[B+ce],y[B+K]),b[C+2*D+ie+ce]=o.get(y[B+K],y[Y-ce]),b[C+4*D+ie+ce]=o.get(y[Y-ce],y[Y-K]),b[C+6*D+ie+ce]=o.get(y[Y-K],y[B+ce])}C+=D*8}return b}static readCode(o,u,f){let p=0;for(let y=u;y<u+f;y++)p<<=1,o[y]&&(p|=1);return p}static readByte(o,u){let f=o.length-u;return f>=8?Zt.readCode(o,u,8):Zt.readCode(o,u,f)<<8-f}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let f=0;f<u.length;f++)u[f]=Zt.readByte(o,8*f);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Zt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Zt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Zt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class St{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,f,p){const y=o-f,b=u-p;return Math.sqrt(y*y+b*b)}static sum(o){let u=0;for(let f=0,p=o.length;f!==p;f++){const y=o[f];u+=y}return u}}class Ea{static floatToIntBits(o){return o}}Ea.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ze{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Ze){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*Ea.floatToIntBits(this.x)+Ea.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),f=this.distance(o[1],o[2]),p=this.distance(o[0],o[2]);let y,b,E;if(f>=u&&f>=p?(b=o[0],y=o[1],E=o[2]):p>=f&&p>=u?(b=o[1],y=o[0],E=o[2]):(b=o[2],y=o[0],E=o[1]),this.crossProductZ(y,b,E)<0){const C=y;y=E,E=C}o[0]=y,o[1]=b,o[2]=E}static distance(o,u){return St.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,f){const p=u.x,y=u.y;return(f.x-p)*(o.y-y)-(f.y-y)*(o.x-p)}}class Ws{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Rs extends Ws{constructor(o,u,f,p,y){super(o,u),this.compact=f,this.nbDatablocks=p,this.nbLayers=y}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class gi{constructor(o,u,f,p){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=gi.INIT_SIZE),f==null&&(f=o.getWidth()/2|0),p==null&&(p=o.getHeight()/2|0);const y=u/2|0;if(this.leftInit=f-y,this.rightInit=f+y,this.upInit=p-y,this.downInit=p+y,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let o=this.leftInit,u=this.rightInit,f=this.upInit,p=this.downInit,y=!1,b=!0,E=!1,C=!1,D=!1,B=!1,Y=!1;const K=this.width,ie=this.height;for(;b;){b=!1;let ce=!0;for(;(ce||!C)&&u<K;)ce=this.containsBlackPoint(f,p,u,!1),ce?(u++,b=!0,C=!0):C||u++;if(u>=K){y=!0;break}let fe=!0;for(;(fe||!D)&&p<ie;)fe=this.containsBlackPoint(o,u,p,!0),fe?(p++,b=!0,D=!0):D||p++;if(p>=ie){y=!0;break}let ye=!0;for(;(ye||!B)&&o>=0;)ye=this.containsBlackPoint(f,p,o,!1),ye?(o--,b=!0,B=!0):B||o--;if(o<0){y=!0;break}let Ae=!0;for(;(Ae||!Y)&&f>=0;)Ae=this.containsBlackPoint(o,u,f,!0),Ae?(f--,b=!0,Y=!0):Y||f--;if(f<0){y=!0;break}b&&(E=!0)}if(!y&&E){const ce=u-o;let fe=null;for(let ze=1;fe===null&&ze<ce;ze++)fe=this.getBlackPointOnSegment(o,p-ze,o+ze,p);if(fe==null)throw new se;let ye=null;for(let ze=1;ye===null&&ze<ce;ze++)ye=this.getBlackPointOnSegment(o,f+ze,o+ze,f);if(ye==null)throw new se;let Ae=null;for(let ze=1;Ae===null&&ze<ce;ze++)Ae=this.getBlackPointOnSegment(u,f+ze,u-ze,f);if(Ae==null)throw new se;let Ve=null;for(let ze=1;Ve===null&&ze<ce;ze++)Ve=this.getBlackPointOnSegment(u,p-ze,u-ze,p);if(Ve==null)throw new se;return this.centerEdges(Ve,fe,Ae,ye)}else throw new se}getBlackPointOnSegment(o,u,f,p){const y=St.round(St.distance(o,u,f,p)),b=(f-o)/y,E=(p-u)/y,C=this.image;for(let D=0;D<y;D++){const B=St.round(o+D*b),Y=St.round(u+D*E);if(C.get(B,Y))return new Ze(B,Y)}return null}centerEdges(o,u,f,p){const y=o.getX(),b=o.getY(),E=u.getX(),C=u.getY(),D=f.getX(),B=f.getY(),Y=p.getX(),K=p.getY(),ie=gi.CORR;return y<this.width/2?[new Ze(Y-ie,K+ie),new Ze(E+ie,C+ie),new Ze(D-ie,B-ie),new Ze(y+ie,b-ie)]:[new Ze(Y+ie,K+ie),new Ze(E+ie,C-ie),new Ze(D-ie,B+ie),new Ze(y-ie,b-ie)]}containsBlackPoint(o,u,f,p){const y=this.image;if(p){for(let b=o;b<=u;b++)if(y.get(b,f))return!0}else for(let b=o;b<=u;b++)if(y.get(f,b))return!0;return!1}}gi.INIT_SIZE=10,gi.CORR=1;class $s{static checkAndNudgePoints(o,u){const f=o.getWidth(),p=o.getHeight();let y=!0;for(let b=0;b<u.length&&y;b+=2){const E=Math.floor(u[b]),C=Math.floor(u[b+1]);if(E<-1||E>f||C<-1||C>p)throw new se;y=!1,E===-1?(u[b]=0,y=!0):E===f&&(u[b]=f-1,y=!0),C===-1?(u[b+1]=0,y=!0):C===p&&(u[b+1]=p-1,y=!0)}y=!0;for(let b=u.length-2;b>=0&&y;b-=2){const E=Math.floor(u[b]),C=Math.floor(u[b+1]);if(E<-1||E>f||C<-1||C>p)throw new se;y=!1,E===-1?(u[b]=0,y=!0):E===f&&(u[b]=f-1,y=!0),C===-1?(u[b+1]=0,y=!0):C===p&&(u[b+1]=p-1,y=!0)}}}class Ye{constructor(o,u,f,p,y,b,E,C,D){this.a11=o,this.a21=u,this.a31=f,this.a12=p,this.a22=y,this.a32=b,this.a13=E,this.a23=C,this.a33=D}static quadrilateralToQuadrilateral(o,u,f,p,y,b,E,C,D,B,Y,K,ie,ce,fe,ye){const Ae=Ye.quadrilateralToSquare(o,u,f,p,y,b,E,C);return Ye.squareToQuadrilateral(D,B,Y,K,ie,ce,fe,ye).times(Ae)}transformPoints(o){const u=o.length,f=this.a11,p=this.a12,y=this.a13,b=this.a21,E=this.a22,C=this.a23,D=this.a31,B=this.a32,Y=this.a33;for(let K=0;K<u;K+=2){const ie=o[K],ce=o[K+1],fe=y*ie+C*ce+Y;o[K]=(f*ie+b*ce+D)/fe,o[K+1]=(p*ie+E*ce+B)/fe}}transformPointsWithValues(o,u){const f=this.a11,p=this.a12,y=this.a13,b=this.a21,E=this.a22,C=this.a23,D=this.a31,B=this.a32,Y=this.a33,K=o.length;for(let ie=0;ie<K;ie++){const ce=o[ie],fe=u[ie],ye=y*ce+C*fe+Y;o[ie]=(f*ce+b*fe+D)/ye,u[ie]=(p*ce+E*fe+B)/ye}}static squareToQuadrilateral(o,u,f,p,y,b,E,C){const D=o-f+y-E,B=u-p+b-C;if(D===0&&B===0)return new Ye(f-o,y-f,o,p-u,b-p,u,0,0,1);{const Y=f-y,K=E-y,ie=p-b,ce=C-b,fe=Y*ce-K*ie,ye=(D*ce-K*B)/fe,Ae=(Y*B-D*ie)/fe;return new Ye(f-o+ye*f,E-o+Ae*E,o,p-u+ye*p,C-u+Ae*C,u,ye,Ae,1)}}static quadrilateralToSquare(o,u,f,p,y,b,E,C){return Ye.squareToQuadrilateral(o,u,f,p,y,b,E,C).buildAdjoint()}buildAdjoint(){return new Ye(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Ye(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Xe extends $s{sampleGrid(o,u,f,p,y,b,E,C,D,B,Y,K,ie,ce,fe,ye,Ae,Ve,ze){const Ue=Ye.quadrilateralToQuadrilateral(p,y,b,E,C,D,B,Y,K,ie,ce,fe,ye,Ae,Ve,ze);return this.sampleGridWithTransform(o,u,f,Ue)}sampleGridWithTransform(o,u,f,p){if(u<=0||f<=0)throw new se;const y=new ge(u,f),b=new Float32Array(2*u);for(let E=0;E<f;E++){const C=b.length,D=E+.5;for(let B=0;B<C;B+=2)b[B]=B/2+.5,b[B+1]=D;p.transformPoints(b),$s.checkAndNudgePoints(o,b);try{for(let B=0;B<C;B+=2)o.get(Math.floor(b[B]),Math.floor(b[B+1]))&&y.set(B/2,E)}catch{throw new se}}return y}}class pt{static setGridSampler(o){pt.gridSampler=o}static getInstance(){return pt.gridSampler}}pt.gridSampler=new Xe;class st{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new Ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class wn{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),f=this.getBullsEyeCorners(u);if(o){let b=f[0];f[0]=f[2],f[2]=b}this.extractParameters(f);let p=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),y=this.getMatrixCornerPoints(f);return new Rs(p,y,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new se;let u=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(f,u);let p=0;for(let b=0;b<4;b++){let E=f[(this.shift+b)%4];this.compact?(p<<=7,p+=E>>1&127):(p<<=10,p+=(E>>2&992)+(E>>1&31))}let y=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(y>>6)+1,this.nbDataBlocks=(y&63)+1):(this.nbLayers=(y>>11)+1,this.nbDataBlocks=(y&2047)+1)}getRotation(o,u){let f=0;o.forEach((p,y,b)=>{let E=(p>>u-2<<1)+(p&1);f=(f<<3)+E}),f=((f&1)<<11)+(f>>1);for(let p=0;p<4;p++)if(q.bitCount(f^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new se}getCorrectedParameterData(o,u){let f,p;u?(f=7,p=2):(f=10,p=4);let y=f-p,b=new Int32Array(f);for(let C=f-1;C>=0;--C)b[C]=o&15,o>>=4;try{new Dt(ht.AZTEC_PARAM).decode(b,y)}catch{throw new se}let E=0;for(let C=0;C<p;C++)E=(E<<4)+b[C];return E}getBullsEyeCorners(o){let u=o,f=o,p=o,y=o,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Y=this.getFirstDifferent(u,b,1,-1),K=this.getFirstDifferent(f,b,1,1),ie=this.getFirstDifferent(p,b,-1,1),ce=this.getFirstDifferent(y,b,-1,-1);if(this.nbCenterLayers>2){let fe=this.distancePoint(ce,Y)*this.nbCenterLayers/(this.distancePoint(y,u)*(this.nbCenterLayers+2));if(fe<.75||fe>1.25||!this.isWhiteOrBlackRectangle(Y,K,ie,ce))break}u=Y,f=K,p=ie,y=ce,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let E=new Ze(u.getX()+.5,u.getY()-.5),C=new Ze(f.getX()+.5,f.getY()+.5),D=new Ze(p.getX()-.5,p.getY()+.5),B=new Ze(y.getX()-.5,y.getY()-.5);return this.expandSquare([E,C,D,B],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,f,p;try{let E=new gi(this.image).detect();o=E[0],u=E[1],f=E[2],p=E[3]}catch{let C=this.image.getWidth()/2,D=this.image.getHeight()/2;o=this.getFirstDifferent(new st(C+7,D-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new st(C+7,D+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new st(C-7,D+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new st(C-7,D-7),!1,-1,-1).toResultPoint()}let y=St.round((o.getX()+p.getX()+u.getX()+f.getX())/4),b=St.round((o.getY()+p.getY()+u.getY()+f.getY())/4);try{let E=new gi(this.image,15,y,b).detect();o=E[0],u=E[1],f=E[2],p=E[3]}catch{o=this.getFirstDifferent(new st(y+7,b-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new st(y+7,b+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new st(y-7,b+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new st(y-7,b-7),!1,-1,-1).toResultPoint()}return y=St.round((o.getX()+p.getX()+u.getX()+f.getX())/4),b=St.round((o.getY()+p.getY()+u.getY()+f.getY())/4),new st(y,b)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,f,p,y){let b=pt.getInstance(),E=this.getDimension(),C=E/2-this.nbCenterLayers,D=E/2+this.nbCenterLayers;return b.sampleGrid(o,E,E,C,C,D,C,D,D,C,D,u.getX(),u.getY(),f.getX(),f.getY(),p.getX(),p.getY(),y.getX(),y.getY())}sampleLine(o,u,f){let p=0,y=this.distanceResultPoint(o,u),b=y/f,E=o.getX(),C=o.getY(),D=b*(u.getX()-o.getX())/y,B=b*(u.getY()-o.getY())/y;for(let Y=0;Y<f;Y++)this.image.get(St.round(E+Y*D),St.round(C+Y*B))&&(p|=1<<f-Y-1);return p}isWhiteOrBlackRectangle(o,u,f,p){let y=3;o=new st(o.getX()-y,o.getY()+y),u=new st(u.getX()-y,u.getY()-y),f=new st(f.getX()+y,f.getY()-y),p=new st(p.getX()+y,p.getY()+y);let b=this.getColor(p,o);if(b===0)return!1;let E=this.getColor(o,u);return E!==b||(E=this.getColor(u,f),E!==b)?!1:(E=this.getColor(f,p),E===b)}getColor(o,u){let f=this.distancePoint(o,u),p=(u.getX()-o.getX())/f,y=(u.getY()-o.getY())/f,b=0,E=o.getX(),C=o.getY(),D=this.image.get(o.getX(),o.getY()),B=Math.ceil(f);for(let K=0;K<B;K++)E+=p,C+=y,this.image.get(St.round(E),St.round(C))!==D&&b++;let Y=b/f;return Y>.1&&Y<.9?0:Y<=.1===D?1:-1}getFirstDifferent(o,u,f,p){let y=o.getX()+f,b=o.getY()+p;for(;this.isValid(y,b)&&this.image.get(y,b)===u;)y+=f,b+=p;for(y-=f,b-=p;this.isValid(y,b)&&this.image.get(y,b)===u;)y+=f;for(y-=f;this.isValid(y,b)&&this.image.get(y,b)===u;)b+=p;return b-=p,new st(y,b)}expandSquare(o,u,f){let p=f/(2*u),y=o[0].getX()-o[2].getX(),b=o[0].getY()-o[2].getY(),E=(o[0].getX()+o[2].getX())/2,C=(o[0].getY()+o[2].getY())/2,D=new Ze(E+p*y,C+p*b),B=new Ze(E-p*y,C-p*b);y=o[1].getX()-o[3].getX(),b=o[1].getY()-o[3].getY(),E=(o[1].getX()+o[3].getX())/2,C=(o[1].getY()+o[3].getY())/2;let Y=new Ze(E+p*y,C+p*b),K=new Ze(E-p*y,C-p*b);return[D,Y,B,K]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=St.round(o.getX()),f=St.round(o.getY());return this.isValid(u,f)}distancePoint(o,u){return St.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return St.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(q.truncDivision(this.nbLayers-4,8)+1)+15}}class $n{decode(o,u=null){let f=null,p=new wn(o.getBlackMatrix()),y=null,b=null;try{let B=p.detectMirror(!1);y=B.getPoints(),this.reportFoundResultPoints(u,y),b=new Zt().decode(B)}catch(B){f=B}if(b==null)try{let B=p.detectMirror(!0);y=B.getPoints(),this.reportFoundResultPoints(u,y),b=new Zt().decode(B)}catch(B){throw f??B}let E=new $e(b.getText(),b.getRawBytes(),b.getNumBits(),y,je.AZTEC,M.currentTimeMillis()),C=b.getByteSegments();C!=null&&E.putMetadata(vt.BYTE_SEGMENTS,C);let D=b.getECLevel();return D!=null&&E.putMetadata(vt.ERROR_CORRECTION_LEVEL,D),E}reportFoundResultPoints(o,u){if(o!=null){let f=o.get(ne.NEED_RESULT_POINT_CALLBACK);f!=null&&u.forEach((p,y,b)=>{f.foundPossibleResultPoint(p)})}}reset(){}}class Aa extends ke{constructor(o=500){super(new $n,o)}}class pn{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(ne.TRY_HARDER)===!0&&o.isRotateSupported()){const y=o.rotateCounterClockwise(),b=this.doDecode(y,u),E=b.getResultMetadata();let C=270;E!==null&&E.get(vt.ORIENTATION)===!0&&(C=C+E.get(vt.ORIENTATION)%360),b.putMetadata(vt.ORIENTATION,C);const D=b.getResultPoints();if(D!==null){const B=y.getHeight();for(let Y=0;Y<D.length;Y++)D[Y]=new Ze(B-D[Y].getY()-1,D[Y].getX())}return b}else throw new se}}reset(){}doDecode(o,u){const f=o.getWidth(),p=o.getHeight();let y=new ee(f);const b=u&&u.get(ne.TRY_HARDER)===!0,E=Math.max(1,p>>(b?8:5));let C;b?C=p:C=15;const D=Math.trunc(p/2);for(let B=0;B<C;B++){const Y=Math.trunc((B+1)/2),K=(B&1)===0,ie=D+E*(K?Y:-Y);if(ie<0||ie>=p)break;try{y=o.getBlackRow(ie,y)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(y.reverse(),u&&u.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const fe=new Map;u.forEach((ye,Ae)=>fe.set(Ae,ye)),fe.delete(ne.NEED_RESULT_POINT_CALLBACK),u=fe}try{const fe=this.decodeRow(ie,y,u);if(ce===1){fe.putMetadata(vt.ORIENTATION,180);const ye=fe.getResultPoints();ye!==null&&(ye[0]=new Ze(f-ye[0].getX()-1,ye[0].getY()),ye[1]=new Ze(f-ye[1].getX()-1,ye[1].getY()))}return fe}catch{}}}throw new se}static recordPattern(o,u,f){const p=f.length;for(let D=0;D<p;D++)f[D]=0;const y=o.getSize();if(u>=y)throw new se;let b=!o.get(u),E=0,C=u;for(;C<y;){if(o.get(C)!==b)f[E]++;else{if(++E===p)break;f[E]=1,b=!b}C++}if(!(E===p||E===p-1&&C===y))throw new se}static recordPatternInReverse(o,u,f){let p=f.length,y=o.get(u);for(;u>0&&p>=0;)o.get(--u)!==y&&(p--,y=!y);if(p>=0)throw new se;pn.recordPattern(o,u+1,f)}static patternMatchVariance(o,u,f){const p=o.length;let y=0,b=0;for(let D=0;D<p;D++)y+=o[D],b+=u[D];if(y<b)return Number.POSITIVE_INFINITY;const E=y/b;f*=E;let C=0;for(let D=0;D<p;D++){const B=o[D],Y=u[D]*E,K=B>Y?B-Y:Y-B;if(K>f)return Number.POSITIVE_INFINITY;C+=K}return C/y}}class He extends pn{static findStartPattern(o){const u=o.getSize(),f=o.getNextSet(0);let p=0,y=Int32Array.from([0,0,0,0,0,0]),b=f,E=!1;const C=6;for(let D=f;D<u;D++)if(o.get(D)!==E)y[p]++;else{if(p===C-1){let B=He.MAX_AVG_VARIANCE,Y=-1;for(let K=He.CODE_START_A;K<=He.CODE_START_C;K++){const ie=pn.patternMatchVariance(y,He.CODE_PATTERNS[K],He.MAX_INDIVIDUAL_VARIANCE);ie<B&&(B=ie,Y=K)}if(Y>=0&&o.isRange(Math.max(0,b-(D-b)/2),b,!1))return Int32Array.from([b,D,Y]);b+=y[0]+y[1],y=y.slice(2,y.length-1),y[p-1]=0,y[p]=0,p--}else p++;y[p]=1,E=!E}throw new se}static decodeCode(o,u,f){pn.recordPattern(o,f,u);let p=He.MAX_AVG_VARIANCE,y=-1;for(let b=0;b<He.CODE_PATTERNS.length;b++){const E=He.CODE_PATTERNS[b],C=this.patternMatchVariance(u,E,He.MAX_INDIVIDUAL_VARIANCE);C<p&&(p=C,y=b)}if(y>=0)return y;throw new se}decodeRow(o,u,f){const p=f&&f.get(ne.ASSUME_GS1)===!0,y=He.findStartPattern(u),b=y[2];let E=0;const C=new Uint8Array(20);C[E++]=b;let D;switch(b){case He.CODE_START_A:D=He.CODE_CODE_A;break;case He.CODE_START_B:D=He.CODE_CODE_B;break;case He.CODE_START_C:D=He.CODE_CODE_C;break;default:throw new k}let B=!1,Y=!1,K="",ie=y[0],ce=y[1];const fe=Int32Array.from([0,0,0,0,0,0]);let ye=0,Ae=0,Ve=b,ze=0,Ue=!0,Ot=!1,Tt=!1;for(;!B;){const to=Y;switch(Y=!1,ye=Ae,Ae=He.decodeCode(u,fe,ce),C[E++]=Ae,Ae!==He.CODE_STOP&&(Ue=!0),Ae!==He.CODE_STOP&&(ze++,Ve+=ze*Ae),ie=ce,ce+=fe.reduce((Da,v0)=>Da+v0,0),Ae){case He.CODE_START_A:case He.CODE_START_B:case He.CODE_START_C:throw new k}switch(D){case He.CODE_CODE_A:if(Ae<64)Tt===Ot?K+=String.fromCharCode(32+Ae):K+=String.fromCharCode(32+Ae+128),Tt=!1;else if(Ae<96)Tt===Ot?K+=String.fromCharCode(Ae-64):K+=String.fromCharCode(Ae+64),Tt=!1;else switch(Ae!==He.CODE_STOP&&(Ue=!1),Ae){case He.CODE_FNC_1:p&&(K.length===0?K+="]C1":K+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_A:!Ot&&Tt?(Ot=!0,Tt=!1):Ot&&Tt?(Ot=!1,Tt=!1):Tt=!0;break;case He.CODE_SHIFT:Y=!0,D=He.CODE_CODE_B;break;case He.CODE_CODE_B:D=He.CODE_CODE_B;break;case He.CODE_CODE_C:D=He.CODE_CODE_C;break;case He.CODE_STOP:B=!0;break}break;case He.CODE_CODE_B:if(Ae<96)Tt===Ot?K+=String.fromCharCode(32+Ae):K+=String.fromCharCode(32+Ae+128),Tt=!1;else switch(Ae!==He.CODE_STOP&&(Ue=!1),Ae){case He.CODE_FNC_1:p&&(K.length===0?K+="]C1":K+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_B:!Ot&&Tt?(Ot=!0,Tt=!1):Ot&&Tt?(Ot=!1,Tt=!1):Tt=!0;break;case He.CODE_SHIFT:Y=!0,D=He.CODE_CODE_A;break;case He.CODE_CODE_A:D=He.CODE_CODE_A;break;case He.CODE_CODE_C:D=He.CODE_CODE_C;break;case He.CODE_STOP:B=!0;break}break;case He.CODE_CODE_C:if(Ae<100)Ae<10&&(K+="0"),K+=Ae;else switch(Ae!==He.CODE_STOP&&(Ue=!1),Ae){case He.CODE_FNC_1:p&&(K.length===0?K+="]C1":K+="");break;case He.CODE_CODE_A:D=He.CODE_CODE_A;break;case He.CODE_CODE_B:D=He.CODE_CODE_B;break;case He.CODE_STOP:B=!0;break}break}to&&(D=D===He.CODE_CODE_A?He.CODE_CODE_B:He.CODE_CODE_A)}const bi=ce-ie;if(ce=u.getNextUnset(ce),!u.isRange(ce,Math.min(u.getSize(),ce+(ce-ie)/2),!1))throw new se;if(Ve-=ze*ye,Ve%103!==ye)throw new T;const fa=K.length;if(fa===0)throw new se;fa>0&&Ue&&(D===He.CODE_CODE_C?K=K.substring(0,fa-2):K=K.substring(0,fa-1));const ji=(y[1]+y[0])/2,An=ie+bi/2,Xr=C.length,Bi=new Uint8Array(Xr);for(let to=0;to<Xr;to++)Bi[to]=C[to];const Ro=[new Ze(ji,o),new Ze(An,o)];return new $e(K,Bi,0,Ro,je.CODE_128,new Date().getTime())}}He.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],He.MAX_AVG_VARIANCE=.25,He.MAX_INDIVIDUAL_VARIANCE=.7,He.CODE_SHIFT=98,He.CODE_CODE_C=99,He.CODE_CODE_B=100,He.CODE_CODE_A=101,He.CODE_FNC_1=102,He.CODE_FNC_2=97,He.CODE_FNC_3=96,He.CODE_FNC_4_A=101,He.CODE_FNC_4_B=100,He.CODE_START_A=103,He.CODE_START_B=104,He.CODE_START_C=105,He.CODE_STOP=106;class dn extends pn{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,f){let p=this.counters;p.fill(0),this.decodeRowResult="";let y=dn.findAsteriskPattern(u,p),b=u.getNextSet(y[1]),E=u.getSize(),C,D;do{dn.recordPattern(u,b,p);let fe=dn.toNarrowWidePattern(p);if(fe<0)throw new se;C=dn.patternToChar(fe),this.decodeRowResult+=C,D=b;for(let ye of p)b+=ye;b=u.getNextSet(b)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let B=0;for(let fe of p)B+=fe;let Y=b-D-B;if(b!==E&&Y*2<B)throw new se;if(this.usingCheckDigit){let fe=this.decodeRowResult.length-1,ye=0;for(let Ae=0;Ae<fe;Ae++)ye+=dn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(fe)!==dn.ALPHABET_STRING.charAt(ye%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,fe)}if(this.decodeRowResult.length===0)throw new se;let K;this.extendedMode?K=dn.decodeExtended(this.decodeRowResult):K=this.decodeRowResult;let ie=(y[1]+y[0])/2,ce=D+B/2;return new $e(K,null,0,[new Ze(ie,o),new Ze(ce,o)],je.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let f=o.getSize(),p=o.getNextSet(0),y=0,b=p,E=!1,C=u.length;for(let D=p;D<f;D++)if(o.get(D)!==E)u[y]++;else{if(y===C-1){if(this.toNarrowWidePattern(u)===dn.ASTERISK_ENCODING&&o.isRange(Math.max(0,b-Math.floor((D-b)/2)),b,!1))return[b,D];b+=u[0]+u[1],u.copyWithin(0,2,2+y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,E=!E}throw new se}static toNarrowWidePattern(o){let u=o.length,f=0,p;do{let y=2147483647;for(let C of o)C<y&&C>f&&(y=C);f=y,p=0;let b=0,E=0;for(let C=0;C<u;C++){let D=o[C];D>f&&(E|=1<<u-1-C,p++,b+=D)}if(p===3){for(let C=0;C<u&&p>0;C++){let D=o[C];if(D>f&&(p--,D*2>=b))return-1}return E}}while(p>3);return-1}static patternToChar(o){for(let u=0;u<dn.CHARACTER_ENCODINGS.length;u++)if(dn.CHARACTER_ENCODINGS[u]===o)return dn.ALPHABET_STRING.charAt(u);if(o===dn.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(o){let u=o.length,f="";for(let p=0;p<u;p++){let y=o.charAt(p);if(y==="+"||y==="$"||y==="%"||y==="/"){let b=o.charAt(p+1),E="\0";switch(y){case"+":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)+32);else throw new k;break;case"$":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)-64);else throw new k;break;case"%":if(b>="A"&&b<="E")E=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")E=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")E=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")E="\0";else if(b==="V")E="@";else if(b==="W")E="`";else if(b==="X"||b==="Y"||b==="Z")E="";else throw new k;break;case"/":if(b>="A"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")E=":";else throw new k;break}f+=E,p++}else f+=y}return f}}dn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dn.ASTERISK_ENCODING=148;class en extends pn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,f){let p=this.decodeStart(u),y=this.decodeEnd(u),b=new z;en.decodeMiddle(u,p[1],y[0],b);let E=b.toString(),C=null;f!=null&&(C=f.get(ne.ALLOWED_LENGTHS)),C==null&&(C=en.DEFAULT_ALLOWED_LENGTHS);let D=E.length,B=!1,Y=0;for(let ce of C){if(D===ce){B=!0;break}ce>Y&&(Y=ce)}if(!B&&D>Y&&(B=!0),!B)throw new k;const K=[new Ze(p[1],o),new Ze(y[0],o)];return new $e(E,null,0,K,je.ITF,new Date().getTime())}static decodeMiddle(o,u,f,p){let y=new Int32Array(10),b=new Int32Array(5),E=new Int32Array(5);for(y.fill(0),b.fill(0),E.fill(0);u<f;){pn.recordPattern(o,u,y);for(let D=0;D<5;D++){let B=2*D;b[D]=y[B],E[D]=y[B+1]}let C=en.decodeDigit(b);p.append(C.toString()),C=this.decodeDigit(E),p.append(C.toString()),y.forEach(function(D){u+=D})}}decodeStart(o){let u=en.skipWhiteSpace(o),f=en.findGuardPattern(o,u,en.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(o,f[0]),f}validateQuietZone(o,u){let f=this.narrowLineWidth*10;f=f<u?f:u;for(let p=u-1;f>0&&p>=0&&!o.get(p);p--)f--;if(f!==0)throw new se}static skipWhiteSpace(o){const u=o.getSize(),f=o.getNextSet(0);if(f===u)throw new se;return f}decodeEnd(o){o.reverse();try{let u=en.skipWhiteSpace(o),f;try{f=en.findGuardPattern(o,u,en.END_PATTERN_REVERSED[0])}catch(y){y instanceof se&&(f=en.findGuardPattern(o,u,en.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,f[0]);let p=f[0];return f[0]=o.getSize()-f[1],f[1]=o.getSize()-p,f}finally{o.reverse()}}static findGuardPattern(o,u,f){let p=f.length,y=new Int32Array(p),b=o.getSize(),E=!1,C=0,D=u;y.fill(0);for(let B=u;B<b;B++)if(o.get(B)!==E)y[C]++;else{if(C===p-1){if(pn.patternMatchVariance(y,f,en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return[D,B];D+=y[0]+y[1],M.arraycopy(y,2,y,0,C-1),y[C-1]=0,y[C]=0,C--}else C++;y[C]=1,E=!E}throw new se}static decodeDigit(o){let u=en.MAX_AVG_VARIANCE,f=-1,p=en.PATTERNS.length;for(let y=0;y<p;y++){let b=en.PATTERNS[y],E=pn.patternMatchVariance(o,b,en.MAX_INDIVIDUAL_VARIANCE);E<u?(u=E,f=y):E===u&&(f=-1)}if(f>=0)return f%10;throw new se}}en.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],en.MAX_AVG_VARIANCE=.38,en.MAX_INDIVIDUAL_VARIANCE=.5,en.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],en.START_PATTERN=Int32Array.from([1,1,1,1]),en.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class yn extends pn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,f,p=0,y=Int32Array.from([0,0,0]);for(;!u;){y=Int32Array.from([0,0,0]),f=yn.findGuardPattern(o,p,!1,this.START_END_PATTERN,y);let b=f[0];p=f[1];let E=b-(p-b);E>=0&&(u=o.isRange(E,b,!1))}return f}static checkChecksum(o){return yn.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let f=parseInt(o.charAt(u-1),10);return yn.getStandardUPCEANChecksum(o.substring(0,u-1))===f}static getStandardUPCEANChecksum(o){let u=o.length,f=0;for(let p=u-1;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new k;f+=y}f*=3;for(let p=u-2;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new k;f+=y}return(1e3-f)%10}static decodeEnd(o,u){return yn.findGuardPattern(o,u,!1,yn.START_END_PATTERN,new Int32Array(yn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,f,p){return this.findGuardPattern(o,u,f,p,new Int32Array(p.length))}static findGuardPattern(o,u,f,p,y){let b=o.getSize();u=f?o.getNextUnset(u):o.getNextSet(u);let E=0,C=u,D=p.length,B=f;for(let Y=u;Y<b;Y++)if(o.get(Y)!==B)y[E]++;else{if(E===D-1){if(pn.patternMatchVariance(y,p,yn.MAX_INDIVIDUAL_VARIANCE)<yn.MAX_AVG_VARIANCE)return Int32Array.from([C,Y]);C+=y[0]+y[1];let K=y.slice(2,y.length-1);for(let ie=0;ie<E-1;ie++)y[ie]=K[ie];y[E-1]=0,y[E]=0,E--}else E++;y[E]=1,B=!B}throw new se}static decodeDigit(o,u,f,p){this.recordPattern(o,f,u);let y=this.MAX_AVG_VARIANCE,b=-1,E=p.length;for(let C=0;C<E;C++){let D=p[C],B=pn.patternMatchVariance(u,D,yn.MAX_INDIVIDUAL_VARIANCE);B<y&&(y=B,b=C)}if(b>=0)return b;throw new se}}yn.MAX_AVG_VARIANCE=.48,yn.MAX_INDIVIDUAL_VARIANCE=.7,yn.START_END_PATTERN=Int32Array.from([1,1,1]),yn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),yn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ns{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,f){let p=this.decodeRowStringBuffer,y=this.decodeMiddle(u,f,p),b=p.toString(),E=Ns.parseExtensionString(b),C=[new Ze((f[0]+f[1])/2,o),new Ze(y,o)],D=new $e(b,null,0,C,je.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&D.putAllMetadata(E),D}decodeMiddle(o,u,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=u[1],E=0;for(let D=0;D<5&&b<y;D++){let B=yn.decodeDigit(o,p,b,yn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+B%10);for(let Y of p)b+=Y;B>=10&&(E|=1<<4-D),D!==4&&(b=o.getNextSet(b),b=o.getNextUnset(b))}if(f.length!==5)throw new se;let C=this.determineCheckDigit(E);if(Ns.extensionChecksum(f.toString())!==C)throw new se;return b}static extensionChecksum(o){let u=o.length,f=0;for(let p=u-2;p>=0;p-=2)f+=o.charAt(p).charCodeAt(0)-48;f*=3;for(let p=u-1;p>=0;p-=2)f+=o.charAt(p).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new se}static parseExtensionString(o){if(o.length!==5)return null;let u=Ns.parseExtension5String(o);return u==null?null:new Map([[vt.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="£";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let f=parseInt(o.substring(1)),p=(f/100).toString(),y=f%100,b=y<10?"0"+y:y.toString();return u+p+"."+b}}class Ao{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,f){let p=this.decodeRowStringBuffer,y=this.decodeMiddle(u,f,p),b=p.toString(),E=Ao.parseExtensionString(b),C=[new Ze((f[0]+f[1])/2,o),new Ze(y,o)],D=new $e(b,null,0,C,je.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&D.putAllMetadata(E),D}decodeMiddle(o,u,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=u[1],E=0;for(let C=0;C<2&&b<y;C++){let D=yn.decodeDigit(o,p,b,yn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+D%10);for(let B of p)b+=B;D>=10&&(E|=1<<1-C),C!==1&&(b=o.getNextSet(b),b=o.getNextUnset(b))}if(f.length!==2)throw new se;if(parseInt(f.toString())%4!==E)throw new se;return b}static parseExtensionString(o){return o.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(o)]])}}class pl{static decodeRow(o,u,f){let p=yn.findGuardPattern(u,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ns().decodeRow(o,u,p)}catch{return new Ao().decodeRow(o,u,p)}}}pl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Pt extends yn{constructor(){super(),this.decodeRowStringBuffer="",Pt.L_AND_G_PATTERNS=Pt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=Pt.L_PATTERNS[o-10],f=new Int32Array(u.length);for(let p=0;p<u.length;p++)f[p]=u[u.length-p-1];Pt.L_AND_G_PATTERNS[o]=f}}decodeRow(o,u,f){let p=Pt.findStartGuardPattern(u),y=f==null?null:f.get(ne.NEED_RESULT_POINT_CALLBACK);if(y!=null){const Ue=new Ze((p[0]+p[1])/2,o);y.foundPossibleResultPoint(Ue)}let b=this.decodeMiddle(u,p,this.decodeRowStringBuffer),E=b.rowOffset,C=b.resultString;if(y!=null){const Ue=new Ze(E,o);y.foundPossibleResultPoint(Ue)}let D=this.decodeEnd(u,E);if(y!=null){const Ue=new Ze((D[0]+D[1])/2,o);y.foundPossibleResultPoint(Ue)}let B=D[1],Y=B+(B-D[0]);if(Y>=u.getSize()||!u.isRange(B,Y,!1))throw new se;let K=C.toString();if(K.length<8)throw new k;if(!Pt.checkChecksum(K))throw new T;let ie=(p[1]+p[0])/2,ce=(D[1]+D[0])/2,fe=this.getBarcodeFormat(),ye=[new Ze(ie,o),new Ze(ce,o)],Ae=new $e(K,null,0,ye,fe,new Date().getTime()),Ve=0;try{let Ue=pl.decodeRow(o,u,D[1]);Ae.putMetadata(vt.UPC_EAN_EXTENSION,Ue.getText()),Ae.putAllMetadata(Ue.getResultMetadata()),Ae.addResultPoints(Ue.getResultPoints()),Ve=Ue.getText().length}catch{}let ze=f==null?null:f.get(ne.ALLOWED_EAN_EXTENSIONS);if(ze!=null){let Ue=!1;for(let Ot in ze)if(Ve.toString()===Ot){Ue=!0;break}if(!Ue)throw new se}return Ae}decodeEnd(o,u){return Pt.findGuardPattern(o,u,!1,Pt.START_END_PATTERN,new Int32Array(Pt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Pt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let f=parseInt(o.charAt(u-1),10);return Pt.getStandardUPCEANChecksum(o.substring(0,u-1))===f}static getStandardUPCEANChecksum(o){let u=o.length,f=0;for(let p=u-1;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new k;f+=y}f*=3;for(let p=u-2;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new k;f+=y}return(1e3-f)%10}}class mi extends Pt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=u[1],E=0;for(let D=0;D<6&&b<y;D++){let B=Pt.decodeDigit(o,p,b,Pt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+B%10);for(let Y of p)b+=Y;B>=10&&(E|=1<<5-D)}f=mi.determineFirstDigit(f,E),b=Pt.findGuardPattern(o,b,!0,Pt.MIDDLE_PATTERN,new Int32Array(Pt.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<6&&b<y;D++){let B=Pt.decodeDigit(o,p,b,Pt.L_PATTERNS);f+=String.fromCharCode(48+B);for(let Y of p)b+=Y}return{rowOffset:b,resultString:f}}getBarcodeFormat(){return je.EAN_13}static determineFirstDigit(o,u){for(let f=0;f<10;f++)if(u===this.FIRST_DIGIT_ENCODINGS[f])return o=String.fromCharCode(48+f)+o,o;throw new se}}mi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class yl extends Pt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,f){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=u[1];for(let C=0;C<4&&b<y;C++){let D=Pt.decodeDigit(o,p,b,Pt.L_PATTERNS);f+=String.fromCharCode(48+D);for(let B of p)b+=B}b=Pt.findGuardPattern(o,b,!0,Pt.MIDDLE_PATTERN,new Int32Array(Pt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&b<y;C++){let D=Pt.decodeDigit(o,p,b,Pt.L_PATTERNS);f+=String.fromCharCode(48+D);for(let B of p)b+=B}return{rowOffset:b,resultString:f}}getBarcodeFormat(){return je.EAN_8}}class Sa extends Pt{constructor(){super(...arguments),this.ean13Reader=new mi}getBarcodeFormat(){return je.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,f))}decodeMiddle(o,u,f){return this.ean13Reader.decodeMiddle(o,u,f)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let f=new $e(u.substring(1),null,null,o.getResultPoints(),je.UPC_A);return o.getResultMetadata()!=null&&f.putAllMetadata(o.getResultMetadata()),f}else throw new se}reset(){this.ean13Reader.reset()}}class pi extends Pt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,f){const p=this.decodeMiddleCounters.map(D=>D);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const y=o.getSize();let b=u[1],E=0;for(let D=0;D<6&&b<y;D++){const B=pi.decodeDigit(o,p,b,pi.L_AND_G_PATTERNS);f+=String.fromCharCode(48+B%10);for(let Y of p)b+=Y;B>=10&&(E|=1<<5-D)}let C=pi.determineNumSysAndCheckDigit(f,E);return{rowOffset:b,resultString:C}}decodeEnd(o,u){return pi.findGuardPatternWithoutCounters(o,u,!0,pi.MIDDLE_END_PATTERN)}checkChecksum(o){return Pt.checkChecksum(pi.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let f=0;f<=1;f++)for(let p=0;p<10;p++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][p]){let y=String.fromCharCode(48+f),b=String.fromCharCode(48+p);return y+o+b}throw se.getNotFoundInstance()}getBarcodeFormat(){return je.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(y=>y.charCodeAt(0)),f=new z;f.append(o.charAt(0));let p=u[5];switch(p){case 0:case 1:case 2:f.appendChars(u,0,2),f.append(p),f.append("0000"),f.appendChars(u,2,3);break;case 3:f.appendChars(u,0,3),f.append("00000"),f.appendChars(u,3,2);break;case 4:f.appendChars(u,0,4),f.append("00000"),f.append(u[4]);break;default:f.appendChars(u,0,5),f.append("0000"),f.append(p);break}return o.length>=8&&f.append(o.charAt(7)),f.toString()}}pi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ts extends pn{constructor(o){super();let u=o==null?null:o.get(ne.POSSIBLE_FORMATS),f=[];r(u)?(f.push(new mi),f.push(new Sa),f.push(new yl),f.push(new pi)):(u.indexOf(je.EAN_13)>-1&&f.push(new mi),u.indexOf(je.UPC_A)>-1&&f.push(new Sa),u.indexOf(je.EAN_8)>-1&&f.push(new yl),u.indexOf(je.UPC_E)>-1&&f.push(new pi)),this.readers=f}decodeRow(o,u,f){for(let p of this.readers)try{const y=p.decodeRow(o,u,f),b=y.getBarcodeFormat()===je.EAN_13&&y.getText().charAt(0)==="0",E=f==null?null:f.get(ne.POSSIBLE_FORMATS),C=E==null||E.includes(je.UPC_A);if(b&&C){const D=y.getRawBytes(),B=new $e(y.getText().substring(1),D,D?D.length:null,y.getResultPoints(),je.UPC_A);return B.putAllMetadata(y.getResultMetadata()),B}return y}catch{}throw new se}reset(){for(let o of this.readers)o.reset()}}class mr extends pn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let f=0;f<u.length;f++)if(pn.patternMatchVariance(o,u[f],mr.MAX_INDIVIDUAL_VARIANCE)<mr.MAX_AVG_VARIANCE)return f;throw new se}static count(o){return St.sum(new Int32Array(o))}static increment(o,u){let f=0,p=u[0];for(let y=1;y<o.length;y++)u[y]>p&&(p=u[y],f=y);o[f]++}static decrement(o,u){let f=0,p=u[0];for(let y=1;y<o.length;y++)u[y]<p&&(p=u[y],f=y);o[f]--}static isFinderPattern(o){let u=o[0]+o[1],f=u+o[2]+o[3],p=u/f;if(p>=mr.MIN_FINDER_PATTERN_RATIO&&p<=mr.MAX_FINDER_PATTERN_RATIO){let y=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let E of o)E>b&&(b=E),E<y&&(y=E);return b<10*y}return!1}}mr.MAX_AVG_VARIANCE=.2,mr.MAX_INDIVIDUAL_VARIANCE=.45,mr.MIN_FINDER_PATTERN_RATIO=9.5/12,mr.MAX_FINDER_PATTERN_RATIO=12.5/14;class $i{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof $i))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class So{constructor(o,u,f,p,y){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new Ze(f,y)),this.resultPoints.push(new Ze(p,y))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof So))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class Jt{constructor(){}static getRSSvalue(o,u,f){let p=0;for(let C of o)p+=C;let y=0,b=0,E=o.length;for(let C=0;C<E-1;C++){let D;for(D=1,b|=1<<C;D<o[C];D++,b&=~(1<<C)){let B=Jt.combins(p-D-1,E-C-2);if(f&&b===0&&p-D-(E-C-1)>=E-C-1&&(B-=Jt.combins(p-D-(E-C),E-C-2)),E-C-1>1){let Y=0;for(let K=p-D-(E-C-2);K>u;K--)Y+=Jt.combins(p-D-K-1,E-C-3);B-=Y*(E-1-C)}else p-D>u&&B--;y+=B}p-=D}return y}static combins(o,u){let f,p;o-u>u?(p=u,f=o-u):(p=o-u,f=u);let y=1,b=1;for(let E=o;E>f;E--)y*=E,b<=p&&(y/=b,b++);for(;b<=p;)y/=b,b++;return y}}class Ir{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let f=12*u,p=new ee(f),y=0,E=o[0].getRightChar().getValue();for(let C=11;C>=0;--C)(E&1<<C)!=0&&p.set(y),y++;for(let C=1;C<o.length;++C){let D=o[C],B=D.getLeftChar().getValue();for(let Y=11;Y>=0;--Y)(B&1<<Y)!=0&&p.set(y),y++;if(D.getRightChar()!=null){let Y=D.getRightChar().getValue();for(let K=11;K>=0;--K)(Y&1<<K)!=0&&p.set(y),y++}}return p}}class On{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Di{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class jr extends Di{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===jr.FNC1}}jr.FNC1="$";class Ds extends Di{constructor(o,u,f){super(o),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Or extends Di{constructor(o,u,f){if(super(o),u<0||u>10||f<0||f>10)throw new k;this.firstDigit=u,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Or.FNC1}isSecondDigitFNC1(){return this.secondDigit===Or.FNC1}isAnyFNC1(){return this.firstDigit===Or.FNC1||this.secondDigit===Or.FNC1}}Or.FNC1=10;class Qe{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new se;let u=o.substring(0,2);for(let y of Qe.TWO_DIGIT_DATA_LENGTH)if(y[0]===u)return y[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(2,y[2],o):Qe.processFixedAI(2,y[1],o);if(o.length<3)throw new se;let f=o.substring(0,3);for(let y of Qe.THREE_DIGIT_DATA_LENGTH)if(y[0]===f)return y[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(3,y[2],o):Qe.processFixedAI(3,y[1],o);for(let y of Qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(y[0]===f)return y[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(4,y[2],o):Qe.processFixedAI(4,y[1],o);if(o.length<4)throw new se;let p=o.substring(0,4);for(let y of Qe.FOUR_DIGIT_DATA_LENGTH)if(y[0]===p)return y[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(4,y[2],o):Qe.processFixedAI(4,y[1],o);throw new se}static processFixedAI(o,u,f){if(f.length<o)throw new se;let p=f.substring(0,o);if(f.length<o+u)throw new se;let y=f.substring(o,o+u),b=f.substring(o+u),E="("+p+")"+y,C=Qe.parseFieldsInGeneralPurpose(b);return C==null?E:E+C}static processVariableAI(o,u,f){let p=f.substring(0,o),y;f.length<o+u?y=f.length:y=o+u;let b=f.substring(o,y),E=f.substring(y),C="("+p+")"+b,D=Qe.parseFieldsInGeneralPurpose(E);return D==null?C:C+D}}Qe.VARIABLE_LENGTH=[],Qe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Qe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Qe.VARIABLE_LENGTH,20],["22",Qe.VARIABLE_LENGTH,29],["30",Qe.VARIABLE_LENGTH,8],["37",Qe.VARIABLE_LENGTH,8],["90",Qe.VARIABLE_LENGTH,30],["91",Qe.VARIABLE_LENGTH,30],["92",Qe.VARIABLE_LENGTH,30],["93",Qe.VARIABLE_LENGTH,30],["94",Qe.VARIABLE_LENGTH,30],["95",Qe.VARIABLE_LENGTH,30],["96",Qe.VARIABLE_LENGTH,30],["97",Qe.VARIABLE_LENGTH,3],["98",Qe.VARIABLE_LENGTH,30],["99",Qe.VARIABLE_LENGTH,30]],Qe.THREE_DIGIT_DATA_LENGTH=[["240",Qe.VARIABLE_LENGTH,30],["241",Qe.VARIABLE_LENGTH,30],["242",Qe.VARIABLE_LENGTH,6],["250",Qe.VARIABLE_LENGTH,30],["251",Qe.VARIABLE_LENGTH,30],["253",Qe.VARIABLE_LENGTH,17],["254",Qe.VARIABLE_LENGTH,20],["400",Qe.VARIABLE_LENGTH,30],["401",Qe.VARIABLE_LENGTH,30],["402",17],["403",Qe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Qe.VARIABLE_LENGTH,20],["421",Qe.VARIABLE_LENGTH,15],["422",3],["423",Qe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Qe.VARIABLE_LENGTH,15],["391",Qe.VARIABLE_LENGTH,18],["392",Qe.VARIABLE_LENGTH,15],["393",Qe.VARIABLE_LENGTH,18],["703",Qe.VARIABLE_LENGTH,30]],Qe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Qe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Qe.VARIABLE_LENGTH,20],["8003",Qe.VARIABLE_LENGTH,30],["8004",Qe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Qe.VARIABLE_LENGTH,30],["8008",Qe.VARIABLE_LENGTH,12],["8018",18],["8020",Qe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Qe.VARIABLE_LENGTH,70],["8200",Qe.VARIABLE_LENGTH,70]];class ia{constructor(o){this.buffer=new z,this.information=o}decodeAllCodes(o,u){let f=u,p=null;do{let y=this.decodeGeneralPurposeField(f,p),b=Qe.parseFieldsInGeneralPurpose(y.getNewString());if(b!=null&&o.append(b),y.isRemaining()?p=""+y.getRemainingValue():p=null,f===y.getNewPosition())break;f=y.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let y=this.extractNumericValueFromBitArray(o,4);return y===0?new Or(this.information.getSize(),Or.FNC1,Or.FNC1):new Or(this.information.getSize(),y-1,Or.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),f=(u-8)/11,p=(u-8)%11;return new Or(o+7,f,p)}extractNumericValueFromBitArray(o,u){return ia.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,f){let p=0;for(let y=0;y<f;++y)o.get(u+y)&&(p|=1<<f-y-1);return p}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Ds(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Ds(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let f=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(f!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new Ds(this.current.getPosition(),this.buffer.toString()):u=new Ds(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new On(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new Ds(this.current.getPosition(),this.buffer.toString());return new On(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new On(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ds(this.current.getPosition(),this.buffer.toString());return new On(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new On(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ds(this.current.getPosition(),this.buffer.toString());return new On(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new On(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<116)return!0;if(o+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,8);return p>=232&&p<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new jr(o+5,jr.FNC1);if(u>=5&&u<15)return new jr(o+5,"0"+(u-5));let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<90)return new jr(o+7,""+(f+1));if(f>=90&&f<116)return new jr(o+7,""+(f+7));let p=this.extractNumericValueFromBitArray(o,8),y;switch(p){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new k}return new jr(o+8,y)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,6);return f>=16&&f<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new jr(o+5,jr.FNC1);if(u>=5&&u<15)return new jr(o+5,"0"+(u-5));let f=this.extractNumericValueFromBitArray(o,6);if(f>=32&&f<58)return new jr(o+6,""+(f+33));let p;switch(f){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new Qt("Decoding invalid alphanumeric value: "+f)}return new jr(o+6,p)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class ns{constructor(o){this.information=o,this.generalDecoder=new ia(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nr extends ns{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let f=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,f)}encodeCompressedGtinWithoutAI(o,u,f){for(let p=0;p<4;++p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*p,10);y/100===0&&o.append("0"),y/10===0&&o.append("0"),o.append(y)}nr.appendCheckDigit(o,f)}static appendCheckDigit(o,u){let f=0;for(let p=0;p<13;p++){let y=o.charAt(p+u).charCodeAt(0)-48;f+=(p&1)===0?3*y:y}f=10-f%10,f===10&&(f=0),o.append(f)}}nr.GTIN_SIZE=40;class yi extends nr{constructor(o){super(o)}parseInformation(){let o=new z;o.append("(01)");let u=o.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(yi.HEADER_SIZE,4);return o.append(f),this.encodeCompressedGtinWithoutAI(o,yi.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,yi.HEADER_SIZE+44)}}yi.HEADER_SIZE=4;class Xi extends ns{constructor(o){super(o)}parseInformation(){let o=new z;return this.getGeneralDecoder().decodeAllCodes(o,Xi.HEADER_SIZE)}}Xi.HEADER_SIZE=5;class Br extends nr{constructor(o){super(o)}encodeCompressedWeight(o,u,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(u,f);this.addWeightCode(o,p);let y=this.checkWeight(p),b=1e5;for(let E=0;E<5;++E)y/b===0&&o.append("0"),b/=10;o.append(y)}}class on extends Br{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=on.HEADER_SIZE+Br.GTIN_SIZE+on.WEIGHT_SIZE)throw new se;let o=new z;return this.encodeCompressedGtin(o,on.HEADER_SIZE),this.encodeCompressedWeight(o,on.HEADER_SIZE+Br.GTIN_SIZE,on.WEIGHT_SIZE),o.toString()}}on.HEADER_SIZE=5,on.WEIGHT_SIZE=15;class Tu extends on{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class vl extends on{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class xr extends nr{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<xr.HEADER_SIZE+nr.GTIN_SIZE)throw new se;let o=new z;this.encodeCompressedGtin(o,xr.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+nr.GTIN_SIZE,xr.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(xr.HEADER_SIZE+nr.GTIN_SIZE+xr.LAST_DIGIT_SIZE,null);return o.append(f.getNewString()),o.toString()}}xr.HEADER_SIZE=8,xr.LAST_DIGIT_SIZE=2;class Xn extends nr{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Xn.HEADER_SIZE+nr.GTIN_SIZE)throw new se;let o=new z;this.encodeCompressedGtin(o,Xn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Xn.HEADER_SIZE+nr.GTIN_SIZE,Xn.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Xn.HEADER_SIZE+nr.GTIN_SIZE+Xn.LAST_DIGIT_SIZE,Xn.FIRST_THREE_DIGITS_SIZE);f/100==0&&o.append("0"),f/10==0&&o.append("0"),o.append(f);let p=this.getGeneralDecoder().decodeGeneralPurposeField(Xn.HEADER_SIZE+nr.GTIN_SIZE+Xn.LAST_DIGIT_SIZE+Xn.FIRST_THREE_DIGITS_SIZE,null);return o.append(p.getNewString()),o.toString()}}Xn.HEADER_SIZE=8,Xn.LAST_DIGIT_SIZE=2,Xn.FIRST_THREE_DIGITS_SIZE=10;class En extends Br{constructor(o,u,f){super(o),this.dateCode=f,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=En.HEADER_SIZE+En.GTIN_SIZE+En.WEIGHT_SIZE+En.DATE_SIZE)throw new se;let o=new z;return this.encodeCompressedGtin(o,En.HEADER_SIZE),this.encodeCompressedWeight(o,En.HEADER_SIZE+En.GTIN_SIZE,En.WEIGHT_SIZE),this.encodeCompressedDate(o,En.HEADER_SIZE+En.GTIN_SIZE+En.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(u,En.DATE_SIZE);if(f==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let p=f%32;f/=32;let y=f%12+1;f/=12;let b=f;b/10==0&&o.append("0"),o.append(b),y/10==0&&o.append("0"),o.append(y),p/10==0&&o.append("0"),o.append(p)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}En.HEADER_SIZE=8,En.WEIGHT_SIZE=20,En.DATE_SIZE=16;function Iu(G){try{if(G.get(1))return new yi(G);if(!G.get(2))return new Xi(G);switch(ia.extractNumericValueFromBitArray(G,1,4)){case 4:return new Tu(G);case 5:return new vl(G)}switch(ia.extractNumericValueFromBitArray(G,1,5)){case 12:return new xr(G);case 13:return new Xn(G)}switch(ia.extractNumericValueFromBitArray(G,1,7)){case 56:return new En(G,"310","11");case 57:return new En(G,"320","11");case 58:return new En(G,"310","13");case 59:return new En(G,"320","13");case 60:return new En(G,"310","15");case 61:return new En(G,"320","15");case 62:return new En(G,"310","17");case 63:return new En(G,"320","17")}}catch(o){throw console.log(o),new Qt("unknown decoder: "+G)}}class Mi{constructor(o,u,f,p){this.leftchar=o,this.rightchar=u,this.finderpattern=f,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof Mi?Mi.equalsOrNull(o.leftchar,u.leftchar)&&Mi.equalsOrNull(o.rightchar,u.rightchar)&&Mi.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:Mi.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class xl{constructor(o,u,f){this.pairs=o,this.rowNumber=u,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof xl?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let f;return o.forEach((p,y)=>{u.forEach(b=>{p.getLeftChar().getValue()===b.getLeftChar().getValue()&&p.getRightChar().getValue()===b.getRightChar().getValue()&&p.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(f=!0)})}),f}}class Me extends mr{constructor(o){super(...arguments),this.pairs=new Array(Me.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,f){this.pairs.length=0,this.startFromEven=!1;try{return Me.constructResult(this.decodeRow2pairs(o,u))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,Me.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(y){if(y instanceof se){if(!this.pairs.length)throw new se;f=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(o,!1),p){let y=this.checkRowsBoolean(!1);if(y!=null||(y=this.checkRowsBoolean(!0),y!=null))return y}throw new se}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let f=u;f<this.rows.length;f++){let p=this.rows[f];this.pairs.length=0;for(let b of o)this.pairs.push(b.getPairs());if(this.pairs.push(p.getPairs()),!Me.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let y=new Array(o);y.push(p);try{return this.checkRows(y,f+1)}catch(b){this.verbose&&console.log(b)}}throw new se}static isValidSequence(o){for(let u of Me.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let f=!0;for(let p=0;p<o.length;p++)if(o[p].getFinderPattern().getValue()!=u[p]){f=!1;break}if(f)return!0}return!1}storeRow(o,u){let f=0,p=!1,y=!1;for(;f<this.rows.length;){let b=this.rows[f];if(b.getRowNumber()>o){y=b.isEquivalent(this.pairs);break}p=b.isEquivalent(this.pairs),f++}y||p||Me.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new xl(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let f of u)if(f.getPairs().length!==o.length){for(let p of f.getPairs())for(let y of o)if(Mi.equals(p,y))break}}static isPartialRow(o,u){for(let f of u){let p=!0;for(let y of o){let b=!1;for(let E of f.getPairs())if(y.equals(E)){b=!0;break}if(!b){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=Ir.buildBitArray(o),p=Iu(u).parseInformation(),y=o[0].getFinderPattern().getResultPoints(),b=o[o.length-1].getFinderPattern().getResultPoints(),E=[y[0],y[1],b[0],b[1]];return new $e(p,null,null,E,je.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),f=o.getRightChar();if(f==null)return!1;let p=f.getChecksumPortion(),y=2;for(let E=1;E<this.pairs.size();++E){let C=this.pairs.get(E);p+=C.getLeftChar().getChecksumPortion(),y++;let D=C.getRightChar();D!=null&&(p+=D.getChecksumPortion(),y++)}return p%=211,211*(y-4)+p==u.getValue()}static getNextSecondBar(o,u){let f;return o.get(u)?(f=o.getNextUnset(u),f=o.getNextSet(f)):(f=o.getNextSet(u),f=o.getNextUnset(f)),f}retrieveNextPair(o,u,f){let p=u.length%2==0;this.startFromEven&&(p=!p);let y,b=!0,E=-1;do this.findNextPair(o,u,E),y=this.parseFoundFinderPattern(o,f,p),y==null?E=Me.getNextSecondBar(o,this.startEnd[0]):b=!1;while(b);let C=this.decodeDataCharacter(o,y,p,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new se;let D;try{D=this.decodeDataCharacter(o,y,p,!1)}catch(B){D=null,this.verbose&&console.log(B)}return new Mi(C,D,y,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b;f>=0?b=f:this.isEmptyPair(u)?b=0:b=u[u.length-1].getFinderPattern().getStartEnd()[1];let E=u.length%2!=0;this.startFromEven&&(E=!E);let C=!1;for(;b<y&&(C=!o.get(b),!!C);)b++;let D=0,B=b;for(let Y=b;Y<y;Y++)if(o.get(Y)!=C)p[D]++;else{if(D==3){if(E&&Me.reverseCounters(p),Me.isFinderPattern(p)){this.startEnd[0]=B,this.startEnd[1]=Y;return}E&&Me.reverseCounters(p),B+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,D--}else D++;p[D]=1,C=!C}throw new se}static reverseCounters(o){let u=o.length;for(let f=0;f<u/2;++f){let p=o[f];o[f]=o[u-f-1],o[u-f-1]=p}}parseFoundFinderPattern(o,u,f){let p,y,b;if(f){let D=this.startEnd[0]-1;for(;D>=0&&!o.get(D);)D--;D++,p=this.startEnd[0]-D,y=D,b=this.startEnd[1]}else y=this.startEnd[0],b=o.getNextUnset(this.startEnd[1]+1),p=b-this.startEnd[1];let E=this.getDecodeFinderCounters();M.arraycopy(E,0,E,1,E.length-1),E[0]=p;let C;try{C=this.parseFinderValue(E,Me.FINDER_PATTERNS)}catch{return null}return new So(C,[y,b],y,b,u)}decodeDataCharacter(o,u,f,p){let y=this.getDataCharacterCounters();for(let An=0;An<y.length;An++)y[An]=0;if(p)Me.recordPatternInReverse(o,u.getStartEnd()[0],y);else{Me.recordPattern(o,u.getStartEnd()[1],y);for(let An=0,Xr=y.length-1;An<Xr;An++,Xr--){let Bi=y[An];y[An]=y[Xr],y[Xr]=Bi}}let b=17,E=St.sum(new Int32Array(y))/b,C=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(E-C)/C>.3)throw new se;let D=this.getOddCounts(),B=this.getEvenCounts(),Y=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let An=0;An<y.length;An++){let Xr=1*y[An]/E,Bi=Xr+.5;if(Bi<1){if(Xr<.3)throw new se;Bi=1}else if(Bi>8){if(Xr>8.7)throw new se;Bi=8}let Ro=An/2;(An&1)==0?(D[Ro]=Bi,Y[Ro]=Xr-Bi):(B[Ro]=Bi,K[Ro]=Xr-Bi)}this.adjustOddEvenCounts(b);let ie=4*u.getValue()+(f?0:2)+(p?0:1)-1,ce=0,fe=0;for(let An=D.length-1;An>=0;An--){if(Me.isNotA1left(u,f,p)){let Xr=Me.WEIGHTS[ie][2*An];fe+=D[An]*Xr}ce+=D[An]}let ye=0;for(let An=B.length-1;An>=0;An--)if(Me.isNotA1left(u,f,p)){let Xr=Me.WEIGHTS[ie][2*An+1];ye+=B[An]*Xr}let Ae=fe+ye;if((ce&1)!=0||ce>13||ce<4)throw new se;let Ve=(13-ce)/2,ze=Me.SYMBOL_WIDEST[Ve],Ue=9-ze,Ot=Jt.getRSSvalue(D,ze,!0),Tt=Jt.getRSSvalue(B,Ue,!1),bi=Me.EVEN_TOTAL_SUBSET[Ve],fa=Me.GSUM[Ve],ji=Ot*bi+Tt+fa;return new $i(ji,Ae)}static isNotA1left(o,u,f){return!(o.getValue()==0&&u&&f)}adjustOddEvenCounts(o){let u=St.sum(new Int32Array(this.getOddCounts())),f=St.sum(new Int32Array(this.getEvenCounts())),p=!1,y=!1;u>13?y=!0:u<4&&(p=!0);let b=!1,E=!1;f>13?E=!0:f<4&&(b=!0);let C=u+f-o,D=(u&1)==1,B=(f&1)==0;if(C==1)if(D){if(B)throw new se;y=!0}else{if(!B)throw new se;E=!0}else if(C==-1)if(D){if(B)throw new se;p=!0}else{if(!B)throw new se;b=!0}else if(C==0){if(D){if(!B)throw new se;u<f?(p=!0,E=!0):(y=!0,b=!0)}else if(B)throw new se}else throw new se;if(p){if(y)throw new se;Me.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Me.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(E)throw new se;Me.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Me.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Me.SYMBOL_WIDEST=[7,5,4,3,1],Me.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Me.GSUM=[0,348,1388,2948,3988],Me.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Me.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Me.FINDER_PAT_A=0,Me.FINDER_PAT_B=1,Me.FINDER_PAT_C=2,Me.FINDER_PAT_D=3,Me.FINDER_PAT_E=4,Me.FINDER_PAT_F=5,Me.FINDER_PATTERN_SEQUENCES=[[Me.FINDER_PAT_A,Me.FINDER_PAT_A],[Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B],[Me.FINDER_PAT_A,Me.FINDER_PAT_C,Me.FINDER_PAT_B,Me.FINDER_PAT_D],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_C],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_D,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_D],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_E],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F]],Me.MAX_PAIRS=11;class rs extends $i{constructor(o,u,f){super(o,u),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class kt extends mr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,f){const p=this.decodePair(u,!1,o,f);kt.addOrTally(this.possibleLeftPairs,p),u.reverse();let y=this.decodePair(u,!0,o,f);kt.addOrTally(this.possibleRightPairs,y),u.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&kt.checkChecksum(b,E))return kt.constructResult(b,E)}throw new se}static addOrTally(o,u){if(u==null)return;let f=!1;for(let p of o)if(p.getValue()===u.getValue()){p.incrementCount(),f=!0;break}f||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let f=4537077*o.getValue()+u.getValue(),p=new String(f).toString(),y=new z;for(let D=13-p.length;D>0;D--)y.append("0");y.append(p);let b=0;for(let D=0;D<13;D++){let B=y.charAt(D).charCodeAt(0)-48;b+=(D&1)===0?3*B:B}b=10-b%10,b===10&&(b=0),y.append(b.toString());let E=o.getFinderPattern().getResultPoints(),C=u.getFinderPattern().getResultPoints();return new $e(y.toString(),null,0,[E[0],E[1],C[0],C[1]],je.RSS_14,new Date().getTime())}static checkChecksum(o,u){let f=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,p=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,f===p}decodePair(o,u,f,p){try{let y=this.findFinderPattern(o,u),b=this.parseFoundFinderPattern(o,f,u,y),E=p==null?null:p.get(ne.NEED_RESULT_POINT_CALLBACK);if(E!=null){let B=(y[0]+y[1])/2;u&&(B=o.getSize()-1-B),E.foundPossibleResultPoint(new Ze(B,f))}let C=this.decodeDataCharacter(o,b,!0),D=this.decodeDataCharacter(o,b,!1);return new rs(1597*C.getValue()+D.getValue(),C.getChecksumPortion()+4*D.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(o,u,f){let p=this.getDataCharacterCounters();for(let ye=0;ye<p.length;ye++)p[ye]=0;if(f)pn.recordPatternInReverse(o,u.getStartEnd()[0],p);else{pn.recordPattern(o,u.getStartEnd()[1]+1,p);for(let ye=0,Ae=p.length-1;ye<Ae;ye++,Ae--){let Ve=p[ye];p[ye]=p[Ae],p[Ae]=Ve}}let y=f?16:15,b=St.sum(new Int32Array(p))/y,E=this.getOddCounts(),C=this.getEvenCounts(),D=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let ye=0;ye<p.length;ye++){let Ae=p[ye]/b,Ve=Math.floor(Ae+.5);Ve<1?Ve=1:Ve>8&&(Ve=8);let ze=Math.floor(ye/2);(ye&1)===0?(E[ze]=Ve,D[ze]=Ae-Ve):(C[ze]=Ve,B[ze]=Ae-Ve)}this.adjustOddEvenCounts(f,y);let Y=0,K=0;for(let ye=E.length-1;ye>=0;ye--)K*=9,K+=E[ye],Y+=E[ye];let ie=0,ce=0;for(let ye=C.length-1;ye>=0;ye--)ie*=9,ie+=C[ye],ce+=C[ye];let fe=K+3*ie;if(f){if((Y&1)!==0||Y>12||Y<4)throw new se;let ye=(12-Y)/2,Ae=kt.OUTSIDE_ODD_WIDEST[ye],Ve=9-Ae,ze=Jt.getRSSvalue(E,Ae,!1),Ue=Jt.getRSSvalue(C,Ve,!0),Ot=kt.OUTSIDE_EVEN_TOTAL_SUBSET[ye],Tt=kt.OUTSIDE_GSUM[ye];return new $i(ze*Ot+Ue+Tt,fe)}else{if((ce&1)!==0||ce>10||ce<4)throw new se;let ye=(10-ce)/2,Ae=kt.INSIDE_ODD_WIDEST[ye],Ve=9-Ae,ze=Jt.getRSSvalue(E,Ae,!0),Ue=Jt.getRSSvalue(C,Ve,!1),Ot=kt.INSIDE_ODD_TOTAL_SUBSET[ye],Tt=kt.INSIDE_GSUM[ye];return new $i(Ue*Ot+ze+Tt,fe)}}findFinderPattern(o,u){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),y=!1,b=0;for(;b<p&&(y=!o.get(b),u!==y);)b++;let E=0,C=b;for(let D=b;D<p;D++)if(o.get(D)!==y)f[E]++;else{if(E===3){if(mr.isFinderPattern(f))return[C,D];C+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,y=!y}throw new se}parseFoundFinderPattern(o,u,f,p){let y=o.get(p[0]),b=p[0]-1;for(;b>=0&&y!==o.get(b);)b--;b++;const E=p[0]-b,C=this.getDecodeFinderCounters(),D=new Int32Array(C.length);M.arraycopy(C,0,D,1,C.length-1),D[0]=E;const B=this.parseFinderValue(D,kt.FINDER_PATTERNS);let Y=b,K=p[1];return f&&(Y=o.getSize()-1-Y,K=o.getSize()-1-K),new So(B,[b,p[1]],Y,K,u)}adjustOddEvenCounts(o,u){let f=St.sum(new Int32Array(this.getOddCounts())),p=St.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1,E=!1,C=!1;o?(f>12?b=!0:f<4&&(y=!0),p>12?C=!0:p<4&&(E=!0)):(f>11?b=!0:f<5&&(y=!0),p>10?C=!0:p<4&&(E=!0));let D=f+p-u,B=(f&1)===(o?1:0),Y=(p&1)===1;if(D===1)if(B){if(Y)throw new se;b=!0}else{if(!Y)throw new se;C=!0}else if(D===-1)if(B){if(Y)throw new se;y=!0}else{if(!Y)throw new se;E=!0}else if(D===0){if(B){if(!Y)throw new se;f<p?(y=!0,C=!0):(b=!0,E=!0)}else if(Y)throw new se}else throw new se;if(y){if(b)throw new se;mr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&mr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(C)throw new se;mr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&mr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}kt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],kt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],kt.OUTSIDE_GSUM=[0,161,961,2015,2715],kt.INSIDE_GSUM=[0,336,1036,1516],kt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],kt.INSIDE_ODD_WIDEST=[2,4,6,8],kt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class aa extends pn{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const f=o?o.get(ne.POSSIBLE_FORMATS):null,p=o&&o.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(je.EAN_13)||f.includes(je.UPC_A)||f.includes(je.EAN_8)||f.includes(je.UPC_E))&&this.readers.push(new ts(o)),f.includes(je.CODE_39)&&this.readers.push(new dn(p)),f.includes(je.CODE_128)&&this.readers.push(new He),f.includes(je.ITF)&&this.readers.push(new en),f.includes(je.RSS_14)&&this.readers.push(new kt),f.includes(je.RSS_EXPANDED)&&this.readers.push(new Me(this.verbose))):(this.readers.push(new ts(o)),this.readers.push(new dn),this.readers.push(new ts(o)),this.readers.push(new He),this.readers.push(new en),this.readers.push(new kt),this.readers.push(new Me(this.verbose)))}decodeRow(o,u,f){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(o,u,f)}catch{}throw new se}reset(){this.readers.forEach(o=>o.reset())}}class Sc extends ke{constructor(o=500,u){super(new aa(u),o,u)}}class jt{constructor(o,u,f){this.ecCodewords=o,this.ecBlocks=[u],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ft{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Mt{constructor(o,u,f,p,y,b){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=f,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=y,this.ecBlocks=b;let E=0;const C=b.getECCodewords(),D=b.getECBlocks();for(let B of D)E+=B.getCount()*(B.getDataCodewords()+C);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new k;for(let f of Mt.VERSIONS)if(f.symbolSizeRows===o&&f.symbolSizeColumns===u)return f;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new Mt(1,10,10,8,8,new jt(5,new Ft(1,3))),new Mt(2,12,12,10,10,new jt(7,new Ft(1,5))),new Mt(3,14,14,12,12,new jt(10,new Ft(1,8))),new Mt(4,16,16,14,14,new jt(12,new Ft(1,12))),new Mt(5,18,18,16,16,new jt(14,new Ft(1,18))),new Mt(6,20,20,18,18,new jt(18,new Ft(1,22))),new Mt(7,22,22,20,20,new jt(20,new Ft(1,30))),new Mt(8,24,24,22,22,new jt(24,new Ft(1,36))),new Mt(9,26,26,24,24,new jt(28,new Ft(1,44))),new Mt(10,32,32,14,14,new jt(36,new Ft(1,62))),new Mt(11,36,36,16,16,new jt(42,new Ft(1,86))),new Mt(12,40,40,18,18,new jt(48,new Ft(1,114))),new Mt(13,44,44,20,20,new jt(56,new Ft(1,144))),new Mt(14,48,48,22,22,new jt(68,new Ft(1,174))),new Mt(15,52,52,24,24,new jt(42,new Ft(2,102))),new Mt(16,64,64,14,14,new jt(56,new Ft(2,140))),new Mt(17,72,72,16,16,new jt(36,new Ft(4,92))),new Mt(18,80,80,18,18,new jt(48,new Ft(4,114))),new Mt(19,88,88,20,20,new jt(56,new Ft(4,144))),new Mt(20,96,96,22,22,new jt(68,new Ft(4,174))),new Mt(21,104,104,24,24,new jt(56,new Ft(6,136))),new Mt(22,120,120,18,18,new jt(68,new Ft(6,175))),new Mt(23,132,132,20,20,new jt(62,new Ft(8,163))),new Mt(24,144,144,22,22,new jt(62,new Ft(8,156),new Ft(2,155))),new Mt(25,8,18,6,16,new jt(7,new Ft(1,5))),new Mt(26,8,32,6,14,new jt(11,new Ft(1,10))),new Mt(27,12,26,10,24,new jt(14,new Ft(1,16))),new Mt(28,12,36,10,16,new jt(18,new Ft(1,22))),new Mt(29,16,36,14,16,new jt(24,new Ft(1,32))),new Mt(30,16,48,14,22,new jt(28,new Ft(1,49)))]}}Mt.VERSIONS=Mt.buildVersions();class _o{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new k;this.version=_o.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new ge(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),f=o.getWidth();return Mt.getVersionForDimensions(u,f)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,f=4,p=0;const y=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let E=!1,C=!1,D=!1,B=!1;do if(f===y&&p===0&&!E)o[u++]=this.readCorner1(y,b)&255,f-=2,p+=2,E=!0;else if(f===y-2&&p===0&&(b&3)!==0&&!C)o[u++]=this.readCorner2(y,b)&255,f-=2,p+=2,C=!0;else if(f===y+4&&p===2&&(b&7)===0&&!D)o[u++]=this.readCorner3(y,b)&255,f-=2,p+=2,D=!0;else if(f===y-2&&p===0&&(b&7)===4&&!B)o[u++]=this.readCorner4(y,b)&255,f-=2,p+=2,B=!0;else{do f<y&&p>=0&&!this.readMappingMatrix.get(p,f)&&(o[u++]=this.readUtah(f,p,y,b)&255),f-=2,p+=2;while(f>=0&&p<b);f+=1,p+=3;do f>=0&&p<b&&!this.readMappingMatrix.get(p,f)&&(o[u++]=this.readUtah(f,p,y,b)&255),f+=2,p-=2;while(f<y&&p>=0);f+=3,p+=1}while(f<y||p<b);if(u!==this.version.getTotalCodewords())throw new k;return o}readModule(o,u,f,p){return o<0&&(o+=f,u+=4-(f+4&7)),u<0&&(u+=p,o+=4-(p+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,f,p){let y=0;return this.readModule(o-2,u-2,f,p)&&(y|=1),y<<=1,this.readModule(o-2,u-1,f,p)&&(y|=1),y<<=1,this.readModule(o-1,u-2,f,p)&&(y|=1),y<<=1,this.readModule(o-1,u-1,f,p)&&(y|=1),y<<=1,this.readModule(o-1,u,f,p)&&(y|=1),y<<=1,this.readModule(o,u-2,f,p)&&(y|=1),y<<=1,this.readModule(o,u-1,f,p)&&(y|=1),y<<=1,this.readModule(o,u,f,p)&&(y|=1),y}readCorner1(o,u){let f=0;return this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,1,o,u)&&(f|=1),f<<=1,this.readModule(o-1,2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(2,u-1,o,u)&&(f|=1),f<<=1,this.readModule(3,u-1,o,u)&&(f|=1),f}readCorner2(o,u){let f=0;return this.readModule(o-3,0,o,u)&&(f|=1),f<<=1,this.readModule(o-2,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(0,u-4,o,u)&&(f|=1),f<<=1,this.readModule(0,u-3,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f}readCorner3(o,u){let f=0;return this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(0,u-3,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-3,o,u)&&(f|=1),f<<=1,this.readModule(1,u-2,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f}readCorner4(o,u){let f=0;return this.readModule(o-3,0,o,u)&&(f|=1),f<<=1,this.readModule(o-2,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(2,u-1,o,u)&&(f|=1),f<<=1,this.readModule(3,u-1,o,u)&&(f|=1),f}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new w("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),y=this.version.getDataRegionSizeColumns(),b=u/p|0,E=f/y|0,C=b*p,D=E*y,B=new ge(D,C);for(let Y=0;Y<b;++Y){const K=Y*p;for(let ie=0;ie<E;++ie){const ce=ie*y;for(let fe=0;fe<p;++fe){const ye=Y*(p+2)+1+fe,Ae=K+fe;for(let Ve=0;Ve<y;++Ve){const ze=ie*(y+2)+1+Ve;if(o.get(ze,ye)){const Ue=ce+Ve;B.set(Ue,Ae)}}}}}return B}}class Xs{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const f=u.getECBlocks();let p=0;const y=f.getECBlocks();for(let fe of y)p+=fe.getCount();const b=new Array(p);let E=0;for(let fe of y)for(let ye=0;ye<fe.getCount();ye++){const Ae=fe.getDataCodewords(),Ve=f.getECCodewords()+Ae;b[E++]=new Xs(Ae,new Uint8Array(Ve))}const D=b[0].codewords.length-f.getECCodewords(),B=D-1;let Y=0;for(let fe=0;fe<B;fe++)for(let ye=0;ye<E;ye++)b[ye].codewords[fe]=o[Y++];const K=u.getVersionNumber()===24,ie=K?8:E;for(let fe=0;fe<ie;fe++)b[fe].codewords[D-1]=o[Y++];const ce=b[0].codewords.length;for(let fe=D;fe<ce;fe++)for(let ye=0;ye<E;ye++){const Ae=K?(ye+8)%E:ye,Ve=K&&Ae>7?fe-1:fe;b[Ae].codewords[Ve]=o[Y++]}if(Y!==o.length)throw new w;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Wr{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new w(""+o);let u=0,f=this.bitOffset,p=this.byteOffset;const y=this.bytes;if(f>0){const b=8-f,E=o<b?o:b,C=b-E,D=255>>8-E<<C;u=(y[p]&D)>>C,o-=E,f+=E,f===8&&(f=0,p++)}if(o>0){for(;o>=8;)u=u<<8|y[p]&255,p++,o-=8;if(o>0){const b=8-o,E=255>>b<<b;u=u<<o|(y[p]&E)>>b,f+=o}}return this.bitOffset=f,this.byteOffset=p,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Kn;(function(G){G[G.PAD_ENCODE=0]="PAD_ENCODE",G[G.ASCII_ENCODE=1]="ASCII_ENCODE",G[G.C40_ENCODE=2]="C40_ENCODE",G[G.TEXT_ENCODE=3]="TEXT_ENCODE",G[G.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",G[G.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",G[G.BASE256_ENCODE=6]="BASE256_ENCODE"})(Kn||(Kn={}));class is{static decode(o){const u=new Wr(o),f=new z,p=new z,y=new Array;let b=Kn.ASCII_ENCODE;do if(b===Kn.ASCII_ENCODE)b=this.decodeAsciiSegment(u,f,p);else{switch(b){case Kn.C40_ENCODE:this.decodeC40Segment(u,f);break;case Kn.TEXT_ENCODE:this.decodeTextSegment(u,f);break;case Kn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,f);break;case Kn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,f);break;case Kn.BASE256_ENCODE:this.decodeBase256Segment(u,f,y);break;default:throw new k}b=Kn.ASCII_ENCODE}while(b!==Kn.PAD_ENCODE&&u.available()>0);return p.length()>0&&f.append(p.toString()),new Re(o,f.toString(),y.length===0?null:y,null)}static decodeAsciiSegment(o,u,f){let p=!1;do{let y=o.readBits(8);if(y===0)throw new k;if(y<=128)return p&&(y+=128),u.append(String.fromCharCode(y-1)),Kn.ASCII_ENCODE;if(y===129)return Kn.PAD_ENCODE;if(y<=229){const b=y-130;b<10&&u.append("0"),u.append(""+b)}else switch(y){case 230:return Kn.C40_ENCODE;case 231:return Kn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:u.append("[)>05"),f.insert(0,"");break;case 237:u.append("[)>06"),f.insert(0,"");break;case 238:return Kn.ANSIX12_ENCODE;case 239:return Kn.TEXT_ENCODE;case 240:return Kn.EDIFACT_ENCODE;case 241:break;default:if(y!==254||o.available()!==0)throw new k;break}}while(o.available()>0);return Kn.ASCII_ENCODE}static decodeC40Segment(o,u){let f=!1;const p=[];let y=0;do{if(o.available()===8)return;const b=o.readBits(8);if(b===254)return;this.parseTwoBytes(b,o.readBits(8),p);for(let E=0;E<3;E++){const C=p[E];switch(y){case 0:if(C<3)y=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const D=this.C40_BASIC_SET_CHARS[C];f?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):u.append(D)}else throw new k;break;case 1:f?(u.append(String.fromCharCode(C+128)),f=!1):u.append(String.fromCharCode(C)),y=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const D=this.C40_SHIFT2_SET_CHARS[C];f?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):u.append(D)}else switch(C){case 27:u.append("");break;case 30:f=!0;break;default:throw new k}y=0;break;case 3:f?(u.append(String.fromCharCode(C+224)),f=!1):u.append(String.fromCharCode(C+96)),y=0;break;default:throw new k}}}while(o.available()>0)}static decodeTextSegment(o,u){let f=!1,p=[],y=0;do{if(o.available()===8)return;const b=o.readBits(8);if(b===254)return;this.parseTwoBytes(b,o.readBits(8),p);for(let E=0;E<3;E++){const C=p[E];switch(y){case 0:if(C<3)y=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const D=this.TEXT_BASIC_SET_CHARS[C];f?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):u.append(D)}else throw new k;break;case 1:f?(u.append(String.fromCharCode(C+128)),f=!1):u.append(String.fromCharCode(C)),y=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const D=this.TEXT_SHIFT2_SET_CHARS[C];f?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):u.append(D)}else switch(C){case 27:u.append("");break;case 30:f=!0;break;default:throw new k}y=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const D=this.TEXT_SHIFT3_SET_CHARS[C];f?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),f=!1):u.append(D),y=0}else throw new k;break;default:throw new k}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const f=[];do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),f);for(let y=0;y<3;y++){const b=f[y];switch(b){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(b<14)u.append(String.fromCharCode(b+44));else if(b<40)u.append(String.fromCharCode(b+51));else throw new k;break}}}while(o.available()>0)}static parseTwoBytes(o,u,f){let p=(o<<8)+u-1,y=Math.floor(p/1600);f[0]=y,p-=y*1600,y=Math.floor(p/40),f[1]=y,f[2]=p-y*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let f=0;f<4;f++){let p=o.readBits(6);if(p===31){const y=8-o.getBitOffset();y!==8&&o.readBits(y);return}(p&32)===0&&(p|=64),u.append(String.fromCharCode(p))}}while(o.available()>0)}static decodeBase256Segment(o,u,f){let p=1+o.getByteOffset();const y=this.unrandomize255State(o.readBits(8),p++);let b;if(y===0?b=o.available()/8|0:y<250?b=y:b=250*(y-249)+this.unrandomize255State(o.readBits(8),p++),b<0)throw new k;const E=new Uint8Array(b);for(let C=0;C<b;C++){if(o.available()<8)throw new k;E[C]=this.unrandomize255State(o.readBits(8),p++)}f.push(E);try{u.append(Z.decode(E,X.ISO88591))}catch(C){throw new Qt("Platform does not support required encoding: "+C.message)}}static unrandomize255State(o,u){const f=149*u%255+1,p=o-f;return p>=0?p:p+256}}is.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],is.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],is.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],is.TEXT_SHIFT2_SET_CHARS=is.C40_SHIFT2_SET_CHARS,is.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class bl{constructor(){this.rsDecoder=new Dt(ht.DATA_MATRIX_FIELD_256)}decode(o){const u=new _o(o),f=u.getVersion(),p=u.readCodewords(),y=Xs.getDataBlocks(p,f);let b=0;for(let D of y)b+=D.getNumDataCodewords();const E=new Uint8Array(b),C=y.length;for(let D=0;D<C;D++){const B=y[D],Y=B.getCodewords(),K=B.getNumDataCodewords();this.correctErrors(Y,K);for(let ie=0;ie<K;ie++)E[ie*C+D]=Y[ie]}return is.decode(E)}correctErrors(o,u){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-u)}catch{throw new T}for(let p=0;p<u;p++)o[p]=f[p]}}class Pn{constructor(o){this.image=o,this.rectangleDetector=new gi(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new se;u=this.shiftToModuleCenter(u);const f=u[0],p=u[1],y=u[2],b=u[3];let E=this.transitionsBetween(f,b)+1,C=this.transitionsBetween(y,b)+1;(E&1)===1&&(E+=1),(C&1)===1&&(C+=1),4*E<7*C&&4*C<7*E&&(E=C=Math.max(E,C));let D=Pn.sampleGrid(this.image,f,p,y,b,E,C);return new Ws(D,[f,p,y,b])}static shiftPoint(o,u,f){let p=(u.getX()-o.getX())/(f+1),y=(u.getY()-o.getY())/(f+1);return new Ze(o.getX()+p,o.getY()+y)}static moveAway(o,u,f){let p=o.getX(),y=o.getY();return p<u?p-=1:p+=1,y<f?y-=1:y+=1,new Ze(p,y)}detectSolid1(o){let u=o[0],f=o[1],p=o[3],y=o[2],b=this.transitionsBetween(u,f),E=this.transitionsBetween(f,p),C=this.transitionsBetween(p,y),D=this.transitionsBetween(y,u),B=b,Y=[y,u,f,p];return B>E&&(B=E,Y[0]=u,Y[1]=f,Y[2]=p,Y[3]=y),B>C&&(B=C,Y[0]=f,Y[1]=p,Y[2]=y,Y[3]=u),B>D&&(Y[0]=p,Y[1]=y,Y[2]=u,Y[3]=f),Y}detectSolid2(o){let u=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(u,y),E=Pn.shiftPoint(f,p,(b+1)*4),C=Pn.shiftPoint(p,f,(b+1)*4),D=this.transitionsBetween(E,u),B=this.transitionsBetween(C,y);return D<B?(o[0]=u,o[1]=f,o[2]=p,o[3]=y):(o[0]=f,o[1]=p,o[2]=y,o[3]=u),o}correctTopRight(o){let u=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(u,y),E=this.transitionsBetween(f,y),C=Pn.shiftPoint(u,f,(E+1)*4),D=Pn.shiftPoint(p,f,(b+1)*4);b=this.transitionsBetween(C,y),E=this.transitionsBetween(D,y);let B=new Ze(y.getX()+(p.getX()-f.getX())/(b+1),y.getY()+(p.getY()-f.getY())/(b+1)),Y=new Ze(y.getX()+(u.getX()-f.getX())/(E+1),y.getY()+(u.getY()-f.getY())/(E+1));if(!this.isValid(B))return this.isValid(Y)?Y:null;if(!this.isValid(Y))return B;let K=this.transitionsBetween(C,B)+this.transitionsBetween(D,B),ie=this.transitionsBetween(C,Y)+this.transitionsBetween(D,Y);return K>ie?B:Y}shiftToModuleCenter(o){let u=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(u,y)+1,E=this.transitionsBetween(p,y)+1,C=Pn.shiftPoint(u,f,E*4),D=Pn.shiftPoint(p,f,b*4);b=this.transitionsBetween(C,y)+1,E=this.transitionsBetween(D,y)+1,(b&1)===1&&(b+=1),(E&1)===1&&(E+=1);let B=(u.getX()+f.getX()+p.getX()+y.getX())/4,Y=(u.getY()+f.getY()+p.getY()+y.getY())/4;u=Pn.moveAway(u,B,Y),f=Pn.moveAway(f,B,Y),p=Pn.moveAway(p,B,Y),y=Pn.moveAway(y,B,Y);let K,ie;return C=Pn.shiftPoint(u,f,E*4),C=Pn.shiftPoint(C,y,b*4),K=Pn.shiftPoint(f,u,E*4),K=Pn.shiftPoint(K,p,b*4),D=Pn.shiftPoint(p,y,E*4),D=Pn.shiftPoint(D,f,b*4),ie=Pn.shiftPoint(y,p,E*4),ie=Pn.shiftPoint(ie,u,b*4),[C,K,D,ie]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,f,p,y,b,E){return pt.getInstance().sampleGrid(o,b,E,.5,.5,b-.5,.5,b-.5,E-.5,.5,E-.5,u.getX(),u.getY(),y.getX(),y.getY(),p.getX(),p.getY(),f.getX(),f.getY())}transitionsBetween(o,u){let f=Math.trunc(o.getX()),p=Math.trunc(o.getY()),y=Math.trunc(u.getX()),b=Math.trunc(u.getY()),E=Math.abs(b-p)>Math.abs(y-f);if(E){let fe=f;f=p,p=fe,fe=y,y=b,b=fe}let C=Math.abs(y-f),D=Math.abs(b-p),B=-C/2,Y=p<b?1:-1,K=f<y?1:-1,ie=0,ce=this.image.get(E?p:f,E?f:p);for(let fe=f,ye=p;fe!==y;fe+=K){let Ae=this.image.get(E?ye:fe,E?fe:ye);if(Ae!==ce&&(ie++,ce=Ae),B+=D,B>0){if(ye===b)break;ye+=Y,B-=C}}return ie}}class Pi{constructor(){this.decoder=new bl}decode(o,u=null){let f,p;if(u!=null&&u.has(ne.PURE_BARCODE)){const D=Pi.extractPureBits(o.getBlackMatrix());f=this.decoder.decode(D),p=Pi.NO_POINTS}else{const D=new Pn(o.getBlackMatrix()).detect();f=this.decoder.decode(D.getBits()),p=D.getPoints()}const y=f.getRawBytes(),b=new $e(f.getText(),y,8*y.length,p,je.DATA_MATRIX,M.currentTimeMillis()),E=f.getByteSegments();E!=null&&b.putMetadata(vt.BYTE_SEGMENTS,E);const C=f.getECLevel();return C!=null&&b.putMetadata(vt.ERROR_CORRECTION_LEVEL,C),b}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(u==null||f==null)throw new se;const p=this.moduleSize(u,o);let y=u[1];const b=f[1];let E=u[0];const D=(f[0]-E+1)/p,B=(b-y+1)/p;if(D<=0||B<=0)throw new se;const Y=p/2;y+=Y,E+=Y;const K=new ge(D,B);for(let ie=0;ie<B;ie++){const ce=y+ie*p;for(let fe=0;fe<D;fe++)o.get(E+fe*p,ce)&&K.set(fe,ie)}return K}static moduleSize(o,u){const f=u.getWidth();let p=o[0];const y=o[1];for(;p<f&&u.get(p,y);)p++;if(p===f)throw new se;const b=p-o[0];if(b===0)throw new se;return b}}Pi.NO_POINTS=[];class oh extends ke{constructor(o=500){super(new Pi,o)}}var Ln;(function(G){G[G.L=0]="L",G[G.M=1]="M",G[G.Q=2]="Q",G[G.H=3]="H"})(Ln||(Ln={}));class Bt{constructor(o,u,f){this.value=o,this.stringValue=u,this.bits=f,Bt.FOR_BITS.set(f,this),Bt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Bt.L;case"M":return Bt.M;case"Q":return Bt.Q;case"H":return Bt.H;default:throw new v(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Bt))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=Bt.FOR_BITS.size)throw new w;return Bt.FOR_BITS.get(o)}}Bt.FOR_BITS=new Map,Bt.FOR_VALUE=new Map,Bt.L=new Bt(Ln.L,"L",1),Bt.M=new Bt(Ln.M,"M",0),Bt.Q=new Bt(Ln.Q,"Q",3),Bt.H=new Bt(Ln.H,"H",2);class rr{constructor(o){this.errorCorrectionLevel=Bt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return q.bitCount(o^u)}static decodeFormatInformation(o,u){const f=rr.doDecodeFormatInformation(o,u);return f!==null?f:rr.doDecodeFormatInformation(o^rr.FORMAT_INFO_MASK_QR,u^rr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let f=Number.MAX_SAFE_INTEGER,p=0;for(const y of rr.FORMAT_INFO_DECODE_LOOKUP){const b=y[0];if(b===o||b===u)return new rr(y[1]);let E=rr.numBitsDiffering(o,b);E<f&&(p=y[1],f=E),o!==u&&(E=rr.numBitsDiffering(u,b),E<f&&(p=y[1],f=E))}return f<=3?new rr(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof rr))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}rr.FORMAT_INFO_MASK_QR=21522,rr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class me{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const f of u)o+=f.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class re{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(o,u,...f){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=f;let p=0;const y=f[0].getECCodewordsPerBlock(),b=f[0].getECBlocks();for(const E of b)p+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new k;try{return this.getVersionForNumber((o-17)/4)}catch{throw new k}}static getVersionForNumber(o){if(o<1||o>40)throw new w;return Ge.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,f=0;for(let p=0;p<Ge.VERSION_DECODE_INFO.length;p++){const y=Ge.VERSION_DECODE_INFO[p];if(y===o)return Ge.getVersionForNumber(p+7);const b=rr.numBitsDiffering(o,y);b<u&&(f=p+7,u=b)}return u<=3?Ge.getVersionForNumber(f):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new ge(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const f=this.alignmentPatternCenters.length;for(let p=0;p<f;p++){const y=this.alignmentPatternCenters[p]-2;for(let b=0;b<f;b++)p===0&&(b===0||b===f-1)||p===f-1&&b===0||u.setRegion(this.alignmentPatternCenters[b]-2,y,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new me(7,new re(1,19)),new me(10,new re(1,16)),new me(13,new re(1,13)),new me(17,new re(1,9))),new Ge(2,Int32Array.from([6,18]),new me(10,new re(1,34)),new me(16,new re(1,28)),new me(22,new re(1,22)),new me(28,new re(1,16))),new Ge(3,Int32Array.from([6,22]),new me(15,new re(1,55)),new me(26,new re(1,44)),new me(18,new re(2,17)),new me(22,new re(2,13))),new Ge(4,Int32Array.from([6,26]),new me(20,new re(1,80)),new me(18,new re(2,32)),new me(26,new re(2,24)),new me(16,new re(4,9))),new Ge(5,Int32Array.from([6,30]),new me(26,new re(1,108)),new me(24,new re(2,43)),new me(18,new re(2,15),new re(2,16)),new me(22,new re(2,11),new re(2,12))),new Ge(6,Int32Array.from([6,34]),new me(18,new re(2,68)),new me(16,new re(4,27)),new me(24,new re(4,19)),new me(28,new re(4,15))),new Ge(7,Int32Array.from([6,22,38]),new me(20,new re(2,78)),new me(18,new re(4,31)),new me(18,new re(2,14),new re(4,15)),new me(26,new re(4,13),new re(1,14))),new Ge(8,Int32Array.from([6,24,42]),new me(24,new re(2,97)),new me(22,new re(2,38),new re(2,39)),new me(22,new re(4,18),new re(2,19)),new me(26,new re(4,14),new re(2,15))),new Ge(9,Int32Array.from([6,26,46]),new me(30,new re(2,116)),new me(22,new re(3,36),new re(2,37)),new me(20,new re(4,16),new re(4,17)),new me(24,new re(4,12),new re(4,13))),new Ge(10,Int32Array.from([6,28,50]),new me(18,new re(2,68),new re(2,69)),new me(26,new re(4,43),new re(1,44)),new me(24,new re(6,19),new re(2,20)),new me(28,new re(6,15),new re(2,16))),new Ge(11,Int32Array.from([6,30,54]),new me(20,new re(4,81)),new me(30,new re(1,50),new re(4,51)),new me(28,new re(4,22),new re(4,23)),new me(24,new re(3,12),new re(8,13))),new Ge(12,Int32Array.from([6,32,58]),new me(24,new re(2,92),new re(2,93)),new me(22,new re(6,36),new re(2,37)),new me(26,new re(4,20),new re(6,21)),new me(28,new re(7,14),new re(4,15))),new Ge(13,Int32Array.from([6,34,62]),new me(26,new re(4,107)),new me(22,new re(8,37),new re(1,38)),new me(24,new re(8,20),new re(4,21)),new me(22,new re(12,11),new re(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new me(30,new re(3,115),new re(1,116)),new me(24,new re(4,40),new re(5,41)),new me(20,new re(11,16),new re(5,17)),new me(24,new re(11,12),new re(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new me(22,new re(5,87),new re(1,88)),new me(24,new re(5,41),new re(5,42)),new me(30,new re(5,24),new re(7,25)),new me(24,new re(11,12),new re(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new me(24,new re(5,98),new re(1,99)),new me(28,new re(7,45),new re(3,46)),new me(24,new re(15,19),new re(2,20)),new me(30,new re(3,15),new re(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new me(28,new re(1,107),new re(5,108)),new me(28,new re(10,46),new re(1,47)),new me(28,new re(1,22),new re(15,23)),new me(28,new re(2,14),new re(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new me(30,new re(5,120),new re(1,121)),new me(26,new re(9,43),new re(4,44)),new me(28,new re(17,22),new re(1,23)),new me(28,new re(2,14),new re(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new me(28,new re(3,113),new re(4,114)),new me(26,new re(3,44),new re(11,45)),new me(26,new re(17,21),new re(4,22)),new me(26,new re(9,13),new re(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new me(28,new re(3,107),new re(5,108)),new me(26,new re(3,41),new re(13,42)),new me(30,new re(15,24),new re(5,25)),new me(28,new re(15,15),new re(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new me(28,new re(4,116),new re(4,117)),new me(26,new re(17,42)),new me(28,new re(17,22),new re(6,23)),new me(30,new re(19,16),new re(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new me(28,new re(2,111),new re(7,112)),new me(28,new re(17,46)),new me(30,new re(7,24),new re(16,25)),new me(24,new re(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new me(30,new re(4,121),new re(5,122)),new me(28,new re(4,47),new re(14,48)),new me(30,new re(11,24),new re(14,25)),new me(30,new re(16,15),new re(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new me(30,new re(6,117),new re(4,118)),new me(28,new re(6,45),new re(14,46)),new me(30,new re(11,24),new re(16,25)),new me(30,new re(30,16),new re(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new me(26,new re(8,106),new re(4,107)),new me(28,new re(8,47),new re(13,48)),new me(30,new re(7,24),new re(22,25)),new me(30,new re(22,15),new re(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new me(28,new re(10,114),new re(2,115)),new me(28,new re(19,46),new re(4,47)),new me(28,new re(28,22),new re(6,23)),new me(30,new re(33,16),new re(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new me(30,new re(8,122),new re(4,123)),new me(28,new re(22,45),new re(3,46)),new me(30,new re(8,23),new re(26,24)),new me(30,new re(12,15),new re(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new me(30,new re(3,117),new re(10,118)),new me(28,new re(3,45),new re(23,46)),new me(30,new re(4,24),new re(31,25)),new me(30,new re(11,15),new re(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new me(30,new re(7,116),new re(7,117)),new me(28,new re(21,45),new re(7,46)),new me(30,new re(1,23),new re(37,24)),new me(30,new re(19,15),new re(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new me(30,new re(5,115),new re(10,116)),new me(28,new re(19,47),new re(10,48)),new me(30,new re(15,24),new re(25,25)),new me(30,new re(23,15),new re(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new me(30,new re(13,115),new re(3,116)),new me(28,new re(2,46),new re(29,47)),new me(30,new re(42,24),new re(1,25)),new me(30,new re(23,15),new re(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new me(30,new re(17,115)),new me(28,new re(10,46),new re(23,47)),new me(30,new re(10,24),new re(35,25)),new me(30,new re(19,15),new re(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new me(30,new re(17,115),new re(1,116)),new me(28,new re(14,46),new re(21,47)),new me(30,new re(29,24),new re(19,25)),new me(30,new re(11,15),new re(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new me(30,new re(13,115),new re(6,116)),new me(28,new re(14,46),new re(23,47)),new me(30,new re(44,24),new re(7,25)),new me(30,new re(59,16),new re(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new me(30,new re(12,121),new re(7,122)),new me(28,new re(12,47),new re(26,48)),new me(30,new re(39,24),new re(14,25)),new me(30,new re(22,15),new re(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new me(30,new re(6,121),new re(14,122)),new me(28,new re(6,47),new re(34,48)),new me(30,new re(46,24),new re(10,25)),new me(30,new re(2,15),new re(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new me(30,new re(17,122),new re(4,123)),new me(28,new re(29,46),new re(14,47)),new me(30,new re(49,24),new re(10,25)),new me(30,new re(24,15),new re(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new me(30,new re(4,122),new re(18,123)),new me(28,new re(13,46),new re(32,47)),new me(30,new re(48,24),new re(14,25)),new me(30,new re(42,15),new re(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new me(30,new re(20,117),new re(4,118)),new me(28,new re(40,47),new re(7,48)),new me(30,new re(43,24),new re(22,25)),new me(30,new re(10,15),new re(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new me(30,new re(19,118),new re(6,119)),new me(28,new re(18,47),new re(31,48)),new me(30,new re(34,24),new re(34,25)),new me(30,new re(20,15),new re(61,16)))];var Hn;(function(G){G[G.DATA_MASK_000=0]="DATA_MASK_000",G[G.DATA_MASK_001=1]="DATA_MASK_001",G[G.DATA_MASK_010=2]="DATA_MASK_010",G[G.DATA_MASK_011=3]="DATA_MASK_011",G[G.DATA_MASK_100=4]="DATA_MASK_100",G[G.DATA_MASK_101=5]="DATA_MASK_101",G[G.DATA_MASK_110=6]="DATA_MASK_110",G[G.DATA_MASK_111=7]="DATA_MASK_111"})(Hn||(Hn={}));class Qn{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let f=0;f<u;f++)for(let p=0;p<u;p++)this.isMasked(f,p)&&o.flip(p,f)}}Qn.values=new Map([[Hn.DATA_MASK_000,new Qn(Hn.DATA_MASK_000,(G,o)=>(G+o&1)===0)],[Hn.DATA_MASK_001,new Qn(Hn.DATA_MASK_001,(G,o)=>(G&1)===0)],[Hn.DATA_MASK_010,new Qn(Hn.DATA_MASK_010,(G,o)=>o%3===0)],[Hn.DATA_MASK_011,new Qn(Hn.DATA_MASK_011,(G,o)=>(G+o)%3===0)],[Hn.DATA_MASK_100,new Qn(Hn.DATA_MASK_100,(G,o)=>(Math.floor(G/2)+Math.floor(o/3)&1)===0)],[Hn.DATA_MASK_101,new Qn(Hn.DATA_MASK_101,(G,o)=>G*o%6===0)],[Hn.DATA_MASK_110,new Qn(Hn.DATA_MASK_110,(G,o)=>G*o%6<3)],[Hn.DATA_MASK_111,new Qn(Hn.DATA_MASK_111,(G,o)=>(G+o+G*o%3&1)===0)]]);class Co{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new k;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let y=0;y<6;y++)o=this.copyBit(y,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let y=5;y>=0;y--)o=this.copyBit(8,y,o);const u=this.bitMatrix.getHeight();let f=0;const p=u-7;for(let y=u-1;y>=p;y--)f=this.copyBit(8,y,f);for(let y=u-8;y<u;y++)f=this.copyBit(y,8,f);if(this.parsedFormatInfo=rr.decodeFormatInformation(o,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return Ge.getVersionForNumber(u);let f=0;const p=o-11;for(let b=5;b>=0;b--)for(let E=o-9;E>=p;E--)f=this.copyBit(E,b,f);let y=Ge.decodeVersionInformation(f);if(y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;f=0;for(let b=5;b>=0;b--)for(let E=o-9;E>=p;E--)f=this.copyBit(b,E,f);if(y=Ge.decodeVersionInformation(f),y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;throw new k}copyBit(o,u,f){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?f<<1|1:f<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),f=Qn.values.get(o.getDataMask()),p=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,p);const y=u.buildFunctionPattern();let b=!0;const E=new Uint8Array(u.getTotalCodewords());let C=0,D=0,B=0;for(let Y=p-1;Y>0;Y-=2){Y===6&&Y--;for(let K=0;K<p;K++){const ie=b?p-1-K:K;for(let ce=0;ce<2;ce++)y.get(Y-ce,ie)||(B++,D<<=1,this.bitMatrix.get(Y-ce,ie)&&(D|=1),B===8&&(E[C++]=D,B=0,D=0))}b=!b}if(C!==u.getTotalCodewords())throw new k;return E}remask(){if(this.parsedFormatInfo===null)return;const o=Qn.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,f=o.getWidth();u<f;u++)for(let p=u+1,y=o.getHeight();p<y;p++)o.get(u,p)!==o.get(p,u)&&(o.flip(p,u),o.flip(u,p))}}class wl{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,f){if(o.length!==u.getTotalCodewords())throw new w;const p=u.getECBlocksForLevel(f);let y=0;const b=p.getECBlocks();for(const ce of b)y+=ce.getCount();const E=new Array(y);let C=0;for(const ce of b)for(let fe=0;fe<ce.getCount();fe++){const ye=ce.getDataCodewords(),Ae=p.getECCodewordsPerBlock()+ye;E[C++]=new wl(ye,new Uint8Array(Ae))}const D=E[0].codewords.length;let B=E.length-1;for(;B>=0&&E[B].codewords.length!==D;)B--;B++;const Y=D-p.getECCodewordsPerBlock();let K=0;for(let ce=0;ce<Y;ce++)for(let fe=0;fe<C;fe++)E[fe].codewords[ce]=o[K++];for(let ce=B;ce<C;ce++)E[ce].codewords[Y]=o[K++];const ie=E[0].codewords.length;for(let ce=Y;ce<ie;ce++)for(let fe=0;fe<C;fe++){const ye=fe<B?ce:ce+1;E[fe].codewords[ye]=o[K++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ii;(function(G){G[G.TERMINATOR=0]="TERMINATOR",G[G.NUMERIC=1]="NUMERIC",G[G.ALPHANUMERIC=2]="ALPHANUMERIC",G[G.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",G[G.BYTE=4]="BYTE",G[G.ECI=5]="ECI",G[G.KANJI=6]="KANJI",G[G.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",G[G.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",G[G.HANZI=9]="HANZI"})(ii||(ii={}));class ot{constructor(o,u,f,p){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=f,this.bits=p,ot.FOR_BITS.set(p,this),ot.FOR_VALUE.set(o,this)}static forBits(o){const u=ot.FOR_BITS.get(o);if(u===void 0)throw new w;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let f;return u<=9?f=0:u<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof ot))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.TERMINATOR=new ot(ii.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ot.NUMERIC=new ot(ii.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ot.ALPHANUMERIC=new ot(ii.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ot.STRUCTURED_APPEND=new ot(ii.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ot.BYTE=new ot(ii.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ot.ECI=new ot(ii.ECI,"ECI",Int32Array.from([0,0,0]),7),ot.KANJI=new ot(ii.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ot.FNC1_FIRST_POSITION=new ot(ii.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ot.FNC1_SECOND_POSITION=new ot(ii.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ot.HANZI=new ot(ii.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kn{static decode(o,u,f,p){const y=new Wr(o);let b=new z;const E=new Array;let C=-1,D=-1;try{let B=null,Y=!1,K;do{if(y.available()<4)K=ot.TERMINATOR;else{const ie=y.readBits(4);K=ot.forBits(ie)}switch(K){case ot.TERMINATOR:break;case ot.FNC1_FIRST_POSITION:case ot.FNC1_SECOND_POSITION:Y=!0;break;case ot.STRUCTURED_APPEND:if(y.available()<16)throw new k;C=y.readBits(8),D=y.readBits(8);break;case ot.ECI:const ie=kn.parseECIValue(y);if(B=j.getCharacterSetECIByValue(ie),B===null)throw new k;break;case ot.HANZI:const ce=y.readBits(4),fe=y.readBits(K.getCharacterCountBits(u));ce===kn.GB2312_SUBSET&&kn.decodeHanziSegment(y,b,fe);break;default:const ye=y.readBits(K.getCharacterCountBits(u));switch(K){case ot.NUMERIC:kn.decodeNumericSegment(y,b,ye);break;case ot.ALPHANUMERIC:kn.decodeAlphanumericSegment(y,b,ye,Y);break;case ot.BYTE:kn.decodeByteSegment(y,b,ye,B,E,p);break;case ot.KANJI:kn.decodeKanjiSegment(y,b,ye);break;default:throw new k}break}}while(K!==ot.TERMINATOR)}catch{throw new k}return new Re(o,b.toString(),E.length===0?null:E,f===null?null:f.toString(),C,D)}static decodeHanziSegment(o,u,f){if(f*13>o.available())throw new k;const p=new Uint8Array(2*f);let y=0;for(;f>0;){const b=o.readBits(13);let E=b/96<<8&4294967295|b%96;E<959?E+=41377:E+=42657,p[y]=E>>8&255,p[y+1]=E&255,y+=2,f--}try{u.append(Z.decode(p,X.GB2312))}catch(b){throw new k(b)}}static decodeKanjiSegment(o,u,f){if(f*13>o.available())throw new k;const p=new Uint8Array(2*f);let y=0;for(;f>0;){const b=o.readBits(13);let E=b/192<<8&4294967295|b%192;E<7936?E+=33088:E+=49472,p[y]=E>>8,p[y+1]=E,y+=2,f--}try{u.append(Z.decode(p,X.SHIFT_JIS))}catch(b){throw new k(b)}}static decodeByteSegment(o,u,f,p,y,b){if(8*f>o.available())throw new k;const E=new Uint8Array(f);for(let D=0;D<f;D++)E[D]=o.readBits(8);let C;p===null?C=X.guessEncoding(E,b):C=p.getName();try{u.append(Z.decode(E,C))}catch(D){throw new k(D)}y.push(E)}static toAlphaNumericChar(o){if(o>=kn.ALPHANUMERIC_CHARS.length)throw new k;return kn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,f,p){const y=u.length();for(;f>1;){if(o.available()<11)throw new k;const b=o.readBits(11);u.append(kn.toAlphaNumericChar(Math.floor(b/45))),u.append(kn.toAlphaNumericChar(b%45)),f-=2}if(f===1){if(o.available()<6)throw new k;u.append(kn.toAlphaNumericChar(o.readBits(6)))}if(p)for(let b=y;b<u.length();b++)u.charAt(b)==="%"&&(b<u.length()-1&&u.charAt(b+1)==="%"?u.deleteCharAt(b+1):u.setCharAt(b,""))}static decodeNumericSegment(o,u,f){for(;f>=3;){if(o.available()<10)throw new k;const p=o.readBits(10);if(p>=1e3)throw new k;u.append(kn.toAlphaNumericChar(Math.floor(p/100))),u.append(kn.toAlphaNumericChar(Math.floor(p/10)%10)),u.append(kn.toAlphaNumericChar(p%10)),f-=3}if(f===2){if(o.available()<7)throw new k;const p=o.readBits(7);if(p>=100)throw new k;u.append(kn.toAlphaNumericChar(Math.floor(p/10))),u.append(kn.toAlphaNumericChar(p%10))}else if(f===1){if(o.available()<4)throw new k;const p=o.readBits(4);if(p>=10)throw new k;u.append(kn.toAlphaNumericChar(p))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const f=o.readBits(8);return(u&63)<<8&4294967295|f}if((u&224)===192){const f=o.readBits(16);return(u&31)<<16&4294967295|f}throw new k}}kn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kn.GB2312_SUBSET=1;class _c{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class El{constructor(){this.rsDecoder=new Dt(ht.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(ge.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const f=new Co(o);let p=null;try{return this.decodeBitMatrixParser(f,u)}catch(y){p=y}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const y=this.decodeBitMatrixParser(f,u);return y.setOther(new _c(!0)),y}catch(y){throw p!==null?p:y}}decodeBitMatrixParser(o,u){const f=o.readVersion(),p=o.readFormatInformation().getErrorCorrectionLevel(),y=o.readCodewords(),b=wl.getDataBlocks(y,f,p);let E=0;for(const B of b)E+=B.getNumDataCodewords();const C=new Uint8Array(E);let D=0;for(const B of b){const Y=B.getCodewords(),K=B.getNumDataCodewords();this.correctErrors(Y,K);for(let ie=0;ie<K;ie++)C[D++]=Y[ie]}return kn.decode(C,f,p,u)}correctErrors(o,u){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-u)}catch{throw new T}for(let p=0;p<u;p++)o[p]=f[p]}}class _a extends Ze{constructor(o,u,f){super(o,u),this.estimatedModuleSize=f}aboutEquals(o,u,f){if(Math.abs(u-this.getY())<=o&&Math.abs(f-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,u,f){const p=(this.getX()+u)/2,y=(this.getY()+o)/2,b=(this.estimatedModuleSize+f)/2;return new _a(p,y,b)}}class vi{constructor(o,u,f,p,y,b,E){this.image=o,this.startX=u,this.startY=f,this.width=p,this.height=y,this.moduleSize=b,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,f=this.width,p=o+f,y=this.startY+u/2,b=new Int32Array(3),E=this.image;for(let C=0;C<u;C++){const D=y+((C&1)===0?Math.floor((C+1)/2):-Math.floor((C+1)/2));b[0]=0,b[1]=0,b[2]=0;let B=o;for(;B<p&&!E.get(B,D);)B++;let Y=0;for(;B<p;){if(E.get(B,D))if(Y===1)b[1]++;else if(Y===2){if(this.foundPatternCross(b)){const K=this.handlePossibleCenter(b,D,B);if(K!==null)return K}b[0]=b[2],b[1]=1,b[2]=0,Y=1}else b[++Y]++;else Y===1&&Y++,b[Y]++;B++}if(this.foundPatternCross(b)){const K=this.handlePossibleCenter(b,D,p);if(K!==null)return K}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,f=u/2;for(let p=0;p<3;p++)if(Math.abs(u-o[p])>=f)return!1;return!0}crossCheckVertical(o,u,f,p){const y=this.image,b=y.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let C=o;for(;C>=0&&y.get(u,C)&&E[1]<=f;)E[1]++,C--;if(C<0||E[1]>f)return NaN;for(;C>=0&&!y.get(u,C)&&E[0]<=f;)E[0]++,C--;if(E[0]>f)return NaN;for(C=o+1;C<b&&y.get(u,C)&&E[1]<=f;)E[1]++,C++;if(C===b||E[1]>f)return NaN;for(;C<b&&!y.get(u,C)&&E[2]<=f;)E[2]++,C++;if(E[2]>f)return NaN;const D=E[0]+E[1]+E[2];return 5*Math.abs(D-p)>=2*p?NaN:this.foundPatternCross(E)?vi.centerFromEnd(E,C):NaN}handlePossibleCenter(o,u,f){const p=o[0]+o[1]+o[2],y=vi.centerFromEnd(o,f),b=this.crossCheckVertical(u,y,2*o[1],p);if(!isNaN(b)){const E=(o[0]+o[1]+o[2])/3;for(const D of this.possibleCenters)if(D.aboutEquals(E,b,y))return D.combineEstimate(b,y,E);const C=new _a(y,b,E);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Ca extends Ze{constructor(o,u,f,p){super(o,u),this.estimatedModuleSize=f,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,f){if(Math.abs(u-this.getY())<=o&&Math.abs(f-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,u,f){const p=this.count+1,y=(this.count*this.getX()+u)/p,b=(this.count*this.getY()+o)/p,E=(this.count*this.estimatedModuleSize+f)/p;return new Ca(y,b,E,p)}}class Ms{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ir{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(ne.TRY_HARDER)!==void 0,f=o!=null&&o.get(ne.PURE_BARCODE)!==void 0,p=this.image,y=p.getHeight(),b=p.getWidth();let E=Math.floor(3*y/(4*ir.MAX_MODULES));(E<ir.MIN_SKIP||u)&&(E=ir.MIN_SKIP);let C=!1;const D=new Int32Array(5);for(let Y=E-1;Y<y&&!C;Y+=E){D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0;let K=0;for(let ie=0;ie<b;ie++)if(p.get(ie,Y))(K&1)===1&&K++,D[K]++;else if((K&1)===0)if(K===4)if(ir.foundPatternCross(D)){if(this.handlePossibleCenter(D,Y,ie,f)===!0)if(E=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const fe=this.findRowSkip();fe>D[2]&&(Y+=fe-D[2]-E,ie=b-1)}else{D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,K=3;continue}K=0,D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0}else D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,K=3;else D[++K]++;else D[K]++;ir.foundPatternCross(D)&&this.handlePossibleCenter(D,Y,b,f)===!0&&(E=D[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const B=this.selectBestPatterns();return Ze.orderBestPatterns(B),new Ms(B)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let y=0;y<5;y++){const b=o[y];if(b===0)return!1;u+=b}if(u<7)return!1;const f=u/7,p=f/2;return Math.abs(f-o[0])<p&&Math.abs(f-o[1])<p&&Math.abs(3*f-o[2])<3*p&&Math.abs(f-o[3])<p&&Math.abs(f-o[4])<p}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,f,p){const y=this.getCrossCheckStateCount();let b=0;const E=this.image;for(;o>=b&&u>=b&&E.get(u-b,o-b);)y[2]++,b++;if(o<b||u<b)return!1;for(;o>=b&&u>=b&&!E.get(u-b,o-b)&&y[1]<=f;)y[1]++,b++;if(o<b||u<b||y[1]>f)return!1;for(;o>=b&&u>=b&&E.get(u-b,o-b)&&y[0]<=f;)y[0]++,b++;if(y[0]>f)return!1;const C=E.getHeight(),D=E.getWidth();for(b=1;o+b<C&&u+b<D&&E.get(u+b,o+b);)y[2]++,b++;if(o+b>=C||u+b>=D)return!1;for(;o+b<C&&u+b<D&&!E.get(u+b,o+b)&&y[3]<f;)y[3]++,b++;if(o+b>=C||u+b>=D||y[3]>=f)return!1;for(;o+b<C&&u+b<D&&E.get(u+b,o+b)&&y[4]<f;)y[4]++,b++;if(y[4]>=f)return!1;const B=y[0]+y[1]+y[2]+y[3]+y[4];return Math.abs(B-p)<2*p&&ir.foundPatternCross(y)}crossCheckVertical(o,u,f,p){const y=this.image,b=y.getHeight(),E=this.getCrossCheckStateCount();let C=o;for(;C>=0&&y.get(u,C);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!y.get(u,C)&&E[1]<=f;)E[1]++,C--;if(C<0||E[1]>f)return NaN;for(;C>=0&&y.get(u,C)&&E[0]<=f;)E[0]++,C--;if(E[0]>f)return NaN;for(C=o+1;C<b&&y.get(u,C);)E[2]++,C++;if(C===b)return NaN;for(;C<b&&!y.get(u,C)&&E[3]<f;)E[3]++,C++;if(C===b||E[3]>=f)return NaN;for(;C<b&&y.get(u,C)&&E[4]<f;)E[4]++,C++;if(E[4]>=f)return NaN;const D=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(D-p)>=2*p?NaN:ir.foundPatternCross(E)?ir.centerFromEnd(E,C):NaN}crossCheckHorizontal(o,u,f,p){const y=this.image,b=y.getWidth(),E=this.getCrossCheckStateCount();let C=o;for(;C>=0&&y.get(C,u);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!y.get(C,u)&&E[1]<=f;)E[1]++,C--;if(C<0||E[1]>f)return NaN;for(;C>=0&&y.get(C,u)&&E[0]<=f;)E[0]++,C--;if(E[0]>f)return NaN;for(C=o+1;C<b&&y.get(C,u);)E[2]++,C++;if(C===b)return NaN;for(;C<b&&!y.get(C,u)&&E[3]<f;)E[3]++,C++;if(C===b||E[3]>=f)return NaN;for(;C<b&&y.get(C,u)&&E[4]<f;)E[4]++,C++;if(E[4]>=f)return NaN;const D=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(D-p)>=p?NaN:ir.foundPatternCross(E)?ir.centerFromEnd(E,C):NaN}handlePossibleCenter(o,u,f,p){const y=o[0]+o[1]+o[2]+o[3]+o[4];let b=ir.centerFromEnd(o,f),E=this.crossCheckVertical(u,Math.floor(b),o[2],y);if(!isNaN(E)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(E),o[2],y),!isNaN(b)&&(!p||this.crossCheckDiagonal(Math.floor(E),Math.floor(b),o[2],y)))){const C=y/7;let D=!1;const B=this.possibleCenters;for(let Y=0,K=B.length;Y<K;Y++){const ie=B[Y];if(ie.aboutEquals(C,E,b)){B[Y]=ie.combineEstimate(E,b,C),D=!0;break}}if(!D){const Y=new Ca(b,E,C);B.push(Y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const f of this.possibleCenters)if(f.getCount()>=ir.CENTER_QUORUM)if(u==null)u=f;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-f.getX())-Math.abs(u.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const f=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=ir.CENTER_QUORUM&&(o++,u+=b.getEstimatedModuleSize());if(o<3)return!1;const p=u/f;let y=0;for(const b of this.possibleCenters)y+=Math.abs(b.getEstimatedModuleSize()-p);return y<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new se;const u=this.possibleCenters;let f;if(o>3){let p=0,y=0;for(const C of this.possibleCenters){const D=C.getEstimatedModuleSize();p+=D,y+=D*D}f=p/o;let b=Math.sqrt(y/o-f*f);u.sort((C,D)=>{const B=Math.abs(D.getEstimatedModuleSize()-f),Y=Math.abs(C.getEstimatedModuleSize()-f);return B<Y?-1:B>Y?1:0});const E=Math.max(.2*f,b);for(let C=0;C<u.length&&u.length>3;C++){const D=u[C];Math.abs(D.getEstimatedModuleSize()-f)>E&&(u.splice(C,1),C--)}}if(u.length>3){let p=0;for(const y of u)p+=y.getEstimatedModuleSize();f=p/u.length,u.sort((y,b)=>{if(b.getCount()===y.getCount()){const E=Math.abs(b.getEstimatedModuleSize()-f),C=Math.abs(y.getEstimatedModuleSize()-f);return E<C?1:E>C?-1:0}else return b.getCount()-y.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}ir.CENTER_QUORUM=2,ir.MIN_SKIP=3,ir.MAX_MODULES=57;class Li{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(ne.NEED_RESULT_POINT_CALLBACK);const f=new ir(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(f)}processFinderPatternInfo(o){const u=o.getTopLeft(),f=o.getTopRight(),p=o.getBottomLeft(),y=this.calculateModuleSize(u,f,p);if(y<1)throw new se("No pattern found in proccess finder.");const b=Li.computeDimension(u,f,p,y),E=Ge.getProvisionalVersionForDimension(b),C=E.getDimensionForVersion()-7;let D=null;if(E.getAlignmentPatternCenters().length>0){const ie=f.getX()-u.getX()+p.getX(),ce=f.getY()-u.getY()+p.getY(),fe=1-3/C,ye=Math.floor(u.getX()+fe*(ie-u.getX())),Ae=Math.floor(u.getY()+fe*(ce-u.getY()));for(let Ve=4;Ve<=16;Ve<<=1)try{D=this.findAlignmentInRegion(y,ye,Ae,Ve);break}catch(ze){if(!(ze instanceof se))throw ze}}const B=Li.createTransform(u,f,p,D,b),Y=Li.sampleGrid(this.image,B,b);let K;return D===null?K=[p,u,f]:K=[p,u,f,D],new Ws(Y,K)}static createTransform(o,u,f,p,y){const b=y-3.5;let E,C,D,B;return p!==null?(E=p.getX(),C=p.getY(),D=b-3,B=D):(E=u.getX()-o.getX()+f.getX(),C=u.getY()-o.getY()+f.getY(),D=b,B=b),Ye.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,D,B,3.5,b,o.getX(),o.getY(),u.getX(),u.getY(),E,C,f.getX(),f.getY())}static sampleGrid(o,u,f){return pt.getInstance().sampleGridWithTransform(o,f,f,u)}static computeDimension(o,u,f,p){const y=St.round(Ze.distance(o,u)/p),b=St.round(Ze.distance(o,f)/p);let E=Math.floor((y+b)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new se("Dimensions could be not found.")}return E}calculateModuleSize(o,u,f){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,f))/2}calculateModuleSizeOneWay(o,u){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(f)?p/7:isNaN(p)?f/7:(f+p)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,f,p){let y=this.sizeOfBlackWhiteBlackRun(o,u,f,p),b=1,E=o-(f-o);E<0?(b=o/(o-E),E=0):E>=this.image.getWidth()&&(b=(this.image.getWidth()-1-o)/(E-o),E=this.image.getWidth()-1);let C=Math.floor(u-(p-u)*b);return b=1,C<0?(b=u/(u-C),C=0):C>=this.image.getHeight()&&(b=(this.image.getHeight()-1-u)/(C-u),C=this.image.getHeight()-1),E=Math.floor(o+(E-o)*b),y+=this.sizeOfBlackWhiteBlackRun(o,u,E,C),y-1}sizeOfBlackWhiteBlackRun(o,u,f,p){const y=Math.abs(p-u)>Math.abs(f-o);if(y){let ie=o;o=u,u=ie,ie=f,f=p,p=ie}const b=Math.abs(f-o),E=Math.abs(p-u);let C=-b/2;const D=o<f?1:-1,B=u<p?1:-1;let Y=0;const K=f+D;for(let ie=o,ce=u;ie!==K;ie+=D){const fe=y?ce:ie,ye=y?ie:ce;if(Y===1===this.image.get(fe,ye)){if(Y===2)return St.distance(ie,ce,o,u);Y++}if(C+=E,C>0){if(ce===p)break;ce+=B,C-=b}}return Y===2?St.distance(f+D,p,o,u):NaN}findAlignmentInRegion(o,u,f,p){const y=Math.floor(p*o),b=Math.max(0,u-y),E=Math.min(this.image.getWidth()-1,u+y);if(E-b<o*3)throw new se("Alignment top exceeds estimated module size.");const C=Math.max(0,f-y),D=Math.min(this.image.getHeight()-1,f+y);if(D-C<o*3)throw new se("Alignment bottom exceeds estimated module size.");return new vi(this.image,b,C,E-b,D-C,o,this.resultPointCallback).find()}}class Ta{constructor(){this.decoder=new El}getDecoder(){return this.decoder}decode(o,u){let f,p;if(u!=null&&u.get(ne.PURE_BARCODE)!==void 0){const C=Ta.extractPureBits(o.getBlackMatrix());f=this.decoder.decodeBitMatrix(C,u),p=Ta.NO_POINTS}else{const C=new Li(o.getBlackMatrix()).detect(u);f=this.decoder.decodeBitMatrix(C.getBits(),u),p=C.getPoints()}f.getOther()instanceof _c&&f.getOther().applyMirroredCorrection(p);const y=new $e(f.getText(),f.getRawBytes(),void 0,p,je.QR_CODE,void 0),b=f.getByteSegments();b!==null&&y.putMetadata(vt.BYTE_SEGMENTS,b);const E=f.getECLevel();return E!==null&&y.putMetadata(vt.ERROR_CORRECTION_LEVEL,E),f.hasStructuredAppend()&&(y.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),y.putMetadata(vt.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),y}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(u===null||f===null)throw new se;const p=this.moduleSize(u,o);let y=u[1],b=f[1],E=u[0],C=f[0];if(E>=C||y>=b)throw new se;if(b-y!==C-E&&(C=E+(b-y),C>=o.getWidth()))throw new se;const D=Math.round((C-E+1)/p),B=Math.round((b-y+1)/p);if(D<=0||B<=0)throw new se;if(B!==D)throw new se;const Y=Math.floor(p/2);y+=Y,E+=Y;const K=E+Math.floor((D-1)*p)-C;if(K>0){if(K>Y)throw new se;E-=K}const ie=y+Math.floor((B-1)*p)-b;if(ie>0){if(ie>Y)throw new se;y-=ie}const ce=new ge(D,B);for(let fe=0;fe<B;fe++){const ye=y+Math.floor(fe*p);for(let Ae=0;Ae<D;Ae++)o.get(E+Math.floor(Ae*p),ye)&&ce.set(Ae,fe)}return ce}static moduleSize(o,u){const f=u.getHeight(),p=u.getWidth();let y=o[0],b=o[1],E=!0,C=0;for(;y<p&&b<f;){if(E!==u.get(y,b)){if(++C===5)break;E=!E}y++,b++}if(y===p||b===f)throw new se;return(y-o[0])/7}}Ta.NO_POINTS=new Array;class ut{PDF417Common(){}static getBitCountSum(o){return St.sum(o)}static toIntArray(o){if(o==null||!o.length)return ut.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let f=0;for(const p of o)u[f++]=p;return u}static getCodeword(o){const u=W.binarySearch(ut.SYMBOL_TABLE,o&262143);return u<0?-1:(ut.CODEWORD_TABLE[u]-1)%ut.NUMBER_OF_CODEWORDS}}ut.NUMBER_OF_CODEWORDS=929,ut.MAX_CODEWORDS_IN_BARCODE=ut.NUMBER_OF_CODEWORDS-1,ut.MIN_ROWS_IN_BARCODE=3,ut.MAX_ROWS_IN_BARCODE=90,ut.MODULES_IN_CODEWORD=17,ut.MODULES_IN_STOP_PATTERN=18,ut.BARS_IN_MODULE=8,ut.EMPTY_INT_ARRAY=new Int32Array([]),ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ia{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class mt{static detectMultiple(o,u,f){let p=o.getBlackMatrix(),y=mt.detect(f,p);return y.length||(p=p.clone(),p.rotate180(),y=mt.detect(f,p)),new Ia(p,y)}static detect(o,u){const f=new Array;let p=0,y=0,b=!1;for(;p<u.getHeight();){const E=mt.findVertices(u,p,y);if(E[0]==null&&E[3]==null){if(!b)break;b=!1,y=0;for(const C of f)C[1]!=null&&(p=Math.trunc(Math.max(p,C[1].getY()))),C[3]!=null&&(p=Math.max(p,Math.trunc(C[3].getY())));p+=mt.ROW_STEP;continue}if(b=!0,f.push(E),!o)break;E[2]!=null?(y=Math.trunc(E[2].getX()),p=Math.trunc(E[2].getY())):(y=Math.trunc(E[4].getX()),p=Math.trunc(E[4].getY()))}return f}static findVertices(o,u,f){const p=o.getHeight(),y=o.getWidth(),b=new Array(8);return mt.copyToResult(b,mt.findRowsWithPattern(o,p,y,u,f,mt.START_PATTERN),mt.INDEXES_START_PATTERN),b[4]!=null&&(f=Math.trunc(b[4].getX()),u=Math.trunc(b[4].getY())),mt.copyToResult(b,mt.findRowsWithPattern(o,p,y,u,f,mt.STOP_PATTERN),mt.INDEXES_STOP_PATTERN),b}static copyToResult(o,u,f){for(let p=0;p<f.length;p++)o[f[p]]=u[p]}static findRowsWithPattern(o,u,f,p,y,b){const E=new Array(4);let C=!1;const D=new Int32Array(b.length);for(;p<u;p+=mt.ROW_STEP){let Y=mt.findGuardPattern(o,y,p,f,!1,b,D);if(Y!=null){for(;p>0;){const K=mt.findGuardPattern(o,y,--p,f,!1,b,D);if(K!=null)Y=K;else{p++;break}}E[0]=new Ze(Y[0],p),E[1]=new Ze(Y[1],p),C=!0;break}}let B=p+1;if(C){let Y=0,K=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;B<u;B++){const ie=mt.findGuardPattern(o,K[0],B,f,!1,b,D);if(ie!=null&&Math.abs(K[0]-ie[0])<mt.MAX_PATTERN_DRIFT&&Math.abs(K[1]-ie[1])<mt.MAX_PATTERN_DRIFT)K=ie,Y=0;else{if(Y>mt.SKIPPED_ROW_COUNT_MAX)break;Y++}}B-=Y+1,E[2]=new Ze(K[0],B),E[3]=new Ze(K[1],B)}return B-p<mt.BARCODE_MIN_HEIGHT&&W.fill(E,null),E}static findGuardPattern(o,u,f,p,y,b,E){W.fillWithin(E,0,E.length,0);let C=u,D=0;for(;o.get(C,f)&&C>0&&D++<mt.MAX_PIXEL_DRIFT;)C--;let B=C,Y=0,K=b.length;for(let ie=y;B<p;B++)if(o.get(B,f)!==ie)E[Y]++;else{if(Y===K-1){if(mt.patternMatchVariance(E,b,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return new Int32Array([C,B]);C+=E[0]+E[1],M.arraycopy(E,2,E,0,Y-1),E[Y-1]=0,E[Y]=0,Y--}else Y++;E[Y]=1,ie=!ie}return Y===K-1&&mt.patternMatchVariance(E,b,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE?new Int32Array([C,B-1]):null}static patternMatchVariance(o,u,f){let p=o.length,y=0,b=0;for(let D=0;D<p;D++)y+=o[D],b+=u[D];if(y<b)return 1/0;let E=y/b;f*=E;let C=0;for(let D=0;D<p;D++){let B=o[D],Y=u[D]*E,K=B>Y?B-Y:Y-B;if(K>f)return 1/0;C+=K}return C/y}}mt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),mt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),mt.MAX_AVG_VARIANCE=.42,mt.MAX_INDIVIDUAL_VARIANCE=.8,mt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),mt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),mt.MAX_PIXEL_DRIFT=3,mt.MAX_PATTERN_DRIFT=5,mt.SKIPPED_ROW_COUNT_MAX=25,mt.ROW_STEP=5,mt.BARCODE_MIN_HEIGHT=10;class Zn{constructor(o,u){if(u.length===0)throw new w;this.field=o;let f=u.length;if(f>1&&u[0]===0){let p=1;for(;p<f&&u[p]===0;)p++;p===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-p),M.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let p=0;for(let y of this.coefficients)p=this.field.add(p,y);return p}let u=this.coefficients[0],f=this.coefficients.length;for(let p=1;p<f;p++)u=this.field.add(this.field.multiply(o,u),this.coefficients[p]);return u}add(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,f=o.coefficients;if(u.length>f.length){let b=u;u=f,f=b}let p=new Int32Array(f.length),y=f.length-u.length;M.arraycopy(f,0,p,0,y);for(let b=y;b<f.length;b++)p[b]=this.field.add(u[b-y],f[b]);return new Zn(this.field,p)}subtract(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Zn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Zn(this.field,new Int32Array([0]));let u=this.coefficients,f=u.length,p=o.coefficients,y=p.length,b=new Int32Array(f+y-1);for(let E=0;E<f;E++){let C=u[E];for(let D=0;D<y;D++)b[E+D]=this.field.add(b[E+D],this.field.multiply(C,p[D]))}return new Zn(this.field,b)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let f=0;f<o;f++)u[f]=this.field.subtract(0,this.coefficients[f]);return new Zn(this.field,u)}multiplyScalar(o){if(o===0)return new Zn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,f=new Int32Array(u);for(let p=0;p<u;p++)f[p]=this.field.multiply(this.coefficients[p],o);return new Zn(this.field,f)}multiplyByMonomial(o,u){if(o<0)throw new w;if(u===0)return new Zn(this.field,new Int32Array([0]));let f=this.coefficients.length,p=new Int32Array(f+o);for(let y=0;y<f;y++)p[y]=this.field.multiply(this.coefficients[y],u);return new Zn(this.field,p)}toString(){let o=new z;for(let u=this.getDegree();u>=0;u--){let f=this.getCoefficient(u);f!==0&&(f<0?(o.append(" - "),f=-f):o.length()>0&&o.append(" + "),(u===0||f!==1)&&o.append(f),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class as{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}inverse(o){if(o===0)throw new Be;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class ss extends as{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let f=1;for(let p=0;p<o;p++)this.expTable[p]=f,f=f*u%o;for(let p=0;p<o-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new Zn(this,new Int32Array([0])),this.one=new Zn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new w;if(u===0)return this.zero;let f=new Int32Array(o+1);return f[0]=u,new Zn(this,f)}}ss.PDF417_GF=new ss(ut.NUMBER_OF_CODEWORDS,3);class os{constructor(){this.field=ss.PDF417_GF}decode(o,u,f){let p=new Zn(this.field,o),y=new Int32Array(u),b=!1;for(let ce=u;ce>0;ce--){let fe=p.evaluateAt(this.field.exp(ce));y[u-ce]=fe,fe!==0&&(b=!0)}if(!b)return 0;let E=this.field.getOne();if(f!=null)for(const ce of f){let fe=this.field.exp(o.length-1-ce),ye=new Zn(this.field,new Int32Array([this.field.subtract(0,fe),1]));E=E.multiply(ye)}let C=new Zn(this.field,y),D=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),C,u),B=D[0],Y=D[1],K=this.findErrorLocations(B),ie=this.findErrorMagnitudes(Y,B,K);for(let ce=0;ce<K.length;ce++){let fe=o.length-1-this.field.log(K[ce]);if(fe<0)throw T.getChecksumInstance();o[fe]=this.field.subtract(o[fe],ie[ce])}return K.length}runEuclideanAlgorithm(o,u,f){if(o.getDegree()<u.getDegree()){let K=o;o=u,u=K}let p=o,y=u,b=this.field.getZero(),E=this.field.getOne();for(;y.getDegree()>=Math.round(f/2);){let K=p,ie=b;if(p=y,b=E,p.isZero())throw T.getChecksumInstance();y=K;let ce=this.field.getZero(),fe=p.getCoefficient(p.getDegree()),ye=this.field.inverse(fe);for(;y.getDegree()>=p.getDegree()&&!y.isZero();){let Ae=y.getDegree()-p.getDegree(),Ve=this.field.multiply(y.getCoefficient(y.getDegree()),ye);ce=ce.add(this.field.buildMonomial(Ae,Ve)),y=y.subtract(p.multiplyByMonomial(Ae,Ve))}E=ce.multiply(b).subtract(ie).negative()}let C=E.getCoefficient(0);if(C===0)throw T.getChecksumInstance();let D=this.field.inverse(C),B=E.multiply(D),Y=y.multiply(D);return[B,Y]}findErrorLocations(o){let u=o.getDegree(),f=new Int32Array(u),p=0;for(let y=1;y<this.field.getSize()&&p<u;y++)o.evaluateAt(y)===0&&(f[p]=this.field.inverse(y),p++);if(p!==u)throw T.getChecksumInstance();return f}findErrorMagnitudes(o,u,f){let p=u.getDegree(),y=new Int32Array(p);for(let D=1;D<=p;D++)y[p-D]=this.field.multiply(D,u.getCoefficient(D));let b=new Zn(this.field,y),E=f.length,C=new Int32Array(E);for(let D=0;D<E;D++){let B=this.field.inverse(f[D]),Y=this.field.subtract(0,o.evaluateAt(B)),K=this.field.inverse(b.evaluateAt(B));C[D]=this.field.multiply(Y,K)}return C}}class Oa{constructor(o,u,f,p,y){o instanceof Oa?this.constructor_2(o):this.constructor_1(o,u,f,p,y)}constructor_1(o,u,f,p,y){const b=u==null||f==null,E=p==null||y==null;if(b&&E)throw new se;b?(u=new Ze(0,p.getY()),f=new Ze(0,y.getY())):E&&(p=new Ze(o.getWidth()-1,u.getY()),y=new Ze(o.getWidth()-1,f.getY())),this.image=o,this.topLeft=u,this.bottomLeft=f,this.topRight=p,this.bottomRight=y,this.minX=Math.trunc(Math.min(u.getX(),f.getX())),this.maxX=Math.trunc(Math.max(p.getX(),y.getX())),this.minY=Math.trunc(Math.min(u.getY(),p.getY())),this.maxY=Math.trunc(Math.max(f.getY(),y.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Oa(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,f){let p=this.topLeft,y=this.bottomLeft,b=this.topRight,E=this.bottomRight;if(o>0){let C=f?this.topLeft:this.topRight,D=Math.trunc(C.getY()-o);D<0&&(D=0);let B=new Ze(C.getX(),D);f?p=B:b=B}if(u>0){let C=f?this.bottomLeft:this.bottomRight,D=Math.trunc(C.getY()+u);D>=this.image.getHeight()&&(D=this.image.getHeight()-1);let B=new Ze(C.getX(),D);f?y=B:E=B}return new Oa(this.image,p,y,b,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ls{constructor(o,u,f,p){this.columnCount=o,this.errorCorrectionLevel=p,this.rowCountUpperPart=u,this.rowCountLowerPart=f,this.rowCount=u+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ki{constructor(){this.buffer=""}static form(o,u){let f=-1;function p(b,E,C,D,B,Y){if(b==="%%")return"%";if(u[++f]===void 0)return;b=D?parseInt(D.substr(1)):void 0;let K=B?parseInt(B.substr(1)):void 0,ie;switch(Y){case"s":ie=u[f];break;case"c":ie=u[f][0];break;case"f":ie=parseFloat(u[f]).toFixed(b);break;case"p":ie=parseFloat(u[f]).toPrecision(b);break;case"e":ie=parseFloat(u[f]).toExponential(b);break;case"x":ie=parseInt(u[f]).toString(K||16);break;case"d":ie=parseFloat(parseInt(u[f],K||10).toPrecision(b)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(K);let ce=parseInt(C),fe=C&&C[0]+""=="0"?"0":" ";for(;ie.length<ce;)ie=E!==void 0?ie+fe:fe+ie;return ie}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,p)}format(o,...u){this.buffer+=ki.form(o,u)}toString(){return this.buffer}}class Ps{constructor(o){this.boundingBox=new Oa(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let f=1;f<Ps.MAX_NEARBY_DISTANCE;f++){let p=this.imageRowToCodewordIndex(o)-f;if(p>=0&&(u=this.codewords[p],u!=null)||(p=this.imageRowToCodewordIndex(o)+f,p<this.codewords.length&&(u=this.codewords[p],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new ki;let u=0;for(const f of this.codewords){if(f==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,f.getRowNumber(),f.getValue())}return o.toString()}}Ps.MAX_NEARBY_DISTANCE=5;class ar{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[f,p]of this.values.entries()){const y={getKey:()=>f,getValue:()=>p};y.getValue()>o?(o=y.getValue(),u=[],u.push(y.getKey())):y.getValue()===o&&u.push(y.getKey())}return ut.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class sn extends Ps{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),y=this._isLeft?f.getBottomLeft():f.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.imageRowToCodewordIndex(Math.trunc(y.getY())),C=-1,D=1,B=0;for(let Y=b;Y<E;Y++){if(u[Y]==null)continue;let K=u[Y],ie=K.getRowNumber()-C;if(ie===0)B++;else if(ie===1)D=Math.max(D,B),B=1,C=K.getRowNumber();else if(ie<0||K.getRowNumber()>=o.getRowCount()||ie>Y)u[Y]=null;else{let ce;D>2?ce=(D-2)*ie:ce=ie;let fe=ce>=Y;for(let ye=1;ye<=ce&&!fe;ye++)fe=u[Y-ye]!=null;fe?u[Y]=null:(C=K.getRowNumber(),B=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let f of this.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=u.length)continue;u[p]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),f=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(f.getY())),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.getCodewords(),C=-1;for(let D=y;D<b;D++){if(E[D]==null)continue;let B=E[D];B.setRowNumberAsRowIndicatorColumn();let Y=B.getRowNumber()-C;Y===0||(Y===1?C=B.getRowNumber():B.getRowNumber()>=o.getRowCount()?E[D]=null:C=B.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new ar,f=new ar,p=new ar,y=new ar;for(let E of o){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let C=E.getValue()%30,D=E.getRowNumber();switch(this._isLeft||(D+=2),D%3){case 0:f.setValue(C*3+1);break;case 1:y.setValue(C/3),p.setValue(C%3);break;case 2:u.setValue(C+1);break}}if(u.getValue().length===0||f.getValue().length===0||p.getValue().length===0||y.getValue().length===0||u.getValue()[0]<1||f.getValue()[0]+p.getValue()[0]<ut.MIN_ROWS_IN_BARCODE||f.getValue()[0]+p.getValue()[0]>ut.MAX_ROWS_IN_BARCODE)return null;let b=new ls(u.getValue()[0],f.getValue()[0],p.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(o,b),b}removeIncorrectCodewords(o,u){for(let f=0;f<o.length;f++){let p=o[f];if(o[f]==null)continue;let y=p.getValue()%30,b=p.getRowNumber();if(b>u.getRowCount()){o[f]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:y*3+1!==u.getRowCountUpperPart()&&(o[f]=null);break;case 1:(Math.trunc(y/3)!==u.getErrorCorrectionLevel()||y%3!==u.getRowCountLowerPart())&&(o[f]=null);break;case 2:y+1!==u.getColumnCount()&&(o[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class us{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=ut.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let f=this.detectionResultColumns[u].getCodewords();for(let p=0;p<f.length;p++)f[p]!=null&&(f[p].hasValidRowNumber()||this.adjustRowNumbers(u,p,f))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++)if(o[f]!=null&&u[f]!=null&&o[f].getRowNumber()===u[f].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let y=this.detectionResultColumns[p].getCodewords()[f];y!=null&&(y.setRowNumber(o[f].getRowNumber()),y.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<u.length;f++){if(u[f]==null)continue;let p=u[f].getRowNumber(),y=0;for(let b=this.barcodeColumnCount+1;b>0&&y<this.ADJUST_ROW_NUMBER_SKIP;b--){let E=this.detectionResultColumns[b].getCodewords()[f];E!=null&&(y=us.adjustRowNumberIfValid(p,y,E),E.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let f=0;f<u.length;f++){if(u[f]==null)continue;let p=u[f].getRowNumber(),y=0;for(let b=1;b<this.barcodeColumnCount+1&&y<this.ADJUST_ROW_NUMBER_SKIP;b++){let E=this.detectionResultColumns[b].getCodewords()[f];E!=null&&(y=us.adjustRowNumberIfValid(p,y,E),E.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(o)?(f.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,f){if(!this.detectionResultColumns[o-1])return;let p=f[u],y=this.detectionResultColumns[o-1].getCodewords(),b=y;this.detectionResultColumns[o+1]!=null&&(b=this.detectionResultColumns[o+1].getCodewords());let E=new Array(14);E[2]=y[u],E[3]=b[u],u>0&&(E[0]=f[u-1],E[4]=y[u-1],E[5]=b[u-1]),u>1&&(E[8]=f[u-2],E[10]=y[u-2],E[11]=b[u-2]),u<f.length-1&&(E[1]=f[u+1],E[6]=y[u+1],E[7]=b[u+1]),u<f.length-2&&(E[9]=f[u+2],E[12]=y[u+2],E[13]=b[u+2]);for(let C of E)if(us.adjustRowNumber(p,C))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new ki;for(let f=0;f<o.getCodewords().length;f++){u.format("CW %3d:",f);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){u.format("    |   ");continue}let y=this.detectionResultColumns[p].getCodewords()[f];if(y==null){u.format("    |   ");continue}u.format(" %3d|%3d",y.getRowNumber(),y.getValue())}u.format("%n")}return u.toString()}}class Ra{constructor(o,u,f,p){this.rowNumber=Ra.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(f),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ra.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ra.BARCODE_ROW_UNKNOWN=-1;class $r{static initialize(){for(let o=0;o<ut.SYMBOL_TABLE.length;o++){let u=ut.SYMBOL_TABLE[o],f=u&1;for(let p=0;p<ut.BARS_IN_MODULE;p++){let y=0;for(;(u&1)===f;)y+=1,u>>=1;f=u&1,$r.RATIOS_TABLE[o]||($r.RATIOS_TABLE[o]=new Array(ut.BARS_IN_MODULE)),$r.RATIOS_TABLE[o][ut.BARS_IN_MODULE-p-1]=Math.fround(y/ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=$r.getDecodedCodewordValue($r.sampleBitCounts(o));return u!==-1?u:$r.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=St.sum(o),f=new Int32Array(ut.BARS_IN_MODULE),p=0,y=0;for(let b=0;b<ut.MODULES_IN_CODEWORD;b++){let E=u/(2*ut.MODULES_IN_CODEWORD)+b*u/ut.MODULES_IN_CODEWORD;y+o[p]<=E&&(y+=o[p],p++),f[p]++}return f}static getDecodedCodewordValue(o){let u=$r.getBitValue(o);return ut.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let f=0;f<o.length;f++)for(let p=0;p<o[f];p++)u=u<<1|(f%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=St.sum(o),f=new Array(ut.BARS_IN_MODULE);if(u>1)for(let b=0;b<f.length;b++)f[b]=Math.fround(o[b]/u);let p=Ea.MAX_VALUE,y=-1;this.bSymbolTableReady||$r.initialize();for(let b=0;b<$r.RATIOS_TABLE.length;b++){let E=0,C=$r.RATIOS_TABLE[b];for(let D=0;D<ut.BARS_IN_MODULE;D++){let B=Math.fround(C[D]-f[D]);if(E+=Math.fround(B*B),E>=p)break}E<p&&(p=E,y=ut.SYMBOL_TABLE[b])}return y}}$r.bSymbolTableReady=!1,$r.RATIOS_TABLE=new Array(ut.SYMBOL_TABLE.length).map(G=>new Array(ut.BARS_IN_MODULE));class To{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Io{static parseLong(o,u=void 0){return parseInt(o,u)}}class Na extends d{}Na.kind="NullPointerException";class Oo{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,f){if(o==null)throw new Na;if(u<0||u>o.length||f<0||u+f>o.length||u+f<0)throw new P;if(f===0)return;for(let p=0;p<f;p++)this.write(o[u+p])}flush(){}close(){}}class sa extends d{}class Cc extends Oo{constructor(o=32){if(super(),this.count=0,o<0)throw new w("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let f=this.buf.length<<1;if(f-o<0&&(f=o),f<0){if(o<0)throw new sa;f=q.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,f)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,f){if(u<0||u>o.length||f<0||u+f-o.length>0)throw new P;this.ensureCapacity(this.count+f),M.arraycopy(o,u,this.buf,this.count,f),this.count+=f}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var ln;(function(G){G[G.ALPHA=0]="ALPHA",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.PUNCT=3]="PUNCT",G[G.ALPHA_SHIFT=4]="ALPHA_SHIFT",G[G.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ln||(ln={}));function Ks(){if(typeof window<"u")return window.BigInt||null;if(typeof v1<"u")return v1.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ls;function oa(G){if(typeof Ls>"u"&&(Ls=Ks()),Ls===null)throw new Error("BigInt is not supported!");return Ls(G)}function Al(){let G=[];G[0]=oa(1);let o=oa(900);G[1]=o;for(let u=2;u<16;u++)G[u]=G[u-1]*o;return G}class Se{static decode(o,u){let f=new z(""),p=j.ISO8859_1;f.enableDecoding(p);let y=1,b=o[y++],E=new To;for(;y<o[0];){switch(b){case Se.TEXT_COMPACTION_MODE_LATCH:y=Se.textCompaction(o,y,f);break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:y=Se.byteCompaction(b,o,p,y,f);break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y++]);break;case Se.NUMERIC_COMPACTION_MODE_LATCH:y=Se.numericCompaction(o,y,f);break;case Se.ECI_CHARSET:j.getCharacterSetECIByValue(o[y++]);break;case Se.ECI_GENERAL_PURPOSE:y+=2;break;case Se.ECI_USER_DEFINED:y++;break;case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:y=Se.decodeMacroBlock(o,y,E);break;case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:throw new k;default:y--,y=Se.textCompaction(o,y,f);break}if(y<o.length)b=o[y++];else throw k.getFormatInstance()}if(f.length()===0)throw k.getFormatInstance();let C=new Re(null,f.toString(),null,u);return C.setOther(E),C}static decodeMacroBlock(o,u,f){if(u+Se.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw k.getFormatInstance();let p=new Int32Array(Se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Se.NUMBER_OF_SEQUENCE_CODEWORDS;E++,u++)p[E]=o[u];f.setSegmentIndex(q.parseInt(Se.decodeBase900toBase10(p,Se.NUMBER_OF_SEQUENCE_CODEWORDS)));let y=new z;u=Se.textCompaction(o,u,y),f.setFileId(y.toString());let b=-1;for(o[u]===Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=u+1);u<o[0];)switch(o[u]){case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new z;u=Se.textCompaction(o,u+1,E),f.setFileName(E.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new z;u=Se.textCompaction(o,u+1,C),f.setSender(C.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let D=new z;u=Se.textCompaction(o,u+1,D),f.setAddressee(D.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let B=new z;u=Se.numericCompaction(o,u+1,B),f.setSegmentCount(q.parseInt(B.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Y=new z;u=Se.numericCompaction(o,u+1,Y),f.setTimestamp(Io.parseLong(Y.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let K=new z;u=Se.numericCompaction(o,u+1,K),f.setChecksum(q.parseInt(K.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ie=new z;u=Se.numericCompaction(o,u+1,ie),f.setFileSize(Io.parseLong(ie.toString()));break;default:throw k.getFormatInstance()}break;case Se.MACRO_PDF417_TERMINATOR:u++,f.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(b!==-1){let E=u-b;f.isLastSegment()&&E--,f.setOptionalData(W.copyOfRange(o,b,b+E))}return u}static textCompaction(o,u,f){let p=new Int32Array((o[0]-u)*2),y=new Int32Array((o[0]-u)*2),b=0,E=!1;for(;u<o[0]&&!E;){let C=o[u++];if(C<Se.TEXT_COMPACTION_MODE_LATCH)p[b]=C/30,p[b+1]=C%30,b+=2;else switch(C){case Se.TEXT_COMPACTION_MODE_LATCH:p[b++]=Se.TEXT_COMPACTION_MODE_LATCH;break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:u--,E=!0;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[b]=Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=o[u++],y[b]=C,b++;break}}return Se.decodeTextCompaction(p,y,b,f),u}static decodeTextCompaction(o,u,f,p){let y=ln.ALPHA,b=ln.ALPHA,E=0;for(;E<f;){let C=o[E],D="";switch(y){case ln.ALPHA:if(C<26)D=String.fromCharCode(65+C);else switch(C){case 26:D=" ";break;case Se.LL:y=ln.LOWER;break;case Se.ML:y=ln.MIXED;break;case Se.PS:b=y,y=ln.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=ln.ALPHA;break}break;case ln.LOWER:if(C<26)D=String.fromCharCode(97+C);else switch(C){case 26:D=" ";break;case Se.AS:b=y,y=ln.ALPHA_SHIFT;break;case Se.ML:y=ln.MIXED;break;case Se.PS:b=y,y=ln.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=ln.ALPHA;break}break;case ln.MIXED:if(C<Se.PL)D=Se.MIXED_CHARS[C];else switch(C){case Se.PL:y=ln.PUNCT;break;case 26:D=" ";break;case Se.LL:y=ln.LOWER;break;case Se.AL:y=ln.ALPHA;break;case Se.PS:b=y,y=ln.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=ln.ALPHA;break}break;case ln.PUNCT:if(C<Se.PAL)D=Se.PUNCT_CHARS[C];else switch(C){case Se.PAL:y=ln.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=ln.ALPHA;break}break;case ln.ALPHA_SHIFT:if(y=b,C<26)D=String.fromCharCode(65+C);else switch(C){case 26:D=" ";break;case Se.TEXT_COMPACTION_MODE_LATCH:y=ln.ALPHA;break}break;case ln.PUNCT_SHIFT:if(y=b,C<Se.PAL)D=Se.PUNCT_CHARS[C];else switch(C){case Se.PAL:y=ln.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=ln.ALPHA;break}break}D!==""&&p.append(D),E++}}static byteCompaction(o,u,f,p,y){let b=new Cc,E=0,C=0,D=!1;switch(o){case Se.BYTE_COMPACTION_MODE_LATCH:let B=new Int32Array(6),Y=u[p++];for(;p<u[0]&&!D;)switch(B[E++]=Y,C=900*C+Y,Y=u[p++],Y){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:p--,D=!0;break;default:if(E%5===0&&E>0){for(let K=0;K<6;++K)b.write(Number(oa(C)>>oa(8*(5-K))));C=0,E=0}break}p===u[0]&&Y<Se.TEXT_COMPACTION_MODE_LATCH&&(B[E++]=Y);for(let K=0;K<E;K++)b.write(B[K]);break;case Se.BYTE_COMPACTION_MODE_LATCH_6:for(;p<u[0]&&!D;){let K=u[p++];if(K<Se.TEXT_COMPACTION_MODE_LATCH)E++,C=900*C+K;else switch(K){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:p--,D=!0;break}if(E%5===0&&E>0){for(let ie=0;ie<6;++ie)b.write(Number(oa(C)>>oa(8*(5-ie))));C=0,E=0}}break}return y.append(Z.decode(b.toByteArray(),f)),p}static numericCompaction(o,u,f){let p=0,y=!1,b=new Int32Array(Se.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!y;){let E=o[u++];if(u===o[0]&&(y=!0),E<Se.TEXT_COMPACTION_MODE_LATCH)b[p]=E,p++;else switch(E){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:u--,y=!0;break}(p%Se.MAX_NUMERIC_CODEWORDS===0||E===Se.NUMERIC_COMPACTION_MODE_LATCH||y)&&p>0&&(f.append(Se.decodeBase900toBase10(b,p)),p=0)}return u}static decodeBase900toBase10(o,u){let f=oa(0);for(let y=0;y<u;y++)f+=Se.EXP900[u-y-1]*oa(o[y]);let p=f.toString();if(p.charAt(0)!=="1")throw new k;return p.substring(1)}}Se.TEXT_COMPACTION_MODE_LATCH=900,Se.BYTE_COMPACTION_MODE_LATCH=901,Se.NUMERIC_COMPACTION_MODE_LATCH=902,Se.BYTE_COMPACTION_MODE_LATCH_6=924,Se.ECI_USER_DEFINED=925,Se.ECI_GENERAL_PURPOSE=926,Se.ECI_CHARSET=927,Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Se.MACRO_PDF417_TERMINATOR=922,Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Se.MAX_NUMERIC_CODEWORDS=15,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Se.PL=25,Se.LL=27,Se.AS=27,Se.ML=28,Se.AL=28,Se.PS=29,Se.PAL=29,Se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Se.EXP900=Ks()?Al():[],Se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ct{constructor(){}static decode(o,u,f,p,y,b,E){let C=new Oa(o,u,f,p,y),D=null,B=null,Y;for(let ce=!0;;ce=!1){if(u!=null&&(D=Ct.getRowIndicatorColumn(o,C,u,!0,b,E)),p!=null&&(B=Ct.getRowIndicatorColumn(o,C,p,!1,b,E)),Y=Ct.merge(D,B),Y==null)throw se.getNotFoundInstance();let fe=Y.getBoundingBox();if(ce&&fe!=null&&(fe.getMinY()<C.getMinY()||fe.getMaxY()>C.getMaxY()))C=fe;else break}Y.setBoundingBox(C);let K=Y.getBarcodeColumnCount()+1;Y.setDetectionResultColumn(0,D),Y.setDetectionResultColumn(K,B);let ie=D!=null;for(let ce=1;ce<=K;ce++){let fe=ie?ce:K-ce;if(Y.getDetectionResultColumn(fe)!==void 0)continue;let ye;fe===0||fe===K?ye=new sn(C,fe===0):ye=new Ps(C),Y.setDetectionResultColumn(fe,ye);let Ae=-1,Ve=Ae;for(let ze=C.getMinY();ze<=C.getMaxY();ze++){if(Ae=Ct.getStartColumn(Y,fe,ze,ie),Ae<0||Ae>C.getMaxX()){if(Ve===-1)continue;Ae=Ve}let Ue=Ct.detectCodeword(o,C.getMinX(),C.getMaxX(),ie,Ae,ze,b,E);Ue!=null&&(ye.setCodeword(ze,Ue),Ve=Ae,b=Math.min(b,Ue.getWidth()),E=Math.max(E,Ue.getWidth()))}}return Ct.createDecoderResult(Y)}static merge(o,u){if(o==null&&u==null)return null;let f=Ct.getBarcodeMetadata(o,u);if(f==null)return null;let p=Oa.merge(Ct.adjustBoundingBox(o),Ct.adjustBoundingBox(u));return new us(f,p)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let f=Ct.getMax(u),p=0;for(let E of u)if(p+=f-E,E>0)break;let y=o.getCodewords();for(let E=0;p>0&&y[E]==null;E++)p--;let b=0;for(let E=u.length-1;E>=0&&(b+=f-u[E],!(u[E]>0));E--);for(let E=y.length-1;b>0&&y[E]==null;E--)b--;return o.getBoundingBox().addMissingRows(p,b,o.isLeft())}static getMax(o){let u=-1;for(let f of o)u=Math.max(u,f);return u}static getBarcodeMetadata(o,u){let f;if(o==null||(f=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let p;return u==null||(p=u.getBarcodeMetadata())==null?f:f.getColumnCount()!==p.getColumnCount()&&f.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&f.getRowCount()!==p.getRowCount()?null:f}static getRowIndicatorColumn(o,u,f,p,y,b){let E=new sn(u,p);for(let C=0;C<2;C++){let D=C===0?1:-1,B=Math.trunc(Math.trunc(f.getX()));for(let Y=Math.trunc(Math.trunc(f.getY()));Y<=u.getMaxY()&&Y>=u.getMinY();Y+=D){let K=Ct.detectCodeword(o,0,o.getWidth(),p,B,Y,y,b);K!=null&&(E.setCodeword(Y,K),p?B=K.getStartX():B=K.getEndX())}}return E}static adjustCodewordCount(o,u){let f=u[0][1],p=f.getValue(),y=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Ct.getNumberOfECCodeWords(o.getBarcodeECLevel());if(p.length===0){if(y<1||y>ut.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();f.setValue(y)}else p[0]!==y&&f.setValue(y)}static createDecoderResult(o){let u=Ct.createBarcodeMatrix(o);Ct.adjustCodewordCount(o,u);let f=new Array,p=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),y=[],b=new Array;for(let C=0;C<o.getBarcodeRowCount();C++)for(let D=0;D<o.getBarcodeColumnCount();D++){let B=u[C][D+1].getValue(),Y=C*o.getBarcodeColumnCount()+D;B.length===0?f.push(Y):B.length===1?p[Y]=B[0]:(b.push(Y),y.push(B))}let E=new Array(y.length);for(let C=0;C<E.length;C++)E[C]=y[C];return Ct.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),p,ut.toIntArray(f),ut.toIntArray(b),E)}static createDecoderResultFromAmbiguousValues(o,u,f,p,y){let b=new Int32Array(p.length),E=100;for(;E-- >0;){for(let C=0;C<b.length;C++)u[p[C]]=y[C][b[C]];try{return Ct.decodeCodewords(u,o,f)}catch(C){if(!(C instanceof T))throw C}if(b.length===0)throw T.getChecksumInstance();for(let C=0;C<b.length;C++)if(b[C]<y[C].length-1){b[C]++;break}else if(b[C]=0,C===b.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let p=0;p<u.length;p++)for(let y=0;y<u[p].length;y++)u[p][y]=new ar;let f=0;for(let p of o.getDetectionResultColumns()){if(p!=null){for(let y of p.getCodewords())if(y!=null){let b=y.getRowNumber();if(b>=0){if(b>=u.length)continue;u[b][f].setValue(y.getValue())}}}f++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,f,p){let y=p?1:-1,b=null;if(Ct.isValidBarcodeColumn(o,u-y)&&(b=o.getDetectionResultColumn(u-y).getCodeword(f)),b!=null)return p?b.getEndX():b.getStartX();if(b=o.getDetectionResultColumn(u).getCodewordNearby(f),b!=null)return p?b.getStartX():b.getEndX();if(Ct.isValidBarcodeColumn(o,u-y)&&(b=o.getDetectionResultColumn(u-y).getCodewordNearby(f)),b!=null)return p?b.getEndX():b.getStartX();let E=0;for(;Ct.isValidBarcodeColumn(o,u-y);){u-=y;for(let C of o.getDetectionResultColumn(u).getCodewords())if(C!=null)return(p?C.getEndX():C.getStartX())+y*E*(C.getEndX()-C.getStartX());E++}return p?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,f,p,y,b,E,C){y=Ct.adjustCodewordStartColumn(o,u,f,p,y,b);let D=Ct.getModuleBitCount(o,u,f,p,y,b);if(D==null)return null;let B,Y=St.sum(D);if(p)B=y+Y;else{for(let ce=0;ce<D.length/2;ce++){let fe=D[ce];D[ce]=D[D.length-1-ce],D[D.length-1-ce]=fe}B=y,y=B-Y}if(!Ct.checkCodewordSkew(Y,E,C))return null;let K=$r.getDecodedValue(D),ie=ut.getCodeword(K);return ie===-1?null:new Ra(y,B,Ct.getCodewordBucketNumber(K),ie)}static getModuleBitCount(o,u,f,p,y,b){let E=y,C=new Int32Array(8),D=0,B=p?1:-1,Y=p;for(;(p?E<f:E>=u)&&D<C.length;)o.get(E,b)===Y?(C[D]++,E+=B):(D++,Y=!Y);return D===C.length||E===(p?f:u)&&D===C.length-1?C:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,f,p,y,b){let E=y,C=p?-1:1;for(let D=0;D<2;D++){for(;(p?E>=u:E<f)&&p===o.get(E,b);){if(Math.abs(y-E)>Ct.CODEWORD_SKEW_SIZE)return y;E+=C}C=-C,p=!p}return E}static checkCodewordSkew(o,u,f){return u-Ct.CODEWORD_SKEW_SIZE<=o&&o<=f+Ct.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,f){if(o.length===0)throw k.getFormatInstance();let p=1<<u+1,y=Ct.correctErrors(o,f,p);Ct.verifyCodewordCount(o,p);let b=Se.decode(o,""+u);return b.setErrorsCorrected(y),b.setErasures(f.length),b}static correctErrors(o,u,f){if(u!=null&&u.length>f/2+Ct.MAX_ERRORS||f<0||f>Ct.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return Ct.errorCorrection.decode(o,f,u)}static verifyCodewordCount(o,u){if(o.length<4)throw k.getFormatInstance();let f=o[0];if(f>o.length)throw k.getFormatInstance();if(f===0)if(u<o.length)o[0]=o.length-u;else throw k.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),f=0,p=u.length-1;for(;!((o&1)!==f&&(f=o&1,p--,p<0));)u[p]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Ct.getCodewordBucketNumber(Ct.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new ki;for(let f=0;f<o.length;f++){u.format("Row %2d: ",f);for(let p=0;p<o[f].length;p++){let y=o[f][p];y.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",y.getValue()[0],y.getConfidence(y.getValue()[0]))}u.format("%n")}return u.toString()}}Ct.CODEWORD_SKEW_SIZE=2,Ct.MAX_ERRORS=3,Ct.MAX_EC_CODEWORDS=512,Ct.errorCorrection=new os;class Rr{decode(o,u=null){let f=Rr.decode(o,u,!1);if(f==null||f.length===0||f[0]==null)throw se.getNotFoundInstance();return f[0]}decodeMultiple(o,u=null){try{return Rr.decode(o,u,!0)}catch(f){throw f instanceof k||f instanceof T?se.getNotFoundInstance():f}}static decode(o,u,f){const p=new Array,y=mt.detectMultiple(o,u,f);for(const b of y.getPoints()){const E=Ct.decode(y.getBits(),b[4],b[5],b[6],b[7],Rr.getMinCodewordWidth(b),Rr.getMaxCodewordWidth(b)),C=new $e(E.getText(),E.getRawBytes(),void 0,b,je.PDF_417);C.putMetadata(vt.ERROR_CORRECTION_LEVEL,E.getECLevel());const D=E.getOther();D!=null&&C.putMetadata(vt.PDF417_EXTRA_METADATA,D),p.push(C)}return p.map(b=>b)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?q.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Rr.getMaxWidth(o[0],o[4]),Rr.getMaxWidth(o[6],o[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.max(Rr.getMaxWidth(o[1],o[5]),Rr.getMaxWidth(o[7],o[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Rr.getMinWidth(o[0],o[4]),Rr.getMinWidth(o[6],o[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.min(Rr.getMinWidth(o[1],o[5]),Rr.getMinWidth(o[7],o[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class Qs extends d{}Qs.kind="ReaderException";class Zs{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!r(o)&&o.get(ne.TRY_HARDER)===!0,f=r(o)?null:o.get(ne.POSSIBLE_FORMATS),p=new Array;if(!r(f)){const y=f.some(b=>b===je.UPC_A||b===je.UPC_E||b===je.EAN_13||b===je.EAN_8||b===je.CODABAR||b===je.CODE_39||b===je.CODE_93||b===je.CODE_128||b===je.ITF||b===je.RSS_14||b===je.RSS_EXPANDED);y&&!u&&p.push(new aa(o,this.verbose)),f.includes(je.QR_CODE)&&p.push(new Ta),f.includes(je.DATA_MATRIX)&&p.push(new Pi),f.includes(je.AZTEC)&&p.push(new $n),f.includes(je.PDF_417)&&p.push(new Rr),y&&u&&p.push(new aa(o,this.verbose))}p.length===0&&(u||p.push(new aa(o,this.verbose)),p.push(new Ta),p.push(new Pi),p.push(new $n),p.push(new Rr),u&&p.push(new aa(o,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Qs("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(f){if(f instanceof Qs)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class Tc extends ke{constructor(o=null,u=500){const f=new Zs;f.setHints(o),super(f,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Ic extends ke{constructor(o=500){super(new Rr,o)}}class Ou extends ke{constructor(o=500){super(new Ta,o)}}var ks;(function(G){G[G.ERROR_CORRECTION=0]="ERROR_CORRECTION",G[G.CHARACTER_SET=1]="CHARACTER_SET",G[G.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",G[G.MIN_SIZE=3]="MIN_SIZE",G[G.MAX_SIZE=4]="MAX_SIZE",G[G.MARGIN=5]="MARGIN",G[G.PDF417_COMPACT=6]="PDF417_COMPACT",G[G.PDF417_COMPACTION=7]="PDF417_COMPACTION",G[G.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",G[G.AZTEC_LAYERS=9]="AZTEC_LAYERS",G[G.QR_VERSION=10]="QR_VERSION"})(ks||(ks={}));var sr=ks;class Js{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new it(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let f=u[u.length-1];const p=this.field;for(let y=u.length;y<=o;y++){const b=f.multiply(new it(p,Int32Array.from([1,p.exp(y-1+p.getGeneratorBase())])));u.push(b),f=b}}return u[o]}encode(o,u){if(u===0)throw new w("No error correction bytes");const f=o.length-u;if(f<=0)throw new w("No data bytes provided");const p=this.buildGenerator(u),y=new Int32Array(f);M.arraycopy(o,0,y,0,f);let b=new it(this.field,y);b=b.multiplyByMonomial(u,1);const C=b.divide(p)[1].getCoefficients(),D=u-C.length;for(let B=0;B<D;B++)o[f+B]=0;M.arraycopy(C,0,o,f+D,C.length)}}class jn{constructor(){}static applyMaskPenaltyRule1(o){return jn.applyMaskPenaltyRule1Internal(o,!0)+jn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let b=0;b<y-1;b++){const E=f[b];for(let C=0;C<p-1;C++){const D=E[C];D===E[C+1]&&D===f[b+1][C]&&D===f[b+1][C+1]&&u++}}return jn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let b=0;b<y;b++)for(let E=0;E<p;E++){const C=f[b];E+6<p&&C[E]===1&&C[E+1]===0&&C[E+2]===1&&C[E+3]===1&&C[E+4]===1&&C[E+5]===0&&C[E+6]===1&&(jn.isWhiteHorizontal(C,E-4,E)||jn.isWhiteHorizontal(C,E+7,E+11))&&u++,b+6<y&&f[b][E]===1&&f[b+1][E]===0&&f[b+2][E]===1&&f[b+3][E]===1&&f[b+4][E]===1&&f[b+5][E]===0&&f[b+6][E]===1&&(jn.isWhiteVertical(f,E,b-4,b)||jn.isWhiteVertical(f,E,b+7,b+11))&&u++}return u*jn.N3}static isWhiteHorizontal(o,u,f){u=Math.max(u,0),f=Math.min(f,o.length);for(let p=u;p<f;p++)if(o[p]===1)return!1;return!0}static isWhiteVertical(o,u,f,p){f=Math.max(f,0),p=Math.min(p,o.length);for(let y=f;y<p;y++)if(o[y][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let C=0;C<y;C++){const D=f[C];for(let B=0;B<p;B++)D[B]===1&&u++}const b=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-b)*10/b)*jn.N4}static getDataMaskBit(o,u,f){let p,y;switch(o){case 0:p=f+u&1;break;case 1:p=f&1;break;case 2:p=u%3;break;case 3:p=(f+u)%3;break;case 4:p=Math.floor(f/2)+Math.floor(u/3)&1;break;case 5:y=f*u,p=(y&1)+y%3;break;case 6:y=f*u,p=(y&1)+y%3&1;break;case 7:y=f*u,p=y%3+(f+u&1)&1;break;default:throw new w("Invalid mask pattern: "+o)}return p===0}static applyMaskPenaltyRule1Internal(o,u){let f=0;const p=u?o.getHeight():o.getWidth(),y=u?o.getWidth():o.getHeight(),b=o.getArray();for(let E=0;E<p;E++){let C=0,D=-1;for(let B=0;B<y;B++){const Y=u?b[E][B]:b[B][E];Y===D?C++:(C>=5&&(f+=jn.N1+(C-5)),C=1,D=Y)}C>=5&&(f+=jn.N1+(C-5))}return f}}jn.N1=3,jn.N2=3,jn.N3=40,jn.N4=10;class eo{constructor(o,u){this.width=o,this.height=u;const f=new Array(u);for(let p=0;p!==u;p++)f[p]=new Uint8Array(o);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,f){this.bytes[u][o]=f}setBoolean(o,u,f){this.bytes[u][o]=f?1:0}clear(o){for(const u of this.bytes)W.fill(u,o)}equals(o){if(!(o instanceof eo))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let f=0,p=this.height;f<p;++f){const y=this.bytes[f],b=u.bytes[f];for(let E=0,C=this.width;E<C;++E)if(y[E]!==b[E])return!1}return!0}toString(){const o=new z;for(let u=0,f=this.height;u<f;++u){const p=this.bytes[u];for(let y=0,b=this.width;y<b;++y)switch(p[y]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new z;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<xi.NUM_MASK_PATTERNS}}xi.NUM_MASK_PATTERNS=8;class un extends d{}un.kind="WriterException";class ft{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,f,p,y){ft.clearMatrix(y),ft.embedBasicPatterns(f,y),ft.embedTypeInfo(u,p,y),ft.maybeEmbedVersionInfo(f,y),ft.embedDataBits(o,p,y)}static embedBasicPatterns(o,u){ft.embedPositionDetectionPatternsAndSeparators(u),ft.embedDarkDotAtLeftBottomCorner(u),ft.maybeEmbedPositionAdjustmentPatterns(o,u),ft.embedTimingPatterns(u)}static embedTypeInfo(o,u,f){const p=new ee;ft.makeTypeInfoBits(o,u,p);for(let y=0,b=p.getSize();y<b;++y){const E=p.get(p.getSize()-1-y),C=ft.TYPE_INFO_COORDINATES[y],D=C[0],B=C[1];if(f.setBoolean(D,B,E),y<8){const Y=f.getWidth()-y-1;f.setBoolean(Y,8,E)}else{const K=f.getHeight()-7+(y-8);f.setBoolean(8,K,E)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const f=new ee;ft.makeVersionInfoBits(o,f);let p=17;for(let y=0;y<6;++y)for(let b=0;b<3;++b){const E=f.get(p);p--,u.setBoolean(y,u.getHeight()-11+b,E),u.setBoolean(u.getHeight()-11+b,y,E)}}static embedDataBits(o,u,f){let p=0,y=-1,b=f.getWidth()-1,E=f.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);E>=0&&E<f.getHeight();){for(let C=0;C<2;++C){const D=b-C;if(!ft.isEmpty(f.get(D,E)))continue;let B;p<o.getSize()?(B=o.get(p),++p):B=!1,u!==255&&jn.getDataMaskBit(u,D,E)&&(B=!B),f.setBoolean(D,E,B)}E+=y}y=-y,E+=y,b-=2}if(p!==o.getSize())throw new un("Not all bits consumed: "+p+"/"+o.getSize())}static findMSBSet(o){return 32-q.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new w("0 polynomial");const f=ft.findMSBSet(u);for(o<<=f-1;ft.findMSBSet(o)>=f;)o^=u<<ft.findMSBSet(o)-f;return o}static makeTypeInfoBits(o,u,f){if(!xi.isValidMaskPattern(u))throw new un("Invalid mask pattern");const p=o.getBits()<<3|u;f.appendBits(p,5);const y=ft.calculateBCHCode(p,ft.TYPE_INFO_POLY);f.appendBits(y,10);const b=new ee;if(b.appendBits(ft.TYPE_INFO_MASK_PATTERN,15),f.xor(b),f.getSize()!==15)throw new un("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const f=ft.calculateBCHCode(o.getVersionNumber(),ft.VERSION_INFO_POLY);if(u.appendBits(f,12),u.getSize()!==18)throw new un("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const f=(u+1)%2;ft.isEmpty(o.get(u,6))&&o.setNumber(u,6,f),ft.isEmpty(o.get(6,u))&&o.setNumber(6,u,f)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new un;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,f){for(let p=0;p<8;++p){if(!ft.isEmpty(f.get(o+p,u)))throw new un;f.setNumber(o+p,u,0)}}static embedVerticalSeparationPattern(o,u,f){for(let p=0;p<7;++p){if(!ft.isEmpty(f.get(o,u+p)))throw new un;f.setNumber(o,u+p,0)}}static embedPositionAdjustmentPattern(o,u,f){for(let p=0;p<5;++p){const y=ft.POSITION_ADJUSTMENT_PATTERN[p];for(let b=0;b<5;++b)f.setNumber(o+b,u+p,y[b])}}static embedPositionDetectionPattern(o,u,f){for(let p=0;p<7;++p){const y=ft.POSITION_DETECTION_PATTERN[p];for(let b=0;b<7;++b)f.setNumber(o+b,u+p,y[b])}}static embedPositionDetectionPatternsAndSeparators(o){const u=ft.POSITION_DETECTION_PATTERN[0].length;ft.embedPositionDetectionPattern(0,0,o),ft.embedPositionDetectionPattern(o.getWidth()-u,0,o),ft.embedPositionDetectionPattern(0,o.getWidth()-u,o);const f=8;ft.embedHorizontalSeparationPattern(0,f-1,o),ft.embedHorizontalSeparationPattern(o.getWidth()-f,f-1,o),ft.embedHorizontalSeparationPattern(0,o.getWidth()-f,o);const p=7;ft.embedVerticalSeparationPattern(p,0,o),ft.embedVerticalSeparationPattern(o.getHeight()-p-1,0,o),ft.embedVerticalSeparationPattern(p,o.getHeight()-p,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const f=o.getVersionNumber()-1,p=ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let y=0,b=p.length;y!==b;y++){const E=p[y];if(E>=0)for(let C=0;C!==b;C++){const D=p[C];D>=0&&ft.isEmpty(u.get(D,E))&&ft.embedPositionAdjustmentPattern(D-2,E-2,u)}}}}ft.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ft.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ft.VERSION_INFO_POLY=7973,ft.TYPE_INFO_POLY=1335,ft.TYPE_INFO_MASK_PATTERN=21522;class Oc{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class vn{constructor(){}static calculateMaskPenalty(o){return jn.applyMaskPenaltyRule1(o)+jn.applyMaskPenaltyRule2(o)+jn.applyMaskPenaltyRule3(o)+jn.applyMaskPenaltyRule4(o)}static encode(o,u,f=null){let p=vn.DEFAULT_BYTE_MODE_ENCODING;const y=f!==null&&f.get(sr.CHARACTER_SET)!==void 0;y&&(p=f.get(sr.CHARACTER_SET).toString());const b=this.chooseMode(o,p),E=new ee;if(b===ot.BYTE&&(y||vn.DEFAULT_BYTE_MODE_ENCODING!==p)){const ze=j.getCharacterSetECIByName(p);ze!==void 0&&this.appendECI(ze,E)}this.appendModeInfo(b,E);const C=new ee;this.appendBytes(o,b,C,p);let D;if(f!==null&&f.get(sr.QR_VERSION)!==void 0){const ze=Number.parseInt(f.get(sr.QR_VERSION).toString(),10);D=Ge.getVersionForNumber(ze);const Ue=this.calculateBitsNeeded(b,E,C,D);if(!this.willFit(Ue,D,u))throw new un("Data too big for requested version")}else D=this.recommendVersion(u,b,E,C);const B=new ee;B.appendBitArray(E);const Y=b===ot.BYTE?C.getSizeInBytes():o.length;this.appendLengthInfo(Y,D,b,B),B.appendBitArray(C);const K=D.getECBlocksForLevel(u),ie=D.getTotalCodewords()-K.getTotalECCodewords();this.terminateBits(ie,B);const ce=this.interleaveWithECBytes(B,D.getTotalCodewords(),ie,K.getNumBlocks()),fe=new xi;fe.setECLevel(u),fe.setMode(b),fe.setVersion(D);const ye=D.getDimensionForVersion(),Ae=new eo(ye,ye),Ve=this.chooseMaskPattern(ce,u,D,Ae);return fe.setMaskPattern(Ve),ft.buildMatrix(ce,u,D,Ve,Ae),fe.setMatrix(Ae),fe}static recommendVersion(o,u,f,p){const y=this.calculateBitsNeeded(u,f,p,Ge.getVersionForNumber(1)),b=this.chooseVersion(y,o),E=this.calculateBitsNeeded(u,f,p,b);return this.chooseVersion(E,o)}static calculateBitsNeeded(o,u,f,p){return u.getSize()+o.getCharacterCountBits(p)+f.getSize()}static getAlphanumericCode(o){return o<vn.ALPHANUMERIC_TABLE.length?vn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(j.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return ot.KANJI;let f=!1,p=!1;for(let y=0,b=o.length;y<b;++y){const E=o.charAt(y);if(vn.isDigit(E))f=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)p=!0;else return ot.BYTE}return p?ot.ALPHANUMERIC:f?ot.NUMERIC:ot.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=Z.encode(o,j.SJIS)}catch{return!1}const f=u.length;if(f%2!==0)return!1;for(let p=0;p<f;p+=2){const y=u[p]&255;if((y<129||y>159)&&(y<224||y>235))return!1}return!0}static chooseMaskPattern(o,u,f,p){let y=Number.MAX_SAFE_INTEGER,b=-1;for(let E=0;E<xi.NUM_MASK_PATTERNS;E++){ft.buildMatrix(o,u,f,E,p);let C=this.calculateMaskPenalty(p);C<y&&(y=C,b=E)}return b}static chooseVersion(o,u){for(let f=1;f<=40;f++){const p=Ge.getVersionForNumber(f);if(vn.willFit(o,p,u))return p}throw new un("Data too big")}static willFit(o,u,f){const p=u.getTotalCodewords(),b=u.getECBlocksForLevel(f).getTotalECCodewords(),E=p-b,C=(o+7)/8;return E>=C}static terminateBits(o,u){const f=o*8;if(u.getSize()>f)throw new un("data bits cannot fit in the QR Code"+u.getSize()+" > "+f);for(let b=0;b<4&&u.getSize()<f;++b)u.appendBit(!1);const p=u.getSize()&7;if(p>0)for(let b=p;b<8;b++)u.appendBit(!1);const y=o-u.getSizeInBytes();for(let b=0;b<y;++b)u.appendBits((b&1)===0?236:17,8);if(u.getSize()!==f)throw new un("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,f,p,y,b){if(p>=f)throw new un("Block ID too large");const E=o%f,C=f-E,D=Math.floor(o/f),B=D+1,Y=Math.floor(u/f),K=Y+1,ie=D-Y,ce=B-K;if(ie!==ce)throw new un("EC bytes mismatch");if(f!==C+E)throw new un("RS blocks mismatch");if(o!==(Y+ie)*C+(K+ce)*E)throw new un("Total bytes mismatch");p<C?(y[0]=Y,b[0]=ie):(y[0]=K,b[0]=ce)}static interleaveWithECBytes(o,u,f,p){if(o.getSizeInBytes()!==f)throw new un("Number of bits and data bytes does not match");let y=0,b=0,E=0;const C=new Array;for(let B=0;B<p;++B){const Y=new Int32Array(1),K=new Int32Array(1);vn.getNumDataBytesAndNumECBytesForBlockID(u,f,p,B,Y,K);const ie=Y[0],ce=new Uint8Array(ie);o.toBytes(8*y,ce,0,ie);const fe=vn.generateECBytes(ce,K[0]);C.push(new Oc(ce,fe)),b=Math.max(b,ie),E=Math.max(E,fe.length),y+=Y[0]}if(f!==y)throw new un("Data bytes does not match offset");const D=new ee;for(let B=0;B<b;++B)for(const Y of C){const K=Y.getDataBytes();B<K.length&&D.appendBits(K[B],8)}for(let B=0;B<E;++B)for(const Y of C){const K=Y.getErrorCorrectionBytes();B<K.length&&D.appendBits(K[B],8)}if(u!==D.getSizeInBytes())throw new un("Interleaving error: "+u+" and "+D.getSizeInBytes()+" differ.");return D}static generateECBytes(o,u){const f=o.length,p=new Int32Array(f+u);for(let b=0;b<f;b++)p[b]=o[b]&255;new Js(ht.QR_CODE_FIELD_256).encode(p,u);const y=new Uint8Array(u);for(let b=0;b<u;b++)y[b]=p[f+b];return y}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,f,p){const y=f.getCharacterCountBits(u);if(o>=1<<y)throw new un(o+" is bigger than "+((1<<y)-1));p.appendBits(o,y)}static appendBytes(o,u,f,p){switch(u){case ot.NUMERIC:vn.appendNumericBytes(o,f);break;case ot.ALPHANUMERIC:vn.appendAlphanumericBytes(o,f);break;case ot.BYTE:vn.append8BitBytes(o,f,p);break;case ot.KANJI:vn.appendKanjiBytes(o,f);break;default:throw new un("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=vn.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const f=o.length;let p=0;for(;p<f;){const y=vn.getDigit(o.charAt(p));if(p+2<f){const b=vn.getDigit(o.charAt(p+1)),E=vn.getDigit(o.charAt(p+2));u.appendBits(y*100+b*10+E,10),p+=3}else if(p+1<f){const b=vn.getDigit(o.charAt(p+1));u.appendBits(y*10+b,7),p+=2}else u.appendBits(y,4),p++}}static appendAlphanumericBytes(o,u){const f=o.length;let p=0;for(;p<f;){const y=vn.getAlphanumericCode(o.charCodeAt(p));if(y===-1)throw new un;if(p+1<f){const b=vn.getAlphanumericCode(o.charCodeAt(p+1));if(b===-1)throw new un;u.appendBits(y*45+b,11),p+=2}else u.appendBits(y,6),p++}}static append8BitBytes(o,u,f){let p;try{p=Z.encode(o,f)}catch(y){throw new un(y)}for(let y=0,b=p.length;y!==b;y++){const E=p[y];u.appendBits(E,8)}}static appendKanjiBytes(o,u){let f;try{f=Z.encode(o,j.SJIS)}catch(y){throw new un(y)}const p=f.length;for(let y=0;y<p;y+=2){const b=f[y]&255,E=f[y+1]&255,C=b<<8&4294967295|E;let D=-1;if(C>=33088&&C<=40956?D=C-33088:C>=57408&&C<=60351&&(D=C-49472),D===-1)throw new un("Invalid byte sequence");const B=(D>>8)*192+(D&255);u.appendBits(B,13)}}static appendECI(o,u){u.appendBits(ot.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}vn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),vn.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class la{write(o,u,f,p=null){if(o.length===0)throw new w("Found empty contents");if(u<0||f<0)throw new w("Requested dimensions are too small: "+u+"x"+f);let y=Bt.L,b=la.QUIET_ZONE_SIZE;p!==null&&(p.get(sr.ERROR_CORRECTION)!==void 0&&(y=Bt.fromString(p.get(sr.ERROR_CORRECTION).toString())),p.get(sr.MARGIN)!==void 0&&(b=Number.parseInt(p.get(sr.MARGIN).toString(),10)));const E=vn.encode(o,y,p);return this.renderResult(E,u,f,b)}writeToDom(o,u,f,p,y=null){typeof o=="string"&&(o=document.querySelector(o));const b=this.write(u,f,p,y);o&&o.appendChild(b)}renderResult(o,u,f,p){const y=o.getMatrix();if(y===null)throw new Qt;const b=y.getWidth(),E=y.getHeight(),C=b+p*2,D=E+p*2,B=Math.max(u,C),Y=Math.max(f,D),K=Math.min(Math.floor(B/C),Math.floor(Y/D)),ie=Math.floor((B-b*K)/2),ce=Math.floor((Y-E*K)/2),fe=this.createSVGElement(B,Y);for(let ye=0,Ae=ce;ye<E;ye++,Ae+=K)for(let Ve=0,ze=ie;Ve<b;Ve++,ze+=K)if(y.get(Ve,ye)===1){const Ue=this.createSvgRectElement(ze,Ae,K,K);fe.appendChild(Ue)}return fe}createSVGElement(o,u){const f=document.createElementNS(la.SVG_NS,"svg");return f.setAttributeNS(null,"height",o.toString()),f.setAttributeNS(null,"width",u.toString()),f}createSvgRectElement(o,u,f,p){const y=document.createElementNS(la.SVG_NS,"rect");return y.setAttributeNS(null,"x",o.toString()),y.setAttributeNS(null,"y",u.toString()),y.setAttributeNS(null,"height",f.toString()),y.setAttributeNS(null,"width",p.toString()),y.setAttributeNS(null,"fill","#000000"),y}}la.QUIET_ZONE_SIZE=4,la.SVG_NS="http://www.w3.org/2000/svg";class br{encode(o,u,f,p,y){if(o.length===0)throw new w("Found empty contents");if(u!==je.QR_CODE)throw new w("Can only encode QR_CODE, but got "+u);if(f<0||p<0)throw new w(`Requested dimensions are too small: ${f}x${p}`);let b=Bt.L,E=br.QUIET_ZONE_SIZE;y!==null&&(y.get(sr.ERROR_CORRECTION)!==void 0&&(b=Bt.fromString(y.get(sr.ERROR_CORRECTION).toString())),y.get(sr.MARGIN)!==void 0&&(E=Number.parseInt(y.get(sr.MARGIN).toString(),10)));const C=vn.encode(o,b,y);return br.renderResult(C,f,p,E)}static renderResult(o,u,f,p){const y=o.getMatrix();if(y===null)throw new Qt;const b=y.getWidth(),E=y.getHeight(),C=b+p*2,D=E+p*2,B=Math.max(u,C),Y=Math.max(f,D),K=Math.min(Math.floor(B/C),Math.floor(Y/D)),ie=Math.floor((B-b*K)/2),ce=Math.floor((Y-E*K)/2),fe=new ge(B,Y);for(let ye=0,Ae=ce;ye<E;ye++,Ae+=K)for(let Ve=0,ze=ie;Ve<b;Ve++,ze+=K)y.get(Ve,ye)===1&&fe.setRegion(ze,Ae,K,K);return fe}}br.QUIET_ZONE_SIZE=4;class Rc{encode(o,u,f,p,y){let b;switch(u){case je.QR_CODE:b=new br;break;default:throw new w("No encoder available for format "+u)}return b.encode(o,u,f,p,y)}}class Ki extends Ie{constructor(o,u,f,p,y,b,E,C){if(super(b,E),this.yuvData=o,this.dataWidth=u,this.dataHeight=f,this.left=p,this.top=y,p+b>u||y+E>f)throw new w("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(b,E)}getRow(o,u){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth();(u==null||u.length<f)&&(u=new Uint8ClampedArray(f));const p=(o+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,p,u,0,f),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const f=o*u,p=new Uint8ClampedArray(f);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return M.arraycopy(this.yuvData,y,p,0,f),p;for(let b=0;b<u;b++){const E=b*o;M.arraycopy(this.yuvData,y,p,E,o),y+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,u,f,p){return new Ki(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,f,p,!1)}renderThumbnail(){const o=this.getWidth()/Ki.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/Ki.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(o*u),p=this.yuvData;let y=this.top*this.dataWidth+this.left;for(let b=0;b<u;b++){const E=b*o;for(let C=0;C<o;C++){const D=p[y+C*Ki.THUMBNAIL_SCALE_FACTOR]&255;f[E+C]=4278190080|D*65793}y+=this.dataWidth*Ki.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Ki.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ki.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const f=this.yuvData;for(let p=0,y=this.top*this.dataWidth+this.left;p<u;p++,y+=this.dataWidth){const b=y+o/2;for(let E=y,C=y+o-1;E<b;E++,C--){const D=f[E];f[E]=f[C],f[C]=D}}}invert(){return new Fe(this)}}Ki.THUMBNAIL_SCALE_FACTOR=2;class ua extends Ie{constructor(o,u,f,p,y,b,E){if(super(u,f),this.dataWidth=p,this.dataHeight=y,this.left=b,this.top=E,o.BYTES_PER_ELEMENT===4){const C=u*f,D=new Uint8ClampedArray(C);for(let B=0;B<C;B++){const Y=o[B],K=Y>>16&255,ie=Y>>7&510,ce=Y&255;D[B]=(K+ie+ce)/4&255}this.luminances=D}else this.luminances=o;if(p===void 0&&(this.dataWidth=u),y===void 0&&(this.dataHeight=f),b===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+f>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth();(u==null||u.length<f)&&(u=new Uint8ClampedArray(f));const p=(o+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,p,u,0,f),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const f=o*u,p=new Uint8ClampedArray(f);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return M.arraycopy(this.luminances,y,p,0,f),p;for(let b=0;b<u;b++){const E=b*o;M.arraycopy(this.luminances,y,p,E,o),y+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,u,f,p){return new ua(this.luminances,f,p,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Fe(this)}}class A extends j{static forName(o){return this.getCharacterSetECIByName(o)}}class L{}L.ISO_8859_1=j.ISO8859_1;class F{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class te{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class pe{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Ce extends pe{constructor(o,u,f){super(o),this.value=u,this.bitCount=f}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new Ce(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ce(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+q.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class qe extends Ce{constructor(o,u,f){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=f}appendTo(o,u){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):f===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+f],8)}addBinaryShift(o,u){return new qe(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Gt(G,o,u){return new qe(G,o,u)}function Jn(G,o,u){return new Ce(G,o,u)}const Yt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Bn=0,or=1,wr=2,Ur=3,Nr=4,Ru=new Ce(null,0,0),Sl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function y0(G){for(let o of G)W.fill(o,-1);return G[Bn][Nr]=0,G[or][Nr]=0,G[or][Bn]=28,G[Ur][Nr]=0,G[wr][Nr]=0,G[wr][Bn]=15,G}const lh=y0(W.createInt32Array(6,6));class ca{constructor(o,u,f,p){this.token=o,this.mode=u,this.binaryShiftByteCount=f,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let f=this.bitCount,p=this.token;if(o!==this.mode){let b=Sl[this.mode][o];p=Jn(p,b&65535,b>>16),f+=b>>16}let y=o===wr?4:5;return p=Jn(p,u,y),new ca(p,o,0,f+y)}shiftAndAppend(o,u){let f=this.token,p=this.mode===wr?4:5;return f=Jn(f,lh[this.mode][o],p),f=Jn(f,u,5),new ca(f,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(o){let u=this.token,f=this.mode,p=this.bitCount;if(this.mode===Nr||this.mode===wr){let E=Sl[f][Bn];u=Jn(u,E&65535,E>>16),p+=E>>16,f=Bn}let y=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new ca(u,f,this.binaryShiftByteCount+1,p+y);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(o+1)),b}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Gt(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new ca(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(Sl[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=ca.calculateBinaryShiftCost(o)-ca.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let p=this.endBinaryShift(o.length).token;p!==null;p=p.getPrevious())u.unshift(p);let f=new ee;for(const p of u)p.appendTo(f,o);return f}toString(){return X.format("%s bits=%d bytes=%d",Yt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}ca.INITIAL_STATE=new ca(Ru,Bn,0,0);function uh(G){const o=X.getCharCode(" "),u=X.getCharCode("."),f=X.getCharCode(",");G[Bn][o]=1;const p=X.getCharCode("Z"),y=X.getCharCode("A");for(let K=y;K<=p;K++)G[Bn][K]=K-y+2;G[or][o]=1;const b=X.getCharCode("z"),E=X.getCharCode("a");for(let K=E;K<=b;K++)G[or][K]=K-E+2;G[wr][o]=1;const C=X.getCharCode("9"),D=X.getCharCode("0");for(let K=D;K<=C;K++)G[wr][K]=K-D+2;G[wr][f]=12,G[wr][u]=13;const B=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let K=0;K<B.length;K++)G[Ur][X.getCharCode(B[K])]=K;const Y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let K=0;K<Y.length;K++)X.getCharCode(Y[K])>0&&(G[Nr][X.getCharCode(Y[K])]=K);return G}const Nc=uh(W.createInt32Array(5,256));class _l{constructor(o){this.text=o}encode(){const o=X.getCharCode(" "),u=X.getCharCode(`
`);let f=te.singletonList(ca.INITIAL_STATE);for(let y=0;y<this.text.length;y++){let b,E=y+1<this.text.length?this.text[y+1]:0;switch(this.text[y]){case X.getCharCode("\r"):b=E===u?2:0;break;case X.getCharCode("."):b=E===o?3:0;break;case X.getCharCode(","):b=E===o?4:0;break;case X.getCharCode(":"):b=E===o?5:0;break;default:b=0}b>0?(f=_l.updateStateListForPair(f,y,b),y++):f=this.updateStateListForChar(f,y)}return te.min(f,(y,b)=>y.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const f=[];for(let p of o)this.updateStateForChar(p,u,f);return _l.simplifyStates(f)}updateStateForChar(o,u,f){let p=this.text[u]&255,y=Nc[o.getMode()][p]>0,b=null;for(let E=0;E<=Nr;E++){let C=Nc[E][p];if(C>0){if(b==null&&(b=o.endBinaryShift(u)),!y||E===o.getMode()||E===wr){const D=b.latchAndAppend(E,C);f.push(D)}if(!y&&lh[o.getMode()][E]>=0){const D=b.shiftAndAppend(E,C);f.push(D)}}}if(o.getBinaryShiftByteCount()>0||Nc[o.getMode()][p]===0){let E=o.addBinaryShiftChar(u);f.push(E)}}static updateStateListForPair(o,u,f){const p=[];for(let y of o)this.updateStateForPair(y,u,f,p);return this.simplifyStates(p)}static updateStateForPair(o,u,f,p){let y=o.endBinaryShift(u);if(p.push(y.latchAndAppend(Nr,f)),o.getMode()!==Nr&&p.push(y.shiftAndAppend(Nr,f)),f===3||f===4){let b=y.latchAndAppend(wr,16-f).latchAndAppend(wr,1);p.push(b)}if(o.getBinaryShiftByteCount()>0){let b=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);p.push(b)}}static simplifyStates(o){let u=[];for(const f of o){let p=!0;for(const y of u){if(y.isBetterThanOrEqualTo(f)){p=!1;break}f.isBetterThanOrEqualTo(y)&&(u=u.filter(b=>b!==y))}p&&u.push(f)}return u}}class Wt{constructor(){}static encodeBytes(o){return Wt.encode(o,Wt.DEFAULT_EC_PERCENT,Wt.DEFAULT_AZTEC_LAYERS)}static encode(o,u,f){let p=new _l(o).encode(),y=q.truncDivision(p.getSize()*u,100)+11,b=p.getSize()+y,E,C,D,B,Y;if(f!==Wt.DEFAULT_AZTEC_LAYERS){if(E=f<0,C=Math.abs(f),C>(E?Wt.MAX_NB_BITS_COMPACT:Wt.MAX_NB_BITS))throw new w(X.format("Illegal value %s for layers",f));D=Wt.totalBitsInLayer(C,E),B=Wt.WORD_SIZE[C];let Ue=D-D%B;if(Y=Wt.stuffBits(p,B),Y.getSize()+y>Ue)throw new w("Data to large for user specified layer");if(E&&Y.getSize()>B*64)throw new w("Data to large for user specified layer")}else{B=0,Y=null;for(let Ue=0;;Ue++){if(Ue>Wt.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(E=Ue<=3,C=E?Ue+1:Ue,D=Wt.totalBitsInLayer(C,E),b>D)continue;(Y==null||B!==Wt.WORD_SIZE[C])&&(B=Wt.WORD_SIZE[C],Y=Wt.stuffBits(p,B));let Ot=D-D%B;if(!(E&&Y.getSize()>B*64)&&Y.getSize()+y<=Ot)break}}let K=Wt.generateCheckWords(Y,D,B),ie=Y.getSize()/B,ce=Wt.generateModeMessage(E,C,ie),fe=(E?11:14)+C*4,ye=new Int32Array(fe),Ae;if(E){Ae=fe;for(let Ue=0;Ue<ye.length;Ue++)ye[Ue]=Ue}else{Ae=fe+1+2*q.truncDivision(q.truncDivision(fe,2)-1,15);let Ue=q.truncDivision(fe,2),Ot=q.truncDivision(Ae,2);for(let Tt=0;Tt<Ue;Tt++){let bi=Tt+q.truncDivision(Tt,15);ye[Ue-Tt-1]=Ot-bi-1,ye[Ue+Tt]=Ot+bi+1}}let Ve=new ge(Ae);for(let Ue=0,Ot=0;Ue<C;Ue++){let Tt=(C-Ue)*4+(E?9:12);for(let bi=0;bi<Tt;bi++){let fa=bi*2;for(let ji=0;ji<2;ji++)K.get(Ot+fa+ji)&&Ve.set(ye[Ue*2+ji],ye[Ue*2+bi]),K.get(Ot+Tt*2+fa+ji)&&Ve.set(ye[Ue*2+bi],ye[fe-1-Ue*2-ji]),K.get(Ot+Tt*4+fa+ji)&&Ve.set(ye[fe-1-Ue*2-ji],ye[fe-1-Ue*2-bi]),K.get(Ot+Tt*6+fa+ji)&&Ve.set(ye[fe-1-Ue*2-bi],ye[Ue*2+ji])}Ot+=Tt*8}if(Wt.drawModeMessage(Ve,E,Ae,ce),E)Wt.drawBullsEye(Ve,q.truncDivision(Ae,2),5);else{Wt.drawBullsEye(Ve,q.truncDivision(Ae,2),7);for(let Ue=0,Ot=0;Ue<q.truncDivision(fe,2)-1;Ue+=15,Ot+=16)for(let Tt=q.truncDivision(Ae,2)&1;Tt<Ae;Tt+=2)Ve.set(q.truncDivision(Ae,2)-Ot,Tt),Ve.set(q.truncDivision(Ae,2)+Ot,Tt),Ve.set(Tt,q.truncDivision(Ae,2)-Ot),Ve.set(Tt,q.truncDivision(Ae,2)+Ot)}let ze=new F;return ze.setCompact(E),ze.setSize(Ae),ze.setLayers(C),ze.setCodeWords(ie),ze.setMatrix(Ve),ze}static drawBullsEye(o,u,f){for(let p=0;p<f;p+=2)for(let y=u-p;y<=u+p;y++)o.set(y,u-p),o.set(y,u+p),o.set(u-p,y),o.set(u+p,y);o.set(u-f,u-f),o.set(u-f+1,u-f),o.set(u-f,u-f+1),o.set(u+f,u-f),o.set(u+f,u-f+1),o.set(u+f,u+f-1)}static generateModeMessage(o,u,f){let p=new ee;return o?(p.appendBits(u-1,2),p.appendBits(f-1,6),p=Wt.generateCheckWords(p,28,4)):(p.appendBits(u-1,5),p.appendBits(f-1,11),p=Wt.generateCheckWords(p,40,4)),p}static drawModeMessage(o,u,f,p){let y=q.truncDivision(f,2);if(u)for(let b=0;b<7;b++){let E=y-3+b;p.get(b)&&o.set(E,y-5),p.get(b+7)&&o.set(y+5,E),p.get(20-b)&&o.set(E,y+5),p.get(27-b)&&o.set(y-5,E)}else for(let b=0;b<10;b++){let E=y-5+b+q.truncDivision(b,5);p.get(b)&&o.set(E,y-7),p.get(b+10)&&o.set(y+7,E),p.get(29-b)&&o.set(E,y+7),p.get(39-b)&&o.set(y-7,E)}}static generateCheckWords(o,u,f){let p=o.getSize()/f,y=new Js(Wt.getGF(f)),b=q.truncDivision(u,f),E=Wt.bitsToWords(o,f,b);y.encode(E,b-p);let C=u%f,D=new ee;D.appendBits(0,C);for(const B of Array.from(E))D.appendBits(B,f);return D}static bitsToWords(o,u,f){let p=new Int32Array(f),y,b;for(y=0,b=o.getSize()/u;y<b;y++){let E=0;for(let C=0;C<u;C++)E|=o.get(y*u+C)?1<<u-C-1:0;p[y]=E}return p}static getGF(o){switch(o){case 4:return ht.AZTEC_PARAM;case 6:return ht.AZTEC_DATA_6;case 8:return ht.AZTEC_DATA_8;case 10:return ht.AZTEC_DATA_10;case 12:return ht.AZTEC_DATA_12;default:throw new w("Unsupported word size "+o)}}static stuffBits(o,u){let f=new ee,p=o.getSize(),y=(1<<u)-2;for(let b=0;b<p;b+=u){let E=0;for(let C=0;C<u;C++)(b+C>=p||o.get(b+C))&&(E|=1<<u-1-C);(E&y)===y?(f.appendBits(E&y,u),b--):(E&y)===0?(f.appendBits(E|1,u),b--):f.appendBits(E,u)}return f}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Wt.DEFAULT_EC_PERCENT=33,Wt.DEFAULT_AZTEC_LAYERS=0,Wt.MAX_NB_BITS=32,Wt.MAX_NB_BITS_COMPACT=4,Wt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Dc{encode(o,u,f,p){return this.encodeWithHints(o,u,f,p,null)}encodeWithHints(o,u,f,p,y){let b=L.ISO_8859_1,E=Wt.DEFAULT_EC_PERCENT,C=Wt.DEFAULT_AZTEC_LAYERS;return y!=null&&(y.has(sr.CHARACTER_SET)&&(b=A.forName(y.get(sr.CHARACTER_SET).toString())),y.has(sr.ERROR_CORRECTION)&&(E=q.parseInt(y.get(sr.ERROR_CORRECTION).toString())),y.has(sr.AZTEC_LAYERS)&&(C=q.parseInt(y.get(sr.AZTEC_LAYERS).toString()))),Dc.encodeLayers(o,u,f,p,b,E,C)}static encodeLayers(o,u,f,p,y,b,E){if(u!==je.AZTEC)throw new w("Can only encode AZTEC, but got "+u);let C=Wt.encode(X.getBytes(o,y),b,E);return Dc.renderResult(C,f,p)}static renderResult(o,u,f){let p=o.getMatrix();if(p==null)throw new Qt;let y=p.getWidth(),b=p.getHeight(),E=Math.max(u,y),C=Math.max(f,b),D=Math.min(E/y,C/b),B=(E-y*D)/2,Y=(C-b*D)/2,K=new ge(E,C);for(let ie=0,ce=Y;ie<b;ie++,ce+=D)for(let fe=0,ye=B;fe<y;fe++,ye+=D)p.get(fe,ie)&&K.setRegion(ye,ce,D,D);return K}}n.AbstractExpandedDecoder=ns,n.ArgumentException=v,n.ArithmeticException=Be,n.AztecCode=F,n.AztecCodeReader=$n,n.AztecCodeWriter=Dc,n.AztecDecoder=Zt,n.AztecDetector=wn,n.AztecDetectorResult=Rs,n.AztecEncoder=Wt,n.AztecHighLevelEncoder=_l,n.AztecPoint=st,n.BarcodeFormat=je,n.Binarizer=R,n.BinaryBitmap=S,n.BitArray=ee,n.BitMatrix=ge,n.BitSource=Wr,n.BrowserAztecCodeReader=Aa,n.BrowserBarcodeReader=Sc,n.BrowserCodeReader=ke,n.BrowserDatamatrixCodeReader=oh,n.BrowserMultiFormatReader=Tc,n.BrowserPDF417Reader=Ic,n.BrowserQRCodeReader=Ou,n.BrowserQRCodeSvgWriter=la,n.CharacterSetECI=j,n.ChecksumException=T,n.Code128Reader=He,n.Code39Reader=dn,n.DataMatrixDecodedBitStreamParser=is,n.DataMatrixReader=Pi,n.DecodeHintType=ne,n.DecoderResult=Re,n.DefaultGridSampler=Xe,n.DetectorResult=Ws,n.EAN13Reader=mi,n.EncodeHintType=sr,n.Exception=d,n.FormatException=k,n.GenericGF=ht,n.GenericGFPoly=it,n.GlobalHistogramBinarizer=le,n.GridSampler=$s,n.GridSamplerInstance=pt,n.HTMLCanvasElementLuminanceSource=ae,n.HybridBinarizer=ue,n.ITFReader=en,n.IllegalArgumentException=w,n.IllegalStateException=Qt,n.InvertedLuminanceSource=Fe,n.LuminanceSource=Ie,n.MathUtils=St,n.MultiFormatOneDReader=aa,n.MultiFormatReader=Zs,n.MultiFormatWriter=Rc,n.NotFoundException=se,n.OneDReader=pn,n.PDF417DecodedBitStreamParser=Se,n.PDF417DecoderErrorCorrection=os,n.PDF417Reader=Rr,n.PDF417ResultMetadata=To,n.PerspectiveTransform=Ye,n.PlanarYUVLuminanceSource=Ki,n.QRCodeByteMatrix=eo,n.QRCodeDataMask=Qn,n.QRCodeDecodedBitStreamParser=kn,n.QRCodeDecoderErrorCorrectionLevel=Bt,n.QRCodeDecoderFormatInformation=rr,n.QRCodeEncoder=vn,n.QRCodeEncoderQRCode=xi,n.QRCodeMaskUtil=jn,n.QRCodeMatrixUtil=ft,n.QRCodeMode=ot,n.QRCodeReader=Ta,n.QRCodeVersion=Ge,n.QRCodeWriter=br,n.RGBLuminanceSource=ua,n.RSS14Reader=kt,n.RSSExpandedReader=Me,n.ReaderException=Qs,n.ReedSolomonDecoder=Dt,n.ReedSolomonEncoder=Js,n.ReedSolomonException=Nt,n.Result=$e,n.ResultMetadataType=vt,n.ResultPoint=Ze,n.StringUtils=X,n.UnsupportedOperationException=Q,n.VideoInputDevice=be,n.WhiteRectangleDetector=gi,n.WriterException=un,n.ZXingArrays=W,n.ZXingCharset=A,n.ZXingInteger=q,n.ZXingStandardCharsets=L,n.ZXingStringBuilder=z,n.ZXingStringEncoding=Z,n.ZXingSystem=M,n.createAbstractExpandedDecoder=Iu,Object.defineProperty(n,"__esModule",{value:!0})})}(ld,ld.exports)),ld.exports}var er=LV();const kV=bo(er),jV=CR({__proto__:null,default:kV},[er]);var rI=function(){function t(e,n,r){if(this.formatMap=new Map([[et.QR_CODE,er.BarcodeFormat.QR_CODE],[et.AZTEC,er.BarcodeFormat.AZTEC],[et.CODABAR,er.BarcodeFormat.CODABAR],[et.CODE_39,er.BarcodeFormat.CODE_39],[et.CODE_93,er.BarcodeFormat.CODE_93],[et.CODE_128,er.BarcodeFormat.CODE_128],[et.DATA_MATRIX,er.BarcodeFormat.DATA_MATRIX],[et.MAXICODE,er.BarcodeFormat.MAXICODE],[et.ITF,er.BarcodeFormat.ITF],[et.EAN_13,er.BarcodeFormat.EAN_13],[et.EAN_8,er.BarcodeFormat.EAN_8],[et.PDF_417,er.BarcodeFormat.PDF_417],[et.RSS_14,er.BarcodeFormat.RSS_14],[et.RSS_EXPANDED,er.BarcodeFormat.RSS_EXPANDED],[et.UPC_A,er.BarcodeFormat.UPC_A],[et.UPC_E,er.BarcodeFormat.UPC_E],[et.UPC_EAN_EXTENSION,er.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!jV)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),a=new Map;a.set(er.DecodeHintType.POSSIBLE_FORMATS,i),a.set(er.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var n=new er.MultiFormatReader(this.verbose,this.hints),r=new er.HTMLCanvasElementLuminanceSource(e),i=new er.BinaryBitmap(new er.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:YD.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),BV=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function g(v){try{d(r.next(v))}catch(w){c(w)}}function m(v){try{d(r.throw(v))}catch(w){c(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},UV=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},iI=function(){function t(e,n,r){if(this.formatMap=new Map([[et.QR_CODE,"qr_code"],[et.AZTEC,"aztec"],[et.CODABAR,"codabar"],[et.CODE_39,"code_39"],[et.CODE_93,"code_93"],[et.CODE_128,"code_128"],[et.DATA_MATRIX,"data_matrix"],[et.ITF,"itf"],[et.EAN_13,"ean_13"],[et.EAN_8,"ean_8"],[et.PDF_417,"pdf417"],[et.UPC_A,"upc_a"],[et.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return BV(this,void 0,void 0,function(){var n,r;return UV(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:YD.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,a=e;i<a.length;i++){var c=a[i],g=c.boundingBox.width*c.boundingBox.height;g>r&&(r=g,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),aI=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function g(v){try{d(r.next(v))}catch(w){c(w)}}function m(v){try{d(r.throw(v))}catch(w){c(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},sI=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},FV=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&iI.isSupported()?(this.primaryDecoder=new iI(e,r,i),this.secondaryDecoder=new rI(e,r,i)):this.primaryDecoder=new rI(e,r,i)}return t.prototype.decodeAsync=function(e){return aI(this,void 0,void 0,function(){var n;return sI(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return aI(this,void 0,void 0,function(){var n,r;return sI(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),vw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xg=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function g(v){try{d(r.next(v))}catch(w){c(w)}}function m(v){try{d(r.throw(v))}catch(w){c(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},bg=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},KD=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),VV=function(t){vw(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(KD),zV=function(t){vw(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(VV),HV=function(t){vw(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(KD),qV=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new zV(this.track)},t.prototype.torchFeature=function(){return new HV(this.track)},t}(),GV=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return xg(this,void 0,void 0,function(){var a,c;return bg(this,function(g){switch(g.label){case 0:return a=new t(e,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return xg(this,void 0,void 0,function(){return bg(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),a=i.length,c=0;e.mediaStream.getVideoTracks().forEach(function(g){e.mediaStream.removeTrack(g),g.stop(),++c,c>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new qV(this.getFirstTrackOrFail())},t}(),YV=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return xg(this,void 0,void 0,function(){return bg(this,function(i){return[2,GV.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return xg(this,void 0,void 0,function(){var n,r;return bg(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),oI=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function g(v){try{d(r.next(v))}catch(w){c(w)}}function m(v){try{d(r.throw(v))}catch(w){c(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},lI=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},WV=function(){function t(){}return t.failIfNotSupported=function(){return oI(this,void 0,void 0,function(){return lI(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return oI(this,void 0,void 0,function(){return lI(this,function(n){return[2,YV.create(e)]})})},t}(),$V=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function g(v){try{d(r.next(v))}catch(w){c(w)}}function m(v){try{d(r.throw(v))}catch(w){c(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},XV=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},KV=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=xf.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=xf.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return $V(this,void 0,void 0,function(){var e,n,r,i,a,c,g;return XV(this,function(m){switch(m.label){case 0:return e=function(d){for(var v=d.getVideoTracks(),w=0,S=v;w<S.length;w++){var T=S[w];T.enabled=!1,T.stop(),d.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],a=0,c=r;a<c.length;a++)g=c[a],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(a){for(var c=[],g=0,m=a;g<m.length;g++){var d=m[g];d.kind==="video"&&c.push({id:d.id,label:d.label})}e(c)},i=MediaStreamTrack;i.getSources(r)})},t}(),_r;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(_r||(_r={}));var QV=function(){function t(){this.state=_r.NOT_STARTED,this.onGoingTransactionNewState=_r.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=_r.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=_r.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==_r.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case _r.UNKNOWN:throw"Transition from unknown is not allowed";case _r.NOT_STARTED:this.failIfNewStateIs(e,[_r.PAUSED]);break;case _r.SCANNING:break;case _r.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),ZV=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===_r.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==_r.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===_r.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===_r.PAUSED},t}(),JV=function(){function t(){}return t.create=function(){return new ZV(new QV)},t}(),ez=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Va=function(t){ez(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Us),tz=function(){function t(e,n){this.logger=n,this.fps=Va.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Va.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?XD.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!oo(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),uI=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new $D(this.verbose),this.qrcode=new FV(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=JV.create()}return t.prototype.start=function(e,n,r,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var g=tz.create(n,this.logger);this.clearElement();var m=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=m,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Va.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,S=this.stateManagerProxy.startTransition(_r.SCANNING);return new Promise(function(T,R){var M=d?g.videoConstraints:w.createVideoConstraints(e);if(!M){S.cancel(),R("videoConstraints should be defined");return}var P={};(!d||g.aspectRatio)&&(P.aspectRatio=g.aspectRatio);var U={onRenderSurfaceReady:function(W,q){w.setupUi(W,q,g),w.isScanning=!0,w.foreverScan(g,r,c)}};WV.failIfNotSupported().then(function(W){W.create(M).then(function(q){return q.render(a.element,P,U).then(function(ee){w.renderedCamera=ee,S.execute(),T(null)}).catch(function(ee){S.cancel(),R(ee)})}).catch(function(q){S.cancel(),R(xf.errorGettingUserMedia(q))})}).catch(function(W){S.cancel(),R(xf.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(_r.PAUSED),this.showPausedState(),(oo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(_r.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(_r.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var a=document.getElementById(Va.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(oo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var g=c.width,m=c.height,d=document.getElementById(r.elementId),v=d.clientWidth?d.clientWidth:Va.DEFAULT_WIDTH,w=Math.max(d.clientHeight?d.clientHeight:m,Va.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(g,m,v,w);if(n){var T=r.createCanvasElement(v,w,"qr-canvas-visible");T.style.display="inline-block",d.appendChild(T);var R=T.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=v,R.canvas.height=w,R.drawImage(c,0,0,g,m,S.x,S.y,S.width,S.height)}var M=Va.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(c.width,S.width),U=Math.max(c.height,S.height),W=P+2*M,q=U+2*M,ee=r.createCanvasElement(W,q);d.appendChild(ee);var $=ee.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=W,$.canvas.height=q,$.drawImage(c,0,0,g,m,M,M,P,U);try{r.qrcode.decodeRobustlyAsync(ee).then(function(ne){i(eI.createFromQrcodeResult(ne))}).catch(a)}catch(ne){a("QR code parse error, error = ".concat(ne))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return KV.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!XD.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[et.QR_CODE,et.AZTEC,et.CODABAR,et.CODE_39,et.CODE_93,et.CODE_128,et.DATA_MATRIX,et.MAXICODE,et.ITF,et.EAN_13,et.EAN_8,et.PDF_417,et.RSS_14,et.RSS_EXPANDED,et.UPC_A,et.UPC_E,et.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=e.formatsToSupport;i<a.length;i++){var c=a[i];DV(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(oo(e))return!0;if(!oo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(oo(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return oo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(e,n,a),g=function(d){if(d<Va.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Va.MIN_QR_BOX_SIZE,"px.")},m=function(d){return d>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};g(c.width),g(c.height),c.width=m(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=oo(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,g={x:0,y:0,width:e,height:n},m=c?this.getShadedRegionBounds(e,n,a):g,d=this.createCanvasElement(m.width,m.height),v={willReadFrequently:!0},w=d.getContext("2d",v);w.canvas.width=m.width,w.canvas.height=m.height,this.element.append(d),c&&this.possiblyInsertShadingElement(this.element,e,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=w,this.canvasElement=d},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=xf.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,eI.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=xf.codeParseError(i);return n(a,WD.createFrom(a)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,d=this.qrRegion.height*g,v=this.qrRegion.x*c,w=this.qrRegion.y*g;this.context.drawImage(a,v,w,m,d,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(T){!T&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){S()})):S()}).catch(function(T){i.logger.logError("Error happend while scanning context",T),S()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",c=function(R){if(R in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},g=Object.keys(e);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var m=Object.keys(e)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var d=e.facingMode;if(typeof d=="string"){if(c(d))return{facingMode:d}}else if(typeof d=="object")if(a in d){if(c(d["".concat(a)]))return{facingMode:{exact:d["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var v=typeof d;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var S=typeof w;throw"Invalid type of 'deviceId' = ".concat(S)}}}var T=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var a=(r-e)/2,c=(i-n)/2;return{x:a,y:c,width:e,height:n}}else{var g=e,m=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(m)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Va.BORDER_SHADER_MATCH_COLOR:Va.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,a=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=oo(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-i.width)/2,g=(r-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Va.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,d=40;this.insertShaderBorders(a,d,m,-m,null,0,!0),this.insertShaderBorders(a,d,m,-m,null,0,!1),this.insertShaderBorders(a,d,m,null,-m,0,!0),this.insertShaderBorders(a,d,m,null,-m,0,!1),this.insertShaderBorders(a,m,d+m,-m,null,-m,!0),this.insertShaderBorders(a,m,d+m,null,-m,-m,!0),this.insertShaderBorders(a,m,d+m,-m,null,-m,!1),this.insertShaderBorders(a,m,d+m,null,-m,-m,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,n,r,i,a,c,g){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Va.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),g?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),e.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),xw="data:image/svg+xml;base64,",nz=xw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",rz=xw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",cI=xw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",iz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",fI=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),az=function(){function t(){this.data=fI.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=fI.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),sz=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=tI.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=tI.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),oz=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=cI,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=iz,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=cI,this.infoIcon.style.opacity="0.6")},t}(),lz=function(){function t(){var e=this;this.infoDiv=new sz,this.infoIcon=new oz(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),uz=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function g(v){try{d(r.next(v))}catch(w){c(w)}}function m(v){try{d(r.throw(v))}catch(w){c(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},cz=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},hI=function(){function t(){}return t.hasPermissions=function(){return uz(this,void 0,void 0,function(){var e,n,r,i;return cz(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t}(),Wl=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===hu.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===hu.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Us.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Us.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!Us.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t}(),Wa=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Yo=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(Wa.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),QD=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function g(v){try{d(r.next(v))}catch(w){c(w)}}function m(v){try{d(r.throw(v))}catch(w){c(w)}}function d(v){v.done?a(v.value):i(v.value).then(g,m)}d((r=r.apply(t,e||[])).next())})},ZD=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function g(d){return function(v){return m([d,v])}}function m(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},dI=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return QD(this,void 0,void 0,function(){var e,n;return ZD(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Cn.torchOffButton():Cn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Cn.torchOnFailedMessage():Cn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),fz=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Yo.createElement("button",Wa.TORCH_BUTTON_ID),this.torchController=new dI(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Cn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return QD(r,void 0,void 0,function(){return ZD(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Wa.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Wa.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Wa.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Wa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new dI(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Cn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var a=new t(n,i);return a.render(e,r),a},t}(),hz=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Yo.createElement("button",Wa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Yo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var m=g.target;if(!(m.files&&m.files.length===0)){var d=m.files,v=d[0],w=v.name;a.setImageNameToButton(w),r(v)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var m=g.dataTransfer;if(m){var d=m.files;if(!d||d.length===0)return;for(var v=!1,w=0;w<d.length;++w){var S=d.item(w);if(S){var T=/image.*/;if(S.type.match(T)){v=!0;var R=S.name;a.setImageNameToButton(R),r(S),c.innerText=Cn.dragAndDropMessage();break}}}v||(c.innerText=Cn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Cn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(r,"....").concat(a)}var c=Cn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=c},t.prototype.setInitialValueToButton=function(){var e=Cn.fileSelectionChooseImage()+" - "+Cn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t}(),dz=function(){function t(e){this.selectElement=Yo.createElement("select",Wa.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Cn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,g=this.cameras;c<g.length;c++){var m=g[c],d=m.id,v=m.label==null?d:m.label;(!v||v==="")&&(v=[Cn.anonymousCameraPrefix(),a++].join(" "));var w=document.createElement("option");w.value=d,w.innerText=v,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),gz=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Yo.createElement("input",Wa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Cn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Cn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),za;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(za||(za={}));function mz(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function pz(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var Mf=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Wl(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new $D(this.verbose),this.persistedDataManager=new az,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(e)e(a,c);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(Cn.lastMatch(a),za.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new uI(this.getScanRegionId(),pz(this.config,this.verbose))},t.prototype.pause=function(e){(oo(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Us.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Us.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Us.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Us.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Us.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Us.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Us.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Wl.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new lz;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Cn.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(e,n)};uI.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(e.removeChild(n),i.renderCameraSelection(c)):(i.setHeaderMessage(Cn.noCameraFound(),za.STATUS_WARNING),a())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(c,za.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=Yo.createElement("button",this.getCameraPermissionButtonId());i.innerText=Cn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Wl.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){hI.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Wl.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Wl.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";Wl.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Cn.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,za.STATUS_WARNING),r.qrCodeErrorCallback(c,WD.createFrom(c))}))};this.fileSelectionUi=hz.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=gz.create(i,!1),c=function(M){var P=M.zoomFeature();if(P.isSupported()){a.setOnCameraZoomValueChangeCallback(function(W){P.apply(W)});var U=1;n.config.defaultZoomValueIfSupported&&(U=n.config.defaultZoomValueIfSupported),U=MV(U,P.min(),P.max()),a.setValues(P.min(),P.max(),U,P.step()),a.show()}},g=dz.create(i,e),m=document.createElement("span"),d=Yo.createElement("button",Wa.CAMERA_START_BUTTON_ID);d.innerText=Cn.scanButtonStartScanningText(),m.appendChild(d);var v=Yo.createElement("button",Wa.CAMERA_STOP_BUTTON_ID);v.innerText=Cn.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,m.appendChild(v);var w,S=function(M){if(!M.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(M.torchFeature()):w=fz.create(m,M.torchFeature(),{display:"none",marginLeft:"5px"},function(P){r.setHeaderMessage(P,za.STATUS_WARNING)}),w.show()};i.appendChild(m);var T=function(M){M||(d.style.display="none"),d.innerText=Cn.scanButtonStartScanningText(),d.style.opacity="1",d.disabled=!1,M&&(d.style.display="inline-block")};if(d.addEventListener("click",function(M){d.innerText=Cn.scanButtonScanningStarting(),g.disable(),d.disabled=!0,d.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var P=g.getValue();r.persistedDataManager.setLastUsedCameraId(P),r.html5Qrcode.start(P,mz(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(U){v.disabled=!1,v.style.display="inline-block",T(!1);var W=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&S(W),n.config.showZoomSliderIfSupported===!0&&c(W)}).catch(function(U){r.showHideScanTypeSwapLink(!0),g.enable(),T(!0),r.setHeaderMessage(U,za.STATUS_WARNING)})}),g.hasSingleItem()&&d.click(),v.addEventListener("click",function(M){if(!r.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,r.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),d.disabled=!1,v.style.display="none",d.style.display="inline-block",w&&(w.reset(),w.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(P){v.disabled=!1,r.setHeaderMessage(P,za.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var R=r.persistedDataManager.getLastUsedCameraId();g.hasValue(R)?(g.setValue(R),d.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Cn.textIfCameraScanSelected(),r=Cn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=Yo.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Wl.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Wl.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),c.innerText=r,e.currentScanType=hu.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),c.innerText=n,e.currentScanType=hu.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(c),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){hI.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=za.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case za.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case za.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case za.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=nz,this.cameraScanImage.alt=Cn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=rz,this.fileScanImage.alt=Cn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Wa.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Wa.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const yz=t=>{let e=new Date,n="";if(t)try{e=typeof t?.toDate=="function"?t.toDate():new Date(t),n=e.toLocaleString()}catch{n=String(t)}return{dateStr:n,rawDate:e}},JD=()=>{const t=hm(),[e,n]=N.useState([]),[r,i]=N.useState(!0),[a,c]=N.useState("Newest"),[g,m]=N.useState(""),[d,v]=N.useState("All"),[w,S]=N.useState(""),[T,R]=N.useState(""),[M,P]=N.useState(!1);N.useEffect(()=>{(async()=>{i(!0);try{const ne=kr(bt(We,"transactions"),pw("date",a==="Newest"?"desc":"asc")),V=(await xn(ne)).docs.map(j=>{const Q=j.data(),{dateStr:Z,rawDate:X}=yz(Q.date);return{id:j.id,amount:Q.amount??0,customerId:Q.customerId??"Unknown",date:Z,fullName:Q.fullName??"N/A",items:Array.isArray(Q.items)?Q.items:[],rawDate:X,paymentMethod:Q.paymentMethod??"Cash"}});n(V)}catch(ne){console.error("Error fetching transactions:",ne)}finally{i(!1)}})()},[a]),N.useEffect(()=>{if(M){const $=new Mf("qr-reader",{fps:10,qrbox:250});return $.render(ne=>{m(ne),P(!1),$.clear()},ne=>{console.warn("QR Scan error:",ne)}),()=>{$.clear().catch(()=>{})}}},[M]);const U=N.useMemo(()=>[...e].sort(($,ne)=>{const k=$.rawDate.getTime(),V=ne.rawDate.getTime();return a==="Newest"?V-k:k-V}),[e,a]),W=N.useMemo(()=>U.filter($=>{const ne=$.fullName.toLowerCase().includes(g.toLowerCase())||$.customerId.toLowerCase().includes(g.toLowerCase())||$.id.toLowerCase().includes(g.toLowerCase()),k=d==="All"||$.paymentMethod===d,V=(!w||$.rawDate>=new Date(w))&&(!T||$.rawDate<=new Date(T));return ne&&k&&V}),[U,g,d,w,T]),q=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format($),ee=N.useMemo(()=>W.reduce(($,ne)=>$+ne.amount,0),[W]);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"transactions-container",children:[I.jsx("h2",{className:"transactions-header",children:"Transactions"}),I.jsxs("div",{className:"controls",children:[I.jsx("input",{type:"text",placeholder:"Search by customer, ID, or scan QR...",className:"search-input",value:g,onChange:$=>m($.target.value)}),I.jsx("button",{onClick:()=>P(!M),className:"qr-btn",children:M?"Close Scanner":"Scan QR"}),M&&I.jsx("div",{id:"qr-reader",style:{width:"300px",marginTop:"10px"}}),I.jsxs("select",{className:"filter-select",value:d,onChange:$=>v($.target.value),children:[I.jsx("option",{value:"All",children:"All Payment Methods"}),I.jsx("option",{value:"Wallet",children:"Wallet"}),I.jsx("option",{value:"Points",children:"Points"}),I.jsx("option",{value:"Cash",children:"Over the Counter"})]}),I.jsx("input",{type:"date",value:w,onChange:$=>S($.target.value)}),I.jsx("input",{type:"date",value:T,onChange:$=>R($.target.value)})]}),I.jsxs("div",{className:"total-sales",children:[I.jsx("strong",{children:"Total Sales: "})," ",q(ee)]}),r?I.jsx("p",{className:"loading",children:"Loading transactions..."}):W.length===0?I.jsx("p",{className:"no-data",children:"No transactions found"}):I.jsx("div",{className:"table-wrapper",children:I.jsxs("table",{className:"transactions-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Transaction ID"}),I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Payment Method"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Items"})]})}),I.jsx("tbody",{children:W.map($=>I.jsxs("tr",{onClick:()=>t(`/transaction/${$.id}`),children:[I.jsx("td",{children:$.id}),I.jsx("td",{children:$.fullName}),I.jsx("td",{children:q($.amount)}),I.jsx("td",{className:`payment-method ${$.paymentMethod==="Points"?"Points":$.paymentMethod==="Wallet"?"wallet":"cash"}`,children:$.paymentMethod}),I.jsx("td",{children:$.date}),I.jsx("td",{children:I.jsx("ul",{style:{paddingLeft:"15px",margin:0},children:$.items.map((ne,k)=>I.jsxs("li",{style:{marginBottom:"4px"},children:[I.jsx("strong",{children:ne.name}),ne.category&&I.jsxs("span",{children:[" ","— ",I.jsx("em",{children:ne.category})]}),I.jsxs("span",{children:[" | Qty: ",ne.qty]}),I.jsxs("span",{children:[" | ₱",ne.price]})]},k))})})]},$.id))})]})})]})]})};function eM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eM(t))&&(r&&(r+=" "),r+=e);return r}var vz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bw(t){if(typeof t!="string")return!1;var e=vz;return e.includes(t)}var xz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function tM(t){if(typeof t!="string")return!1;var e=xz;return e.includes(t)}function nM(t){return typeof t=="string"&&t.startsWith("data-")}function Za(t){var e=Object.entries(t).filter(n=>{var[r]=n;return tM(r)||nM(r)});return Object.fromEntries(e)}function oc(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Za(e)}return typeof t=="object"&&!Array.isArray(t)?Za(t):null}function na(t){var e=Object.entries(t).filter(n=>{var[r]=n;return tM(r)||nM(r)||bw(r)});return Object.fromEntries(e)}function bz(t){return t==null?null:N.isValidElement(t)?na(t.props):typeof t=="object"&&!Array.isArray(t)?na(t):null}var wz=["children","width","height","viewBox","className","style","title","desc"];function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T2.apply(null,arguments)}function Ez(t,e){if(t==null)return{};var n,r,i=Az(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Az(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ww=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:c,style:g,title:m,desc:d}=t,v=Ez(t,wz),w=a||{width:r,height:i,x:0,y:0},S=fn("recharts-surface",c);return N.createElement("svg",T2({},na(v),{className:S,width:r,height:i,style:g,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:e}),N.createElement("title",null,m),N.createElement("desc",null,d),n)}),Sz=["children","className"];function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I2.apply(null,arguments)}function _z(t,e){if(t==null)return{};var n,r,i=Cz(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ri=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=_z(t,Sz),a=fn("recharts-layer",r);return N.createElement("g",I2({className:a},na(i),{ref:e}),n)}),rM=N.createContext(null),Tz=()=>N.useContext(rM);function Gn(t){return function(){return t}}const iM=Math.cos,wg=Math.sin,Ys=Math.sqrt,Eg=Math.PI,Bm=2*Eg,O2=Math.PI,R2=2*O2,Gu=1e-6,Iz=R2-Gu;function aM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Oz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Rz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aM:Oz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+c}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let c=this._x1,g=this._y1,m=r-e,d=i-n,v=c-e,w=g-n,S=v*v+w*w;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(S>Gu)if(!(Math.abs(w*m-d*v)>Gu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let T=r-c,R=i-g,M=m*m+d*d,P=T*T+R*R,U=Math.sqrt(M),W=Math.sqrt(S),q=a*Math.tan((O2-Math.acos((M+S-P)/(2*U*W)))/2),ee=q/W,$=q/U;Math.abs(ee-1)>Gu&&this._append`L${e+ee*v},${n+ee*w}`,this._append`A${a},${a},0,0,${+(w*T>v*R)},${this._x1=e+$*m},${this._y1=n+$*d}`}}arc(e,n,r,i,a,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let g=r*Math.cos(i),m=r*Math.sin(i),d=e+g,v=n+m,w=1^c,S=c?i-a:a-i;this._x1===null?this._append`M${d},${v}`:(Math.abs(this._x1-d)>Gu||Math.abs(this._y1-v)>Gu)&&this._append`L${d},${v}`,r&&(S<0&&(S=S%R2+R2),S>Iz?this._append`A${r},${r},0,1,${w},${e-g},${n-m}A${r},${r},0,1,${w},${this._x1=d},${this._y1=v}`:S>Gu&&this._append`A${r},${r},0,${+(S>=O2)},${w},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ew(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Rz(e)}function Aw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sM(t){this._context=t}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Um(t){return new sM(t)}function oM(t){return t[0]}function lM(t){return t[1]}function uM(t,e){var n=Gn(!0),r=null,i=Um,a=null,c=Ew(g);t=typeof t=="function"?t:t===void 0?oM:Gn(t),e=typeof e=="function"?e:e===void 0?lM:Gn(e);function g(m){var d,v=(m=Aw(m)).length,w,S=!1,T;for(r==null&&(a=i(T=c())),d=0;d<=v;++d)!(d<v&&n(w=m[d],d,m))===S&&((S=!S)?a.lineStart():a.lineEnd()),S&&a.point(+t(w,d,m),+e(w,d,m));if(T)return a=null,T+""||null}return g.x=function(m){return arguments.length?(t=typeof m=="function"?m:Gn(+m),g):t},g.y=function(m){return arguments.length?(e=typeof m=="function"?m:Gn(+m),g):e},g.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Gn(!!m),g):n},g.curve=function(m){return arguments.length?(i=m,r!=null&&(a=i(r)),g):i},g.context=function(m){return arguments.length?(m==null?r=a=null:a=i(r=m),g):r},g}function C1(t,e,n){var r=null,i=Gn(!0),a=null,c=Um,g=null,m=Ew(d);t=typeof t=="function"?t:t===void 0?oM:Gn(+t),e=typeof e=="function"?e:Gn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lM:Gn(+n);function d(w){var S,T,R,M=(w=Aw(w)).length,P,U=!1,W,q=new Array(M),ee=new Array(M);for(a==null&&(g=c(W=m())),S=0;S<=M;++S){if(!(S<M&&i(P=w[S],S,w))===U)if(U=!U)T=S,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),R=S-1;R>=T;--R)g.point(q[R],ee[R]);g.lineEnd(),g.areaEnd()}U&&(q[S]=+t(P,S,w),ee[S]=+e(P,S,w),g.point(r?+r(P,S,w):q[S],n?+n(P,S,w):ee[S]))}if(W)return g=null,W+""||null}function v(){return uM().defined(i).curve(c).context(a)}return d.x=function(w){return arguments.length?(t=typeof w=="function"?w:Gn(+w),r=null,d):t},d.x0=function(w){return arguments.length?(t=typeof w=="function"?w:Gn(+w),d):t},d.x1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:Gn(+w),d):r},d.y=function(w){return arguments.length?(e=typeof w=="function"?w:Gn(+w),n=null,d):e},d.y0=function(w){return arguments.length?(e=typeof w=="function"?w:Gn(+w),d):e},d.y1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:Gn(+w),d):n},d.lineX0=d.lineY0=function(){return v().x(t).y(e)},d.lineY1=function(){return v().x(t).y(n)},d.lineX1=function(){return v().x(r).y(e)},d.defined=function(w){return arguments.length?(i=typeof w=="function"?w:Gn(!!w),d):i},d.curve=function(w){return arguments.length?(c=w,a!=null&&(g=c(a)),d):c},d.context=function(w){return arguments.length?(w==null?a=g=null:g=c(a=w),d):a},d}class cM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Nz(t){return new cM(t,!0)}function Dz(t){return new cM(t,!1)}const Sw={draw(t,e){const n=Ys(e/Eg);t.moveTo(n,0),t.arc(0,0,n,0,Bm)}},Mz={draw(t,e){const n=Ys(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fM=Ys(1/3),Pz=fM*2,Lz={draw(t,e){const n=Ys(e/Pz),r=n*fM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},kz={draw(t,e){const n=Ys(e),r=-n/2;t.rect(r,r,n,n)}},jz=.8908130915292852,hM=wg(Eg/10)/wg(7*Eg/10),Bz=wg(Bm/10)*hM,Uz=-iM(Bm/10)*hM,Fz={draw(t,e){const n=Ys(e*jz),r=Bz*n,i=Uz*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const c=Bm*a/5,g=iM(c),m=wg(c);t.lineTo(m*n,-g*n),t.lineTo(g*r-m*i,m*r+g*i)}t.closePath()}},Sv=Ys(3),Vz={draw(t,e){const n=-Ys(e/(Sv*3));t.moveTo(0,n*2),t.lineTo(-Sv*n,-n),t.lineTo(Sv*n,-n),t.closePath()}},ys=-.5,vs=Ys(3)/2,N2=1/Ys(12),zz=(N2/2+1)*3,Hz={draw(t,e){const n=Ys(e/zz),r=n/2,i=n*N2,a=r,c=n*N2+n,g=-a,m=c;t.moveTo(r,i),t.lineTo(a,c),t.lineTo(g,m),t.lineTo(ys*r-vs*i,vs*r+ys*i),t.lineTo(ys*a-vs*c,vs*a+ys*c),t.lineTo(ys*g-vs*m,vs*g+ys*m),t.lineTo(ys*r+vs*i,ys*i-vs*r),t.lineTo(ys*a+vs*c,ys*c-vs*a),t.lineTo(ys*g+vs*m,ys*m-vs*g),t.closePath()}};function qz(t,e){let n=null,r=Ew(i);t=typeof t=="function"?t:Gn(t||Sw),e=typeof e=="function"?e:Gn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Gn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Gn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ag(){}function Sg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dM(t){this._context=t}dM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gz(t){return new dM(t)}function gM(t){this._context=t}gM.prototype={areaStart:Ag,areaEnd:Ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yz(t){return new gM(t)}function mM(t){this._context=t}mM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wz(t){return new mM(t)}function pM(t){this._context=t}pM.prototype={areaStart:Ag,areaEnd:Ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $z(t){return new pM(t)}function gI(t){return t<0?-1:1}function mI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),g=(a*i+c*r)/(r+i);return(gI(a)+gI(c))*Math.min(Math.abs(a),Math.abs(c),.5*Math.abs(g))||0}function pI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function _v(t,e,n){var r=t._x0,i=t._y0,a=t._x1,c=t._y1,g=(a-r)/3;t._context.bezierCurveTo(r+g,i+g*e,a-g,c-g*n,a,c)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_v(this,this._t0,pI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_v(this,pI(this,n=mI(this,t,e)),n);break;default:_v(this,this._t0,n=mI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function yM(t){this._context=new vM(t)}(yM.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function vM(t){this._context=t}vM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Xz(t){return new _g(t)}function Kz(t){return new yM(t)}function xM(t){this._context=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yI(t),i=yI(e),a=0,c=1;c<n;++a,++c)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),c=new Array(n);for(i[0]=0,a[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Qz(t){return new xM(t)}function Fm(t,e){this._context=t,this._t=e}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Zz(t){return new Fm(t,.5)}function Jz(t){return new Fm(t,0)}function eH(t){return new Fm(t,1)}function Pf(t,e){if((c=t.length)>1)for(var n=1,r,i,a=t[e[0]],c,g=a.length;n<c;++n)for(i=a,a=t[e[n]],r=0;r<g;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function D2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tH(t,e){return t[e]}function nH(t){const e=[];return e.key=t,e}function rH(){var t=Gn([]),e=D2,n=Pf,r=tH;function i(a){var c=Array.from(t.apply(this,arguments),nH),g,m=c.length,d=-1,v;for(const w of a)for(g=0,++d;g<m;++g)(c[g][d]=[0,+r(w,c[g].key,d,a)]).data=w;for(g=0,v=Aw(e(c));g<m;++g)c[v[g]].index=g;return n(c,v),c}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Gn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Gn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?D2:typeof a=="function"?a:Gn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Pf,i):n},i}function iH(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,c;i<a;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}Pf(t,e)}}function aH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var c=0,g=0;c<i;++c)g+=t[c][n][1]||0;r[n][1]+=r[n][0]=-g/2}Pf(t,e)}}function sH(t,e){if(!(!((c=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,c;r<a;++r){for(var g=0,m=0,d=0;g<c;++g){for(var v=t[e[g]],w=v[r][1]||0,S=v[r-1][1]||0,T=(w-S)/2,R=0;R<g;++R){var M=t[e[R]],P=M[r][1]||0,U=M[r-1][1]||0;T+=P-U}m+=w,d+=T*w}i[r-1][1]+=i[r-1][0]=n,m&&(n-=d/m)}i[r-1][1]+=i[r-1][0]=n,Pf(t,e)}}var Cv={},Tv={},vI;function oH(){return vI||(vI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(Tv)),Tv}var Iv={},xI;function bM(){return xI||(xI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(Iv)),Iv}var Ov={},bI;function _w(){return bI||(bI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(Ov)),Ov}var Rv={},Nv={},wI;function lH(){return wI||(wI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e}(Nv)),Nv}var EI;function Cw(){return EI||(EI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lH(),n=_w();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],c=i.length;if(c===0)return a;let g=0,m="",d="",v=!1;for(i.charCodeAt(0)===46&&(a.push(""),g++);g<c;){const w=i[g];d?w==="\\"&&g+1<c?(g++,m+=i[g]):w===d?d="":m+=w:v?w==='"'||w==="'"?d=w:w==="]"?(v=!1,a.push(m),m=""):m+=w:w==="["?(v=!0,m&&(a.push(m),m="")):w==="."?m&&(a.push(m),m=""):m+=w,g++}return m&&a.push(m),a}t.toPath=r}(Rv)),Rv}var AI;function Tw(){return AI||(AI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oH(),n=bM(),r=_w(),i=Cw();function a(g,m,d){if(g==null)return d;switch(typeof m){case"string":{if(e.isUnsafeProperty(m))return d;const v=g[m];return v===void 0?n.isDeepKey(m)?a(g,i.toPath(m),d):d:v}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const v=g[m];return v===void 0?d:v}default:{if(Array.isArray(m))return c(g,m,d);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),e.isUnsafeProperty(m))return d;const v=g[m];return v===void 0?d:v}}}function c(g,m,d){if(m.length===0)return d;let v=g;for(let w=0;w<m.length;w++){if(v==null||e.isUnsafeProperty(m[w]))return d;v=v[m[w]]}return v===void 0?d:v}t.get=a}(Cv)),Cv}var Dv,SI;function uH(){return SI||(SI=1,Dv=Tw().get),Dv}var cH=uH();const lc=bo(cH);var fi=t=>t===0?0:t>0?1:-1,Cs=t=>typeof t=="number"&&t!=+t,il=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,lt=t=>(typeof t=="number"||t instanceof Number)&&!Cs(t),vo=t=>lt(t)||typeof t=="string",fH=0,Rd=t=>{var e=++fH;return"".concat(t||"").concat(e)},Yi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!lt(e)&&typeof e!="string")return r;var a;if(il(e)){if(n==null)return r;var c=e.indexOf("%");a=n*parseFloat(e.slice(0,c))/100}else a=+e;return Cs(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},wM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Cr(t,e,n){return lt(t)&&lt(e)?t+n*(e-t):e}function EM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):lc(r,e))===n)}var hr=t=>t===null||typeof t>"u",Qd=t=>hr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),hH=["type","size","sizeType"];function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){dH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dH(t,e,n){return(e=gH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){var e=mH(t,"string");return typeof e=="symbol"?e:e+""}function mH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pH(t,e){if(t==null)return{};var n,r,i=yH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AM={symbolCircle:Sw,symbolCross:Mz,symbolDiamond:Lz,symbolSquare:kz,symbolStar:Fz,symbolTriangle:Vz,symbolWye:Hz},vH=Math.PI/180,xH=t=>{var e="symbol".concat(Qd(t));return AM[e]||Sw},bH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*vH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wH=(t,e)=>{AM["symbol".concat(Qd(t))]=e},Iw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=pH(t,hH),a=CI(CI({},i),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var g=()=>{var S=xH(c),T=qz().type(S).size(bH(n,r,c)),R=T();if(R!==null)return R},{className:m,cx:d,cy:v}=a,w=na(a);return d===+d&&v===+v&&n===+n?N.createElement("path",M2({},w,{className:fn("recharts-symbols",m),transform:"translate(".concat(d,", ").concat(v,")"),d:g()})):null};Iw.registerSymbol=wH;var Ow=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{bw(i)&&(r[i]=a=>n[i](n,a))}),r},EH=(t,e,n)=>r=>(t(e,n,r),null),Zd=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];bw(i)&&typeof a=="function"&&(r||(r={}),r[i]=EH(a,e,n))}),r};function P2(){return P2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P2.apply(null,arguments)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Rw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rw(t,e,n){return(e=SH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SH(t){var e=_H(t,"string");return typeof e=="symbol"?e:e+""}function _H(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xs=32;class Nw extends N.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=xs/2,a=xs/6,c=xs/3,g=e.inactive?r:e.color,m=n??e.type;if(m==="none")return null;if(m==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:g,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:xs,y2:i,className:"recharts-legend-icon"});if(m==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:g,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(xs,"M").concat(2*c,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return N.createElement("path",{stroke:"none",fill:g,d:"M0,".concat(xs/8,"h").concat(xs,"v").concat(xs*3/4,"h").concat(-xs,"z"),className:"recharts-legend-icon"});if(N.isValidElement(e.legendIcon)){var d=AH({},e);return delete d.legendIcon,N.cloneElement(e.legendIcon,d)}return N.createElement(Iw,{fill:g,cx:i,cy:i,size:xs,sizeType:"diameter",type:m})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:c}=this.props,g={x:0,y:0,width:xs,height:xs},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((v,w)=>{var S=v.formatter||i,T=fn({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:v.inactive});if(v.type==="none")return null;var R=v.inactive?a:v.color,M=S?S(v.value,v,w):v.value;return N.createElement("li",P2({className:T,style:m,key:"legend-item-".concat(w)},Zd(this.props,v,w)),N.createElement(ww,{width:n,height:n,viewBox:g,style:d,"aria-label":"".concat(M," legend icon")},this.renderIcon(v,c)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},M))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Rw(Nw,"displayName","Legend");Rw(Nw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Mv={},Pv={},II;function CH(){return II||(II=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const c=n[a],g=r(c);i.has(g)||i.set(g,c)}return Array.from(i.values())}t.uniqBy=e}(Pv)),Pv}var Lv={},OI;function SM(){return OI||(OI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Lv)),Lv}var kv={},jv={},Bv={},RI;function TH(){return RI||(RI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Bv)),Bv}var NI;function Dw(){return NI||(NI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(jv)),jv}var Uv={},DI;function IH(){return DI||(DI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(Uv)),Uv}var MI;function OH(){return MI||(MI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dw(),n=IH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(kv)),kv}var Fv={},Vv={},PI;function RH(){return PI||(PI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tw();function n(r){return function(i){return e.get(i,r)}}t.property=n}(Vv)),Vv}var zv={},Hv={},qv={},Gv={},LI;function _M(){return LI||(LI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Gv)),Gv}var Yv={},kI;function CM(){return kI||(kI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(Yv)),Yv}var Wv={},jI;function TM(){return jI||(jI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Wv)),Wv}var BI;function NH(){return BI||(BI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw(),n=_M(),r=CM(),i=TM();function a(w,S,T){return typeof T!="function"?e.isMatch(w,S):c(w,S,function R(M,P,U,W,q,ee){const $=T(M,P,U,W,q,ee);return $!==void 0?!!$:c(M,P,R,ee)},new Map)}function c(w,S,T,R){if(S===w)return!0;switch(typeof S){case"object":return g(w,S,T,R);case"function":return Object.keys(S).length>0?c(w,{...S},T,R):i.eq(w,S);default:return n.isObject(w)?typeof S=="string"?S==="":!0:i.eq(w,S)}}function g(w,S,T,R){if(S==null)return!0;if(Array.isArray(S))return d(w,S,T,R);if(S instanceof Map)return m(w,S,T,R);if(S instanceof Set)return v(w,S,T,R);const M=Object.keys(S);if(w==null)return M.length===0;if(M.length===0)return!0;if(R&&R.has(S))return R.get(S)===w;R&&R.set(S,w);try{for(let P=0;P<M.length;P++){const U=M[P];if(!r.isPrimitive(w)&&!(U in w)||S[U]===void 0&&w[U]!==void 0||S[U]===null&&w[U]!==null||!T(w[U],S[U],U,w,S,R))return!1}return!0}finally{R&&R.delete(S)}}function m(w,S,T,R){if(S.size===0)return!0;if(!(w instanceof Map))return!1;for(const[M,P]of S.entries()){const U=w.get(M);if(T(U,P,M,w,S,R)===!1)return!1}return!0}function d(w,S,T,R){if(S.length===0)return!0;if(!Array.isArray(w))return!1;const M=new Set;for(let P=0;P<S.length;P++){const U=S[P];let W=!1;for(let q=0;q<w.length;q++){if(M.has(q))continue;const ee=w[q];let $=!1;if(T(ee,U,P,w,S,R)&&($=!0),$){M.add(q),W=!0;break}}if(!W)return!1}return!0}function v(w,S,T,R){return S.size===0?!0:w instanceof Set?d([...w],[...S],T,R):!1}t.isMatchWith=a,t.isSetMatch=v}(qv)),qv}var UI;function Mw(){return UI||(UI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Hv)),Hv}var $v={},Xv={},Kv={},FI;function DH(){return FI||(FI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Kv)),Kv}var Qv={},VI;function IM(){return VI||(VI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(Qv)),Qv}var Zv={},zI;function OM(){return zI||(zI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",c="[object Symbol]",g="[object Date]",m="[object Map]",d="[object Set]",v="[object Array]",w="[object Function]",S="[object ArrayBuffer]",T="[object Object]",R="[object Error]",M="[object DataView]",P="[object Uint8Array]",U="[object Uint8ClampedArray]",W="[object Uint16Array]",q="[object Uint32Array]",ee="[object BigUint64Array]",$="[object Int8Array]",ne="[object Int16Array]",k="[object Int32Array]",V="[object BigInt64Array]",j="[object Float32Array]",Q="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=S,t.arrayTag=v,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=ee,t.booleanTag=i,t.dataViewTag=M,t.dateTag=g,t.errorTag=R,t.float32ArrayTag=j,t.float64ArrayTag=Q,t.functionTag=w,t.int16ArrayTag=ne,t.int32ArrayTag=k,t.int8ArrayTag=$,t.mapTag=m,t.numberTag=r,t.objectTag=T,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=W,t.uint32ArrayTag=q,t.uint8ArrayTag=P,t.uint8ClampedArrayTag=U}(Zv)),Zv}var Jv={},HI;function MH(){return HI||(HI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Jv)),Jv}var qI;function RM(){return qI||(qI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DH(),n=IM(),r=OM(),i=CM(),a=MH();function c(v,w){return g(v,void 0,v,new Map,w)}function g(v,w,S,T=new Map,R=void 0){const M=R?.(v,w,S,T);if(M!==void 0)return M;if(i.isPrimitive(v))return v;if(T.has(v))return T.get(v);if(Array.isArray(v)){const P=new Array(v.length);T.set(v,P);for(let U=0;U<v.length;U++)P[U]=g(v[U],U,S,T,R);return Object.hasOwn(v,"index")&&(P.index=v.index),Object.hasOwn(v,"input")&&(P.input=v.input),P}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const P=new RegExp(v.source,v.flags);return P.lastIndex=v.lastIndex,P}if(v instanceof Map){const P=new Map;T.set(v,P);for(const[U,W]of v)P.set(U,g(W,U,S,T,R));return P}if(v instanceof Set){const P=new Set;T.set(v,P);for(const U of v)P.add(g(U,void 0,S,T,R));return P}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(a.isTypedArray(v)){const P=new(Object.getPrototypeOf(v)).constructor(v.length);T.set(v,P);for(let U=0;U<v.length;U++)P[U]=g(v[U],U,S,T,R);return P}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const P=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return T.set(v,P),m(P,v,S,T,R),P}if(typeof File<"u"&&v instanceof File){const P=new File([v],v.name,{type:v.type});return T.set(v,P),m(P,v,S,T,R),P}if(typeof Blob<"u"&&v instanceof Blob){const P=new Blob([v],{type:v.type});return T.set(v,P),m(P,v,S,T,R),P}if(v instanceof Error){const P=new v.constructor;return T.set(v,P),P.message=v.message,P.name=v.name,P.stack=v.stack,P.cause=v.cause,m(P,v,S,T,R),P}if(v instanceof Boolean){const P=new Boolean(v.valueOf());return T.set(v,P),m(P,v,S,T,R),P}if(v instanceof Number){const P=new Number(v.valueOf());return T.set(v,P),m(P,v,S,T,R),P}if(v instanceof String){const P=new String(v.valueOf());return T.set(v,P),m(P,v,S,T,R),P}if(typeof v=="object"&&d(v)){const P=Object.create(Object.getPrototypeOf(v));return T.set(v,P),m(P,v,S,T,R),P}return v}function m(v,w,S=v,T,R){const M=[...Object.keys(w),...e.getSymbols(w)];for(let P=0;P<M.length;P++){const U=M[P],W=Object.getOwnPropertyDescriptor(v,U);(W==null||W.writable)&&(v[U]=g(w[U],U,S,T,R))}}function d(v){switch(n.getTag(v)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=g,t.copyProperties=m}(Xv)),Xv}var GI;function PH(){return GI||(GI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}($v)),$v}var YI;function LH(){return YI||(YI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw(),n=PH();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r}(zv)),zv}var ex={},tx={},nx={},WI;function kH(){return WI||(WI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RM(),n=OM();function r(i,a){return e.cloneDeepWith(i,(c,g,m,d)=>{const v=a?.(c,g,m,d);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const w=new i.constructor(i?.valueOf());return e.copyProperties(w,i),w}case n.argumentsTag:{const w={};return e.copyProperties(w,i),w.length=i.length,w[Symbol.iterator]=i[Symbol.iterator],w}default:return}})}t.cloneDeepWith=r}(nx)),nx}var $I;function jH(){return $I||($I=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(tx)),tx}var rx={},ix={},XI;function NM(){return XI||(XI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(ix)),ix}var ax={},KI;function BH(){return KI||(KI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(ax)),ax}var QI;function UH(){return QI||(QI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bM(),n=NM(),r=BH(),i=Cw();function a(c,g){let m;if(Array.isArray(g)?m=g:typeof g=="string"&&e.isDeepKey(g)&&c?.[g]==null?m=i.toPath(g):m=[g],m.length===0)return!1;let d=c;for(let v=0;v<m.length;v++){const w=m[v];if((d==null||!Object.hasOwn(d,w))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(w)&&w<d.length))return!1;d=d[w]}return!0}t.has=a}(rx)),rx}var ZI;function FH(){return ZI||(ZI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mw(),n=_w(),r=jH(),i=Tw(),a=UH();function c(g,m){switch(typeof g){case"object":{Object.is(g?.valueOf(),-0)&&(g="-0");break}case"number":{g=n.toKey(g);break}}return m=r.cloneDeep(m),function(d){const v=i.get(d,g);return v===void 0?a.has(d,g):m===void 0?v===void 0:e.isMatch(v,m)}}t.matchesProperty=c}(ex)),ex}var JI;function VH(){return JI||(JI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SM(),n=RH(),r=LH(),i=FH();function a(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=a}(Fv)),Fv}var e3;function zH(){return e3||(e3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CH(),n=SM(),r=OH(),i=VH();function a(c,g=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),i.iteratee(g)):[]}t.uniqBy=a}(Mv)),Mv}var sx,t3;function HH(){return t3||(t3=1,sx=zH().uniqBy),sx}var qH=HH();const n3=bo(qH);function DM(t,e,n){return e===!0?n3(t,n):typeof e=="function"?n3(t,e):t}var ox={exports:{}},lx={},ux={exports:{}},cx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function GH(){if(r3)return cx;r3=1;var t=zf();function e(w,S){return w===S&&(w!==0||1/w===1/S)||w!==w&&S!==S}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function g(w,S){var T=S(),R=r({inst:{value:T,getSnapshot:S}}),M=R[0].inst,P=R[1];return a(function(){M.value=T,M.getSnapshot=S,m(M)&&P({inst:M})},[w,T,S]),i(function(){return m(M)&&P({inst:M}),w(function(){m(M)&&P({inst:M})})},[w]),c(T),T}function m(w){var S=w.getSnapshot;w=w.value;try{var T=S();return!n(w,T)}catch{return!0}}function d(w,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:g;return cx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,cx}var i3;function YH(){return i3||(i3=1,ux.exports=GH()),ux.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function WH(){if(a3)return lx;a3=1;var t=zf(),e=YH();function n(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,g=t.useMemo,m=t.useDebugValue;return lx.useSyncExternalStoreWithSelector=function(d,v,w,S,T){var R=a(null);if(R.current===null){var M={hasValue:!1,value:null};R.current=M}else M=R.current;R=g(function(){function U(ne){if(!W){if(W=!0,q=ne,ne=S(ne),T!==void 0&&M.hasValue){var k=M.value;if(T(k,ne))return ee=k}return ee=ne}if(k=ee,r(q,ne))return k;var V=S(ne);return T!==void 0&&T(k,V)?(q=ne,k):(q=ne,ee=V)}var W=!1,q,ee,$=w===void 0?null:w;return[function(){return U(v())},$===null?void 0:function(){return U($())}]},[v,w,S,T]);var P=i(d,R[0],R[1]);return c(function(){M.hasValue=!0,M.value=P},[P]),m(P),P},lx}var s3;function $H(){return s3||(s3=1,ox.exports=WH()),ox.exports}var XH=$H(),Pw=N.createContext(null),KH=t=>t,dr=()=>{var t=N.useContext(Pw);return t?t.store.dispatch:KH},Q1=()=>{},QH=()=>Q1,ZH=(t,e)=>t===e;function rt(t){var e=N.useContext(Pw);return XH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:QH,e?e.store.getState:Q1,e?e.store.getState:Q1,e?t:Q1,ZH)}function JH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function eq(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function tq(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var o3=t=>Array.isArray(t)?t:[t];function nq(t){const e=Array.isArray(t[0])?t[0]:t;return tq(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function rq(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var iq=class{constructor(t){this.value=t}deref(){return this.value}},aq=typeof WeakRef<"u"?WeakRef:iq,sq=0,l3=1;function T1(){return{s:sq,v:void 0,o:null,p:null}}function MM(t,e={}){let n=T1();const{resultEqualityCheck:r}=e;let i,a=0;function c(){let g=n;const{length:m}=arguments;for(let w=0,S=m;w<S;w++){const T=arguments[w];if(typeof T=="function"||typeof T=="object"&&T!==null){let R=g.o;R===null&&(g.o=R=new WeakMap);const M=R.get(T);M===void 0?(g=T1(),R.set(T,g)):g=M}else{let R=g.p;R===null&&(g.p=R=new Map);const M=R.get(T);M===void 0?(g=T1(),R.set(T,g)):g=M}}const d=g;let v;if(g.s===l3)v=g.v;else if(v=t.apply(null,arguments),a++,r){const w=i?.deref?.()??i;w!=null&&r(w,v)&&(v=w,a!==0&&a--),i=typeof v=="object"&&v!==null||typeof v=="function"?new aq(v):v}return d.s=l3,d.v=v,v}return c.clearCache=()=>{n=T1(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}function oq(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,c=0,g,m={},d=i.pop();typeof d=="object"&&(m=d,d=i.pop()),JH(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const v={...n,...m},{memoize:w,memoizeOptions:S=[],argsMemoize:T=MM,argsMemoizeOptions:R=[]}=v,M=o3(S),P=o3(R),U=nq(i),W=w(function(){return a++,d.apply(null,arguments)},...M),q=T(function(){c++;const $=rq(U,arguments);return g=W.apply(null,$),g},...P);return Object.assign(q,{resultFunc:d,memoizedResultFunc:W,dependencies:U,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>g,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:w,argsMemoize:T})};return Object.assign(r,{withTypes:()=>r}),r}var we=oq(MM),lq=Object.assign((t,e=we)=>{eq(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((c,g,m)=>(c[n[m]]=g,c),{}))},{withTypes:()=>lq}),fx={},hx={},dx={},u3;function uq(){return u3||(u3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const c=e(r),g=e(i);if(c===g&&c===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?g-c:c-g}return 0};t.compareValues=n}(dx)),dx}var gx={},mx={},c3;function PM(){return c3||(c3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(mx)),mx}var f3;function cq(){return f3||(f3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,c){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||c!=null&&Object.hasOwn(c,a)}t.isKey=i}(gx)),gx}var h3;function fq(){return h3||(h3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uq(),n=cq(),r=Cw();function i(a,c,g,m){if(a==null)return[];g=m?void 0:g,Array.isArray(a)||(a=Object.values(a)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(g)||(g=g==null?[]:[g]),g=g.map(T=>String(T));const d=(T,R)=>{let M=T;for(let P=0;P<R.length&&M!=null;++P)M=M[R[P]];return M},v=(T,R)=>R==null||T==null?R:typeof T=="object"&&"key"in T?Object.hasOwn(R,T.key)?R[T.key]:d(R,T.path):typeof T=="function"?T(R):Array.isArray(T)?d(R,T):typeof R=="object"?R[T]:R,w=c.map(T=>(Array.isArray(T)&&T.length===1&&(T=T[0]),T==null||typeof T=="function"||Array.isArray(T)||n.isKey(T)?T:{key:T,path:r.toPath(T)}));return a.map(T=>({original:T,criteria:w.map(R=>v(R,T))})).slice().sort((T,R)=>{for(let M=0;M<w.length;M++){const P=e.compareValues(T.criteria[M],R.criteria[M],g[M]);if(P!==0)return P}return 0}).map(T=>T.original)}t.orderBy=i}(hx)),hx}var px={},d3;function hq(){return d3||(d3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),c=(g,m)=>{for(let d=0;d<g.length;d++){const v=g[d];Array.isArray(v)&&m<a?c(v,m+1):i.push(v)}};return c(n,0),i}t.flatten=e}(px)),px}var yx={},g3;function LM(){return g3||(g3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NM(),n=Dw(),r=_M(),i=TM();function a(c,g,m){return r.isObject(m)&&(typeof g=="number"&&n.isArrayLike(m)&&e.isIndex(g)&&g<m.length||typeof g=="string"&&g in m)?i.eq(m[g],c):!1}t.isIterateeCall=a}(yx)),yx}var m3;function dq(){return m3||(m3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fq(),n=hq(),r=LM();function i(a,...c){const g=c.length;return g>1&&r.isIterateeCall(a,c[0],c[1])?c=[]:g>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(a,n.flatten(c),["asc"])}t.sortBy=i}(fx)),fx}var vx,p3;function gq(){return p3||(p3=1,vx=dq().sortBy),vx}var mq=gq();const Vm=bo(mq);var kM=t=>t.legend.settings,pq=t=>t.legend.size,yq=t=>t.legend.payload,vq=we([yq,kM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Vm(r,n):r});function xq(){return rt(vq)}var I1=1;function jM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),c={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(c.height-e.height)>I1||Math.abs(c.left-e.left)>I1||Math.abs(c.top-e.top)>I1||Math.abs(c.width-e.width)>I1)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function _i(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bq=typeof Symbol=="function"&&Symbol.observable||"@@observable",y3=bq,xx=()=>Math.random().toString(36).substring(7).split("").join("."),wq={INIT:`@@redux/INIT${xx()}`,REPLACE:`@@redux/REPLACE${xx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xx()}`},Cg=wq;function Lw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function BM(t,e,n){if(typeof t!="function")throw new Error(_i(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_i(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_i(1));return n(BM)(t,e)}let r=t,i=e,a=new Map,c=a,g=0,m=!1;function d(){c===a&&(c=new Map,a.forEach((P,U)=>{c.set(U,P)}))}function v(){if(m)throw new Error(_i(3));return i}function w(P){if(typeof P!="function")throw new Error(_i(4));if(m)throw new Error(_i(5));let U=!0;d();const W=g++;return c.set(W,P),function(){if(U){if(m)throw new Error(_i(6));U=!1,d(),c.delete(W),a=null}}}function S(P){if(!Lw(P))throw new Error(_i(7));if(typeof P.type>"u")throw new Error(_i(8));if(typeof P.type!="string")throw new Error(_i(17));if(m)throw new Error(_i(9));try{m=!0,i=r(i,P)}finally{m=!1}return(a=c).forEach(W=>{W()}),P}function T(P){if(typeof P!="function")throw new Error(_i(10));r=P,S({type:Cg.REPLACE})}function R(){const P=w;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(_i(11));function W(){const ee=U;ee.next&&ee.next(v())}return W(),{unsubscribe:P(W)}},[y3](){return this}}}return S({type:Cg.INIT}),{dispatch:S,subscribe:w,getState:v,replaceReducer:T,[y3]:R}}function Eq(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Cg.INIT})>"u")throw new Error(_i(12));if(typeof n(void 0,{type:Cg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_i(13))})}function UM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const c=e[a];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{Eq(n)}catch(a){i=a}return function(c={},g){if(i)throw i;let m=!1;const d={};for(let v=0;v<r.length;v++){const w=r[v],S=n[w],T=c[w],R=S(T,g);if(typeof R>"u")throw g&&g.type,new Error(_i(14));d[w]=R,m=m||R!==T}return m=m||r.length!==Object.keys(c).length,m?d:c}}function Tg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Aq(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(_i(15))};const c={getState:i.getState,dispatch:(m,...d)=>a(m,...d)},g=t.map(m=>m(c));return a=Tg(...g)(i.dispatch),{...i,dispatch:a}}}function FM(t){return Lw(t)&&"type"in t&&typeof t.type=="string"}var VM=Symbol.for("immer-nothing"),v3=Symbol.for("immer-draftable"),Ja=Symbol.for("immer-state");function Fs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lf=Object.getPrototypeOf;function uc(t){return!!t&&!!t[Ja]}function al(t){return t?zM(t)||Array.isArray(t)||!!t[v3]||!!t.constructor?.[v3]||Jd(t)||Hm(t):!1}var Sq=Object.prototype.constructor.toString();function zM(t){if(!t||typeof t!="object")return!1;const e=Lf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Sq}function Ig(t,e){zm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function zm(t){const e=t[Ja];return e?e.type_:Array.isArray(t)?1:Jd(t)?2:Hm(t)?3:0}function L2(t,e){return zm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function HM(t,e,n){const r=zm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function _q(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jd(t){return t instanceof Map}function Hm(t){return t instanceof Set}function Yu(t){return t.copy_||t.base_}function k2(t,e){if(Jd(t))return new Map(t);if(Hm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ja];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const c=i[a],g=r[c];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(r[c]={configurable:!0,writable:!0,enumerable:g.enumerable,value:t[c]})}return Object.create(Lf(t),r)}else{const r=Lf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function kw(t,e=!1){return qm(t)||uc(t)||!al(t)||(zm(t)>1&&Object.defineProperties(t,{set:{value:O1},add:{value:O1},clear:{value:O1},delete:{value:O1}}),Object.freeze(t),e&&Object.values(t).forEach(n=>kw(n,!0))),t}function O1(){Fs(2)}function qm(t){return Object.isFrozen(t)}var Cq={};function cc(t){const e=Cq[t];return e||Fs(0,t),e}var Nd;function qM(){return Nd}function Tq(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function x3(t,e){e&&(cc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function j2(t){B2(t),t.drafts_.forEach(Iq),t.drafts_=null}function B2(t){t===Nd&&(Nd=t.parent_)}function b3(t){return Nd=Tq(Nd,t)}function Iq(t){const e=t[Ja];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function w3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ja].modified_&&(j2(e),Fs(4)),al(t)&&(t=Og(e,t),e.parent_||Rg(e,t)),e.patches_&&cc("Patches").generateReplacementPatches_(n[Ja].base_,t,e.patches_,e.inversePatches_)):t=Og(e,n,[]),j2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VM?t:void 0}function Og(t,e,n){if(qm(e))return e;const r=e[Ja];if(!r)return Ig(e,(i,a)=>E3(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Rg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,c=!1;r.type_===3&&(a=new Set(i),i.clear(),c=!0),Ig(a,(g,m)=>E3(t,r,i,g,m,n,c)),Rg(t,i,!1),n&&t.patches_&&cc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function E3(t,e,n,r,i,a,c){if(uc(i)){const g=a&&e&&e.type_!==3&&!L2(e.assigned_,r)?a.concat(r):void 0,m=Og(t,i,g);if(HM(n,r,m),uc(m))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(al(i)&&!qm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Og(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Rg(t,i)}}function Rg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kw(e,n)}function Oq(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:qM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=jw;n&&(i=[r],a=Dd);const{revoke:c,proxy:g}=Proxy.revocable(i,a);return r.draft_=g,r.revoke_=c,g}var jw={get(t,e){if(e===Ja)return t;const n=Yu(t);if(!L2(n,e))return Rq(t,n,e);const r=n[e];return t.finalized_||!al(r)?r:r===bx(t.base_,e)?(wx(t),t.copy_[e]=F2(r,t)):r},has(t,e){return e in Yu(t)},ownKeys(t){return Reflect.ownKeys(Yu(t))},set(t,e,n){const r=GM(Yu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=bx(Yu(t),e),a=i?.[Ja];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(_q(n,i)&&(n!==void 0||L2(t.base_,e)))return!0;wx(t),U2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wx(t),U2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Yu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Fs(11)},getPrototypeOf(t){return Lf(t.base_)},setPrototypeOf(){Fs(12)}},Dd={};Ig(jw,(t,e)=>{Dd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Dd.deleteProperty=function(t,e){return Dd.set.call(this,t,e,void 0)};Dd.set=function(t,e,n){return jw.set.call(this,t[0],e,n,t[0])};function bx(t,e){const n=t[Ja];return(n?Yu(n):t)[e]}function Rq(t,e,n){const r=GM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function GM(t,e){if(!(e in t))return;let n=Lf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lf(n)}}function U2(t){t.modified_||(t.modified_=!0,t.parent_&&U2(t.parent_))}function wx(t){t.copy_||(t.copy_=k2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Nq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const c=this;return function(m=a,...d){return c.produce(m,v=>n.call(this,v,...d))}}typeof n!="function"&&Fs(6),r!==void 0&&typeof r!="function"&&Fs(7);let i;if(al(e)){const a=b3(this),c=F2(e,void 0);let g=!0;try{i=n(c),g=!1}finally{g?j2(a):B2(a)}return x3(a,r),w3(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===VM&&(i=void 0),this.autoFreeze_&&kw(i,!0),r){const a=[],c=[];cc("Patches").generateReplacementPatches_(e,i,a,c),r(a,c)}return i}else Fs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...g)=>this.produceWithPatches(c,m=>e(m,...g));let r,i;return[this.produce(e,n,(c,g)=>{r=c,i=g}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){al(t)||Fs(8),uc(t)&&(t=Qo(t));const e=b3(this),n=F2(t,void 0);return n[Ja].isManual_=!0,B2(e),n}finishDraft(t,e){const n=t&&t[Ja];(!n||!n.isManual_)&&Fs(9);const{scope_:r}=n;return x3(r,e),w3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=cc("Patches").applyPatches_;return uc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function F2(t,e){const n=Jd(t)?cc("MapSet").proxyMap_(t,e):Hm(t)?cc("MapSet").proxySet_(t,e):Oq(t,e);return(e?e.scope_:qM()).drafts_.push(n),n}function Qo(t){return uc(t)||Fs(10,t),YM(t)}function YM(t){if(!al(t)||qm(t))return t;const e=t[Ja];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=k2(t,e.scope_.immer_.useStrictShallowCopy_)}else n=k2(t,!0);return Ig(n,(r,i)=>{HM(n,r,YM(i))}),e&&(e.finalized_=!1),n}var Dq=new Nq,WM=Dq.produce;function $M(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Mq=$M(),Pq=$M,Lq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tg:Tg.apply(null,arguments)};function Ts(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Qa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>FM(r)&&r.type===t,n}var XM=class ud extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ud.prototype)}static get[Symbol.species](){return ud}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ud(...e[0].concat(this)):new ud(...e.concat(this))}};function A3(t){return al(t)?WM(t,()=>{}):t}function R1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function kq(t){return typeof t=="boolean"}var jq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let c=new XM;return n&&(kq(n)?c.push(Mq):c.push(Pq(n.extraArgument))),c},KM="RTK_autoBatch",Ji=()=>t=>({payload:t,meta:{[KM]:!0}}),S3=t=>e=>{setTimeout(e,t)},QM=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,c=!1;const g=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:S3(10):t.type==="callback"?t.queueNotification:S3(t.timeout),d=()=>{c=!1,a&&(a=!1,g.forEach(v=>v()))};return Object.assign({},r,{subscribe(v){const w=()=>i&&v(),S=r.subscribe(w);return g.add(v),()=>{S(),g.delete(v)}},dispatch(v){try{return i=!v?.meta?.[KM],a=!i,a&&(c||(c=!0,m(d))),r.dispatch(v)}finally{i=!0}}})},Bq=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new XM(t);return r&&i.push(QM(typeof r=="object"?r:void 0)),i};function Uq(t){const e=jq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=t||{};let g;if(typeof n=="function")g=n;else if(Lw(n))g=UM(n);else throw new Error(Qa(1));let m;typeof r=="function"?m=r(e):m=e();let d=Tg;i&&(d=Lq({trace:!1,...typeof i=="object"&&i}));const v=Aq(...m),w=Bq(v);let S=typeof c=="function"?c(w):w();const T=d(...S);return BM(g,a,T)}function ZM(t){const e={},n=[];let r;const i={addCase(a,c){const g=typeof a=="string"?a:a.type;if(!g)throw new Error(Qa(28));if(g in e)throw new Error(Qa(29));return e[g]=c,i},addAsyncThunk(a,c){return c.pending&&(e[a.pending.type]=c.pending),c.rejected&&(e[a.rejected.type]=c.rejected),c.fulfilled&&(e[a.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:a.settled,reducer:c.settled}),i},addMatcher(a,c){return n.push({matcher:a,reducer:c}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Fq(t){return typeof t=="function"}function Vq(t,e){let[n,r,i]=ZM(e),a;if(Fq(t))a=()=>A3(t());else{const g=A3(t);a=()=>g}function c(g=a(),m){let d=[n[m.type],...r.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return d.filter(v=>!!v).length===0&&(d=[i]),d.reduce((v,w)=>{if(w)if(uc(v)){const T=w(v,m);return T===void 0?v:T}else{if(al(v))return WM(v,S=>w(S,m));{const S=w(v,m);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},g)}return c.getInitialState=a,c}var zq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hq=(t=21)=>{let e="",n=t;for(;n--;)e+=zq[Math.random()*64|0];return e},qq=Symbol.for("rtk-slice-createasyncthunk");function Gq(t,e){return`${t}/${e}`}function Yq({creators:t}={}){const e=t?.asyncThunk?.[qq];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Qa(11));const c=(typeof r.reducers=="function"?r.reducers($q()):r.reducers)||{},g=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(q,ee){const $=typeof q=="string"?q:q.type;if(!$)throw new Error(Qa(12));if($ in m.sliceCaseReducersByType)throw new Error(Qa(13));return m.sliceCaseReducersByType[$]=ee,d},addMatcher(q,ee){return m.sliceMatchers.push({matcher:q,reducer:ee}),d},exposeAction(q,ee){return m.actionCreators[q]=ee,d},exposeCaseReducer(q,ee){return m.sliceCaseReducersByName[q]=ee,d}};g.forEach(q=>{const ee=c[q],$={reducerName:q,type:Gq(i,q),createNotation:typeof r.reducers=="function"};Kq(ee)?Zq($,ee,d,e):Xq($,ee,d)});function v(){const[q={},ee=[],$=void 0]=typeof r.extraReducers=="function"?ZM(r.extraReducers):[r.extraReducers],ne={...q,...m.sliceCaseReducersByType};return Vq(r.initialState,k=>{for(let V in ne)k.addCase(V,ne[V]);for(let V of m.sliceMatchers)k.addMatcher(V.matcher,V.reducer);for(let V of ee)k.addMatcher(V.matcher,V.reducer);$&&k.addDefaultCase($)})}const w=q=>q,S=new Map,T=new WeakMap;let R;function M(q,ee){return R||(R=v()),R(q,ee)}function P(){return R||(R=v()),R.getInitialState()}function U(q,ee=!1){function $(k){let V=k[q];return typeof V>"u"&&ee&&(V=R1(T,$,P)),V}function ne(k=w){const V=R1(S,ee,()=>new WeakMap);return R1(V,k,()=>{const j={};for(const[Q,Z]of Object.entries(r.selectors??{}))j[Q]=Wq(Z,k,()=>R1(T,k,P),ee);return j})}return{reducerPath:q,getSelectors:ne,get selectors(){return ne($)},selectSlice:$}}const W={name:i,reducer:M,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:P,...U(a),injectInto(q,{reducerPath:ee,...$}={}){const ne=ee??a;return q.inject({reducerPath:ne,reducer:M},$),{...W,...U(ne,!0)}}};return W}}function Wq(t,e,n,r){function i(a,...c){let g=e(a);return typeof g>"u"&&r&&(g=n()),t(g,...c)}return i.unwrapped=t,i}var es=Yq();function $q(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Xq({type:t,reducerName:e,createNotation:n},r,i){let a,c;if("reducer"in r){if(n&&!Qq(r))throw new Error(Qa(17));a=r.reducer,c=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,c?Ts(t,c):Ts(t))}function Kq(t){return t._reducerDefinitionType==="asyncThunk"}function Qq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Zq({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Qa(18));const{payloadCreator:a,fulfilled:c,pending:g,rejected:m,settled:d,options:v}=n,w=i(t,a,v);r.exposeAction(e,w),c&&r.addCase(w.fulfilled,c),g&&r.addCase(w.pending,g),m&&r.addCase(w.rejected,m),d&&r.addMatcher(w.settled,d),r.exposeCaseReducer(e,{fulfilled:c||N1,pending:g||N1,rejected:m||N1,settled:d||N1})}function N1(){}var Jq="task",JM="listener",e8="completed",Bw="cancelled",eG=`task-${Bw}`,tG=`task-${e8}`,V2=`${JM}-${Bw}`,nG=`${JM}-${e8}`,Gm=class{constructor(t){this.code=t,this.message=`${Jq} ${Bw} (reason: ${t})`}name="TaskAbortError";message},Uw=(t,e)=>{if(typeof t!="function")throw new TypeError(Qa(32))},Ng=()=>{},t8=(t,e=Ng)=>(t.catch(e),t),n8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),tc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},nc=t=>{if(t.aborted){const{reason:e}=t;throw new Gm(e)}};function r8(t,e){let n=Ng;return new Promise((r,i)=>{const a=()=>i(new Gm(t.reason));if(t.aborted){a();return}n=n8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Ng})}var rG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Gm?"cancelled":"rejected",error:n}}finally{e?.()}},Dg=t=>e=>t8(r8(t,e).then(n=>(nc(t),n))),i8=t=>{const e=Dg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Af}=Object,_3={},Ym="listenerMiddleware",iG=(t,e)=>{const n=r=>n8(t,()=>tc(r,t.reason));return(r,i)=>{Uw(r);const a=new AbortController;n(a);const c=rG(async()=>{nc(t),nc(a.signal);const g=await r({pause:Dg(a.signal),delay:i8(a.signal),signal:a.signal});return nc(a.signal),g},()=>tc(a,tG));return i?.autoJoin&&e.push(c.catch(Ng)),{result:Dg(t)(c),cancel(){tc(a,eG)}}}},aG=(t,e)=>{const n=async(r,i)=>{nc(e);let a=()=>{};const g=[new Promise((m,d)=>{let v=t({predicate:r,effect:(w,S)=>{S.unsubscribe(),m([w,S.getState(),S.getOriginalState()])}});a=()=>{v(),d()}})];i!=null&&g.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await r8(e,Promise.race(g));return nc(e),m}finally{a()}};return(r,i)=>t8(n(r,i))},a8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ts(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Qa(21));return Uw(a),{predicate:i,type:e,effect:a}},s8=Af(t=>{const{type:e,predicate:n,effect:r}=a8(t);return{id:Hq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Qa(22))}}},{withTypes:()=>s8}),C3=(t,e)=>{const{type:n,effect:r,predicate:i}=a8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},z2=t=>{t.pending.forEach(e=>{tc(e,V2)})},sG=(t,e)=>()=>{for(const n of e.keys())z2(n);t.clear()},T3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},o8=Af(Ts(`${Ym}/add`),{withTypes:()=>o8}),oG=Ts(`${Ym}/removeAll`),l8=Af(Ts(`${Ym}/remove`),{withTypes:()=>l8}),lG=(...t)=>{console.error(`${Ym}/error`,...t)},e0=(t={})=>{const e=new Map,n=new Map,r=T=>{const R=n.get(T)??0;n.set(T,R+1)},i=T=>{const R=n.get(T)??1;R===1?n.delete(T):n.set(T,R-1)},{extra:a,onError:c=lG}=t;Uw(c);const g=T=>(T.unsubscribe=()=>e.delete(T.id),e.set(T.id,T),R=>{T.unsubscribe(),R?.cancelActive&&z2(T)}),m=T=>{const R=C3(e,T)??s8(T);return g(R)};Af(m,{withTypes:()=>m});const d=T=>{const R=C3(e,T);return R&&(R.unsubscribe(),T.cancelActive&&z2(R)),!!R};Af(d,{withTypes:()=>d});const v=async(T,R,M,P)=>{const U=new AbortController,W=aG(m,U.signal),q=[];try{T.pending.add(U),r(T),await Promise.resolve(T.effect(R,Af({},M,{getOriginalState:P,condition:(ee,$)=>W(ee,$).then(Boolean),take:W,delay:i8(U.signal),pause:Dg(U.signal),extra:a,signal:U.signal,fork:iG(U.signal,q),unsubscribe:T.unsubscribe,subscribe:()=>{e.set(T.id,T)},cancelActiveListeners:()=>{T.pending.forEach((ee,$,ne)=>{ee!==U&&(tc(ee,V2),ne.delete(ee))})},cancel:()=>{tc(U,V2),T.pending.delete(U)},throwIfCancelled:()=>{nc(U.signal)}})))}catch(ee){ee instanceof Gm||T3(c,ee,{raisedBy:"effect"})}finally{await Promise.all(q),tc(U,nG),i(T),T.pending.delete(U)}},w=sG(e,n);return{middleware:T=>R=>M=>{if(!FM(M))return R(M);if(o8.match(M))return m(M.payload);if(oG.match(M)){w();return}if(l8.match(M))return d(M.payload);let P=T.getState();const U=()=>{if(P===_3)throw new Error(Qa(23));return P};let W;try{if(W=R(M),e.size>0){const q=T.getState(),ee=Array.from(e.values());for(const $ of ee){let ne=!1;try{ne=$.predicate(M,q,P)}catch(k){ne=!1,T3(c,k,{raisedBy:"predicate"})}ne&&v($,M,T,U)}}}finally{P=_3}return W},startListening:m,stopListening:d,clearListeners:w}};function Qa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},u8=es({name:"chartLayout",initialState:uG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:cG,setLayout:fG,setChartSize:hG,setScale:dG}=u8.actions,gG=u8.reducer;function I3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(n),!0).forEach(function(r){mG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mG(t,e,n){return(e=pG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pG(t){var e=yG(t,"string");return typeof e=="symbol"?e:e+""}function yG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mg=Math.PI/180,vG=t=>t*180/Math.PI,Gr=(t,e,n,r)=>({x:t+Math.cos(-Mg*r)*n,y:e+Math.sin(-Mg*r)*n}),c8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xG=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},bG=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,c=xG({x:n,y:r},{x:i,y:a});if(c<=0)return{radius:c,angle:0};var g=(n-i)/c,m=Math.acos(g);return r>a&&(m=2*Math.PI-m),{radius:c,angle:vG(m),angleInRadian:m}},wG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},EG=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),c=Math.min(i,a);return t+c*360},AG=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=bG({x:n,y:r},e),{innerRadius:c,outerRadius:g}=e;if(i<c||i>g||i===0)return null;var{startAngle:m,endAngle:d}=wG(e),v=a,w;if(m<=d){for(;v>d;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=d}else{for(;v>m;)v-=360;for(;v<d;)v+=360;w=v>=d&&v<=m}return w?O3(O3({},e),{},{radius:i,angle:EG(v,e)}):null};function f8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){SG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SG(t,e,n){return(e=_G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _G(t){var e=CG(t,"string");return typeof e=="symbol"?e:e+""}function CG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e,n){return hr(t)||hr(e)?n:vo(e)?lc(t,e,n):typeof e=="function"?e(t):n}var TG=(t,e,n,r,i)=>{var a,c=-1,g=(a=e?.length)!==null&&a!==void 0?a:0;if(g<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<g;m++){var d=m>0?n[m-1].coordinate:n[g-1].coordinate,v=n[m].coordinate,w=m>=g-1?n[0].coordinate:n[m+1].coordinate,S=void 0;if(fi(v-d)!==fi(w-v)){var T=[];if(fi(w-v)===fi(i[1]-i[0])){S=w;var R=v+i[1]-i[0];T[0]=Math.min(R,(R+d)/2),T[1]=Math.max(R,(R+d)/2)}else{S=d;var M=w+i[1]-i[0];T[0]=Math.min(v,(M+v)/2),T[1]=Math.max(v,(M+v)/2)}var P=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(t>P[0]&&t<=P[1]||t>=T[0]&&t<=T[1]){({index:c}=n[m]);break}}else{var U=Math.min(d,w),W=Math.max(d,w);if(t>(U+v)/2&&t<=(W+v)/2){({index:c}=n[m]);break}}}else if(e){for(var q=0;q<g;q++)if(q===0&&t<=(e[q].coordinate+e[q+1].coordinate)/2||q>0&&q<g-1&&t>(e[q].coordinate+e[q-1].coordinate)/2&&t<=(e[q].coordinate+e[q+1].coordinate)/2||q===g-1&&t>(e[q].coordinate+e[q-1].coordinate)/2){({index:c}=e[q]);break}}return c},IG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:c,layout:g}=e;if((g==="vertical"||g==="horizontal"&&c==="middle")&&a!=="center"&&lt(t[a]))return ws(ws({},t),{},{[a]:t[a]+(r||0)});if((g==="horizontal"||g==="vertical"&&a==="center")&&c!=="middle"&&lt(t[c]))return ws(ws({},t),{},{[c]:t[c]+(i||0)})}return t},Eu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",h8=(t,e,n,r)=>{if(r)return t.map(g=>g.coordinate);var i,a,c=t.map(g=>(g.coordinate===e&&(i=!0),g.coordinate===n&&(a=!0),g.coordinate));return i||c.push(e),a||c.push(n),c},d8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:c,realScaleType:g,isCategorical:m,categoricalDomain:d,tickCount:v,ticks:w,niceTicks:S,axisType:T}=t;if(!c)return null;var R=g==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,M=i==="category"&&c.bandwidth?c.bandwidth()/R:0;if(M=T==="angleAxis"&&a&&a.length>=2?fi(a[0]-a[1])*2*M:M,w||S){var P=(w||S||[]).map((U,W)=>{var q=r?r.indexOf(U):U;return{coordinate:c(q)+M,value:U,offset:M,index:W}});return P.filter(U=>!Cs(U.coordinate))}return m&&d?d.map((U,W)=>({coordinate:c(U)+M,value:U,index:W,offset:M})):c.ticks&&v!=null?c.ticks(v).map((U,W)=>({coordinate:c(U)+M,value:U,offset:M,index:W})):c.domain().map((U,W)=>({coordinate:c(U)+M,value:r?r[U]:U,index:W,offset:M}))},N3=1e-4,OG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-N3,a=Math.max(r[0],r[1])+N3,c=t(e[0]),g=t(e[n-1]);(c<i||c>a||g<i||g>a)&&t.domain([e[0],e[n-1]])}},RG=(t,e)=>{if(!e||e.length!==2||!lt(e[0])||!lt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!lt(t[0])||t[0]<n)&&(i[0]=n),(!lt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},NG=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,c=0;c<e;++c){var g=Cs(t[c][n][1])?t[c][n][0]:t[c][n][1];g>=0?(t[c][n][0]=i,t[c][n][1]=i+g,i=t[c][n][1]):(t[c][n][0]=a,t[c][n][1]=a+g,a=t[c][n][1])}},DG=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var c=Cs(t[a][n][1])?t[a][n][0]:t[a][n][1];c>=0?(t[a][n][0]=i,t[a][n][1]=i+c,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},MG={sign:NG,expand:iH,none:Pf,silhouette:aH,wiggle:sH,positive:DG},PG=(t,e,n)=>{var r=MG[n],i=rH().keys(e).value((a,c)=>+Wn(a,c,0)).order(D2).offset(r);return i(t)};function LG(t){return t==null?void 0:String(t)}function D3(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!hr(i[e.dataKey])){var g=EM(n,"value",i[e.dataKey]);if(g)return g.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var m=Wn(i,hr(c)?e.dataKey:c);return hr(m)?null:e.scale(m)}var M3=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var g=Wn(a,e.dataKey,e.scale.domain()[c]);return hr(g)?null:e.scale(g)-i/2+r},kG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},jG=t=>{var e=t.flat(2).filter(lt);return[Math.min(...e),Math.max(...e)]},BG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],UG=(t,e,n)=>{if(t!=null)return BG(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:c}=a,g=c.reduce((m,d)=>{var v=f8(d,e,n),w=jG(v);return[Math.min(m[0],w[0]),Math.max(m[1],w[1])]},[1/0,-1/0]);return[Math.min(g[0],r[0]),Math.max(g[1],r[1])]},[1/0,-1/0]))},P3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Md=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Vm(e,v=>v.coordinate),a=1/0,c=1,g=i.length;c<g;c++){var m=i[c],d=i[c-1];a=Math.min((m.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function k3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return ws(ws({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Kf(t,e){if(t)return String(t);if(typeof e=="string")return e}function FG(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?AG({x:t,y:e},r):null}var VG=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:c}=r;return ws(ws(ws({},r),Gr(r.cx,r.cy,c,a)),{},{angle:a,radius:c})}var g=i.coordinate,{angle:m}=r;return ws(ws(ws({},r),Gr(r.cx,r.cy,g,m)),{},{angle:m,radius:g})}return{x:0,y:0}},zG=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,cl=t=>t.layout.width,fl=t=>t.layout.height,HG=t=>t.layout.scale,g8=t=>t.layout.margin,Wm=we(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),$m=we(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),m8="data-recharts-item-index",p8="data-recharts-item-data-key",t0=60;function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return(e=GG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GG(t){var e=YG(t,"string");return typeof e=="symbol"?e:e+""}function YG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WG=t=>t.brush.height;function $G(t){var e=$m(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:t0;return n+i}return n},0)}function XG(t){var e=$m(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:t0;return n+i}return n},0)}function KG(t){var e=Wm(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function QG(t){var e=Wm(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ei=we([cl,fl,g8,WG,$G,XG,KG,QG,kM,pq],(t,e,n,r,i,a,c,g,m,d)=>{var v={left:(n.left||0)+i,right:(n.right||0)+a},w={top:(n.top||0)+c,bottom:(n.bottom||0)+g},S=D1(D1({},w),v),T=S.bottom;S.bottom+=r,S=IG(S,m,d);var R=t-S.left-S.right,M=e-S.top-S.bottom;return D1(D1({brushBottom:T},S),{},{width:Math.max(R,0),height:Math.max(M,0)})}),ZG=we(ei,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Fw=we(cl,fl,(t,e)=>({x:0,y:0,width:t,height:e})),JG=N.createContext(null),ra=()=>N.useContext(JG)!=null,Xm=t=>t.brush,Km=we([Xm,ei,g8],(t,e,n)=>({height:t.height,x:lt(t.x)?t.x:e.left,y:lt(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:lt(t.width)?t.width:e.width})),Ex={},Ax={},Sx={},B3;function eY(){return B3||(B3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let c,g=null;const m=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),v=()=>{g!==null&&(n.apply(c,g),c=void 0,g=null)},w=()=>{d&&v(),M()};let S=null;const T=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,w()},r)},R=()=>{S!==null&&(clearTimeout(S),S=null)},M=()=>{R(),c=void 0,g=null},P=()=>{v()},U=function(...W){if(i?.aborted)return;c=this,g=W;const q=S==null;T(),m&&q&&v()};return U.schedule=T,U.cancel=M,U.flush=P,i?.addEventListener("abort",M,{once:!0}),U}t.debounce=e}(Sx)),Sx}var U3;function tY(){return U3||(U3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eY();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:c=!1,trailing:g=!0,maxWait:m}=a,d=Array(2);c&&(d[0]="leading"),g&&(d[1]="trailing");let v,w=null;const S=e.debounce(function(...M){v=r.apply(this,M),w=null},i,{edges:d}),T=function(...M){return m!=null&&(w===null&&(w=Date.now()),Date.now()-w>=m)?(v=r.apply(this,M),w=Date.now(),S.cancel(),S.schedule(),v):(S.apply(this,M),v)},R=()=>(S.flush(),v);return T.cancel=S.cancel,T.flush=R,T}t.debounce=n}(Ax)),Ax}var F3;function nY(){return F3||(F3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tY();function n(r,i=0,a={}){const{leading:c=!0,trailing:g=!0}=a;return e.debounce(r,i,{leading:c,maxWait:i,trailing:g})}t.throttle=n}(Ex)),Ex}var _x,V3;function rY(){return V3||(V3=1,_x=nY().throttle),_x}var iY=rY();const aY=bo(iY);var Pg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},y8=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:c}=n,g=il(r)?t:Number(r),m=il(i)?e:Number(i);return a&&a>0&&(g?m=g/a:m&&(g=m*a),c&&m>c&&(m=c)),{calculatedWidth:g,calculatedHeight:m}},sY={width:0,height:0,overflow:"visible"},oY={width:0,overflowX:"visible"},lY={height:0,overflowY:"visible"},uY={},cY=t=>{var{width:e,height:n}=t,r=il(e),i=il(n);return r&&i?sY:r?oY:i?lY:uY};function fY(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Wi(t){return Number.isFinite(t)}function kf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(null,arguments)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){hY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hY(t,e,n){return(e=dY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dY(t){var e=gY(t,"string");return typeof e=="symbol"?e:e+""}function gY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v8=N.createContext({width:-1,height:-1});function x8(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:N.createElement(v8.Provider,{value:i},e)}var Vw=()=>N.useContext(v8),mY=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:c=0,minHeight:g,maxHeight:m,children:d,debounce:v=0,id:w,className:S,onResize:T,style:R={}}=t,M=N.useRef(null),P=N.useRef();P.current=T,N.useImperativeHandle(e,()=>M.current);var[U,W]=N.useState({containerWidth:r.width,containerHeight:r.height}),q=N.useCallback((V,j)=>{W(Q=>{var Z=Math.round(V),X=Math.round(j);return Q.containerWidth===Z&&Q.containerHeight===X?Q:{containerWidth:Z,containerHeight:X}})},[]);N.useEffect(()=>{var V=X=>{var z,{width:ge,height:se}=X[0].contentRect;q(ge,se),(z=P.current)===null||z===void 0||z.call(P,ge,se)};v>0&&(V=aY(V,v,{trailing:!0,leading:!1}));var j=new ResizeObserver(V),{width:Q,height:Z}=M.current.getBoundingClientRect();return q(Q,Z),j.observe(M.current),()=>{j.disconnect()}},[q,v]);var{containerWidth:ee,containerHeight:$}=U;Pg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:ne,calculatedHeight:k}=y8(ee,$,{width:i,height:a,aspect:n,maxHeight:m});return Pg(ne>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,k,i,a,c,g,n),N.createElement("div",{id:w?"".concat(w):void 0,className:fn("recharts-responsive-container",S),style:H3(H3({},R),{},{width:i,height:a,minWidth:c,minHeight:g,maxHeight:m}),ref:M},N.createElement("div",{style:cY({width:i,height:a})},N.createElement(x8,{width:ne,height:k},d)))}),sf=N.forwardRef((t,e)=>{var n=Vw();if(kf(n.width)&&kf(n.height))return t.children;var{width:r,height:i}=fY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:c}=y8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return lt(a)&&lt(c)?N.createElement(x8,{width:a,height:c},t.children):N.createElement(mY,H2({},t,{width:r,height:i,ref:e}))}),Qm=()=>{var t,e=ra(),n=rt(ZG),r=rt(Km),i=(t=rt(Xm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},b8=()=>{var t;return(t=rt(ei))!==null&&t!==void 0?t:pY},zw=()=>rt(cl),Hw=()=>rt(fl),yY=()=>rt(t=>t.layout.margin),an=t=>t.layout.layoutType,Zm=()=>rt(an),Jm=t=>{var e=dr(),n=ra(),{width:r,height:i}=t,a=Vw(),c=r,g=i;return a&&(c=a.width>0?a.width:r,g=a.height>0?a.height:i),N.useEffect(()=>{!n&&kf(c)&&kf(g)&&e(hG({width:c,height:g}))},[e,n,c,g]),null},vY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w8=es({name:"legend",initialState:vY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ji()},removeLegendPayload:{reducer(t,e){var n=Qo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ji()}}}),{setLegendSize:q3,setLegendSettings:xY,addLegendPayload:E8,removeLegendPayload:A8}=w8.actions,bY=w8.reducer,wY=["contextPayload"];function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(null,arguments)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qw(t,e,n){return(e=EY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t){var e=AY(t,"string");return typeof e=="symbol"?e:e+""}function AY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SY(t,e){if(t==null)return{};var n,r,i=_Y(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Y(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CY(t){return t.value}function TY(t){var{contextPayload:e}=t,n=SY(t,wY),r=DM(e,t.payloadUniqBy,CY),i=jf(jf({},n),{},{payload:r});return N.isValidElement(t.content)?N.cloneElement(t.content,i):typeof t.content=="function"?N.createElement(t.content,i):N.createElement(Nw,i)}function IY(t,e,n,r,i,a){var{layout:c,align:g,verticalAlign:m}=e,d,v;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(g==="center"&&c==="vertical"?d={left:((r||0)-a.width)/2}:d=g==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(m==="middle"?v={top:((i||0)-a.height)/2}:v=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),jf(jf({},d),v)}function OY(t){var e=dr();return N.useEffect(()=>{e(xY(t))},[e,t]),null}function RY(t){var e=dr();return N.useEffect(()=>(e(q3(t)),()=>{e(q3({width:0,height:0}))}),[e,t]),null}function NY(t){var e=xq(),n=Tz(),r=yY(),{width:i,height:a,wrapperStyle:c,portal:g}=t,[m,d]=jM([e]),v=zw(),w=Hw();if(v==null||w==null)return null;var S=v-(r.left||0)-(r.right||0),T=Xu.getWidthOrHeight(t.layout,a,i,S),R=g?c:jf(jf({position:"absolute",width:T?.width||i||"auto",height:T?.height||a||"auto"},IY(c,t,r,v,w,m)),c),M=g??n;if(M==null)return null;var P=N.createElement("div",{className:"recharts-legend-wrapper",style:R,ref:d},N.createElement(OY,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),N.createElement(RY,{width:m.width,height:m.height}),N.createElement(TY,q2({},t,T,{margin:r,chartWidth:v,chartHeight:w,contextPayload:e})));return zR.createPortal(P,M)}class Xu extends N.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&lt(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return N.createElement(NY,this.props)}}qw(Xu,"displayName","Legend");qw(Xu,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function G2(){return G2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G2.apply(null,arguments)}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){DY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DY(t,e,n){return(e=MY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t){var e=PY(t,"string");return typeof e=="symbol"?e:e+""}function PY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LY(t){return Array.isArray(t)&&vo(t[0])&&vo(t[1])?t.join(" ~ "):t}var kY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:c,itemSorter:g,wrapperClassName:m,labelClassName:d,label:v,labelFormatter:w,accessibilityLayer:S=!1}=t,T=()=>{if(a&&a.length){var $={padding:0,margin:0},ne=(g?Vm(a,g):a).map((k,V)=>{if(k.type==="none")return null;var j=k.formatter||c||LY,{value:Q,name:Z}=k,X=Q,z=Z;if(j){var ge=j(Q,Z,k,V,a);if(Array.isArray(ge))[X,z]=ge;else if(ge!=null)X=ge;else return null}var se=Cx({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:se},vo(z)?N.createElement("span",{className:"recharts-tooltip-item-name"},z):null,vo(z)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},X),N.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:$},ne)}return null},R=Cx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),M=Cx({margin:0},i),P=!hr(v),U=P?v:"",W=fn("recharts-default-tooltip",m),q=fn("recharts-tooltip-label",d);P&&w&&a!==void 0&&a!==null&&(U=w(v,a));var ee=S?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",G2({className:W,style:R},ee),N.createElement("p",{className:q,style:M},N.isValidElement(U)?U:"".concat(U)),T())},Kh="recharts-tooltip-wrapper",jY={visibility:"hidden"};function BY(t){var{coordinate:e,translateX:n,translateY:r}=t;return fn(Kh,{["".concat(Kh,"-right")]:lt(n)&&e&&lt(e.x)&&n>=e.x,["".concat(Kh,"-left")]:lt(n)&&e&&lt(e.x)&&n<e.x,["".concat(Kh,"-bottom")]:lt(r)&&e&&lt(e.y)&&r>=e.y,["".concat(Kh,"-top")]:lt(r)&&e&&lt(e.y)&&r<e.y})}function W3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:c,tooltipDimension:g,viewBox:m,viewBoxDimension:d}=t;if(a&&lt(a[r]))return a[r];var v=n[r]-g-(i>0?i:0),w=n[r]+i;if(e[r])return c[r]?v:w;var S=m[r];if(S==null)return 0;if(c[r]){var T=v,R=S;return T<R?Math.max(w,S):Math.max(v,S)}if(d==null)return 0;var M=w+g,P=S+d;return M>P?Math.max(v,S):Math.max(w,S)}function UY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function FY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:c,useTranslate3d:g,viewBox:m}=t,d,v,w;return c.height>0&&c.width>0&&n?(v=W3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),w=W3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),d=UY({translateX:v,translateY:w,useTranslate3d:g})):d=jY,{cssProperties:d,cssClasses:BY({translateX:v,translateY:w,coordinate:n})}}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){Y2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y2(t,e,n){return(e=VY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VY(t){var e=zY(t,"string");return typeof e=="symbol"?e:e+""}function zY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HY extends N.PureComponent{constructor(){super(...arguments),Y2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Y2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:c,hasPayload:g,isAnimationActive:m,offset:d,position:v,reverseDirection:w,useTranslate3d:S,viewBox:T,wrapperStyle:R,lastBoundingBox:M,innerRef:P,hasPortalFromProps:U}=this.props,{cssClasses:W,cssProperties:q}=FY({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:d,position:v,reverseDirection:w,tooltipBox:{height:M.height,width:M.width},useTranslate3d:S,viewBox:T}),ee=U?{}:M1(M1({transition:m&&e?"transform ".concat(r,"ms ").concat(i):void 0},q),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&g?"visible":"hidden",position:"absolute",top:0,left:0}),$=M1(M1({},ee),{},{visibility:!this.state.dismissed&&e&&g?"visible":"hidden"},R);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:W,style:$,ref:P},a)}}var qY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Au={devToolsEnabled:!1,isSsr:qY()},S8=()=>rt(t=>t.rootProps.accessibilityLayer);function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W2.apply(null,arguments)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){GY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GY(t,e,n){return(e=YY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=WY(t,"string");return typeof e=="symbol"?e:e+""}function WY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3={curveBasisClosed:Yz,curveBasisOpen:Wz,curveBasis:Gz,curveBumpX:Nz,curveBumpY:Dz,curveLinearClosed:$z,curveLinear:Um,curveMonotoneX:Xz,curveMonotoneY:Kz,curveNatural:Qz,curveStep:Zz,curveStepAfter:eH,curveStepBefore:Jz},P1=t=>Wi(t.x)&&Wi(t.y),Qh=t=>t.x,Zh=t=>t.y,$Y=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Qd(t));return(n==="curveMonotone"||n==="curveBump")&&e?Q3["".concat(n).concat(e==="vertical"?"Y":"X")]:Q3[n]||Um},XY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,c=$Y(e,i),g=a?n.filter(P1):n,m;if(Array.isArray(r)){var d=a?r.filter(w=>P1(w)):r,v=g.map((w,S)=>K3(K3({},w),{},{base:d[S]}));return i==="vertical"?m=C1().y(Zh).x1(Qh).x0(w=>w.base.x):m=C1().x(Qh).y1(Zh).y0(w=>w.base.y),m.defined(P1).curve(c),m(v)}return i==="vertical"&&lt(r)?m=C1().y(Zh).x1(Qh).x0(r):lt(r)?m=C1().x(Qh).y1(Zh).y0(r):m=uM().x(Qh).y(Zh),m.defined(P1).curve(c),m(g)},Gw=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?XY(t):r;return N.createElement("path",W2({},Za(t),Ow(t),{className:fn("recharts-curve",e),d:a===null?void 0:a,ref:i}))},KY=["x","y","top","left","width","height","className"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(null,arguments)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){ZY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZY(t,e,n){return(e=JY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=eW(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tW(t,e){if(t==null)return{};var n,r,i=nW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rW=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),iW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:c=0,className:g}=t,m=tW(t,KY),d=QY({x:e,y:n,top:r,left:i,width:a,height:c},m);return!lt(e)||!lt(n)||!lt(a)||!lt(c)||!lt(r)||!lt(i)?null:N.createElement("path",$2({},na(d),{className:fn("recharts-cross",g),d:rW(e,n,a,c,r,i)}))};function aW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=uW(t,"string");return typeof e=="symbol"?e:e+""}function uW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ni(t,e){var n=sW({},t),r=e,i=Object.keys(e),a=i.reduce((c,g)=>(c[g]===void 0&&r[g]!==void 0&&(c[g]=r[g]),c),n);return a}function cW(){}function fW(t){return t!=null}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){hW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=gW(t,"string");return typeof e=="symbol"?e:e+""}function gW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),_8=(t,e,n)=>t.map(r=>"".concat(mW(r)," ").concat(e,"ms ").concat(n)).join(","),pW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Pd=(t,e)=>Object.keys(e).reduce((n,r)=>tO(tO({},n),{},{[r]:t(r,e[r])}),{});function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){yW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yW(t,e,n){return(e=vW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vW(t){var e=xW(t,"string");return typeof e=="symbol"?e:e+""}function xW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lg=(t,e,n)=>t+(e-t)*n,X2=t=>{var{from:e,to:n}=t;return e!==n},C8=(t,e,n)=>{var r=Pd((i,a)=>{if(X2(a)){var[c,g]=t(a.from,a.to,a.velocity);return Ti(Ti({},a),{},{from:c,velocity:g})}return a},e);return n<1?Pd((i,a)=>X2(a)?Ti(Ti({},a),{},{velocity:Lg(a.velocity,r[i].velocity,n),from:Lg(a.from,r[i].from,n)}):a,e):C8(t,r,n-1)};function bW(t,e,n,r,i,a){var c,g=r.reduce((S,T)=>Ti(Ti({},S),{},{[T]:{from:t[T],velocity:0,to:e[T]}}),{}),m=()=>Pd((S,T)=>T.from,g),d=()=>!Object.values(g).filter(X2).length,v=null,w=S=>{c||(c=S);var T=S-c,R=T/n.dt;g=C8(n,g,R),i(Ti(Ti(Ti({},t),e),m())),c=S,d()||(v=a.setTimeout(w))};return()=>(v=a.setTimeout(w),()=>{v()})}function wW(t,e,n,r,i,a,c){var g=null,m=i.reduce((w,S)=>Ti(Ti({},w),{},{[S]:[t[S],e[S]]}),{}),d,v=w=>{d||(d=w);var S=(w-d)/r,T=Pd((M,P)=>Lg(...P,n(S)),m);if(a(Ti(Ti(Ti({},t),e),T)),S<1)g=c.setTimeout(v);else{var R=Pd((M,P)=>Lg(...P,n(1)),m);a(Ti(Ti(Ti({},t),e),R))}};return()=>(g=c.setTimeout(v),()=>{g()})}const EW=(t,e,n,r,i,a)=>{var c=pW(t,e);return n.isStepper===!0?bW(t,e,n,c,i,a):wW(t,e,n,r,c,i,a)};var kg=1e-4,T8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],I8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),rO=(t,e)=>n=>{var r=T8(t,e);return I8(r,n)},AW=(t,e)=>n=>{var r=T8(t,e),i=[...r.map((a,c)=>a*c).slice(1),0];return I8(i,n)},iO=function(){for(var e,n,r,i,a=arguments.length,c=new Array(a),g=0;g<a;g++)c[g]=arguments[g];if(c.length===1)switch(c[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var m=c[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([e,r,n,i]=m[1].split(")")[0].split(",").map(R=>parseFloat(R)))}}else c.length===4&&([e,r,n,i]=c);var d=rO(e,n),v=rO(r,i),w=AW(e,n),S=R=>R>1?1:R<0?0:R,T=R=>{for(var M=R>1?1:R,P=M,U=0;U<8;++U){var W=d(P)-M,q=w(P);if(Math.abs(W-M)<kg||q<kg)return v(P);P=S(P-W/q)}return v(P)};return T.isStepper=!1,T},SW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(c,g,m)=>{var d=-(c-g)*n,v=m*r,w=m+(d-v)*i/1e3,S=m*i/1e3+c;return Math.abs(S-g)<kg&&Math.abs(w)<kg?[g,0]:[S,w]};return a.isStepper=!0,a.dt=i,a},_W=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iO(t);case"spring":return SW();default:if(t.split("(")[0]==="cubic-bezier")return iO(t)}return typeof t=="function"?t:null};function CW(t){var e,n=()=>null,r=!1,i=null,a=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var g=c,[m,...d]=g;if(typeof m=="number"){i=t.setTimeout(a.bind(null,d),m);return}a(m),i=t.setTimeout(a.bind(null,d));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),a(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class TW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function IW(){return CW(new TW)}var OW=N.createContext(IW);function RW(t,e){var n=N.useContext(OW);return N.useMemo(()=>e??n(t),[t,e,n])}var NW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aO={t:0},Tx={t:1};function n0(t){var e=Ni(t,NW),{isActive:n,canBegin:r,duration:i,easing:a,begin:c,onAnimationEnd:g,onAnimationStart:m,children:d}=e,v=RW(e.animationId,e.animationManager),[w,S]=N.useState(n?aO:Tx),T=N.useRef(null);return N.useEffect(()=>{n||S(Tx)},[n]),N.useEffect(()=>{if(!n||!r)return cW;var R=EW(aO,Tx,_W(a),i,S,v.getTimeoutController()),M=()=>{T.current=R()};return v.start([m,c,M,i,g]),()=>{v.stop(),T.current&&T.current(),g()}},[n,r,i,a,c,m,g,v]),d(w.t)}function r0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Rd(e)),r=N.useRef(t);return r.current!==t&&(n.current=Rd(e),r.current=t),n.current}var DW=["radius"],MW=["radius"];function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=LW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LW(t){var e=kW(t,"string");return typeof e=="symbol"?e:e+""}function kW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(null,arguments)}function lO(t,e){if(t==null)return{};var n,r,i=jW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uO=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,g=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var v=[0,0,0,0],w=0,S=4;w<S;w++)v[w]=i[w]>a?a:i[w];d="M".concat(t,",").concat(e+c*v[0]),v[0]>0&&(d+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(m,",").concat(t+g*v[0],",").concat(e)),d+="L ".concat(t+n-g*v[1],",").concat(e),v[1]>0&&(d+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(m,`,
        `).concat(t+n,",").concat(e+c*v[1])),d+="L ".concat(t+n,",").concat(e+r-c*v[2]),v[2]>0&&(d+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(m,`,
        `).concat(t+n-g*v[2],",").concat(e+r)),d+="L ".concat(t+g*v[3],",").concat(e+r),v[3]>0&&(d+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(m,`,
        `).concat(t,",").concat(e+r-c*v[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var T=Math.min(a,i);d="M ".concat(t,",").concat(e+c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t+g*T,",").concat(e,`
            L `).concat(t+n-g*T,",").concat(e,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t+n,",").concat(e+c*T,`
            L `).concat(t+n,",").concat(e+r-c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t+n-g*T,",").concat(e+r,`
            L `).concat(t+g*T,",").concat(e+r,`
            A `).concat(T,",").concat(T,",0,0,").concat(m,",").concat(t,",").concat(e+r-c*T," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},BW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O8=t=>{var e=Ni(t,BW),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ue=n.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:a,y:c,width:g,height:m,radius:d,className:v}=e,{animationEasing:w,animationDuration:S,animationBegin:T,isAnimationActive:R,isUpdateAnimationActive:M}=e,P=N.useRef(g),U=N.useRef(m),W=N.useRef(a),q=N.useRef(c),ee=N.useMemo(()=>({x:a,y:c,width:g,height:m,radius:d}),[a,c,g,m,d]),$=r0(ee,"rectangle-");if(a!==+a||c!==+c||g!==+g||m!==+m||g===0||m===0)return null;var ne=fn("recharts-rectangle",v);if(!M){var k=na(e),{radius:V}=k,j=lO(k,DW);return N.createElement("path",jg({},j,{radius:typeof d=="number"?d:void 0,className:ne,d:uO(a,c,g,m,d)}))}var Q=P.current,Z=U.current,X=W.current,z=q.current,ge="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),le=_8(["strokeDasharray"],S,typeof w=="string"?w:void 0);return N.createElement(n0,{animationId:$,key:$,canBegin:r>0,duration:S,easing:w,isActive:M,begin:T},ue=>{var Ie=Cr(Q,g,ue),Fe=Cr(Z,m,ue),ae=Cr(X,a,ue),be=Cr(z,c,ue);n.current&&(P.current=Ie,U.current=Fe,W.current=ae,q.current=be);var Te;R?ue>0?Te={transition:le,strokeDasharray:se}:Te={strokeDasharray:ge}:Te={strokeDasharray:se};var ke=na(e),{radius:$e}=ke,at=lO(ke,MW);return N.createElement("path",jg({},at,{radius:typeof d=="number"?d:void 0,className:ne,d:uO(ae,be,Ie,Fe,d),ref:n,style:oO(oO({},Te),e.style)}))})};function R8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,c=Gr(e,n,r,i),g=Gr(e,n,r,a);return{points:[c,g],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K2.apply(null,arguments)}var UW=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},L1=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:c,cornerRadius:g,cornerIsExternal:m}=t,d=g*(c?1:-1)+r,v=Math.asin(g/d)/Mg,w=m?i:i+a*v,S=Gr(e,n,d,w),T=Gr(e,n,r,w),R=m?i-a*v:i,M=Gr(e,n,d*Math.cos(v*Mg),R);return{center:S,circleTangency:T,lineTangency:M,theta:v}},N8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:c}=t,g=UW(a,c),m=a+g,d=Gr(e,n,i,a),v=Gr(e,n,i,m),w="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(g)>180),",").concat(+(a>m),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(r>0){var S=Gr(e,n,r,a),T=Gr(e,n,r,m);w+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(g)>180),",").concat(+(a<=m),`,
            `).concat(S.x,",").concat(S.y," Z")}else w+="L ".concat(e,",").concat(n," Z");return w},FW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:c,cornerIsExternal:g,startAngle:m,endAngle:d}=t,v=fi(d-m),{circleTangency:w,lineTangency:S,theta:T}=L1({cx:e,cy:n,radius:i,angle:m,sign:v,cornerRadius:a,cornerIsExternal:g}),{circleTangency:R,lineTangency:M,theta:P}=L1({cx:e,cy:n,radius:i,angle:d,sign:-v,cornerRadius:a,cornerIsExternal:g}),U=g?Math.abs(m-d):Math.abs(m-d)-T-P;if(U<0)return c?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):N8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:m,endAngle:d});var W="M ".concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(v<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(M.x,",").concat(M.y,`
  `);if(r>0){var{circleTangency:q,lineTangency:ee,theta:$}=L1({cx:e,cy:n,radius:r,angle:m,sign:v,isExternal:!0,cornerRadius:a,cornerIsExternal:g}),{circleTangency:ne,lineTangency:k,theta:V}=L1({cx:e,cy:n,radius:r,angle:d,sign:-v,isExternal:!0,cornerRadius:a,cornerIsExternal:g}),j=g?Math.abs(m-d):Math.abs(m-d)-$-V;if(j<0&&a===0)return"".concat(W,"L").concat(e,",").concat(n,"Z");W+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(ne.x,",").concat(ne.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(v>0),",").concat(q.x,",").concat(q.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(ee.x,",").concat(ee.y,"Z")}else W+="L".concat(e,",").concat(n,"Z");return W},VW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},D8=t=>{var e=Ni(t,VW),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:c,forceCornerRadius:g,cornerIsExternal:m,startAngle:d,endAngle:v,className:w}=e;if(a<i||d===v)return null;var S=fn("recharts-sector",w),T=a-i,R=Yi(c,T,0,!0),M;return R>0&&Math.abs(d-v)<360?M=FW({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(R,T/2),forceCornerRadius:g,cornerIsExternal:m,startAngle:d,endAngle:v}):M=N8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:v}),N.createElement("path",K2({},na(e),{className:S,d:M}))};function zW(t,e,n){var r,i,a,c;if(t==="horizontal")r=e.x,a=r,i=n.top,c=n.top+n.height;else if(t==="vertical")i=e.y,c=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:g,cy:m,innerRadius:d,outerRadius:v,angle:w}=e,S=Gr(g,m,d,w),T=Gr(g,m,v,w);r=S.x,i=S.y,a=T.x,c=T.y}else return R8(e);return[{x:r,y:i},{x:a,y:c}]}var Ix={},Ox={},Rx={},cO;function HW(){return cO||(cO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(Rx)),Rx}var fO;function qW(){return fO||(fO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HW();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(Ox)),Ox}var hO;function GW(){return hO||(hO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LM(),n=qW();function r(i,a,c){c&&typeof c!="number"&&e.isIterateeCall(i,a,c)&&(a=c=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),c=c===void 0?i<a?1:-1:n.toFinite(c);const g=Math.max(Math.ceil((a-i)/(c||1)),0),m=new Array(g);for(let d=0;d<g;d++)m[d]=i,i+=c;return m}t.range=r}(Ix)),Ix}var Nx,dO;function YW(){return dO||(dO=1,Nx=GW().range),Nx}var WW=YW();const M8=bo(WW);function iu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $W(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yw(t){let e,n,r;t.length!==2?(e=iu,n=(g,m)=>iu(t(g),m),r=(g,m)=>t(g)-m):(e=t===iu||t===$W?t:XW,n=t,r=t);function i(g,m,d=0,v=g.length){if(d<v){if(e(m,m)!==0)return v;do{const w=d+v>>>1;n(g[w],m)<0?d=w+1:v=w}while(d<v)}return d}function a(g,m,d=0,v=g.length){if(d<v){if(e(m,m)!==0)return v;do{const w=d+v>>>1;n(g[w],m)<=0?d=w+1:v=w}while(d<v)}return d}function c(g,m,d=0,v=g.length){const w=i(g,m,d,v-1);return w>d&&r(g[w-1],m)>-r(g[w],m)?w-1:w}return{left:i,center:c,right:a}}function XW(){return 0}function P8(t){return t===null?NaN:+t}function*KW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const QW=Yw(iu),i0=QW.right;Yw(P8).center;class gO extends Map{constructor(e,n=e$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mO(this,e))}has(e){return super.has(mO(this,e))}set(e,n){return super.set(ZW(this,e),n)}delete(e){return super.delete(JW(this,e))}}function mO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ZW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function JW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function e$(t){return t!==null&&typeof t=="object"?t.valueOf():t}function t$(t=iu){if(t===iu)return L8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function L8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const n$=Math.sqrt(50),r$=Math.sqrt(10),i$=Math.sqrt(2);function Bg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),c=a>=n$?10:a>=r$?5:a>=i$?2:1;let g,m,d;return i<0?(d=Math.pow(10,-i)/c,g=Math.round(t*d),m=Math.round(e*d),g/d<t&&++g,m/d>e&&--m,d=-d):(d=Math.pow(10,i)*c,g=Math.round(t/d),m=Math.round(e/d),g*d<t&&++g,m*d>e&&--m),m<g&&.5<=n&&n<2?Bg(t,e,n*2):[g,m,d]}function Q2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,c]=r?Bg(e,t,n):Bg(t,e,n);if(!(a>=i))return[];const g=a-i+1,m=new Array(g);if(r)if(c<0)for(let d=0;d<g;++d)m[d]=(a-d)/-c;else for(let d=0;d<g;++d)m[d]=(a-d)*c;else if(c<0)for(let d=0;d<g;++d)m[d]=(i+d)/-c;else for(let d=0;d<g;++d)m[d]=(i+d)*c;return m}function Z2(t,e,n){return e=+e,t=+t,n=+n,Bg(t,e,n)[2]}function J2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Z2(e,t,n):Z2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?L8:t$(i);r>n;){if(r-n>600){const m=r-n+1,d=e-n+1,v=Math.log(m),w=.5*Math.exp(2*v/3),S=.5*Math.sqrt(v*w*(m-w)/m)*(d-m/2<0?-1:1),T=Math.max(n,Math.floor(e-d*w/m+S)),R=Math.min(r,Math.floor(e+(m-d)*w/m+S));k8(t,e,T,R,i)}const a=t[e];let c=n,g=r;for(Jh(t,n,e),i(t[r],a)>0&&Jh(t,n,r);c<g;){for(Jh(t,c,g),++c,--g;i(t[c],a)<0;)++c;for(;i(t[g],a)>0;)--g}i(t[n],a)===0?Jh(t,n,g):(++g,Jh(t,g,r)),g<=e&&(n=g+1),e<=g&&(r=g-1)}return t}function Jh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function a$(t,e,n){if(t=Float64Array.from(KW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yO(t);if(e>=1)return pO(t);var r,i=(r-1)*e,a=Math.floor(i),c=pO(k8(t,a).subarray(0,a+1)),g=yO(t.subarray(a+1));return c+(g-c)*(i-a)}}function s$(t,e,n=P8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),c=+n(t[a],a,t),g=+n(t[a+1],a+1,t);return c+(g-c)*(i-a)}}function o$(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Os(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function hl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eb=Symbol("implicit");function Ww(){var t=new gO,e=[],n=[],r=eb;function i(a){let c=t.get(a);if(c===void 0){if(r!==eb)return r;t.set(a,c=e.push(a)-1)}return n[c%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new gO;for(const c of a)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ww(e,n).unknown(r)},Os.apply(i,arguments),i}function $w(){var t=Ww().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,c,g=!1,m=0,d=0,v=.5;delete t.unknown;function w(){var S=e().length,T=i<r,R=T?i:r,M=T?r:i;a=(M-R)/Math.max(1,S-m+d*2),g&&(a=Math.floor(a)),R+=(M-R-a*(S-m))*v,c=a*(1-m),g&&(R=Math.round(R),c=Math.round(c));var P=o$(S).map(function(U){return R+a*U});return n(T?P.reverse():P)}return t.domain=function(S){return arguments.length?(e(S),w()):e()},t.range=function(S){return arguments.length?([r,i]=S,r=+r,i=+i,w()):[r,i]},t.rangeRound=function(S){return[r,i]=S,r=+r,i=+i,g=!0,w()},t.bandwidth=function(){return c},t.step=function(){return a},t.round=function(S){return arguments.length?(g=!!S,w()):g},t.padding=function(S){return arguments.length?(m=Math.min(1,d=+S),w()):m},t.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),w()):m},t.paddingOuter=function(S){return arguments.length?(d=+S,w()):d},t.align=function(S){return arguments.length?(v=Math.max(0,Math.min(1,S)),w()):v},t.copy=function(){return $w(e(),[r,i]).round(g).paddingInner(m).paddingOuter(d).align(v)},Os.apply(w(),arguments)}function j8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return j8(e())},t}function l$(){return j8($w.apply(null,arguments).paddingInner(1))}function Xw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function B8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function a0(){}var Ld=.7,Ug=1/Ld,Sf="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u$=/^#([0-9a-f]{3,8})$/,c$=new RegExp(`^rgb\\(${Sf},${Sf},${Sf}\\)$`),f$=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),h$=new RegExp(`^rgba\\(${Sf},${Sf},${Sf},${kd}\\)$`),d$=new RegExp(`^rgba\\(${mo},${mo},${mo},${kd}\\)$`),g$=new RegExp(`^hsl\\(${kd},${mo},${mo}\\)$`),m$=new RegExp(`^hsla\\(${kd},${mo},${mo},${kd}\\)$`),vO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xw(a0,jd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xO,formatHex:xO,formatHex8:p$,formatHsl:y$,formatRgb:bO,toString:bO});function xO(){return this.rgb().formatHex()}function p$(){return this.rgb().formatHex8()}function y$(){return U8(this).formatHsl()}function bO(){return this.rgb().formatRgb()}function jd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=u$.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wO(e):n===3?new xa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?k1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?k1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=c$.exec(t))?new xa(e[1],e[2],e[3],1):(e=f$.exec(t))?new xa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=h$.exec(t))?k1(e[1],e[2],e[3],e[4]):(e=d$.exec(t))?k1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=g$.exec(t))?SO(e[1],e[2]/100,e[3]/100,1):(e=m$.exec(t))?SO(e[1],e[2]/100,e[3]/100,e[4]):vO.hasOwnProperty(t)?wO(vO[t]):t==="transparent"?new xa(NaN,NaN,NaN,0):null}function wO(t){return new xa(t>>16&255,t>>8&255,t&255,1)}function k1(t,e,n,r){return r<=0&&(t=e=n=NaN),new xa(t,e,n,r)}function v$(t){return t instanceof a0||(t=jd(t)),t?(t=t.rgb(),new xa(t.r,t.g,t.b,t.opacity)):new xa}function tb(t,e,n,r){return arguments.length===1?v$(t):new xa(t,e,n,r??1)}function xa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Xw(xa,tb,B8(a0,{brighter(t){return t=t==null?Ug:Math.pow(Ug,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xa(rc(this.r),rc(this.g),rc(this.b),Fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EO,formatHex:EO,formatHex8:x$,formatRgb:AO,toString:AO}));function EO(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}`}function x$(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}${Ku((isNaN(this.opacity)?1:this.opacity)*255)}`}function AO(){const t=Fg(this.opacity);return`${t===1?"rgb(":"rgba("}${rc(this.r)}, ${rc(this.g)}, ${rc(this.b)}${t===1?")":`, ${t})`}`}function Fg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ku(t){return t=rc(t),(t<16?"0":"")+t.toString(16)}function SO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vs(t,e,n,r)}function U8(t){if(t instanceof Vs)return new Vs(t.h,t.s,t.l,t.opacity);if(t instanceof a0||(t=jd(t)),!t)return new Vs;if(t instanceof Vs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),c=NaN,g=a-i,m=(a+i)/2;return g?(e===a?c=(n-r)/g+(n<r)*6:n===a?c=(r-e)/g+2:c=(e-n)/g+4,g/=m<.5?a+i:2-a-i,c*=60):g=m>0&&m<1?0:c,new Vs(c,g,m,t.opacity)}function b$(t,e,n,r){return arguments.length===1?U8(t):new Vs(t,e,n,r??1)}function Vs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Xw(Vs,b$,B8(a0,{brighter(t){return t=t==null?Ug:Math.pow(Ug,t),new Vs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new Vs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xa(Dx(t>=240?t-240:t+120,i,r),Dx(t,i,r),Dx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vs(_O(this.h),j1(this.s),j1(this.l),Fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fg(this.opacity);return`${t===1?"hsl(":"hsla("}${_O(this.h)}, ${j1(this.s)*100}%, ${j1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _O(t){return t=(t||0)%360,t<0?t+360:t}function j1(t){return Math.max(0,Math.min(1,t||0))}function Dx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Kw=t=>()=>t;function w$(t,e){return function(n){return t+n*e}}function E$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function A$(t){return(t=+t)==1?F8:function(e,n){return n-e?E$(e,n,t):Kw(isNaN(e)?n:e)}}function F8(t,e){var n=e-t;return n?w$(t,n):Kw(isNaN(t)?e:t)}const CO=function t(e){var n=A$(e);function r(i,a){var c=n((i=tb(i)).r,(a=tb(a)).r),g=n(i.g,a.g),m=n(i.b,a.b),d=F8(i.opacity,a.opacity);return function(v){return i.r=c(v),i.g=g(v),i.b=m(v),i.opacity=d(v),i+""}}return r.gamma=t,r}(1);function S$(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function _$(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C$(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),c;for(c=0;c<r;++c)i[c]=Qf(t[c],e[c]);for(;c<n;++c)a[c]=e[c];return function(g){for(c=0;c<r;++c)a[c]=i[c](g);return a}}function T$(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function I$(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var nb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mx=new RegExp(nb.source,"g");function O$(t){return function(){return t}}function R$(t){return function(e){return t(e)+""}}function N$(t,e){var n=nb.lastIndex=Mx.lastIndex=0,r,i,a,c=-1,g=[],m=[];for(t=t+"",e=e+"";(r=nb.exec(t))&&(i=Mx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),g[c]?g[c]+=a:g[++c]=a),(r=r[0])===(i=i[0])?g[c]?g[c]+=i:g[++c]=i:(g[++c]=null,m.push({i:c,x:Vg(r,i)})),n=Mx.lastIndex;return n<e.length&&(a=e.slice(n),g[c]?g[c]+=a:g[++c]=a),g.length<2?m[0]?R$(m[0].x):O$(e):(e=m.length,function(d){for(var v=0,w;v<e;++v)g[(w=m[v]).i]=w.x(d);return g.join("")})}function Qf(t,e){var n=typeof e,r;return e==null||n==="boolean"?Kw(e):(n==="number"?Vg:n==="string"?(r=jd(e))?(e=r,CO):N$:e instanceof jd?CO:e instanceof Date?T$:_$(e)?S$:Array.isArray(e)?C$:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?I$:Vg)(t,e)}function Qw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function D$(t,e){e===void 0&&(e=t,t=Qf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(c){var g=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return a[g](c-g)}}function M$(t){return function(){return t}}function zg(t){return+t}var TO=[0,1];function ta(t){return t}function rb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:M$(isNaN(e)?NaN:.5)}function P$(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function L$(t,e,n){var r=t[0],i=t[1],a=e[0],c=e[1];return i<r?(r=rb(i,r),a=n(c,a)):(r=rb(r,i),a=n(a,c)),function(g){return a(r(g))}}function k$(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=rb(t[c],t[c+1]),a[c]=n(e[c],e[c+1]);return function(g){var m=i0(t,g,1,r)-1;return a[m](i[m](g))}}function s0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ep(){var t=TO,e=TO,n=Qf,r,i,a,c=ta,g,m,d;function v(){var S=Math.min(t.length,e.length);return c!==ta&&(c=P$(t[0],t[S-1])),g=S>2?k$:L$,m=d=null,w}function w(S){return S==null||isNaN(S=+S)?a:(m||(m=g(t.map(r),e,n)))(r(c(S)))}return w.invert=function(S){return c(i((d||(d=g(e,t.map(r),Vg)))(S)))},w.domain=function(S){return arguments.length?(t=Array.from(S,zg),v()):t.slice()},w.range=function(S){return arguments.length?(e=Array.from(S),v()):e.slice()},w.rangeRound=function(S){return e=Array.from(S),n=Qw,v()},w.clamp=function(S){return arguments.length?(c=S?!0:ta,v()):c!==ta},w.interpolate=function(S){return arguments.length?(n=S,v()):n},w.unknown=function(S){return arguments.length?(a=S,w):a},function(S,T){return r=S,i=T,v()}}function Zw(){return ep()(ta,ta)}function j$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bf(t){return t=Hg(Math.abs(t)),t?t[1]:NaN}function B$(t,e){return function(n,r){for(var i=n.length,a=[],c=0,g=t[0],m=0;i>0&&g>0&&(m+g+1>r&&(g=Math.max(1,r-m)),a.push(n.substring(i-=g,i+g)),!((m+=g+1)>r));)g=t[c=(c+1)%t.length];return a.reverse().join(e)}}function U$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bd(t){if(!(e=F$.exec(t)))throw new Error("invalid format: "+t);var e;return new Jw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bd.prototype=Jw.prototype;function Jw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Jw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var V8;function z$(t,e){var n=Hg(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(V8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return a===c?r:a>c?r+new Array(a-c+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Hg(t,Math.max(0,e+a-1))[0]}function IO(t,e){var n=Hg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:j$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IO(t*100,e),r:IO,s:z$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function RO(t){return t}var NO=Array.prototype.map,DO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function H$(t){var e=t.grouping===void 0||t.thousands===void 0?RO:B$(NO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?RO:U$(NO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",g=t.minus===void 0?"−":t.minus+"",m=t.nan===void 0?"NaN":t.nan+"";function d(w){w=Bd(w);var S=w.fill,T=w.align,R=w.sign,M=w.symbol,P=w.zero,U=w.width,W=w.comma,q=w.precision,ee=w.trim,$=w.type;$==="n"?(W=!0,$="g"):OO[$]||(q===void 0&&(q=12),ee=!0,$="g"),(P||S==="0"&&T==="=")&&(P=!0,S="0",T="=");var ne=M==="$"?n:M==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",k=M==="$"?r:/[%p]/.test($)?c:"",V=OO[$],j=/[defgprs%]/.test($);q=q===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function Q(Z){var X=ne,z=k,ge,se,le;if($==="c")z=V(Z)+z,Z="";else{Z=+Z;var ue=Z<0||1/Z<0;if(Z=isNaN(Z)?m:V(Math.abs(Z),q),ee&&(Z=V$(Z)),ue&&+Z==0&&R!=="+"&&(ue=!1),X=(ue?R==="("?R:g:R==="-"||R==="("?"":R)+X,z=($==="s"?DO[8+V8/3]:"")+z+(ue&&R==="("?")":""),j){for(ge=-1,se=Z.length;++ge<se;)if(le=Z.charCodeAt(ge),48>le||le>57){z=(le===46?i+Z.slice(ge+1):Z.slice(ge))+z,Z=Z.slice(0,ge);break}}}W&&!P&&(Z=e(Z,1/0));var Ie=X.length+Z.length+z.length,Fe=Ie<U?new Array(U-Ie+1).join(S):"";switch(W&&P&&(Z=e(Fe+Z,Fe.length?U-z.length:1/0),Fe=""),T){case"<":Z=X+Z+z+Fe;break;case"=":Z=X+Fe+Z+z;break;case"^":Z=Fe.slice(0,Ie=Fe.length>>1)+X+Z+z+Fe.slice(Ie);break;default:Z=Fe+X+Z+z;break}return a(Z)}return Q.toString=function(){return w+""},Q}function v(w,S){var T=d((w=Bd(w),w.type="f",w)),R=Math.max(-8,Math.min(8,Math.floor(Bf(S)/3)))*3,M=Math.pow(10,-R),P=DO[8+R/3];return function(U){return T(M*U)+P}}return{format:d,formatPrefix:v}}var B1,eE,z8;q$({thousands:",",grouping:[3],currency:["$",""]});function q$(t){return B1=H$(t),eE=B1.format,z8=B1.formatPrefix,B1}function G$(t){return Math.max(0,-Bf(Math.abs(t)))}function Y$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bf(e)/3)))*3-Bf(Math.abs(t)))}function W$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bf(e)-Bf(t))+1}function H8(t,e,n,r){var i=J2(t,e,n),a;switch(r=Bd(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Y$(i,c))&&(r.precision=a),z8(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=W$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=G$(i))&&(r.precision=a-(r.type==="%")*2);break}}return eE(r)}function Su(t){var e=t.domain;return t.ticks=function(n){var r=e();return Q2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return H8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,c=r[i],g=r[a],m,d,v=10;for(g<c&&(d=c,c=g,g=d,d=i,i=a,a=d);v-- >0;){if(d=Z2(c,g,n),d===m)return r[i]=c,r[a]=g,e(r);if(d>0)c=Math.floor(c/d)*d,g=Math.ceil(g/d)*d;else if(d<0)c=Math.ceil(c*d)/d,g=Math.floor(g*d)/d;else break;m=d}return t},t}function q8(){var t=Zw();return t.copy=function(){return s0(t,q8())},Os.apply(t,arguments),Su(t)}function G8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return G8(t).unknown(e)},t=arguments.length?Array.from(t,zg):[0,1],Su(n)}function Y8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],c;return a<i&&(c=n,n=r,r=c,c=i,i=a,a=c),t[n]=e.floor(i),t[r]=e.ceil(a),t}function MO(t){return Math.log(t)}function PO(t){return Math.exp(t)}function $$(t){return-Math.log(-t)}function X$(t){return-Math.exp(-t)}function K$(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Q$(t){return t===10?K$:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Z$(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LO(t){return(e,n)=>-t(-e,n)}function tE(t){const e=t(MO,PO),n=e.domain;let r=10,i,a;function c(){return i=Z$(r),a=Q$(r),n()[0]<0?(i=LO(i),a=LO(a),t($$,X$)):t(MO,PO),e}return e.base=function(g){return arguments.length?(r=+g,c()):r},e.domain=function(g){return arguments.length?(n(g),c()):n()},e.ticks=g=>{const m=n();let d=m[0],v=m[m.length-1];const w=v<d;w&&([d,v]=[v,d]);let S=i(d),T=i(v),R,M;const P=g==null?10:+g;let U=[];if(!(r%1)&&T-S<P){if(S=Math.floor(S),T=Math.ceil(T),d>0){for(;S<=T;++S)for(R=1;R<r;++R)if(M=S<0?R/a(-S):R*a(S),!(M<d)){if(M>v)break;U.push(M)}}else for(;S<=T;++S)for(R=r-1;R>=1;--R)if(M=S>0?R/a(-S):R*a(S),!(M<d)){if(M>v)break;U.push(M)}U.length*2<P&&(U=Q2(d,v,P))}else U=Q2(S,T,Math.min(T-S,P)).map(a);return w?U.reverse():U},e.tickFormat=(g,m)=>{if(g==null&&(g=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Bd(m)).precision==null&&(m.trim=!0),m=eE(m)),g===1/0)return m;const d=Math.max(1,r*g/e.ticks().length);return v=>{let w=v/a(Math.round(i(v)));return w*r<r-.5&&(w*=r),w<=d?m(v):""}},e.nice=()=>n(Y8(n(),{floor:g=>a(Math.floor(i(g))),ceil:g=>a(Math.ceil(i(g)))})),e}function W8(){const t=tE(ep()).domain([1,10]);return t.copy=()=>s0(t,W8()).base(t.base()),Os.apply(t,arguments),t}function kO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nE(t){var e=1,n=t(kO(e),jO(e));return n.constant=function(r){return arguments.length?t(kO(e=+r),jO(e)):e},Su(n)}function $8(){var t=nE(ep());return t.copy=function(){return s0(t,$8()).constant(t.constant())},Os.apply(t,arguments)}function BO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function J$(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eX(t){return t<0?-t*t:t*t}function rE(t){var e=t(ta,ta),n=1;function r(){return n===1?t(ta,ta):n===.5?t(J$,eX):t(BO(n),BO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Su(e)}function iE(){var t=rE(ep());return t.copy=function(){return s0(t,iE()).exponent(t.exponent())},Os.apply(t,arguments),t}function tX(){return iE.apply(null,arguments).exponent(.5)}function UO(t){return Math.sign(t)*t*t}function nX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function X8(){var t=Zw(),e=[0,1],n=!1,r;function i(a){var c=nX(t(a));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(a){return t.invert(UO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,zg)).map(UO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return X8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Os.apply(i,arguments),Su(i)}function K8(){var t=[],e=[],n=[],r;function i(){var c=0,g=Math.max(1,e.length);for(n=new Array(g-1);++c<g;)n[c-1]=s$(t,c/g);return a}function a(c){return c==null||isNaN(c=+c)?r:e[i0(n,c)]}return a.invertExtent=function(c){var g=e.indexOf(c);return g<0?[NaN,NaN]:[g>0?n[g-1]:t[0],g<n.length?n[g]:t[t.length-1]]},a.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let g of c)g!=null&&!isNaN(g=+g)&&t.push(g);return t.sort(iu),i()},a.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},a.unknown=function(c){return arguments.length?(r=c,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return K8().domain(t).range(e).unknown(r)},Os.apply(a,arguments)}function Q8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function c(m){return m!=null&&m<=m?i[i0(r,m,0,n)]:a}function g(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*e-(m-n)*t)/(n+1);return c}return c.domain=function(m){return arguments.length?([t,e]=m,t=+t,e=+e,g()):[t,e]},c.range=function(m){return arguments.length?(n=(i=Array.from(m)).length-1,g()):i.slice()},c.invertExtent=function(m){var d=i.indexOf(m);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},c.unknown=function(m){return arguments.length&&(a=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return Q8().domain([t,e]).range(i).unknown(a)},Os.apply(Su(c),arguments)}function Z8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[i0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var c=e.indexOf(a);return[t[c-1],t[c]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Z8().domain(t).range(e).unknown(n)},Os.apply(i,arguments)}const Px=new Date,Lx=new Date;function ti(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const c=i(a),g=i.ceil(a);return a-c<g-a?c:g},i.offset=(a,c)=>(e(a=new Date(+a),c==null?1:Math.floor(c)),a),i.range=(a,c,g)=>{const m=[];if(a=i.ceil(a),g=g==null?1:Math.floor(g),!(a<c)||!(g>0))return m;let d;do m.push(d=new Date(+a)),e(a,g),t(a);while(d<a&&a<c);return m},i.filter=a=>ti(c=>{if(c>=c)for(;t(c),!a(c);)c.setTime(c-1)},(c,g)=>{if(c>=c)if(g<0)for(;++g<=0;)for(;e(c,-1),!a(c););else for(;--g>=0;)for(;e(c,1),!a(c););}),n&&(i.count=(a,c)=>(Px.setTime(+a),Lx.setTime(+c),t(Px),t(Lx),Math.floor(n(Px,Lx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?c=>r(c)%a===0:c=>i.count(0,c)%a===0):i)),i}const qg=ti(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ti(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qg);qg.range;const Wo=1e3,As=Wo*60,$o=As*60,sl=$o*24,aE=sl*7,FO=sl*30,kx=sl*365,Qu=ti(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Wo)},(t,e)=>(e-t)/Wo,t=>t.getUTCSeconds());Qu.range;const sE=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wo)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getMinutes());sE.range;const oE=ti(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCMinutes());oE.range;const lE=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wo-t.getMinutes()*As)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getHours());lE.range;const uE=ti(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCHours());uE.range;const o0=ti(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*As)/sl,t=>t.getDate()-1);o0.range;const tp=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sl,t=>t.getUTCDate()-1);tp.range;const J8=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sl,t=>Math.floor(t/sl));J8.range;function Ec(t){return ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*As)/aE)}const np=Ec(0),Gg=Ec(1),rX=Ec(2),iX=Ec(3),Uf=Ec(4),aX=Ec(5),sX=Ec(6);np.range;Gg.range;rX.range;iX.range;Uf.range;aX.range;sX.range;function Ac(t){return ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/aE)}const rp=Ac(0),Yg=Ac(1),oX=Ac(2),lX=Ac(3),Ff=Ac(4),uX=Ac(5),cX=Ac(6);rp.range;Yg.range;oX.range;lX.range;Ff.range;uX.range;cX.range;const cE=ti(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cE.range;const fE=ti(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fE.range;const ol=ti(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ol.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ol.range;const ll=ti(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ll.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ll.range;function e6(t,e,n,r,i,a){const c=[[Qu,1,Wo],[Qu,5,5*Wo],[Qu,15,15*Wo],[Qu,30,30*Wo],[a,1,As],[a,5,5*As],[a,15,15*As],[a,30,30*As],[i,1,$o],[i,3,3*$o],[i,6,6*$o],[i,12,12*$o],[r,1,sl],[r,2,2*sl],[n,1,aE],[e,1,FO],[e,3,3*FO],[t,1,kx]];function g(d,v,w){const S=v<d;S&&([d,v]=[v,d]);const T=w&&typeof w.range=="function"?w:m(d,v,w),R=T?T.range(d,+v+1):[];return S?R.reverse():R}function m(d,v,w){const S=Math.abs(v-d)/w,T=Yw(([,,P])=>P).right(c,S);if(T===c.length)return t.every(J2(d/kx,v/kx,w));if(T===0)return qg.every(Math.max(J2(d,v,w),1));const[R,M]=c[S/c[T-1][2]<c[T][2]/S?T-1:T];return R.every(M)}return[g,m]}const[fX,hX]=e6(ll,fE,rp,J8,uE,oE),[dX,gX]=e6(ol,cE,np,o0,lE,sE);function jx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ed(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function mX(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,c=t.shortDays,g=t.months,m=t.shortMonths,d=td(i),v=nd(i),w=td(a),S=nd(a),T=td(c),R=nd(c),M=td(g),P=nd(g),U=td(m),W=nd(m),q={a:ue,A:Ie,b:Fe,B:ae,c:null,d:YO,e:YO,f:BX,g:$X,G:KX,H:LX,I:kX,j:jX,L:t6,m:UX,M:FX,p:be,q:Te,Q:XO,s:KO,S:VX,u:zX,U:HX,V:qX,w:GX,W:YX,x:null,X:null,y:WX,Y:XX,Z:QX,"%":$O},ee={a:ke,A:$e,b:at,B:je,c:null,d:WO,e:WO,f:tK,g:fK,G:dK,H:ZX,I:JX,j:eK,L:r6,m:nK,M:rK,p:In,q:vt,Q:XO,s:KO,S:iK,u:aK,U:sK,V:oK,w:lK,W:uK,x:null,X:null,y:cK,Y:hK,Z:gK,"%":$O},$={a:Q,A:Z,b:X,B:z,c:ge,d:qO,e:qO,f:NX,g:HO,G:zO,H:GO,I:GO,j:TX,L:RX,m:CX,M:IX,p:j,q:_X,Q:MX,s:PX,S:OX,u:bX,U:wX,V:EX,w:xX,W:AX,x:se,X:le,y:HO,Y:zO,Z:SX,"%":DX};q.x=ne(n,q),q.X=ne(r,q),q.c=ne(e,q),ee.x=ne(n,ee),ee.X=ne(r,ee),ee.c=ne(e,ee);function ne(Re,gt){return function(it){var Be=[],ht=-1,Nt=0,Qt=Re.length,Dt,_t,Zt;for(it instanceof Date||(it=new Date(+it));++ht<Qt;)Re.charCodeAt(ht)===37&&(Be.push(Re.slice(Nt,ht)),(_t=VO[Dt=Re.charAt(++ht)])!=null?Dt=Re.charAt(++ht):_t=Dt==="e"?" ":"0",(Zt=gt[Dt])&&(Dt=Zt(it,_t)),Be.push(Dt),Nt=ht+1);return Be.push(Re.slice(Nt,ht)),Be.join("")}}function k(Re,gt){return function(it){var Be=ed(1900,void 0,1),ht=V(Be,Re,it+="",0),Nt,Qt;if(ht!=it.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(gt&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?(Nt=Bx(ed(Be.y,0,1)),Qt=Nt.getUTCDay(),Nt=Qt>4||Qt===0?Yg.ceil(Nt):Yg(Nt),Nt=tp.offset(Nt,(Be.V-1)*7),Be.y=Nt.getUTCFullYear(),Be.m=Nt.getUTCMonth(),Be.d=Nt.getUTCDate()+(Be.w+6)%7):(Nt=jx(ed(Be.y,0,1)),Qt=Nt.getDay(),Nt=Qt>4||Qt===0?Gg.ceil(Nt):Gg(Nt),Nt=o0.offset(Nt,(Be.V-1)*7),Be.y=Nt.getFullYear(),Be.m=Nt.getMonth(),Be.d=Nt.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),Qt="Z"in Be?Bx(ed(Be.y,0,1)).getUTCDay():jx(ed(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(Qt+5)%7:Be.w+Be.U*7-(Qt+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,Bx(Be)):jx(Be)}}function V(Re,gt,it,Be){for(var ht=0,Nt=gt.length,Qt=it.length,Dt,_t;ht<Nt;){if(Be>=Qt)return-1;if(Dt=gt.charCodeAt(ht++),Dt===37){if(Dt=gt.charAt(ht++),_t=$[Dt in VO?gt.charAt(ht++):Dt],!_t||(Be=_t(Re,it,Be))<0)return-1}else if(Dt!=it.charCodeAt(Be++))return-1}return Be}function j(Re,gt,it){var Be=d.exec(gt.slice(it));return Be?(Re.p=v.get(Be[0].toLowerCase()),it+Be[0].length):-1}function Q(Re,gt,it){var Be=T.exec(gt.slice(it));return Be?(Re.w=R.get(Be[0].toLowerCase()),it+Be[0].length):-1}function Z(Re,gt,it){var Be=w.exec(gt.slice(it));return Be?(Re.w=S.get(Be[0].toLowerCase()),it+Be[0].length):-1}function X(Re,gt,it){var Be=U.exec(gt.slice(it));return Be?(Re.m=W.get(Be[0].toLowerCase()),it+Be[0].length):-1}function z(Re,gt,it){var Be=M.exec(gt.slice(it));return Be?(Re.m=P.get(Be[0].toLowerCase()),it+Be[0].length):-1}function ge(Re,gt,it){return V(Re,e,gt,it)}function se(Re,gt,it){return V(Re,n,gt,it)}function le(Re,gt,it){return V(Re,r,gt,it)}function ue(Re){return c[Re.getDay()]}function Ie(Re){return a[Re.getDay()]}function Fe(Re){return m[Re.getMonth()]}function ae(Re){return g[Re.getMonth()]}function be(Re){return i[+(Re.getHours()>=12)]}function Te(Re){return 1+~~(Re.getMonth()/3)}function ke(Re){return c[Re.getUTCDay()]}function $e(Re){return a[Re.getUTCDay()]}function at(Re){return m[Re.getUTCMonth()]}function je(Re){return g[Re.getUTCMonth()]}function In(Re){return i[+(Re.getUTCHours()>=12)]}function vt(Re){return 1+~~(Re.getUTCMonth()/3)}return{format:function(Re){var gt=ne(Re+="",q);return gt.toString=function(){return Re},gt},parse:function(Re){var gt=k(Re+="",!1);return gt.toString=function(){return Re},gt},utcFormat:function(Re){var gt=ne(Re+="",ee);return gt.toString=function(){return Re},gt},utcParse:function(Re){var gt=k(Re+="",!0);return gt.toString=function(){return Re},gt}}}var VO={"-":"",_:" ",0:"0"},di=/^\s*\d+/,pX=/^%/,yX=/[\\^$*+?|[\]().{}]/g;function hn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function vX(t){return t.replace(yX,"\\$&")}function td(t){return new RegExp("^(?:"+t.map(vX).join("|")+")","i")}function nd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xX(t,e,n){var r=di.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bX(t,e,n){var r=di.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wX(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function EX(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function AX(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zO(t,e,n){var r=di.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function HO(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SX(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _X(t,e,n){var r=di.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CX(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qO(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function TX(t,e,n){var r=di.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function GO(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function IX(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function OX(t,e,n){var r=di.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function RX(t,e,n){var r=di.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function NX(t,e,n){var r=di.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DX(t,e,n){var r=pX.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function MX(t,e,n){var r=di.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PX(t,e,n){var r=di.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function YO(t,e){return hn(t.getDate(),e,2)}function LX(t,e){return hn(t.getHours(),e,2)}function kX(t,e){return hn(t.getHours()%12||12,e,2)}function jX(t,e){return hn(1+o0.count(ol(t),t),e,3)}function t6(t,e){return hn(t.getMilliseconds(),e,3)}function BX(t,e){return t6(t,e)+"000"}function UX(t,e){return hn(t.getMonth()+1,e,2)}function FX(t,e){return hn(t.getMinutes(),e,2)}function VX(t,e){return hn(t.getSeconds(),e,2)}function zX(t){var e=t.getDay();return e===0?7:e}function HX(t,e){return hn(np.count(ol(t)-1,t),e,2)}function n6(t){var e=t.getDay();return e>=4||e===0?Uf(t):Uf.ceil(t)}function qX(t,e){return t=n6(t),hn(Uf.count(ol(t),t)+(ol(t).getDay()===4),e,2)}function GX(t){return t.getDay()}function YX(t,e){return hn(Gg.count(ol(t)-1,t),e,2)}function WX(t,e){return hn(t.getFullYear()%100,e,2)}function $X(t,e){return t=n6(t),hn(t.getFullYear()%100,e,2)}function XX(t,e){return hn(t.getFullYear()%1e4,e,4)}function KX(t,e){var n=t.getDay();return t=n>=4||n===0?Uf(t):Uf.ceil(t),hn(t.getFullYear()%1e4,e,4)}function QX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hn(e/60|0,"0",2)+hn(e%60,"0",2)}function WO(t,e){return hn(t.getUTCDate(),e,2)}function ZX(t,e){return hn(t.getUTCHours(),e,2)}function JX(t,e){return hn(t.getUTCHours()%12||12,e,2)}function eK(t,e){return hn(1+tp.count(ll(t),t),e,3)}function r6(t,e){return hn(t.getUTCMilliseconds(),e,3)}function tK(t,e){return r6(t,e)+"000"}function nK(t,e){return hn(t.getUTCMonth()+1,e,2)}function rK(t,e){return hn(t.getUTCMinutes(),e,2)}function iK(t,e){return hn(t.getUTCSeconds(),e,2)}function aK(t){var e=t.getUTCDay();return e===0?7:e}function sK(t,e){return hn(rp.count(ll(t)-1,t),e,2)}function i6(t){var e=t.getUTCDay();return e>=4||e===0?Ff(t):Ff.ceil(t)}function oK(t,e){return t=i6(t),hn(Ff.count(ll(t),t)+(ll(t).getUTCDay()===4),e,2)}function lK(t){return t.getUTCDay()}function uK(t,e){return hn(Yg.count(ll(t)-1,t),e,2)}function cK(t,e){return hn(t.getUTCFullYear()%100,e,2)}function fK(t,e){return t=i6(t),hn(t.getUTCFullYear()%100,e,2)}function hK(t,e){return hn(t.getUTCFullYear()%1e4,e,4)}function dK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ff(t):Ff.ceil(t),hn(t.getUTCFullYear()%1e4,e,4)}function gK(){return"+0000"}function $O(){return"%"}function XO(t){return+t}function KO(t){return Math.floor(+t/1e3)}var of,a6,s6;mK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mK(t){return of=mX(t),a6=of.format,of.parse,s6=of.utcFormat,of.utcParse,of}function pK(t){return new Date(t)}function yK(t){return t instanceof Date?+t:+new Date(+t)}function hE(t,e,n,r,i,a,c,g,m,d){var v=Zw(),w=v.invert,S=v.domain,T=d(".%L"),R=d(":%S"),M=d("%I:%M"),P=d("%I %p"),U=d("%a %d"),W=d("%b %d"),q=d("%B"),ee=d("%Y");function $(ne){return(m(ne)<ne?T:g(ne)<ne?R:c(ne)<ne?M:a(ne)<ne?P:r(ne)<ne?i(ne)<ne?U:W:n(ne)<ne?q:ee)(ne)}return v.invert=function(ne){return new Date(w(ne))},v.domain=function(ne){return arguments.length?S(Array.from(ne,yK)):S().map(pK)},v.ticks=function(ne){var k=S();return t(k[0],k[k.length-1],ne??10)},v.tickFormat=function(ne,k){return k==null?$:d(k)},v.nice=function(ne){var k=S();return(!ne||typeof ne.range!="function")&&(ne=e(k[0],k[k.length-1],ne??10)),ne?S(Y8(k,ne)):v},v.copy=function(){return s0(v,hE(t,e,n,r,i,a,c,g,m,d))},v}function vK(){return Os.apply(hE(dX,gX,ol,cE,np,o0,lE,sE,Qu,a6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xK(){return Os.apply(hE(fX,hX,ll,fE,rp,tp,uE,oE,Qu,s6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ip(){var t=0,e=1,n,r,i,a,c=ta,g=!1,m;function d(w){return w==null||isNaN(w=+w)?m:c(i===0?.5:(w=(a(w)-n)*i,g?Math.max(0,Math.min(1,w)):w))}d.domain=function(w){return arguments.length?([t,e]=w,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(w){return arguments.length?(g=!!w,d):g},d.interpolator=function(w){return arguments.length?(c=w,d):c};function v(w){return function(S){var T,R;return arguments.length?([T,R]=S,c=w(T,R),d):[c(0),c(1)]}}return d.range=v(Qf),d.rangeRound=v(Qw),d.unknown=function(w){return arguments.length?(m=w,d):m},function(w){return a=w,n=w(t),r=w(e),i=n===r?0:1/(r-n),d}}function _u(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function o6(){var t=Su(ip()(ta));return t.copy=function(){return _u(t,o6())},hl.apply(t,arguments)}function l6(){var t=tE(ip()).domain([1,10]);return t.copy=function(){return _u(t,l6()).base(t.base())},hl.apply(t,arguments)}function u6(){var t=nE(ip());return t.copy=function(){return _u(t,u6()).constant(t.constant())},hl.apply(t,arguments)}function dE(){var t=rE(ip());return t.copy=function(){return _u(t,dE()).exponent(t.exponent())},hl.apply(t,arguments)}function bK(){return dE.apply(null,arguments).exponent(.5)}function c6(){var t=[],e=ta;function n(r){if(r!=null&&!isNaN(r=+r))return e((i0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(iu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>a$(t,a/r))},n.copy=function(){return c6(e).domain(t)},hl.apply(n,arguments)}function ap(){var t=0,e=.5,n=1,r=1,i,a,c,g,m,d=ta,v,w=!1,S;function T(M){return isNaN(M=+M)?S:(M=.5+((M=+v(M))-a)*(r*M<r*a?g:m),d(w?Math.max(0,Math.min(1,M)):M))}T.domain=function(M){return arguments.length?([t,e,n]=M,i=v(t=+t),a=v(e=+e),c=v(n=+n),g=i===a?0:.5/(a-i),m=a===c?0:.5/(c-a),r=a<i?-1:1,T):[t,e,n]},T.clamp=function(M){return arguments.length?(w=!!M,T):w},T.interpolator=function(M){return arguments.length?(d=M,T):d};function R(M){return function(P){var U,W,q;return arguments.length?([U,W,q]=P,d=D$(M,[U,W,q]),T):[d(0),d(.5),d(1)]}}return T.range=R(Qf),T.rangeRound=R(Qw),T.unknown=function(M){return arguments.length?(S=M,T):S},function(M){return v=M,i=M(t),a=M(e),c=M(n),g=i===a?0:.5/(a-i),m=a===c?0:.5/(c-a),r=a<i?-1:1,T}}function f6(){var t=Su(ap()(ta));return t.copy=function(){return _u(t,f6())},hl.apply(t,arguments)}function h6(){var t=tE(ap()).domain([.1,1,10]);return t.copy=function(){return _u(t,h6()).base(t.base())},hl.apply(t,arguments)}function d6(){var t=nE(ap());return t.copy=function(){return _u(t,d6()).constant(t.constant())},hl.apply(t,arguments)}function gE(){var t=rE(ap());return t.copy=function(){return _u(t,gE()).exponent(t.exponent())},hl.apply(t,arguments)}function wK(){return gE.apply(null,arguments).exponent(.5)}const cd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$w,scaleDiverging:f6,scaleDivergingLog:h6,scaleDivergingPow:gE,scaleDivergingSqrt:wK,scaleDivergingSymlog:d6,scaleIdentity:G8,scaleImplicit:eb,scaleLinear:q8,scaleLog:W8,scaleOrdinal:Ww,scalePoint:l$,scalePow:iE,scaleQuantile:K8,scaleQuantize:Q8,scaleRadial:X8,scaleSequential:o6,scaleSequentialLog:l6,scaleSequentialPow:dE,scaleSequentialQuantile:c6,scaleSequentialSqrt:bK,scaleSequentialSymlog:u6,scaleSqrt:tX,scaleSymlog:$8,scaleThreshold:Z8,scaleTime:vK,scaleUtc:xK,tickFormat:H8},Symbol.toStringTag,{value:"Module"}));var Cu=t=>t.chartData,mE=we([Cu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),sp=(t,e,n,r)=>r?mE(t):Cu(t);function fc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Wi(e)&&Wi(n))return!0}return!1}function QO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function g6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Wi(n))i=n;else if(typeof n=="function")return;if(Wi(r))a=r;else if(typeof r=="function")return;var c=[i,a];if(fc(c))return c}}function EK(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(fc(r))return QO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,c,g;if(i==="auto")e!=null&&(c=Math.min(...e));else if(lt(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&P3.test(i)){var m=P3.exec(i);if(m==null||e==null)c=void 0;else{var d=+m[1];c=e[0]-d}}else c=e?.[0];if(a==="auto")e!=null&&(g=Math.max(...e));else if(lt(a))g=a;else if(typeof a=="function")try{e!=null&&(g=a(e?.[1]))}catch{}else if(typeof a=="string"&&L3.test(a)){var v=L3.exec(a);if(v==null||e==null)g=void 0;else{var w=+v[1];g=e[1]+w}}else g=e?.[1];var S=[c,g];if(fc(S))return e==null?S:QO(S,e,n)}}}var Zf=1e9,AK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yE,cr=!0,Is="[DecimalError] ",ic=Is+"Invalid argument: ",pE=Is+"Exponent out of range: ",Jf=Math.floor,Wu=Math.pow,SK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$a,ci=1e7,tr=7,m6=9007199254740991,Wg=Jf(m6/tr),tt={};tt.absoluteValue=tt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};tt.comparedTo=tt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};tt.dividedBy=tt.div=function(t){return Zo(this,new this.constructor(t))};tt.dividedToIntegerBy=tt.idiv=function(t){var e=this,n=e.constructor;return zn(Zo(e,new n(t),0,1),n.precision)};tt.equals=tt.eq=function(t){return!this.cmp(t)};tt.exponent=function(){return Yr(this)};tt.greaterThan=tt.gt=function(t){return this.cmp(t)>0};tt.greaterThanOrEqualTo=tt.gte=function(t){return this.cmp(t)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(t){return this.cmp(t)<0};tt.lessThanOrEqualTo=tt.lte=function(t){return this.cmp(t)<1};tt.logarithm=tt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($a))throw Error(Is+"NaN");if(n.s<1)throw Error(Is+(n.s?"NaN":"-Infinity"));return n.eq($a)?new r(0):(cr=!1,e=Zo(Ud(n,a),Ud(t,a),a),cr=!0,zn(e,i))};tt.minus=tt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v6(e,t):p6(e,(t.s=-t.s,t))};tt.modulo=tt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Is+"NaN");return n.s?(cr=!1,e=Zo(n,t,0,1).times(t),cr=!0,n.minus(e)):zn(new r(n),i)};tt.naturalExponential=tt.exp=function(){return y6(this)};tt.naturalLogarithm=tt.ln=function(){return Ud(this)};tt.negated=tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};tt.plus=tt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p6(e,t):v6(e,(t.s=-t.s,t))};tt.precision=tt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ic+t);if(e=Yr(i)+1,r=i.d.length-1,n=r*tr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};tt.squareRoot=tt.sqrt=function(){var t,e,n,r,i,a,c,g=this,m=g.constructor;if(g.s<1){if(!g.s)return new m(0);throw Error(Is+"NaN")}for(t=Yr(g),cr=!1,i=Math.sqrt(+g),i==0||i==1/0?(e=uo(g.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new m(e)):r=new m(i.toString()),n=m.precision,i=c=n+3;;)if(a=r,r=a.plus(Zo(g,a,c+2)).times(.5),uo(a.d).slice(0,c)===(e=uo(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(zn(a,n+1,0),a.times(a).eq(g)){r=a;break}}else if(e!="9999")break;c+=4}return cr=!0,zn(r,n)};tt.times=tt.mul=function(t){var e,n,r,i,a,c,g,m,d,v=this,w=v.constructor,S=v.d,T=(t=new w(t)).d;if(!v.s||!t.s)return new w(0);for(t.s*=v.s,n=v.e+t.e,m=S.length,d=T.length,m<d&&(a=S,S=T,T=a,c=m,m=d,d=c),a=[],c=m+d,r=c;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=m+r;i>r;)g=a[i]+T[r]*S[i-r-1]+e,a[i--]=g%ci|0,e=g/ci|0;a[i]=(a[i]+e)%ci|0}for(;!a[--c];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,cr?zn(t,w.precision):t};tt.toDecimalPlaces=tt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xo(t,0,Zf),e===void 0?e=r.rounding:xo(e,0,8),zn(n,t+Yr(n)+1,e))};tt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hc(r,!0):(xo(t,0,Zf),e===void 0?e=i.rounding:xo(e,0,8),r=zn(new i(r),t+1,e),n=hc(r,!0,t+1)),n};tt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?hc(i):(xo(t,0,Zf),e===void 0?e=a.rounding:xo(e,0,8),r=zn(new a(i),t+Yr(i)+1,e),n=hc(r.abs(),!1,t+Yr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};tt.toInteger=tt.toint=function(){var t=this,e=t.constructor;return zn(new e(t),Yr(t)+1,e.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(t){var e,n,r,i,a,c,g=this,m=g.constructor,d=12,v=+(t=new m(t));if(!t.s)return new m($a);if(g=new m(g),!g.s){if(t.s<1)throw Error(Is+"Infinity");return g}if(g.eq($a))return g;if(r=m.precision,t.eq($a))return zn(g,r);if(e=t.e,n=t.d.length-1,c=e>=n,a=g.s,c){if((n=v<0?-v:v)<=m6){for(i=new m($a),e=Math.ceil(r/tr+4),cr=!1;n%2&&(i=i.times(g),JO(i.d,e)),n=Jf(n/2),n!==0;)g=g.times(g),JO(g.d,e);return cr=!0,t.s<0?new m($a).div(i):zn(i,r)}}else if(a<0)throw Error(Is+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,g.s=1,cr=!1,i=t.times(Ud(g,r+d)),cr=!0,i=y6(i),i.s=a,i};tt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Yr(i),r=hc(i,n<=a.toExpNeg||n>=a.toExpPos)):(xo(t,1,Zf),e===void 0?e=a.rounding:xo(e,0,8),i=zn(new a(i),t,e),n=Yr(i),r=hc(i,t<=n||n<=a.toExpNeg,t)),r};tt.toSignificantDigits=tt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xo(t,1,Zf),e===void 0?e=r.rounding:xo(e,0,8)),zn(new r(n),t,e)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yr(t),n=t.constructor;return hc(t,e<=n.toExpNeg||e>=n.toExpPos)};function p6(t,e){var n,r,i,a,c,g,m,d,v=t.constructor,w=v.precision;if(!t.s||!e.s)return e.s||(e=new v(t)),cr?zn(e,w):e;if(m=t.d,d=e.d,c=t.e,i=e.e,m=m.slice(),a=c-i,a){for(a<0?(r=m,a=-a,g=d.length):(r=d,i=c,g=m.length),c=Math.ceil(w/tr),g=c>g?c+1:g+1,a>g&&(a=g,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(g=m.length,a=d.length,g-a<0&&(a=g,r=d,d=m,m=r),n=0;a;)n=(m[--a]=m[a]+d[a]+n)/ci|0,m[a]%=ci;for(n&&(m.unshift(n),++i),g=m.length;m[--g]==0;)m.pop();return e.d=m,e.e=i,cr?zn(e,w):e}function xo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ic+t)}function uo(t){var e,n,r,i=t.length-1,a="",c=t[0];if(i>0){for(a+=c,e=1;e<i;e++)r=t[e]+"",n=tr-r.length,n&&(a+=$l(n)),a+=r;c=t[e],r=c+"",n=tr-r.length,n&&(a+=$l(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}var Zo=function(){function t(r,i){var a,c=0,g=r.length;for(r=r.slice();g--;)a=r[g]*i+c,r[g]=a%ci|0,c=a/ci|0;return c&&r.unshift(c),r}function e(r,i,a,c){var g,m;if(a!=c)m=a>c?1:-1;else for(g=m=0;g<a;g++)if(r[g]!=i[g]){m=r[g]>i[g]?1:-1;break}return m}function n(r,i,a){for(var c=0;a--;)r[a]-=c,c=r[a]<i[a]?1:0,r[a]=c*ci+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,c){var g,m,d,v,w,S,T,R,M,P,U,W,q,ee,$,ne,k,V,j=r.constructor,Q=r.s==i.s?1:-1,Z=r.d,X=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Is+"Division by zero");for(m=r.e-i.e,k=X.length,$=Z.length,T=new j(Q),R=T.d=[],d=0;X[d]==(Z[d]||0);)++d;if(X[d]>(Z[d]||0)&&--m,a==null?W=a=j.precision:c?W=a+(Yr(r)-Yr(i))+1:W=a,W<0)return new j(0);if(W=W/tr+2|0,d=0,k==1)for(v=0,X=X[0],W++;(d<$||v)&&W--;d++)q=v*ci+(Z[d]||0),R[d]=q/X|0,v=q%X|0;else{for(v=ci/(X[0]+1)|0,v>1&&(X=t(X,v),Z=t(Z,v),k=X.length,$=Z.length),ee=k,M=Z.slice(0,k),P=M.length;P<k;)M[P++]=0;V=X.slice(),V.unshift(0),ne=X[0],X[1]>=ci/2&&++ne;do v=0,g=e(X,M,k,P),g<0?(U=M[0],k!=P&&(U=U*ci+(M[1]||0)),v=U/ne|0,v>1?(v>=ci&&(v=ci-1),w=t(X,v),S=w.length,P=M.length,g=e(w,M,S,P),g==1&&(v--,n(w,k<S?V:X,S))):(v==0&&(g=v=1),w=X.slice()),S=w.length,S<P&&w.unshift(0),n(M,w,P),g==-1&&(P=M.length,g=e(X,M,k,P),g<1&&(v++,n(M,k<P?V:X,P))),P=M.length):g===0&&(v++,M=[0]),R[d++]=v,g&&M[0]?M[P++]=Z[ee]||0:(M=[Z[ee]],P=1);while((ee++<$||M[0]!==void 0)&&W--)}return R[0]||R.shift(),T.e=m,zn(T,c?a+Yr(T)+1:a)}}();function y6(t,e){var n,r,i,a,c,g,m=0,d=0,v=t.constructor,w=v.precision;if(Yr(t)>16)throw Error(pE+Yr(t));if(!t.s)return new v($a);for(cr=!1,g=w,c=new v(.03125);t.abs().gte(.1);)t=t.times(c),d+=5;for(r=Math.log(Wu(2,d))/Math.LN10*2+5|0,g+=r,n=i=a=new v($a),v.precision=g;;){if(i=zn(i.times(t),g),n=n.times(++m),c=a.plus(Zo(i,n,g)),uo(c.d).slice(0,g)===uo(a.d).slice(0,g)){for(;d--;)a=zn(a.times(a),g);return v.precision=w,e==null?(cr=!0,zn(a,w)):a}a=c}}function Yr(t){for(var e=t.e*tr,n=t.d[0];n>=10;n/=10)e++;return e}function Ux(t,e,n){if(e>t.LN10.sd())throw cr=!0,n&&(t.precision=n),Error(Is+"LN10 precision limit exceeded");return zn(new t(t.LN10),e)}function $l(t){for(var e="";t--;)e+="0";return e}function Ud(t,e){var n,r,i,a,c,g,m,d,v,w=1,S=10,T=t,R=T.d,M=T.constructor,P=M.precision;if(T.s<1)throw Error(Is+(T.s?"NaN":"-Infinity"));if(T.eq($a))return new M(0);if(e==null?(cr=!1,d=P):d=e,T.eq(10))return e==null&&(cr=!0),Ux(M,d);if(d+=S,M.precision=d,n=uo(R),r=n.charAt(0),a=Yr(T),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)T=T.times(t),n=uo(T.d),r=n.charAt(0),w++;a=Yr(T),r>1?(T=new M("0."+n),a++):T=new M(r+"."+n.slice(1))}else return m=Ux(M,d+2,P).times(a+""),T=Ud(new M(r+"."+n.slice(1)),d-S).plus(m),M.precision=P,e==null?(cr=!0,zn(T,P)):T;for(g=c=T=Zo(T.minus($a),T.plus($a),d),v=zn(T.times(T),d),i=3;;){if(c=zn(c.times(v),d),m=g.plus(Zo(c,new M(i),d)),uo(m.d).slice(0,d)===uo(g.d).slice(0,d))return g=g.times(2),a!==0&&(g=g.plus(Ux(M,d+2,P).times(a+""))),g=Zo(g,new M(w),d),M.precision=P,e==null?(cr=!0,zn(g,P)):g;g=m,i+=2}}function ZO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Jf(n/tr),t.d=[],r=(n+1)%tr,n<0&&(r+=tr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tr;r<i;)t.d.push(+e.slice(r,r+=tr));e=e.slice(r),r=tr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cr&&(t.e>Wg||t.e<-Wg))throw Error(pE+n)}else t.s=0,t.e=0,t.d=[0];return t}function zn(t,e,n){var r,i,a,c,g,m,d,v,w=t.d;for(c=1,a=w[0];a>=10;a/=10)c++;if(r=e-c,r<0)r+=tr,i=e,d=w[v=0];else{if(v=Math.ceil((r+1)/tr),a=w.length,v>=a)return t;for(d=a=w[v],c=1;a>=10;a/=10)c++;r%=tr,i=r-tr+c}if(n!==void 0&&(a=Wu(10,c-i-1),g=d/a%10|0,m=e<0||w[v+1]!==void 0||d%a,m=n<4?(g||m)&&(n==0||n==(t.s<0?3:2)):g>5||g==5&&(n==4||m||n==6&&(r>0?i>0?d/Wu(10,c-i):0:w[v-1])%10&1||n==(t.s<0?8:7))),e<1||!w[0])return m?(a=Yr(t),w.length=1,e=e-a-1,w[0]=Wu(10,(tr-e%tr)%tr),t.e=Jf(-e/tr)||0):(w.length=1,w[0]=t.e=t.s=0),t;if(r==0?(w.length=v,a=1,v--):(w.length=v+1,a=Wu(10,tr-r),w[v]=i>0?(d/Wu(10,c-i)%Wu(10,i)|0)*a:0),m)for(;;)if(v==0){(w[0]+=a)==ci&&(w[0]=1,++t.e);break}else{if(w[v]+=a,w[v]!=ci)break;w[v--]=0,a=1}for(r=w.length;w[--r]===0;)w.pop();if(cr&&(t.e>Wg||t.e<-Wg))throw Error(pE+Yr(t));return t}function v6(t,e){var n,r,i,a,c,g,m,d,v,w,S=t.constructor,T=S.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new S(t),cr?zn(e,T):e;if(m=t.d,w=e.d,r=e.e,d=t.e,m=m.slice(),c=d-r,c){for(v=c<0,v?(n=m,c=-c,g=w.length):(n=w,r=d,g=m.length),i=Math.max(Math.ceil(T/tr),g)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=m.length,g=w.length,v=i<g,v&&(g=i),i=0;i<g;i++)if(m[i]!=w[i]){v=m[i]<w[i];break}c=0}for(v&&(n=m,m=w,w=n,e.s=-e.s),g=m.length,i=w.length-g;i>0;--i)m[g++]=0;for(i=w.length;i>c;){if(m[--i]<w[i]){for(a=i;a&&m[--a]===0;)m[a]=ci-1;--m[a],m[i]+=ci}m[i]-=w[i]}for(;m[--g]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(e.d=m,e.e=r,cr?zn(e,T):e):new S(0)}function hc(t,e,n){var r,i=Yr(t),a=uo(t.d),c=a.length;return e?(n&&(r=n-c)>0?a=a.charAt(0)+"."+a.slice(1)+$l(r):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+$l(-i-1)+a,n&&(r=n-c)>0&&(a+=$l(r))):i>=c?(a+=$l(i+1-c),n&&(r=n-i-1)>0&&(a=a+"."+$l(r))):((r=i+1)<c&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(a+="."),a+=$l(r))),t.s<0?"-"+a:a}function JO(t,e){if(t.length>e)return t.length=e,!0}function x6(t){var e,n,r;function i(a){var c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,a instanceof i){c.s=a.s,c.e=a.e,c.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ic+a);if(a>0)c.s=1;else if(a<0)a=-a,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(a===~~a&&a<1e7){c.e=0,c.d=[a];return}return ZO(c,a.toString())}else if(typeof a!="string")throw Error(ic+a);if(a.charCodeAt(0)===45?(a=a.slice(1),c.s=-1):c.s=1,SK.test(a))ZO(c,a);else throw Error(ic+a)}if(i.prototype=tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=x6,i.config=i.set=_K,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _K(t){if(!t||typeof t!="object")throw Error(Is+"Object expected");var e,n,r,i=["precision",1,Zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Jf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ic+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ic+n+": "+r);return this}var yE=x6(AK);$a=new yE(1);const Tn=yE;var CK=t=>t,b6={},w6=t=>t===b6,e4=t=>function e(){return arguments.length===0||arguments.length===1&&w6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},E6=(t,e)=>t===1?e:e4(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(c=>c!==b6).length;return a>=t?e(...r):E6(t-a,e4(function(){for(var c=arguments.length,g=new Array(c),m=0;m<c;m++)g[m]=arguments[m];var d=r.map(v=>w6(v)?g.shift():v);return e(...d,...g)}))}),op=t=>E6(t.length,t),ib=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},TK=op((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),IK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return CK;var i=n.reverse(),a=i[0],c=i.slice(1);return function(){return c.reduce((g,m)=>m(g),a(...arguments))}},ab=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),A6=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((c,g)=>{var m;return c===((m=e)===null||m===void 0?void 0:m[g])})||(e=i,n=t(...i)),n}};function S6(t){var e;return t===0?e=1:e=Math.floor(new Tn(t).abs().log(10).toNumber())+1,e}function _6(t,e,n){for(var r=new Tn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}op((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});op((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});op((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var C6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},T6=(t,e,n)=>{if(t.lte(0))return new Tn(0);var r=S6(t.toNumber()),i=new Tn(10).pow(r),a=t.div(i),c=r!==1?.05:.1,g=new Tn(Math.ceil(a.div(c).toNumber())).add(n).mul(c),m=g.mul(i);return e?new Tn(m.toNumber()):new Tn(Math.ceil(m.toNumber()))},OK=(t,e,n)=>{var r=new Tn(1),i=new Tn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Tn(10).pow(S6(t)-1),i=new Tn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Tn(Math.floor(t)))}else t===0?i=new Tn(Math.floor((e-1)/2)):n||(i=new Tn(Math.floor(t)));var c=Math.floor((e-1)/2),g=IK(TK(m=>i.add(new Tn(m-c).mul(r)).toNumber()),ib);return g(0,e)},I6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tn(0),tickMin:new Tn(0),tickMax:new Tn(0)};var c=T6(new Tn(n).sub(e).div(r-1),i,a),g;e<=0&&n>=0?g=new Tn(0):(g=new Tn(e).add(n).div(2),g=g.sub(new Tn(g).mod(c)));var m=Math.ceil(g.sub(e).div(c).toNumber()),d=Math.ceil(new Tn(n).sub(g).div(c).toNumber()),v=m+d+1;return v>r?I6(e,n,r,i,a+1):(v<r&&(d=n>0?d+(r-v):d,m=n>0?m:m+(r-v)),{step:c,tickMin:g.sub(new Tn(m).mul(c)),tickMax:g.add(new Tn(d).mul(c))})};function RK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[c,g]=C6([e,n]);if(c===-1/0||g===1/0){var m=g===1/0?[c,...ib(0,r-1).map(()=>1/0)]:[...ib(0,r-1).map(()=>-1/0),g];return e>n?ab(m):m}if(c===g)return OK(c,r,i);var{step:d,tickMin:v,tickMax:w}=I6(c,g,a,i,0),S=_6(v,w.add(new Tn(.1).mul(d)),d);return e>n?ab(S):S}function NK(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,c]=C6([n,r]);if(a===-1/0||c===1/0)return[n,r];if(a===c)return[a];var g=Math.max(e,2),m=T6(new Tn(c).sub(a).div(g-1),i,0),d=[..._6(new Tn(a),new Tn(c),m),c];return i===!1&&(d=d.map(v=>Math.round(v))),n>r?ab(d):d}var DK=A6(RK),MK=A6(NK),O6=t=>t.rootProps.maxBarSize,PK=t=>t.rootProps.barGap,R6=t=>t.rootProps.barCategoryGap,LK=t=>t.rootProps.barSize,l0=t=>t.rootProps.stackOffset,vE=t=>t.options.chartName,xE=t=>t.rootProps.syncId,N6=t=>t.rootProps.syncMethod,bE=t=>t.options.eventEmitter,qo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ga={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},kK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:qo.reversed,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:qo.type,unit:void 0},jK={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:Ga.type,unit:void 0},BK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:qo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},UK={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:"category",unit:void 0},wE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?BK:kK,EE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?UK:jK,up=t=>t.polarOptions,AE=we([cl,fl,ei],c8),D6=we([up,AE],(t,e)=>{if(t!=null)return Yi(t.innerRadius,e,0)}),M6=we([up,AE],(t,e)=>{if(t!=null)return Yi(t.outerRadius,e,e*.8)}),FK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},P6=we([up],FK);we([wE,P6],lp);var L6=we([AE,D6,M6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});we([EE,L6],lp);var k6=we([an,up,D6,M6,cl,fl],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:g,startAngle:m,endAngle:d}=e;return{cx:Yi(c,i,i/2),cy:Yi(g,a,a/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:d,clockWise:!1}}}),gr=(t,e)=>e,u0=(t,e,n)=>n;function SE(t){return t?.id}var ni=t=>{var e=an(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},eh=t=>t.tooltip.settings.axisId,ri=t=>{var e=ni(t),n=eh(t);return c0(t,e,n)},j6=we([ri],t=>t?.dataKey);function B6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,c=new Map;return t.forEach(g=>{var m,d=(m=g.data)!==null&&m!==void 0?m:r;if(!(d==null||d.length===0)){var v=SE(g);d.forEach((w,S)=>{var T=a==null||i?S:String(Wn(w,a,null)),R=Wn(w,g.dataKey,0),M;c.has(T)?M=c.get(T):M={},Object.assign(M,{[v]:R}),c.set(T,M)})}}),Array.from(c.values())}function cp(t){return t.stackId!=null&&t.dataKey!=null}var fp=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function hp(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){VK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e,n){return(e=zK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zK(t){var e=HK(t,"string");return typeof e=="symbol"?e:e+""}function HK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sb=[0,"auto"],Ha={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},U6=(t,e)=>t.cartesianAxis.xAxis[e],dl=(t,e)=>{var n=U6(t,e);return n??Ha},qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:t0},F6=(t,e)=>t.cartesianAxis.yAxis[e],gl=(t,e)=>{var n=F6(t,e);return n??qa},qK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_E=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??qK},vr=(t,e,n)=>{switch(e){case"xAxis":return dl(t,n);case"yAxis":return gl(t,n);case"zAxis":return _E(t,n);case"angleAxis":return wE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},GK=(t,e,n)=>{switch(e){case"xAxis":return dl(t,n);case"yAxis":return gl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},c0=(t,e,n)=>{switch(e){case"xAxis":return dl(t,n);case"yAxis":return gl(t,n);case"angleAxis":return wE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},V6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function CE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var dp=t=>t.graphicalItems.cartesianItems,YK=we([gr,u0],CE),TE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),f0=we([dp,vr,YK],TE,{memoizeOptions:{resultEqualityCheck:hp}}),z6=we([f0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(cp)),H6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),WK=we([f0],H6),IE=t=>t.map(e=>e.data).filter(Boolean).flat(1),$K=we([f0],IE,{memoizeOptions:{resultEqualityCheck:hp}}),OE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},RE=we([$K,sp],OE),NE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Wn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Wn(i,r)}))):t.map(r=>({value:r})),gp=we([RE,vr,f0],NE);function q6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Z1(t){if(vo(t)||t instanceof Date){var e=Number(t);if(Wi(e))return e}}function n4(t){if(Array.isArray(t)){var e=[Z1(t[0]),Z1(t[1])];return fc(e)?e:void 0}var n=Z1(t);if(n!=null)return[n,n]}function th(t){return t.map(Z1).filter(fW)}function XK(t,e,n){return!n||typeof e!="number"||Cs(e)?[]:n.length?th(n.flatMap(r=>{var i=Wn(t,r.dataKey),a,c;if(Array.isArray(i)?[a,c]=i:a=c=i,!(!Wi(a)||!Wi(c)))return[e-a,e+c]})):[]}var KK=we([z6,sp,ri],B6),G6=(t,e,n)=>{var r={},i=e.reduce((a,c)=>(c.stackId==null||(a[c.stackId]==null&&(a[c.stackId]=[]),a[c.stackId].push(c)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[c,g]=a,m=g.map(SE);return[c,{stackedData:PG(t,m,n),graphicalItems:g}]}))},ob=we([KK,z6,l0],G6),Y6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var c=UG(t,i,a);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},QK=we([vr],t=>t.allowDataOverflow),DE=t=>{var e;if(t==null||!("domain"in t))return sb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=th(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:sb},ME=we([vr],DE),PE=we([ME,QK],g6),ZK=we([ob,Cu,gr,PE],Y6,{memoizeOptions:{resultEqualityCheck:fp}}),mp=t=>t.errorBars,JK=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>q6(n,r)),Xg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),c=Math.min(...a),g=Math.max(...a);return[c,g]}},LE=(t,e,n,r,i)=>{var a,c;if(n.length>0&&t.forEach(g=>{n.forEach(m=>{var d,v,w=(d=r[m.id])===null||d===void 0?void 0:d.filter(U=>q6(i,U)),S=Wn(g,(v=e.dataKey)!==null&&v!==void 0?v:m.dataKey),T=XK(g,S,w);if(T.length>=2){var R=Math.min(...T),M=Math.max(...T);(a==null||R<a)&&(a=R),(c==null||M>c)&&(c=M)}var P=n4(S);P!=null&&(a=a==null?P[0]:Math.min(a,P[0]),c=c==null?P[1]:Math.max(c,P[1]))})}),e?.dataKey!=null&&t.forEach(g=>{var m=n4(Wn(g,e.dataKey));m!=null&&(a=a==null?m[0]:Math.min(a,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),Wi(a)&&Wi(c))return[a,c]},eQ=we([RE,vr,WK,mp,gr],LE,{memoizeOptions:{resultEqualityCheck:fp}});function tQ(t){var{value:e}=t;if(vo(e)||e instanceof Date)return e}var nQ=(t,e,n)=>{var r=t.map(tQ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&wM(r))?M8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},W6=t=>t.referenceElements.dots,nh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),rQ=we([W6,gr,u0],nh),$6=t=>t.referenceElements.areas,iQ=we([$6,gr,u0],nh),X6=t=>t.referenceElements.lines,aQ=we([X6,gr,u0],nh),K6=(t,e)=>{var n=th(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sQ=we(rQ,gr,K6),Q6=(t,e)=>{var n=th(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},oQ=we([iQ,gr],Q6),Z6=(t,e)=>{var n=th(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lQ=we(aQ,gr,Z6),uQ=we(sQ,lQ,oQ,(t,e,n)=>Xg(t,n,e)),kE=(t,e,n,r,i,a,c,g)=>{if(n!=null)return n;var m=c==="vertical"&&g==="xAxis"||c==="horizontal"&&g==="yAxis",d=m?Xg(r,a,i):Xg(a,i);return EK(e,d,t.allowDataOverflow)},cQ=we([vr,ME,PE,ZK,eQ,uQ,an,gr],kE,{memoizeOptions:{resultEqualityCheck:fp}}),fQ=[0,1],jE=(t,e,n,r,i,a,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:g,type:m}=t,d=Eu(e,a);return d&&g==null?M8(0,n.length):m==="category"?nQ(r,t,d):i==="expand"?fQ:c}},BE=we([vr,an,RE,gp,l0,gr,cQ],jE),J6=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:c}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof a=="string"){var g="scale".concat(Qd(a));return g in cd?g:"point"}}},rh=we([vr,an,V6,vE,gr],J6);function hQ(t){if(t!=null){if(t in cd)return cd[t]();var e="scale".concat(Qd(t));if(e in cd)return cd[e]()}}function UE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=hQ(e);if(i!=null){var a=i.domain(n).range(r);return OG(a),a}}}var FE=(t,e,n)=>{var r=DE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fc(t))return DK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&fc(t))return MK(t,e.tickCount,e.allowDecimals)}},VE=we([BE,c0,rh],FE),zE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&fc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],c=e[1],g=n[n.length-1];return[Math.min(i,a),Math.max(c,g)]}return e},dQ=we([vr,BE,VE,gr],zE),gQ=we(gp,vr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(th(t.map(g=>g.value))).sort((g,m)=>g-m);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var c=r[a+1]-r[a];n=Math.min(n,c)}return n/i}}),eP=we(gQ,an,R6,ei,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Wi(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var c=Yi(n,t*a),g=t*a/2;return g-c-(g-c)/a*c}return 0}),mQ=(t,e)=>{var n=dl(t,e);return n==null||typeof n.padding!="string"?0:eP(t,"xAxis",e,n.padding)},pQ=(t,e)=>{var n=gl(t,e);return n==null||typeof n.padding!="string"?0:eP(t,"yAxis",e,n.padding)},yQ=we(dl,mQ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),vQ=we(gl,pQ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),xQ=we([ei,yQ,Km,Xm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),bQ=we([ei,an,vQ,Km,Xm,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:c}=i;return a?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),h0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return xQ(t,n,r);case"yAxis":return bQ(t,n,r);case"zAxis":return(i=_E(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return P6(t);case"radiusAxis":return L6(t,n);default:return}},tP=we([vr,h0],lp),ih=we([vr,rh,dQ,tP],UE);we([f0,mp,gr],JK);function nP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var pp=(t,e)=>e,yp=(t,e,n)=>n,wQ=we(Wm,pp,yp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nP)),EQ=we($m,pp,yp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nP)),rP=(t,e)=>({width:t.width,height:e.height}),AQ=(t,e)=>{var n=typeof e.width=="number"?e.width:t0;return{width:n,height:t.height}},iP=we(ei,dl,rP),SQ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},_Q=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},CQ=we(fl,ei,wQ,pp,yp,(t,e,n,r,i)=>{var a={},c;return n.forEach(g=>{var m=rP(e,g);c==null&&(c=SQ(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[g.id]=c-Number(d)*m.height,c+=(d?-1:1)*m.height}),a}),TQ=we(cl,ei,EQ,pp,yp,(t,e,n,r,i)=>{var a={},c;return n.forEach(g=>{var m=AQ(e,g);c==null&&(c=_Q(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[g.id]=c-Number(d)*m.width,c+=(d?-1:1)*m.width}),a}),IQ=(t,e)=>{var n=dl(t,e);if(n!=null)return CQ(t,n.orientation,n.mirror)},OQ=we([ei,dl,IQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),RQ=(t,e)=>{var n=gl(t,e);if(n!=null)return TQ(t,n.orientation,n.mirror)},NQ=we([ei,gl,RQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),aP=we(ei,gl,(t,e)=>{var n=typeof e.width=="number"?e.width:t0;return{width:n,height:t.height}}),r4=(t,e,n)=>{switch(e){case"xAxis":return iP(t,n).width;case"yAxis":return aP(t,n).height;default:return}},sP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:c}=n,g=Eu(t,r),m=e.map(d=>d.value);if(c&&g&&a==="category"&&i&&wM(m))return m}},HE=we([an,gp,vr,gr],sP),oP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,c=Eu(t,r);if(c&&(i==="number"||a!=="auto"))return e.map(g=>g.value)}},qE=we([an,gp,c0,gr],oP),i4=we([an,GK,rh,ih,HE,qE,h0,VE,gr],(t,e,n,r,i,a,c,g,m)=>{if(e==null)return null;var d=Eu(t,m);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:m,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:g,range:c,realScaleType:n,scale:r}}),DQ=(t,e,n,r,i,a,c,g,m)=>{if(!(e==null||r==null)){var d=Eu(t,m),{type:v,ticks:w,tickCount:S}=e,T=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,R=v==="category"&&r.bandwidth?r.bandwidth()/T:0;R=m==="angleAxis"&&a!=null&&a.length>=2?fi(a[0]-a[1])*2*R:R;var M=w||i;if(M){var P=M.map((U,W)=>{var q=c?c.indexOf(U):U;return{index:W,coordinate:r(q)+R,value:U,offset:R}});return P.filter(U=>!Cs(U.coordinate))}return d&&g?g.map((U,W)=>({coordinate:r(U)+R,value:U,index:W,offset:R})):r.ticks?r.ticks(S).map(U=>({coordinate:r(U)+R,value:U,offset:R})):r.domain().map((U,W)=>({coordinate:r(U)+R,value:c?c[U]:U,index:W,offset:R}))}},lP=we([an,c0,rh,ih,VE,h0,HE,qE,gr],DQ),MQ=(t,e,n,r,i,a,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var g=Eu(t,c),{tickCount:m}=e,d=0;return d=c==="angleAxis"&&r?.length>=2?fi(r[0]-r[1])*2*d:d,g&&a?a.map((v,w)=>({coordinate:n(v)+d,value:v,index:w,offset:d})):n.ticks?n.ticks(m).map(v=>({coordinate:n(v)+d,value:v,offset:d})):n.domain().map((v,w)=>({coordinate:n(v)+d,value:i?i[v]:v,index:w,offset:d}))}},du=we([an,c0,ih,h0,HE,qE,gr],MQ),gu=we(vr,ih,(t,e)=>{if(!(t==null||e==null))return $g($g({},t),{},{scale:e})}),PQ=we([vr,rh,BE,tP],UE);we((t,e,n)=>_E(t,n),PQ,(t,e)=>{if(!(t==null||e==null))return $g($g({},t),{},{scale:e})});var LQ=we([an,Wm,$m],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uP=t=>t.options.defaultTooltipEventType,cP=t=>t.options.validateTooltipEventTypes;function fP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function GE(t,e){var n=uP(t),r=cP(t);return fP(e,n,r)}function kQ(t){return rt(e=>GE(e,t))}var hP=(t,e)=>{var n,r=Number(e);if(!(Cs(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},jQ=t=>t.tooltip.settings,Kl={active:!1,index:null,dataKey:void 0,coordinate:void 0},BQ={itemInteraction:{click:Kl,hover:Kl},axisInteraction:{click:Kl,hover:Kl},keyboardInteraction:Kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},dP=es({name:"tooltip",initialState:BQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ji()},removeTooltipEntrySettings:{reducer(t,e){var n=Qo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ji()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:UQ,removeTooltipEntrySettings:FQ,setTooltipSettingsState:VQ,setActiveMouseOverItemIndex:gP,mouseLeaveItem:zQ,mouseLeaveChart:mP,setActiveClickItemIndex:HQ,setMouseOverAxisIndex:pP,setMouseClickAxisIndex:qQ,setSyncInteraction:lb,setKeyboardInteraction:ub}=dP.actions,GQ=dP.reducer;function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return(e=WQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=$Q(t,"string");return typeof e=="symbol"?e:e+""}function $Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function KQ(t){return t.index!=null}var yP=(t,e,n,r)=>{if(e==null)return Kl;var i=XQ(t,e,n);if(i==null)return Kl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(KQ(i)){if(a)return U1(U1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return U1(U1({},Kl),{},{coordinate:i.coordinate})},YE=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Wi(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},vP=(t,e,n,r,i,a,c,g)=>{if(!(a==null||g==null)){var m=c[0],d=m==null?void 0:g(m.positions,a);if(d!=null)return d;var v=i?.[Number(a)];if(v)switch(n){case"horizontal":return{x:v.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:v.coordinate}}}},xP=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var c;return((c=a.settings)===null||c===void 0?void 0:c.dataKey)===i})},d0=t=>t.options.tooltipPayloadSearcher,ah=t=>t.tooltip;function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=ZQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=JQ(t,"string");return typeof e=="symbol"?e:e+""}function JQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eZ(t,e){return t??e}var bP=(t,e,n,r,i,a,c)=>{if(!(e==null||a==null)){var{chartData:g,computedData:m,dataStartIndex:d,dataEndIndex:v}=n,w=[];return t.reduce((S,T)=>{var R,{dataDefinedOnItem:M,settings:P}=T,U=eZ(M,g),W=Array.isArray(U)?f8(U,d,v):U,q=(R=P?.dataKey)!==null&&R!==void 0?R:r,ee=P?.nameKey,$;if(r&&Array.isArray(W)&&!Array.isArray(W[0])&&c==="axis"?$=EM(W,r,i):$=a(W,e,m,ee),Array.isArray($))$.forEach(k=>{var V=o4(o4({},P),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});S.push(k3({tooltipEntrySettings:V,dataKey:k.dataKey,payload:k.payload,value:Wn(k.payload,k.dataKey),name:k.name}))});else{var ne;S.push(k3({tooltipEntrySettings:P,dataKey:q,payload:$,value:Wn($,q),name:(ne=Wn($,ee))!==null&&ne!==void 0?ne:P?.name}))}return S},w)}},WE=we([ri,an,V6,vE,ni],J6),tZ=we([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),nZ=we([ni,eh],CE),g0=we([tZ,ri,nZ],TE,{memoizeOptions:{resultEqualityCheck:hp}}),rZ=we([g0],t=>t.filter(cp)),iZ=we([g0],IE,{memoizeOptions:{resultEqualityCheck:hp}}),sh=we([iZ,Cu],OE),aZ=we([rZ,Cu,ri],B6),$E=we([sh,ri,g0],NE),wP=we([ri],DE),sZ=we([ri],t=>t.allowDataOverflow),EP=we([wP,sZ],g6),oZ=we([g0],t=>t.filter(cp)),lZ=we([aZ,oZ,l0],G6),uZ=we([lZ,Cu,ni,EP],Y6),cZ=we([g0],H6),fZ=we([sh,ri,cZ,mp,ni],LE,{memoizeOptions:{resultEqualityCheck:fp}}),hZ=we([W6,ni,eh],nh),dZ=we([hZ,ni],K6),gZ=we([$6,ni,eh],nh),mZ=we([gZ,ni],Q6),pZ=we([X6,ni,eh],nh),yZ=we([pZ,ni],Z6),vZ=we([dZ,yZ,mZ],Xg),xZ=we([ri,wP,EP,uZ,fZ,vZ,an,ni],kE),AP=we([ri,an,sh,$E,l0,ni,xZ],jE),bZ=we([AP,ri,WE],FE),wZ=we([ri,AP,bZ,ni],zE),SP=t=>{var e=ni(t),n=eh(t),r=!1;return h0(t,e,n,r)},_P=we([ri,SP],lp),CP=we([ri,WE,wZ,_P],UE),EZ=we([an,$E,ri,ni],sP),AZ=we([an,$E,ri,ni],oP),SZ=(t,e,n,r,i,a,c,g)=>{if(e){var{type:m}=e,d=Eu(t,g);if(r){var v=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/v:0;return w=g==="angleAxis"&&i!=null&&i?.length>=2?fi(i[0]-i[1])*2*w:w,d&&c?c.map((S,T)=>({coordinate:r(S)+w,value:S,index:T,offset:w})):r.domain().map((S,T)=>({coordinate:r(S)+w,value:a?a[S]:S,index:T,offset:w}))}}},ml=we([an,ri,WE,CP,SP,EZ,AZ,ni],SZ),XE=we([uP,cP,jQ],(t,e,n)=>fP(n.shared,t,e)),TP=t=>t.tooltip.settings.trigger,KE=t=>t.tooltip.settings.defaultIndex,vp=we([ah,XE,TP,KE],yP),mu=we([vp,sh],YE),IP=we([ml,mu],hP),OP=we([vp],t=>{if(t)return t.dataKey}),RP=we([ah,XE,TP,KE],xP),_Z=we([cl,fl,an,ei,ml,KE,RP,d0],vP),CZ=we([vp,_Z],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),TZ=we([vp],t=>t.active),IZ=we([RP,mu,Cu,j6,IP,d0,XE],bP),OZ=we([IZ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return(e=NZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MZ=()=>rt(ri),PZ=()=>{var t=MZ(),e=rt(ml),n=rt(CP);return Md(u4(u4({},t),{},{scale:n}),e)},LZ=()=>rt(vE),QE=(t,e)=>e,NP=(t,e,n)=>n,ZE=(t,e,n,r)=>r,kZ=we(ml,t=>Vm(t,e=>e.coordinate)),JE=we([ah,QE,NP,ZE],yP),DP=we([JE,sh],YE),jZ=(t,e,n)=>{if(e!=null){var r=ah(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},MP=we([ah,QE,NP,ZE],xP),Kg=we([cl,fl,an,ei,ml,ZE,MP,d0],vP),BZ=we([JE,Kg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),PP=we(ml,DP,hP),UZ=we([MP,DP,Cu,j6,PP,d0,QE],bP),FZ=we([JE],t=>({isActive:t.active,activeIndex:t.index})),VZ=(t,e,n,r,i,a,c,g)=>{if(!(!t||!e||!r||!i||!a)){var m=FG(t.chartX,t.chartY,e,n,g);if(m){var d=zG(m,e),v=TG(d,c,a,r,i),w=VG(e,a,v,m);return{activeIndex:String(v),activeCoordinate:w}}}};function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(null,arguments)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){zZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e,n){return(e=HZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HZ(t){var e=qZ(t,"string");return typeof e=="symbol"?e:e+""}function qZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GZ(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:c,cursor:g,tooltipEventType:m,chartName:d}=t,v=e,w=n,S=r;if(!g||!v||d!=="ScatterChart"&&m!=="axis")return null;var T,R;if(d==="ScatterChart")T=v,R=iW;else if(d==="BarChart")T=aW(c,v,i,a),R=O8;else if(c==="radial"){var{cx:M,cy:P,radius:U,startAngle:W,endAngle:q}=R8(v);T={cx:M,cy:P,startAngle:W,endAngle:q,innerRadius:U,outerRadius:U},R=D8}else T={points:zW(c,v,i)},R=Gw;var ee=typeof g=="object"&&"className"in g?g.className:void 0,$=F1(F1(F1(F1({stroke:"#ccc",pointerEvents:"none"},i),T),oc(g)),{},{payload:w,payloadIndex:S,className:fn("recharts-tooltip-cursor",ee)});return N.isValidElement(g)?N.cloneElement(g,$):N.createElement(R,$)}function YZ(t){var e=PZ(),n=b8(),r=Zm(),i=LZ();return N.createElement(GZ,cb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var LP=N.createContext(null),WZ=()=>N.useContext(LP),Fx={exports:{}},f4;function $Z(){return f4||(f4=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,d,v){this.fn=m,this.context=d,this.once=v||!1}function a(m,d,v,w,S){if(typeof v!="function")throw new TypeError("The listener must be a function");var T=new i(v,w||m,S),R=n?n+d:d;return m._events[R]?m._events[R].fn?m._events[R]=[m._events[R],T]:m._events[R].push(T):(m._events[R]=T,m._eventsCount++),m}function c(m,d){--m._eventsCount===0?m._events=new r:delete m._events[d]}function g(){this._events=new r,this._eventsCount=0}g.prototype.eventNames=function(){var d=[],v,w;if(this._eventsCount===0)return d;for(w in v=this._events)e.call(v,w)&&d.push(n?w.slice(1):w);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},g.prototype.listeners=function(d){var v=n?n+d:d,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,T=w.length,R=new Array(T);S<T;S++)R[S]=w[S].fn;return R},g.prototype.listenerCount=function(d){var v=n?n+d:d,w=this._events[v];return w?w.fn?1:w.length:0},g.prototype.emit=function(d,v,w,S,T,R){var M=n?n+d:d;if(!this._events[M])return!1;var P=this._events[M],U=arguments.length,W,q;if(P.fn){switch(P.once&&this.removeListener(d,P.fn,void 0,!0),U){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,v),!0;case 3:return P.fn.call(P.context,v,w),!0;case 4:return P.fn.call(P.context,v,w,S),!0;case 5:return P.fn.call(P.context,v,w,S,T),!0;case 6:return P.fn.call(P.context,v,w,S,T,R),!0}for(q=1,W=new Array(U-1);q<U;q++)W[q-1]=arguments[q];P.fn.apply(P.context,W)}else{var ee=P.length,$;for(q=0;q<ee;q++)switch(P[q].once&&this.removeListener(d,P[q].fn,void 0,!0),U){case 1:P[q].fn.call(P[q].context);break;case 2:P[q].fn.call(P[q].context,v);break;case 3:P[q].fn.call(P[q].context,v,w);break;case 4:P[q].fn.call(P[q].context,v,w,S);break;default:if(!W)for($=1,W=new Array(U-1);$<U;$++)W[$-1]=arguments[$];P[q].fn.apply(P[q].context,W)}}return!0},g.prototype.on=function(d,v,w){return a(this,d,v,w,!1)},g.prototype.once=function(d,v,w){return a(this,d,v,w,!0)},g.prototype.removeListener=function(d,v,w,S){var T=n?n+d:d;if(!this._events[T])return this;if(!v)return c(this,T),this;var R=this._events[T];if(R.fn)R.fn===v&&(!S||R.once)&&(!w||R.context===w)&&c(this,T);else{for(var M=0,P=[],U=R.length;M<U;M++)(R[M].fn!==v||S&&!R[M].once||w&&R[M].context!==w)&&P.push(R[M]);P.length?this._events[T]=P.length===1?P[0]:P:c(this,T)}return this},g.prototype.removeAllListeners=function(d){var v;return d?(v=n?n+d:d,this._events[v]&&c(this,v)):(this._events=new r,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=n,g.EventEmitter=g,t.exports=g}(Fx)),Fx.exports}var XZ=$Z();const KZ=bo(XZ);var Fd=new KZ,fb="recharts.syncEvent.tooltip",h4="recharts.syncEvent.brush";function eA(t,e){if(e){var n=Number.parseInt(e,10);if(!Cs(n))return t?.[n]}}var QZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kP=es({name:"options",initialState:QZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ZZ=kP.reducer,{createEventEmitter:JZ}=kP.actions;function eJ(t){return t.tooltip.syncInteraction}var tJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jP=es({name:"chartData",initialState:tJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:d4,setDataStartEndIndexes:nJ,setComputedData:Joe}=jP.actions,rJ=jP.reducer,iJ=["x","y"];function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return(e=sJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:e+""}function oJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lJ(t,e){if(t==null)return{};var n,r,i=uJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BP=()=>{};function cJ(){var t=rt(xE),e=rt(bE),n=dr(),r=rt(N6),i=rt(ml),a=Zm(),c=Qm(),g=rt(m=>m.rootProps.className);N.useEffect(()=>{if(t==null)return BP;var m=(d,v,w)=>{if(e!==w&&t===d){if(r==="index"){var S;if(c&&v!==null&&v!==void 0&&(S=v.payload)!==null&&S!==void 0&&S.coordinate&&v.payload.sourceViewBox){var T=v.payload.coordinate,{x:R,y:M}=T,P=lJ(T,iJ),{x:U,y:W,width:q,height:ee}=v.payload.sourceViewBox,$=lf(lf({},P),{},{x:c.x+(q?(R-U)/q:0)*c.width,y:c.y+(ee?(M-W)/ee:0)*c.height});n(lf(lf({},v),{},{payload:lf(lf({},v.payload),{},{coordinate:$})}))}else n(v);return}if(i!=null){var ne;if(typeof r=="function"){var k={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},V=r(i,k);ne=i[V]}else r==="value"&&(ne=i.find(le=>String(le.value)===v.payload.label));var{coordinate:j}=v.payload;if(ne==null||v.payload.active===!1||j==null||c==null){n(lb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:Q,y:Z}=j,X=Math.min(Q,c.x+c.width),z=Math.min(Z,c.y+c.height),ge={x:a==="horizontal"?ne.coordinate:X,y:a==="horizontal"?z:ne.coordinate},se=lb({active:v.payload.active,coordinate:ge,dataKey:v.payload.dataKey,index:String(ne.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox});n(se)}}};return Fd.on(fb,m),()=>{Fd.off(fb,m)}},[g,n,e,t,r,i,a,c])}function fJ(){var t=rt(xE),e=rt(bE),n=dr();N.useEffect(()=>{if(t==null)return BP;var r=(i,a,c)=>{e!==c&&t===i&&n(nJ(a))};return Fd.on(h4,r),()=>{Fd.off(h4,r)}},[n,e,t])}function hJ(){var t=dr();N.useEffect(()=>{t(JZ())},[t]),cJ(),fJ()}function dJ(t,e,n,r,i,a){var c=rt(T=>jZ(T,t,e)),g=rt(bE),m=rt(xE),d=rt(N6),v=rt(eJ),w=v?.active,S=Qm();N.useEffect(()=>{if(!w&&m!=null&&g!=null){var T=lb({active:a,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:S});Fd.emit(fb,m,T,g)}},[w,n,c,i,r,g,m,d,a,S])}function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){gJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yJ(t){return t.dataKey}function vJ(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(kY,e)}var y4=[],xJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Au.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function uf(t){var e=Ni(t,xJ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:c,filterNull:g,isAnimationActive:m,offset:d,payloadUniqBy:v,position:w,reverseDirection:S,useTranslate3d:T,wrapperStyle:R,cursor:M,shared:P,trigger:U,defaultIndex:W,portal:q,axisId:ee}=e,$=dr(),ne=typeof W=="number"?String(W):W;N.useEffect(()=>{$(VQ({shared:P,trigger:U,axisId:ee,active:n,defaultIndex:ne}))},[$,P,U,ee,n,ne]);var k=Qm(),V=S8(),j=kQ(P),{activeIndex:Q,isActive:Z}=rt(at=>FZ(at,j,U,ne)),X=rt(at=>UZ(at,j,U,ne)),z=rt(at=>PP(at,j,U,ne)),ge=rt(at=>BZ(at,j,U,ne)),se=X,le=WZ(),ue=n??Z,[Ie,Fe]=jM([se,ue]),ae=j==="axis"?z:void 0;dJ(j,U,ge,ae,Q,ue);var be=q??le;if(be==null)return null;var Te=se??y4;ue||(Te=y4),g&&Te.length&&(Te=DM(se.filter(at=>at.value!=null&&(at.hide!==!0||e.includeHidden)),v,yJ));var ke=Te.length>0,$e=N.createElement(HY,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:m,active:ue,coordinate:ge,hasPayload:ke,offset:d,position:w,reverseDirection:S,useTranslate3d:T,viewBox:k,wrapperStyle:R,lastBoundingBox:Ie,innerRef:Fe,hasPortalFromProps:!!q},vJ(c,p4(p4({},e),{},{payload:Te,label:ae,active:ue,coordinate:ge,accessibilityLayer:V})));return N.createElement(N.Fragment,null,zR.createPortal($e,be),ue&&N.createElement(YZ,{cursor:M,tooltipEventType:j,coordinate:ge,payload:se,index:Q}))}var Zl=t=>null;Zl.displayName="Cell";function bJ(t,e,n){return(e=wJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=EJ(t,"string");return typeof e=="symbol"?e:e+""}function EJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AJ{constructor(e){bJ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return(e=CJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=TJ(t,"string");return typeof e=="symbol"?e:e+""}function TJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IJ={cacheSize:2e3,enableCache:!0},UP=SJ({},IJ),x4=new AJ(UP.cacheSize),OJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b4="recharts_measurement_span";function RJ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",c=e.letterSpacing||"",g=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(c,"|").concat(g)}var w4=(t,e)=>{try{var n=document.getElementById(b4);n||(n=document.createElement("span"),n.setAttribute("id",b4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,OJ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},yd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Au.isSsr)return{width:0,height:0};if(!UP.enableCache)return w4(e,n);var r=RJ(e,n),i=x4.get(r);if(i)return i;var a=w4(e,n);return x4.set(r,a),a},E4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MJ=Object.keys(FP),bf="NaN";function PJ(t,e){return t*FP[e]}class ma{static parse(e){var n,[,r,i]=(n=DJ.exec(e))!==null&&n!==void 0?n:[];return new ma(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Cs(e)&&(this.unit=""),n!==""&&!NJ.test(n)&&(this.num=NaN,this.unit=""),MJ.includes(n)&&(this.num=PJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ma(NaN,""):new ma(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ma(NaN,""):new ma(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ma(NaN,""):new ma(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ma(NaN,""):new ma(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cs(this.num)}}function VP(t){if(t.includes(bf))return bf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=E4.exec(e))!==null&&n!==void 0?n:[],c=ma.parse(r??""),g=ma.parse(a??""),m=i==="*"?c.multiply(g):c.divide(g);if(m.isNaN())return bf;e=e.replace(E4,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,v,w,S]=(d=A4.exec(e))!==null&&d!==void 0?d:[],T=ma.parse(v??""),R=ma.parse(S??""),M=w==="+"?T.add(R):T.subtract(R);if(M.isNaN())return bf;e=e.replace(A4,M.toString())}return e}var S4=/\(([^()]*)\)/;function LJ(t){for(var e=t,n;(n=S4.exec(e))!=null;){var[,r]=n;e=e.replace(S4,VP(r))}return e}function kJ(t){var e=t.replace(/\s+/g,"");return e=LJ(e),e=VP(e),e}function jJ(t){try{return kJ(t)}catch{return bf}}function Vx(t){var e=jJ(t.slice(5,-1));return e===bf?"":e}var BJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UJ=["dx","dy","angle","className","breakAll"];function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(null,arguments)}function _4(t,e){if(t==null)return{};var n,r,i=FJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zP=/[ \f\n\r\t\v\u2028\u2029]+/,HP=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];hr(e)||(n?i=e.toString().split(""):i=e.toString().split(zP));var a=i.map(g=>({word:g,width:yd(g,r).width})),c=n?0:yd(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:c}}catch{return null}},VJ=(t,e,n,r,i)=>{var{maxLines:a,children:c,style:g,breakAll:m}=t,d=lt(a),v=c,w=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce((X,z)=>{var{word:ge,width:se}=z,le=X[X.length-1];if(le&&(r==null||i||le.width+se+n<Number(r)))le.words.push(ge),le.width+=se+n;else{var ue={words:[ge],width:se};X.push(ue)}return X},[])},S=w(e),T=Q=>Q.reduce((Z,X)=>Z.width>X.width?Z:X);if(!d||i)return S;var R=S.length>a||T(S).width>Number(r);if(!R)return S;for(var M="…",P=Q=>{var Z=v.slice(0,Q),X=HP({breakAll:m,style:g,children:Z+M}).wordsWithComputedWidth,z=w(X),ge=z.length>a||T(z).width>Number(r);return[ge,z]},U=0,W=v.length-1,q=0,ee;U<=W&&q<=v.length-1;){var $=Math.floor((U+W)/2),ne=$-1,[k,V]=P(ne),[j]=P($);if(!k&&!j&&(U=$+1),k&&j&&(W=$-1),!k&&j){ee=V;break}q++}return ee||S},C4=t=>{var e=hr(t)?[]:t.toString().split(zP);return[{words:e}]},zJ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:c}=t;if((e||n)&&!Au.isSsr){var g,m,d=HP({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:v,spaceWidth:w}=d;g=v,m=w}else return C4(r);return VJ({breakAll:a,children:r,maxLines:c,style:i},g,m,e,n)}return C4(r)},T4="#808080",xp=N.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:c=!1,textAnchor:g="start",verticalAnchor:m="end",fill:d=T4}=t,v=_4(t,BJ),w=N.useMemo(()=>zJ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:c,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,c,v.style,v.width]),{dx:S,dy:T,angle:R,className:M,breakAll:P}=v,U=_4(v,UJ);if(!vo(n)||!vo(r)||w.length===0)return null;var W=n+(lt(S)?S:0),q=r+(lt(T)?T:0),ee;switch(m){case"start":ee=Vx("calc(".concat(a,")"));break;case"middle":ee=Vx("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:ee=Vx("calc(".concat(w.length-1," * -").concat(i,")"));break}var $=[];if(c){var ne=w[0].width,{width:k}=v;$.push("scale(".concat(lt(k)?k/ne:1,")"))}return R&&$.push("rotate(".concat(R,", ").concat(W,", ").concat(q,")")),$.length&&(U.transform=$.join(" ")),N.createElement("text",hb({},na(U),{ref:e,x:W,y:q,className:fn("recharts-text",M),textAnchor:g,fill:d.includes("url")?T4:d}),w.map((V,j)=>{var Q=V.words.join(P?"":" ");return N.createElement("tspan",{x:W,dy:j===0?ee:i,key:"".concat(Q,"-").concat(j)},Q)}))});xp.displayName="Text";var HJ=["labelRef"];function qJ(t,e){if(t==null)return{};var n,r,i=GJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=WJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WJ(t){var e=$J(t,"string");return typeof e=="symbol"?e:e+""}function $J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Go.apply(null,arguments)}var qP=N.createContext(null),XJ=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,c=N.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return N.createElement(qP.Provider,{value:c},a)},GP=()=>{var t=N.useContext(qP),e=Qm();return t||e},KJ=N.createContext(null),QJ=()=>{var t=N.useContext(KJ),e=rt(k6);return t||e},ZJ=t=>{var{value:e,formatter:n}=t,r=hr(t.children)?e:t.children;return typeof n=="function"?n(r):r},tA=t=>t!=null&&typeof t=="function",JJ=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},eee=(t,e,n,r,i)=>{var{offset:a,className:c}=t,{cx:g,cy:m,innerRadius:d,outerRadius:v,startAngle:w,endAngle:S,clockWise:T}=i,R=(d+v)/2,M=JJ(w,S),P=M>=0?1:-1,U,W;switch(e){case"insideStart":U=w+P*a,W=T;break;case"insideEnd":U=S-P*a,W=!T;break;case"end":U=S+P*a,W=T;break;default:throw new Error("Unsupported position ".concat(e))}W=M<=0?W:!W;var q=Gr(g,m,R,U),ee=Gr(g,m,R,U+(W?1:-1)*359),$="M".concat(q.x,",").concat(q.y,`
    A`).concat(R,",").concat(R,",0,1,").concat(W?0:1,`,
    `).concat(ee.x,",").concat(ee.y),ne=hr(t.id)?Rd("recharts-radial-line-"):t.id;return N.createElement("text",Go({},r,{dominantBaseline:"central",className:fn("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:ne,d:$})),N.createElement("textPath",{xlinkHref:"#".concat(ne)},n))},tee=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:c,startAngle:g,endAngle:m}=t,d=(g+m)/2;if(n==="outside"){var{x:v,y:w}=Gr(r,i,c+e,d);return{x:v,y:w,textAnchor:v>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var S=(a+c)/2,{x:T,y:R}=Gr(r,i,S,d);return{x:T,y:R,textAnchor:"middle",verticalAnchor:"middle"}},YP=t=>"cx"in t&&lt(t.cx),nee=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!YP(n)&&(a=n);var{x:c,y:g,width:m,height:d}=e,v=d>=0?1:-1,w=v*r,S=v>0?"end":"start",T=v>0?"start":"end",R=m>=0?1:-1,M=R*r,P=R>0?"end":"start",U=R>0?"start":"end";if(i==="top"){var W={x:c+m/2,y:g-v*r,textAnchor:"middle",verticalAnchor:S};return Pr(Pr({},W),a?{height:Math.max(g-a.y,0),width:m}:{})}if(i==="bottom"){var q={x:c+m/2,y:g+d+w,textAnchor:"middle",verticalAnchor:T};return Pr(Pr({},q),a?{height:Math.max(a.y+a.height-(g+d),0),width:m}:{})}if(i==="left"){var ee={x:c-M,y:g+d/2,textAnchor:P,verticalAnchor:"middle"};return Pr(Pr({},ee),a?{width:Math.max(ee.x-a.x,0),height:d}:{})}if(i==="right"){var $={x:c+m+M,y:g+d/2,textAnchor:U,verticalAnchor:"middle"};return Pr(Pr({},$),a?{width:Math.max(a.x+a.width-$.x,0),height:d}:{})}var ne=a?{width:m,height:d}:{};return i==="insideLeft"?Pr({x:c+M,y:g+d/2,textAnchor:U,verticalAnchor:"middle"},ne):i==="insideRight"?Pr({x:c+m-M,y:g+d/2,textAnchor:P,verticalAnchor:"middle"},ne):i==="insideTop"?Pr({x:c+m/2,y:g+w,textAnchor:"middle",verticalAnchor:T},ne):i==="insideBottom"?Pr({x:c+m/2,y:g+d-w,textAnchor:"middle",verticalAnchor:S},ne):i==="insideTopLeft"?Pr({x:c+M,y:g+w,textAnchor:U,verticalAnchor:T},ne):i==="insideTopRight"?Pr({x:c+m-M,y:g+w,textAnchor:P,verticalAnchor:T},ne):i==="insideBottomLeft"?Pr({x:c+M,y:g+d-w,textAnchor:U,verticalAnchor:S},ne):i==="insideBottomRight"?Pr({x:c+m-M,y:g+d-w,textAnchor:P,verticalAnchor:S},ne):i&&typeof i=="object"&&(lt(i.x)||il(i.x))&&(lt(i.y)||il(i.y))?Pr({x:c+Yi(i.x,m),y:g+Yi(i.y,d),textAnchor:"end",verticalAnchor:"end"},ne):Pr({x:c+m/2,y:g+d/2,textAnchor:"middle",verticalAnchor:"middle"},ne)},ree={offset:5};function Xl(t){var e=Ni(t,ree),{viewBox:n,position:r,value:i,children:a,content:c,className:g="",textBreakAll:m,labelRef:d}=e,v=QJ(),w=GP(),S=r==="center"?w:v??w,T=n||S;if(!T||hr(i)&&hr(a)&&!N.isValidElement(c)&&typeof c!="function")return null;var R=Pr(Pr({},e),{},{viewBox:T});if(N.isValidElement(c)){var{labelRef:M}=R,P=qJ(R,HJ);return N.cloneElement(c,P)}var U;if(typeof c=="function"){if(U=N.createElement(c,R),N.isValidElement(U))return U}else U=ZJ(e);var W=YP(T),q=na(e);if(W&&(r==="insideStart"||r==="insideEnd"||r==="end"))return eee(e,r,U,q,T);var ee=W?tee(T,e.offset,e.position):nee(e,T);return N.createElement(xp,Go({ref:d,className:fn("recharts-label",g)},q,ee,{breakAll:m}),U)}Xl.displayName="Label";var iee=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(Xl,Go({key:"label-implicit"},r)):vo(t)?N.createElement(Xl,Go({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===Xl?N.cloneElement(t,Pr({key:"label-implicit"},r)):N.createElement(Xl,Go({key:"label-implicit",content:t},r)):tA(t)?N.createElement(Xl,Go({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(Xl,Go({},t,{key:"label-implicit"},r)):null};function aee(t){var{label:e,labelRef:n}=t,r=GP();return iee(e,r,n)||null}var zx={},Hx={},O4;function see(){return O4||(O4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(Hx)),Hx}var qx={},R4;function oee(){return R4||(R4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(qx)),qx}var N4;function lee(){return N4||(N4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=see(),n=oee(),r=Dw();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i}(zx)),zx}var Gx,D4;function uee(){return D4||(D4=1,Gx=lee().last),Gx}var cee=uee();const fee=bo(cee);var hee=["valueAccessor"],dee=["dataKey","clockWise","id","textBreakAll"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(null,arguments)}function M4(t,e){if(t==null)return{};var n,r,i=gee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mee=t=>Array.isArray(t.value)?fee(t.value):t.value,WP=N.createContext(void 0),$P=WP.Provider,XP=N.createContext(void 0),pee=XP.Provider;function yee(){return N.useContext(WP)}function vee(){return N.useContext(XP)}function J1(t){var{valueAccessor:e=mee}=t,n=M4(t,hee),{dataKey:r,clockWise:i,id:a,textBreakAll:c}=n,g=M4(n,dee),m=yee(),d=vee(),v=m||d;return!v||!v.length?null:N.createElement(Ri,{className:"recharts-label-list"},v.map((w,S)=>{var T,R=hr(r)?e(w,S):Wn(w&&w.payload,r),M=hr(a)?{}:{id:"".concat(a,"-").concat(S)};return N.createElement(Xl,Qg({key:"label-".concat(S)},na(w),g,M,{fill:(T=n.fill)!==null&&T!==void 0?T:w.fill,parentViewBox:w.parentViewBox,value:R,textBreakAll:c,viewBox:w.viewBox,index:S}))}))}J1.displayName="LabelList";function nA(t){var{label:e}=t;return e?e===!0?N.createElement(J1,{key:"labelList-implicit"}):N.isValidElement(e)||tA(e)?N.createElement(J1,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(J1,Qg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(null,arguments)}var KP=t=>{var{cx:e,cy:n,r,className:i}=t,a=fn("recharts-dot",i);return e===+e&&n===+n&&r===+r?N.createElement("circle",db({},Za(t),Ow(t),{className:a,cx:e,cy:n,r})):null},QP=t=>t.graphicalItems.polarItems,xee=we([gr,u0],CE),bp=we([QP,vr,xee],TE),bee=we([bp],IE),wp=we([bee,mE],OE),wee=we([wp,vr,bp],NE);we([wp,vr,bp],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,c=Wn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Wn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var P4=()=>{},Eee=we([wp,vr,bp,mp,gr],LE),Aee=we([vr,ME,PE,P4,Eee,P4,an,gr],kE),ZP=we([vr,an,wp,wee,l0,gr,Aee],jE),See=we([ZP,vr,rh],FE);we([vr,ZP,See,gr],zE);var _ee={radiusAxis:{},angleAxis:{}},JP=es({name:"polarAxis",initialState:_ee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ele,removeRadiusAxis:tle,addAngleAxis:nle,removeAngleAxis:rle}=JP.actions,Cee=JP.reducer;function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ree=(t,e)=>e,rA=we([QP,Ree],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Nee=[],iA=(t,e,n)=>n?.length===0?Nee:n,e5=we([mE,rA,iA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>k4(k4({},e.presentationProps),a.props))),i!=null)return i}}),Dee=we([e5,rA,iA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,c=Wn(r,e.nameKey,e.name),g;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?g=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?g=r.fill:g=e.fill,{value:Kf(c,e.dataKey),color:g,payload:r,type:e.legendType}})}),Mee=we([e5,rA,iA,ei],(t,e,n,r)=>{if(!(e==null||t==null))return Mte({offset:r,pieSettings:e,displayedData:t,cells:n})}),Yx={exports:{}},Mn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4;function Pee(){if(j4)return Mn;j4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function R(M){if(typeof M=="object"&&M!==null){var P=M.$$typeof;switch(P){case t:switch(M=M.type,M){case n:case i:case r:case m:case d:case S:return M;default:switch(M=M&&M.$$typeof,M){case c:case g:case w:case v:return M;case a:return M;default:return P}}case e:return P}}}return Mn.ContextConsumer=a,Mn.ContextProvider=c,Mn.Element=t,Mn.ForwardRef=g,Mn.Fragment=n,Mn.Lazy=w,Mn.Memo=v,Mn.Portal=e,Mn.Profiler=i,Mn.StrictMode=r,Mn.Suspense=m,Mn.SuspenseList=d,Mn.isContextConsumer=function(M){return R(M)===a},Mn.isContextProvider=function(M){return R(M)===c},Mn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Mn.isForwardRef=function(M){return R(M)===g},Mn.isFragment=function(M){return R(M)===n},Mn.isLazy=function(M){return R(M)===w},Mn.isMemo=function(M){return R(M)===v},Mn.isPortal=function(M){return R(M)===e},Mn.isProfiler=function(M){return R(M)===i},Mn.isStrictMode=function(M){return R(M)===r},Mn.isSuspense=function(M){return R(M)===m},Mn.isSuspenseList=function(M){return R(M)===d},Mn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===n||M===i||M===r||M===m||M===d||typeof M=="object"&&M!==null&&(M.$$typeof===w||M.$$typeof===v||M.$$typeof===c||M.$$typeof===a||M.$$typeof===g||M.$$typeof===T||M.getModuleId!==void 0)},Mn.typeOf=R,Mn}var B4;function Lee(){return B4||(B4=1,Yx.exports=Pee()),Yx.exports}var kee=Lee(),U4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",F4=null,Wx=null,t5=t=>{if(t===F4&&Array.isArray(Wx))return Wx;var e=[];return N.Children.forEach(t,n=>{hr(n)||(kee.isFragment(n)?e=e.concat(t5(n.props.children)):e.push(n))}),Wx=e,F4=t,e};function aA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>U4(i)):r=[U4(e)],t5(t).forEach(i=>{var a=lc(i,"type.displayName")||lc(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var n5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,$x={},V4;function jee(){return V4||(V4=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}($x)),$x}var Xx,z4;function Bee(){return z4||(z4=1,Xx=jee().isPlainObject),Xx}var Uee=Bee();const Fee=bo(Uee);function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){Vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(null,arguments)}var G4=(t,e,n,r,i)=>{var a=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-a/2,",").concat(e+i),c+="L ".concat(t+n-a/2-r,",").concat(e+i),c+="L ".concat(t,",").concat(e," Z"),c},qee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gee=t=>{var e=Ni(t,qee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:c,className:g}=e,{animationEasing:m,animationDuration:d,animationBegin:v,isUpdateAnimationActive:w}=e,S=N.useRef(null),[T,R]=N.useState(-1),M=N.useRef(i),P=N.useRef(a),U=N.useRef(c),W=N.useRef(n),q=N.useRef(r),ee=r0(t,"trapezoid-");if(N.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var ge=S.current.getTotalLength();ge&&R(ge)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||c!==+c||i===0&&a===0||c===0)return null;var $=fn("recharts-trapezoid",g);if(!w)return N.createElement("g",null,N.createElement("path",Zg({},na(e),{className:$,d:G4(n,r,i,a,c)})));var ne=M.current,k=P.current,V=U.current,j=W.current,Q=q.current,Z="0px ".concat(T===-1?1:T,"px"),X="".concat(T,"px 0px"),z=_8(["strokeDasharray"],d,m);return N.createElement(n0,{animationId:ee,key:ee,canBegin:T>0,duration:d,easing:m,isActive:w,begin:v},ge=>{var se=Cr(ne,i,ge),le=Cr(k,a,ge),ue=Cr(V,c,ge),Ie=Cr(j,n,ge),Fe=Cr(Q,r,ge);S.current&&(M.current=se,P.current=le,U.current=ue,W.current=Ie,q.current=Fe);var ae=ge>0?{transition:z,strokeDasharray:X}:{strokeDasharray:Z};return N.createElement("path",Zg({},na(e),{className:$,d:G4(Ie,Fe,se,le,ue),ref:S,style:q4(q4({},ae),e.style)}))})},Yee=["option","shapeType","propTransformer","activeClassName","isActive"];function Wee(t,e){if(t==null)return{};var n,r,i=$ee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){Xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xee(t,e,n){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zee(t,e){return Jg(Jg({},e),t)}function Jee(t,e){return t==="symbols"}function W4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(O8,n);case"trapezoid":return N.createElement(Gee,n);case"sector":return N.createElement(D8,n);case"symbols":if(Jee(e))return N.createElement(Iw,n);break;default:return null}}function ete(t){return N.isValidElement(t)?t.props:t}function r5(t){var{option:e,shapeType:n,propTransformer:r=Zee,activeClassName:i="recharts-active-shape",isActive:a}=t,c=Wee(t,Yee),g;if(N.isValidElement(e))g=N.cloneElement(e,Jg(Jg({},c),ete(e)));else if(typeof e=="function")g=e(c);else if(Fee(e)&&typeof e!="boolean"){var m=r(e,c);g=N.createElement(W4,{shapeType:n,elementProps:m})}else{var d=c;g=N.createElement(W4,{shapeType:n,elementProps:d})}return a?N.createElement(Ri,{className:i},g):g}var sA=(t,e)=>{var n=dr();return(r,i)=>a=>{t?.(r,i,a),n(gP({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},oA=t=>{var e=dr();return(n,r)=>i=>{t?.(n,r,i),e(zQ())}},lA=(t,e)=>{var n=dr();return(r,i)=>a=>{t?.(r,i,a),n(HQ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function uA(t){var{fn:e,args:n}=t,r=dr(),i=ra();return N.useLayoutEffect(()=>{if(!i){var a=e(n);return r(UQ(a)),()=>{r(FQ(a))}}},[e,n,r,i]),null}var i5=()=>{};function a5(t){var{legendPayload:e}=t,n=dr(),r=ra();return N.useLayoutEffect(()=>r?i5:(n(E8(e)),()=>{n(A8(e))}),[n,r,e]),null}function tte(t){var{legendPayload:e}=t,n=dr(),r=rt(an);return N.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?i5:(n(E8(e)),()=>{n(A8(e))}),[n,r,e]),null}var Kx,nte=()=>{var[t]=N.useState(()=>Rd("uid-"));return t},rte=(Kx=TL.useId)!==null&&Kx!==void 0?Kx:nte;function ite(t,e){var n=rte();return e||(t?"".concat(t,"-").concat(n):n)}var ate=N.createContext(void 0),cA=t=>{var{id:e,type:n,children:r}=t,i=ite("recharts-".concat(n),e);return N.createElement(ate.Provider,{value:i},r(i))},ste={cartesianItems:[],polarItems:[]},s5=es({name:"graphicalItems",initialState:ste,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ji()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Qo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Ji()},removeCartesianGraphicalItem:{reducer(t,e){var n=Qo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ji()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ji()},removePolarGraphicalItem:{reducer(t,e){var n=Qo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ji()}}}),{addCartesianGraphicalItem:ote,replaceCartesianGraphicalItem:lte,removeCartesianGraphicalItem:ute,addPolarGraphicalItem:cte,removePolarGraphicalItem:fte}=s5.actions,hte=s5.reducer;function o5(t){var e=dr(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(ote(t)):n.current!==t&&e(lte({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(ute(n.current)),n.current=null)},[e]),null}function dte(t){var e=dr();return N.useLayoutEffect(()=>(e(cte(t)),()=>{e(fte(t))}),[e,t]),null}var gte=["onMouseEnter","onClick","onMouseLeave"],mte=["id"],pte=["id"];function fA(t,e){if(t==null)return{};var n,r,i=yte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vte(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(null,arguments)}function wte(t){var e=N.useMemo(()=>aA(t.children,Zl),[t.children]),n=rt(r=>Dee(r,t.id,e));return n==null?null:N.createElement(tte,{legendPayload:n})}function Ete(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:c,name:g,hide:m,tooltipType:d}=t;return{dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:c,dataKey:e,nameKey:n,name:Kf(g,e),hide:m,type:d,color:c,unit:""}}}var Ate=(t,e)=>t>e?"start":t<e?"end":"middle",Ste=(t,e,n)=>Yi(typeof e=="function"?e(t):e,n,n*.8),_te=(t,e,n)=>{var{top:r,left:i,width:a,height:c}=e,g=c8(a,c),m=i+Yi(t.cx,a,a/2),d=r+Yi(t.cy,c,c/2),v=Yi(t.innerRadius,g,0),w=Ste(n,t.outerRadius,g),S=t.maxRadius||Math.sqrt(a*a+c*c)/2;return{cx:m,cy:d,innerRadius:v,outerRadius:w,maxRadius:S}},Cte=(t,e)=>{var n=fi(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Tte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Ite=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var n=fn("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return N.createElement(Gw,pu({},e,{type:"linear",className:n}))},Ote=(t,e,n)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),N.isValidElement(r)))return r;var i=fn("recharts-pie-label-text",Tte(t));return N.createElement(xp,pu({},e,{alignmentBaseline:"middle",className:i}),r)};function Rte(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:c}=n;if(!r||!i||!e)return null;var g=Za(n),m=oc(i),d=oc(a),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,w=e.map((S,T)=>{var R=(S.startAngle+S.endAngle)/2,M=Gr(S.cx,S.cy,S.outerRadius+v,R),P=ur(ur(ur(ur({},g),S),{},{stroke:"none"},m),{},{index:T,textAnchor:Ate(M.x,S.cx)},M),U=ur(ur(ur(ur({},g),S),{},{fill:"none",stroke:S.fill},d),{},{index:T,points:[Gr(S.cx,S.cy,S.outerRadius,R),M],key:"line"});return N.createElement(Ri,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(T)},a&&Ite(a,U),Ote(i,P,Wn(S,c)))});return N.createElement(Ri,{className:"recharts-pie-labels"},w)}function Nte(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(nA,{label:i}):N.createElement(Rte,{sectors:e,props:n,showLabels:r})}function Dte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=rt(mu),{onMouseEnter:c,onClick:g,onMouseLeave:m}=i,d=fA(i,gte),v=sA(c,i.dataKey),w=oA(m),S=lA(g,i.dataKey);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((T,R)=>{if(T?.startAngle===0&&T?.endAngle===0&&e.length!==1)return null;var M=n&&String(R)===a,P=a?r:null,U=M?n:P,W=ur(ur({},T),{},{stroke:T.stroke,tabIndex:-1,[m8]:R,[p8]:i.dataKey});return N.createElement(Ri,pu({key:"sector-".concat(T?.startAngle,"-").concat(T?.endAngle,"-").concat(T.midAngle,"-").concat(R),tabIndex:-1,className:"recharts-pie-sector"},Zd(d,T,R),{onMouseEnter:v(T,R),onMouseLeave:w(T,R),onClick:S(T,R)}),N.createElement(r5,pu({option:U,isActive:M,shapeType:"sector"},W)))}))}function Mte(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:c,startAngle:g,endAngle:m,dataKey:d,nameKey:v,tooltipType:w}=n,S=Math.abs(n.minAngle),T=Cte(g,m),R=Math.abs(T),M=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,P=r.filter(ne=>Wn(ne,d,0)!==0).length,U=(R>=360?P:P-1)*M,W=R-P*S-U,q=r.reduce((ne,k)=>{var V=Wn(k,d,0);return ne+(lt(V)?V:0)},0),ee;if(q>0){var $;ee=r.map((ne,k)=>{var V=Wn(ne,d,0),j=Wn(ne,v,k),Q=_te(n,a,ne),Z=(lt(V)?V:0)/q,X,z=ur(ur({},ne),i&&i[k]&&i[k].props);k?X=$.endAngle+fi(T)*M*(V!==0?1:0):X=g;var ge=X+fi(T)*((V!==0?S:0)+Z*W),se=(X+ge)/2,le=(Q.innerRadius+Q.outerRadius)/2,ue=[{name:j,value:V,payload:z,dataKey:d,type:w}],Ie=Gr(Q.cx,Q.cy,le,se);return $=ur(ur(ur(ur({},n.presentationProps),{},{percent:Z,cornerRadius:c,name:j,tooltipPayload:ue,midAngle:se,middleRadius:le,tooltipPosition:Ie},z),Q),{},{value:V,startAngle:X,endAngle:ge,payload:z,paddingAngle:fi(T)*M}),$})}return ee}function Pte(t){var{showLabels:e,sectors:n,children:r}=t,i=N.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return N.createElement(pee,{value:e?i:void 0},r)}function Lte(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:c,animationEasing:g,activeShape:m,inactiveShape:d,onAnimationStart:v,onAnimationEnd:w}=e,S=r0(e,"recharts-pie-"),T=n.current,[R,M]=N.useState(!1),P=N.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),U=N.useCallback(()=>{typeof v=="function"&&v(),M(!0)},[v]);return N.createElement(Pte,{showLabels:!R,sectors:r},N.createElement(n0,{animationId:S,begin:a,duration:c,isActive:i,easing:g,onAnimationStart:U,onAnimationEnd:P,key:S},W=>{var q=[],ee=r&&r[0],$=ee?.startAngle;return r?.forEach((ne,k)=>{var V=T&&T[k],j=k>0?lc(ne,"paddingAngle",0):0;if(V){var Q=Cr(V.endAngle-V.startAngle,ne.endAngle-ne.startAngle,W),Z=ur(ur({},ne),{},{startAngle:$+j,endAngle:$+Q+j});q.push(Z),$=Z.endAngle}else{var{endAngle:X,startAngle:z}=ne,ge=Cr(0,X-z,W),se=ur(ur({},ne),{},{startAngle:$+j,endAngle:$+ge+j});q.push(se),$=se.endAngle}}),n.current=q,N.createElement(Ri,null,N.createElement(Dte,{sectors:q,activeShape:m,inactiveShape:d,allOtherPieProps:e}))}),N.createElement(Nte,{showLabels:!R,sectors:r,props:e}),e.children)}var kte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Au.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function jte(t){var{id:e}=t,n=fA(t,mte),{hide:r,className:i,rootTabIndex:a}=t,c=N.useMemo(()=>aA(t.children,Zl),[t.children]),g=rt(v=>Mee(v,e,c)),m=N.useRef(null),d=fn("recharts-pie",i);return r||g==null?(m.current=null,N.createElement(Ri,{tabIndex:a,className:d})):N.createElement(N.Fragment,null,N.createElement(uA,{fn:Ete,args:ur(ur({},t),{},{sectors:g})}),N.createElement(Ri,{tabIndex:a,className:d},N.createElement(Lte,{props:ur(ur({},n),{},{sectors:g}),previousSectorsRef:m})))}function l5(t){var e=Ni(t,kte),{id:n}=e,r=fA(e,pte),i=Za(r);return N.createElement(cA,{id:n,type:"pie"},a=>N.createElement(N.Fragment,null,N.createElement(dte,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),N.createElement(wte,pu({},r,{id:a})),N.createElement(jte,pu({},r,{id:a}))))}l5.displayName="Pie";function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vte={xAxis:{},yAxis:{},zAxis:{}},u5=es({name:"cartesianAxis",initialState:Vte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ji()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ji()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ji()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ji()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ji()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ji()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var c=[...a,r].slice(-3);t.yAxis[n]=K4(K4({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:zte,removeXAxis:Hte,addYAxis:qte,removeYAxis:Gte,addZAxis:ile,removeZAxis:ale,updateYAxisWidth:Yte}=u5.actions,Wte=u5.reducer,$te=we([ei],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Xte=we([$te,cl,fl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),hA=()=>rt(Xte),Kte=()=>rt(OZ);function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){Qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ene=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var c=Z4(Z4({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},oc(i)),Ow(i)),g;return N.isValidElement(i)?g=N.cloneElement(i,c):typeof i=="function"?g=i(c):g=N.createElement(KP,c),N.createElement(Ri,{className:"recharts-active-dot"},g)};function tne(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=rt(mu),c=Kte();if(e==null||c==null)return null;var g=e.find(m=>c.includes(m.payload));return hr(g)?null:ene({point:g,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var nne="Invariant failed";function rne(t,e){throw new Error(nne)}var ine=["x","y"];function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(null,arguments)}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e,n){return(e=sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lne(t,e){if(t==null)return{};var n,r,i=une(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function une(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cne(t,e){var{x:n,y:r}=t,i=lne(t,ine),a="".concat(n),c=parseInt(a,10),g="".concat(r),m=parseInt(g,10),d="".concat(e.height||i.height),v=parseInt(d,10),w="".concat(e.width||i.width),S=parseInt(w,10);return rd(rd(rd(rd(rd({},e),i),c?{x:c}:{}),m?{y:m}:{}),{},{height:v,width:S,name:e.name,radius:e.radius})}function dA(t){return N.createElement(r5,gb({shapeType:"rectangle",propTransformer:cne,activeClassName:"recharts-active-bar"},t))}var fne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(lt(e))return e;var a=lt(r)||hr(r);return a?e(r,i):(a||rne(),n)}},hne={},c5=es({name:"errorBars",initialState:hne,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:sle,replaceErrorBar:ole,removeErrorBar:lle}=c5.actions,dne=c5.reducer,gne=["children"];function mne(t,e){if(t==null)return{};var n,r,i=pne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vne=N.createContext(yne);function f5(t){var{children:e}=t,n=mne(t,gne);return N.createElement(vne.Provider,{value:n},e)}function gA(t,e){var n,r,i=rt(d=>dl(d,t)),a=rt(d=>gl(d,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ha.allowDataOverflow,g=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:qa.allowDataOverflow,m=c||g;return{needClip:m,needClipX:c,needClipY:g}}function h5(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=hA(),{needClipX:a,needClipY:c,needClip:g}=gA(e,n);if(!g)return null;var{x:m,y:d,width:v,height:w}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:a?m:m-v/2,y:c?d:d-w/2,width:a?v:v*2,height:c?w:w*2}))}var xne=["onMouseEnter","onMouseLeave","onClick"],bne=["value","background","tooltipPosition"],wne=["id"],Ene=["onMouseEnter","onClick","onMouseLeave"];function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(null,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return(e=Sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function em(t,e){if(t==null)return{};var n,r,i=Cne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tne=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Kf(n,e),payload:t}]};function Ine(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:c,unit:g}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Kf(a,e),hide:c,type:t.tooltipType,color:t.fill,unit:g}}}function One(t){var e=rt(mu),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:c,onMouseLeave:g,onClick:m}=a,d=em(a,xne),v=sA(c,r),w=oA(g),S=lA(m,r);if(!i||n==null)return null;var T=oc(i);return N.createElement(N.Fragment,null,n.map((R,M)=>{var{value:P,background:U,tooltipPosition:W}=R,q=em(R,bne);if(!U)return null;var ee=v(R,M),$=w(R,M),ne=S(R,M),k=ea(ea(ea(ea(ea({option:i,isActive:String(M)===e},q),{},{fill:"#eee"},U),T),Zd(d,R,M)),{},{onMouseEnter:ee,onMouseLeave:$,onClick:ne,dataKey:r,index:M,className:"recharts-bar-background-rectangle"});return N.createElement(dA,yu({key:"background-bar-".concat(M)},k))}))}function Rne(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var c={x:a.x,y:a.y,width:a.width,height:a.height};return ea(ea({},c),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:c,fill:a.fill})});return N.createElement($P,{value:e?i:void 0},n)}function Nne(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:c}=t,g=rt(mu),m=rt(OP),d=n&&String(a)===g&&(m==null||c===m),v=d?n:e;return N.createElement(dA,yu({},r,{name:String(r.name)},i,{isActive:d,option:v,index:a,dataKey:c}))}function Dne(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return N.createElement(dA,yu({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Mne(t){var{data:e,props:n}=t,r=Za(n),{id:i}=r,a=em(r,wne),{shape:c,dataKey:g,activeBar:m}=n,{onMouseEnter:d,onClick:v,onMouseLeave:w}=n,S=em(n,Ene),T=sA(d,g),R=oA(w),M=lA(v,g);return e?N.createElement(N.Fragment,null,e.map((P,U)=>N.createElement(Ri,yu({key:"rectangle-".concat(P?.x,"-").concat(P?.y,"-").concat(P?.value,"-").concat(U),className:"recharts-bar-rectangle"},Zd(S,P,U),{onMouseEnter:T(P,U),onMouseLeave:R(P,U),onClick:M(P,U)}),m?N.createElement(Nne,{shape:c,activeBar:m,baseProps:a,entry:P,index:U,dataKey:g}):N.createElement(Dne,{shape:c,baseProps:a,entry:P,index:U,dataKey:g})))):null}function Pne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:c,animationDuration:g,animationEasing:m,onAnimationEnd:d,onAnimationStart:v}=e,w=n.current,S=r0(e,"recharts-bar-"),[T,R]=N.useState(!1),M=!T,P=N.useCallback(()=>{typeof d=="function"&&d(),R(!1)},[d]),U=N.useCallback(()=>{typeof v=="function"&&v(),R(!0)},[v]);return N.createElement(Rne,{showLabels:M,rects:r},N.createElement(n0,{animationId:S,begin:c,duration:g,isActive:a,easing:m,onAnimationEnd:P,onAnimationStart:U,key:S},W=>{var q=W===1?r:r?.map((ee,$)=>{var ne=w&&w[$];if(ne)return ea(ea({},ee),{},{x:Cr(ne.x,ee.x,W),y:Cr(ne.y,ee.y,W),width:Cr(ne.width,ee.width,W),height:Cr(ne.height,ee.height,W)});if(i==="horizontal"){var k=Cr(0,ee.height,W);return ea(ea({},ee),{},{y:ee.y+ee.height-k,height:k})}var V=Cr(0,ee.width,W);return ea(ea({},ee),{},{width:V})});return W>0&&(n.current=q??null),q==null?null:N.createElement(Ri,null,N.createElement(Mne,{props:e,data:q}))}),N.createElement(nA,{label:e.label}),e.children)}function Lne(t){var e=N.useRef(null);return N.createElement(Pne,{previousRectanglesRef:e,props:t})}var d5=0,kne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Wn(t,e)}};class jne extends N.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:c,needClip:g,background:m,id:d}=this.props;if(e||n==null)return null;var v=fn("recharts-bar",i),w=d;return N.createElement(Ri,{className:v,id:d},g&&N.createElement("defs",null,N.createElement(h5,{clipPathId:w,xAxisId:a,yAxisId:c})),N.createElement(Ri,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(w,")"):void 0},N.createElement(One,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),N.createElement(Lne,this.props)))}}var Bne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Au.isSsr,legendType:"rect",minPointSize:d5,xAxisId:0,yAxisId:0};function Une(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:c,animationBegin:g,animationDuration:m,animationEasing:d,isAnimationActive:v}=t,{needClip:w}=gA(e,n),S=Zm(),T=ra(),R=aA(t.children,Zl),M=rt(W=>dre(W,e,n,T,t.id,R));if(S!=="vertical"&&S!=="horizontal")return null;var P,U=M?.[0];return U==null||U.height==null||U.width==null?P=0:P=S==="vertical"?U.height/2:U.width/2,N.createElement(f5,{xAxisId:e,yAxisId:n,data:M,dataPointFormatter:kne,errorBarOffset:P},N.createElement(jne,yu({},t,{layout:S,needClip:w,data:M,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:c,animationBegin:g,animationDuration:m,animationEasing:d,isAnimationActive:v})))}function Fne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:c,yAxis:g,xAxisTicks:m,yAxisTicks:d,stackedData:v,displayedData:w,offset:S,cells:T,parentViewBox:R}=t,M=e==="horizontal"?g:c,P=v?M.scale.domain():null,U=kG({numericAxis:M});return w.map((W,q)=>{var ee,$,ne,k,V,j;v?ee=RG(v[q],P):(ee=Wn(W,n),Array.isArray(ee)||(ee=[U,ee]));var Q=fne(r,d5)(ee[1],q);if(e==="horizontal"){var Z,[X,z]=[g.scale(ee[0]),g.scale(ee[1])];$=M3({axis:c,ticks:m,bandSize:a,offset:i.offset,entry:W,index:q}),ne=(Z=z??X)!==null&&Z!==void 0?Z:void 0,k=i.size;var ge=X-z;if(V=Cs(ge)?0:ge,j={x:$,y:S.top,width:k,height:S.height},Math.abs(Q)>0&&Math.abs(V)<Math.abs(Q)){var se=fi(V||Q)*(Math.abs(Q)-Math.abs(V));ne-=se,V+=se}}else{var[le,ue]=[c.scale(ee[0]),c.scale(ee[1])];if($=le,ne=M3({axis:g,ticks:d,bandSize:a,offset:i.offset,entry:W,index:q}),k=ue-le,V=i.size,j={x:S.left,y:ne,width:S.width,height:V},Math.abs(Q)>0&&Math.abs(k)<Math.abs(Q)){var Ie=fi(k||Q)*(Math.abs(Q)-Math.abs(k));k+=Ie}}if($==null||ne==null||k==null||V==null)return null;var Fe=ea(ea({},W),{},{x:$,y:ne,width:k,height:V,value:v?ee:ee[1],payload:W,background:j,tooltipPosition:{x:$+k/2,y:ne+V/2},parentViewBox:R},T&&T[q]&&T[q].props);return Fe}).filter(Boolean)}function Vne(t){var e=Ni(t,Bne),n=ra();return N.createElement(cA,{id:e.id,type:"bar"},r=>N.createElement(N.Fragment,null,N.createElement(a5,{legendPayload:Tne(e)}),N.createElement(uA,{fn:Ine,args:e}),N.createElement(o5,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:LG(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),N.createElement(Une,yu({},e,{id:r}))))}var fd=N.memo(Vne);fd.displayName="Bar";function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gne=(t,e)=>e,Yne=(t,e,n)=>n,Wne=(t,e,n,r)=>r,$ne=(t,e,n,r,i)=>i,m0=we([dp,$ne],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Xne=we([m0],t=>t?.maxBarSize),Kne=(t,e,n,r,i,a)=>a,nR=(t,e,n)=>{var r=n??t;if(!hr(r))return Yi(r,e,0)},Qne=we([an,dp,Gne,Yne,Wne],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Zne=(t,e,n,r)=>{var i=an(t);return i==="horizontal"?ob(t,"yAxis",n,r):ob(t,"xAxis",e,r)},Jne=(t,e,n)=>{var r=an(t);return r==="horizontal"?r4(t,"xAxis",e):r4(t,"yAxis",n)},ere=(t,e,n)=>{var r={},i=t.filter(cp),a=t.filter(d=>d.stackId==null),c=i.reduce((d,v)=>(d[v.stackId]||(d[v.stackId]=[]),d[v.stackId].push(v),d),r),g=Object.entries(c).map(d=>{var[v,w]=d,S=w.map(R=>R.dataKey),T=nR(e,n,w[0].barSize);return{stackId:v,dataKeys:S,barSize:T}}),m=a.map(d=>{var v=[d.dataKey].filter(S=>S!=null),w=nR(e,n,d.barSize);return{stackId:void 0,dataKeys:v,barSize:w}});return[...g,...m]},tre=we([Qne,LK,Jne],ere),nre=(t,e,n,r,i)=>{var a,c,g=m0(t,e,n,r,i);if(g!=null){var m=an(t),d=O6(t),{maxBarSize:v}=g,w=hr(v)?d:v,S,T;return m==="horizontal"?(S=gu(t,"xAxis",e,r),T=du(t,"xAxis",e,r)):(S=gu(t,"yAxis",n,r),T=du(t,"yAxis",n,r)),(a=(c=Md(S,T,!0))!==null&&c!==void 0?c:w)!==null&&a!==void 0?a:0}},g5=(t,e,n,r)=>{var i=an(t),a,c;return i==="horizontal"?(a=gu(t,"xAxis",e,r),c=du(t,"xAxis",e,r)):(a=gu(t,"yAxis",n,r),c=du(t,"yAxis",n,r)),Md(a,c)};function rre(t,e,n,r,i){var a=r.length;if(!(a<1)){var c=Yi(t,n,0,!0),g,m=[];if(Wi(r[0].barSize)){var d=!1,v=n/a,w=r.reduce((U,W)=>U+(W.barSize||0),0);w+=(a-1)*c,w>=n&&(w-=(a-1)*c,c=0),w>=n&&v>0&&(d=!0,v*=.9,w=a*v);var S=(n-w)/2>>0,T={offset:S-c,size:0};g=r.reduce((U,W)=>{var q,ee={stackId:W.stackId,dataKeys:W.dataKeys,position:{offset:T.offset+T.size+c,size:d?v:(q=W.barSize)!==null&&q!==void 0?q:0}},$=[...U,ee];return T=$[$.length-1].position,$},m)}else{var R=Yi(e,n,0,!0);n-2*R-(a-1)*c<=0&&(c=0);var M=(n-2*R-(a-1)*c)/a;M>1&&(M>>=0);var P=Wi(i)?Math.min(M,i):M;g=r.reduce((U,W,q)=>[...U,{stackId:W.stackId,dataKeys:W.dataKeys,position:{offset:R+(M+c)*q+(M-P)/2,size:P}}],m)}return g}}var ire=(t,e,n,r,i,a,c)=>{var g=hr(c)?e:c,m=rre(n,r,i!==a?i:a,t,g);return i!==a&&m!=null&&(m=m.map(d=>V1(V1({},d),{},{position:V1(V1({},d.position),{},{offset:d.position.offset-i/2})}))),m},are=we([tre,O6,PK,R6,nre,g5,Xne],ire),sre=(t,e,n,r)=>gu(t,"xAxis",e,r),ore=(t,e,n,r)=>gu(t,"yAxis",n,r),lre=(t,e,n,r)=>du(t,"xAxis",e,r),ure=(t,e,n,r)=>du(t,"yAxis",n,r),cre=we([are,m0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),fre=(t,e)=>{var n=SE(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(c=>c.key===n)}}}},hre=we([Zne,m0],fre),dre=we([ei,Fw,sre,ore,lre,ure,cre,an,sp,g5,hre,m0,Kne],(t,e,n,r,i,a,c,g,m,d,v,w,S)=>{var{chartData:T,dataStartIndex:R,dataEndIndex:M}=m;if(!(w==null||c==null||e==null||g!=="horizontal"&&g!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:P}=w,U;if(P!=null&&P.length>0?U=P:U=T?.slice(R,M+1),U!=null)return Fne({layout:g,barSettings:w,pos:c,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:v,displayedData:U,offset:t,cells:S})}}),m5=t=>{var{chartData:e}=t,n=dr(),r=ra();return N.useEffect(()=>r?()=>{}:(n(d4(e)),()=>{n(d4(void 0))}),[e,n,r]),null},rR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},p5=es({name:"brush",initialState:rR,reducers:{setBrushSettings(t,e){return e.payload==null?rR:e.payload}}}),{setBrushSettings:ule}=p5.actions,gre=p5.reducer;function mre(t,e,n){return(e=pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mA{static create(e){return new mA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}mre(mA,"EPS",1e-4);function vre(t){return(t%180+180)%180}var xre=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vre(i),c=a*Math.PI/180,g=Math.atan(r/n),m=c>g&&c<Math.PI-g?r/Math.sin(c):n/Math.cos(c);return Math.abs(m)},bre={dots:[],areas:[],lines:[]},y5=es({name:"referenceElements",initialState:bre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Qo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Qo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Qo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:cle,removeDot:fle,addArea:hle,removeArea:dle,addLine:gle,removeLine:mle}=y5.actions,wre=y5.reducer,Ere=N.createContext(void 0),Are=t=>{var{children:e}=t,[n]=N.useState("".concat(Rd("recharts"),"-clip")),r=hA();if(r==null)return null;var{x:i,y:a,width:c,height:g}=r;return N.createElement(Ere.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:a,height:g,width:c}))),e)};function Vf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function v5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Sre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xre(r,n)}function _re(t,e,n){var r=n==="width",{x:i,y:a,width:c,height:g}=t;return e===1?{start:r?i:a,end:r?i+c:a+g}:{start:r?i+c:a+g,end:r?i:a}}function tm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Cre(t,e){return v5(t,e+1)}function Tre(t,e,n,r,i){for(var a=(r||[]).slice(),{start:c,end:g}=e,m=0,d=1,v=c,w=function(){var R=r?.[m];if(R===void 0)return{v:v5(r,d)};var M=m,P,U=()=>(P===void 0&&(P=n(R,M)),P),W=R.coordinate,q=m===0||tm(t,W,U,v,g);q||(m=0,v=c,d+=1),q&&(v=W+t*(U()/2+i),m+=d)},S;d<=a.length;)if(S=w(),S)return S.v;return[]}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nre(t,e,n,r,i){for(var a=(r||[]).slice(),c=a.length,{start:g}=e,{end:m}=e,d=function(S){var T=a[S],R,M=()=>(R===void 0&&(R=n(T,S)),R);if(S===c-1){var P=t*(T.coordinate+t*M()/2-m);a[S]=T=zi(zi({},T),{},{tickCoord:P>0?T.coordinate-P*t:T.coordinate})}else a[S]=T=zi(zi({},T),{},{tickCoord:T.coordinate});var U=tm(t,T.tickCoord,M,g,m);U&&(m=T.tickCoord-t*(M()/2+i),a[S]=zi(zi({},T),{},{isShow:!0}))},v=c-1;v>=0;v--)d(v);return a}function Dre(t,e,n,r,i,a){var c=(r||[]).slice(),g=c.length,{start:m,end:d}=e;if(a){var v=r[g-1],w=n(v,g-1),S=t*(v.coordinate+t*w/2-d);c[g-1]=v=zi(zi({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate});var T=tm(t,v.tickCoord,()=>w,m,d);T&&(d=v.tickCoord-t*(w/2+i),c[g-1]=zi(zi({},v),{},{isShow:!0}))}for(var R=a?g-1:g,M=function(W){var q=c[W],ee,$=()=>(ee===void 0&&(ee=n(q,W)),ee);if(W===0){var ne=t*(q.coordinate-t*$()/2-m);c[W]=q=zi(zi({},q),{},{tickCoord:ne<0?q.coordinate-ne*t:q.coordinate})}else c[W]=q=zi(zi({},q),{},{tickCoord:q.coordinate});var k=tm(t,q.tickCoord,$,m,d);k&&(m=q.tickCoord+t*($()/2+i),c[W]=zi(zi({},q),{},{isShow:!0}))},P=0;P<R;P++)M(P);return c}function pA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:c,orientation:g,interval:m,tickFormatter:d,unit:v,angle:w}=t;if(!i||!i.length||!r)return[];if(lt(m)||Au.isSsr){var S;return(S=Cre(i,lt(m)?m:0))!==null&&S!==void 0?S:[]}var T=[],R=g==="top"||g==="bottom"?"width":"height",M=v&&R==="width"?yd(v,{fontSize:e,letterSpacing:n}):{width:0,height:0},P=(q,ee)=>{var $=typeof d=="function"?d(q.value,ee):q.value;return R==="width"?Sre(yd($,{fontSize:e,letterSpacing:n}),M,w):yd($,{fontSize:e,letterSpacing:n})[R]},U=i.length>=2?fi(i[1].coordinate-i[0].coordinate):1,W=_re(a,U,R);return m==="equidistantPreserveStart"?Tre(U,W,P,i,c):(m==="preserveStart"||m==="preserveStartEnd"?T=Dre(U,W,P,i,c,m==="preserveStartEnd"):T=Nre(U,W,P,i,c),T.filter(q=>q.isShow))}var Mre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,c=0;if(e){Array.from(e).forEach(v=>{if(v){var w=v.getBoundingClientRect();w.width>c&&(c=w.width)}});var g=n?n.getBoundingClientRect().width:0,m=i+a,d=c+m+g+(n?r:0);return Math.round(d)}return 0},Pre=["axisLine","width","height","className","hide","ticks"],Lre=["viewBox"],kre=["viewBox"];function mb(t,e){if(t==null)return{};var n,r,i=jre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Vre(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:c,axisLine:g,otherSvgProps:m}=t;if(!g)return null;var d=Zr(Zr(Zr({},m),Za(g)),{},{fill:"none"});if(a==="top"||a==="bottom"){var v=+(a==="top"&&!c||a==="bottom"&&c);d=Zr(Zr({},d),{},{x1:e,y1:n+v*i,x2:e+r,y2:n+v*i})}else{var w=+(a==="left"&&!c||a==="right"&&c);d=Zr(Zr({},d),{},{x1:e+w*r,y1:n,x2:e+w*r,y2:n+i})}return N.createElement("line",dc({},d,{className:fn("recharts-cartesian-axis-line",lc(g,"className"))}))}function zre(t,e,n,r,i,a,c,g,m){var d,v,w,S,T,R,M=g?-1:1,P=t.tickSize||c,U=lt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=v=t.coordinate,S=n+ +!g*i,w=S-M*P,R=w-M*m,T=U;break;case"left":w=S=t.coordinate,v=e+ +!g*r,d=v-M*P,T=d-M*m,R=U;break;case"right":w=S=t.coordinate,v=e+ +g*r,d=v+M*P,T=d+M*m,R=U;break;default:d=v=t.coordinate,S=n+ +g*i,w=S+M*P,R=w+M*m,T=U;break}return{line:{x1:d,y1:w,x2:v,y2:S},tick:{x:T,y:R}}}function Hre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function qre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Gre(t){var{option:e,tickProps:n,value:r}=t,i,a=fn(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,Zr(Zr({},n),{},{className:a}));else if(typeof e=="function")i=e(Zr(Zr({},n),{},{className:a}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=fn(c,e?.className)),i=N.createElement(xp,dc({},n,{className:c}),r)}return i}function Yre(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:c,padding:g,tickTextProps:m,orientation:d,mirror:v,x:w,y:S,width:T,height:R,tickSize:M,tickMargin:P,fontSize:U,letterSpacing:W,getTicksConfig:q,events:ee}=t,$=pA(Zr(Zr({},q),{},{ticks:e}),U,W),ne=Hre(d,v),k=qre(d,v),V=Za(q),j=oc(n),Q={};typeof r=="object"&&(Q=r);var Z=Zr(Zr({},V),{},{fill:"none"},Q),X=$.map((z,ge)=>{var{line:se,tick:le}=zre(z,w,S,T,R,d,M,v,P),ue=Zr(Zr(Zr(Zr({textAnchor:ne,verticalAnchor:k},V),{},{stroke:"none",fill:i},j),le),{},{index:ge,payload:z,visibleTicksCount:$.length,tickFormatter:a,padding:g},m);return N.createElement(Ri,dc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},Zd(ee,z,ge)),r&&N.createElement("line",dc({},Z,se,{className:fn("recharts-cartesian-axis-tick-line",lc(r,"className"))})),n&&N.createElement(Gre,{option:n,tickProps:ue,value:"".concat(typeof a=="function"?a(z.value,ge):z.value).concat(c||"")}))});return X.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},X):null}var Wre=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:c,ticks:g}=t,m=mb(t,Pre),[d,v]=N.useState(""),[w,S]=N.useState(""),T=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var M;return Mre({ticks:T.current,label:(M=t.labelRef)===null||M===void 0?void 0:M.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var R=N.useCallback(M=>{if(M){var P=M.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=P;var U=P[0];if(U){var W=window.getComputedStyle(U),q=W.fontSize,ee=W.letterSpacing;(q!==d||ee!==w)&&(v(q),S(ee))}}},[d,w]);return c||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(Ri,{className:fn("recharts-cartesian-axis",a),ref:R},N.createElement(Vre,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Za(t)}),N.createElement(Yre,{ticks:g,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:d,letterSpacing:w,getTicksConfig:t,events:m}),N.createElement(XJ,{x:t.x,y:t.y,width:t.width,height:t.height},N.createElement(aee,{label:t.label,labelRef:t.labelRef}),t.children))}),$re=N.memo(Wre,(t,e)=>{var{viewBox:n}=t,r=mb(t,Lre),{viewBox:i}=e,a=mb(e,kre);return Vf(n,i)&&Vf(r,a)}),vA=N.forwardRef((t,e)=>{var n=Ni(t,yA);return N.createElement($re,dc({},n,{ref:e}))});vA.displayName="CartesianAxis";var Xre=["x1","y1","x2","y2","key"],Kre=["offset"],Qre=["xAxisId","yAxisId"],Zre=["xAxisId","yAxisId"];function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(null,arguments)}function nm(t,e){if(t==null)return{};var n,r,i=nie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rie=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:c,ry:g}=t;return N.createElement("rect",{x:r,y:i,ry:g,width:a,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function x5(t,e){var n;if(N.isValidElement(t))n=N.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:c,key:g}=e,m=nm(e,Xre),d=Za(m),{offset:v}=d,w=nm(d,Kre);n=N.createElement("line",Zu({},w,{x1:r,y1:i,x2:a,y2:c,fill:"none",key:g}))}return n}function iie(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=t,g=nm(t,Qre),m=i.map((d,v)=>{var w=Gi(Gi({},g),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(v),index:v});return x5(r,w)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function aie(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=t,g=nm(t,Zre),m=i.map((d,v)=>{var w=Gi(Gi({},g),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(v),index:v});return x5(r,w)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function sie(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:c,horizontalPoints:g,horizontal:m=!0}=t;if(!m||!e||!e.length)return null;var d=g.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==d[0]&&d.unshift(0);var v=d.map((w,S)=>{var T=!d[S+1],R=T?i+c-w:d[S+1]-w;if(R<=0)return null;var M=S%e.length;return N.createElement("rect",{key:"react-".concat(S),y:w,x:r,height:R,width:a,stroke:"none",fill:e[M],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function oie(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:c,height:g,verticalPoints:m}=t;if(!e||!n||!n.length)return null;var d=m.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==d[0]&&d.unshift(0);var v=d.map((w,S)=>{var T=!d[S+1],R=T?i+c-w:d[S+1]-w;if(R<=0)return null;var M=S%n.length;return N.createElement("rect",{key:"react-".concat(S),x:w,y:a,width:R,height:g,stroke:"none",fill:n[M],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var lie=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return h8(pA(Gi(Gi(Gi({},yA),n),{},{ticks:d8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},uie=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return h8(pA(Gi(Gi(Gi({},yA),n),{},{ticks:d8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},cie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function pf(t){var e=zw(),n=Hw(),r=b8(),i=Gi(Gi({},Ni(t,cie)),{},{x:lt(t.x)?t.x:r.left,y:lt(t.y)?t.y:r.top,width:lt(t.width)?t.width:r.width,height:lt(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:c,x:g,y:m,width:d,height:v,syncWithTicks:w,horizontalValues:S,verticalValues:T}=i,R=ra(),M=rt(j=>i4(j,"xAxis",a,R)),P=rt(j=>i4(j,"yAxis",c,R));if(!lt(d)||d<=0||!lt(v)||v<=0||!lt(g)||g!==+g||!lt(m)||m!==+m)return null;var U=i.verticalCoordinatesGenerator||lie,W=i.horizontalCoordinatesGenerator||uie,{horizontalPoints:q,verticalPoints:ee}=i;if((!q||!q.length)&&typeof W=="function"){var $=S&&S.length,ne=W({yAxis:P?Gi(Gi({},P),{},{ticks:$?S:P.ticks}):void 0,width:e,height:n,offset:r},$?!0:w);Pg(Array.isArray(ne),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ne,"]")),Array.isArray(ne)&&(q=ne)}if((!ee||!ee.length)&&typeof U=="function"){var k=T&&T.length,V=U({xAxis:M?Gi(Gi({},M),{},{ticks:k?T:M.ticks}):void 0,width:e,height:n,offset:r},k?!0:w);Pg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(ee=V)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(rie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(sie,Zu({},i,{horizontalPoints:q})),N.createElement(oie,Zu({},i,{verticalPoints:ee})),N.createElement(iie,Zu({},i,{offset:r,horizontalPoints:q,xAxis:M,yAxis:P})),N.createElement(aie,Zu({},i,{offset:r,verticalPoints:ee,xAxis:M,yAxis:P})))}pf.displayName="CartesianGrid";var b5=(t,e,n,r)=>gu(t,"xAxis",e,r),w5=(t,e,n,r)=>du(t,"xAxis",e,r),E5=(t,e,n,r)=>gu(t,"yAxis",n,r),A5=(t,e,n,r)=>du(t,"yAxis",n,r),fie=we([an,b5,E5,w5,A5],(t,e,n,r,i)=>Eu(t,"xAxis")?Md(e,r,!1):Md(n,i,!1)),hie=(t,e,n,r,i)=>i;function die(t){return t.type==="line"}var gie=we([dp,hie],(t,e)=>t.filter(die).find(n=>n.id===e)),mie=we([an,b5,E5,w5,A5,gie,fie,sp],(t,e,n,r,i,a,c,g)=>{var{chartData:m,dataStartIndex:d,dataEndIndex:v}=g;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{dataKey:w,data:S}=a,T;if(S!=null&&S.length>0?T=S:T=m?.slice(d,v+1),T!=null)return Bie({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:w,bandSize:c,displayedData:T})}});function pie(t){var e=oc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,c=Number(i),g=Number(a);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(g)||g<0)&&(g=r),{r:c,strokeWidth:g}}return{r:n,strokeWidth:r}}var yie=["id"],vie=["type","layout","connectNulls","needClip"],xie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=Eie(t,"string");return typeof e=="symbol"?e:e+""}function Eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xA(t,e){if(t==null)return{};var n,r,i=Aie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(null,arguments)}var Sie=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Kf(n,e),payload:t}]};function _ie(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:c,hide:g,unit:m}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Kf(c,e),hide:g,type:t.tooltipType,color:t.stroke,unit:m}}}var S5=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Cie(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Tie=(t,e,n)=>{var r=n.reduce((w,S)=>w+S);if(!r)return S5(e,t);for(var i=Math.floor(t/r),a=t%r,c=e-t,g=[],m=0,d=0;m<n.length;d+=n[m],++m)if(d+n[m]>a){g=[...n.slice(0,m),a-d];break}var v=g.length%2===0?[0,c]:[c];return[...Cie(n,i),...g,...v].map(w=>"".concat(w,"px")).join(", ")};function Iie(t,e){var n;if(N.isValidElement(t))n=N.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=fn("recharts-line-dot",typeof t!="boolean"?t.className:"");n=N.createElement(KP,gc({},e,{className:r}))}return n}function Oie(t,e){return t==null?!1:e?!0:t.length===1}function Rie(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:c}=r;if(!Oie(n,i))return null;var{id:g}=r,m=xA(r,yie),d=n5(i),v=Za(m),w=bz(i),S=n.map((R,M)=>{var P=Ya(Ya(Ya({key:"dot-".concat(M),r:3},v),w),{},{index:M,cx:R.x,cy:R.y,dataKey:a,value:R.value,payload:R.payload,points:n});return Iie(i,P)}),T={clipPath:c?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return N.createElement(Ri,gc({className:"recharts-line-dots",key:"dots"},T),S)}function Nie(t){var{showLabels:e,children:n,points:r}=t,i=N.useMemo(()=>r?.map(a=>{var c={x:a.x,y:a.y,width:0,height:0};return Ya(Ya({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return N.createElement($P,{value:e?i:null},n)}function lR(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:c,layout:g,connectNulls:m,needClip:d}=a,v=xA(a,vie),w=Ya(Ya({},na(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:g,connectNulls:m,strokeDasharray:i??a.strokeDasharray});return N.createElement(N.Fragment,null,r?.length>1&&N.createElement(Gw,gc({},w,{pathRef:n})),N.createElement(Rie,{points:r,clipPathId:e,props:a}))}function Die(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Mie(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:c,strokeDasharray:g,isAnimationActive:m,animationBegin:d,animationDuration:v,animationEasing:w,animateNewValues:S,width:T,height:R,onAnimationEnd:M,onAnimationStart:P}=n,U=i.current,W=r0(n,"recharts-line-"),[q,ee]=N.useState(!1),$=!q,ne=N.useCallback(()=>{typeof M=="function"&&M(),ee(!1)},[M]),k=N.useCallback(()=>{typeof P=="function"&&P(),ee(!0)},[P]),V=Die(r.current),j=a.current;return N.createElement(Nie,{points:c,showLabels:$},n.children,N.createElement(n0,{animationId:W,begin:d,duration:v,isActive:m,easing:w,onAnimationEnd:ne,onAnimationStart:k,key:W},Q=>{var Z=Cr(j,V+j,Q),X=Math.min(Z,V),z;if(m)if(g){var ge="".concat(g).split(/[,\s]+/gim).map(ue=>parseFloat(ue));z=Tie(X,V,ge)}else z=S5(V,X);else z=g==null?void 0:String(g);if(U){var se=U.length/c.length,le=Q===1?c:c.map((ue,Ie)=>{var Fe=Math.floor(Ie*se);if(U[Fe]){var ae=U[Fe];return Ya(Ya({},ue),{},{x:Cr(ae.x,ue.x,Q),y:Cr(ae.y,ue.y,Q)})}return S?Ya(Ya({},ue),{},{x:Cr(T*2,ue.x,Q),y:Cr(R/2,ue.y,Q)}):Ya(Ya({},ue),{},{x:ue.x,y:ue.y})});return i.current=le,N.createElement(lR,{props:n,points:le,clipPathId:e,pathRef:r,strokeDasharray:z})}return Q>0&&V>0&&(i.current=c,a.current=X),N.createElement(lR,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:z})}),N.createElement(nA,{label:n.label}))}function Pie(t){var{clipPathId:e,props:n}=t,r=N.useRef(null),i=N.useRef(0),a=N.useRef(null);return N.createElement(Mie,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Lie=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Wn(t.payload,e)});class kie extends N.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:c,top:g,left:m,width:d,height:v,id:w,needClip:S}=this.props;if(e)return null;var T=fn("recharts-line",i),R=w,{r:M,strokeWidth:P}=pie(n),U=n5(n),W=M*2+P;return N.createElement(N.Fragment,null,N.createElement(Ri,{className:T},S&&N.createElement("defs",null,N.createElement(h5,{clipPathId:R,xAxisId:a,yAxisId:c}),!U&&N.createElement("clipPath",{id:"clipPath-dots-".concat(R)},N.createElement("rect",{x:m-W/2,y:g-W/2,width:d+W,height:v+W}))),N.createElement(f5,{xAxisId:a,yAxisId:c,data:r,dataPointFormatter:Lie,errorBarOffset:0},N.createElement(Pie,{props:this.props,clipPathId:R}))),N.createElement(tne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Au.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function jie(t){var e=Ni(t,_5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:c,connectNulls:g,dot:m,hide:d,isAnimationActive:v,label:w,legendType:S,xAxisId:T,yAxisId:R,id:M}=e,P=xA(e,xie),{needClip:U}=gA(T,R),W=hA(),q=Zm(),ee=ra(),$=rt(Q=>mie(Q,T,R,ee,M));if(q!=="horizontal"&&q!=="vertical"||$==null||W==null)return null;var{height:ne,width:k,x:V,y:j}=W;return N.createElement(kie,gc({},P,{id:M,connectNulls:g,dot:m,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:c,isAnimationActive:v,hide:d,label:w,legendType:S,xAxisId:T,yAxisId:R,points:$,layout:q,height:ne,width:k,left:V,top:j,needClip:U}))}function Bie(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:c,bandSize:g,displayedData:m}=t;return m.map((d,v)=>{var w=Wn(d,c);if(e==="horizontal"){var S=D3({axis:n,ticks:i,bandSize:g,entry:d,index:v}),T=hr(w)?null:r.scale(w);return{x:S,y:T,value:w,payload:d}}var R=hr(w)?null:n.scale(w),M=D3({axis:r,ticks:a,bandSize:g,entry:d,index:v});return R==null||M==null?null:{x:R,y:M,value:w,payload:d}}).filter(Boolean)}function Uie(t){var e=Ni(t,_5),n=ra();return N.createElement(cA,{id:e.id,type:"line"},r=>N.createElement(N.Fragment,null,N.createElement(a5,{legendPayload:Sie(e)}),N.createElement(uA,{fn:_ie,args:e}),N.createElement(o5,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),N.createElement(jie,gc({},e,{id:r}))))}var C5=N.memo(Uie);C5.displayName="Line";var Fie=["dangerouslySetInnerHTML","ticks"],Vie=["id"],zie=["domain"],Hie=["domain"];function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(null,arguments)}function rm(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gie(t){var e=dr();return N.useLayoutEffect(()=>(e(zte(t)),()=>{e(Hte(t))}),[t,e]),null}var Yie=t=>{var{xAxisId:e,className:n}=t,r=rt(Fw),i=ra(),a="xAxis",c=rt(P=>ih(P,a,e,i)),g=rt(P=>lP(P,a,e,i)),m=rt(P=>iP(P,e)),d=rt(P=>OQ(P,e)),v=rt(P=>U6(P,e));if(m==null||d==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:S}=t,T=rm(t,Fie),{id:R}=v,M=rm(v,Vie);return N.createElement(vA,pb({},T,M,{scale:c,x:d.x,y:d.y,width:m.width,height:m.height,className:fn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:g}))},Wie={allowDataOverflow:Ha.allowDataOverflow,allowDecimals:Ha.allowDecimals,allowDuplicatedCategory:Ha.allowDuplicatedCategory,height:Ha.height,hide:!1,mirror:Ha.mirror,orientation:Ha.orientation,padding:Ha.padding,reversed:Ha.reversed,scale:Ha.scale,tickCount:Ha.tickCount,type:Ha.type,xAxisId:0},$ie=t=>{var e,n,r,i,a,c=Ni(t,Wie);return N.createElement(N.Fragment,null,N.createElement(Gie,{interval:(e=c.interval)!==null&&e!==void 0?e:"preserveEnd",id:c.xAxisId,scale:c.scale,type:c.type,padding:c.padding,allowDataOverflow:c.allowDataOverflow,domain:c.domain,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,includeHidden:(n=c.includeHidden)!==null&&n!==void 0?n:!1,reversed:c.reversed,ticks:c.ticks,height:c.height,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(r=c.angle)!==null&&r!==void 0?r:0,minTickGap:(i=c.minTickGap)!==null&&i!==void 0?i:5,tick:(a=c.tick)!==null&&a!==void 0?a:!0,tickFormatter:c.tickFormatter}),N.createElement(Yie,c))},Xie=(t,e)=>{var{domain:n}=t,r=rm(t,zie),{domain:i}=e,a=rm(e,Hie);return Vf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Vf({domain:n},{domain:i}):!1},yf=N.memo($ie,Xie);yf.displayName="XAxis";var Kie=["dangerouslySetInnerHTML","ticks"],Qie=["id"],Zie=["domain"],Jie=["domain"];function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yb.apply(null,arguments)}function im(t,e){if(t==null)return{};var n,r,i=eae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tae(t){var e=dr();return N.useLayoutEffect(()=>(e(qte(t)),()=>{e(Gte(t))}),[t,e]),null}var nae=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=N.useRef(null),c=N.useRef(null),g=rt(Fw),m=ra(),d=dr(),v="yAxis",w=rt($=>ih($,v,e,m)),S=rt($=>aP($,e)),T=rt($=>NQ($,e)),R=rt($=>lP($,v,e,m)),M=rt($=>F6($,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!S||tA(i)||N.isValidElement(i)||M==null)){var $=a.current;if($){var ne=$.getCalculatedWidth();Math.round(S.width)!==Math.round(ne)&&d(Yte({id:e,width:ne}))}}},[R,S,d,i,e,r,M]),S==null||T==null||M==null)return null;var{dangerouslySetInnerHTML:P,ticks:U}=t,W=im(t,Kie),{id:q}=M,ee=im(M,Qie);return N.createElement(vA,yb({},W,ee,{ref:a,labelRef:c,scale:w,x:T.x,y:T.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:S.width,height:S.height,className:fn("recharts-".concat(v," ").concat(v),n),viewBox:g,ticks:R}))},rae={allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,hide:!1,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tickCount:qa.tickCount,type:qa.type,width:qa.width,yAxisId:0},iae=t=>{var e,n,r,i,a,c=Ni(t,rae);return N.createElement(N.Fragment,null,N.createElement(tae,{interval:(e=c.interval)!==null&&e!==void 0?e:"preserveEnd",id:c.yAxisId,scale:c.scale,type:c.type,domain:c.domain,allowDataOverflow:c.allowDataOverflow,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,padding:c.padding,includeHidden:(n=c.includeHidden)!==null&&n!==void 0?n:!1,reversed:c.reversed,ticks:c.ticks,width:c.width,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(r=c.angle)!==null&&r!==void 0?r:0,minTickGap:(i=c.minTickGap)!==null&&i!==void 0?i:5,tick:(a=c.tick)!==null&&a!==void 0?a:!0,tickFormatter:c.tickFormatter}),N.createElement(nae,c))},aae=(t,e)=>{var{domain:n}=t,r=im(t,Zie),{domain:i}=e,a=im(e,Jie);return Vf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Vf({domain:n},{domain:i}):!1},vf=N.memo(iae,aae);vf.displayName="YAxis";var Qx={exports:{}},Zx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function sae(){if(uR)return Zx;uR=1;var t=zf();function e(m,d){return m===d&&(m!==0||1/m===1/d)||m!==m&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,c=t.useMemo,g=t.useDebugValue;return Zx.useSyncExternalStoreWithSelector=function(m,d,v,w,S){var T=i(null);if(T.current===null){var R={hasValue:!1,value:null};T.current=R}else R=T.current;T=c(function(){function P($){if(!U){if(U=!0,W=$,$=w($),S!==void 0&&R.hasValue){var ne=R.value;if(S(ne,$))return q=ne}return q=$}if(ne=q,n(W,$))return ne;var k=w($);return S!==void 0&&S(ne,k)?(W=$,ne):(W=$,q=k)}var U=!1,W,q,ee=v===void 0?null:v;return[function(){return P(d())},ee===null?void 0:function(){return P(ee())}]},[d,v,w,S]);var M=r(m,T[0],T[1]);return a(function(){R.hasValue=!0,R.value=M},[M]),g(M),M},Zx}var cR;function oae(){return cR||(cR=1,Qx.exports=sae()),Qx.exports}oae();function lae(t){t()}function uae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fR={notify(){},get:()=>[]};function cae(t,e){let n,r=fR,i=0,a=!1;function c(M){v();const P=r.subscribe(M);let U=!1;return()=>{U||(U=!0,P(),w())}}function g(){r.notify()}function m(){R.onStateChange&&R.onStateChange()}function d(){return a}function v(){i++,n||(n=t.subscribe(m),r=uae())}function w(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fR)}function S(){a||(a=!0,v())}function T(){a&&(a=!1,w())}const R={addNestedSub:c,notifyNestedSubs:g,handleChangeWrapper:m,isSubscribed:d,trySubscribe:S,tryUnsubscribe:T,getListeners:()=>r};return R}var fae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hae=fae(),dae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gae=dae(),mae=()=>hae||gae?N.useLayoutEffect:N.useEffect,pae=mae(),yae=Symbol.for("react-redux-context"),vae=typeof globalThis<"u"?globalThis:{};function xae(){if(!N.createContext)return{};const t=vae[yae]??=new Map;let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var bae=xae();function wae(t){const{children:e,context:n,serverState:r,store:i}=t,a=N.useMemo(()=>{const m=cae(i);return{store:i,subscription:m,getServerState:r?()=>r:void 0}},[i,r]),c=N.useMemo(()=>i.getState(),[i]);pae(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,c]);const g=n||bae;return N.createElement(g.Provider,{value:a},e)}var Eae=wae,Aae=(t,e)=>e,bA=we([Aae,an,k6,ni,_P,ml,kZ,ei],VZ),wA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},T5=Ts("mouseClick"),I5=e0();I5.startListening({actionCreator:T5,effect:(t,e)=>{var n=t.payload,r=bA(e.getState(),wA(n));r?.activeIndex!=null&&e.dispatch(qQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var vb=Ts("mouseMove"),O5=e0();O5.startListening({actionCreator:vb,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=GE(r,r.tooltip.settings.shared),a=bA(r,wA(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(pP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(mP()))}});var hR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},R5=es({name:"rootProps",initialState:hR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:hR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Sae=R5.reducer,{updateOptions:_ae}=R5.actions,N5=es({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Cae}=N5.actions,Tae=N5.reducer,D5=Ts("keyDown"),M5=Ts("focus"),EA=e0();EA.startListening({actionCreator:D5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var c=Number(YE(i,sh(n))),g=ml(n);if(a==="Enter"){var m=Kg(n,"axis","hover",String(i.index));e.dispatch(ub({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var d=LQ(n),v=d==="left-to-right"?1:-1,w=a==="ArrowRight"?1:-1,S=c+w*v;if(!(g==null||S>=g.length||S<0)){var T=Kg(n,"axis","hover",String(S));e.dispatch(ub({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}});EA.startListening({actionCreator:M5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",c=Kg(n,"axis","hover",String(a));e.dispatch(ub({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:c}))}}}});var bs=Ts("externalEvent"),P5=e0();P5.startListening({actionCreator:bs,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:CZ(n),activeDataKey:OP(n),activeIndex:mu(n),activeLabel:IP(n),activeTooltipIndex:mu(n),isTooltipActive:TZ(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Iae=we([ah],t=>t.tooltipItemPayloads),Oae=we([Iae,d0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(g=>g.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var c=e(a,n);return c}}}),L5=Ts("touchMove"),k5=e0();k5.startListening({actionCreator:L5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=GE(r,r.tooltip.settings.shared);if(i==="axis"){var a=bA(r,wA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(pP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var c,g=n.touches[0],m=document.elementFromPoint(g.clientX,g.clientY);if(!m||!m.getAttribute)return;var d=m.getAttribute(m8),v=(c=m.getAttribute(p8))!==null&&c!==void 0?c:void 0,w=Oae(e.getState(),d,v);e.dispatch(gP({activeDataKey:v,activeIndex:d,activeCoordinate:w}))}}});var Rae=UM({brush:gre,cartesianAxis:Wte,chartData:rJ,errorBars:dne,graphicalItems:hte,layout:gG,legend:bY,options:ZZ,polarAxis:Cee,polarOptions:Tae,referenceElements:wre,rootProps:Sae,tooltip:GQ}),Nae=function(e){return Uq({reducer:Rae,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([I5.middleware,O5.middleware,EA.middleware,P5.middleware,k5.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(QM({type:"raf"}))},devTools:Au.devToolsEnabled})};function j5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ra(),a=N.useRef(null);if(i)return n;a.current==null&&(a.current=Nae(e));var c=Pw;return N.createElement(Eae,{context:c,store:a.current},n)}function B5(t){var{layout:e,margin:n}=t,r=dr(),i=ra();return N.useEffect(()=>{i||(r(fG(e)),r(cG(n)))},[r,i,e,n]),null}function U5(t){var e=dr();return N.useEffect(()=>{e(_ae(t))},[e,t]),null}var Dae=["children"];function Mae(t,e){if(t==null)return{};var n,r,i=Pae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(null,arguments)}var Lae={width:"100%",height:"100%",display:"block"},kae=N.forwardRef((t,e)=>{var n=zw(),r=Hw(),i=S8();if(!kf(n)||!kf(r))return null;var{children:a,otherAttributes:c,title:g,desc:m}=t,d,v;return typeof c.tabIndex=="number"?d=c.tabIndex:d=i?0:void 0,typeof c.role=="string"?v=c.role:v=i?"application":void 0,N.createElement(ww,am({},c,{title:g,desc:m,role:v,tabIndex:d,width:n,height:r,style:Lae,ref:e}),a)}),jae=t=>{var{children:e}=t,n=rt(Km);if(!n)return null;var{width:r,height:i,y:a,x:c}=n;return N.createElement(ww,{width:r,height:i,x:c,y:a},e)},dR=N.forwardRef((t,e)=>{var{children:n}=t,r=Mae(t,Dae),i=ra();return i?N.createElement(jae,null,n):N.createElement(kae,am({ref:e},r),n)});function Bae(){var t=dr(),[e,n]=N.useState(null),r=rt(HG);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Wi(a)&&a!==r&&t(dG(a))}},[e,t,r]),n}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(null,arguments)}var Hae=()=>(hJ(),null);function sm(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var qae=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[a,c]=N.useState({containerWidth:sm((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:sm((r=t.style)===null||r===void 0?void 0:r.height)}),g=N.useCallback((d,v)=>{c(w=>{var S=Math.round(d),T=Math.round(v);return w.containerWidth===S&&w.containerHeight===T?w:{containerWidth:S,containerHeight:T}})},[]),m=N.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:v,height:w}=d.getBoundingClientRect();g(v,w);var S=R=>{var{width:M,height:P}=R[0].contentRect;g(M,P)},T=new ResizeObserver(S);T.observe(d),i.current=T}},[e,g]);return N.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[g]),N.createElement(N.Fragment,null,N.createElement(Jm,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",mc({ref:m},t)))}),Gae=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=N.useState({containerWidth:sm(n),containerHeight:sm(r)}),c=N.useCallback((m,d)=>{a(v=>{var w=Math.round(m),S=Math.round(d);return v.containerWidth===w&&v.containerHeight===S?v:{containerWidth:w,containerHeight:S}})},[]),g=N.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null){var{width:d,height:v}=m.getBoundingClientRect();c(d,v)}},[e,c]);return N.createElement(N.Fragment,null,N.createElement(Jm,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",mc({ref:g},t)))}),Yae=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(Jm,{width:n,height:r}),N.createElement("div",mc({ref:e},t)))}),Wae=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return il(n)||il(r)?N.createElement(Gae,mc({},t,{ref:e})):N.createElement(Yae,mc({},t,{ref:e}))});function $ae(t){return t===!0?qae:Wae}var Xae=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:c,onDoubleClick:g,onMouseDown:m,onMouseEnter:d,onMouseLeave:v,onMouseMove:w,onMouseUp:S,onTouchEnd:T,onTouchMove:R,onTouchStart:M,style:P,width:U,responsive:W,dispatchTouchEvents:q=!0}=t,ee=N.useRef(null),$=dr(),[ne,k]=N.useState(null),[V,j]=N.useState(null),Q=Bae(),Z=Vw(),X=Z?.width>0?Z.width:U,z=Z?.height>0?Z.height:i,ge=N.useCallback(Re=>{Q(Re),typeof e=="function"&&e(Re),k(Re),j(Re),Re!=null&&(ee.current=Re)},[Q,e,k,j]),se=N.useCallback(Re=>{$(T5(Re)),$(bs({handler:a,reactEvent:Re}))},[$,a]),le=N.useCallback(Re=>{$(vb(Re)),$(bs({handler:d,reactEvent:Re}))},[$,d]),ue=N.useCallback(Re=>{$(mP()),$(bs({handler:v,reactEvent:Re}))},[$,v]),Ie=N.useCallback(Re=>{$(vb(Re)),$(bs({handler:w,reactEvent:Re}))},[$,w]),Fe=N.useCallback(()=>{$(M5())},[$]),ae=N.useCallback(Re=>{$(D5(Re.key))},[$]),be=N.useCallback(Re=>{$(bs({handler:c,reactEvent:Re}))},[$,c]),Te=N.useCallback(Re=>{$(bs({handler:g,reactEvent:Re}))},[$,g]),ke=N.useCallback(Re=>{$(bs({handler:m,reactEvent:Re}))},[$,m]),$e=N.useCallback(Re=>{$(bs({handler:S,reactEvent:Re}))},[$,S]),at=N.useCallback(Re=>{$(bs({handler:M,reactEvent:Re}))},[$,M]),je=N.useCallback(Re=>{q&&$(L5(Re)),$(bs({handler:R,reactEvent:Re}))},[$,q,R]),In=N.useCallback(Re=>{$(bs({handler:T,reactEvent:Re}))},[$,T]),vt=$ae(W);return N.createElement(LP.Provider,{value:ne},N.createElement(rM.Provider,{value:V},N.createElement(vt,{width:X??P?.width,height:z??P?.height,className:fn("recharts-wrapper",r),style:Uae({position:"relative",cursor:"default",width:X,height:z},P),onClick:se,onContextMenu:be,onDoubleClick:Te,onFocus:Fe,onKeyDown:ae,onMouseDown:ke,onMouseEnter:le,onMouseLeave:ue,onMouseMove:Ie,onMouseUp:$e,onTouchEnd:In,onTouchMove:je,onTouchStart:at,ref:ge},N.createElement(Hae,null),n)))}),Kae=["width","height","responsive","children","className","style","compact","title","desc"];function Qae(t,e){if(t==null)return{};var n,r,i=Zae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F5=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:c,style:g,compact:m,title:d,desc:v}=t,w=Qae(t,Kae),S=Za(w);return m?N.createElement(N.Fragment,null,N.createElement(Jm,{width:n,height:r}),N.createElement(dR,{otherAttributes:S,title:d,desc:v},a)):N.createElement(Xae,{className:c,style:g,width:n,height:r,responsive:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(dR,{otherAttributes:S,title:d,desc:v,ref:e},N.createElement(Are,null,a)))});function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(null,arguments)}var Jae={top:5,right:5,bottom:5,left:5},ese={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},V5=N.forwardRef(function(e,n){var r,i=Ni(e.categoricalChartProps,ese),{chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:g,tooltipPayloadSearcher:m,categoricalChartProps:d}=e,v={chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:g,tooltipPayloadSearcher:m,eventEmitter:void 0};return N.createElement(j5,{preloadedState:{options:v},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},N.createElement(m5,{chartData:d.data}),N.createElement(B5,{layout:i.layout,margin:i.margin}),N.createElement(U5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(F5,xb({},i,{ref:n})))}),tse=["axis"],nse=N.forwardRef((t,e)=>N.createElement(V5,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tse,tooltipPayloadSearcher:eA,categoricalChartProps:t,ref:e})),rse=["axis","item"],z1=N.forwardRef((t,e)=>N.createElement(V5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rse,tooltipPayloadSearcher:eA,categoricalChartProps:t,ref:e}));function ise(t){var e=dr();return N.useEffect(()=>{e(Cae(t))},[e,t]),null}var ase=["layout"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(null,arguments)}function sse(t,e){if(t==null)return{};var n,r,i=ose(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lse={top:5,right:5,bottom:5,left:5},use={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},cse=N.forwardRef(function(e,n){var r,i=Ni(e.categoricalChartProps,use),{layout:a}=i,c=sse(i,ase),{chartName:g,defaultTooltipEventType:m,validateTooltipEventTypes:d,tooltipPayloadSearcher:v}=e,w={chartName:g,defaultTooltipEventType:m,validateTooltipEventTypes:d,tooltipPayloadSearcher:v,eventEmitter:void 0};return N.createElement(j5,{preloadedState:{options:w},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:g},N.createElement(m5,{chartData:i.data}),N.createElement(B5,{layout:a,margin:i.margin}),N.createElement(U5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(ise,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(F5,bb({},c,{ref:n})))}),fse=["item"],hse={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},dse=N.forwardRef((t,e)=>{var n=Ni(t,hse);return N.createElement(cse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fse,tooltipPayloadSearcher:eA,categoricalChartProps:n,ref:e})});function gse(){const[t,e]=N.useState(0),[n,r]=N.useState([]),[i,a]=N.useState([]),[c,g]=N.useState([]),[m,d]=N.useState([{name:"Pending",value:0},{name:"Approved",value:0},{name:"Rejected",value:0}]),[v,w]=N.useState([]),[S,T]=N.useState("today"),[R,M]=N.useState(!1),[P,U]=N.useState("");N.useEffect(()=>{(async()=>{try{const{totalSales:$,topCategories:ne,dailyPaymentData:k,paymentBreakdown:V}=await NV(S);e($||0),r(ne||[]),a(k||[]),g(V||[]);const j=await xn(bt(We,"globalTransactions")),Q={};j.forEach(X=>{const z=X.data();if(z.promotype){const ge=z.promotype.trim();Q[ge]=(Q[ge]||0)+1}});const Z=Object.keys(Q).map(X=>({name:X,count:Q[X]}));w(Z)}catch($){console.error("Error fetching dashboard data:",$)}})()},[S]),N.useEffect(()=>{const ee=Df(bt(We,"walletRequests"),$=>{let ne=0,k=0,V=0;$.forEach(j=>{const Z=j.data().status?.toLowerCase();Z==="pending"?ne++:Z==="approved"?k++:Z==="rejected"&&V++}),d([{name:"Pending",value:ne},{name:"Approved",value:k},{name:"Rejected",value:V}])});return()=>ee()},[]),N.useEffect(()=>{const ee=kr(bt(We,"walletRequests"),hi("status","==","pending")),$=Df(ee,ne=>{if(!ne.empty){const k=ne.docs[0].data();k?.email&&(U(k.email),M(!0))}});return()=>$()},[]);const W=["#b17a50","#d4a373","#a46a3b","#c08457","#8b5e3c","#e2c29d"],q=i.length>0?Object.keys(i.reduce((ee,$)=>({...ee,...$}),{})).filter(ee=>ee!=="date"):[];return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"dashboard-container",children:[I.jsx("h1",{className:"dashboard-title",children:"Dashboard Overview"}),I.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:16},children:I.jsxs("label",{children:["Sales Filter:"," ",I.jsxs("select",{value:S,onChange:ee=>T(ee.target.value),children:[I.jsx("option",{value:"today",children:"Today"}),I.jsx("option",{value:"week",children:"This Week"}),I.jsx("option",{value:"month",children:"This Month"})]})]})}),I.jsxs("div",{className:"graphs-section",children:[I.jsxs("div",{className:"graph-card",children:[I.jsxs("h3",{children:["Total Sales Overview: ",I.jsx("strong",{children:t})]}),I.jsx(sf,{width:"100%",height:260,children:I.jsxs(nse,{data:[{name:S==="today"?"Today":S==="week"?"This Week":"This Month",sales:t}],children:[I.jsx(pf,{strokeDasharray:"3 3"}),I.jsx(yf,{dataKey:"name"}),I.jsx(vf,{}),I.jsx(uf,{}),I.jsx(C5,{type:"monotone",dataKey:"sales",stroke:"#b17a50",strokeWidth:3})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Payment Method Breakdown"}),I.jsx(sf,{width:"100%",height:280,children:I.jsxs(dse,{children:[I.jsx(l5,{data:c,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,label:!0,children:c.map((ee,$)=>I.jsx(Zl,{fill:W[$%W.length]},`cell-${$}`))}),I.jsx(uf,{}),I.jsx(Xu,{})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Wallet Request Status"}),I.jsx(sf,{width:"100%",height:280,children:I.jsxs(z1,{data:m,margin:{top:20,right:30,left:20,bottom:5},children:[I.jsx(pf,{strokeDasharray:"3 3"}),I.jsx(yf,{dataKey:"name"}),I.jsx(vf,{allowDecimals:!1}),I.jsx(uf,{}),I.jsx(Xu,{}),I.jsx(fd,{dataKey:"value",barSize:60,children:m.map((ee,$)=>I.jsx(Zl,{fill:W[$%W.length]},`cell-${$}`))})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsxs("h3",{children:["Top Selling Categories: ",S]}),I.jsx(sf,{width:"100%",height:320,children:I.jsxs(z1,{layout:"vertical",data:n,margin:{top:20,right:30,left:50,bottom:5},children:[I.jsx(pf,{strokeDasharray:"3 3"}),I.jsx(yf,{type:"number"}),I.jsx(vf,{type:"category",dataKey:"name",width:140,tick:{fontSize:14,fill:"#4b2e16"}}),I.jsx(uf,{}),I.jsx(fd,{dataKey:"count",fill:"#a46a3b",barSize:25,children:n.map((ee,$)=>I.jsx(Zl,{fill:W[$%W.length]},`cell-${$}`))})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Most Availed Promos by Type"}),I.jsx(sf,{width:"100%",height:320,children:I.jsxs(z1,{data:v,margin:{top:20,right:30,left:20,bottom:5},children:[I.jsx(pf,{strokeDasharray:"3 3"}),I.jsx(yf,{dataKey:"name"}),I.jsx(vf,{}),I.jsx(uf,{}),I.jsx(Xu,{}),I.jsx(fd,{dataKey:"count",fill:"#c08457",barSize:40,children:v.map((ee,$)=>I.jsx(Zl,{fill:W[$%W.length]},`cell-${$}`))})]})})]}),I.jsxs("div",{className:"graph-card",children:[I.jsx("h3",{children:"Daily Payment Method Breakdown"}),I.jsx(sf,{width:"100%",height:320,children:I.jsxs(z1,{data:i,margin:{top:20,right:30,left:0,bottom:5},children:[I.jsx(pf,{strokeDasharray:"3 3"}),I.jsx(yf,{dataKey:"date"}),I.jsx(vf,{}),I.jsx(uf,{}),I.jsx(Xu,{}),q.map((ee,$)=>I.jsx(fd,{dataKey:ee,stackId:"a",fill:W[$%W.length],barSize:40},ee))]})})]})]})]}),I.jsx(JD,{}),R&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-box",children:[I.jsx("h2",{children:"🪙 New Pending Wallet Request!"}),I.jsxs("p",{children:[I.jsx("strong",{children:P})," just submitted a new wallet request."]}),I.jsx("button",{onClick:()=>M(!1),style:{background:"#763f00ff",color:"white"},children:"Close"})]})})]})}var mse=Object.defineProperty,om=Object.getOwnPropertySymbols,z5=Object.prototype.hasOwnProperty,H5=Object.prototype.propertyIsEnumerable,mR=(t,e,n)=>e in t?mse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wb=(t,e)=>{for(var n in e||(e={}))z5.call(e,n)&&mR(t,n,e[n]);if(om)for(var n of om(e))H5.call(e,n)&&mR(t,n,e[n]);return t},Eb=(t,e)=>{var n={};for(var r in t)z5.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&om)for(var r of om(t))e.indexOf(r)<0&&H5.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var pc;(t=>{const e=class qt{constructor(m,d,v,w){if(this.version=m,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],m<qt.MIN_VERSION||m>qt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let S=[];for(let R=0;R<this.size;R++)S.push(!1);for(let R=0;R<this.size;R++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(v);if(this.drawCodewords(T),w==-1){let R=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const P=this.getPenaltyScore();P<R&&(w=M,R=P),this.applyMask(M)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(m,d){const v=t.QrSegment.makeSegments(m);return qt.encodeSegments(v,d)}static encodeBinary(m,d){const v=t.QrSegment.makeBytes(m);return qt.encodeSegments([v],d)}static encodeSegments(m,d,v=1,w=40,S=-1,T=!0){if(!(qt.MIN_VERSION<=v&&v<=w&&w<=qt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let R,M;for(R=v;;R++){const q=qt.getNumDataCodewords(R,d)*8,ee=c.getTotalBits(m,R);if(ee<=q){M=ee;break}if(R>=w)throw new RangeError("Data too long")}for(const q of[qt.Ecc.MEDIUM,qt.Ecc.QUARTILE,qt.Ecc.HIGH])T&&M<=qt.getNumDataCodewords(R,q)*8&&(d=q);let P=[];for(const q of m){n(q.mode.modeBits,4,P),n(q.numChars,q.mode.numCharCountBits(R),P);for(const ee of q.getData())P.push(ee)}i(P.length==M);const U=qt.getNumDataCodewords(R,d)*8;i(P.length<=U),n(0,Math.min(4,U-P.length),P),n(0,(8-P.length%8)%8,P),i(P.length%8==0);for(let q=236;P.length<U;q^=253)n(q,8,P);let W=[];for(;W.length*8<P.length;)W.push(0);return P.forEach((q,ee)=>W[ee>>>3]|=q<<7-(ee&7)),new qt(R,d,W,S)}getModule(m,d){return 0<=m&&m<this.size&&0<=d&&d<this.size&&this.modules[d][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),d=m.length;for(let v=0;v<d;v++)for(let w=0;w<d;w++)v==0&&w==0||v==0&&w==d-1||v==d-1&&w==0||this.drawAlignmentPattern(m[v],m[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const d=this.errorCorrectionLevel.formatBits<<3|m;let v=d;for(let S=0;S<10;S++)v=v<<1^(v>>>9)*1335;const w=(d<<10|v)^21522;i(w>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,r(w,S));this.setFunctionModule(8,7,r(w,6)),this.setFunctionModule(8,8,r(w,7)),this.setFunctionModule(7,8,r(w,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,r(w,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,r(w,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,r(w,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let v=0;v<12;v++)m=m<<1^(m>>>11)*7973;const d=this.version<<12|m;i(d>>>18==0);for(let v=0;v<18;v++){const w=r(d,v),S=this.size-11+v%3,T=Math.floor(v/3);this.setFunctionModule(S,T,w),this.setFunctionModule(T,S,w)}}drawFinderPattern(m,d){for(let v=-4;v<=4;v++)for(let w=-4;w<=4;w++){const S=Math.max(Math.abs(w),Math.abs(v)),T=m+w,R=d+v;0<=T&&T<this.size&&0<=R&&R<this.size&&this.setFunctionModule(T,R,S!=2&&S!=4)}}drawAlignmentPattern(m,d){for(let v=-2;v<=2;v++)for(let w=-2;w<=2;w++)this.setFunctionModule(m+w,d+v,Math.max(Math.abs(w),Math.abs(v))!=1)}setFunctionModule(m,d,v){this.modules[d][m]=v,this.isFunction[d][m]=!0}addEccAndInterleave(m){const d=this.version,v=this.errorCorrectionLevel;if(m.length!=qt.getNumDataCodewords(d,v))throw new RangeError("Invalid argument");const w=qt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][d],S=qt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][d],T=Math.floor(qt.getNumRawDataModules(d)/8),R=w-T%w,M=Math.floor(T/w);let P=[];const U=qt.reedSolomonComputeDivisor(S);for(let q=0,ee=0;q<w;q++){let $=m.slice(ee,ee+M-S+(q<R?0:1));ee+=$.length;const ne=qt.reedSolomonComputeRemainder($,U);q<R&&$.push(0),P.push($.concat(ne))}let W=[];for(let q=0;q<P[0].length;q++)P.forEach((ee,$)=>{(q!=M-S||$>=R)&&W.push(ee[q])});return i(W.length==T),W}drawCodewords(m){if(m.length!=Math.floor(qt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let w=0;w<this.size;w++)for(let S=0;S<2;S++){const T=v-S,M=(v+1&2)==0?this.size-1-w:w;!this.isFunction[M][T]&&d<m.length*8&&(this.modules[M][T]=r(m[d>>>3],7-(d&7)),d++)}}i(d==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let v=0;v<this.size;v++){let w;switch(m){case 0:w=(v+d)%2==0;break;case 1:w=d%2==0;break;case 2:w=v%3==0;break;case 3:w=(v+d)%3==0;break;case 4:w=(Math.floor(v/3)+Math.floor(d/2))%2==0;break;case 5:w=v*d%2+v*d%3==0;break;case 6:w=(v*d%2+v*d%3)%2==0;break;case 7:w=((v+d)%2+v*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][v]&&w&&(this.modules[d][v]=!this.modules[d][v])}}getPenaltyScore(){let m=0;for(let S=0;S<this.size;S++){let T=!1,R=0,M=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[S][P]==T?(R++,R==5?m+=qt.PENALTY_N1:R>5&&m++):(this.finderPenaltyAddHistory(R,M),T||(m+=this.finderPenaltyCountPatterns(M)*qt.PENALTY_N3),T=this.modules[S][P],R=1);m+=this.finderPenaltyTerminateAndCount(T,R,M)*qt.PENALTY_N3}for(let S=0;S<this.size;S++){let T=!1,R=0,M=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[P][S]==T?(R++,R==5?m+=qt.PENALTY_N1:R>5&&m++):(this.finderPenaltyAddHistory(R,M),T||(m+=this.finderPenaltyCountPatterns(M)*qt.PENALTY_N3),T=this.modules[P][S],R=1);m+=this.finderPenaltyTerminateAndCount(T,R,M)*qt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let T=0;T<this.size-1;T++){const R=this.modules[S][T];R==this.modules[S][T+1]&&R==this.modules[S+1][T]&&R==this.modules[S+1][T+1]&&(m+=qt.PENALTY_N2)}let d=0;for(const S of this.modules)d=S.reduce((T,R)=>T+(R?1:0),d);const v=this.size*this.size,w=Math.ceil(Math.abs(d*20-v*10)/v)-1;return i(0<=w&&w<=9),m+=w*qt.PENALTY_N4,i(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let v=[6];for(let w=this.size-7;v.length<m;w-=d)v.splice(1,0,w);return v}}static getNumRawDataModules(m){if(m<qt.MIN_VERSION||m>qt.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*m+128)*m+64;if(m>=2){const v=Math.floor(m/7)+2;d-=(25*v-10)*v-55,m>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(m,d){return Math.floor(qt.getNumRawDataModules(m)/8)-qt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][m]*qt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let d=[];for(let w=0;w<m-1;w++)d.push(0);d.push(1);let v=1;for(let w=0;w<m;w++){for(let S=0;S<d.length;S++)d[S]=qt.reedSolomonMultiply(d[S],v),S+1<d.length&&(d[S]^=d[S+1]);v=qt.reedSolomonMultiply(v,2)}return d}static reedSolomonComputeRemainder(m,d){let v=d.map(w=>0);for(const w of m){const S=w^v.shift();v.push(0),d.forEach((T,R)=>v[R]^=qt.reedSolomonMultiply(T,S))}return v}static reedSolomonMultiply(m,d){if(m>>>8||d>>>8)throw new RangeError("Byte out of range");let v=0;for(let w=7;w>=0;w--)v=v<<1^(v>>>7)*285,v^=(d>>>w&1)*m;return i(v>>>8==0),v}finderPenaltyCountPatterns(m){const d=m[1];i(d<=this.size*3);const v=d>0&&m[2]==d&&m[3]==d*3&&m[4]==d&&m[5]==d;return(v&&m[0]>=d*4&&m[6]>=d?1:0)+(v&&m[6]>=d*4&&m[0]>=d?1:0)}finderPenaltyTerminateAndCount(m,d,v){return m&&(this.finderPenaltyAddHistory(d,v),d=0),d+=this.size,this.finderPenaltyAddHistory(d,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(m,d){d[0]==0&&(m+=this.size),d.pop(),d.unshift(m)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(g,m,d){if(m<0||m>31||g>>>m)throw new RangeError("Value out of range");for(let v=m-1;v>=0;v--)d.push(g>>>v&1)}function r(g,m){return(g>>>m&1)!=0}function i(g){if(!g)throw new Error("Assertion error")}const a=class Sr{constructor(m,d,v){if(this.mode=m,this.numChars=d,this.bitData=v,d<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(m){let d=[];for(const v of m)n(v,8,d);return new Sr(Sr.Mode.BYTE,m.length,d)}static makeNumeric(m){if(!Sr.isNumeric(m))throw new RangeError("String contains non-numeric characters");let d=[];for(let v=0;v<m.length;){const w=Math.min(m.length-v,3);n(parseInt(m.substring(v,v+w),10),w*3+1,d),v+=w}return new Sr(Sr.Mode.NUMERIC,m.length,d)}static makeAlphanumeric(m){if(!Sr.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],v;for(v=0;v+2<=m.length;v+=2){let w=Sr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v))*45;w+=Sr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v+1)),n(w,11,d)}return v<m.length&&n(Sr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v)),6,d),new Sr(Sr.Mode.ALPHANUMERIC,m.length,d)}static makeSegments(m){return m==""?[]:Sr.isNumeric(m)?[Sr.makeNumeric(m)]:Sr.isAlphanumeric(m)?[Sr.makeAlphanumeric(m)]:[Sr.makeBytes(Sr.toUtf8ByteArray(m))]}static makeEci(m){let d=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,d);else if(m<16384)n(2,2,d),n(m,14,d);else if(m<1e6)n(6,3,d),n(m,21,d);else throw new RangeError("ECI assignment value out of range");return new Sr(Sr.Mode.ECI,0,d)}static isNumeric(m){return Sr.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return Sr.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,d){let v=0;for(const w of m){const S=w.mode.numCharCountBits(d);if(w.numChars>=1<<S)return 1/0;v+=4+S+w.bitData.length}return v}static toUtf8ByteArray(m){m=encodeURI(m);let d=[];for(let v=0;v<m.length;v++)m.charAt(v)!="%"?d.push(m.charCodeAt(v)):(d.push(parseInt(m.substring(v+1,v+3),16)),v+=2);return d}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=a;t.QrSegment=a})(pc||(pc={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(pc||(pc={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(pc||(pc={}));var wf=pc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var pse={L:wf.QrCode.Ecc.LOW,M:wf.QrCode.Ecc.MEDIUM,Q:wf.QrCode.Ecc.QUARTILE,H:wf.QrCode.Ecc.HIGH},q5=128,G5="L",Y5="#FFFFFF",W5="#000000",$5=!1,X5=1,yse=4,vse=0,xse=.1;function K5(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(c,g){if(!c&&a!==null){n.push(`M${a+e} ${i+e}h${g-a}v1H${a+e}z`),a=null;return}if(g===r.length-1){if(!c)return;a===null?n.push(`M${g+e},${i+e} h1v1H${g+e}z`):n.push(`M${a+e},${i+e} h${g+1-a}v1H${a+e}z`);return}c&&a===null&&(a=g)})}),n.join("")}function Q5(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function bse(t,e,n,r){if(r==null)return null;const i=t.length+n*2,a=Math.floor(e*xse),c=i/e,g=(r.width||a)*c,m=(r.height||a)*c,d=r.x==null?t.length/2-g/2:r.x*c,v=r.y==null?t.length/2-m/2:r.y*c,w=r.opacity==null?1:r.opacity;let S=null;if(r.excavate){let R=Math.floor(d),M=Math.floor(v),P=Math.ceil(g+d-R),U=Math.ceil(m+v-M);S={x:R,y:M,w:P,h:U}}const T=r.crossOrigin;return{x:d,y:v,h:m,w:g,excavation:S,opacity:w,crossOrigin:T}}function wse(t,e){return e!=null?Math.max(Math.floor(e),0):t?yse:vse}function Z5({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:c,boostLevel:g}){let m=Vn.useMemo(()=>{const R=(Array.isArray(t)?t:[t]).reduce((M,P)=>(M.push(...wf.QrSegment.makeSegments(P)),M),[]);return wf.QrCode.encodeSegments(R,pse[e],n,void 0,void 0,g)},[t,e,n,g]);const{cells:d,margin:v,numCells:w,calculatedImageSettings:S}=Vn.useMemo(()=>{let T=m.getModules();const R=wse(r,i),M=T.length+R*2,P=bse(T,c,R,a);return{cells:T,margin:R,numCells:M,calculatedImageSettings:P}},[m,c,a,r,i]);return{qrcode:m,margin:v,cells:d,numCells:w,calculatedImageSettings:S}}var Ese=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Ase=Vn.forwardRef(function(e,n){const r=e,{value:i,size:a=q5,level:c=G5,bgColor:g=Y5,fgColor:m=W5,includeMargin:d=$5,minVersion:v=X5,boostLevel:w,marginSize:S,imageSettings:T}=r,M=Eb(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:P}=M,U=Eb(M,["style"]),W=T?.src,q=Vn.useRef(null),ee=Vn.useRef(null),$=Vn.useCallback(ge=>{q.current=ge,typeof n=="function"?n(ge):n&&(n.current=ge)},[n]),[ne,k]=Vn.useState(!1),{margin:V,cells:j,numCells:Q,calculatedImageSettings:Z}=Z5({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:d,marginSize:S,imageSettings:T,size:a});Vn.useEffect(()=>{if(q.current!=null){const ge=q.current,se=ge.getContext("2d");if(!se)return;let le=j;const ue=ee.current,Ie=Z!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;Ie&&Z.excavation!=null&&(le=Q5(j,Z.excavation));const Fe=window.devicePixelRatio||1;ge.height=ge.width=a*Fe;const ae=a/Q*Fe;se.scale(ae,ae),se.fillStyle=g,se.fillRect(0,0,Q,Q),se.fillStyle=m,Ese?se.fill(new Path2D(K5(le,V))):j.forEach(function(be,Te){be.forEach(function(ke,$e){ke&&se.fillRect($e+V,Te+V,1,1)})}),Z&&(se.globalAlpha=Z.opacity),Ie&&se.drawImage(ue,Z.x+V,Z.y+V,Z.w,Z.h)}}),Vn.useEffect(()=>{k(!1)},[W]);const X=wb({height:a,width:a},P);let z=null;return W!=null&&(z=Vn.createElement("img",{src:W,key:W,style:{display:"none"},onLoad:()=>{k(!0)},ref:ee,crossOrigin:Z?.crossOrigin})),Vn.createElement(Vn.Fragment,null,Vn.createElement("canvas",wb({style:X,height:a,width:a,ref:$,role:"img"},U)),z)});Ase.displayName="QRCodeCanvas";var lm=Vn.forwardRef(function(e,n){const r=e,{value:i,size:a=q5,level:c=G5,bgColor:g=Y5,fgColor:m=W5,includeMargin:d=$5,minVersion:v=X5,boostLevel:w,title:S,marginSize:T,imageSettings:R}=r,M=Eb(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:P,cells:U,numCells:W,calculatedImageSettings:q}=Z5({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:d,marginSize:T,imageSettings:R,size:a});let ee=U,$=null;R!=null&&q!=null&&(q.excavation!=null&&(ee=Q5(U,q.excavation)),$=Vn.createElement("image",{href:R.src,height:q.h,width:q.w,x:q.x+P,y:q.y+P,preserveAspectRatio:"none",opacity:q.opacity,crossOrigin:q.crossOrigin}));const ne=K5(ee,P);return Vn.createElement("svg",wb({height:a,width:a,viewBox:`0 0 ${W} ${W}`,ref:n,role:"img"},M),!!S&&Vn.createElement("title",null,S),Vn.createElement("path",{fill:g,d:`M0,0 h${W}v${W}H0z`,shapeRendering:"crispEdges"}),Vn.createElement("path",{fill:m,d:ne,shapeRendering:"crispEdges"}),$)});lm.displayName="QRCodeSVG";function Sse(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const _se=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function au(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let cf=null;function J5(t={}){return cf||(t.includeStyleProperties?(cf=t.includeStyleProperties,cf):(cf=au(window.getComputedStyle(document.documentElement)),cf))}function um(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Cse(t){const e=um(t,"border-left-width"),n=um(t,"border-right-width");return t.clientWidth+e+n}function Tse(t){const e=um(t,"border-top-width"),n=um(t,"border-bottom-width");return t.clientHeight+e+n}function e9(t,e={}){const n=e.width||Cse(t),r=e.height||Tse(t);return{width:n,height:r}}function Ise(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Ua=16384;function Ose(t){(t.width>Ua||t.height>Ua)&&(t.width>Ua&&t.height>Ua?t.width>t.height?(t.height*=Ua/t.width,t.width=Ua):(t.width*=Ua/t.height,t.height=Ua):t.width>Ua?(t.height*=Ua/t.width,t.width=Ua):(t.width*=Ua/t.height,t.height=Ua))}function cm(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function Rse(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Nse(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(t),Rse(i)}const wa=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||wa(n,e)};function Dse(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Mse(t,e){return J5(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function Pse(t,e,n,r){const i=`.${t}:${e}`,a=n.cssText?Dse(n):Mse(n,r);return document.createTextNode(`${i}{${a}}`)}function pR(t,e,n,r){const i=window.getComputedStyle(t,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const c=_se();try{e.className=`${e.className} ${c}`}catch{return}const g=document.createElement("style");g.appendChild(Pse(c,n,i,r)),e.appendChild(g)}function Lse(t,e,n){pR(t,e,":before",n),pR(t,e,":after",n)}const yR="application/font-woff",vR="image/jpeg",kse={woff:yR,woff2:yR,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:vR,jpeg:vR,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function jse(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function AA(t){const e=jse(t).toLowerCase();return kse[e]||""}function Bse(t){return t.split(/,/)[1]}function Ab(t){return t.search(/^(data:)/)!==-1}function Use(t,e){return`data:${e};base64,${t}`}async function t9(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,c)=>{const g=new FileReader;g.onerror=c,g.onloadend=()=>{try{a(n({res:r,result:g.result}))}catch(m){c(m)}},g.readAsDataURL(i)})}const Jx={};function Fse(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function SA(t,e,n){const r=Fse(t,e,n.includeQueryParams);if(Jx[r]!=null)return Jx[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const a=await t9(t,n.fetchRequestInit,({res:c,result:g})=>(e||(e=c.headers.get("Content-Type")||""),Bse(g)));i=Use(a,e)}catch(a){i=n.imagePlaceholder||"";let c=`Failed to fetch resource: ${t}`;a&&(c=typeof a=="string"?a:a.message),c&&console.warn(c)}return Jx[r]=i,i}async function Vse(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):cm(e)}async function zse(t,e){if(t.currentSrc){const a=document.createElement("canvas"),c=a.getContext("2d");a.width=t.clientWidth,a.height=t.clientHeight,c?.drawImage(t,0,0,a.width,a.height);const g=a.toDataURL();return cm(g)}const n=t.poster,r=AA(n),i=await SA(n,r,e);return cm(i)}async function Hse(t,e){var n;try{if(!((n=t?.contentDocument)===null||n===void 0)&&n.body)return await Ep(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function qse(t,e){return wa(t,HTMLCanvasElement)?Vse(t):wa(t,HTMLVideoElement)?zse(t,e):wa(t,HTMLIFrameElement)?Hse(t,e):t.cloneNode(n9(t))}const Gse=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",n9=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function Yse(t,e,n){var r,i;if(n9(e))return e;let a=[];return Gse(t)&&t.assignedNodes?a=au(t.assignedNodes()):wa(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?a=au(t.contentDocument.body.childNodes):a=au(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),a.length===0||wa(t,HTMLVideoElement)||await a.reduce((c,g)=>c.then(()=>Ep(g,n)).then(m=>{m&&e.appendChild(m)}),Promise.resolve()),e}function Wse(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):J5(n).forEach(a=>{let c=i.getPropertyValue(a);a==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),wa(t,HTMLIFrameElement)&&a==="display"&&c==="inline"&&(c="block"),a==="d"&&e.getAttribute("d")&&(c=`path(${e.getAttribute("d")})`),r.setProperty(a,c,i.getPropertyPriority(a))})}function $se(t,e){wa(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),wa(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Xse(t,e){if(wa(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function Kse(t,e,n){return wa(e,Element)&&(Wse(t,e,n),Lse(t,e,n),$se(t,e),Xse(t,e)),e}async function Qse(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let a=0;a<n.length;a++){const g=n[a].getAttribute("xlink:href");if(g){const m=t.querySelector(g),d=document.querySelector(g);!m&&d&&!r[g]&&(r[g]=await Ep(d,e,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",c=document.createElementNS(a,"svg");c.setAttribute("xmlns",a),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const g=document.createElementNS(a,"defs");c.appendChild(g);for(let m=0;m<i.length;m++)g.appendChild(i[m]);t.appendChild(c)}return t}async function Ep(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>qse(r,e)).then(r=>Yse(t,r,e)).then(r=>Kse(t,r,e)).then(r=>Qse(r,e))}const r9=/url\((['"]?)([^'"]+?)\1\)/g,Zse=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Jse=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function eoe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function toe(t){const e=[];return t.replace(r9,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Ab(n))}async function noe(t,e,n,r,i){try{const a=n?Sse(e,n):e,c=AA(e);let g;return i||(g=await SA(a,c,r)),t.replace(eoe(e),`$1${g}$3`)}catch{}return t}function roe(t,{preferredFontFormat:e}){return e?t.replace(Jse,n=>{for(;;){const[r,,i]=Zse.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function i9(t){return t.search(r9)!==-1}async function a9(t,e,n){if(!i9(t))return t;const r=roe(t,n);return toe(r).reduce((a,c)=>a.then(g=>noe(g,c,e,n)),Promise.resolve(r))}async function ff(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const a=await a9(i,null,n);return e.style.setProperty(t,a,e.style.getPropertyPriority(t)),!0}return!1}async function ioe(t,e){await ff("background",t,e)||await ff("background-image",t,e),await ff("mask",t,e)||await ff("-webkit-mask",t,e)||await ff("mask-image",t,e)||await ff("-webkit-mask-image",t,e)}async function aoe(t,e){const n=wa(t,HTMLImageElement);if(!(n&&!Ab(t.src))&&!(wa(t,SVGImageElement)&&!Ab(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await SA(r,AA(r),e);await new Promise((a,c)=>{t.onload=a,t.onerror=e.onImageErrorHandler?(...m)=>{try{a(e.onImageErrorHandler(...m))}catch(d){c(d)}}:c;const g=t;g.decode&&(g.decode=a),g.loading==="lazy"&&(g.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function soe(t,e){const r=au(t.childNodes).map(i=>s9(i,e));await Promise.all(r).then(()=>t)}async function s9(t,e){wa(t,Element)&&(await ioe(t,e),await aoe(t,e),await soe(t,e))}function ooe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const xR={};async function bR(t){let e=xR[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},xR[t]=e,e}async function wR(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async c=>{let g=c.replace(r,"$1");return g.startsWith("https://")||(g=new URL(g,t.url).href),t9(g,e.fetchRequestInit,({result:m})=>(n=n.replace(c,`url(${m})`),[c,m]))});return Promise.all(a).then(()=>n)}function ER(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=i.exec(r);if(m===null)break;e.push(m[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",g=new RegExp(c,"gi");for(;;){let m=a.exec(r);if(m===null){if(m=g.exec(r),m===null)break;a.lastIndex=g.lastIndex}else g.lastIndex=a.lastIndex;e.push(m[0])}return e}async function loe(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{au(i.cssRules||[]).forEach((a,c)=>{if(a.type===CSSRule.IMPORT_RULE){let g=c+1;const m=a.href,d=bR(m).then(v=>wR(v,e)).then(v=>ER(v).forEach(w=>{try{i.insertRule(w,w.startsWith("@import")?g+=1:i.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:w,error:S})}})).catch(v=>{console.error("Error loading remote css",v.toString())});r.push(d)}})}catch(a){const c=t.find(g=>g.href==null)||document.styleSheets[0];i.href!=null&&r.push(bR(i.href).then(g=>wR(g,e)).then(g=>ER(g).forEach(m=>{c.insertRule(m,c.cssRules.length)})).catch(g=>{console.error("Error loading remote stylesheet",g)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{au(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function uoe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>i9(e.style.getPropertyValue("src")))}async function coe(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=au(t.ownerDocument.styleSheets),r=await loe(n,e);return uoe(r)}function o9(t){return t.trim().replace(/["']/g,"")}function foe(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{e.add(o9(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(t),e}async function hoe(t,e){const n=await coe(t,e),r=foe(t);return(await Promise.all(n.filter(a=>r.has(o9(a.style.fontFamily))).map(a=>{const c=a.parentStyleSheet?a.parentStyleSheet.href:null;return a9(a.cssText,c,e)}))).join(`
`)}async function doe(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await hoe(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function goe(t,e={}){const{width:n,height:r}=e9(t,e),i=await Ep(t,e,!0);return await doe(i,e),await s9(i,e),ooe(i,e),await Nse(i,n,r)}async function moe(t,e={}){const{width:n,height:r}=e9(t,e),i=await goe(t,e),a=await cm(i),c=document.createElement("canvas"),g=c.getContext("2d"),m=e.pixelRatio||Ise(),d=e.canvasWidth||n,v=e.canvasHeight||r;return c.width=d*m,c.height=v*m,e.skipAutoScale||Ose(c),c.style.width=`${d}`,c.style.height=`${v}`,e.backgroundColor&&(g.fillStyle=e.backgroundColor,g.fillRect(0,0,c.width,c.height)),g.drawImage(a,0,0,c.width,c.height),c}async function poe(t,e={}){return(await moe(t,e)).toDataURL()}function yoe({customers:t,onView:e,onDelete:n}){const[r,i]=N.useState(null),a=N.useRef(null),c=()=>{a.current&&poe(a.current,{cacheBust:!0}).then(g=>{const m=document.createElement("a");m.download="qr-code.png",m.href=g,m.click()}).catch(g=>console.error("Error downloading QR:",g))};return I.jsxs(I.Fragment,{children:[I.jsxs("table",{className:"customer-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"QR"}),I.jsx("th",{children:"Name"}),I.jsx("th",{children:"Mobile"}),I.jsx("th",{children:"Tier"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Wallet"}),I.jsx("th",{children:"Points"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:t.map(g=>I.jsxs("tr",{children:[I.jsx("td",{children:g.email?I.jsx("div",{style:{cursor:"pointer"},onClick:()=>i(g.email),children:I.jsx(lm,{value:g.email,size:48,bgColor:"#ffffff",fgColor:"#000000",level:"H"})}):I.jsx("span",{children:"N/A"})}),I.jsx("td",{children:g.fullName}),I.jsx("td",{children:g.mobile}),I.jsx("td",{children:g.tier}),I.jsx("td",{children:g.status}),I.jsxs("td",{children:["₱",g.wallet]}),I.jsx("td",{children:g.points}),I.jsxs("td",{children:[I.jsx("button",{className:"btn view",onClick:()=>e(g),style:{background:"#0088adff",color:"white"},children:"View"}),I.jsx("button",{className:"btn delete",onClick:()=>n(g.id),style:{background:"#ff4848ff",color:"white"},children:"Delete"})]})]},g.id))})]}),r&&I.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>i(null),children:I.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:10,textAlign:"center"},onClick:g=>g.stopPropagation(),children:[I.jsx("div",{ref:a,children:I.jsx(lm,{value:r,size:180,bgColor:"#ffffff",fgColor:"#000000",level:"H"})}),I.jsxs("div",{style:{marginTop:15},children:[I.jsx("button",{onClick:c,style:{marginRight:10},children:"💾 Download"}),I.jsx("button",{onClick:()=>i(null),children:"❌ Close"})]})]})})]})}const voe=async t=>{try{const e=t.trim(),n=kr(bt(We,"customers"),hi("mobile","==",e));return!(await xn(n)).empty}catch(e){throw console.error("Error checking mobile number:",e),e}},xoe=async t=>{const e=kr(bt(We,"customers"),hi("email","==",t));return!(await xn(e)).empty};function boe({onAdd:t,onClose:e}){const[n,r]=N.useState(""),[i,a]=N.useState(""),[c,g]=N.useState(""),[m,d]=N.useState(""),[v,w]=N.useState(""),[S,T]=N.useState(!1),R=async()=>{if(!n.trim()||!i.trim()||!c.trim()){alert("Last Name, First Name, and Email are required");return}const M=c.trim(),P=m.trim();if(!/^\S+@\S+\.\S+$/.test(M)){alert("Please enter a valid email address");return}if(P&&!/^09\d{9}$/.test(P)){alert("Please enter a valid mobile number (11 digits starting with 09)");return}T(!0);try{if(await xoe(M)){alert("This email is already registered."),T(!1);return}if(P&&await voe(P)){alert("This mobile number is already registered."),T(!1);return}const W={fullName:`${i.trim()} ${n.trim()}`,lastName:n.trim(),firstName:i.trim(),email:M,mobile:P,wallet:0,gender:v||void 0},q=await t({...W,id:M});q.success?(alert("Customer added successfully!"),e()):alert("Error adding customer: "+q.error)}catch(U){console.error("❌ Error saving customer:",U),alert("Something went wrong. Please try again.")}finally{T(!1)}};return I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h3",{children:"Add Customer"}),I.jsx("input",{type:"text",placeholder:"Last Name",value:n,onChange:M=>r(M.target.value),className:"input"}),I.jsx("input",{type:"text",placeholder:"First Name",value:i,onChange:M=>a(M.target.value),className:"input"}),I.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:M=>g(M.target.value),className:"input"}),I.jsx("input",{type:"text",placeholder:"Mobile Number (optional)",value:m,onChange:M=>d(M.target.value),className:"input",maxLength:11}),I.jsxs("select",{value:v,onChange:M=>w(M.target.value),className:"picker",children:[I.jsx("option",{value:"",children:"Select Gender"}),I.jsx("option",{value:"Male",children:"Male"}),I.jsx("option",{value:"Female",children:"Female"})]}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{className:"btn",onClick:R,disabled:S,style:{marginLeft:10,background:"#92e846ff",color:"#010000ff"},children:S?"Saving...":"Save"}),I.jsx("button",{className:"btn danger",onClick:e,disabled:S,style:{marginLeft:10,background:"#ff2c2cff",color:"white"},children:"Cancel"})]})]})})}function woe({customer:t,onClose:e}){return I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h3",{children:"Customer Details"}),I.jsxs("p",{children:[I.jsx("strong",{children:"ID:"})," ",t.customerNumber]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Name:"})," ",t.fullName]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Mobile:"})," ",t.mobile]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Email:"})," ",t.email]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Tier:"})," ",t.tier]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Status:"})," ",t.status]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Points:"})," ",t.points]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Favorite Category:"})," ",t.favoriteCategory]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Wallet:"})," ₱",t.wallet]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Date Joined:"})," ",t.dateJoined||"N/A"]}),t.email&&I.jsx(lm,{value:t.email,size:128}),I.jsx("br",{}),I.jsx("button",{className:"btn",onClick:e,style:{marginLeft:10,background:"#828282ff",color:"white"},children:"Close"})]})})}const Eoe=async t=>{const e=kr(bt(We,"customers"),hi("email","==",t));return!(await xn(e)).empty},Aoe=async t=>{if(!t)return!1;const e=kr(bt(We,"customers"),hi("mobile","==",t));return!(await xn(e)).empty},Soe=async t=>{try{if(!t.email)throw new Error("Email is required");const e=t.email.trim(),n=t.mobile?.trim()||"";if(await Eoe(e))throw new Error("This email is already registered.");if(n&&await Aoe(n))throw new Error("This mobile number is already registered.");const i=e,a=Date.now().toString().slice(-4);return await XF(wt(We,"customers",e),{customerNumber:a,fullName:t.fullName,email:e,mobile:n,wallet:t.wallet||0,tier:"Bronze",status:"Active",points:0,qrCode:i,dateJoined:Fn(),favoriteCategory:t.favoriteCategory||"",gender:t.gender||""}),{success:!0,id:e,qrValue:i}}catch(e){return console.error("❌ Error adding customer:",e),{success:!1,error:e.message}}};function _oe(){const[t,e]=N.useState([]),[n,r]=N.useState({tier:"All",status:"All",mobile:""}),[i,a]=N.useState(null),[c,g]=N.useState(!1);N.useEffect(()=>{const w=Df(bt(We,"customers"),S=>{const T=S.docs.map(R=>{const M=R.data(),P=M.createdAt?M.createdAt.toDate().toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}):"N/A";return{id:R.id,...M,dateJoined:P}});e(T)},S=>console.error("Error fetching customers:",S));return()=>w()},[]);const m=async w=>{if(!w.email){alert("Email is required to generate QR code");return}const S=await Soe(w);S.success?alert("Customer added successfully!"):alert("Error adding customer: "+S.error)},d=async w=>{window.confirm("Are you sure you want to delete this customer?")&&(await wc(wt(We,"customers",w)),e(S=>S.filter(T=>T.id!==w)))},v=N.useMemo(()=>t.filter(w=>{const S=n.tier==="All"||w.tier===n.tier,T=n.status==="All"||w.status===n.status,R=w.mobile.toLowerCase().includes(n.mobile.toLowerCase());return S&&T&&R}),[t,n]);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"customer-container",children:[I.jsx("h2",{className:"title",children:"Customer Management"}),I.jsxs("div",{className:"filters",children:[I.jsxs("select",{value:n.tier,onChange:w=>r(S=>({...S,tier:w.target.value})),children:[I.jsx("option",{value:"All",children:"All Tiers"}),I.jsx("option",{value:"Bronze",children:"Bronze"}),I.jsx("option",{value:"Silver",children:"Silver"}),I.jsx("option",{value:"Gold",children:"Gold"})]}),I.jsxs("select",{value:n.status,onChange:w=>r(S=>({...S,status:w.target.value})),children:[I.jsx("option",{value:"All",children:"All Status"}),I.jsx("option",{value:"Active",children:"Active"}),I.jsx("option",{value:"Inactive",children:"Inactive"})]}),I.jsx("input",{type:"text",placeholder:"Search by Mobile",value:n.mobile,onChange:w=>r(S=>({...S,mobile:w.target.value}))}),I.jsx("button",{className:"btn add",onClick:()=>g(!0),style:{marginLeft:10,background:"#5b1818ff",color:"white"},children:"+ Add Customer"})]}),I.jsx(yoe,{customers:v,onView:a,onDelete:d}),i&&I.jsx(woe,{customer:i,onClose:()=>a(null)}),c&&I.jsx(boe,{onClose:()=>g(!1),onAdd:m})]})]})}const Coe=async t=>{try{const e=bt(We,"customers",t,"transactions"),n=await xn(e),r={};return n.forEach(a=>{const c=a.data();c.items&&Array.isArray(c.items)&&c.items.forEach(g=>{const m=g.category,d=g.qty??1;r[m]=(r[m]||0)+d})}),Object.entries(r).reduce((a,[c,g])=>g>a.count?{category:c,count:g}:a,{category:"",count:0}).category||null}catch(e){return console.error(`❌ Error getting top category for ${t}:`,e),null}},Vd=async t=>{try{const e=await Coe(t);if(!e){console.log(`⚠️ No favorite category found for ${t}`);return}const n=wt(We,"customers",t);await $t(n,{favoriteCategory:e}),console.log(`✅ Updated favorite category for ${t}: ${e}`)}catch(e){console.error(`❌ Error updating favorite category for ${t}:`,e)}},Toe=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,a]=N.useState(!1),[c,g]=N.useState(null),[m,d]=N.useState(null),[v,w]=N.useState(!1),[S,T]=N.useState("Pending");t.filter(z=>z.status===S);const[R,M]=N.useState(null),[P,U]=N.useState(!1),[W,q]=N.useState(null),[ee,$]=N.useState(0),ne=async(z=null)=>{try{r(!0);let ge;if(z){const le=kr(bt(We,"orders"),hi("customerId","==",z));ge=await xn(le)}else ge=await xn(bt(We,"orders"));const se=ge.docs.map(le=>{const ue=le.data(),Ie=ue.placedAt||ue.date||"";let Fe="";Ie?.toDate?Fe=Ie.toDate().toISOString().split("T")[0]:typeof Ie=="string"&&(Fe=Ie.split("T")[0]);const ae=Array.isArray(ue.items)?ue.items:[],be=ue.paidByWallet?"Wallet":ue.paymentMethod||(ue.type==="points-used"?"Points":"Cash");return{id:le.id,customerEmail:ue.customerId||"N/A",date:Fe,amount:ue.subtotal||ue.total||ue.amount||0,status:ue.status||"Pending",items:ae,paymentMethod:be,paidByWallet:!!ue.paidByWallet,pointsEarned:ue.pointsEarned||0,instructions:ue.instructions||""}});e(se)}catch(ge){console.error("Error fetching orders:",ge)}finally{r(!1)}};N.useEffect(()=>{ne()},[]);const k=async({customerEmail:z,customerName:ge,orderId:se,amount:le,paymentMethod:ue,type:Ie,status:Fe,date:ae,items:be,pointsEarned:Te=0})=>{await Zi(bt(We,"transactions"),{orderId:se,amount:le,paymentMethod:ue,type:Ie,status:Fe,date:ae,items:be,customerId:z,fullName:ge,pointsEarned:Te}),await Zi(bt(We,"customers",z,"transactions"),{orderId:se,amount:le,paymentMethod:ue,type:Ie,status:Fe,date:ae,items:be,customerId:z,fullName:ge,pointsEarned:Te})},V=async(z,ge,se)=>{const le=wt(We,"customers",z.customerEmail),Ie=(await Ka(le)).data();await $t(le,{points:(Ie.points||0)-se,totalSpent:(Ie.totalSpent||0)+z.amount,updatedAt:Fn()}),await $t(wt(We,"orders",z.id),{status:"Completed",paymentMethod:se===z.amount?"Points":"Mix",updatedAt:Fn()}),await k({customerEmail:z.customerEmail,customerName:ge,orderId:z.id,amount:z.amount,paymentMethod:se===z.amount?"Points":"Mix",type:se===z.amount?"points-used":"mixed-payment",status:"Completed",date:Fn(),items:z.items}),await Vd(z.customerEmail),alert("✅ Order completed successfully."),ne(c)},j=async z=>{try{const ge=wt(We,"customers",z.customerEmail),se=await Ka(ge);if(!se.exists()){alert("❌ Customer not found.");return}const le=se.data(),ue=le.points||0,Ie=le.wallet||0,Fe=z.amount;if(ue>=Fe){await V(z,le.fullName||"N/A",Fe);return}M(z),$(ue),U(!0)}catch(ge){console.error("Error completing order:",ge),alert("❌ Failed to complete order.")}},Q=async z=>{if(!R)return;const ge=wt(We,"customers",R.customerEmail),le=(await Ka(ge)).data(),ue=le.fullName||"N/A",Ie=le.points||0,Fe=le.wallet||0,ae=R.amount;let be=Math.min(Ie,ae),Te=ae-be;if(z==="Cash")await $t(ge,{points:Ie-be,totalSpent:(le.totalSpent||0)+ae,updatedAt:Fn()}),await $t(wt(We,"orders",R.id),{status:"Completed",paymentMethod:be>0?"Points + Cash":"Cash",updatedAt:Fn()}),await k({customerEmail:R.customerEmail,customerName:ue,orderId:R.id,amount:ae,paymentMethod:be>0?"Points + Cash":"Cash",type:be>0?"points-cash":"cash",status:"Completed",date:Fn(),items:R.items}),alert(`✅ Order completed using ${be} points + ₱${Te} cash.`);else if(z==="Wallet"){if(Fe<Te){alert("❌ Not enough wallet balance to complete payment!");return}await $t(ge,{points:Ie-be,wallet:Fe-Te,totalSpent:(le.totalSpent||0)+ae,updatedAt:Fn()}),await $t(wt(We,"orders",R.id),{status:"Completed",paymentMethod:be>0?"Points + Wallet":"Wallet",paidByWallet:!0,updatedAt:Fn()}),await k({customerEmail:R.customerEmail,customerName:ue,orderId:R.id,amount:ae,paymentMethod:be>0?"Points + Wallet":"Wallet",type:be>0?"points-wallet":"wallet",status:"Completed",date:Fn(),items:R.items}),alert(`✅ Order completed using ${be} points + ₱${Te} from wallet.`)}U(!1),M(null),ne(c)},Z=async(z,ge)=>{if(confirm("Are you sure you want to cancel this order?"))try{const se=wt(We,"orders",z);await $t(se,{status:"Canceled",updatedAt:Fn()});const le=kr(bt(We,"transactions"),hi("orderId","==",z)),ue=await xn(le);for(const ae of ue.docs)await $t(wt(We,"transactions",ae.id),{status:"Canceled",updatedAt:Fn()});const Ie=kr(bt(We,"customers",ge,"transactions"),hi("orderId","==",z)),Fe=await xn(Ie);for(const ae of Fe.docs)await $t(wt(We,"customers",ge,"transactions",ae.id),{status:"Canceled",updatedAt:Fn()});alert("🚫 Order has been marked as Canceled."),ne(c)}catch(se){console.error("Error canceling order:",se),alert("❌ Failed to cancel order.")}},X=()=>{a(!0);const z=new Mf("reader",{fps:10,qrbox:{width:250,height:250}},!1);z.render(async ge=>{try{const se=wt(We,"customers",ge),le=await Ka(se);le.exists()?(g(ge),alert(`✅ Showing orders for: ${le.data().fullName}`),ne(ge)):alert("❌ Customer not found!")}catch(se){console.error("Error scanning QR:",se)}z.clear().catch(()=>{}),a(!1)},ge=>console.warn(ge))};return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"p-6 ml-64",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Redeem Orders"}),I.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[I.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"📷 Scan QR to Filter"}),c&&I.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition",onClick:()=>{g(null),ne()},children:"🔁 Show All"}),I.jsxs("select",{value:S,onChange:z=>T(z.target.value),className:"px-3 py-2 border rounded-lg",children:[I.jsx("option",{value:"Pending",children:"Pending"}),I.jsx("option",{value:"Completed",children:"Completed"})]})]}),i&&I.jsx("div",{id:"reader",className:"w-[300px] h-[300px] border-2 border-gray-300 mb-4"}),n?I.jsx("p",{children:"Loading orders..."}):t.filter(z=>z.status===S).length===0?I.jsx("p",{children:"No orders found."}):I.jsx("div",{className:"table-wrapper",children:I.jsxs("table",{className:"orders-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Order ID"}),I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Items"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Payment"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:t.filter(z=>z.status===S).map(z=>I.jsxs("tr",{children:[I.jsx("td",{children:z.id}),I.jsx("td",{children:z.customerEmail}),I.jsx("td",{children:z.date}),I.jsx("td",{children:z.items.length?z.items.map(ge=>ge.name).join(", "):"N/A"}),I.jsxs("td",{children:[z.amount.toFixed(2)," pts."]}),I.jsx("td",{children:"Points"}),I.jsx("td",{children:I.jsx("span",{className:`order-status ${z.status.toLowerCase()}`,children:z.status})}),I.jsx("td",{children:z.status==="Pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{className:"complete-btn",onClick:()=>j(z),style:{background:"#ffca61",color:"white",marginRight:"6px"},children:"Complete"}),I.jsx("button",{className:"cancel-btn",onClick:()=>Z(z.id,z.customerEmail),style:{background:"#ff2600",color:"white"},children:"Cancel"})]}):z.status==="Completed"?I.jsx("button",{className:"delete-btn",onClick:async()=>{if(confirm("🗑️ Are you sure you want to delete this completed order?"))try{await wc(wt(We,"orders",z.id)),alert("✅ Order deleted successfully!"),ne(c)}catch(ge){console.error("Error deleting order:",ge),alert("❌ Failed to delete order.")}},style:{background:"#d32f2f",color:"white"},children:"Delete"}):null})]},z.id))})]})}),P&&R&&I.jsx("div",{className:"payment-modal",children:I.jsxs("div",{className:"payment-modal-content",children:[I.jsx("h3",{children:"Not enough points"}),I.jsxs("p",{children:["Customer has only ",ee," points, order costs ₱",R.amount,".",I.jsx("br",{}),"Choose how to pay:"]}),I.jsxs("div",{className:"payment-options",children:[I.jsx("button",{onClick:()=>Q("Cash"),children:" Cash"}),I.jsx("button",{onClick:()=>Q("Wallet"),children:" Wallet"})]}),I.jsx("button",{className:"cancel-btn",onClick:()=>{U(!1),M(null)},children:"Cancel"})]})})]})]})};function Ioe(){const[t,e]=N.useState([]),[n,r]=N.useState({promoType:"global",applicableTiers:[],category:""}),[i,a]=N.useState(null),[c,g]=N.useState([]),[m,d]=N.useState(""),[v,w]=N.useState("all"),[S,T]=N.useState("all"),[R,M]=N.useState(!1);N.useEffect(()=>{const k=kr(bt(We,"promotions"),pw("createdAt","desc")),V=Df(k,j=>{const Q=j.docs.map(Z=>({id:Z.id,...Z.data()}));e(Q)});return()=>V()},[]),N.useEffect(()=>{(async()=>{try{const V=await xn(bt(We,"menu")),j=new Set;V.forEach(Q=>{const Z=Q.data();Z.category&&j.add(Z.category)}),g(Array.from(j))}catch(V){console.error("Error fetching categories:",V)}})()},[]);const P=k=>{const{name:V,value:j}=k.target;r(Q=>({...Q,[V]:V==="price"?parseFloat(j):j}))},U=k=>{r(V=>{const j=V.applicableTiers||[];return j.includes(k)?{...V,applicableTiers:j.filter(Q=>Q!==k)}:{...V,applicableTiers:[...j,k]}})},W=async()=>{if(!n.title||!n.description||!n.price||!n.startDate||!n.endDate){alert("Please fill in all required fields.");return}const k={...n,createdAt:Fn()};try{i?(await $t(wt(We,"promotions",i),k),a(null)):await Zi(bt(We,"promotions"),k),r({promoType:"global",applicableTiers:[],category:""}),M(!1)}catch(V){console.error("Error saving promotion:",V)}},q=k=>{r(k),a(k.id),M(!0)},ee=async k=>await wc(wt(We,"promotions",k)),$=k=>new Date(k)>=new Date?"active":"expired",ne=t.filter(k=>{const V=k.title.toLowerCase().includes(m.toLowerCase())||k.description.toLowerCase().includes(m.toLowerCase()),j=$(k.endDate),Q=v==="all"||v==="active"&&j==="active"||v==="expired"&&j==="expired",Z=S==="all"||k.category===S;return V&&Q&&Z});return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"promotion-container",children:[I.jsxs("div",{className:"promo-header",children:[I.jsx("h2",{children:"Current Promotions"}),I.jsx("button",{className:"add-btn",onClick:()=>M(!0),children:"+ Add Promotion"})]}),I.jsxs("div",{className:"filter-controls",children:[I.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:k=>d(k.target.value)}),I.jsxs("select",{value:v,onChange:k=>w(k.target.value),children:[I.jsx("option",{value:"all",children:"All"}),I.jsx("option",{value:"active",children:"Active"}),I.jsx("option",{value:"expired",children:"Expired"})]}),I.jsxs("select",{value:S,onChange:k=>T(k.target.value),children:[I.jsx("option",{value:"all",children:"All Categories"}),c.map(k=>I.jsx("option",{value:k,children:k},k))]})]}),ne.length===0?I.jsx("p",{children:"No promotions found."}):I.jsx("ul",{className:"promo-list",children:ne.map(k=>I.jsxs("li",{className:"promo-item",children:[I.jsxs("div",{className:"promo-details",children:[I.jsx("h3",{children:k.title}),I.jsx("p",{children:k.description}),I.jsxs("p",{children:["Price: ₱",k.price?.toFixed(2)]}),I.jsxs("p",{children:["Type: ",I.jsx("b",{children:k.promoType})," ",k.applicableTiers?.length>0&&`| Tiers: ${k.applicableTiers.join(", ")}`]}),k.category&&I.jsxs("p",{children:["Category: ",I.jsx("b",{children:k.category})]}),I.jsxs("p",{className:`promo-status ${$(k.endDate)}`,children:[k.startDate," → ",k.endDate," |"," ",I.jsx("b",{style:{color:$(k.endDate)==="active"?"green":"red"},children:$(k.endDate).toUpperCase()})]})]}),I.jsxs("div",{className:"promo-actions",children:[I.jsx("button",{onClick:()=>q(k),children:"Edit"}),I.jsx("button",{onClick:()=>ee(k.id),children:"Delete"})]})]},k.id))}),R&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h2",{children:i?"Edit Promotion":"Add Promotion"}),I.jsxs("div",{className:"promo-input-grid",children:[I.jsx("input",{type:"text",name:"title",placeholder:"Title",value:n.title||"",onChange:P}),I.jsx("input",{type:"number",name:"price",placeholder:"Price (₱)",value:n.price||"",onChange:P}),I.jsx("input",{type:"date",name:"startDate",value:n.startDate||"",onChange:P}),I.jsx("input",{type:"date",name:"endDate",value:n.endDate||"",onChange:P})]}),I.jsxs("div",{className:"promo-type",children:[I.jsx("label",{children:"Promo Type:"}),I.jsxs("select",{name:"promoType",value:n.promoType,onChange:P,children:[I.jsx("option",{value:"global",children:"Global (all tiers)"}),I.jsx("option",{value:"personalized",children:"Personalized (category + tier)"})]})]}),n.promoType==="personalized"&&I.jsxs("select",{name:"category",value:n.category||"",onChange:P,children:[I.jsx("option",{value:"",children:"Select Category"}),c.map(k=>I.jsx("option",{value:k,children:k},k))]}),I.jsx("div",{className:"tier-options",children:["Bronze","Silver","Gold"].map(k=>I.jsxs("label",{children:[I.jsx("input",{type:"checkbox",checked:n.applicableTiers?.includes(k)||!1,onChange:()=>U(k)}),k]},k))}),I.jsx("textarea",{name:"description",placeholder:"Description",value:n.description||"",onChange:P,rows:3}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{onClick:W,children:i?"Update":"Add"}),I.jsx("button",{onClick:()=>M(!1),children:"Cancel"})]})]})})]})]})}function Ooe(){const[t,e]=N.useState([]),[n,r]=N.useState({name:"",description:"",price:0,category:"",image:"",availability:!0}),[i,a]=N.useState(null),[c,g]=N.useState(!1),[m,d]=N.useState(!1),[v,w]=N.useState(null),[S,T]=N.useState(""),[R,M]=N.useState(null);N.useEffect(()=>{(async()=>{const j=(await xn(bt(We,"menu"))).docs.map(Q=>({id:Q.id,...Q.data()}));e(j)})()},[]);const P=k=>{const{name:V,value:j,type:Q,checked:Z}=k.target;r(X=>({...X,[V]:Q==="checkbox"?Z:j}))},U=k=>{const V=k.target.files?.[0];if(V){const j=URL.createObjectURL(V);r(Q=>({...Q,image:j}))}},W=(k,V)=>{w(k),k==="delete"&&V&&M(V),d(!0)},q=async()=>{if(S==="admin123"){if(v==="add"){if(i){const k=wt(We,"menu",i);await $t(k,n),e(V=>V.map(j=>j.id===i?{id:i,...n}:j)),a(null)}else{const k=await Zi(bt(We,"menu"),n);e(V=>[...V,{id:k.id,...n}])}ne()}else v==="delete"&&R&&(await wc(wt(We,"menu",R)),e(k=>k.filter(V=>V.id!==R)),M(null));d(!1),T("")}else alert("❌ Incorrect PIN!")},ee=k=>{k.preventDefault(),W("add")},$=k=>{const V=t.find(j=>j.id===k);V&&(r({...V}),a(k),g(!0))},ne=()=>{r({name:"",description:"",price:0,category:"",image:"",availability:!0}),g(!1)};return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"menu-container",children:[I.jsx("h1",{children:" Menu Management"}),I.jsx("button",{onClick:()=>{ne(),g(!0)},style:{padding:"10px 20px",background:"#69481d",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",marginBottom:"20px"},children:"Add Menu Item"}),I.jsx("div",{className:"menu-list",children:t.map(k=>I.jsxs("div",{className:"menu-card",children:[I.jsx("img",{src:k.image,alt:k.name}),I.jsx("h3",{children:k.name}),I.jsx("p",{children:k.description}),I.jsx("p",{children:I.jsxs("strong",{children:["₱",k.price]})}),I.jsxs("p",{children:["Category: ",k.category]}),I.jsxs("p",{children:["Status: ",k.availability?"Available":"Unavailable"]}),I.jsxs("div",{className:"menu-buttons",children:[I.jsx("button",{onClick:()=>$(k.id),children:"Edit"}),I.jsx("button",{onClick:()=>W("delete",k.id),children:"Delete"})]})]},k.id))})]}),c&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h2",{children:i?"Edit Menu Item":"Add Menu Item"}),I.jsxs("form",{onSubmit:ee,className:"menu-form",children:[I.jsx("input",{name:"name",placeholder:"Item Name",value:n.name,onChange:P,required:!0}),I.jsx("textarea",{name:"description",placeholder:"Description",value:n.description,onChange:P,required:!0}),I.jsx("input",{name:"price",type:"number",placeholder:"Price",value:n.price,onChange:P,required:!0}),I.jsxs("select",{name:"category",value:n.category,onChange:P,required:!0,children:[I.jsx("option",{value:"",children:"Category"}),I.jsx("option",{value:"Pork",children:"Pork"}),I.jsx("option",{value:"Beef",children:"Beef"}),I.jsx("option",{value:"Chicken",children:"Chicken"}),I.jsx("option",{value:"Sea Food",children:"Sea Food"}),I.jsx("option",{value:"Appetizer",children:"Appetizer"}),I.jsx("option",{value:"Soup",children:"Soup"}),I.jsx("option",{value:"Pasta",children:"Pasta"}),I.jsx("option",{value:"Vegetable",children:"Vegetable"}),I.jsx("option",{value:"Burger & Sandwiches",children:"Burger & Sandwiches"}),I.jsx("option",{value:"Bento",children:"Bento"}),I.jsx("option",{value:"Package Bundles",children:"Package Bundles"})]}),I.jsx("input",{type:"file",accept:"image/*",onChange:U}),n.image&&I.jsx("img",{src:n.image,alt:"Preview",className:"image-preview"}),I.jsxs("label",{children:[I.jsx("input",{name:"availability",type:"checkbox",checked:n.availability,onChange:P}),"Available"]}),I.jsxs("button",{type:"submit",children:[i?"Update":"Add"," Item"]}),I.jsx("button",{type:"button",onClick:ne,style:{background:"#aaa",color:"#fff"},children:"Cancel"})]})]})}),m&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-content",children:[I.jsx("h3",{children:"Enter Admin PIN"}),I.jsx("input",{type:"password",value:S,onChange:k=>T(k.target.value),placeholder:"Enter PIN"}),I.jsx("br",{}),I.jsx("button",{onClick:q,children:"Confirm"}),I.jsx("button",{onClick:()=>d(!1),children:"Cancel"})]})})]})}const Si=[];for(let t=0;t<256;++t)Si.push((t+256).toString(16).slice(1));function Roe(t,e=0){return(Si[t[e+0]]+Si[t[e+1]]+Si[t[e+2]]+Si[t[e+3]]+"-"+Si[t[e+4]]+Si[t[e+5]]+"-"+Si[t[e+6]]+Si[t[e+7]]+"-"+Si[t[e+8]]+Si[t[e+9]]+"-"+Si[t[e+10]]+Si[t[e+11]]+Si[t[e+12]]+Si[t[e+13]]+Si[t[e+14]]+Si[t[e+15]]).toLowerCase()}let e2;const Noe=new Uint8Array(16);function Doe(){if(!e2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");e2=crypto.getRandomValues.bind(crypto)}return e2(Noe)}const Moe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AR={randomUUID:Moe};function zd(t,e,n){if(AR.randomUUID&&!t)return AR.randomUUID();t=t||{};const r=t.random??t.rng?.()??Doe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Roe(r)}const Poe=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(null),[i,a]=N.useState(0),[c,g]=N.useState("GCash"),[m,d]=N.useState([]),[v,w]=N.useState(!1),[S,T]=N.useState(0),[R,M]=N.useState(null),[P,U]=N.useState("pending");N.useEffect(()=>{const j=Df(bt(We,"walletRequests"),Q=>{const Z=Q.docs.map(X=>({id:X.id,...X.data()}));d(Z)});return()=>j()},[]);const W=async()=>{if(!t.trim()){alert("Enter a mobile number to search");return}const j=kr(bt(We,"customers"),hi("mobile","==",t.trim())),Q=await xn(j);if(Q.empty){alert("❌ Customer not found"),r(null);return}const Z=Q.docs[0],X=Z.data();r({id:Z.id,email:X.email,mobile:X.mobile,balance:X.wallet||0,logs:X.logs||[]})},q=async()=>{if(!n){alert("Search a customer first");return}if(i<=0){alert("❌ Amount must be greater than 0");return}const j=n.balance+i,Q={id:zd(),method:c,amount:i,date:new Date().toISOString().split("T")[0],type:"Over The Counter"};await $t(wt(We,"customers",n.id),{wallet:j,logs:[...n.logs,Q]}),r({...n,balance:j,logs:[...n.logs,Q]}),a(0),alert("✅ Wallet updated successfully!")},ee=j=>{M(j),T(0),w(!0)},$=async()=>{if(R){if(S<=0){alert("Enter valid amount");return}try{const j=kr(bt(We,"customers"),hi("email","==",R.email)),Q=await xn(j);if(Q.empty){alert("❌ Customer not found for this request.");return}const Z=Q.docs[0],X=Z.data(),z=(X.wallet||0)+S,ge={id:zd(),method:"GCash",amount:S,date:new Date().toISOString().split("T")[0],type:"request"};await $t(wt(We,"customers",Z.id),{wallet:z,logs:[...X.logs||[],ge]}),await $t(wt(We,"walletRequests",R.id),{status:"approved"}),w(!1),M(null),T(0),alert("✅ Wallet request approved!")}catch(j){console.error(j),alert("❌ Failed to approve request.")}}},ne=async j=>{try{await $t(wt(We,"walletRequests",j),{status:"rejected"}),alert("❌ Request rejected.")}catch(Q){console.error(Q),alert("Failed to reject request.")}},k=async j=>{try{await wc(wt(We,"walletRequests",j)),alert("🗑️ Request deleted!")}catch(Q){console.error(Q),alert("Failed to delete request.")}},V=m.filter(j=>j.status===P);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"wallet-container",children:[I.jsx("h1",{className:"wallet-title",children:"Wallet System & Requests"}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"Search Customer"}),I.jsx("input",{type:"text",value:t,onChange:j=>e(j.target.value),placeholder:"Enter mobile number"}),I.jsx("button",{onClick:W,children:"Search"})]}),n&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"section customer-info",children:[I.jsx("h2",{children:"Customer Info"}),I.jsxs("p",{children:["👤 ",I.jsx("strong",{children:"Name:"})," ",n.email]}),I.jsxs("p",{children:["📱 ",I.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),I.jsxs("p",{children:["💳 ",I.jsx("strong",{children:"Wallet Balance:"})," ₱",n.balance.toFixed(2)]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"🔧 Manual Adjustment"}),I.jsxs("select",{value:c,onChange:j=>g(j.target.value),children:[I.jsx("option",{value:"GCash",children:"GCash"}),I.jsx("option",{value:"Cash",children:"Cash"})]}),I.jsx("input",{type:"number",value:i,onChange:j=>a(Number(j.target.value)),placeholder:"Enter amount"}),I.jsx("button",{onClick:q,children:"Confirm Adjustment"})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"📜 Top-up Logs"}),n.logs.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"#"}),I.jsx("th",{children:"Method"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Type"})]})}),I.jsx("tbody",{children:[...n.logs].sort((j,Q)=>j.date<Q.date?1:-1).map((j,Q)=>I.jsxs("tr",{children:[I.jsx("td",{children:Q+1}),I.jsx("td",{children:j.method}),I.jsxs("td",{children:["₱",j.amount.toFixed(2)]}),I.jsx("td",{children:j.date}),I.jsx("td",{children:j.type})]},j.id))})]}):I.jsx("p",{className:"empty-log",children:"No logs available."})]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"📥 Wallet Requests"}),I.jsx("div",{style:{marginBottom:"10px"},children:I.jsxs("label",{children:[I.jsx("strong",{children:"Filter:"})," ",I.jsxs("select",{value:P,onChange:j=>U(j.target.value),children:[I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"approved",children:"Approved"})]})]})}),V.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Email"}),I.jsx("th",{children:"Reference No."}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:V.map(j=>I.jsxs("tr",{children:[I.jsx("td",{children:j.email}),I.jsx("td",{children:j.referenceNo}),I.jsx("td",{children:j.status}),I.jsx("td",{children:j.status==="pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{onClick:()=>ee(j),style:{background:"#6dff50ff",color:"black"},children:"Approve"}),I.jsx("button",{onClick:()=>ne(j.id),style:{background:"#ff6150ff",color:"white"},children:"Reject"})]}):I.jsx("button",{onClick:()=>k(j.id),style:{background:"#d3d3d3",color:"black"},children:"Delete"})})]},j.id))})]}):I.jsxs("p",{children:["No ",P," requests found."]})]})]}),v&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-box",children:[I.jsx("h2",{children:"Approve Wallet Request"}),I.jsxs("p",{children:["Enter amount to add for ",I.jsx("strong",{children:R?.email})]}),I.jsx("input",{type:"number",value:S,onChange:j=>T(Number(j.target.value)),placeholder:"Enter amount"}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{onClick:$,style:{background:"#cfffc6ff",color:"black"},children:"Confirm"}),I.jsx("button",{onClick:()=>w(!1),children:"Cancel"})]})]})})]})};function p0(){const[t,e]=N.useState(!1);return I.jsxs(I.Fragment,{children:[I.jsxs("aside",{className:`sidebar ${t?"hidden":""}`,"aria-hidden":t,children:[I.jsx("h2",{className:"sidebar-title",children:"Staff Panel"}),I.jsxs("nav",{className:"sidebar-nav",children:[I.jsx(pa,{to:"/take-order",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Take-Order"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/promo-redemption",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Promo"}),I.jsx(pa,{to:"/orders-staff",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Orders"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/wallet-staff",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Wallet Requests"}),I.jsx("div",{className:"sidebar-separator"}),I.jsx(pa,{to:"/",className:({isActive:n})=>n?"sidebar-link active":"sidebar-link",children:"Logout"})]})]}),I.jsx("button",{className:"toggle-btn",onClick:()=>e(n=>!n),"aria-pressed":!t,"aria-label":t?"Open sidebar":"Close sidebar",children:t?I.jsx(WR,{size:20}):I.jsx(YR,{size:20})})]})}const Loe={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},koe=mm(Loe),Fa=lw(koe);function joe(){const[t,e]=N.useState([{id:1,name:"",price:0,qty:1}]),[n,r]=N.useState([]),[i,a]=N.useState([]),[c,g]=N.useState(""),[m,d]=N.useState(null),[v,w]=N.useState(!1),[S,T]=N.useState([]),[R,M]=N.useState(null),[P,U]=N.useState(null),[W,q]=N.useState(!1),[ee,$]=N.useState(!1),[ne,k]=N.useState([]),[V,j]=N.useState(null),[Q,Z]=N.useState(!1),[X,z]=N.useState(null),[ge,se]=N.useState(null),[le,ue]=N.useState(null),[Ie,Fe]=N.useState(null),[ae,be]=N.useState(null),[Te,ke]=N.useState(!1),[$e,at]=N.useState(null),[je,In]=N.useState(""),[vt,Re]=N.useState(null),[gt,it]=N.useState(null),[Be,ht]=N.useState(!1);N.useEffect(()=>{if(!m)return;(async()=>{try{const Xe=bt(Fa,"promotions"),pt=await xn(Xe),st=[];pt.forEach($n=>{st.push({promoId:$n.id,...$n.data()})});const wn=st.filter($n=>{const Aa=!$n.tier||$n.tier===m.tier,pn=!$n.favoriteCategory||$n.favoriteCategory===m.favoriteCategory;return Aa&&pn});k(wn)}catch(Xe){console.error("Error fetching promos:",Xe),k([])}})()},[m]);const Nt=async()=>{if(!je)return alert("Enter a mobile number to search.");try{const Ye=kr(bt(Fa,"customers"),hi("mobile","==",je)),Xe=await xn(Ye);if(Xe.empty)Re(null),d(null),it("❌ No customer found with this mobile number.");else{const pt=Xe.docs[0],st=pt.data();Re({id:pt.id,...st}),d({id:pt.id,...st}),it(`✅ Customer found: ${st.fullName}`)}}catch(Ye){console.error("Error searching customer:",Ye),Re(null),d(null),it("❌ Error occurred during search.")}},Qt=t.reduce((Ye,Xe)=>Ye+Xe.price*Xe.qty,0),Dt=+Qt.toFixed(2),_t=+(Qt*.05).toFixed(2);N.useEffect(()=>{(async()=>{const Xe=await xn(bt(Fa,"menu")),pt=[],st=new Set;Xe.forEach(wn=>{const $n=wn.data(),Aa=Number($n.price)||0;pt.push({id:wn.id,...$n,price:Aa}),$n.category&&st.add($n.category.trim())}),r(pt),a(Array.from(st))})()},[]);const Zt=()=>{const Xe={id:t.length?t[t.length-1].id+1:1,name:"",price:0,qty:1};e(pt=>[...pt,Xe])},St=(Ye,Xe,pt)=>{e(st=>st.map(wn=>wn.id===Ye?{...wn,[Xe]:pt}:wn))},Ea=Ye=>{e(Xe=>Xe.filter(pt=>pt.id!==Ye))},Ze=Ye=>{g(Ye.target.value)},Ws=()=>{w(!0);const Ye=new Mf("reader",{fps:10,qrbox:{width:250,height:250}},!1);Ye.render(async Xe=>{try{const pt=wt(Fa,"customers",Xe),st=await Ka(pt);if(st.exists()){const wn=st.data();d({id:Xe,...wn}),alert("✅ Customer found and linked!")}else alert("❌ Customer not found!")}catch(pt){console.error("Error fetching customer:",pt)}await Ye.clear().catch(()=>{}),w(!1)},Xe=>console.warn(Xe))},Rs=async()=>{if(t.length===0||t.every($n=>$n.name===""))return alert("❌ Add at least one item before proceeding with payment.");if(!m)return alert("No customer selected.");const Ye=wt(Fa,"customers",m.id),Xe=+(Qt*.05).toFixed(2),pt=+(Number(m.points||0)+Xe).toFixed(2),st=+(Number(m.totalSpent||0)+Dt).toFixed(2);await $t(Ye,{points:pt,totalSpent:+st.toFixed(2)});const wn=`ORD-${Date.now()}`;await Zi(bt(Fa,"customers",m.id,"transactions"),{orderId:wn,amount:Dt,paymentMethod:"Over the Counter",type:"counter-payment",status:"Completed",date:mn.now(),items:t,pointsEarned:_t}),await Zi(bt(Fa,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:wn,amount:Dt,paymentMethod:"Over the Counter",type:"counter-payment",status:"Completed",date:mn.now(),items:t,pointsEarned:_t}),await Vd(m.id),alert(`✅ Paid Over the Counter. ${Xe} points added to ${m.fullName}.`),d({...m,points:pt}),e([{id:1,name:"",price:0,qty:1}])},gi=async()=>{if(t.length===0||t.every(wn=>wn.name===""))return alert("❌ Add at least one item before proceeding with payment.");if(!m)return alert("No customer selected.");if((m.points||0)<Dt)return alert(`❌ Not enough points. Required: ${Dt}`);const Ye=wt(Fa,"customers",m.id),Xe=+(Number(m.points)-Dt).toFixed(2),pt=+(Number(m.totalSpent||0)+Dt).toFixed(2),st=`ORD-${Date.now()}`;await $t(Ye,{points:Xe,totalSpent:+pt.toFixed(2)}),await Zi(bt(Fa,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:st,amount:Dt,paymentMethod:"Points",status:"Completed",date:mn.now(),items:t,pointsEarned:0}),await Zi(bt(Fa,"customers",m.id,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:st,amount:Dt,paymentMethod:"Points",status:"Completed",date:mn.now(),items:t,pointsEarned:0}),alert(`✅ Paid using Points! ${Dt} points deducted.`),d({...m,points:Xe}),e([{id:1,name:"",price:0,qty:1}])},$s=async()=>{if(t.length===0||t.every($n=>$n.name===""))return alert("❌ Add at least one item before proceeding with payment.");if(!m)return alert("No customer selected.");if((m.wallet||0)<Dt)return alert(`❌ Not enough wallet balance. Required: ₱${Dt}`);const Ye=wt(Fa,"customers",m.id),Xe=+(Number(m.wallet)-Dt).toFixed(2),pt=+(Number(m.points||0)+_t).toFixed(2),st=+(Number(m.totalSpent||0)+Dt).toFixed(2),wn=`ORD-${Date.now()}`;await $t(Ye,{wallet:Xe,points:pt,totalSpent:+st.toFixed(2)}),await Zi(bt(Fa,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:wn,amount:Dt,paymentMethod:"Wallet",status:"Completed",date:mn.now(),items:t,pointsEarned:_t}),await Zi(bt(Fa,"customers",m.id,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:wn,amount:Dt,paymentMethod:"Wallet",status:"Completed",date:mn.now(),items:t,pointsEarned:_t}),await Vd(m.id),alert(`✅ Paid using Wallet! ₱${Dt} deducted. ${_t} points earned.`),d({...m,wallet:Xe,points:pt}),e([{id:1,name:"",price:0,qty:1}])};return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"assisted-ordering",children:[I.jsx("h2",{children:"Take Order"}),I.jsxs("div",{className:"columns",children:[I.jsxs("div",{className:"column",children:[I.jsx("h3",{children:"Order Items"}),I.jsx("label",{children:"Category:"}),I.jsxs("select",{value:c,onChange:Ze,children:[I.jsx("option",{value:"",children:"Select Category"}),i.map(Ye=>I.jsx("option",{value:Ye,children:Ye},Ye))]}),t.map(Ye=>I.jsxs("div",{className:"order-item",children:[I.jsxs("select",{value:Ye.name,onChange:Xe=>{const pt=Xe.target.value,st=n.find(wn=>wn.name===pt&&(c?wn.category.trim().toLowerCase()===c.trim().toLowerCase():!0));st?(St(Ye.id,"name",st.name),St(Ye.id,"price",Number(st.price)),St(Ye.id,"category",st.category)):(St(Ye.id,"name",pt),St(Ye.id,"price",0),St(Ye.id,"category",c||"Uncategorized"))},disabled:!c,children:[I.jsx("option",{value:"",children:c?"Select Item":"Select a category first"}),c&&n.filter(Xe=>Xe.category.trim().toLowerCase()===c.trim().toLowerCase()).map(Xe=>I.jsxs("option",{value:Xe.name,disabled:!Xe.availability,children:[Xe.name," ",Xe.availability?"":"(Unavailable)"]},Xe.id))]}),I.jsx("input",{type:"number",value:Ye.qty,onChange:Xe=>St(Ye.id,"qty",Number(Xe.target.value)),placeholder:"Qty"}),I.jsx("input",{type:"number",value:Ye.price,readOnly:!0,placeholder:"Price"}),I.jsx("button",{onClick:()=>Ea(Ye.id),children:"✖"})]},Ye.id)),I.jsx("button",{onClick:Zt,style:{marginLeft:10,background:"#673000ff",color:"white  "},children:"+ Add Item"}),I.jsxs("div",{className:"order-summary-list",style:{marginTop:"18px"},children:[I.jsx("h3",{children:"Current Items:"}),I.jsx("ul",{children:t.map((Ye,Xe)=>I.jsxs("li",{children:[I.jsx("b",{children:Ye.name||I.jsx("i",{children:"No item selected"})})," (",Ye.category||"—",") × ",Ye.qty," — ₱",(Ye.price*Ye.qty).toFixed(2)]},Ye.id||Xe))})]}),I.jsxs("div",{className:"summary",children:[I.jsxs("p",{children:["Subtotal: ₱",Qt]}),I.jsxs("p",{children:["Total: ₱",Dt]}),I.jsxs("p",{children:["Earnable Points: ",_t]})]})]}),I.jsxs("div",{className:"column",children:[I.jsx("h3",{children:"Action"}),I.jsx("hr",{style:{margin:"20px 0"}}),I.jsxs("div",{children:[I.jsx("input",{type:"text",placeholder:"Enter mobile number",value:je,onChange:Ye=>In(Ye.target.value)}),I.jsx("button",{onClick:Nt,style:{marginLeft:10,background:"#ffffffff",color:"black"},children:"🔍 Search"})]}),I.jsx("button",{onClick:Ws,style:{marginTop:10,background:"#673000ff",color:"white  "},children:"📷 Scan Customer QR (Optional)"}),v&&I.jsx("div",{id:"reader",style:{width:350,height:300,marginTop:10}}),m&&I.jsxs("div",{style:{marginTop:15,padding:15,border:"1px solid #ccc",borderRadius:8,background:"#fafafa"},children:[I.jsxs("p",{children:[I.jsx("b",{children:"Name:"})," ",m.fullName]}),I.jsxs("p",{children:[I.jsx("b",{children:"Tier:"})," ",m.tier||"—"]}),I.jsxs("p",{children:[I.jsx("b",{children:"Points:"})," ",m.points??0]}),I.jsxs("p",{children:[I.jsx("b",{children:"Wallet:"})," ₱",m.wallet??0]})]}),m&&I.jsxs("div",{style:{marginTop:15},children:[I.jsx("button",{onClick:gi,style:{marginLeft:10,background:"#ffc34bff",color:"#383838ff"},children:"Pay using Points"}),I.jsx("button",{onClick:$s,style:{marginLeft:10,background:"#14d7caff",color:"#383838ff"},children:"Pay using Wallet"}),I.jsx("button",{onClick:Rs,style:{marginLeft:10,background:"#6bf356ff",color:"#383838ff"},children:"Pay Over the Counter"})]}),gt&&I.jsx("p",{style:{marginTop:10},children:gt})]})]})]})]})}const SR=async t=>{try{const e=bt(We,"customers",t),n=await xn(e);let r=0;return n.forEach(i=>{const a=i.data();a.pointsEarned&&(r+=a.pointsEarned)}),r}catch(e){return console.error("Error fetching total earned points:",e),0}},Boe=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(null),[i,a]=N.useState([]),[c,g]=N.useState(null),[m,d]=N.useState(""),[v,w]=N.useState(!1),[S,T]=N.useState(!1),[R,M]=N.useState(""),[P,U]=N.useState(0),W=async()=>{if(M(""),r(null),a([]),g(null),!t.trim()){M("Please enter a name or mobile number.");return}try{const k=bt(We,"customers"),V=kr(k,hi("fullName","==",t)),j=kr(k,hi("mobile","==",t)),[Q,Z]=await Promise.all([xn(V),xn(j)]);let X=null;if(Q.empty?Z.empty||(X=Z.docs[0]):X=Q.docs[0],!X){M("Customer not found.");return}const z=X.data();r(z),ee(z);const ge=await SR(z.email);U(ge),M("✅ Customer loaded successfully.")}catch(k){console.error("Error fetching customer:",k),M("Error loading customer.")}},q=()=>{w(!0);const k=new Mf("customerReader",{fps:10,qrbox:250},!1);k.render(async V=>{try{const j=V.trim(),Q=wt(We,"customers",j),Z=await Ka(Q);if(!Z.exists()){M("Customer not found via QR."),k.clear(),w(!1);return}const X=Z.data();r(X),ee(X);const z=await SR(X.email);U(z),M("✅ Customer loaded via QR successfully."),k.clear(),w(!1)}catch(j){console.error("QR error:",j),M("Error scanning customer QR."),k.clear(),w(!1)}})},ee=async k=>{try{const V=await xn(bt(We,"promotions")),j=new Date,Z=V.docs.map(X=>({id:X.id,...X.data()})).filter(X=>{const z=!X.startDate||new Date(X.startDate)<=j,ge=!X.endDate||new Date(X.endDate)>=j,se=X.applicableTiers?.length===0||X.applicableTiers?.includes(k.tier),le=X.promoType==="global"||X.promoType==="personalized"&&X.category===k.favoriteCategory;return z&&ge&&se&&le});a(Z)}catch(V){console.error("Error fetching promos:",V),M("Error loading promotions.")}},$=()=>{T(!0);const k=new Mf("promoReader",{fps:10,qrbox:250},!1);k.render(async V=>{try{let j;try{j=JSON.parse(V)}catch{M("Invalid promo QR format."),k.clear(),T(!1);return}if(j.type!=="PROMO"||!j.promoId){M("Unrecognized promo QR."),k.clear(),T(!1);return}const Q=wt(We,"promotions",j.promoId),Z=await Ka(Q);if(!Z.exists()){M("Promo not found."),k.clear(),T(!1);return}const X=Z.data();X.applicableTiers?.includes(n?.tier||"")&&(X.promoType==="global"||X.promoType==="personalized"&&X.category===n?.favoriteCategory)?(g({id:j.promoId,...X}),M(`✅ Promo "${X.title}" is valid for this customer.`)):M("❌ Customer not eligible for this promo."),k.clear(),T(!1)}catch(j){console.error("Promo QR error:",j),M("Error scanning promo QR."),k.clear(),T(!1)}})},ne=async()=>{if(!c||!m||!n){M("Please select a promo and payment method.");return}try{const k=wt(We,"customers",n.email),V={...n};let j=0;const Q=(V.totalSpent||0)+c.price;if(V.totalSpent=Q,await $t(k,{totalSpent:Q}),m==="Points"){if(n.points<c.price){M("❌ Not enough points for this promo.");return}V.points-=c.price,await $t(k,{points:V.points})}if(m==="Wallet"){const X=n.wallet||0;if(X<c.price){M("❌ Not enough wallet balance.");return}V.wallet=X-c.price,j=Math.floor(c.price*.05),V.points=(V.points||0)+j,await $t(k,{wallet:V.wallet,points:V.points}),U(z=>z+j)}m==="Cash"&&(j=Math.floor(c.price*.05),V.points=(V.points||0)+j,await $t(k,{points:V.points}),U(X=>X+j)),r(V);const Z={orderId:zd(),customerId:n.email,fullName:n.fullName,items:[{name:c.title,category:"Promo",price:c.price,qty:1}],amount:c.price,paymentMethod:m,promotype:c.promoType,status:"Completed",pointsEarned:j,date:Fn()};await Zi(bt(We,"transactions"),Z),await Zi(bt(We,"globalTransactions"),Z),await Zi(bt(We,"customers",n.email,"transactions"),Z),await Vd(n.email),M(`✅ Promo "${c.title}" redeemed successfully using ${m.toUpperCase()}. Points earned: ${j}`),g(null),d("")}catch(k){console.error("Redeem error:",k),M("❌ Error processing transaction.")}};return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"promo-container",children:[I.jsx("h2",{children:"Promo Redemption"}),I.jsxs("div",{className:"search-section",children:[I.jsx("input",{type:"text",placeholder:"Search by name or mobile",value:t,onChange:k=>e(k.target.value)}),I.jsx("button",{onClick:W,style:{background:"#693500ff",color:"white"},children:"Search"}),I.jsx("button",{onClick:q,style:{background:"#693500ff",color:"white"},children:" Scan Customer QR"}),v&&I.jsx("div",{id:"customerReader",className:"qr-scanner active"})]}),n&&I.jsxs("div",{className:"customer-info",children:[I.jsx("h3",{children:"Customer Info"}),I.jsxs("p",{children:[I.jsx("strong",{children:"Name:"})," ",n.fullName]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Email:"})," ",n.email]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Tier:"})," ",n.tier]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Favorite Category:"})," ",n.favoriteCategory]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Points:"})," ",n.points]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Wallet Balance:"})," ₱",n.wallet||0]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Total Spent:"})," ₱",n.totalSpent||0]})," "]}),n&&I.jsxs("div",{children:[I.jsx("h3",{children:"Eligible Promos"}),I.jsx("button",{onClick:$,style:{background:"#693500ff",color:"white"},children:" Scan Promo QR"}),S&&I.jsx("div",{id:"promoReader",className:"qr-scanner active"}),i.length>0?i.map(k=>I.jsxs("div",{className:`promo-card ${c?.id===k.id?"selected":""}`,onClick:()=>g(k),children:[I.jsx("h4",{children:k.title}),I.jsx("p",{children:k.description}),I.jsxs("small",{children:["₱",k.price," | Type: ",k.promoType]})]},k.id)):I.jsx("p",{children:"No eligible promos found."})]}),c&&I.jsxs("div",{className:"payment-section",children:[I.jsx("h3",{children:"Payment Method"}),I.jsxs("select",{value:m,onChange:k=>d(k.target.value),children:[I.jsx("option",{value:"",children:"-- Select Payment --"}),I.jsx("option",{value:"Points",children:"Points"}),I.jsx("option",{value:"Wallet",children:"Wallet"}),I.jsx("option",{value:"Cash",children:"Over the Counter"})]}),I.jsx("button",{onClick:ne,style:{background:"#693500ff",color:"white"},children:"Confirm"})]}),R&&I.jsx("p",{className:"message",children:R})]})]})};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Foe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_R=t=>{const e=Foe(t);return e.charAt(0).toUpperCase()+e.slice(1)},l9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Voe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...g},m)=>N.createElement("svg",{ref:m,...zoe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:l9("lucide",i),...!a&&!Voe(g)&&{"aria-hidden":"true"},...g},[...c.map(([d,v])=>N.createElement(d,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=(t,e)=>{const n=N.forwardRef(({className:r,...i},a)=>N.createElement(Hoe,{ref:a,iconNode:e,className:l9(`lucide-${Uoe(_R(t))}`,`lucide-${t}`,r),...i}));return n.displayName=_R(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yoe=qoe("star",Goe),Woe=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(""),[i,a]=N.useState("All"),[c,g]=N.useState(!0);N.useEffect(()=>{(async()=>{g(!0);try{const v=kr(bt(We,"feedbacks"),pw("createdAt","desc")),S=(await xn(v)).docs.map(T=>{const R=T.data();return{id:T.id,customerId:R.customerId??"N/A",orderId:R.orderId??"N/A",rating:R.rating??0,comment:R.comment??"",createdAt:R.createdAt?.toDate()??new Date}});e(S)}catch(v){console.error("Error loading feedbacks:",v)}finally{g(!1)}})()},[]);const m=N.useMemo(()=>t.filter(d=>{const v=d.customerId.toLowerCase().includes(n.toLowerCase())||d.orderId.toLowerCase().includes(n.toLowerCase())||d.comment.toLowerCase().includes(n.toLowerCase()),w=i==="All"||d.rating===i;return v&&w}),[t,n,i]);return I.jsxs(I.Fragment,{children:[I.jsx(ul,{}),I.jsxs("div",{className:"feedback-container",children:[I.jsx("h2",{className:"feedback-header",children:"Customer Feedbacks"}),I.jsxs("div",{className:"feedback-controls",children:[I.jsx("input",{type:"text",placeholder:"Search by customer, order, or comment...",value:n,onChange:d=>r(d.target.value),className:"feedback-search"}),I.jsxs("select",{value:i,onChange:d=>a(d.target.value==="All"?"All":parseInt(d.target.value)),className:"feedback-filter",children:[I.jsx("option",{value:"All",children:"All Ratings"}),[5,4,3,2,1].map(d=>I.jsxs("option",{value:d,children:[d," Stars"]},d))]})]}),c?I.jsx("p",{children:"Loading feedback..."}):m.length===0?I.jsx("p",{children:"No feedback found."}):I.jsx("div",{className:"feedback-table-wrapper",children:I.jsxs("table",{className:"feedback-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Order ID"}),I.jsx("th",{children:"Rating"}),I.jsx("th",{children:"Comment"}),I.jsx("th",{children:"Date"})]})}),I.jsx("tbody",{children:m.map(d=>I.jsxs("tr",{children:[I.jsx("td",{children:d.customerId}),I.jsx("td",{children:d.orderId}),I.jsx("td",{children:[...Array(5)].map((v,w)=>I.jsx(Yoe,{size:18,color:w<d.rating?"#f9a825":"#ccc",fill:w<d.rating?"#f9a825":"none"},w))}),I.jsx("td",{children:d.comment||I.jsx("em",{children:"No comment"})}),I.jsx("td",{children:d.createdAt.toLocaleString()})]},d.id))})]})})]})]})},$oe=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,a]=N.useState(!1),[c,g]=N.useState(null),[m,d]=N.useState(null),[v,w]=N.useState(!1),[S,T]=N.useState("Pending");t.filter(z=>z.status===S);const[R,M]=N.useState(null),[P,U]=N.useState(!1),[W,q]=N.useState(null),[ee,$]=N.useState(0),ne=async(z=null)=>{try{r(!0);let ge;if(z){const le=kr(bt(We,"orders"),hi("customerId","==",z));ge=await xn(le)}else ge=await xn(bt(We,"orders"));const se=ge.docs.map(le=>{const ue=le.data(),Ie=ue.placedAt||ue.date||"";let Fe="";Ie?.toDate?Fe=Ie.toDate().toISOString().split("T")[0]:typeof Ie=="string"&&(Fe=Ie.split("T")[0]);const ae=Array.isArray(ue.items)?ue.items:[],be=ue.paidByWallet?"Wallet":ue.paymentMethod||(ue.type==="points-used"?"Points":"Cash");return{id:le.id,customerEmail:ue.customerId||"N/A",date:Fe,amount:ue.subtotal||ue.total||ue.amount||0,status:ue.status||"Pending",items:ae,paymentMethod:be,paidByWallet:!!ue.paidByWallet,pointsEarned:ue.pointsEarned||0,instructions:ue.instructions||""}});e(se)}catch(ge){console.error("Error fetching orders:",ge)}finally{r(!1)}};N.useEffect(()=>{ne()},[]);const k=async({customerEmail:z,customerName:ge,orderId:se,amount:le,paymentMethod:ue,type:Ie,status:Fe,date:ae,items:be,pointsEarned:Te=0})=>{await Zi(bt(We,"transactions"),{orderId:se,amount:le,paymentMethod:ue,type:Ie,status:Fe,date:ae,items:be,customerId:z,fullName:ge,pointsEarned:Te}),await Zi(bt(We,"customers",z,"transactions"),{orderId:se,amount:le,paymentMethod:ue,type:Ie,status:Fe,date:ae,items:be,customerId:z,fullName:ge,pointsEarned:Te})},V=async(z,ge,se)=>{const le=wt(We,"customers",z.customerEmail),Ie=(await Ka(le)).data();await $t(le,{points:(Ie.points||0)-se,totalSpent:(Ie.totalSpent||0)+z.amount,updatedAt:Fn()}),await $t(wt(We,"orders",z.id),{status:"Completed",paymentMethod:se===z.amount?"Points":"Mix",updatedAt:Fn()}),await k({customerEmail:z.customerEmail,customerName:ge,orderId:z.id,amount:z.amount,paymentMethod:se===z.amount?"Points":"Mix",type:se===z.amount?"points-used":"mixed-payment",status:"Completed",date:Fn(),items:z.items}),await Vd(z.customerEmail),alert("✅ Order completed successfully."),ne(c)},j=async z=>{try{const ge=wt(We,"customers",z.customerEmail),se=await Ka(ge);if(!se.exists()){alert("❌ Customer not found.");return}const le=se.data(),ue=le.points||0,Ie=le.wallet||0,Fe=z.amount;if(ue>=Fe){await V(z,le.fullName||"N/A",Fe);return}M(z),$(ue),U(!0)}catch(ge){console.error("Error completing order:",ge),alert("❌ Failed to complete order.")}},Q=async z=>{if(!R)return;const ge=wt(We,"customers",R.customerEmail),le=(await Ka(ge)).data(),ue=le.fullName||"N/A",Ie=le.points||0,Fe=le.wallet||0,ae=R.amount;let be=Math.min(Ie,ae),Te=ae-be;if(z==="Cash")await $t(ge,{points:Ie-be,totalSpent:(le.totalSpent||0)+ae,updatedAt:Fn()}),await $t(wt(We,"orders",R.id),{status:"Completed",paymentMethod:be>0?"Points + Cash":"Cash",updatedAt:Fn()}),await k({customerEmail:R.customerEmail,customerName:ue,orderId:R.id,amount:ae,paymentMethod:be>0?"Points + Cash":"Cash",type:be>0?"points-cash":"cash",status:"Completed",date:Fn(),items:R.items}),alert(`✅ Order completed using ${be} points + ₱${Te} cash.`);else if(z==="Wallet"){if(Fe<Te){alert("❌ Not enough wallet balance to complete payment!");return}await $t(ge,{points:Ie-be,wallet:Fe-Te,totalSpent:(le.totalSpent||0)+ae,updatedAt:Fn()}),await $t(wt(We,"orders",R.id),{status:"Completed",paymentMethod:be>0?"Points + Wallet":"Wallet",paidByWallet:!0,updatedAt:Fn()}),await k({customerEmail:R.customerEmail,customerName:ue,orderId:R.id,amount:ae,paymentMethod:be>0?"Points + Wallet":"Wallet",type:be>0?"points-wallet":"wallet",status:"Completed",date:Fn(),items:R.items}),alert(`✅ Order completed using ${be} points + ₱${Te} from wallet.`)}U(!1),M(null),ne(c)},Z=async(z,ge)=>{if(confirm("Are you sure you want to cancel this order?"))try{const se=wt(We,"orders",z);await $t(se,{status:"Canceled",updatedAt:Fn()});const le=kr(bt(We,"transactions"),hi("orderId","==",z)),ue=await xn(le);for(const ae of ue.docs)await $t(wt(We,"transactions",ae.id),{status:"Canceled",updatedAt:Fn()});const Ie=kr(bt(We,"customers",ge,"transactions"),hi("orderId","==",z)),Fe=await xn(Ie);for(const ae of Fe.docs)await $t(wt(We,"customers",ge,"transactions",ae.id),{status:"Canceled",updatedAt:Fn()});alert("🚫 Order has been marked as Canceled."),ne(c)}catch(se){console.error("Error canceling order:",se),alert("❌ Failed to cancel order.")}},X=()=>{a(!0);const z=new Mf("reader",{fps:10,qrbox:{width:250,height:250}},!1);z.render(async ge=>{try{const se=wt(We,"customers",ge),le=await Ka(se);le.exists()?(g(ge),alert(`✅ Showing orders for: ${le.data().fullName}`),ne(ge)):alert("❌ Customer not found!")}catch(se){console.error("Error scanning QR:",se)}z.clear().catch(()=>{}),a(!1)},ge=>console.warn(ge))};return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"p-6 ml-64",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Redeem Orders"}),I.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[I.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"📷 Scan QR to Filter"}),c&&I.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition",onClick:()=>{g(null),ne()},children:"🔁 Show All"}),I.jsxs("select",{value:S,onChange:z=>T(z.target.value),className:"px-3 py-2 border rounded-lg",children:[I.jsx("option",{value:"Pending",children:"Pending"}),I.jsx("option",{value:"Completed",children:"Completed"})]})]}),i&&I.jsx("div",{id:"reader",className:"w-[300px] h-[300px] border-2 border-gray-300 mb-4"}),n?I.jsx("p",{children:"Loading orders..."}):t.filter(z=>z.status===S).length===0?I.jsx("p",{children:"No orders found."}):I.jsx("div",{className:"table-wrapper",children:I.jsxs("table",{className:"orders-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Order ID"}),I.jsx("th",{children:"Customer"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Items"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Payment"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:t.filter(z=>z.status===S).map(z=>I.jsxs("tr",{children:[I.jsx("td",{children:z.id}),I.jsx("td",{children:z.customerEmail}),I.jsx("td",{children:z.date}),I.jsx("td",{children:z.items.length?z.items.map(ge=>ge.name).join(", "):"N/A"}),I.jsxs("td",{children:[z.amount.toFixed(2)," pts."]}),I.jsx("td",{children:"Points"}),I.jsx("td",{children:I.jsx("span",{className:`order-status ${z.status.toLowerCase()}`,children:z.status})}),I.jsx("td",{children:z.status==="Pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{className:"complete-btn",onClick:()=>j(z),style:{background:"#ffca61",color:"white",marginRight:"6px"},children:"Complete"}),I.jsx("button",{className:"cancel-btn",onClick:()=>Z(z.id,z.customerEmail),style:{background:"#ff2600",color:"white"},children:"Cancel"})]}):z.status==="Completed"?I.jsx("button",{className:"delete-btn",onClick:async()=>{if(confirm("🗑️ Are you sure you want to delete this completed order?"))try{await wc(wt(We,"orders",z.id)),alert("✅ Order deleted successfully!"),ne(c)}catch(ge){console.error("Error deleting order:",ge),alert("❌ Failed to delete order.")}},style:{background:"#d32f2f",color:"white"},children:"Delete"}):null})]},z.id))})]})}),P&&R&&I.jsx("div",{className:"payment-modal",children:I.jsxs("div",{className:"payment-modal-content",children:[I.jsx("h3",{children:"Not enough points"}),I.jsxs("p",{children:["Customer has only ",ee," points, order costs ₱",R.amount,".",I.jsx("br",{}),"Choose how to pay:"]}),I.jsxs("div",{className:"payment-options",children:[I.jsx("button",{onClick:()=>Q("Cash"),children:" Cash"}),I.jsx("button",{onClick:()=>Q("Wallet"),children:" Wallet"})]}),I.jsx("button",{className:"cancel-btn",onClick:()=>{U(!1),M(null)},children:"Cancel"})]})})]})]})},Xoe=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(null),[i,a]=N.useState(0),[c,g]=N.useState("GCash"),[m,d]=N.useState([]),[v,w]=N.useState(!1),[S,T]=N.useState(0),[R,M]=N.useState(null),[P,U]=N.useState("pending");N.useEffect(()=>{const j=Df(bt(We,"walletRequests"),Q=>{const Z=Q.docs.map(X=>({id:X.id,...X.data()}));d(Z)});return()=>j()},[]);const W=async()=>{if(!t.trim()){alert("Enter a mobile number to search");return}const j=kr(bt(We,"customers"),hi("mobile","==",t.trim())),Q=await xn(j);if(Q.empty){alert("❌ Customer not found"),r(null);return}const Z=Q.docs[0],X=Z.data();r({id:Z.id,email:X.email,mobile:X.mobile,balance:X.wallet||0,logs:X.logs||[]})},q=async()=>{if(!n){alert("Search a customer first");return}if(i<=0){alert("❌ Amount must be greater than 0");return}const j=n.balance+i,Q={id:zd(),method:c,amount:i,date:new Date().toISOString().split("T")[0],type:"Over The Counter"};await $t(wt(We,"customers",n.id),{wallet:j,logs:[...n.logs,Q]}),r({...n,balance:j,logs:[...n.logs,Q]}),a(0),alert("✅ Wallet updated successfully!")},ee=j=>{M(j),T(0),w(!0)},$=async()=>{if(R){if(S<=0){alert("Enter valid amount");return}try{const j=kr(bt(We,"customers"),hi("email","==",R.email)),Q=await xn(j);if(Q.empty){alert("❌ Customer not found for this request.");return}const Z=Q.docs[0],X=Z.data(),z=(X.wallet||0)+S,ge={id:zd(),method:"GCash",amount:S,date:new Date().toISOString().split("T")[0],type:"request"};await $t(wt(We,"customers",Z.id),{wallet:z,logs:[...X.logs||[],ge]}),await $t(wt(We,"walletRequests",R.id),{status:"approved"}),w(!1),M(null),T(0),alert("✅ Wallet request approved!")}catch(j){console.error(j),alert("❌ Failed to approve request.")}}},ne=async j=>{try{await $t(wt(We,"walletRequests",j),{status:"rejected"}),alert("❌ Request rejected.")}catch(Q){console.error(Q),alert("Failed to reject request.")}},k=async j=>{try{await wc(wt(We,"walletRequests",j)),alert("🗑️ Request deleted!")}catch(Q){console.error(Q),alert("Failed to delete request.")}},V=m.filter(j=>j.status===P);return I.jsxs(I.Fragment,{children:[I.jsx(p0,{}),I.jsxs("div",{className:"wallet-container",children:[I.jsx("h1",{className:"wallet-title",children:"Wallet System & Requests"}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"Search Customer"}),I.jsx("input",{type:"text",value:t,onChange:j=>e(j.target.value),placeholder:"Enter mobile number"}),I.jsx("button",{onClick:W,style:{background:"#6d3500ff",color:"white"},children:"Search"})]}),n&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"section customer-info",children:[I.jsx("h2",{children:"Customer Info"}),I.jsxs("p",{children:["👤 ",I.jsx("strong",{children:"Name:"})," ",n.email]}),I.jsxs("p",{children:["📱 ",I.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),I.jsxs("p",{children:["💳 ",I.jsx("strong",{children:"Wallet Balance:"})," ₱",n.balance.toFixed(2)]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"🔧 Manual Adjustment"}),I.jsxs("select",{value:c,onChange:j=>g(j.target.value),children:[I.jsx("option",{value:"GCash",children:"GCash"}),I.jsx("option",{value:"Cash",children:"Cash"})]}),I.jsx("input",{type:"number",value:i,onChange:j=>a(Number(j.target.value)),placeholder:"Enter amount"}),I.jsx("button",{onClick:q,children:"Confirm Adjustment"})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:"📜 Top-up Logs"}),n.logs.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"#"}),I.jsx("th",{children:"Method"}),I.jsx("th",{children:"Amount"}),I.jsx("th",{children:"Date"}),I.jsx("th",{children:"Type"})]})}),I.jsx("tbody",{children:[...n.logs].sort((j,Q)=>j.date<Q.date?1:-1).map((j,Q)=>I.jsxs("tr",{children:[I.jsx("td",{children:Q+1}),I.jsx("td",{children:j.method}),I.jsxs("td",{children:["₱",j.amount.toFixed(2)]}),I.jsx("td",{children:j.date}),I.jsx("td",{children:j.type})]},j.id))})]}):I.jsx("p",{className:"empty-log",children:"No logs available."})]})]}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{children:" Wallet Requests"}),I.jsx("div",{style:{marginBottom:"10px"},children:I.jsxs("label",{children:[I.jsx("strong",{children:"Filter:"})," ",I.jsxs("select",{value:P,onChange:j=>U(j.target.value),children:[I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"approved",children:"Approved"})]})]})}),V.length>0?I.jsxs("table",{className:"logs-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Email"}),I.jsx("th",{children:"Reference No."}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Actions"})]})}),I.jsx("tbody",{children:V.map(j=>I.jsxs("tr",{children:[I.jsx("td",{children:j.email}),I.jsx("td",{children:j.referenceNo}),I.jsx("td",{children:j.status}),I.jsx("td",{children:j.status==="pending"?I.jsxs(I.Fragment,{children:[I.jsx("button",{onClick:()=>ee(j),style:{background:"#6dff50ff",color:"black"},children:"Approve"}),I.jsx("button",{onClick:()=>ne(j.id),style:{background:"#ff6150ff",color:"white"},children:"Reject"})]}):I.jsx("button",{onClick:()=>k(j.id),style:{background:"#ff5b5bff",color:"white"},children:"Delete"})})]},j.id))})]}):I.jsxs("p",{children:["No ",P," requests found."]})]})]}),v&&I.jsx("div",{className:"modal-overlay",children:I.jsxs("div",{className:"modal-box",children:[I.jsx("h2",{children:"Approve Wallet Request"}),I.jsxs("p",{children:["Enter amount to add for ",I.jsx("strong",{children:R?.email})]}),I.jsx("input",{type:"number",value:S,onChange:j=>T(Number(j.target.value)),placeholder:"Enter amount"}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{onClick:$,style:{background:"#cfffc6ff",color:"black"},children:"Confirm"}),I.jsx("button",{onClick:()=>w(!1),children:"Cancel"})]})]})})]})};function Koe(){return I.jsxs(S7,{children:[I.jsx(li,{path:"/",element:I.jsx(E7,{to:"/Intro",replace:!0})}),I.jsx(li,{path:"/Intro",element:I.jsx(uk,{})}),I.jsx(li,{path:"/Owner",element:I.jsx(eV,{})}),I.jsx(li,{path:"/Sidebar",element:I.jsx(ul,{})}),I.jsx(li,{path:"/SideBarStaff",element:I.jsx(p0,{})}),I.jsx(li,{path:"/Dashboard",element:I.jsx(gse,{})}),I.jsx(li,{path:"/customers",element:I.jsx(_oe,{})}),I.jsx(li,{path:"/orders",element:I.jsx(Toe,{})}),I.jsx(li,{path:"/transactions",element:I.jsx(JD,{})}),I.jsx(li,{path:"/rewards",element:I.jsx(Ioe,{})}),I.jsx(li,{path:"/menu",element:I.jsx(Ooe,{})}),I.jsx(li,{path:"/wallet",element:I.jsx(Poe,{})}),I.jsx(li,{path:"/take-order",element:I.jsx(joe,{})}),I.jsx(li,{path:"/promo-redemption",element:I.jsx(Boe,{})}),I.jsx(li,{path:"/feedback",element:I.jsx(Woe,{})}),I.jsx(li,{path:"/orders-staff",element:I.jsx($oe,{})}),I.jsx(li,{path:"/wallet-staff",element:I.jsx(Xoe,{})})]})}ML.createRoot(document.getElementById("root")).render(I.jsx(N.StrictMode,{children:I.jsx(W7,{children:I.jsx(Koe,{})})}));
