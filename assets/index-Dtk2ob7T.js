function P4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cv={exports:{}},Xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function Dk(){if(S_)return Xh;S_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var u=null;if(a!==void 0&&(u=""+a),i.key!==void 0&&(u=""+i.key),"key"in i){a={};for(var d in i)d!=="key"&&(a[d]=i[d])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:a}}return Xh.Fragment=e,Xh.jsx=n,Xh.jsxs=n,Xh}var C_;function Mk(){return C_||(C_=1,cv.exports=Dk()),cv.exports}var T=Mk(),uv={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function Pk(){if(__)return jt;__=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(oe){return oe===null||typeof oe!="object"?null:(oe=w&&oe[w]||oe["@@iterator"],typeof oe=="function"?oe:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,P={};function M(oe,be,Ie){this.props=oe,this.context=be,this.refs=P,this.updater=Ie||I}M.prototype.isReactComponent={},M.prototype.setState=function(oe,be){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,be,"setState")},M.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function L(){}L.prototype=M.prototype;function $(oe,be,Ie){this.props=oe,this.context=be,this.refs=P,this.updater=Ie||I}var z=$.prototype=new L;z.constructor=$,D(z,M.prototype),z.isPureReactComponent=!0;var te=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function B(oe,be,Ie,Le,Ye,at){return Ie=at.ref,{$$typeof:t,type:oe,key:be,ref:Ie!==void 0?Ie:null,props:at}}function H(oe,be){return B(oe.type,be,void 0,void 0,void 0,oe.props)}function F(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===t}function J(oe){var be={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function(Ie){return be[Ie]})}var q=/\/+/g;function K(oe,be){return typeof oe=="object"&&oe!==null&&oe.key!=null?J(""+oe.key):be.toString(36)}function U(){}function ae(oe){switch(oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason;default:switch(typeof oe.status=="string"?oe.then(U,U):(oe.status="pending",oe.then(function(be){oe.status==="pending"&&(oe.status="fulfilled",oe.value=be)},function(be){oe.status==="pending"&&(oe.status="rejected",oe.reason=be)})),oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason}}throw oe}function re(oe,be,Ie,Le,Ye){var at=typeof oe;(at==="undefined"||at==="boolean")&&(oe=null);var Ne=!1;if(oe===null)Ne=!0;else switch(at){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(oe.$$typeof){case t:case e:Ne=!0;break;case v:return Ne=oe._init,re(Ne(oe._payload),be,Ie,Le,Ye)}}if(Ne)return Ye=Ye(oe),Ne=Le===""?"."+K(oe,0):Le,te(Ye)?(Ie="",Ne!=null&&(Ie=Ne.replace(q,"$&/")+"/"),re(Ye,be,Ie,"",function(Oe){return Oe})):Ye!=null&&(F(Ye)&&(Ye=H(Ye,Ie+(Ye.key==null||oe&&oe.key===Ye.key?"":(""+Ye.key).replace(q,"$&/")+"/")+Ne)),be.push(Ye)),1;Ne=0;var Bt=Le===""?".":Le+":";if(te(oe))for(var lt=0;lt<oe.length;lt++)Le=oe[lt],at=Bt+K(Le,lt),Ne+=re(Le,be,Ie,at,Ye);else if(lt=S(oe),typeof lt=="function")for(oe=lt.call(oe),lt=0;!(Le=oe.next()).done;)Le=Le.value,at=Bt+K(Le,lt++),Ne+=re(Le,be,Ie,at,Ye);else if(at==="object"){if(typeof oe.then=="function")return re(ae(oe),be,Ie,Le,Ye);throw be=String(oe),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function le(oe,be,Ie){if(oe==null)return oe;var Le=[],Ye=0;return re(oe,Le,"","",function(at){return be.call(Ie,at,Ye++)}),Le}function ce(oe){if(oe._status===-1){var be=oe._result;be=be(),be.then(function(Ie){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=Ie)},function(Ie){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=Ie)}),oe._status===-1&&(oe._status=0,oe._result=be)}if(oe._status===1)return oe._result.default;throw oe._result}var Te=typeof reportError=="function"?reportError:function(oe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof oe=="object"&&oe!==null&&typeof oe.message=="string"?String(oe.message):String(oe),error:oe});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",oe);return}console.error(oe)};function Ue(){}return jt.Children={map:le,forEach:function(oe,be,Ie){le(oe,function(){be.apply(this,arguments)},Ie)},count:function(oe){var be=0;return le(oe,function(){be++}),be},toArray:function(oe){return le(oe,function(be){return be})||[]},only:function(oe){if(!F(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}},jt.Component=M,jt.Fragment=n,jt.Profiler=i,jt.PureComponent=$,jt.StrictMode=r,jt.Suspense=m,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,jt.__COMPILER_RUNTIME={__proto__:null,c:function(oe){return X.H.useMemoCache(oe)}},jt.cache=function(oe){return function(){return oe.apply(null,arguments)}},jt.cloneElement=function(oe,be,Ie){if(oe==null)throw Error("The argument must be a React element, but you passed "+oe+".");var Le=D({},oe.props),Ye=oe.key,at=void 0;if(be!=null)for(Ne in be.ref!==void 0&&(at=void 0),be.key!==void 0&&(Ye=""+be.key),be)!ee.call(be,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&be.ref===void 0||(Le[Ne]=be[Ne]);var Ne=arguments.length-2;if(Ne===1)Le.children=Ie;else if(1<Ne){for(var Bt=Array(Ne),lt=0;lt<Ne;lt++)Bt[lt]=arguments[lt+2];Le.children=Bt}return B(oe.type,Ye,void 0,void 0,at,Le)},jt.createContext=function(oe){return oe={$$typeof:u,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null},oe.Provider=oe,oe.Consumer={$$typeof:a,_context:oe},oe},jt.createElement=function(oe,be,Ie){var Le,Ye={},at=null;if(be!=null)for(Le in be.key!==void 0&&(at=""+be.key),be)ee.call(be,Le)&&Le!=="key"&&Le!=="__self"&&Le!=="__source"&&(Ye[Le]=be[Le]);var Ne=arguments.length-2;if(Ne===1)Ye.children=Ie;else if(1<Ne){for(var Bt=Array(Ne),lt=0;lt<Ne;lt++)Bt[lt]=arguments[lt+2];Ye.children=Bt}if(oe&&oe.defaultProps)for(Le in Ne=oe.defaultProps,Ne)Ye[Le]===void 0&&(Ye[Le]=Ne[Le]);return B(oe,at,void 0,void 0,null,Ye)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(oe){return{$$typeof:d,render:oe}},jt.isValidElement=F,jt.lazy=function(oe){return{$$typeof:v,_payload:{_status:-1,_result:oe},_init:ce}},jt.memo=function(oe,be){return{$$typeof:g,type:oe,compare:be===void 0?null:be}},jt.startTransition=function(oe){var be=X.T,Ie={};X.T=Ie;try{var Le=oe(),Ye=X.S;Ye!==null&&Ye(Ie,Le),typeof Le=="object"&&Le!==null&&typeof Le.then=="function"&&Le.then(Ue,Te)}catch(at){Te(at)}finally{X.T=be}},jt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},jt.use=function(oe){return X.H.use(oe)},jt.useActionState=function(oe,be,Ie){return X.H.useActionState(oe,be,Ie)},jt.useCallback=function(oe,be){return X.H.useCallback(oe,be)},jt.useContext=function(oe){return X.H.useContext(oe)},jt.useDebugValue=function(){},jt.useDeferredValue=function(oe,be){return X.H.useDeferredValue(oe,be)},jt.useEffect=function(oe,be,Ie){var Le=X.H;if(typeof Ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Le.useEffect(oe,be)},jt.useId=function(){return X.H.useId()},jt.useImperativeHandle=function(oe,be,Ie){return X.H.useImperativeHandle(oe,be,Ie)},jt.useInsertionEffect=function(oe,be){return X.H.useInsertionEffect(oe,be)},jt.useLayoutEffect=function(oe,be){return X.H.useLayoutEffect(oe,be)},jt.useMemo=function(oe,be){return X.H.useMemo(oe,be)},jt.useOptimistic=function(oe,be){return X.H.useOptimistic(oe,be)},jt.useReducer=function(oe,be,Ie){return X.H.useReducer(oe,be,Ie)},jt.useRef=function(oe){return X.H.useRef(oe)},jt.useState=function(oe){return X.H.useState(oe)},jt.useSyncExternalStore=function(oe,be,Ie){return X.H.useSyncExternalStore(oe,be,Ie)},jt.useTransition=function(){return X.H.useTransition()},jt.version="19.1.1",jt}var T_;function qf(){return T_||(T_=1,uv.exports=Pk()),uv.exports}var R=qf();const Hn=wo(R),kk=P4({__proto__:null,default:Hn},[R]);var fv={exports:{}},Kh={},hv={exports:{}},dv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function Lk(){return I_||(I_=1,function(t){function e(le,ce){var Te=le.length;le.push(ce);e:for(;0<Te;){var Ue=Te-1>>>1,oe=le[Ue];if(0<i(oe,ce))le[Ue]=ce,le[Te]=oe,Te=Ue;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var ce=le[0],Te=le.pop();if(Te!==ce){le[0]=Te;e:for(var Ue=0,oe=le.length,be=oe>>>1;Ue<be;){var Ie=2*(Ue+1)-1,Le=le[Ie],Ye=Ie+1,at=le[Ye];if(0>i(Le,Te))Ye<oe&&0>i(at,Le)?(le[Ue]=at,le[Ye]=Te,Ue=Ye):(le[Ue]=Le,le[Ie]=Te,Ue=Ie);else if(Ye<oe&&0>i(at,Te))le[Ue]=at,le[Ye]=Te,Ue=Ye;else break e}}return ce}function i(le,ce){var Te=le.sortIndex-ce.sortIndex;return Te!==0?Te:le.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],g=[],v=1,w=null,S=3,I=!1,D=!1,P=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function te(le){for(var ce=n(g);ce!==null;){if(ce.callback===null)r(g);else if(ce.startTime<=le)r(g),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(g)}}function X(le){if(P=!1,te(le),!D)if(n(m)!==null)D=!0,ee||(ee=!0,K());else{var ce=n(g);ce!==null&&re(X,ce.startTime-le)}}var ee=!1,B=-1,H=5,F=-1;function J(){return M?!0:!(t.unstable_now()-F<H)}function q(){if(M=!1,ee){var le=t.unstable_now();F=le;var ce=!0;try{e:{D=!1,P&&(P=!1,$(B),B=-1),I=!0;var Te=S;try{t:{for(te(le),w=n(m);w!==null&&!(w.expirationTime>le&&J());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,S=w.priorityLevel;var oe=Ue(w.expirationTime<=le);if(le=t.unstable_now(),typeof oe=="function"){w.callback=oe,te(le),ce=!0;break t}w===n(m)&&r(m),te(le)}else r(m);w=n(m)}if(w!==null)ce=!0;else{var be=n(g);be!==null&&re(X,be.startTime-le),ce=!1}}break e}finally{w=null,S=Te,I=!1}ce=void 0}}finally{ce?K():ee=!1}}}var K;if(typeof z=="function")K=function(){z(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ae=U.port2;U.port1.onmessage=q,K=function(){ae.postMessage(null)}}else K=function(){L(q,0)};function re(le,ce){B=L(function(){le(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(le){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var Te=S;S=ce;try{return le()}finally{S=Te}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(le,ce){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Te=S;S=le;try{return ce()}finally{S=Te}},t.unstable_scheduleCallback=function(le,ce,Te){var Ue=t.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ue+Te:Ue):Te=Ue,le){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Te+oe,le={id:v++,callback:ce,priorityLevel:le,startTime:Te,expirationTime:oe,sortIndex:-1},Te>Ue?(le.sortIndex=Te,e(g,le),n(m)===null&&le===n(g)&&(P?($(B),B=-1):P=!0,re(X,Te-Ue))):(le.sortIndex=oe,e(m,le),D||I||(D=!0,ee||(ee=!0,K()))),le},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(le){var ce=S;return function(){var Te=S;S=ce;try{return le.apply(this,arguments)}finally{S=Te}}}}(dv)),dv}var O_;function jk(){return O_||(O_=1,hv.exports=Lk()),hv.exports}var gv={exports:{}},qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function Bk(){if(R_)return qi;R_=1;var t=qf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(m,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:w==null?null:""+w,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qi.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return a(m,g,null,v)},qi.flushSync=function(m){var g=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=g,r.p=v,r.d.f()}},qi.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},qi.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},qi.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:I}):v==="script"&&r.d.X(m,{crossOrigin:w,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},qi.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},qi.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin);r.d.L(m,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},qi.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},qi.requestFormReset=function(m){r.d.r(m)},qi.unstable_batchedUpdates=function(m,g){return m(g)},qi.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},qi.useFormStatus=function(){return u.H.useHostTransitionStatus()},qi.version="19.1.1",qi}var N_;function k4(){if(N_)return gv.exports;N_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gv.exports=Bk(),gv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function Fk(){if(D_)return Kh;D_=1;var t=jk(),e=qf(),n=k4();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function u(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function m(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,x=l;;){var C=h.return;if(C===null)break;var O=C.alternate;if(O===null){if(x=C.return,x!==null){h=x;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===h)return d(C),s;if(O===x)return d(C),l;O=O.sibling}throw Error(r(188))}if(h.return!==x.return)h=C,x=O;else{for(var G=!1,Z=C.child;Z;){if(Z===h){G=!0,h=C,x=O;break}if(Z===x){G=!0,x=C,h=O;break}Z=Z.sibling}if(!G){for(Z=O.child;Z;){if(Z===h){G=!0,h=O,x=C;break}if(Z===x){G=!0,x=O,h=C;break}Z=Z.sibling}if(!G)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function g(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=g(s),l!==null)return l;s=s.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),z=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ae(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case M:return"Profiler";case P:return"StrictMode";case X:return"Suspense";case ee:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case z:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case te:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return l=s.displayName||null,l!==null?l:ae(s.type)||"Memo";case H:l=s._payload,s=s._init;try{return ae(s(l))}catch{}}return null}var re=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Ue=[],oe=-1;function be(s){return{current:s}}function Ie(s){0>oe||(s.current=Ue[oe],Ue[oe]=null,oe--)}function Le(s,l){oe++,Ue[oe]=s.current,s.current=l}var Ye=be(null),at=be(null),Ne=be(null),Bt=be(null);function lt(s,l){switch(Le(Ne,l),Le(at,s),Le(Ye,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?ZC(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=ZC(l),s=JC(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ie(Ye),Le(Ye,s)}function Oe(){Ie(Ye),Ie(at),Ie(Ne)}function nt(s){s.memoizedState!==null&&Le(Bt,s);var l=Ye.current,h=JC(l,s.type);l!==h&&(Le(at,s),Le(Ye,h))}function st(s){at.current===s&&(Ie(Ye),Ie(at)),Bt.current===s&&(Ie(Bt),qh._currentValue=Te)}var De=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,ht=t.unstable_shouldYield,hn=t.unstable_requestPaint,It=t.unstable_now,Mt=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,Pt=t.unstable_UserBlockingPriority,$e=t.unstable_NormalPriority,la=t.unstable_LowPriority,Ur=t.unstable_IdlePriority,vi=t.log,Xs=t.unstable_setDisableYieldValue,Qt=null,sn=null;function ir(s){if(typeof vi=="function"&&Xs(s),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Qt,s)}catch{}}var on=Math.clz32?Math.clz32:Ht,ot=Math.log,mt=Math.LN2;function Ht(s){return s>>>=0,s===0?32:31-(ot(s)/mt|0)|0}var yt=256,Fe=4194304;function St(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Gt(s,l,h){var x=s.pendingLanes;if(x===0)return 0;var C=0,O=s.suspendedLanes,G=s.pingedLanes;s=s.warmLanes;var Z=x&134217727;return Z!==0?(x=Z&~O,x!==0?C=St(x):(G&=Z,G!==0?C=St(G):h||(h=Z&~s,h!==0&&(C=St(h))))):(Z=x&~O,Z!==0?C=St(Z):G!==0?C=St(G):h||(h=x&~s,h!==0&&(C=St(h)))),C===0?0:l!==0&&l!==C&&(l&O)===0&&(O=C&-C,h=l&-l,O>=h||O===32&&(h&4194048)!==0)?l:C}function gn(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ms(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var s=yt;return yt<<=1,(yt&4194048)===0&&(yt=256),s}function vl(){var s=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),s}function Lt(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function xi(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function xl(s,l,h,x,C,O){var G=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var Z=s.entanglements,ue=s.expirationTimes,xe=s.hiddenUpdates;for(h=G&~h;0<h;){var Re=31-on(h),je=1<<Re;Z[Re]=0,ue[Re]=-1;var Ee=xe[Re];if(Ee!==null)for(xe[Re]=null,Re=0;Re<Ee.length;Re++){var Ce=Ee[Re];Ce!==null&&(Ce.lane&=-536870913)}h&=~je}x!==0&&Ta(s,x,0),O!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=O&~(G&~l))}function Ta(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var x=31-on(l);s.entangledLanes|=l,s.entanglements[x]=s.entanglements[x]|1073741824|h&4194090}function bi(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var x=31-on(h),C=1<<x;C&l|s[x]&l&&(s[x]|=l),h&=~C}}function rs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zi(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:v_(s.type))}function _o(s,l){var h=ce.p;try{return ce.p=s,l()}finally{ce.p=h}}var an=Math.random().toString(36).slice(2),Nr="__reactFiber$"+an,Dn="__reactProps$"+an,Li="__reactContainer$"+an,Vr="__reactEvents$"+an,Ps="__reactListeners$"+an,Dr="__reactHandles$"+an,Ke="__reactResources$"+an,ca="__reactMarker$"+an;function is(s){delete s[Nr],delete s[Dn],delete s[Vr],delete s[Ps],delete s[Dr]}function ar(s){var l=s[Nr];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Li]||h[Nr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=r_(s);s!==null;){if(h=s[Nr])return h;s=r_(s)}return l}s=h,h=s.parentNode}return null}function wi(s){if(s=s[Nr]||s[Li]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ji(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function zr(s){var l=s[Ke];return l||(l=s[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function mn(s){s[ca]=!0}var Tc=new Set,bl={};function Er(s,l){Qn(s,l),Qn(s+"Capture",l)}function Qn(s,l){for(bl[s]=l,s=0;s<l.length;s++)Tc.add(l[s])}var _n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},ji={};function wl(s){return De.call(ji,s)?!0:De.call(Ic,s)?!1:_n.test(s)?ji[s]=!0:(Ic[s]=!0,!1)}function ke(s,l,h){if(wl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function as(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Ft(s,l,h,x){if(x===null)s.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+x)}}var ua,Su;function Ut(s){if(ua===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ua=l&&l[1]||"",Su=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+s+Su}var Wt=!1;function kt(s,l){if(!s||Wt)return"";Wt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(Ce){var Ee=Ce}Reflect.construct(s,[],je)}else{try{je.call()}catch(Ce){Ee=Ce}s.call(je.prototype)}}else{try{throw Error()}catch(Ce){Ee=Ce}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(Ce){if(Ce&&Ee&&typeof Ce.stack=="string")return[Ce.stack,Ee.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),G=O[0],Z=O[1];if(G&&Z){var ue=G.split(`
`),xe=Z.split(`
`);for(C=x=0;x<ue.length&&!ue[x].includes("DetermineComponentFrameRoot");)x++;for(;C<xe.length&&!xe[C].includes("DetermineComponentFrameRoot");)C++;if(x===ue.length||C===xe.length)for(x=ue.length-1,C=xe.length-1;1<=x&&0<=C&&ue[x]!==xe[C];)C--;for(;1<=x&&0<=C;x--,C--)if(ue[x]!==xe[C]){if(x!==1||C!==1)do if(x--,C--,0>C||ue[x]!==xe[C]){var Re=`
`+ue[x].replace(" at new "," at ");return s.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",s.displayName)),Re}while(1<=x&&0<=C);break}}}finally{Wt=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ut(h):""}function To(s){switch(s.tag){case 26:case 27:case 5:return Ut(s.type);case 16:return Ut("Lazy");case 13:return Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return kt(s.type,!1);case 11:return kt(s.type.render,!1);case 1:return kt(s.type,!0);case 31:return Ut("Activity");default:return""}}function Ks(s){try{var l="";do l+=To(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Qr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zn(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ss(s){var l=Zn(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),x=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,O=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return C.call(this)},set:function(G){x=""+G,O.call(this,G)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(G){x=""+G},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function El(s){s._valueTracker||(s._valueTracker=ss(s))}function jn(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return s&&(x=Zn(s)?s.checked?"true":"false":s.value),s=x,s!==h?(l.setValue(s),!0):!1}function Bi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ch=/[\n"\\]/g;function Bn(s){return s.replace(ch,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Vt(s,l,h,x,C,O,G,Z){s.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.type=G:s.removeAttribute("type"),l!=null?G==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Qr(l)):s.value!==""+Qr(l)&&(s.value=""+Qr(l)):G!=="submit"&&G!=="reset"||s.removeAttribute("value"),l!=null?me(s,G,Qr(l)):h!=null?me(s,G,Qr(h)):x!=null&&s.removeAttribute("value"),C==null&&O!=null&&(s.defaultChecked=!!O),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?s.name=""+Qr(Z):s.removeAttribute("name")}function sr(s,l,h,x,C,O,G,Z){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),l!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||l!=null))return;h=h!=null?""+Qr(h):"",l=l!=null?""+Qr(l):h,Z||l===s.value||(s.value=l),s.defaultValue=l}x=x??C,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=Z?s.checked:!!x,s.defaultChecked=!!x,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(s.name=G)}function me(s,l,h){l==="number"&&Bi(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function ie(s,l,h,x){if(s=s.options,l){l={};for(var C=0;C<h.length;C++)l["$"+h[C]]=!0;for(h=0;h<s.length;h++)C=l.hasOwnProperty("$"+s[h].value),s[h].selected!==C&&(s[h].selected=C),C&&x&&(s[h].defaultSelected=!0)}else{for(h=""+Qr(h),l=null,C=0;C<s.length;C++){if(s[C].value===h){s[C].selected=!0,x&&(s[C].defaultSelected=!0);return}l!==null||s[C].disabled||(l=s[C])}l!==null&&(l.selected=!0)}}function We(s,l,h){if(l!=null&&(l=""+Qr(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+Qr(h):""}function Wn(s,l,h,x){if(l==null){if(x!=null){if(h!=null)throw Error(r(92));if(re(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),l=h}h=Qr(l),s.defaultValue=h,x=s.textContent,x===h&&x!==""&&x!==null&&(s.value=x)}function Jn(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(s,l,h){var x=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":x?s.setProperty(l,h):typeof h!="number"||h===0||Io.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function ci(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var C in l)x=l[C],l.hasOwnProperty(C)&&h[C]!==x&&Al(s,C,x)}else for(var O in l)l.hasOwnProperty(O)&&Al(s,O,l[O])}function ut(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(s){return Cu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ia=null;function Ei(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Oa=null,ks=null;function or(s){var l=wi(s);if(l&&(s=l.stateNode)){var h=s[Dn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Vt(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Bn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==s&&x.form===s.form){var C=x[Dn]||null;if(!C)throw Error(r(90));Vt(x,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(l=0;l<h.length;l++)x=h[l],x.form===s.form&&jn(x)}break e;case"textarea":We(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&ie(s,!!h.multiple,l,!1)}}}var Fi=!1;function Ra(s,l,h){if(Fi)return s(l,h);Fi=!0;try{var x=s(l);return x}finally{if(Fi=!1,(Oa!==null||ks!==null)&&(J0(),Oa&&(l=Oa,s=ks,ks=Oa=null,or(l),s)))for(l=0;l<s.length;l++)or(s[l])}}function dt(s,l){var h=s.stateNode;if(h===null)return null;var x=h[Dn]||null;if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xt=!1;if(Na)try{var er={};Object.defineProperty(er,"passive",{get:function(){xt=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{xt=!1}var os=null,ls=null,cs=null;function Da(){if(cs)return cs;var s,l=ls,h=l.length,x,C="value"in os?os.value:os.textContent,O=C.length;for(s=0;s<h&&l[s]===C[s];s++);var G=h-s;for(x=1;x<=G&&l[h-x]===C[O-x];x++);return cs=C.slice(s,1<x?1-x:void 0)}function us(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ui(){return!0}function Ls(){return!1}function lr(s){function l(h,x,C,O,G){this._reactName=h,this._targetInst=C,this.type=x,this.nativeEvent=O,this.target=G,this.currentTarget=null;for(var Z in s)s.hasOwnProperty(Z)&&(h=s[Z],this[Z]=h?h(O):O[Z]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Ui:Ls,this.isPropagationStopped=Ls,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),l}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=lr(dn),Ma=v({},dn,{view:0,detail:0}),Zr=lr(Ma),Oo,Ro,Pa,No=v({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pa&&(Pa&&s.type==="mousemove"?(Oo=s.screenX-Pa.screenX,Ro=s.screenY-Pa.screenY):Ro=Oo=0,Pa=s),Oo)},movementY:function(s){return"movementY"in s?s.movementY:Ro}}),fa=lr(No),_u=v({},No,{dataTransfer:0}),pn=lr(_u),Qs=v({},Ma,{relatedTarget:0}),js=lr(Qs),ha=v({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cl=lr(ha),Se=v({},dn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Tt=lr(Se),Mr=v({},dn,{data:0}),Zs=lr(Mr),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Iu[s])?!!l[s]:!1}function Bs(){return Oc}var cr=v({},Ma,{key:function(s){if(s.key){var l=Js[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=us(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(s){return s.type==="keypress"?us(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?us(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),eo=lr(cr),Un=v({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),to=lr(Un),Ai=v({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),yn=lr(Ai),pt=v({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=lr(pt),Sn=v({},No,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),da=lr(Sn),Ar=v({},dn,{newState:0,oldState:0}),Ru=lr(Ar),ea=[9,13,27,32],ga=Na&&"CompositionEvent"in window,A=null;Na&&"documentMode"in document&&(A=document.documentMode);var k=Na&&"TextEvent"in window&&!A,V=Na&&(!ga||A&&8<A&&11>=A),ne=" ",pe=!1;function _e(s,l){switch(s){case"keyup":return ea.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zt=!1;function tr(s,l){switch(s){case"compositionend":return Ge(l);case"keypress":return l.which!==32?null:(pe=!0,ne);case"textInput":return s=l.data,s===ne&&pe?null:s;default:return null}}function Jt(s,l){if(Zt)return s==="compositionend"||!ga&&_e(s,l)?(s=Da(),cs=ls=os=null,Zt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return V&&l.locale!=="ko"?null:l.data;default:return null}}var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Vn[s.type]:l==="textarea"}function Sr(s,l,h,x){Oa?ks?ks.push(x):ks=[x]:Oa=x,l=ag(l,"onChange"),0<l.length&&(h=new fs("onChange","change",null,h,x),s.push({event:h,listeners:l}))}var Hr=null,Pr=null;function Rc(s){YC(s,0)}function _l(s){var l=Ji(s);if(jn(l))return s}function x0(s,l){if(s==="change")return l}var uh=!1;if(Na){var ma;if(Na){var fh="oninput"in document;if(!fh){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),fh=typeof Nu.oninput=="function"}ma=fh}else ma=!1;uh=ma&&(!document.documentMode||9<document.documentMode)}function Tl(){Hr&&(Hr.detachEvent("onpropertychange",en),Pr=Hr=null)}function en(s){if(s.propertyName==="value"&&_l(Pr)){var l=[];Sr(l,Pr,s,Ei(s)),Ra(Rc,l)}}function Du(s,l,h){s==="focusin"?(Tl(),Hr=l,Pr=h,Hr.attachEvent("onpropertychange",en)):s==="focusout"&&Tl()}function W(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _l(Pr)}function o(s,l){if(s==="click")return _l(l)}function c(s,l){if(s==="input"||s==="change")return _l(l)}function f(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var p=typeof Object.is=="function"?Object.is:f;function y(s,l){if(p(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var C=h[x];if(!De.call(l,C)||!p(s[C],l[C]))return!1}return!0}function b(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E(s,l){var h=b(s);s=0;for(var x;h;){if(h.nodeType===3){if(x=s+h.textContent.length,s<=l&&x>=l)return{node:h,offset:l-s};s=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=b(h)}}function _(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function N(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Bi(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Bi(s.document)}return l}function j(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Y=Na&&"documentMode"in document&&11>=document.documentMode,Q=null,se=null,fe=null,he=!1;function ye(s,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;he||Q==null||Q!==Bi(x)||(x=Q,"selectionStart"in x&&j(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),fe&&y(fe,x)||(fe=x,x=ag(se,"onSelect"),0<x.length&&(l=new fs("onSelect","select",null,l,h),s.push({event:l,listeners:x}),l.target=Q)))}function Ae(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var He={animationend:Ae("Animation","AnimationEnd"),animationiteration:Ae("Animation","AnimationIteration"),animationstart:Ae("Animation","AnimationStart"),transitionrun:Ae("Transition","TransitionRun"),transitionstart:Ae("Transition","TransitionStart"),transitioncancel:Ae("Transition","TransitionCancel"),transitionend:Ae("Transition","TransitionEnd")},qe={},ze={};Na&&(ze=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);function Nt(s){if(qe[s])return qe[s];if(!He[s])return s;var l=He[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in ze)return qe[s]=l[h];return s}var Ot=Nt("animationend"),Si=Nt("animationiteration"),pa=Nt("animationstart"),Vi=Nt("transitionrun"),Tn=Nt("transitionstart"),Jr=Nt("transitioncancel"),zi=Nt("transitionend"),Do=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function ka(s,l){Do.set(s,l),Er(l,[s])}var b0=new WeakMap;function hs(s,l){if(typeof s=="object"&&s!==null){var h=b0.get(s);return h!==void 0?h:(l={value:s,source:l,stack:Ks(l)},b0.set(s,l),l)}return{value:s,source:l,stack:Ks(l)}}var ds=[],Mu=0,_p=0;function w0(){for(var s=Mu,l=_p=Mu=0;l<s;){var h=ds[l];ds[l++]=null;var x=ds[l];ds[l++]=null;var C=ds[l];ds[l++]=null;var O=ds[l];if(ds[l++]=null,x!==null&&C!==null){var G=x.pending;G===null?C.next=C:(C.next=G.next,G.next=C),x.pending=C}O!==0&&NA(h,C,O)}}function E0(s,l,h,x){ds[Mu++]=s,ds[Mu++]=l,ds[Mu++]=h,ds[Mu++]=x,_p|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Tp(s,l,h,x){return E0(s,l,h,x),A0(s)}function Pu(s,l){return E0(s,null,null,l),A0(s)}function NA(s,l,h){s.lanes|=h;var x=s.alternate;x!==null&&(x.lanes|=h);for(var C=!1,O=s.return;O!==null;)O.childLanes|=h,x=O.alternate,x!==null&&(x.childLanes|=h),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(C=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,C&&l!==null&&(C=31-on(h),s=O.hiddenUpdates,x=s[C],x===null?s[C]=[l]:x.push(l),l.lane=h|536870912),O):null}function A0(s){if(50<Lh)throw Lh=0,My=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ku={};function y9(s,l,h,x){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(s,l,h,x){return new y9(s,l,h,x)}function Ip(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Mo(s,l){var h=s.alternate;return h===null?(h=La(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function DA(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function S0(s,l,h,x,C,O){var G=0;if(x=s,typeof s=="function")Ip(s)&&(G=1);else if(typeof s=="string")G=xk(s,h,Ye.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case F:return s=La(31,h,l,C),s.elementType=F,s.lanes=O,s;case D:return Nc(h.children,C,O,l);case P:G=8,C|=24;break;case M:return s=La(12,h,l,C|2),s.elementType=M,s.lanes=O,s;case X:return s=La(13,h,l,C),s.elementType=X,s.lanes=O,s;case ee:return s=La(19,h,l,C),s.elementType=ee,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case z:G=10;break e;case $:G=9;break e;case te:G=11;break e;case B:G=14;break e;case H:G=16,x=null;break e}G=29,h=Error(r(130,s===null?"null":typeof s,"")),x=null}return l=La(G,h,l,C),l.elementType=s,l.type=x,l.lanes=O,l}function Nc(s,l,h,x){return s=La(7,s,x,l),s.lanes=h,s}function Op(s,l,h){return s=La(6,s,null,l),s.lanes=h,s}function Rp(s,l,h){return l=La(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Lu=[],ju=0,C0=null,_0=0,gs=[],ms=0,Dc=null,Po=1,ko="";function Mc(s,l){Lu[ju++]=_0,Lu[ju++]=C0,C0=s,_0=l}function MA(s,l,h){gs[ms++]=Po,gs[ms++]=ko,gs[ms++]=Dc,Dc=s;var x=Po;s=ko;var C=32-on(x)-1;x&=~(1<<C),h+=1;var O=32-on(l)+C;if(30<O){var G=C-C%5;O=(x&(1<<G)-1).toString(32),x>>=G,C-=G,Po=1<<32-on(l)+C|h<<C|x,ko=O+s}else Po=1<<O|h<<C|x,ko=s}function Np(s){s.return!==null&&(Mc(s,1),MA(s,1,0))}function Dp(s){for(;s===C0;)C0=Lu[--ju],Lu[ju]=null,_0=Lu[--ju],Lu[ju]=null;for(;s===Dc;)Dc=gs[--ms],gs[ms]=null,ko=gs[--ms],gs[ms]=null,Po=gs[--ms],gs[ms]=null}var ta=null,Cr=null,wn=!1,Pc=null,ro=!1,Mp=Error(r(519));function kc(s){var l=Error(r(418,""));throw gh(hs(l,s)),Mp}function PA(s){var l=s.stateNode,h=s.type,x=s.memoizedProps;switch(l[Nr]=s,l[Dn]=x,h){case"dialog":Xt("cancel",l),Xt("close",l);break;case"iframe":case"object":case"embed":Xt("load",l);break;case"video":case"audio":for(h=0;h<Bh.length;h++)Xt(Bh[h],l);break;case"source":Xt("error",l);break;case"img":case"image":case"link":Xt("error",l),Xt("load",l);break;case"details":Xt("toggle",l);break;case"input":Xt("invalid",l),sr(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),El(l);break;case"select":Xt("invalid",l);break;case"textarea":Xt("invalid",l),Wn(l,x.value,x.defaultValue,x.children),El(l)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||x.suppressHydrationWarning===!0||QC(l.textContent,h)?(x.popover!=null&&(Xt("beforetoggle",l),Xt("toggle",l)),x.onScroll!=null&&Xt("scroll",l),x.onScrollEnd!=null&&Xt("scrollend",l),x.onClick!=null&&(l.onclick=sg),l=!0):l=!1,l||kc(s)}function kA(s){for(ta=s.return;ta;)switch(ta.tag){case 5:case 13:ro=!1;return;case 27:case 3:ro=!0;return;default:ta=ta.return}}function hh(s){if(s!==ta)return!1;if(!wn)return kA(s),wn=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Xy(s.type,s.memoizedProps)),h=!h),h&&Cr&&kc(s),kA(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){Cr=Us(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}Cr=null}}else l===27?(l=Cr,Hl(s.type)?(s=Jy,Jy=null,Cr=s):Cr=l):Cr=ta?Us(s.stateNode.nextSibling):null;return!0}function dh(){Cr=ta=null,wn=!1}function LA(){var s=Pc;return s!==null&&(xa===null?xa=s:xa.push.apply(xa,s),Pc=null),s}function gh(s){Pc===null?Pc=[s]:Pc.push(s)}var Pp=be(null),Lc=null,Lo=null;function Il(s,l,h){Le(Pp,l._currentValue),l._currentValue=h}function jo(s){s._currentValue=Pp.current,Ie(Pp)}function kp(s,l,h){for(;s!==null;){var x=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),s===h)break;s=s.return}}function Lp(s,l,h,x){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var O=C.dependencies;if(O!==null){var G=C.child;O=O.firstContext;e:for(;O!==null;){var Z=O;O=C;for(var ue=0;ue<l.length;ue++)if(Z.context===l[ue]){O.lanes|=h,Z=O.alternate,Z!==null&&(Z.lanes|=h),kp(O.return,h,s),x||(G=null);break e}O=Z.next}}else if(C.tag===18){if(G=C.return,G===null)throw Error(r(341));G.lanes|=h,O=G.alternate,O!==null&&(O.lanes|=h),kp(G,h,s),G=null}else G=C.child;if(G!==null)G.return=C;else for(G=C;G!==null;){if(G===s){G=null;break}if(C=G.sibling,C!==null){C.return=G.return,G=C;break}G=G.return}C=G}}function mh(s,l,h,x){s=null;for(var C=l,O=!1;C!==null;){if(!O){if((C.flags&524288)!==0)O=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var G=C.alternate;if(G===null)throw Error(r(387));if(G=G.memoizedProps,G!==null){var Z=C.type;p(C.pendingProps.value,G.value)||(s!==null?s.push(Z):s=[Z])}}else if(C===Bt.current){if(G=C.alternate,G===null)throw Error(r(387));G.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(qh):s=[qh])}C=C.return}s!==null&&Lp(l,s,h,x),l.flags|=262144}function T0(s){for(s=s.firstContext;s!==null;){if(!p(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function jc(s){Lc=s,Lo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Hi(s){return jA(Lc,s)}function I0(s,l){return Lc===null&&jc(s),jA(s,l)}function jA(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Lo===null){if(s===null)throw Error(r(308));Lo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Lo=Lo.next=l;return h}var v9=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,x){s.push(x)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},x9=t.unstable_scheduleCallback,b9=t.unstable_NormalPriority,ei={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jp(){return{controller:new v9,data:new Map,refCount:0}}function ph(s){s.refCount--,s.refCount===0&&x9(b9,function(){s.controller.abort()})}var yh=null,Bp=0,Bu=0,Fu=null;function w9(s,l){if(yh===null){var h=yh=[];Bp=0,Bu=Uy(),Fu={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Bp++,l.then(BA,BA),l}function BA(){if(--Bp===0&&yh!==null){Fu!==null&&(Fu.status="fulfilled");var s=yh;yh=null,Bu=0,Fu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function E9(s,l){var h=[],x={status:"pending",value:null,reason:null,then:function(C){h.push(C)}};return s.then(function(){x.status="fulfilled",x.value=l;for(var C=0;C<h.length;C++)(0,h[C])(l)},function(C){for(x.status="rejected",x.reason=C,C=0;C<h.length;C++)(0,h[C])(void 0)}),x}var FA=le.S;le.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&w9(s,l),FA!==null&&FA(s,l)};var Bc=be(null);function Fp(){var s=Bc.current;return s!==null?s:Yn.pooledCache}function O0(s,l){l===null?Le(Bc,Bc.current):Le(Bc,l.pool)}function UA(){var s=Fp();return s===null?null:{parent:ei._currentValue,pool:s}}var vh=Error(r(460)),VA=Error(r(474)),R0=Error(r(542)),Up={then:function(){}};function zA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function N0(){}function HA(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(N0,N0),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,GA(s),s;default:if(typeof l.status=="string")l.then(N0,N0);else{if(s=Yn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(x){if(l.status==="pending"){var C=l;C.status="fulfilled",C.value=x}},function(x){if(l.status==="pending"){var C=l;C.status="rejected",C.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,GA(s),s}throw xh=l,vh}}var xh=null;function qA(){if(xh===null)throw Error(r(459));var s=xh;return xh=null,s}function GA(s){if(s===vh||s===R0)throw Error(r(483))}var Ol=!1;function Vp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Rl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Nl(s,l,h){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(In&2)!==0){var C=x.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),x.pending=l,l=A0(s),NA(s,null,h),l}return E0(s,x,l,h),A0(s)}function bh(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var x=l.lanes;x&=s.pendingLanes,h|=x,l.lanes=h,bi(s,h)}}function Hp(s,l){var h=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var C=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var G={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?C=O=G:O=O.next=G,h=h.next}while(h!==null);O===null?C=O=l:O=O.next=l}else C=O=l;h={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var qp=!1;function wh(){if(qp){var s=Fu;if(s!==null)throw s}}function Eh(s,l,h,x){qp=!1;var C=s.updateQueue;Ol=!1;var O=C.firstBaseUpdate,G=C.lastBaseUpdate,Z=C.shared.pending;if(Z!==null){C.shared.pending=null;var ue=Z,xe=ue.next;ue.next=null,G===null?O=xe:G.next=xe,G=ue;var Re=s.alternate;Re!==null&&(Re=Re.updateQueue,Z=Re.lastBaseUpdate,Z!==G&&(Z===null?Re.firstBaseUpdate=xe:Z.next=xe,Re.lastBaseUpdate=ue))}if(O!==null){var je=C.baseState;G=0,Re=xe=ue=null,Z=O;do{var Ee=Z.lane&-536870913,Ce=Ee!==Z.lane;if(Ce?(ln&Ee)===Ee:(x&Ee)===Ee){Ee!==0&&Ee===Bu&&(qp=!0),Re!==null&&(Re=Re.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var _t=s,wt=Z;Ee=l;var kn=h;switch(wt.tag){case 1:if(_t=wt.payload,typeof _t=="function"){je=_t.call(kn,je,Ee);break e}je=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=wt.payload,Ee=typeof _t=="function"?_t.call(kn,je,Ee):_t,Ee==null)break e;je=v({},je,Ee);break e;case 2:Ol=!0}}Ee=Z.callback,Ee!==null&&(s.flags|=64,Ce&&(s.flags|=8192),Ce=C.callbacks,Ce===null?C.callbacks=[Ee]:Ce.push(Ee))}else Ce={lane:Ee,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Re===null?(xe=Re=Ce,ue=je):Re=Re.next=Ce,G|=Ee;if(Z=Z.next,Z===null){if(Z=C.shared.pending,Z===null)break;Ce=Z,Z=Ce.next,Ce.next=null,C.lastBaseUpdate=Ce,C.shared.pending=null}}while(!0);Re===null&&(ue=je),C.baseState=ue,C.firstBaseUpdate=xe,C.lastBaseUpdate=Re,O===null&&(C.shared.lanes=0),Fl|=G,s.lanes=G,s.memoizedState=je}}function WA(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function YA(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)WA(h[s],l)}var Uu=be(null),D0=be(0);function $A(s,l){s=qo,Le(D0,s),Le(Uu,l),qo=s|l.baseLanes}function Gp(){Le(D0,qo),Le(Uu,Uu.current)}function Wp(){qo=D0.current,Ie(Uu),Ie(D0)}var Dl=0,qt=null,Mn=null,qr=null,M0=!1,Vu=!1,Fc=!1,P0=0,Ah=0,zu=null,A9=0;function kr(){throw Error(r(321))}function Yp(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!p(s[h],l[h]))return!1;return!0}function $p(s,l,h,x,C,O){return Dl=O,qt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,le.H=s===null||s.memoizedState===null?NS:DS,Fc=!1,O=h(x,C),Fc=!1,Vu&&(O=KA(l,h,x,C)),XA(s),O}function XA(s){le.H=U0;var l=Mn!==null&&Mn.next!==null;if(Dl=0,qr=Mn=qt=null,M0=!1,Ah=0,zu=null,l)throw Error(r(300));s===null||ui||(s=s.dependencies,s!==null&&T0(s)&&(ui=!0))}function KA(s,l,h,x){qt=s;var C=0;do{if(Vu&&(zu=null),Ah=0,Vu=!1,25<=C)throw Error(r(301));if(C+=1,qr=Mn=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}le.H=R9,O=l(h,x)}while(Vu);return O}function S9(){var s=le.H,l=s.useState()[0];return l=typeof l.then=="function"?Sh(l):l,s=s.useState()[0],(Mn!==null?Mn.memoizedState:null)!==s&&(qt.flags|=1024),l}function Xp(){var s=P0!==0;return P0=0,s}function Kp(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function Qp(s){if(M0){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}M0=!1}Dl=0,qr=Mn=qt=null,Vu=!1,Ah=P0=0,zu=null}function ya(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?qt.memoizedState=qr=s:qr=qr.next=s,qr}function Gr(){if(Mn===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=Mn.next;var l=qr===null?qt.memoizedState:qr.next;if(l!==null)qr=l,Mn=s;else{if(s===null)throw qt.alternate===null?Error(r(467)):Error(r(310));Mn=s,s={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},qr===null?qt.memoizedState=qr=s:qr=qr.next=s}return qr}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sh(s){var l=Ah;return Ah+=1,zu===null&&(zu=[]),s=HA(zu,s,l),l=qt,(qr===null?l.memoizedState:qr.next)===null&&(l=l.alternate,le.H=l===null||l.memoizedState===null?NS:DS),s}function k0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sh(s);if(s.$$typeof===z)return Hi(s)}throw Error(r(438,String(s)))}function Jp(s){var l=null,h=qt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var x=qt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(C){return C.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Zp(),qt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),x=0;x<s;x++)h[x]=J;return l.index++,h}function Bo(s,l){return typeof l=="function"?l(s):l}function L0(s){var l=Gr();return ey(l,Mn,s)}function ey(s,l,h){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var C=s.baseQueue,O=x.pending;if(O!==null){if(C!==null){var G=C.next;C.next=O.next,O.next=G}l.baseQueue=C=O,x.pending=null}if(O=s.baseState,C===null)s.memoizedState=O;else{l=C.next;var Z=G=null,ue=null,xe=l,Re=!1;do{var je=xe.lane&-536870913;if(je!==xe.lane?(ln&je)===je:(Dl&je)===je){var Ee=xe.revertLane;if(Ee===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),je===Bu&&(Re=!0);else if((Dl&Ee)===Ee){xe=xe.next,Ee===Bu&&(Re=!0);continue}else je={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ue===null?(Z=ue=je,G=O):ue=ue.next=je,qt.lanes|=Ee,Fl|=Ee;je=xe.action,Fc&&h(O,je),O=xe.hasEagerState?xe.eagerState:h(O,je)}else Ee={lane:je,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ue===null?(Z=ue=Ee,G=O):ue=ue.next=Ee,qt.lanes|=je,Fl|=je;xe=xe.next}while(xe!==null&&xe!==l);if(ue===null?G=O:ue.next=Z,!p(O,s.memoizedState)&&(ui=!0,Re&&(h=Fu,h!==null)))throw h;s.memoizedState=O,s.baseState=G,s.baseQueue=ue,x.lastRenderedState=O}return C===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function ty(s){var l=Gr(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var x=h.dispatch,C=h.pending,O=l.memoizedState;if(C!==null){h.pending=null;var G=C=C.next;do O=s(O,G.action),G=G.next;while(G!==C);p(O,l.memoizedState)||(ui=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),h.lastRenderedState=O}return[O,x]}function QA(s,l,h){var x=qt,C=Gr(),O=wn;if(O){if(h===void 0)throw Error(r(407));h=h()}else h=l();var G=!p((Mn||C).memoizedState,h);G&&(C.memoizedState=h,ui=!0),C=C.queue;var Z=eS.bind(null,x,C,s);if(Ch(2048,8,Z,[s]),C.getSnapshot!==l||G||qr!==null&&qr.memoizedState.tag&1){if(x.flags|=2048,Hu(9,j0(),JA.bind(null,x,C,h,l),null),Yn===null)throw Error(r(349));O||(Dl&124)!==0||ZA(x,l,h)}return h}function ZA(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=qt.updateQueue,l===null?(l=Zp(),qt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function JA(s,l,h,x){l.value=h,l.getSnapshot=x,tS(l)&&nS(s)}function eS(s,l,h){return h(function(){tS(l)&&nS(s)})}function tS(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!p(s,h)}catch{return!0}}function nS(s){var l=Pu(s,2);l!==null&&Va(l,s,2)}function ny(s){var l=ya();if(typeof s=="function"){var h=s;if(s=h(),Fc){ir(!0);try{h()}finally{ir(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:s},l}function rS(s,l,h,x){return s.baseState=h,ey(s,Mn,typeof x=="function"?x:Bo)}function C9(s,l,h,x,C){if(F0(s))throw Error(r(485));if(s=l.action,s!==null){var O={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){O.listeners.push(G)}};le.T!==null?h(!0):O.isTransition=!1,x(O),h=l.pending,h===null?(O.next=l.pending=O,iS(l,O)):(O.next=h.next,l.pending=h.next=O)}}function iS(s,l){var h=l.action,x=l.payload,C=s.state;if(l.isTransition){var O=le.T,G={};le.T=G;try{var Z=h(C,x),ue=le.S;ue!==null&&ue(G,Z),aS(s,l,Z)}catch(xe){ry(s,l,xe)}finally{le.T=O}}else try{O=h(C,x),aS(s,l,O)}catch(xe){ry(s,l,xe)}}function aS(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){sS(s,l,x)},function(x){return ry(s,l,x)}):sS(s,l,h)}function sS(s,l,h){l.status="fulfilled",l.value=h,oS(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,iS(s,h)))}function ry(s,l,h){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=h,oS(l),l=l.next;while(l!==x)}s.action=null}function oS(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function lS(s,l){return l}function cS(s,l){if(wn){var h=Yn.formState;if(h!==null){e:{var x=qt;if(wn){if(Cr){t:{for(var C=Cr,O=ro;C.nodeType!==8;){if(!O){C=null;break t}if(C=Us(C.nextSibling),C===null){C=null;break t}}O=C.data,C=O==="F!"||O==="F"?C:null}if(C){Cr=Us(C.nextSibling),x=C.data==="F!";break e}}kc(x)}x=!1}x&&(l=h[0])}}return h=ya(),h.memoizedState=h.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lS,lastRenderedState:l},h.queue=x,h=IS.bind(null,qt,x),x.dispatch=h,x=ny(!1),O=ly.bind(null,qt,!1,x.queue),x=ya(),C={state:l,dispatch:null,action:s,pending:null},x.queue=C,h=C9.bind(null,qt,C,O,h),C.dispatch=h,x.memoizedState=s,[l,h,!1]}function uS(s){var l=Gr();return fS(l,Mn,s)}function fS(s,l,h){if(l=ey(s,l,lS)[0],s=L0(Bo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=Sh(l)}catch(G){throw G===vh?R0:G}else x=l;l=Gr();var C=l.queue,O=C.dispatch;return h!==l.memoizedState&&(qt.flags|=2048,Hu(9,j0(),_9.bind(null,C,h),null)),[x,O,s]}function _9(s,l){s.action=l}function hS(s){var l=Gr(),h=Mn;if(h!==null)return fS(l,h,s);Gr(),l=l.memoizedState,h=Gr();var x=h.queue.dispatch;return h.memoizedState=s,[l,x,!1]}function Hu(s,l,h,x){return s={tag:s,create:h,deps:x,inst:l,next:null},l=qt.updateQueue,l===null&&(l=Zp(),qt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(x=h.next,h.next=s,s.next=x,l.lastEffect=s),s}function j0(){return{destroy:void 0,resource:void 0}}function dS(){return Gr().memoizedState}function B0(s,l,h,x){var C=ya();x=x===void 0?null:x,qt.flags|=s,C.memoizedState=Hu(1|l,j0(),h,x)}function Ch(s,l,h,x){var C=Gr();x=x===void 0?null:x;var O=C.memoizedState.inst;Mn!==null&&x!==null&&Yp(x,Mn.memoizedState.deps)?C.memoizedState=Hu(l,O,h,x):(qt.flags|=s,C.memoizedState=Hu(1|l,O,h,x))}function gS(s,l){B0(8390656,8,s,l)}function mS(s,l){Ch(2048,8,s,l)}function pS(s,l){return Ch(4,2,s,l)}function yS(s,l){return Ch(4,4,s,l)}function vS(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function xS(s,l,h){h=h!=null?h.concat([s]):null,Ch(4,4,vS.bind(null,l,s),h)}function iy(){}function bS(s,l){var h=Gr();l=l===void 0?null:l;var x=h.memoizedState;return l!==null&&Yp(l,x[1])?x[0]:(h.memoizedState=[s,l],s)}function wS(s,l){var h=Gr();l=l===void 0?null:l;var x=h.memoizedState;if(l!==null&&Yp(l,x[1]))return x[0];if(x=s(),Fc){ir(!0);try{s()}finally{ir(!1)}}return h.memoizedState=[x,l],x}function ay(s,l,h){return h===void 0||(Dl&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=SC(),qt.lanes|=s,Fl|=s,h)}function ES(s,l,h,x){return p(h,l)?h:Uu.current!==null?(s=ay(s,h,x),p(s,l)||(ui=!0),s):(Dl&42)===0?(ui=!0,s.memoizedState=h):(s=SC(),qt.lanes|=s,Fl|=s,l)}function AS(s,l,h,x,C){var O=ce.p;ce.p=O!==0&&8>O?O:8;var G=le.T,Z={};le.T=Z,ly(s,!1,l,h);try{var ue=C(),xe=le.S;if(xe!==null&&xe(Z,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Re=E9(ue,x);_h(s,l,Re,Ua(s))}else _h(s,l,x,Ua(s))}catch(je){_h(s,l,{then:function(){},status:"rejected",reason:je},Ua())}finally{ce.p=O,le.T=G}}function T9(){}function sy(s,l,h,x){if(s.tag!==5)throw Error(r(476));var C=SS(s).queue;AS(s,C,l,Te,h===null?T9:function(){return CS(s),h(x)})}function SS(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:Te},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function CS(s){var l=SS(s).next.queue;_h(s,l,{},Ua())}function oy(){return Hi(qh)}function _S(){return Gr().memoizedState}function TS(){return Gr().memoizedState}function I9(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ua();s=Rl(h);var x=Nl(l,s,h);x!==null&&(Va(x,l,h),bh(x,l,h)),l={cache:jp()},s.payload=l;return}l=l.return}}function O9(s,l,h){var x=Ua();h={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},F0(s)?OS(l,h):(h=Tp(s,l,h,x),h!==null&&(Va(h,s,x),RS(h,l,x)))}function IS(s,l,h){var x=Ua();_h(s,l,h,x)}function _h(s,l,h,x){var C={lane:x,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(F0(s))OS(l,C);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var G=l.lastRenderedState,Z=O(G,h);if(C.hasEagerState=!0,C.eagerState=Z,p(Z,G))return E0(s,l,C,0),Yn===null&&w0(),!1}catch{}finally{}if(h=Tp(s,l,C,x),h!==null)return Va(h,s,x),RS(h,l,x),!0}return!1}function ly(s,l,h,x){if(x={lane:2,revertLane:Uy(),action:x,hasEagerState:!1,eagerState:null,next:null},F0(s)){if(l)throw Error(r(479))}else l=Tp(s,h,x,2),l!==null&&Va(l,s,2)}function F0(s){var l=s.alternate;return s===qt||l!==null&&l===qt}function OS(s,l){Vu=M0=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function RS(s,l,h){if((h&4194048)!==0){var x=l.lanes;x&=s.pendingLanes,h|=x,l.lanes=h,bi(s,h)}}var U0={readContext:Hi,use:k0,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useLayoutEffect:kr,useInsertionEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useSyncExternalStore:kr,useId:kr,useHostTransitionStatus:kr,useFormState:kr,useActionState:kr,useOptimistic:kr,useMemoCache:kr,useCacheRefresh:kr},NS={readContext:Hi,use:k0,useCallback:function(s,l){return ya().memoizedState=[s,l===void 0?null:l],s},useContext:Hi,useEffect:gS,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,B0(4194308,4,vS.bind(null,l,s),h)},useLayoutEffect:function(s,l){return B0(4194308,4,s,l)},useInsertionEffect:function(s,l){B0(4,2,s,l)},useMemo:function(s,l){var h=ya();l=l===void 0?null:l;var x=s();if(Fc){ir(!0);try{s()}finally{ir(!1)}}return h.memoizedState=[x,l],x},useReducer:function(s,l,h){var x=ya();if(h!==void 0){var C=h(l);if(Fc){ir(!0);try{h(l)}finally{ir(!1)}}}else C=l;return x.memoizedState=x.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},x.queue=s,s=s.dispatch=O9.bind(null,qt,s),[x.memoizedState,s]},useRef:function(s){var l=ya();return s={current:s},l.memoizedState=s},useState:function(s){s=ny(s);var l=s.queue,h=IS.bind(null,qt,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:iy,useDeferredValue:function(s,l){var h=ya();return ay(h,s,l)},useTransition:function(){var s=ny(!1);return s=AS.bind(null,qt,s.queue,!0,!1),ya().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var x=qt,C=ya();if(wn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Yn===null)throw Error(r(349));(ln&124)!==0||ZA(x,l,h)}C.memoizedState=h;var O={value:h,getSnapshot:l};return C.queue=O,gS(eS.bind(null,x,O,s),[s]),x.flags|=2048,Hu(9,j0(),JA.bind(null,x,O,h,l),null),h},useId:function(){var s=ya(),l=Yn.identifierPrefix;if(wn){var h=ko,x=Po;h=(x&~(1<<32-on(x)-1)).toString(32)+h,l=""+l+"R"+h,h=P0++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=A9++,l=""+l+"r"+h.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:oy,useFormState:cS,useActionState:cS,useOptimistic:function(s){var l=ya();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=ly.bind(null,qt,!0,h),h.dispatch=l,[s,l]},useMemoCache:Jp,useCacheRefresh:function(){return ya().memoizedState=I9.bind(null,qt)}},DS={readContext:Hi,use:k0,useCallback:bS,useContext:Hi,useEffect:mS,useImperativeHandle:xS,useInsertionEffect:pS,useLayoutEffect:yS,useMemo:wS,useReducer:L0,useRef:dS,useState:function(){return L0(Bo)},useDebugValue:iy,useDeferredValue:function(s,l){var h=Gr();return ES(h,Mn.memoizedState,s,l)},useTransition:function(){var s=L0(Bo)[0],l=Gr().memoizedState;return[typeof s=="boolean"?s:Sh(s),l]},useSyncExternalStore:QA,useId:_S,useHostTransitionStatus:oy,useFormState:uS,useActionState:uS,useOptimistic:function(s,l){var h=Gr();return rS(h,Mn,s,l)},useMemoCache:Jp,useCacheRefresh:TS},R9={readContext:Hi,use:k0,useCallback:bS,useContext:Hi,useEffect:mS,useImperativeHandle:xS,useInsertionEffect:pS,useLayoutEffect:yS,useMemo:wS,useReducer:ty,useRef:dS,useState:function(){return ty(Bo)},useDebugValue:iy,useDeferredValue:function(s,l){var h=Gr();return Mn===null?ay(h,s,l):ES(h,Mn.memoizedState,s,l)},useTransition:function(){var s=ty(Bo)[0],l=Gr().memoizedState;return[typeof s=="boolean"?s:Sh(s),l]},useSyncExternalStore:QA,useId:_S,useHostTransitionStatus:oy,useFormState:hS,useActionState:hS,useOptimistic:function(s,l){var h=Gr();return Mn!==null?rS(h,Mn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Jp,useCacheRefresh:TS},qu=null,Th=0;function V0(s){var l=Th;return Th+=1,qu===null&&(qu=[]),HA(qu,s,l)}function Ih(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function z0(s,l){throw l.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function MS(s){var l=s._init;return l(s._payload)}function PS(s){function l(ge,de){if(s){var ve=ge.deletions;ve===null?(ge.deletions=[de],ge.flags|=16):ve.push(de)}}function h(ge,de){if(!s)return null;for(;de!==null;)l(ge,de),de=de.sibling;return null}function x(ge){for(var de=new Map;ge!==null;)ge.key!==null?de.set(ge.key,ge):de.set(ge.index,ge),ge=ge.sibling;return de}function C(ge,de){return ge=Mo(ge,de),ge.index=0,ge.sibling=null,ge}function O(ge,de,ve){return ge.index=ve,s?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<de?(ge.flags|=67108866,de):ve):(ge.flags|=67108866,de)):(ge.flags|=1048576,de)}function G(ge){return s&&ge.alternate===null&&(ge.flags|=67108866),ge}function Z(ge,de,ve,Me){return de===null||de.tag!==6?(de=Op(ve,ge.mode,Me),de.return=ge,de):(de=C(de,ve),de.return=ge,de)}function ue(ge,de,ve,Me){var it=ve.type;return it===D?Re(ge,de,ve.props.children,Me,ve.key):de!==null&&(de.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===H&&MS(it)===de.type)?(de=C(de,ve.props),Ih(de,ve),de.return=ge,de):(de=S0(ve.type,ve.key,ve.props,null,ge.mode,Me),Ih(de,ve),de.return=ge,de)}function xe(ge,de,ve,Me){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=Rp(ve,ge.mode,Me),de.return=ge,de):(de=C(de,ve.children||[]),de.return=ge,de)}function Re(ge,de,ve,Me,it){return de===null||de.tag!==7?(de=Nc(ve,ge.mode,Me,it),de.return=ge,de):(de=C(de,ve),de.return=ge,de)}function je(ge,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=Op(""+de,ge.mode,ve),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case S:return ve=S0(de.type,de.key,de.props,null,ge.mode,ve),Ih(ve,de),ve.return=ge,ve;case I:return de=Rp(de,ge.mode,ve),de.return=ge,de;case H:var Me=de._init;return de=Me(de._payload),je(ge,de,ve)}if(re(de)||K(de))return de=Nc(de,ge.mode,ve,null),de.return=ge,de;if(typeof de.then=="function")return je(ge,V0(de),ve);if(de.$$typeof===z)return je(ge,I0(ge,de),ve);z0(ge,de)}return null}function Ee(ge,de,ve,Me){var it=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return it!==null?null:Z(ge,de,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:return ve.key===it?ue(ge,de,ve,Me):null;case I:return ve.key===it?xe(ge,de,ve,Me):null;case H:return it=ve._init,ve=it(ve._payload),Ee(ge,de,ve,Me)}if(re(ve)||K(ve))return it!==null?null:Re(ge,de,ve,Me,null);if(typeof ve.then=="function")return Ee(ge,de,V0(ve),Me);if(ve.$$typeof===z)return Ee(ge,de,I0(ge,ve),Me);z0(ge,ve)}return null}function Ce(ge,de,ve,Me,it){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ge=ge.get(ve)||null,Z(de,ge,""+Me,it);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case S:return ge=ge.get(Me.key===null?ve:Me.key)||null,ue(de,ge,Me,it);case I:return ge=ge.get(Me.key===null?ve:Me.key)||null,xe(de,ge,Me,it);case H:var Yt=Me._init;return Me=Yt(Me._payload),Ce(ge,de,ve,Me,it)}if(re(Me)||K(Me))return ge=ge.get(ve)||null,Re(de,ge,Me,it,null);if(typeof Me.then=="function")return Ce(ge,de,ve,V0(Me),it);if(Me.$$typeof===z)return Ce(ge,de,ve,I0(de,Me),it);z0(de,Me)}return null}function _t(ge,de,ve,Me){for(var it=null,Yt=null,gt=de,Et=de=0,hi=null;gt!==null&&Et<ve.length;Et++){gt.index>Et?(hi=gt,gt=null):hi=gt.sibling;var vn=Ee(ge,gt,ve[Et],Me);if(vn===null){gt===null&&(gt=hi);break}s&&gt&&vn.alternate===null&&l(ge,gt),de=O(vn,de,Et),Yt===null?it=vn:Yt.sibling=vn,Yt=vn,gt=hi}if(Et===ve.length)return h(ge,gt),wn&&Mc(ge,Et),it;if(gt===null){for(;Et<ve.length;Et++)gt=je(ge,ve[Et],Me),gt!==null&&(de=O(gt,de,Et),Yt===null?it=gt:Yt.sibling=gt,Yt=gt);return wn&&Mc(ge,Et),it}for(gt=x(gt);Et<ve.length;Et++)hi=Ce(gt,ge,Et,ve[Et],Me),hi!==null&&(s&&hi.alternate!==null&&gt.delete(hi.key===null?Et:hi.key),de=O(hi,de,Et),Yt===null?it=hi:Yt.sibling=hi,Yt=hi);return s&&gt.forEach(function($l){return l(ge,$l)}),wn&&Mc(ge,Et),it}function wt(ge,de,ve,Me){if(ve==null)throw Error(r(151));for(var it=null,Yt=null,gt=de,Et=de=0,hi=null,vn=ve.next();gt!==null&&!vn.done;Et++,vn=ve.next()){gt.index>Et?(hi=gt,gt=null):hi=gt.sibling;var $l=Ee(ge,gt,vn.value,Me);if($l===null){gt===null&&(gt=hi);break}s&&gt&&$l.alternate===null&&l(ge,gt),de=O($l,de,Et),Yt===null?it=$l:Yt.sibling=$l,Yt=$l,gt=hi}if(vn.done)return h(ge,gt),wn&&Mc(ge,Et),it;if(gt===null){for(;!vn.done;Et++,vn=ve.next())vn=je(ge,vn.value,Me),vn!==null&&(de=O(vn,de,Et),Yt===null?it=vn:Yt.sibling=vn,Yt=vn);return wn&&Mc(ge,Et),it}for(gt=x(gt);!vn.done;Et++,vn=ve.next())vn=Ce(gt,ge,Et,vn.value,Me),vn!==null&&(s&&vn.alternate!==null&&gt.delete(vn.key===null?Et:vn.key),de=O(vn,de,Et),Yt===null?it=vn:Yt.sibling=vn,Yt=vn);return s&&gt.forEach(function(Nk){return l(ge,Nk)}),wn&&Mc(ge,Et),it}function kn(ge,de,ve,Me){if(typeof ve=="object"&&ve!==null&&ve.type===D&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case S:e:{for(var it=ve.key;de!==null;){if(de.key===it){if(it=ve.type,it===D){if(de.tag===7){h(ge,de.sibling),Me=C(de,ve.props.children),Me.return=ge,ge=Me;break e}}else if(de.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===H&&MS(it)===de.type){h(ge,de.sibling),Me=C(de,ve.props),Ih(Me,ve),Me.return=ge,ge=Me;break e}h(ge,de);break}else l(ge,de);de=de.sibling}ve.type===D?(Me=Nc(ve.props.children,ge.mode,Me,ve.key),Me.return=ge,ge=Me):(Me=S0(ve.type,ve.key,ve.props,null,ge.mode,Me),Ih(Me,ve),Me.return=ge,ge=Me)}return G(ge);case I:e:{for(it=ve.key;de!==null;){if(de.key===it)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){h(ge,de.sibling),Me=C(de,ve.children||[]),Me.return=ge,ge=Me;break e}else{h(ge,de);break}else l(ge,de);de=de.sibling}Me=Rp(ve,ge.mode,Me),Me.return=ge,ge=Me}return G(ge);case H:return it=ve._init,ve=it(ve._payload),kn(ge,de,ve,Me)}if(re(ve))return _t(ge,de,ve,Me);if(K(ve)){if(it=K(ve),typeof it!="function")throw Error(r(150));return ve=it.call(ve),wt(ge,de,ve,Me)}if(typeof ve.then=="function")return kn(ge,de,V0(ve),Me);if(ve.$$typeof===z)return kn(ge,de,I0(ge,ve),Me);z0(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,de!==null&&de.tag===6?(h(ge,de.sibling),Me=C(de,ve),Me.return=ge,ge=Me):(h(ge,de),Me=Op(ve,ge.mode,Me),Me.return=ge,ge=Me),G(ge)):h(ge,de)}return function(ge,de,ve,Me){try{Th=0;var it=kn(ge,de,ve,Me);return qu=null,it}catch(gt){if(gt===vh||gt===R0)throw gt;var Yt=La(29,gt,null,ge.mode);return Yt.lanes=Me,Yt.return=ge,Yt}finally{}}}var Gu=PS(!0),kS=PS(!1),ps=be(null),io=null;function Ml(s){var l=s.alternate;Le(ti,ti.current&1),Le(ps,s),io===null&&(l===null||Uu.current!==null||l.memoizedState!==null)&&(io=s)}function LS(s){if(s.tag===22){if(Le(ti,ti.current),Le(ps,s),io===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(io=s)}}else Pl()}function Pl(){Le(ti,ti.current),Le(ps,ps.current)}function Fo(s){Ie(ps),io===s&&(io=null),Ie(ti)}var ti=be(0);function H0(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Zy(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function cy(s,l,h,x){l=s.memoizedState,h=h(x,l),h=h==null?l:v({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var uy={enqueueSetState:function(s,l,h){s=s._reactInternals;var x=Ua(),C=Rl(x);C.payload=l,h!=null&&(C.callback=h),l=Nl(s,C,x),l!==null&&(Va(l,s,x),bh(l,s,x))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var x=Ua(),C=Rl(x);C.tag=1,C.payload=l,h!=null&&(C.callback=h),l=Nl(s,C,x),l!==null&&(Va(l,s,x),bh(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Ua(),x=Rl(h);x.tag=2,l!=null&&(x.callback=l),l=Nl(s,x,h),l!==null&&(Va(l,s,h),bh(l,s,h))}};function jS(s,l,h,x,C,O,G){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,O,G):l.prototype&&l.prototype.isPureReactComponent?!y(h,x)||!y(C,O):!0}function BS(s,l,h,x){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==s&&uy.enqueueReplaceState(l,l.state,null)}function Uc(s,l){var h=l;if("ref"in l){h={};for(var x in l)x!=="ref"&&(h[x]=l[x])}if(s=s.defaultProps){h===l&&(h=v({},h));for(var C in s)h[C]===void 0&&(h[C]=s[C])}return h}var q0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function FS(s){q0(s)}function US(s){console.error(s)}function VS(s){q0(s)}function G0(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function zS(s,l,h){try{var x=s.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function fy(s,l,h){return h=Rl(h),h.tag=3,h.payload={element:null},h.callback=function(){G0(s,l)},h}function HS(s){return s=Rl(s),s.tag=3,s}function qS(s,l,h,x){var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var O=x.value;s.payload=function(){return C(O)},s.callback=function(){zS(l,h,x)}}var G=h.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(s.callback=function(){zS(l,h,x),typeof C!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var Z=x.stack;this.componentDidCatch(x.value,{componentStack:Z!==null?Z:""})})}function N9(s,l,h,x,C){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=h.alternate,l!==null&&mh(l,h,C,!0),h=ps.current,h!==null){switch(h.tag){case 13:return io===null?ky():h.alternate===null&&_r===0&&(_r=3),h.flags&=-257,h.flags|=65536,h.lanes=C,x===Up?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([x]):l.add(x),jy(s,x,C)),!1;case 22:return h.flags|=65536,x===Up?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([x]):h.add(x)),jy(s,x,C)),!1}throw Error(r(435,h.tag))}return jy(s,x,C),ky(),!1}if(wn)return l=ps.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=C,x!==Mp&&(s=Error(r(422),{cause:x}),gh(hs(s,h)))):(x!==Mp&&(l=Error(r(423),{cause:x}),gh(hs(l,h))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,x=hs(x,h),C=fy(s.stateNode,x,C),Hp(s,C),_r!==4&&(_r=2)),!1;var O=Error(r(520),{cause:x});if(O=hs(O,h),kh===null?kh=[O]:kh.push(O),_r!==4&&(_r=2),l===null)return!0;x=hs(x,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=C&-C,h.lanes|=s,s=fy(h.stateNode,x,s),Hp(h,s),!1;case 1:if(l=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ul===null||!Ul.has(O))))return h.flags|=65536,C&=-C,h.lanes|=C,C=HS(C),qS(C,s,h,x),Hp(h,C),!1}h=h.return}while(h!==null);return!1}var GS=Error(r(461)),ui=!1;function Ci(s,l,h,x){l.child=s===null?kS(l,null,h,x):Gu(l,s.child,h,x)}function WS(s,l,h,x,C){h=h.render;var O=l.ref;if("ref"in x){var G={};for(var Z in x)Z!=="ref"&&(G[Z]=x[Z])}else G=x;return jc(l),x=$p(s,l,h,G,O,C),Z=Xp(),s!==null&&!ui?(Kp(s,l,C),Uo(s,l,C)):(wn&&Z&&Np(l),l.flags|=1,Ci(s,l,x,C),l.child)}function YS(s,l,h,x,C){if(s===null){var O=h.type;return typeof O=="function"&&!Ip(O)&&O.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=O,$S(s,l,O,x,C)):(s=S0(h.type,null,x,l,l.mode,C),s.ref=l.ref,s.return=l,l.child=s)}if(O=s.child,!xy(s,C)){var G=O.memoizedProps;if(h=h.compare,h=h!==null?h:y,h(G,x)&&s.ref===l.ref)return Uo(s,l,C)}return l.flags|=1,s=Mo(O,x),s.ref=l.ref,s.return=l,l.child=s}function $S(s,l,h,x,C){if(s!==null){var O=s.memoizedProps;if(y(O,x)&&s.ref===l.ref)if(ui=!1,l.pendingProps=x=O,xy(s,C))(s.flags&131072)!==0&&(ui=!0);else return l.lanes=s.lanes,Uo(s,l,C)}return hy(s,l,h,x,C)}function XS(s,l,h){var x=l.pendingProps,C=x.children,O=s!==null?s.memoizedState:null;if(x.mode==="hidden"){if((l.flags&128)!==0){if(x=O!==null?O.baseLanes|h:h,s!==null){for(C=l.child=s.child,O=0;C!==null;)O=O|C.lanes|C.childLanes,C=C.sibling;l.childLanes=O&~x}else l.childLanes=0,l.child=null;return KS(s,l,x,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&O0(l,O!==null?O.cachePool:null),O!==null?$A(l,O):Gp(),LS(l);else return l.lanes=l.childLanes=536870912,KS(s,l,O!==null?O.baseLanes|h:h,h)}else O!==null?(O0(l,O.cachePool),$A(l,O),Pl(),l.memoizedState=null):(s!==null&&O0(l,null),Gp(),Pl());return Ci(s,l,C,h),l.child}function KS(s,l,h,x){var C=Fp();return C=C===null?null:{parent:ei._currentValue,pool:C},l.memoizedState={baseLanes:h,cachePool:C},s!==null&&O0(l,null),Gp(),LS(l),s!==null&&mh(s,l,x,!0),null}function W0(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function hy(s,l,h,x,C){return jc(l),h=$p(s,l,h,x,void 0,C),x=Xp(),s!==null&&!ui?(Kp(s,l,C),Uo(s,l,C)):(wn&&x&&Np(l),l.flags|=1,Ci(s,l,h,C),l.child)}function QS(s,l,h,x,C,O){return jc(l),l.updateQueue=null,h=KA(l,x,h,C),XA(s),x=Xp(),s!==null&&!ui?(Kp(s,l,O),Uo(s,l,O)):(wn&&x&&Np(l),l.flags|=1,Ci(s,l,h,O),l.child)}function ZS(s,l,h,x,C){if(jc(l),l.stateNode===null){var O=ku,G=h.contextType;typeof G=="object"&&G!==null&&(O=Hi(G)),O=new h(x,O),l.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=uy,l.stateNode=O,O._reactInternals=l,O=l.stateNode,O.props=x,O.state=l.memoizedState,O.refs={},Vp(l),G=h.contextType,O.context=typeof G=="object"&&G!==null?Hi(G):ku,O.state=l.memoizedState,G=h.getDerivedStateFromProps,typeof G=="function"&&(cy(l,h,G,x),O.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(G=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),G!==O.state&&uy.enqueueReplaceState(O,O.state,null),Eh(l,x,O,C),wh(),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(s===null){O=l.stateNode;var Z=l.memoizedProps,ue=Uc(h,Z);O.props=ue;var xe=O.context,Re=h.contextType;G=ku,typeof Re=="object"&&Re!==null&&(G=Hi(Re));var je=h.getDerivedStateFromProps;Re=typeof je=="function"||typeof O.getSnapshotBeforeUpdate=="function",Z=l.pendingProps!==Z,Re||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Z||xe!==G)&&BS(l,O,x,G),Ol=!1;var Ee=l.memoizedState;O.state=Ee,Eh(l,x,O,C),wh(),xe=l.memoizedState,Z||Ee!==xe||Ol?(typeof je=="function"&&(cy(l,h,je,x),xe=l.memoizedState),(ue=Ol||jS(l,h,ue,x,Ee,xe,G))?(Re||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=xe),O.props=x,O.state=xe,O.context=G,x=ue):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{O=l.stateNode,zp(s,l),G=l.memoizedProps,Re=Uc(h,G),O.props=Re,je=l.pendingProps,Ee=O.context,xe=h.contextType,ue=ku,typeof xe=="object"&&xe!==null&&(ue=Hi(xe)),Z=h.getDerivedStateFromProps,(xe=typeof Z=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==je||Ee!==ue)&&BS(l,O,x,ue),Ol=!1,Ee=l.memoizedState,O.state=Ee,Eh(l,x,O,C),wh();var Ce=l.memoizedState;G!==je||Ee!==Ce||Ol||s!==null&&s.dependencies!==null&&T0(s.dependencies)?(typeof Z=="function"&&(cy(l,h,Z,x),Ce=l.memoizedState),(Re=Ol||jS(l,h,Re,x,Ee,Ce,ue)||s!==null&&s.dependencies!==null&&T0(s.dependencies))?(xe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,Ce,ue),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,Ce,ue)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||G===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Ce),O.props=x,O.state=Ce,O.context=ue,x=Re):(typeof O.componentDidUpdate!="function"||G===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),x=!1)}return O=x,W0(s,l),x=(l.flags&128)!==0,O||x?(O=l.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:O.render(),l.flags|=1,s!==null&&x?(l.child=Gu(l,s.child,null,C),l.child=Gu(l,null,h,C)):Ci(s,l,h,C),l.memoizedState=O.state,s=l.child):s=Uo(s,l,C),s}function JS(s,l,h,x){return dh(),l.flags|=256,Ci(s,l,h,x),l.child}var dy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gy(s){return{baseLanes:s,cachePool:UA()}}function my(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=ys),s}function eC(s,l,h){var x=l.pendingProps,C=!1,O=(l.flags&128)!==0,G;if((G=O)||(G=s!==null&&s.memoizedState===null?!1:(ti.current&2)!==0),G&&(C=!0,l.flags&=-129),G=(l.flags&32)!==0,l.flags&=-33,s===null){if(wn){if(C?Ml(l):Pl(),wn){var Z=Cr,ue;if(ue=Z){e:{for(ue=Z,Z=ro;ue.nodeType!==8;){if(!Z){Z=null;break e}if(ue=Us(ue.nextSibling),ue===null){Z=null;break e}}Z=ue}Z!==null?(l.memoizedState={dehydrated:Z,treeContext:Dc!==null?{id:Po,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},ue=La(18,null,null,0),ue.stateNode=Z,ue.return=l,l.child=ue,ta=l,Cr=null,ue=!0):ue=!1}ue||kc(l)}if(Z=l.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Zy(Z)?l.lanes=32:l.lanes=536870912,null;Fo(l)}return Z=x.children,x=x.fallback,C?(Pl(),C=l.mode,Z=Y0({mode:"hidden",children:Z},C),x=Nc(x,C,h,null),Z.return=l,x.return=l,Z.sibling=x,l.child=Z,C=l.child,C.memoizedState=gy(h),C.childLanes=my(s,G,h),l.memoizedState=dy,x):(Ml(l),py(l,Z))}if(ue=s.memoizedState,ue!==null&&(Z=ue.dehydrated,Z!==null)){if(O)l.flags&256?(Ml(l),l.flags&=-257,l=yy(s,l,h)):l.memoizedState!==null?(Pl(),l.child=s.child,l.flags|=128,l=null):(Pl(),C=x.fallback,Z=l.mode,x=Y0({mode:"visible",children:x.children},Z),C=Nc(C,Z,h,null),C.flags|=2,x.return=l,C.return=l,x.sibling=C,l.child=x,Gu(l,s.child,null,h),x=l.child,x.memoizedState=gy(h),x.childLanes=my(s,G,h),l.memoizedState=dy,l=C);else if(Ml(l),Zy(Z)){if(G=Z.nextSibling&&Z.nextSibling.dataset,G)var xe=G.dgst;G=xe,x=Error(r(419)),x.stack="",x.digest=G,gh({value:x,source:null,stack:null}),l=yy(s,l,h)}else if(ui||mh(s,l,h,!1),G=(h&s.childLanes)!==0,ui||G){if(G=Yn,G!==null&&(x=h&-h,x=(x&42)!==0?1:rs(x),x=(x&(G.suspendedLanes|h))!==0?0:x,x!==0&&x!==ue.retryLane))throw ue.retryLane=x,Pu(s,x),Va(G,s,x),GS;Z.data==="$?"||ky(),l=yy(s,l,h)}else Z.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=ue.treeContext,Cr=Us(Z.nextSibling),ta=l,wn=!0,Pc=null,ro=!1,s!==null&&(gs[ms++]=Po,gs[ms++]=ko,gs[ms++]=Dc,Po=s.id,ko=s.overflow,Dc=l),l=py(l,x.children),l.flags|=4096);return l}return C?(Pl(),C=x.fallback,Z=l.mode,ue=s.child,xe=ue.sibling,x=Mo(ue,{mode:"hidden",children:x.children}),x.subtreeFlags=ue.subtreeFlags&65011712,xe!==null?C=Mo(xe,C):(C=Nc(C,Z,h,null),C.flags|=2),C.return=l,x.return=l,x.sibling=C,l.child=x,x=C,C=l.child,Z=s.child.memoizedState,Z===null?Z=gy(h):(ue=Z.cachePool,ue!==null?(xe=ei._currentValue,ue=ue.parent!==xe?{parent:xe,pool:xe}:ue):ue=UA(),Z={baseLanes:Z.baseLanes|h,cachePool:ue}),C.memoizedState=Z,C.childLanes=my(s,G,h),l.memoizedState=dy,x):(Ml(l),h=s.child,s=h.sibling,h=Mo(h,{mode:"visible",children:x.children}),h.return=l,h.sibling=null,s!==null&&(G=l.deletions,G===null?(l.deletions=[s],l.flags|=16):G.push(s)),l.child=h,l.memoizedState=null,h)}function py(s,l){return l=Y0({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Y0(s,l){return s=La(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function yy(s,l,h){return Gu(l,s.child,null,h),s=py(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function tC(s,l,h){s.lanes|=l;var x=s.alternate;x!==null&&(x.lanes|=l),kp(s.return,l,h)}function vy(s,l,h,x,C){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:C}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=h,O.tailMode=C)}function nC(s,l,h){var x=l.pendingProps,C=x.revealOrder,O=x.tail;if(Ci(s,l,x.children,h),x=ti.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tC(s,h,l);else if(s.tag===19)tC(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}switch(Le(ti,x),C){case"forwards":for(h=l.child,C=null;h!==null;)s=h.alternate,s!==null&&H0(s)===null&&(C=h),h=h.sibling;h=C,h===null?(C=l.child,l.child=null):(C=h.sibling,h.sibling=null),vy(l,!1,C,h,O);break;case"backwards":for(h=null,C=l.child,l.child=null;C!==null;){if(s=C.alternate,s!==null&&H0(s)===null){l.child=C;break}s=C.sibling,C.sibling=h,h=C,C=s}vy(l,!0,h,null,O);break;case"together":vy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Uo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),Fl|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(mh(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=Mo(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Mo(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function xy(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&T0(s)))}function D9(s,l,h){switch(l.tag){case 3:lt(l,l.stateNode.containerInfo),Il(l,ei,s.memoizedState.cache),dh();break;case 27:case 5:nt(l);break;case 4:lt(l,l.stateNode.containerInfo);break;case 10:Il(l,l.type,l.memoizedProps.value);break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(Ml(l),l.flags|=128,null):(h&l.child.childLanes)!==0?eC(s,l,h):(Ml(l),s=Uo(s,l,h),s!==null?s.sibling:null);Ml(l);break;case 19:var C=(s.flags&128)!==0;if(x=(h&l.childLanes)!==0,x||(mh(s,l,h,!1),x=(h&l.childLanes)!==0),C){if(x)return nC(s,l,h);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Le(ti,ti.current),x)break;return null;case 22:case 23:return l.lanes=0,XS(s,l,h);case 24:Il(l,ei,s.memoizedState.cache)}return Uo(s,l,h)}function rC(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)ui=!0;else{if(!xy(s,h)&&(l.flags&128)===0)return ui=!1,D9(s,l,h);ui=(s.flags&131072)!==0}else ui=!1,wn&&(l.flags&1048576)!==0&&MA(l,_0,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var x=l.elementType,C=x._init;if(x=C(x._payload),l.type=x,typeof x=="function")Ip(x)?(s=Uc(x,s),l.tag=1,l=ZS(null,l,x,s,h)):(l.tag=0,l=hy(null,l,x,s,h));else{if(x!=null){if(C=x.$$typeof,C===te){l.tag=11,l=WS(null,l,x,s,h);break e}else if(C===B){l.tag=14,l=YS(null,l,x,s,h);break e}}throw l=ae(x)||x,Error(r(306,l,""))}}return l;case 0:return hy(s,l,l.type,l.pendingProps,h);case 1:return x=l.type,C=Uc(x,l.pendingProps),ZS(s,l,x,C,h);case 3:e:{if(lt(l,l.stateNode.containerInfo),s===null)throw Error(r(387));x=l.pendingProps;var O=l.memoizedState;C=O.element,zp(s,l),Eh(l,x,null,h);var G=l.memoizedState;if(x=G.cache,Il(l,ei,x),x!==O.cache&&Lp(l,[ei],h,!0),wh(),x=G.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:G.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=JS(s,l,x,h);break e}else if(x!==C){C=hs(Error(r(424)),l),gh(C),l=JS(s,l,x,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Cr=Us(s.firstChild),ta=l,wn=!0,Pc=null,ro=!0,h=kS(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(dh(),x===C){l=Uo(s,l,h);break e}Ci(s,l,x,h)}l=l.child}return l;case 26:return W0(s,l),s===null?(h=o_(l.type,null,l.pendingProps,null))?l.memoizedState=h:wn||(h=l.type,s=l.pendingProps,x=og(Ne.current).createElement(h),x[Nr]=l,x[Dn]=s,Ti(x,h,s),mn(x),l.stateNode=x):l.memoizedState=o_(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return nt(l),s===null&&wn&&(x=l.stateNode=i_(l.type,l.pendingProps,Ne.current),ta=l,ro=!0,C=Cr,Hl(l.type)?(Jy=C,Cr=Us(x.firstChild)):Cr=C),Ci(s,l,l.pendingProps.children,h),W0(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&wn&&((C=x=Cr)&&(x=sk(x,l.type,l.pendingProps,ro),x!==null?(l.stateNode=x,ta=l,Cr=Us(x.firstChild),ro=!1,C=!0):C=!1),C||kc(l)),nt(l),C=l.type,O=l.pendingProps,G=s!==null?s.memoizedProps:null,x=O.children,Xy(C,O)?x=null:G!==null&&Xy(C,G)&&(l.flags|=32),l.memoizedState!==null&&(C=$p(s,l,S9,null,null,h),qh._currentValue=C),W0(s,l),Ci(s,l,x,h),l.child;case 6:return s===null&&wn&&((s=h=Cr)&&(h=ok(h,l.pendingProps,ro),h!==null?(l.stateNode=h,ta=l,Cr=null,s=!0):s=!1),s||kc(l)),null;case 13:return eC(s,l,h);case 4:return lt(l,l.stateNode.containerInfo),x=l.pendingProps,s===null?l.child=Gu(l,null,x,h):Ci(s,l,x,h),l.child;case 11:return WS(s,l,l.type,l.pendingProps,h);case 7:return Ci(s,l,l.pendingProps,h),l.child;case 8:return Ci(s,l,l.pendingProps.children,h),l.child;case 12:return Ci(s,l,l.pendingProps.children,h),l.child;case 10:return x=l.pendingProps,Il(l,l.type,x.value),Ci(s,l,x.children,h),l.child;case 9:return C=l.type._context,x=l.pendingProps.children,jc(l),C=Hi(C),x=x(C),l.flags|=1,Ci(s,l,x,h),l.child;case 14:return YS(s,l,l.type,l.pendingProps,h);case 15:return $S(s,l,l.type,l.pendingProps,h);case 19:return nC(s,l,h);case 31:return x=l.pendingProps,h=l.mode,x={mode:x.mode,children:x.children},s===null?(h=Y0(x,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Mo(s.child,x),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return XS(s,l,h);case 24:return jc(l),x=Hi(ei),s===null?(C=Fp(),C===null&&(C=Yn,O=jp(),C.pooledCache=O,O.refCount++,O!==null&&(C.pooledCacheLanes|=h),C=O),l.memoizedState={parent:x,cache:C},Vp(l),Il(l,ei,C)):((s.lanes&h)!==0&&(zp(s,l),Eh(l,null,null,h),wh()),C=s.memoizedState,O=l.memoizedState,C.parent!==x?(C={parent:x,cache:x},l.memoizedState=C,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=C),Il(l,ei,x)):(x=O.cache,Il(l,ei,x),x!==C.cache&&Lp(l,[ei],h,!0))),Ci(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Vo(s){s.flags|=4}function iC(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!h_(l)){if(l=ps.current,l!==null&&((ln&4194048)===ln?io!==null:(ln&62914560)!==ln&&(ln&536870912)===0||l!==io))throw xh=Up,VA;s.flags|=8192}}function $0(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?vl():536870912,s.lanes|=l,Xu|=l)}function Oh(s,l){if(!wn)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function xr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,x=0;if(l)for(var C=s.child;C!==null;)h|=C.lanes|C.childLanes,x|=C.subtreeFlags&65011712,x|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)h|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=x,s.childLanes=h,l}function M9(s,l,h){var x=l.pendingProps;switch(Dp(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(l),null;case 1:return xr(l),null;case 3:return h=l.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),jo(ei),Oe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(hh(l)?Vo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,LA())),xr(l),null;case 26:return h=l.memoizedState,s===null?(Vo(l),h!==null?(xr(l),iC(l,h)):(xr(l),l.flags&=-16777217)):h?h!==s.memoizedState?(Vo(l),xr(l),iC(l,h)):(xr(l),l.flags&=-16777217):(s.memoizedProps!==x&&Vo(l),xr(l),l.flags&=-16777217),null;case 27:st(l),h=Ne.current;var C=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Vo(l);else{if(!x){if(l.stateNode===null)throw Error(r(166));return xr(l),null}s=Ye.current,hh(l)?PA(l):(s=i_(C,x,h),l.stateNode=s,Vo(l))}return xr(l),null;case 5:if(st(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Vo(l);else{if(!x){if(l.stateNode===null)throw Error(r(166));return xr(l),null}if(s=Ye.current,hh(l))PA(l);else{switch(C=og(Ne.current),s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof x.is=="string"?C.createElement("select",{is:x.is}):C.createElement("select"),x.multiple?s.multiple=!0:x.size&&(s.size=x.size);break;default:s=typeof x.is=="string"?C.createElement(h,{is:x.is}):C.createElement(h)}}s[Nr]=l,s[Dn]=x;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=s;e:switch(Ti(s,h,x),h){case"button":case"input":case"select":case"textarea":s=!!x.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Vo(l)}}return xr(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==x&&Vo(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ne.current,hh(l)){if(s=l.stateNode,h=l.memoizedProps,x=null,C=ta,C!==null)switch(C.tag){case 27:case 5:x=C.memoizedProps}s[Nr]=l,s=!!(s.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||QC(s.nodeValue,h)),s||kc(l)}else s=og(s).createTextNode(x),s[Nr]=l,l.stateNode=s}return xr(l),null;case 13:if(x=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=hh(l),x!==null&&x.dehydrated!==null){if(s===null){if(!C)throw Error(r(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[Nr]=l}else dh(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;xr(l),C=!1}else C=LA(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return l.flags&256?(Fo(l),l):(Fo(l),null)}if(Fo(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=x!==null,s=s!==null&&s.memoizedState!==null,h){x=l.child,C=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(C=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==C&&(x.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),$0(l,l.updateQueue),xr(l),null;case 4:return Oe(),s===null&&qy(l.stateNode.containerInfo),xr(l),null;case 10:return jo(l.type),xr(l),null;case 19:if(Ie(ti),C=l.memoizedState,C===null)return xr(l),null;if(x=(l.flags&128)!==0,O=C.rendering,O===null)if(x)Oh(C,!1);else{if(_r!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(O=H0(s),O!==null){for(l.flags|=128,Oh(C,!1),s=O.updateQueue,l.updateQueue=s,$0(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)DA(h,s),h=h.sibling;return Le(ti,ti.current&1|2),l.child}s=s.sibling}C.tail!==null&&It()>Q0&&(l.flags|=128,x=!0,Oh(C,!1),l.lanes=4194304)}else{if(!x)if(s=H0(O),s!==null){if(l.flags|=128,x=!0,s=s.updateQueue,l.updateQueue=s,$0(l,s),Oh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!wn)return xr(l),null}else 2*It()-C.renderingStartTime>Q0&&h!==536870912&&(l.flags|=128,x=!0,Oh(C,!1),l.lanes=4194304);C.isBackwards?(O.sibling=l.child,l.child=O):(s=C.last,s!==null?s.sibling=O:l.child=O,C.last=O)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=It(),l.sibling=null,s=ti.current,Le(ti,x?s&1|2:s&1),l):(xr(l),null);case 22:case 23:return Fo(l),Wp(),x=l.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(h&536870912)!==0&&(l.flags&128)===0&&(xr(l),l.subtreeFlags&6&&(l.flags|=8192)):xr(l),h=l.updateQueue,h!==null&&$0(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==h&&(l.flags|=2048),s!==null&&Ie(Bc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),jo(ei),xr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function P9(s,l){switch(Dp(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return jo(ei),Oe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return st(l),null;case 13:if(Fo(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));dh()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Ie(ti),null;case 4:return Oe(),null;case 10:return jo(l.type),null;case 22:case 23:return Fo(l),Wp(),s!==null&&Ie(Bc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return jo(ei),null;case 25:return null;default:return null}}function aC(s,l){switch(Dp(l),l.tag){case 3:jo(ei),Oe();break;case 26:case 27:case 5:st(l);break;case 4:Oe();break;case 13:Fo(l);break;case 19:Ie(ti);break;case 10:jo(l.type);break;case 22:case 23:Fo(l),Wp(),s!==null&&Ie(Bc);break;case 24:jo(ei)}}function Rh(s,l){try{var h=l.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var C=x.next;h=C;do{if((h.tag&s)===s){x=void 0;var O=h.create,G=h.inst;x=O(),G.destroy=x}h=h.next}while(h!==C)}}catch(Z){zn(l,l.return,Z)}}function kl(s,l,h){try{var x=l.updateQueue,C=x!==null?x.lastEffect:null;if(C!==null){var O=C.next;x=O;do{if((x.tag&s)===s){var G=x.inst,Z=G.destroy;if(Z!==void 0){G.destroy=void 0,C=l;var ue=h,xe=Z;try{xe()}catch(Re){zn(C,ue,Re)}}}x=x.next}while(x!==O)}}catch(Re){zn(l,l.return,Re)}}function sC(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{YA(l,h)}catch(x){zn(s,s.return,x)}}}function oC(s,l,h){h.props=Uc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(x){zn(s,l,x)}}function Nh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof h=="function"?s.refCleanup=h(x):h.current=x}}catch(C){zn(s,l,C)}}function ao(s,l){var h=s.ref,x=s.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(C){zn(s,l,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(C){zn(s,l,C)}else h.current=null}function lC(s){var l=s.type,h=s.memoizedProps,x=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(C){zn(s,s.return,C)}}function by(s,l,h){try{var x=s.stateNode;tk(x,s.type,h,l),x[Dn]=l}catch(C){zn(s,s.return,C)}}function cC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Hl(s.type)||s.tag===4}function wy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Hl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ey(s,l,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=sg));else if(x!==4&&(x===27&&Hl(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(Ey(s,l,h),s=s.sibling;s!==null;)Ey(s,l,h),s=s.sibling}function X0(s,l,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(x!==4&&(x===27&&Hl(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(X0(s,l,h),s=s.sibling;s!==null;)X0(s,l,h),s=s.sibling}function uC(s){var l=s.stateNode,h=s.memoizedProps;try{for(var x=s.type,C=l.attributes;C.length;)l.removeAttributeNode(C[0]);Ti(l,x,h),l[Nr]=s,l[Dn]=h}catch(O){zn(s,s.return,O)}}var zo=!1,Lr=!1,Ay=!1,fC=typeof WeakSet=="function"?WeakSet:Set,fi=null;function k9(s,l){if(s=s.containerInfo,Yy=dg,s=N(s),j(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var C=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var G=0,Z=-1,ue=-1,xe=0,Re=0,je=s,Ee=null;t:for(;;){for(var Ce;je!==h||C!==0&&je.nodeType!==3||(Z=G+C),je!==O||x!==0&&je.nodeType!==3||(ue=G+x),je.nodeType===3&&(G+=je.nodeValue.length),(Ce=je.firstChild)!==null;)Ee=je,je=Ce;for(;;){if(je===s)break t;if(Ee===h&&++xe===C&&(Z=G),Ee===O&&++Re===x&&(ue=G),(Ce=je.nextSibling)!==null)break;je=Ee,Ee=je.parentNode}je=Ce}h=Z===-1||ue===-1?null:{start:Z,end:ue}}else h=null}h=h||{start:0,end:0}}else h=null;for($y={focusedElem:s,selectionRange:h},dg=!1,fi=l;fi!==null;)if(l=fi,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,fi=s;else for(;fi!==null;){switch(l=fi,O=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,h=l,C=O.memoizedProps,O=O.memoizedState,x=h.stateNode;try{var _t=Uc(h.type,C,h.elementType===h.type);s=x.getSnapshotBeforeUpdate(_t,O),x.__reactInternalSnapshotBeforeUpdate=s}catch(wt){zn(h,h.return,wt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)Qy(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Qy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,fi=s;break}fi=l.return}}function hC(s,l,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:Ll(s,h),x&4&&Rh(5,h);break;case 1:if(Ll(s,h),x&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(G){zn(h,h.return,G)}else{var C=Uc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(C,l,s.__reactInternalSnapshotBeforeUpdate)}catch(G){zn(h,h.return,G)}}x&64&&sC(h),x&512&&Nh(h,h.return);break;case 3:if(Ll(s,h),x&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{YA(s,l)}catch(G){zn(h,h.return,G)}}break;case 27:l===null&&x&4&&uC(h);case 26:case 5:Ll(s,h),l===null&&x&4&&lC(h),x&512&&Nh(h,h.return);break;case 12:Ll(s,h);break;case 13:Ll(s,h),x&4&&mC(s,h),x&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=q9.bind(null,h),lk(s,h))));break;case 22:if(x=h.memoizedState!==null||zo,!x){l=l!==null&&l.memoizedState!==null||Lr,C=zo;var O=Lr;zo=x,(Lr=l)&&!O?jl(s,h,(h.subtreeFlags&8772)!==0):Ll(s,h),zo=C,Lr=O}break;case 30:break;default:Ll(s,h)}}function dC(s){var l=s.alternate;l!==null&&(s.alternate=null,dC(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&is(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fr=null,va=!1;function Ho(s,l,h){for(h=h.child;h!==null;)gC(s,l,h),h=h.sibling}function gC(s,l,h){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Qt,h)}catch{}switch(h.tag){case 26:Lr||ao(h,l),Ho(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Lr||ao(h,l);var x=fr,C=va;Hl(h.type)&&(fr=h.stateNode,va=!1),Ho(s,l,h),Uh(h.stateNode),fr=x,va=C;break;case 5:Lr||ao(h,l);case 6:if(x=fr,C=va,fr=null,Ho(s,l,h),fr=x,va=C,fr!==null)if(va)try{(fr.nodeType===9?fr.body:fr.nodeName==="HTML"?fr.ownerDocument.body:fr).removeChild(h.stateNode)}catch(O){zn(h,l,O)}else try{fr.removeChild(h.stateNode)}catch(O){zn(h,l,O)}break;case 18:fr!==null&&(va?(s=fr,n_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),$h(s)):n_(fr,h.stateNode));break;case 4:x=fr,C=va,fr=h.stateNode.containerInfo,va=!0,Ho(s,l,h),fr=x,va=C;break;case 0:case 11:case 14:case 15:Lr||kl(2,h,l),Lr||kl(4,h,l),Ho(s,l,h);break;case 1:Lr||(ao(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"&&oC(h,l,x)),Ho(s,l,h);break;case 21:Ho(s,l,h);break;case 22:Lr=(x=Lr)||h.memoizedState!==null,Ho(s,l,h),Lr=x;break;default:Ho(s,l,h)}}function mC(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$h(s)}catch(h){zn(l,l.return,h)}}function L9(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new fC),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new fC),l;default:throw Error(r(435,s.tag))}}function Sy(s,l){var h=L9(s);l.forEach(function(x){var C=G9.bind(null,s,x);h.has(x)||(h.add(x),x.then(C,C))})}function ja(s,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var C=h[x],O=s,G=l,Z=G;e:for(;Z!==null;){switch(Z.tag){case 27:if(Hl(Z.type)){fr=Z.stateNode,va=!1;break e}break;case 5:fr=Z.stateNode,va=!1;break e;case 3:case 4:fr=Z.stateNode.containerInfo,va=!0;break e}Z=Z.return}if(fr===null)throw Error(r(160));gC(O,G,C),fr=null,va=!1,O=C.alternate,O!==null&&(O.return=null),C.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)pC(l,s),l=l.sibling}var Fs=null;function pC(s,l){var h=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ja(l,s),Ba(s),x&4&&(kl(3,s,s.return),Rh(3,s),kl(5,s,s.return));break;case 1:ja(l,s),Ba(s),x&512&&(Lr||h===null||ao(h,h.return)),x&64&&zo&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var C=Fs;if(ja(l,s),Ba(s),x&512&&(Lr||h===null||ao(h,h.return)),x&4){var O=h!==null?h.memoizedState:null;if(x=s.memoizedState,h===null)if(x===null)if(s.stateNode===null){e:{x=s.type,h=s.memoizedProps,C=C.ownerDocument||C;t:switch(x){case"title":O=C.getElementsByTagName("title")[0],(!O||O[ca]||O[Nr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=C.createElement(x),C.head.insertBefore(O,C.querySelector("head > title"))),Ti(O,x,h),O[Nr]=s,mn(O),x=O;break e;case"link":var G=u_("link","href",C).get(x+(h.href||""));if(G){for(var Z=0;Z<G.length;Z++)if(O=G[Z],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){G.splice(Z,1);break t}}O=C.createElement(x),Ti(O,x,h),C.head.appendChild(O);break;case"meta":if(G=u_("meta","content",C).get(x+(h.content||""))){for(Z=0;Z<G.length;Z++)if(O=G[Z],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){G.splice(Z,1);break t}}O=C.createElement(x),Ti(O,x,h),C.head.appendChild(O);break;default:throw Error(r(468,x))}O[Nr]=s,mn(O),x=O}s.stateNode=x}else f_(C,s.type,s.stateNode);else s.stateNode=c_(C,x,s.memoizedProps);else O!==x?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,x===null?f_(C,s.type,s.stateNode):c_(C,x,s.memoizedProps)):x===null&&s.stateNode!==null&&by(s,s.memoizedProps,h.memoizedProps)}break;case 27:ja(l,s),Ba(s),x&512&&(Lr||h===null||ao(h,h.return)),h!==null&&x&4&&by(s,s.memoizedProps,h.memoizedProps);break;case 5:if(ja(l,s),Ba(s),x&512&&(Lr||h===null||ao(h,h.return)),s.flags&32){C=s.stateNode;try{Jn(C,"")}catch(Ce){zn(s,s.return,Ce)}}x&4&&s.stateNode!=null&&(C=s.memoizedProps,by(s,C,h!==null?h.memoizedProps:C)),x&1024&&(Ay=!0);break;case 6:if(ja(l,s),Ba(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,h=s.stateNode;try{h.nodeValue=x}catch(Ce){zn(s,s.return,Ce)}}break;case 3:if(ug=null,C=Fs,Fs=lg(l.containerInfo),ja(l,s),Fs=C,Ba(s),x&4&&h!==null&&h.memoizedState.isDehydrated)try{$h(l.containerInfo)}catch(Ce){zn(s,s.return,Ce)}Ay&&(Ay=!1,yC(s));break;case 4:x=Fs,Fs=lg(s.stateNode.containerInfo),ja(l,s),Ba(s),Fs=x;break;case 12:ja(l,s),Ba(s);break;case 13:ja(l,s),Ba(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Ry=It()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Sy(s,x)));break;case 22:C=s.memoizedState!==null;var ue=h!==null&&h.memoizedState!==null,xe=zo,Re=Lr;if(zo=xe||C,Lr=Re||ue,ja(l,s),Lr=Re,zo=xe,Ba(s),x&8192)e:for(l=s.stateNode,l._visibility=C?l._visibility&-2:l._visibility|1,C&&(h===null||ue||zo||Lr||Vc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){ue=h=l;try{if(O=ue.stateNode,C)G=O.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{Z=ue.stateNode;var je=ue.memoizedProps.style,Ee=je!=null&&je.hasOwnProperty("display")?je.display:null;Z.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(Ce){zn(ue,ue.return,Ce)}}}else if(l.tag===6){if(h===null){ue=l;try{ue.stateNode.nodeValue=C?"":ue.memoizedProps}catch(Ce){zn(ue,ue.return,Ce)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=s.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,Sy(s,h))));break;case 19:ja(l,s),Ba(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Sy(s,x)));break;case 30:break;case 21:break;default:ja(l,s),Ba(s)}}function Ba(s){var l=s.flags;if(l&2){try{for(var h,x=s.return;x!==null;){if(cC(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var C=h.stateNode,O=wy(s);X0(s,O,C);break;case 5:var G=h.stateNode;h.flags&32&&(Jn(G,""),h.flags&=-33);var Z=wy(s);X0(s,Z,G);break;case 3:case 4:var ue=h.stateNode.containerInfo,xe=wy(s);Ey(s,xe,ue);break;default:throw Error(r(161))}}catch(Re){zn(s,s.return,Re)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function yC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;yC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ll(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)hC(s,l.alternate,l),l=l.sibling}function Vc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:kl(4,l,l.return),Vc(l);break;case 1:ao(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&oC(l,l.return,h),Vc(l);break;case 27:Uh(l.stateNode);case 26:case 5:ao(l,l.return),Vc(l);break;case 22:l.memoizedState===null&&Vc(l);break;case 30:Vc(l);break;default:Vc(l)}s=s.sibling}}function jl(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,C=s,O=l,G=O.flags;switch(O.tag){case 0:case 11:case 15:jl(C,O,h),Rh(4,O);break;case 1:if(jl(C,O,h),x=O,C=x.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(xe){zn(x,x.return,xe)}if(x=O,C=x.updateQueue,C!==null){var Z=x.stateNode;try{var ue=C.shared.hiddenCallbacks;if(ue!==null)for(C.shared.hiddenCallbacks=null,C=0;C<ue.length;C++)WA(ue[C],Z)}catch(xe){zn(x,x.return,xe)}}h&&G&64&&sC(O),Nh(O,O.return);break;case 27:uC(O);case 26:case 5:jl(C,O,h),h&&x===null&&G&4&&lC(O),Nh(O,O.return);break;case 12:jl(C,O,h);break;case 13:jl(C,O,h),h&&G&4&&mC(C,O);break;case 22:O.memoizedState===null&&jl(C,O,h),Nh(O,O.return);break;case 30:break;default:jl(C,O,h)}l=l.sibling}}function Cy(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&ph(h))}function _y(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ph(s))}function so(s,l,h,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vC(s,l,h,x),l=l.sibling}function vC(s,l,h,x){var C=l.flags;switch(l.tag){case 0:case 11:case 15:so(s,l,h,x),C&2048&&Rh(9,l);break;case 1:so(s,l,h,x);break;case 3:so(s,l,h,x),C&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&ph(s)));break;case 12:if(C&2048){so(s,l,h,x),s=l.stateNode;try{var O=l.memoizedProps,G=O.id,Z=O.onPostCommit;typeof Z=="function"&&Z(G,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ue){zn(l,l.return,ue)}}else so(s,l,h,x);break;case 13:so(s,l,h,x);break;case 23:break;case 22:O=l.stateNode,G=l.alternate,l.memoizedState!==null?O._visibility&2?so(s,l,h,x):Dh(s,l):O._visibility&2?so(s,l,h,x):(O._visibility|=2,Wu(s,l,h,x,(l.subtreeFlags&10256)!==0)),C&2048&&Cy(G,l);break;case 24:so(s,l,h,x),C&2048&&_y(l.alternate,l);break;default:so(s,l,h,x)}}function Wu(s,l,h,x,C){for(C=C&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var O=s,G=l,Z=h,ue=x,xe=G.flags;switch(G.tag){case 0:case 11:case 15:Wu(O,G,Z,ue,C),Rh(8,G);break;case 23:break;case 22:var Re=G.stateNode;G.memoizedState!==null?Re._visibility&2?Wu(O,G,Z,ue,C):Dh(O,G):(Re._visibility|=2,Wu(O,G,Z,ue,C)),C&&xe&2048&&Cy(G.alternate,G);break;case 24:Wu(O,G,Z,ue,C),C&&xe&2048&&_y(G.alternate,G);break;default:Wu(O,G,Z,ue,C)}l=l.sibling}}function Dh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,x=l,C=x.flags;switch(x.tag){case 22:Dh(h,x),C&2048&&Cy(x.alternate,x);break;case 24:Dh(h,x),C&2048&&_y(x.alternate,x);break;default:Dh(h,x)}l=l.sibling}}var Mh=8192;function Yu(s){if(s.subtreeFlags&Mh)for(s=s.child;s!==null;)xC(s),s=s.sibling}function xC(s){switch(s.tag){case 26:Yu(s),s.flags&Mh&&s.memoizedState!==null&&wk(Fs,s.memoizedState,s.memoizedProps);break;case 5:Yu(s);break;case 3:case 4:var l=Fs;Fs=lg(s.stateNode.containerInfo),Yu(s),Fs=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Mh,Mh=16777216,Yu(s),Mh=l):Yu(s));break;default:Yu(s)}}function bC(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Ph(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];fi=x,EC(x,s)}bC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wC(s),s=s.sibling}function wC(s){switch(s.tag){case 0:case 11:case 15:Ph(s),s.flags&2048&&kl(9,s,s.return);break;case 3:Ph(s);break;case 12:Ph(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,K0(s)):Ph(s);break;default:Ph(s)}}function K0(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];fi=x,EC(x,s)}bC(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:kl(8,l,l.return),K0(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,K0(l));break;default:K0(l)}s=s.sibling}}function EC(s,l){for(;fi!==null;){var h=fi;switch(h.tag){case 0:case 11:case 15:kl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:ph(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,fi=x;else e:for(h=s;fi!==null;){x=fi;var C=x.sibling,O=x.return;if(dC(x),x===h){fi=null;break e}if(C!==null){C.return=O,fi=C;break e}fi=O}}}var j9={getCacheForType:function(s){var l=Hi(ei),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},B9=typeof WeakMap=="function"?WeakMap:Map,In=0,Yn=null,$t=null,ln=0,On=0,Fa=null,Bl=!1,$u=!1,Ty=!1,qo=0,_r=0,Fl=0,zc=0,Iy=0,ys=0,Xu=0,kh=null,xa=null,Oy=!1,Ry=0,Q0=1/0,Z0=null,Ul=null,_i=0,Vl=null,Ku=null,Qu=0,Ny=0,Dy=null,AC=null,Lh=0,My=null;function Ua(){if((In&2)!==0&&ln!==0)return ln&-ln;if(le.T!==null){var s=Bu;return s!==0?s:Uy()}return Zi()}function SC(){ys===0&&(ys=(ln&536870912)===0||wn?Co():536870912);var s=ps.current;return s!==null&&(s.flags|=32),ys}function Va(s,l,h){(s===Yn&&(On===2||On===9)||s.cancelPendingCommit!==null)&&(Zu(s,0),zl(s,ln,ys,!1)),xi(s,h),((In&2)===0||s!==Yn)&&(s===Yn&&((In&2)===0&&(zc|=h),_r===4&&zl(s,ln,ys,!1)),oo(s))}function CC(s,l,h){if((In&6)!==0)throw Error(r(327));var x=!h&&(l&124)===0&&(l&s.expiredLanes)===0||gn(s,l),C=x?V9(s,l):Ly(s,l,!0),O=x;do{if(C===0){$u&&!x&&zl(s,l,0,!1);break}else{if(h=s.current.alternate,O&&!F9(h)){C=Ly(s,l,!1),O=!1;continue}if(C===2){if(O=l,s.errorRecoveryDisabledLanes&O)var G=0;else G=s.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){l=G;e:{var Z=s;C=kh;var ue=Z.current.memoizedState.isDehydrated;if(ue&&(Zu(Z,G).flags|=256),G=Ly(Z,G,!1),G!==2){if(Ty&&!ue){Z.errorRecoveryDisabledLanes|=O,zc|=O,C=4;break e}O=xa,xa=C,O!==null&&(xa===null?xa=O:xa.push.apply(xa,O))}C=G}if(O=!1,C!==2)continue}}if(C===1){Zu(s,0),zl(s,l,0,!0);break}e:{switch(x=s,O=C,O){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:zl(x,l,ys,!Bl);break e;case 2:xa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(C=Ry+300-It(),10<C)){if(zl(x,l,ys,!Bl),Gt(x,0,!0)!==0)break e;x.timeoutHandle=e_(_C.bind(null,x,h,xa,Z0,Oy,l,ys,zc,Xu,Bl,O,2,-0,0),C);break e}_C(x,h,xa,Z0,Oy,l,ys,zc,Xu,Bl,O,0,-0,0)}}break}while(!0);oo(s)}function _C(s,l,h,x,C,O,G,Z,ue,xe,Re,je,Ee,Ce){if(s.timeoutHandle=-1,je=l.subtreeFlags,(je&8192||(je&16785408)===16785408)&&(Hh={stylesheets:null,count:0,unsuspend:bk},xC(l),je=Ek(),je!==null)){s.cancelPendingCommit=je(MC.bind(null,s,l,O,h,x,C,G,Z,ue,Re,1,Ee,Ce)),zl(s,O,G,!xe);return}MC(s,l,O,h,x,C,G,Z,ue)}function F9(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var C=h[x],O=C.getSnapshot;C=C.value;try{if(!p(O(),C))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function zl(s,l,h,x){l&=~Iy,l&=~zc,s.suspendedLanes|=l,s.pingedLanes&=~l,x&&(s.warmLanes|=l),x=s.expirationTimes;for(var C=l;0<C;){var O=31-on(C),G=1<<O;x[O]=-1,C&=~G}h!==0&&Ta(s,h,l)}function J0(){return(In&6)===0?(jh(0),!1):!0}function Py(){if($t!==null){if(On===0)var s=$t.return;else s=$t,Lo=Lc=null,Qp(s),qu=null,Th=0,s=$t;for(;s!==null;)aC(s.alternate,s),s=s.return;$t=null}}function Zu(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,rk(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Py(),Yn=s,$t=h=Mo(s.current,null),ln=l,On=0,Fa=null,Bl=!1,$u=gn(s,l),Ty=!1,Xu=ys=Iy=zc=Fl=_r=0,xa=kh=null,Oy=!1,(l&8)!==0&&(l|=l&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=l;0<x;){var C=31-on(x),O=1<<C;l|=s[C],x&=~O}return qo=l,w0(),h}function TC(s,l){qt=null,le.H=U0,l===vh||l===R0?(l=qA(),On=3):l===VA?(l=qA(),On=4):On=l===GS?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Fa=l,$t===null&&(_r=1,G0(s,hs(l,s.current)))}function IC(){var s=le.H;return le.H=U0,s===null?U0:s}function OC(){var s=le.A;return le.A=j9,s}function ky(){_r=4,Bl||(ln&4194048)!==ln&&ps.current!==null||($u=!0),(Fl&134217727)===0&&(zc&134217727)===0||Yn===null||zl(Yn,ln,ys,!1)}function Ly(s,l,h){var x=In;In|=2;var C=IC(),O=OC();(Yn!==s||ln!==l)&&(Z0=null,Zu(s,l)),l=!1;var G=_r;e:do try{if(On!==0&&$t!==null){var Z=$t,ue=Fa;switch(On){case 8:Py(),G=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(l=!0);var xe=On;if(On=0,Fa=null,Ju(s,Z,ue,xe),h&&$u){G=0;break e}break;default:xe=On,On=0,Fa=null,Ju(s,Z,ue,xe)}}U9(),G=_r;break}catch(Re){TC(s,Re)}while(!0);return l&&s.shellSuspendCounter++,Lo=Lc=null,In=x,le.H=C,le.A=O,$t===null&&(Yn=null,ln=0,w0()),G}function U9(){for(;$t!==null;)RC($t)}function V9(s,l){var h=In;In|=2;var x=IC(),C=OC();Yn!==s||ln!==l?(Z0=null,Q0=It()+500,Zu(s,l)):$u=gn(s,l);e:do try{if(On!==0&&$t!==null){l=$t;var O=Fa;t:switch(On){case 1:On=0,Fa=null,Ju(s,l,O,1);break;case 2:case 9:if(zA(O)){On=0,Fa=null,NC(l);break}l=function(){On!==2&&On!==9||Yn!==s||(On=7),oo(s)},O.then(l,l);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:zA(O)?(On=0,Fa=null,NC(l)):(On=0,Fa=null,Ju(s,l,O,7));break;case 5:var G=null;switch($t.tag){case 26:G=$t.memoizedState;case 5:case 27:var Z=$t;if(!G||h_(G)){On=0,Fa=null;var ue=Z.sibling;if(ue!==null)$t=ue;else{var xe=Z.return;xe!==null?($t=xe,eg(xe)):$t=null}break t}}On=0,Fa=null,Ju(s,l,O,5);break;case 6:On=0,Fa=null,Ju(s,l,O,6);break;case 8:Py(),_r=6;break e;default:throw Error(r(462))}}z9();break}catch(Re){TC(s,Re)}while(!0);return Lo=Lc=null,le.H=x,le.A=C,In=h,$t!==null?0:(Yn=null,ln=0,w0(),_r)}function z9(){for(;$t!==null&&!ht();)RC($t)}function RC(s){var l=rC(s.alternate,s,qo);s.memoizedProps=s.pendingProps,l===null?eg(s):$t=l}function NC(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=QS(h,l,l.pendingProps,l.type,void 0,ln);break;case 11:l=QS(h,l,l.pendingProps,l.type.render,l.ref,ln);break;case 5:Qp(l);default:aC(h,l),l=$t=DA(l,qo),l=rC(h,l,qo)}s.memoizedProps=s.pendingProps,l===null?eg(s):$t=l}function Ju(s,l,h,x){Lo=Lc=null,Qp(l),qu=null,Th=0;var C=l.return;try{if(N9(s,C,l,h,ln)){_r=1,G0(s,hs(h,s.current)),$t=null;return}}catch(O){if(C!==null)throw $t=C,O;_r=1,G0(s,hs(h,s.current)),$t=null;return}l.flags&32768?(wn||x===1?s=!0:$u||(ln&536870912)!==0?s=!1:(Bl=s=!0,(x===2||x===9||x===3||x===6)&&(x=ps.current,x!==null&&x.tag===13&&(x.flags|=16384))),DC(l,s)):eg(l)}function eg(s){var l=s;do{if((l.flags&32768)!==0){DC(l,Bl);return}s=l.return;var h=M9(l.alternate,l,qo);if(h!==null){$t=h;return}if(l=l.sibling,l!==null){$t=l;return}$t=l=s}while(l!==null);_r===0&&(_r=5)}function DC(s,l){do{var h=P9(s.alternate,s);if(h!==null){h.flags&=32767,$t=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){$t=s;return}$t=s=h}while(s!==null);_r=6,$t=null}function MC(s,l,h,x,C,O,G,Z,ue){s.cancelPendingCommit=null;do tg();while(_i!==0);if((In&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(O=l.lanes|l.childLanes,O|=_p,xl(s,h,O,G,Z,ue),s===Yn&&($t=Yn=null,ln=0),Ku=l,Vl=s,Qu=h,Ny=O,Dy=C,AC=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,W9($e,function(){return BC(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=le.T,le.T=null,C=ce.p,ce.p=2,G=In,In|=4;try{k9(s,l,h)}finally{In=G,ce.p=C,le.T=x}}_i=1,PC(),kC(),LC()}}function PC(){if(_i===1){_i=0;var s=Vl,l=Ku,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=le.T,le.T=null;var x=ce.p;ce.p=2;var C=In;In|=4;try{pC(l,s);var O=$y,G=N(s.containerInfo),Z=O.focusedElem,ue=O.selectionRange;if(G!==Z&&Z&&Z.ownerDocument&&_(Z.ownerDocument.documentElement,Z)){if(ue!==null&&j(Z)){var xe=ue.start,Re=ue.end;if(Re===void 0&&(Re=xe),"selectionStart"in Z)Z.selectionStart=xe,Z.selectionEnd=Math.min(Re,Z.value.length);else{var je=Z.ownerDocument||document,Ee=je&&je.defaultView||window;if(Ee.getSelection){var Ce=Ee.getSelection(),_t=Z.textContent.length,wt=Math.min(ue.start,_t),kn=ue.end===void 0?wt:Math.min(ue.end,_t);!Ce.extend&&wt>kn&&(G=kn,kn=wt,wt=G);var ge=E(Z,wt),de=E(Z,kn);if(ge&&de&&(Ce.rangeCount!==1||Ce.anchorNode!==ge.node||Ce.anchorOffset!==ge.offset||Ce.focusNode!==de.node||Ce.focusOffset!==de.offset)){var ve=je.createRange();ve.setStart(ge.node,ge.offset),Ce.removeAllRanges(),wt>kn?(Ce.addRange(ve),Ce.extend(de.node,de.offset)):(ve.setEnd(de.node,de.offset),Ce.addRange(ve))}}}}for(je=[],Ce=Z;Ce=Ce.parentNode;)Ce.nodeType===1&&je.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<je.length;Z++){var Me=je[Z];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}dg=!!Yy,$y=Yy=null}finally{In=C,ce.p=x,le.T=h}}s.current=l,_i=2}}function kC(){if(_i===2){_i=0;var s=Vl,l=Ku,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=le.T,le.T=null;var x=ce.p;ce.p=2;var C=In;In|=4;try{hC(s,l.alternate,l)}finally{In=C,ce.p=x,le.T=h}}_i=3}}function LC(){if(_i===4||_i===3){_i=0,hn();var s=Vl,l=Ku,h=Qu,x=AC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?_i=5:(_i=0,Ku=Vl=null,jC(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(Ul=null),vr(h),l=l.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Qt,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=le.T,C=ce.p,ce.p=2,le.T=null;try{for(var O=s.onRecoverableError,G=0;G<x.length;G++){var Z=x[G];O(Z.value,{componentStack:Z.stack})}}finally{le.T=l,ce.p=C}}(Qu&3)!==0&&tg(),oo(s),C=s.pendingLanes,(h&4194090)!==0&&(C&42)!==0?s===My?Lh++:(Lh=0,My=s):Lh=0,jh(0)}}function jC(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,ph(l)))}function tg(s){return PC(),kC(),LC(),BC()}function BC(){if(_i!==5)return!1;var s=Vl,l=Ny;Ny=0;var h=vr(Qu),x=le.T,C=ce.p;try{ce.p=32>h?32:h,le.T=null,h=Dy,Dy=null;var O=Vl,G=Qu;if(_i=0,Ku=Vl=null,Qu=0,(In&6)!==0)throw Error(r(331));var Z=In;if(In|=4,wC(O.current),vC(O,O.current,G,h),In=Z,jh(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Qt,O)}catch{}return!0}finally{ce.p=C,le.T=x,jC(s,l)}}function FC(s,l,h){l=hs(h,l),l=fy(s.stateNode,l,2),s=Nl(s,l,2),s!==null&&(xi(s,2),oo(s))}function zn(s,l,h){if(s.tag===3)FC(s,s,h);else for(;l!==null;){if(l.tag===3){FC(l,s,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ul===null||!Ul.has(x))){s=hs(h,s),h=HS(2),x=Nl(l,h,2),x!==null&&(qS(h,x,l,s),xi(x,2),oo(x));break}}l=l.return}}function jy(s,l,h){var x=s.pingCache;if(x===null){x=s.pingCache=new B9;var C=new Set;x.set(l,C)}else C=x.get(l),C===void 0&&(C=new Set,x.set(l,C));C.has(h)||(Ty=!0,C.add(h),s=H9.bind(null,s,l,h),l.then(s,s))}function H9(s,l,h){var x=s.pingCache;x!==null&&x.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Yn===s&&(ln&h)===h&&(_r===4||_r===3&&(ln&62914560)===ln&&300>It()-Ry?(In&2)===0&&Zu(s,0):Iy|=h,Xu===ln&&(Xu=0)),oo(s)}function UC(s,l){l===0&&(l=vl()),s=Pu(s,l),s!==null&&(xi(s,l),oo(s))}function q9(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),UC(s,h)}function G9(s,l){var h=0;switch(s.tag){case 13:var x=s.stateNode,C=s.memoizedState;C!==null&&(h=C.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(l),UC(s,h)}function W9(s,l){return Je(s,l)}var ng=null,ef=null,By=!1,rg=!1,Fy=!1,Hc=0;function oo(s){s!==ef&&s.next===null&&(ef===null?ng=ef=s:ef=ef.next=s),rg=!0,By||(By=!0,$9())}function jh(s,l){if(!Fy&&rg){Fy=!0;do for(var h=!1,x=ng;x!==null;){if(s!==0){var C=x.pendingLanes;if(C===0)var O=0;else{var G=x.suspendedLanes,Z=x.pingedLanes;O=(1<<31-on(42|s)+1)-1,O&=C&~(G&~Z),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,qC(x,O))}else O=ln,O=Gt(x,x===Yn?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||gn(x,O)||(h=!0,qC(x,O));x=x.next}while(h);Fy=!1}}function Y9(){VC()}function VC(){rg=By=!1;var s=0;Hc!==0&&(nk()&&(s=Hc),Hc=0);for(var l=It(),h=null,x=ng;x!==null;){var C=x.next,O=zC(x,l);O===0?(x.next=null,h===null?ng=C:h.next=C,C===null&&(ef=h)):(h=x,(s!==0||(O&3)!==0)&&(rg=!0)),x=C}jh(s)}function zC(s,l){for(var h=s.suspendedLanes,x=s.pingedLanes,C=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var G=31-on(O),Z=1<<G,ue=C[G];ue===-1?((Z&h)===0||(Z&x)!==0)&&(C[G]=Ms(Z,l)):ue<=l&&(s.expiredLanes|=Z),O&=~Z}if(l=Yn,h=ln,h=Gt(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,h===0||s===l&&(On===2||On===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Qe(x),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||gn(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(x!==null&&Qe(x),vr(h)){case 2:case 8:h=Pt;break;case 32:h=$e;break;case 268435456:h=Ur;break;default:h=$e}return x=HC.bind(null,s),h=Je(h,x),s.callbackPriority=l,s.callbackNode=h,l}return x!==null&&x!==null&&Qe(x),s.callbackPriority=2,s.callbackNode=null,2}function HC(s,l){if(_i!==0&&_i!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(tg()&&s.callbackNode!==h)return null;var x=ln;return x=Gt(s,s===Yn?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(CC(s,x,l),zC(s,It()),s.callbackNode!=null&&s.callbackNode===h?HC.bind(null,s):null)}function qC(s,l){if(tg())return null;CC(s,l,!0)}function $9(){ik(function(){(In&6)!==0?Je(At,Y9):VC()})}function Uy(){return Hc===0&&(Hc=Co()),Hc}function GC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Sl(""+s)}function WC(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function X9(s,l,h,x,C){if(l==="submit"&&h&&h.stateNode===C){var O=GC((C[Dn]||null).action),G=x.submitter;G&&(l=(l=G[Dn]||null)?GC(l.formAction):G.getAttribute("formAction"),l!==null&&(O=l,G=null));var Z=new fs("action","action",null,x,C);s.push({event:Z,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Hc!==0){var ue=G?WC(C,G):new FormData(C);sy(h,{pending:!0,data:ue,method:C.method,action:O},null,ue)}}else typeof O=="function"&&(Z.preventDefault(),ue=G?WC(C,G):new FormData(C),sy(h,{pending:!0,data:ue,method:C.method,action:O},O,ue))},currentTarget:C}]})}}for(var Vy=0;Vy<no.length;Vy++){var zy=no[Vy],K9=zy.toLowerCase(),Q9=zy[0].toUpperCase()+zy.slice(1);ka(K9,"on"+Q9)}ka(Ot,"onAnimationEnd"),ka(Si,"onAnimationIteration"),ka(pa,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(Vi,"onTransitionRun"),ka(Tn,"onTransitionStart"),ka(Jr,"onTransitionCancel"),ka(zi,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function YC(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var x=s[h],C=x.event;x=x.listeners;e:{var O=void 0;if(l)for(var G=x.length-1;0<=G;G--){var Z=x[G],ue=Z.instance,xe=Z.currentTarget;if(Z=Z.listener,ue!==O&&C.isPropagationStopped())break e;O=Z,C.currentTarget=xe;try{O(C)}catch(Re){q0(Re)}C.currentTarget=null,O=ue}else for(G=0;G<x.length;G++){if(Z=x[G],ue=Z.instance,xe=Z.currentTarget,Z=Z.listener,ue!==O&&C.isPropagationStopped())break e;O=Z,C.currentTarget=xe;try{O(C)}catch(Re){q0(Re)}C.currentTarget=null,O=ue}}}}function Xt(s,l){var h=l[Vr];h===void 0&&(h=l[Vr]=new Set);var x=s+"__bubble";h.has(x)||($C(l,s,2,!1),h.add(x))}function Hy(s,l,h){var x=0;l&&(x|=4),$C(h,s,x,l)}var ig="_reactListening"+Math.random().toString(36).slice(2);function qy(s){if(!s[ig]){s[ig]=!0,Tc.forEach(function(h){h!=="selectionchange"&&(Z9.has(h)||Hy(h,!1,s),Hy(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[ig]||(l[ig]=!0,Hy("selectionchange",!1,l))}}function $C(s,l,h,x){switch(v_(l)){case 2:var C=Ck;break;case 8:C=_k;break;default:C=iv}h=C.bind(null,l,h,s),C=void 0,!xt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),x?C!==void 0?s.addEventListener(l,h,{capture:!0,passive:C}):s.addEventListener(l,h,!0):C!==void 0?s.addEventListener(l,h,{passive:C}):s.addEventListener(l,h,!1)}function Gy(s,l,h,x,C){var O=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var G=x.tag;if(G===3||G===4){var Z=x.stateNode.containerInfo;if(Z===C)break;if(G===4)for(G=x.return;G!==null;){var ue=G.tag;if((ue===3||ue===4)&&G.stateNode.containerInfo===C)return;G=G.return}for(;Z!==null;){if(G=ar(Z),G===null)return;if(ue=G.tag,ue===5||ue===6||ue===26||ue===27){x=O=G;continue e}Z=Z.parentNode}}x=x.return}Ra(function(){var xe=O,Re=Ei(h),je=[];e:{var Ee=Do.get(s);if(Ee!==void 0){var Ce=fs,_t=s;switch(s){case"keypress":if(us(h)===0)break e;case"keydown":case"keyup":Ce=eo;break;case"focusin":_t="focus",Ce=js;break;case"focusout":_t="blur",Ce=js;break;case"beforeblur":case"afterblur":Ce=js;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=yn;break;case Ot:case Si:case pa:Ce=Cl;break;case zi:Ce=Ou;break;case"scroll":case"scrollend":Ce=Zr;break;case"wheel":Ce=da;break;case"copy":case"cut":case"paste":Ce=Tt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=to;break;case"toggle":case"beforetoggle":Ce=Ru}var wt=(l&4)!==0,kn=!wt&&(s==="scroll"||s==="scrollend"),ge=wt?Ee!==null?Ee+"Capture":null:Ee;wt=[];for(var de=xe,ve;de!==null;){var Me=de;if(ve=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||ve===null||ge===null||(Me=dt(de,ge),Me!=null&&wt.push(Fh(de,Me,ve))),kn)break;de=de.return}0<wt.length&&(Ee=new Ce(Ee,_t,null,h,Re),je.push({event:Ee,listeners:wt}))}}if((l&7)===0){e:{if(Ee=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",Ee&&h!==Ia&&(_t=h.relatedTarget||h.fromElement)&&(ar(_t)||_t[Li]))break e;if((Ce||Ee)&&(Ee=Re.window===Re?Re:(Ee=Re.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Ce?(_t=h.relatedTarget||h.toElement,Ce=xe,_t=_t?ar(_t):null,_t!==null&&(kn=a(_t),wt=_t.tag,_t!==kn||wt!==5&&wt!==27&&wt!==6)&&(_t=null)):(Ce=null,_t=xe),Ce!==_t)){if(wt=fa,Me="onMouseLeave",ge="onMouseEnter",de="mouse",(s==="pointerout"||s==="pointerover")&&(wt=to,Me="onPointerLeave",ge="onPointerEnter",de="pointer"),kn=Ce==null?Ee:Ji(Ce),ve=_t==null?Ee:Ji(_t),Ee=new wt(Me,de+"leave",Ce,h,Re),Ee.target=kn,Ee.relatedTarget=ve,Me=null,ar(Re)===xe&&(wt=new wt(ge,de+"enter",_t,h,Re),wt.target=ve,wt.relatedTarget=kn,Me=wt),kn=Me,Ce&&_t)t:{for(wt=Ce,ge=_t,de=0,ve=wt;ve;ve=tf(ve))de++;for(ve=0,Me=ge;Me;Me=tf(Me))ve++;for(;0<de-ve;)wt=tf(wt),de--;for(;0<ve-de;)ge=tf(ge),ve--;for(;de--;){if(wt===ge||ge!==null&&wt===ge.alternate)break t;wt=tf(wt),ge=tf(ge)}wt=null}else wt=null;Ce!==null&&XC(je,Ee,Ce,wt,!1),_t!==null&&kn!==null&&XC(je,kn,_t,wt,!0)}}e:{if(Ee=xe?Ji(xe):window,Ce=Ee.nodeName&&Ee.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Ee.type==="file")var it=x0;else if(ur(Ee))if(uh)it=c;else{it=W;var Yt=Du}else Ce=Ee.nodeName,!Ce||Ce.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?xe&&ut(xe.elementType)&&(it=x0):it=o;if(it&&(it=it(s,xe))){Sr(je,it,h,Re);break e}Yt&&Yt(s,Ee,xe),s==="focusout"&&xe&&Ee.type==="number"&&xe.memoizedProps.value!=null&&me(Ee,"number",Ee.value)}switch(Yt=xe?Ji(xe):window,s){case"focusin":(ur(Yt)||Yt.contentEditable==="true")&&(Q=Yt,se=xe,fe=null);break;case"focusout":fe=se=Q=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,ye(je,h,Re);break;case"selectionchange":if(Y)break;case"keydown":case"keyup":ye(je,h,Re)}var gt;if(ga)e:{switch(s){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Zt?_e(s,h)&&(Et="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Et="onCompositionStart");Et&&(V&&h.locale!=="ko"&&(Zt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Zt&&(gt=Da()):(os=Re,ls="value"in os?os.value:os.textContent,Zt=!0)),Yt=ag(xe,Et),0<Yt.length&&(Et=new Zs(Et,s,null,h,Re),je.push({event:Et,listeners:Yt}),gt?Et.data=gt:(gt=Ge(h),gt!==null&&(Et.data=gt)))),(gt=k?tr(s,h):Jt(s,h))&&(Et=ag(xe,"onBeforeInput"),0<Et.length&&(Yt=new Zs("onBeforeInput","beforeinput",null,h,Re),je.push({event:Yt,listeners:Et}),Yt.data=gt)),X9(je,s,xe,h,Re)}YC(je,l)})}function Fh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function ag(s,l){for(var h=l+"Capture",x=[];s!==null;){var C=s,O=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||O===null||(C=dt(s,h),C!=null&&x.unshift(Fh(s,C,O)),C=dt(s,l),C!=null&&x.push(Fh(s,C,O))),s.tag===3)return x;s=s.return}return[]}function tf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function XC(s,l,h,x,C){for(var O=l._reactName,G=[];h!==null&&h!==x;){var Z=h,ue=Z.alternate,xe=Z.stateNode;if(Z=Z.tag,ue!==null&&ue===x)break;Z!==5&&Z!==26&&Z!==27||xe===null||(ue=xe,C?(xe=dt(h,O),xe!=null&&G.unshift(Fh(h,xe,ue))):C||(xe=dt(h,O),xe!=null&&G.push(Fh(h,xe,ue)))),h=h.return}G.length!==0&&s.push({event:l,listeners:G})}var J9=/\r\n?/g,ek=/\u0000|\uFFFD/g;function KC(s){return(typeof s=="string"?s:""+s).replace(J9,`
`).replace(ek,"")}function QC(s,l){return l=KC(l),KC(s)===l}function sg(){}function Pn(s,l,h,x,C,O){switch(h){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||Jn(s,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&Jn(s,""+x);break;case"className":as(s,"class",x);break;case"tabIndex":as(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":as(s,h,x);break;case"style":ci(s,x,O);break;case"data":if(l!=="object"){as(s,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=Sl(""+x),s.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(l!=="input"&&Pn(s,l,"name",C.name,C,null),Pn(s,l,"formEncType",C.formEncType,C,null),Pn(s,l,"formMethod",C.formMethod,C,null),Pn(s,l,"formTarget",C.formTarget,C,null)):(Pn(s,l,"encType",C.encType,C,null),Pn(s,l,"method",C.method,C,null),Pn(s,l,"target",C.target,C,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=Sl(""+x),s.setAttribute(h,x);break;case"onClick":x!=null&&(s.onclick=sg);break;case"onScroll":x!=null&&Xt("scroll",s);break;case"onScrollEnd":x!=null&&Xt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(C.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}h=Sl(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""+x):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":x===!0?s.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,x):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(h,x):s.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(h):s.setAttribute(h,x);break;case"popover":Xt("beforetoggle",s),Xt("toggle",s),ke(s,"popover",x);break;case"xlinkActuate":Ft(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Ft(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Ft(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Ft(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Ft(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Ft(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ke(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Fn.get(h)||h,ke(s,h,x))}}function Wy(s,l,h,x,C,O){switch(h){case"style":ci(s,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(C.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof x=="string"?Jn(s,x):(typeof x=="number"||typeof x=="bigint")&&Jn(s,""+x);break;case"onScroll":x!=null&&Xt("scroll",s);break;case"onScrollEnd":x!=null&&Xt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=sg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(C=h.endsWith("Capture"),l=h.slice(2,C?h.length-7:void 0),O=s[Dn]||null,O=O!=null?O[h]:null,typeof O=="function"&&s.removeEventListener(l,O,C),typeof x=="function")){typeof O!="function"&&O!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,x,C);break e}h in s?s[h]=x:x===!0?s.setAttribute(h,""):ke(s,h,x)}}}function Ti(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",s),Xt("load",s);var x=!1,C=!1,O;for(O in h)if(h.hasOwnProperty(O)){var G=h[O];if(G!=null)switch(O){case"src":x=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pn(s,l,O,G,h,null)}}C&&Pn(s,l,"srcSet",h.srcSet,h,null),x&&Pn(s,l,"src",h.src,h,null);return;case"input":Xt("invalid",s);var Z=O=G=C=null,ue=null,xe=null;for(x in h)if(h.hasOwnProperty(x)){var Re=h[x];if(Re!=null)switch(x){case"name":C=Re;break;case"type":G=Re;break;case"checked":ue=Re;break;case"defaultChecked":xe=Re;break;case"value":O=Re;break;case"defaultValue":Z=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,l));break;default:Pn(s,l,x,Re,h,null)}}sr(s,O,Z,ue,xe,G,C,!1),El(s);return;case"select":Xt("invalid",s),x=G=O=null;for(C in h)if(h.hasOwnProperty(C)&&(Z=h[C],Z!=null))switch(C){case"value":O=Z;break;case"defaultValue":G=Z;break;case"multiple":x=Z;default:Pn(s,l,C,Z,h,null)}l=O,h=G,s.multiple=!!x,l!=null?ie(s,!!x,l,!1):h!=null&&ie(s,!!x,h,!0);return;case"textarea":Xt("invalid",s),O=C=x=null;for(G in h)if(h.hasOwnProperty(G)&&(Z=h[G],Z!=null))switch(G){case"value":x=Z;break;case"defaultValue":C=Z;break;case"children":O=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:Pn(s,l,G,Z,h,null)}Wn(s,x,C,O),El(s);return;case"option":for(ue in h)if(h.hasOwnProperty(ue)&&(x=h[ue],x!=null))switch(ue){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Pn(s,l,ue,x,h,null)}return;case"dialog":Xt("beforetoggle",s),Xt("toggle",s),Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":Xt("load",s);break;case"video":case"audio":for(x=0;x<Bh.length;x++)Xt(Bh[x],s);break;case"image":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"embed":case"source":case"link":Xt("error",s),Xt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in h)if(h.hasOwnProperty(xe)&&(x=h[xe],x!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Pn(s,l,xe,x,h,null)}return;default:if(ut(l)){for(Re in h)h.hasOwnProperty(Re)&&(x=h[Re],x!==void 0&&Wy(s,l,Re,x,h,void 0));return}}for(Z in h)h.hasOwnProperty(Z)&&(x=h[Z],x!=null&&Pn(s,l,Z,x,h,null))}function tk(s,l,h,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,O=null,G=null,Z=null,ue=null,xe=null,Re=null;for(Ce in h){var je=h[Ce];if(h.hasOwnProperty(Ce)&&je!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ue=je;default:x.hasOwnProperty(Ce)||Pn(s,l,Ce,null,x,je)}}for(var Ee in x){var Ce=x[Ee];if(je=h[Ee],x.hasOwnProperty(Ee)&&(Ce!=null||je!=null))switch(Ee){case"type":O=Ce;break;case"name":C=Ce;break;case"checked":xe=Ce;break;case"defaultChecked":Re=Ce;break;case"value":G=Ce;break;case"defaultValue":Z=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,l));break;default:Ce!==je&&Pn(s,l,Ee,Ce,x,je)}}Vt(s,G,Z,ue,xe,Re,O,C);return;case"select":Ce=G=Z=Ee=null;for(O in h)if(ue=h[O],h.hasOwnProperty(O)&&ue!=null)switch(O){case"value":break;case"multiple":Ce=ue;default:x.hasOwnProperty(O)||Pn(s,l,O,null,x,ue)}for(C in x)if(O=x[C],ue=h[C],x.hasOwnProperty(C)&&(O!=null||ue!=null))switch(C){case"value":Ee=O;break;case"defaultValue":Z=O;break;case"multiple":G=O;default:O!==ue&&Pn(s,l,C,O,x,ue)}l=Z,h=G,x=Ce,Ee!=null?ie(s,!!h,Ee,!1):!!x!=!!h&&(l!=null?ie(s,!!h,l,!0):ie(s,!!h,h?[]:"",!1));return;case"textarea":Ce=Ee=null;for(Z in h)if(C=h[Z],h.hasOwnProperty(Z)&&C!=null&&!x.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Pn(s,l,Z,null,x,C)}for(G in x)if(C=x[G],O=h[G],x.hasOwnProperty(G)&&(C!=null||O!=null))switch(G){case"value":Ee=C;break;case"defaultValue":Ce=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==O&&Pn(s,l,G,C,x,O)}We(s,Ee,Ce);return;case"option":for(var _t in h)if(Ee=h[_t],h.hasOwnProperty(_t)&&Ee!=null&&!x.hasOwnProperty(_t))switch(_t){case"selected":s.selected=!1;break;default:Pn(s,l,_t,null,x,Ee)}for(ue in x)if(Ee=x[ue],Ce=h[ue],x.hasOwnProperty(ue)&&Ee!==Ce&&(Ee!=null||Ce!=null))switch(ue){case"selected":s.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:Pn(s,l,ue,Ee,x,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in h)Ee=h[wt],h.hasOwnProperty(wt)&&Ee!=null&&!x.hasOwnProperty(wt)&&Pn(s,l,wt,null,x,Ee);for(xe in x)if(Ee=x[xe],Ce=h[xe],x.hasOwnProperty(xe)&&Ee!==Ce&&(Ee!=null||Ce!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Pn(s,l,xe,Ee,x,Ce)}return;default:if(ut(l)){for(var kn in h)Ee=h[kn],h.hasOwnProperty(kn)&&Ee!==void 0&&!x.hasOwnProperty(kn)&&Wy(s,l,kn,void 0,x,Ee);for(Re in x)Ee=x[Re],Ce=h[Re],!x.hasOwnProperty(Re)||Ee===Ce||Ee===void 0&&Ce===void 0||Wy(s,l,Re,Ee,x,Ce);return}}for(var ge in h)Ee=h[ge],h.hasOwnProperty(ge)&&Ee!=null&&!x.hasOwnProperty(ge)&&Pn(s,l,ge,null,x,Ee);for(je in x)Ee=x[je],Ce=h[je],!x.hasOwnProperty(je)||Ee===Ce||Ee==null&&Ce==null||Pn(s,l,je,Ee,x,Ce)}var Yy=null,$y=null;function og(s){return s.nodeType===9?s:s.ownerDocument}function ZC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JC(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Xy(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ky=null;function nk(){var s=window.event;return s&&s.type==="popstate"?s===Ky?!1:(Ky=s,!0):(Ky=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,rk=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,ik=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(s){return t_.resolve(null).then(s).catch(ak)}:e_;function ak(s){setTimeout(function(){throw s})}function Hl(s){return s==="head"}function n_(s,l){var h=l,x=0,C=0;do{var O=h.nextSibling;if(s.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(0<x&&8>x){h=x;var G=s.ownerDocument;if(h&1&&Uh(G.documentElement),h&2&&Uh(G.body),h&4)for(h=G.head,Uh(h),G=h.firstChild;G;){var Z=G.nextSibling,ue=G.nodeName;G[ca]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&G.rel.toLowerCase()==="stylesheet"||h.removeChild(G),G=Z}}if(C===0){s.removeChild(O),$h(l);return}C--}else h==="$"||h==="$?"||h==="$!"?C++:x=h.charCodeAt(0)-48;else x=0;h=O}while(h);$h(l)}function Qy(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Qy(h),is(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function sk(s,l,h,x){for(;s.nodeType===1;){var C=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[ca])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var O=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=Us(s.nextSibling),s===null)break}return null}function ok(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Us(s.nextSibling),s===null))return null;return s}function Zy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function lk(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var x=function(){l(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function Us(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var Jy=null;function r_(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function i_(s,l,h){switch(l=og(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Uh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);is(s)}var vs=new Map,a_=new Set;function lg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Go=ce.d;ce.d={f:ck,r:uk,D:fk,C:hk,L:dk,m:gk,X:pk,S:mk,M:yk};function ck(){var s=Go.f(),l=J0();return s||l}function uk(s){var l=wi(s);l!==null&&l.tag===5&&l.type==="form"?CS(l):Go.r(s)}var nf=typeof document>"u"?null:document;function s_(s,l,h){var x=nf;if(x&&typeof l=="string"&&l){var C=Bn(l);C='link[rel="'+s+'"][href="'+C+'"]',typeof h=="string"&&(C+='[crossorigin="'+h+'"]'),a_.has(C)||(a_.add(C),s={rel:s,crossOrigin:h,href:l},x.querySelector(C)===null&&(l=x.createElement("link"),Ti(l,"link",s),mn(l),x.head.appendChild(l)))}}function fk(s){Go.D(s),s_("dns-prefetch",s,null)}function hk(s,l){Go.C(s,l),s_("preconnect",s,l)}function dk(s,l,h){Go.L(s,l,h);var x=nf;if(x&&s&&l){var C='link[rel="preload"][as="'+Bn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(C+='[imagesrcset="'+Bn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(C+='[imagesizes="'+Bn(h.imageSizes)+'"]')):C+='[href="'+Bn(s)+'"]';var O=C;switch(l){case"style":O=rf(s);break;case"script":O=af(s)}vs.has(O)||(s=v({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),vs.set(O,s),x.querySelector(C)!==null||l==="style"&&x.querySelector(Vh(O))||l==="script"&&x.querySelector(zh(O))||(l=x.createElement("link"),Ti(l,"link",s),mn(l),x.head.appendChild(l)))}}function gk(s,l){Go.m(s,l);var h=nf;if(h&&s){var x=l&&typeof l.as=="string"?l.as:"script",C='link[rel="modulepreload"][as="'+Bn(x)+'"][href="'+Bn(s)+'"]',O=C;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=af(s)}if(!vs.has(O)&&(s=v({rel:"modulepreload",href:s},l),vs.set(O,s),h.querySelector(C)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(zh(O)))return}x=h.createElement("link"),Ti(x,"link",s),mn(x),h.head.appendChild(x)}}}function mk(s,l,h){Go.S(s,l,h);var x=nf;if(x&&s){var C=zr(x).hoistableStyles,O=rf(s);l=l||"default";var G=C.get(O);if(!G){var Z={loading:0,preload:null};if(G=x.querySelector(Vh(O)))Z.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":l},h),(h=vs.get(O))&&ev(s,h);var ue=G=x.createElement("link");mn(ue),Ti(ue,"link",s),ue._p=new Promise(function(xe,Re){ue.onload=xe,ue.onerror=Re}),ue.addEventListener("load",function(){Z.loading|=1}),ue.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,cg(G,l,x)}G={type:"stylesheet",instance:G,count:1,state:Z},C.set(O,G)}}}function pk(s,l){Go.X(s,l);var h=nf;if(h&&s){var x=zr(h).hoistableScripts,C=af(s),O=x.get(C);O||(O=h.querySelector(zh(C)),O||(s=v({src:s,async:!0},l),(l=vs.get(C))&&tv(s,l),O=h.createElement("script"),mn(O),Ti(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(C,O))}}function yk(s,l){Go.M(s,l);var h=nf;if(h&&s){var x=zr(h).hoistableScripts,C=af(s),O=x.get(C);O||(O=h.querySelector(zh(C)),O||(s=v({src:s,async:!0,type:"module"},l),(l=vs.get(C))&&tv(s,l),O=h.createElement("script"),mn(O),Ti(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(C,O))}}function o_(s,l,h,x){var C=(C=Ne.current)?lg(C):null;if(!C)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=rf(h.href),h=zr(C).hoistableStyles,x=h.get(l),x||(x={type:"style",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=rf(h.href);var O=zr(C).hoistableStyles,G=O.get(s);if(G||(C=C.ownerDocument||C,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,G),(O=C.querySelector(Vh(s)))&&!O._p&&(G.instance=O,G.state.loading=5),vs.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},vs.set(s,h),O||vk(C,s,h,G.state))),l&&x===null)throw Error(r(528,""));return G}if(l&&x!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=af(h),h=zr(C).hoistableScripts,x=h.get(l),x||(x={type:"script",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function rf(s){return'href="'+Bn(s)+'"'}function Vh(s){return'link[rel="stylesheet"]['+s+"]"}function l_(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function vk(s,l,h,x){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=s.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),Ti(l,"link",h),mn(l),s.head.appendChild(l))}function af(s){return'[src="'+Bn(s)+'"]'}function zh(s){return"script[async]"+s}function c_(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var x=s.querySelector('style[data-href~="'+Bn(h.href)+'"]');if(x)return l.instance=x,mn(x),x;var C=v({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),mn(x),Ti(x,"style",C),cg(x,h.precedence,s),l.instance=x;case"stylesheet":C=rf(h.href);var O=s.querySelector(Vh(C));if(O)return l.state.loading|=4,l.instance=O,mn(O),O;x=l_(h),(C=vs.get(C))&&ev(x,C),O=(s.ownerDocument||s).createElement("link"),mn(O);var G=O;return G._p=new Promise(function(Z,ue){G.onload=Z,G.onerror=ue}),Ti(O,"link",x),l.state.loading|=4,cg(O,h.precedence,s),l.instance=O;case"script":return O=af(h.src),(C=s.querySelector(zh(O)))?(l.instance=C,mn(C),C):(x=h,(C=vs.get(O))&&(x=v({},h),tv(x,C)),s=s.ownerDocument||s,C=s.createElement("script"),mn(C),Ti(C,"link",x),s.head.appendChild(C),l.instance=C);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,cg(x,h.precedence,s));return l.instance}function cg(s,l,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=x.length?x[x.length-1]:null,O=C,G=0;G<x.length;G++){var Z=x[G];if(Z.dataset.precedence===l)O=Z;else if(O!==C)break}O?O.parentNode.insertBefore(s,O.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function ev(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function tv(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var ug=null;function u_(s,l,h){if(ug===null){var x=new Map,C=ug=new Map;C.set(h,x)}else C=ug,x=C.get(h),x||(x=new Map,C.set(h,x));if(x.has(s))return x;for(x.set(s,null),h=h.getElementsByTagName(s),C=0;C<h.length;C++){var O=h[C];if(!(O[ca]||O[Nr]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var G=O.getAttribute(l)||"";G=s+G;var Z=x.get(G);Z?Z.push(O):x.set(G,[O])}}return x}function f_(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function xk(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function h_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Hh=null;function bk(){}function wk(s,l,h){if(Hh===null)throw Error(r(475));var x=Hh;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var C=rf(h.href),O=s.querySelector(Vh(C));if(O){s=O._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(x.count++,x=fg.bind(x),s.then(x,x)),l.state.loading|=4,l.instance=O,mn(O);return}O=s.ownerDocument||s,h=l_(h),(C=vs.get(C))&&ev(h,C),O=O.createElement("link"),mn(O);var G=O;G._p=new Promise(function(Z,ue){G.onload=Z,G.onerror=ue}),Ti(O,"link",h),l.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(x.count++,l=fg.bind(x),s.addEventListener("load",l),s.addEventListener("error",l))}}function Ek(){if(Hh===null)throw Error(r(475));var s=Hh;return s.stylesheets&&s.count===0&&nv(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&nv(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function fg(){if(this.count--,this.count===0){if(this.stylesheets)nv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hg=null;function nv(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hg=new Map,l.forEach(Ak,s),hg=null,fg.call(s))}function Ak(s,l){if(!(l.state.loading&4)){var h=hg.get(s);if(h)var x=h.get(null);else{h=new Map,hg.set(s,h);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<C.length;O++){var G=C[O];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(h.set(G.dataset.precedence,G),x=G)}x&&h.set(null,x)}C=l.instance,G=C.getAttribute("data-precedence"),O=h.get(G)||x,O===x&&h.set(null,C),h.set(G,C),this.count++,x=fg.bind(this),C.addEventListener("load",x),C.addEventListener("error",x),O?O.parentNode.insertBefore(C,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),l.state.loading|=4}}var qh={$$typeof:z,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function Sk(s,l,h,x,C,O,G,Z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.hiddenUpdates=Lt(null),this.identifierPrefix=x,this.onUncaughtError=C,this.onCaughtError=O,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function d_(s,l,h,x,C,O,G,Z,ue,xe,Re,je){return s=new Sk(s,l,h,G,Z,ue,xe,je),l=1,O===!0&&(l|=24),O=La(3,null,null,l),s.current=O,O.stateNode=s,l=jp(),l.refCount++,s.pooledCache=l,l.refCount++,O.memoizedState={element:x,isDehydrated:h,cache:l},Vp(O),s}function g_(s){return s?(s=ku,s):ku}function m_(s,l,h,x,C,O){C=g_(C),x.context===null?x.context=C:x.pendingContext=C,x=Rl(l),x.payload={element:h},O=O===void 0?null:O,O!==null&&(x.callback=O),h=Nl(s,x,l),h!==null&&(Va(h,s,l),bh(h,s,l))}function p_(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function rv(s,l){p_(s,l),(s=s.alternate)&&p_(s,l)}function y_(s){if(s.tag===13){var l=Pu(s,67108864);l!==null&&Va(l,s,67108864),rv(s,67108864)}}var dg=!0;function Ck(s,l,h,x){var C=le.T;le.T=null;var O=ce.p;try{ce.p=2,iv(s,l,h,x)}finally{ce.p=O,le.T=C}}function _k(s,l,h,x){var C=le.T;le.T=null;var O=ce.p;try{ce.p=8,iv(s,l,h,x)}finally{ce.p=O,le.T=C}}function iv(s,l,h,x){if(dg){var C=av(x);if(C===null)Gy(s,l,x,gg,h),x_(s,x);else if(Ik(C,s,l,h,x))x.stopPropagation();else if(x_(s,x),l&4&&-1<Tk.indexOf(s)){for(;C!==null;){var O=wi(C);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var G=St(O.pendingLanes);if(G!==0){var Z=O;for(Z.pendingLanes|=2,Z.entangledLanes|=2;G;){var ue=1<<31-on(G);Z.entanglements[1]|=ue,G&=~ue}oo(O),(In&6)===0&&(Q0=It()+500,jh(0))}}break;case 13:Z=Pu(O,2),Z!==null&&Va(Z,O,2),J0(),rv(O,2)}if(O=av(x),O===null&&Gy(s,l,x,gg,h),O===C)break;C=O}C!==null&&x.stopPropagation()}else Gy(s,l,x,null,h)}}function av(s){return s=Ei(s),sv(s)}var gg=null;function sv(s){if(gg=null,s=ar(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=u(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return gg=s,null}function v_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case At:return 2;case Pt:return 8;case $e:case la:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var ov=!1,ql=null,Gl=null,Wl=null,Gh=new Map,Wh=new Map,Yl=[],Tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(s,l){switch(s){case"focusin":case"focusout":ql=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":Gh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(l.pointerId)}}function Yh(s,l,h,x,C,O){return s===null||s.nativeEvent!==O?(s={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:O,targetContainers:[C]},l!==null&&(l=wi(l),l!==null&&y_(l)),s):(s.eventSystemFlags|=x,l=s.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),s)}function Ik(s,l,h,x,C){switch(l){case"focusin":return ql=Yh(ql,s,l,h,x,C),!0;case"dragenter":return Gl=Yh(Gl,s,l,h,x,C),!0;case"mouseover":return Wl=Yh(Wl,s,l,h,x,C),!0;case"pointerover":var O=C.pointerId;return Gh.set(O,Yh(Gh.get(O)||null,s,l,h,x,C)),!0;case"gotpointercapture":return O=C.pointerId,Wh.set(O,Yh(Wh.get(O)||null,s,l,h,x,C)),!0}return!1}function b_(s){var l=ar(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=u(h),l!==null){s.blockedOn=l,_o(s.priority,function(){if(h.tag===13){var x=Ua();x=rs(x);var C=Pu(h,x);C!==null&&Va(C,h,x),rv(h,x)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=av(s.nativeEvent);if(h===null){h=s.nativeEvent;var x=new h.constructor(h.type,h);Ia=x,h.target.dispatchEvent(x),Ia=null}else return l=wi(h),l!==null&&y_(l),s.blockedOn=h,!1;l.shift()}return!0}function w_(s,l,h){mg(s)&&h.delete(l)}function Ok(){ov=!1,ql!==null&&mg(ql)&&(ql=null),Gl!==null&&mg(Gl)&&(Gl=null),Wl!==null&&mg(Wl)&&(Wl=null),Gh.forEach(w_),Wh.forEach(w_)}function pg(s,l){s.blockedOn===l&&(s.blockedOn=null,ov||(ov=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ok)))}var yg=null;function E_(s){yg!==s&&(yg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yg===s&&(yg=null);for(var l=0;l<s.length;l+=3){var h=s[l],x=s[l+1],C=s[l+2];if(typeof x!="function"){if(sv(x||h)===null)continue;break}var O=wi(h);O!==null&&(s.splice(l,3),l-=3,sy(O,{pending:!0,data:C,method:h.method,action:x},x,C))}}))}function $h(s){function l(ue){return pg(ue,s)}ql!==null&&pg(ql,s),Gl!==null&&pg(Gl,s),Wl!==null&&pg(Wl,s),Gh.forEach(l),Wh.forEach(l);for(var h=0;h<Yl.length;h++){var x=Yl[h];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Yl.length&&(h=Yl[0],h.blockedOn===null);)b_(h),h.blockedOn===null&&Yl.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var C=h[x],O=h[x+1],G=C[Dn]||null;if(typeof O=="function")G||E_(h);else if(G){var Z=null;if(O&&O.hasAttribute("formAction")){if(C=O,G=O[Dn]||null)Z=G.formAction;else if(sv(C)!==null)continue}else Z=G.action;typeof Z=="function"?h[x+1]=Z:(h.splice(x,3),x-=3),E_(h)}}}function lv(s){this._internalRoot=s}vg.prototype.render=lv.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,x=Ua();m_(h,x,s,l,null,null)},vg.prototype.unmount=lv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;m_(s.current,2,null,s,null,null),J0(),l[Li]=null}};function vg(s){this._internalRoot=s}vg.prototype.unstable_scheduleHydration=function(s){if(s){var l=Zi();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Yl.length&&l!==0&&l<Yl[h].priority;h++);Yl.splice(h,0,s),h===0&&b_(s)}};var A_=e.version;if(A_!=="19.1.1")throw Error(r(527,A_,"19.1.1"));ce.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=m(l),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var Rk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xg.isDisabled&&xg.supportsFiber)try{Qt=xg.inject(Rk),sn=xg}catch{}}return Kh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,x="",C=FS,O=US,G=VS,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(C=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks)),l=d_(s,1,!1,null,null,h,x,C,O,G,Z,null),s[Li]=l.current,qy(s),new lv(l)},Kh.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var x=!1,C="",O=FS,G=US,Z=VS,ue=null,xe=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(Z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ue=h.unstable_transitionCallbacks),h.formState!==void 0&&(xe=h.formState)),l=d_(s,1,!0,l,h??null,x,C,O,G,Z,ue,xe),l.context=g_(null),h=l.current,x=Ua(),x=rs(x),C=Rl(x),C.callback=null,Nl(h,C,x),h=x,l.current.lanes=h,xi(l,h),oo(l),s[Li]=l.current,qy(s),new vg(l)},Kh.version="19.1.1",Kh}var M_;function Uk(){if(M_)return fv.exports;M_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fv.exports=Fk(),fv.exports}var Vk=Uk();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P_="popstate";function zk(t={}){function e(i,a){let{pathname:u="/",search:d="",hash:m=""}=yu(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),a2("",{pathname:u,search:d,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let u=i.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let m=i.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof a=="string"?a:xd(a))}function r(i,a){Ts(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return qk(e,n,r,t)}function gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ts(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hk(){return Math.random().toString(36).substring(2,10)}function k_(t,e){return{usr:t.state,key:t.key,idx:e}}function a2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yu(e):e,state:n,key:e&&e.key||r||Hk()}}function xd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,d="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function w(){d="POP";let M=v(),L=M==null?null:M-g;g=M,m&&m({action:d,location:P.location,delta:L})}function S(M,L){d="PUSH";let $=a2(P.location,M,L);n&&n($,M),g=v()+1;let z=k_($,g),te=P.createHref($);try{u.pushState(z,"",te)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(te)}a&&m&&m({action:d,location:P.location,delta:1})}function I(M,L){d="REPLACE";let $=a2(P.location,M,L);n&&n($,M),g=v();let z=k_($,g),te=P.createHref($);u.replaceState(z,"",te),a&&m&&m({action:d,location:P.location,delta:0})}function D(M){return Gk(M)}let P={get action(){return d},get location(){return t(i,u)},listen(M){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(P_,w),m=M,()=>{i.removeEventListener(P_,w),m=null}},createHref(M){return e(i,M)},createURL:D,encodeLocation(M){let L=D(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:I,go(M){return u.go(M)}};return P}function Gk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:xd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function L4(t,e,n="/"){return Wk(t,e,n,!1)}function Wk(t,e,n,r){let i=typeof e=="string"?yu(e):e,a=tl(i.pathname||"/",n);if(a==null)return null;let u=j4(t);Yk(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let g=iL(a);d=nL(u[m],g,r)}return d}function j4(t,e=[],n=[],r=""){let i=(a,u,d)=>{let m={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(gr(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let g=Qo([r,m.relativePath]),v=n.concat(m);a.children&&a.children.length>0&&(gr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),j4(a.children,e,v,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:eL(g,a.index),routesMeta:v})};return t.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))i(a,u);else for(let d of B4(a.path))i(a,u,d)}),e}function B4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=B4(r.join("/")),d=[];return d.push(...u.map(m=>m===""?a:[a,m].join("/"))),i&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function Yk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $k=/^:[\w-]+$/,Xk=3,Kk=2,Qk=1,Zk=10,Jk=-2,L_=t=>t==="*";function eL(t,e){let n=t.split("/"),r=n.length;return n.some(L_)&&(r+=Jk),e&&(r+=Kk),n.filter(i=>!L_(i)).reduce((i,a)=>i+($k.test(a)?Xk:a===""?Qk:Zk),r)}function tL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nL(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",u=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=r1({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),S=m.route;if(!w&&g&&n&&!r[r.length-1].route.index&&(w=r1({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!w)return null;Object.assign(i,w.params),u.push({params:i,pathname:Qo([a,w.pathname]),pathnameBase:lL(Qo([a,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(a=Qo([a,w.pathnameBase]))}return u}function r1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:w},S)=>{if(v==="*"){let D=d[S]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const I=d[S];return w&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:t}}function rL(t,e=!1,n=!0){Ts(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ts(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function tl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aL(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yu(t):t;return{pathname:n?n.startsWith("/")?n:sL(n,e):e,search:cL(r),hash:uL(i)}}function sL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tb(t){let e=oL(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ib(t,e,n,r=!1){let i;typeof t=="string"?i=yu(t):(i={...t},gr(!i.pathname||!i.pathname.includes("?"),mv("?","pathname","search",i)),gr(!i.pathname||!i.pathname.includes("#"),mv("#","pathname","hash",i)),gr(!i.search||!i.search.includes("#"),mv("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=n;else{let w=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),w-=1;i.pathname=S.join("/")}d=w>=0?e[w]:"/"}let m=aL(i,d),g=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Qo=t=>t.join("/").replace(/\/\/+/g,"/"),lL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var F4=["POST","PUT","PATCH","DELETE"];new Set(F4);var hL=["GET",...F4];new Set(hL);var Gf=R.createContext(null);Gf.displayName="DataRouter";var gm=R.createContext(null);gm.displayName="DataRouterState";R.createContext(!1);var U4=R.createContext({isTransitioning:!1});U4.displayName="ViewTransition";var dL=R.createContext(new Map);dL.displayName="Fetchers";var gL=R.createContext(null);gL.displayName="Await";var Ys=R.createContext(null);Ys.displayName="Navigation";var qd=R.createContext(null);qd.displayName="Location";var Eo=R.createContext({outlet:null,matches:[],isDataRoute:!1});Eo.displayName="Route";var Ob=R.createContext(null);Ob.displayName="RouteError";function mL(t,{relative:e}={}){gr(Wf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Ys),{hash:i,pathname:a,search:u}=Gd(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Qo([n,a])),r.createHref({pathname:d,search:u,hash:i})}function Wf(){return R.useContext(qd)!=null}function xc(){return gr(Wf(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(qd).location}var V4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z4(t){R.useContext(Ys).static||R.useLayoutEffect(t)}function mm(){let{isDataRoute:t}=R.useContext(Eo);return t?IL():pL()}function pL(){gr(Wf(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Gf),{basename:e,navigator:n}=R.useContext(Ys),{matches:r}=R.useContext(Eo),{pathname:i}=xc(),a=JSON.stringify(Tb(r)),u=R.useRef(!1);return z4(()=>{u.current=!0}),R.useCallback((m,g={})=>{if(Ts(u.current,V4),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=Ib(m,JSON.parse(a),i,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Qo([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,a,i,t])}R.createContext(null);function Gd(t,{relative:e}={}){let{matches:n}=R.useContext(Eo),{pathname:r}=xc(),i=JSON.stringify(Tb(n));return R.useMemo(()=>Ib(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function yL(t,e){return H4(t,e)}function H4(t,e,n,r){gr(Wf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(Ys),{matches:a}=R.useContext(Eo),u=a[a.length-1],d=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let L=v&&v.path||"";q4(m,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let w=xc(),S;if(e){let L=typeof e=="string"?yu(e):e;gr(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=w;let I=S.pathname||"/",D=I;if(g!=="/"){let L=g.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let P=L4(t,{pathname:D});Ts(v||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ts(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=EL(P&&P.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Qo([g,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Qo([g,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,n,r);return e&&M?R.createElement(qd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function vL(){let t=TL(),e=fL(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,u)}var xL=R.createElement(vL,null),bL=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Eo.Provider,{value:this.props.routeContext},R.createElement(Ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wL({routeContext:t,match:e,children:n}){let r=R.useContext(Gf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Eo.Provider,{value:t},n)}function EL(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let m=i.findIndex(g=>g.route.id&&a?.[g.route.id]!==void 0);gr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<i.length;m++){let g=i[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:w}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((m,g,v)=>{let w,S=!1,I=null,D=null;n&&(w=a&&g.route.id?a[g.route.id]:void 0,I=g.route.errorElement||xL,u&&(d<0&&v===0?(q4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):d===v&&(S=!0,D=g.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,v+1)),M=()=>{let L;return w?L=I:S?L=D:g.route.Component?L=R.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=m,R.createElement(wL,{match:g,routeContext:{outlet:m,matches:P,isDataRoute:n!=null},children:L})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?R.createElement(bL,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:M(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):M()},null)}function Rb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AL(t){let e=R.useContext(Gf);return gr(e,Rb(t)),e}function SL(t){let e=R.useContext(gm);return gr(e,Rb(t)),e}function CL(t){let e=R.useContext(Eo);return gr(e,Rb(t)),e}function Nb(t){let e=CL(t),n=e.matches[e.matches.length-1];return gr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _L(){return Nb("useRouteId")}function TL(){let t=R.useContext(Ob),e=SL("useRouteError"),n=Nb("useRouteError");return t!==void 0?t:e.errors?.[n]}function IL(){let{router:t}=AL("useNavigate"),e=Nb("useNavigate"),n=R.useRef(!1);return z4(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{Ts(n.current,V4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var j_={};function q4(t,e,n){!e&&!j_[t]&&(j_[t]=!0,Ts(!1,n))}R.memo(OL);function OL({routes:t,future:e,state:n}){return H4(t,void 0,n,e)}function RL({to:t,replace:e,state:n,relative:r}){gr(Wf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Ys);Ts(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(Eo),{pathname:u}=xc(),d=mm(),m=Ib(t,Tb(a),u,r==="path"),g=JSON.stringify(m);return R.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:r})},[d,g,r,e,n]),null}function ni(t){gr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){gr(!Wf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof n=="string"&&(n=yu(n));let{pathname:m="/",search:g="",hash:v="",state:w=null,key:S="default"}=n,I=R.useMemo(()=>{let D=tl(m,u);return D==null?null:{location:{pathname:D,search:g,hash:v,state:w,key:S},navigationType:r}},[u,m,g,v,w,S,r]);return Ts(I!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:R.createElement(Ys.Provider,{value:d},R.createElement(qd.Provider,{children:e,value:I}))}function DL({children:t,location:e}){return yL(s2(t),e)}function s2(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,s2(r.props.children,a));return}gr(r.type===ni,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=s2(r.props.children,a)),n.push(u)}),n}var qg="get",Gg="application/x-www-form-urlencoded";function pm(t){return t!=null&&typeof t.tagName=="string"}function ML(t){return pm(t)&&t.tagName.toLowerCase()==="button"}function PL(t){return pm(t)&&t.tagName.toLowerCase()==="form"}function kL(t){return pm(t)&&t.tagName.toLowerCase()==="input"}function LL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jL(t,e){return t.button===0&&(!e||e==="_self")&&!LL(t)}var wg=null;function BL(){if(wg===null)try{new FormData(document.createElement("form"),0),wg=!1}catch{wg=!0}return wg}var FL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pv(t){return t!=null&&!FL.has(t)?(Ts(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gg}"`),null):t}function UL(t,e){let n,r,i,a,u;if(PL(t)){let d=t.getAttribute("action");r=d?tl(d,e):null,n=t.getAttribute("method")||qg,i=pv(t.getAttribute("enctype"))||Gg,a=new FormData(t)}else if(ML(t)||kL(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(r=m?tl(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||qg,i=pv(t.getAttribute("formenctype"))||pv(d.getAttribute("enctype"))||Gg,a=new FormData(d,t),!BL()){let{name:g,type:v,value:w}=t;if(v==="image"){let S=g?`${g}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else g&&a.append(g,w)}}else{if(pm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qg,r=null,i=Gg,u=t}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Db(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VL(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&tl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qL(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await zL(a,n);return u.links?u.links():[]}return[]}));return $L(r.flat(1).filter(HL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function B_(t,e,n,r,i,a){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return a==="assets"?e.filter((m,g)=>u(m,g)||d(m,g)):a==="data"?e.filter((m,g)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function GL(t,e,{includeHydrateFallback:n}={}){return WL(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function WL(t){return[...new Set(t)]}function YL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $L(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(YL(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function G4(){let t=R.useContext(Gf);return Db(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XL(){let t=R.useContext(gm);return Db(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mb=R.createContext(void 0);Mb.displayName="FrameworkContext";function W4(){let t=R.useContext(Mb);return Db(t,"You must render this element inside a <HydratedRouter> element"),t}function KL(t,e){let n=R.useContext(Mb),[r,i]=R.useState(!1),[a,u]=R.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=e,S=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=L=>{L.forEach($=>{u($.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[t]),R.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let I=()=>{i(!0)},D=()=>{i(!1),u(!1)};return n?t!=="intent"?[a,S,{}]:[a,S,{onFocus:Qh(d,I),onBlur:Qh(m,D),onMouseEnter:Qh(g,I),onMouseLeave:Qh(v,D),onTouchStart:Qh(w,I)}]:[!1,S,{}]}function Qh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QL({page:t,...e}){let{router:n}=G4(),r=R.useMemo(()=>L4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(JL,{page:t,matches:r,...e}):null}function ZL(t){let{manifest:e,routeModules:n}=W4(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return qL(t,e,n).then(u=>{a||i(u)}),()=>{a=!0}},[t,e,n]),r}function JL({page:t,matches:e,...n}){let r=xc(),{manifest:i,routeModules:a}=W4(),{basename:u}=G4(),{loaderData:d,matches:m}=XL(),g=R.useMemo(()=>B_(t,e,m,i,r,"data"),[t,e,m,i,r]),v=R.useMemo(()=>B_(t,e,m,i,r,"assets"),[t,e,m,i,r]),w=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,P=!1;if(e.forEach(L=>{let $=i.routes[L.route.id];!$||!$.hasLoader||(!g.some(z=>z.route.id===L.route.id)&&L.route.id in d&&a[L.route.id]?.shouldRevalidate||$.hasClientLoader?P=!0:D.add(L.route.id))}),D.size===0)return[];let M=VL(t,u,"data");return P&&D.size>0&&M.searchParams.set("_routes",e.filter(L=>D.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[u,d,r,i,g,e,t,a]),S=R.useMemo(()=>GL(v,i),[v,i]),I=ZL(v);return R.createElement(R.Fragment,null,w.map(D=>R.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),S.map(D=>R.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),I.map(({key:D,link:P})=>R.createElement("link",{key:D,nonce:n.nonce,...P})))}function e7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y4&&(window.__reactRouterVersion="7.8.0")}catch{}function t7({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=zk({window:n,v5Compat:!0}));let i=r.current,[a,u]=R.useState({action:i.action,location:i.location}),d=R.useCallback(m=>{R.startTransition(()=>u(m))},[u]);return R.useLayoutEffect(()=>i.listen(d),[i,d]),R.createElement(NL,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var $4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bd=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:d,target:m,to:g,preventScrollReset:v,viewTransition:w,...S},I){let{basename:D}=R.useContext(Ys),P=typeof g=="string"&&$4.test(g),M,L=!1;if(typeof g=="string"&&P&&(M=g,Y4))try{let F=new URL(window.location.href),J=g.startsWith("//")?new URL(F.protocol+g):new URL(g),q=tl(J.pathname,D);J.origin===F.origin&&q!=null?g=q+J.search+J.hash:L=!0}catch{Ts(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=mL(g,{relative:i}),[z,te,X]=KL(r,S),ee=i7(g,{replace:u,state:d,target:m,preventScrollReset:v,relative:i,viewTransition:w});function B(F){e&&e(F),F.defaultPrevented||ee(F)}let H=R.createElement("a",{...S,...X,href:M||$,onClick:L||a?e:B,ref:e7(I,te),target:m,"data-discover":!P&&n==="render"?"true":void 0});return z&&!P?R.createElement(R.Fragment,null,H,R.createElement(QL,{page:$})):H});bd.displayName="Link";var na=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:d,children:m,...g},v){let w=Gd(u,{relative:g.relative}),S=xc(),I=R.useContext(gm),{navigator:D,basename:P}=R.useContext(Ys),M=I!=null&&c7(w)&&d===!0,L=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,$=S.pathname,z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||($=$.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&P&&(z=tl(z,P)||z);const te=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let X=$===L||!i&&$.startsWith(L)&&$.charAt(te)==="/",ee=z!=null&&(z===L||!i&&z.startsWith(L)&&z.charAt(L.length)==="/"),B={isActive:X,isPending:ee,isTransitioning:M},H=X?e:void 0,F;typeof r=="function"?F=r(B):F=[r,X?"active":null,ee?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let J=typeof a=="function"?a(B):a;return R.createElement(bd,{...g,"aria-current":H,className:F,ref:v,style:J,to:u,viewTransition:d},typeof m=="function"?m(B):m)});na.displayName="NavLink";var n7=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:u=qg,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:w,...S},I)=>{let D=o7(),P=l7(d,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&$4.test(d),$=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let te=z.nativeEvent.submitter,X=te?.getAttribute("formmethod")||u;D(te||z.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:i,state:a,relative:g,preventScrollReset:v,viewTransition:w})};return R.createElement("form",{ref:I,method:M,action:P,onSubmit:r?m:$,...S,"data-discover":!L&&t==="render"?"true":void 0})});n7.displayName="Form";function r7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X4(t){let e=R.useContext(Gf);return gr(e,r7(t)),e}function i7(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let d=mm(),m=xc(),g=Gd(t,{relative:a});return R.useCallback(v=>{if(jL(v,e)){v.preventDefault();let w=n!==void 0?n:xd(m)===xd(g);d(t,{replace:w,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[m,d,g,n,r,e,t,i,a,u])}var a7=0,s7=()=>`__${String(++a7)}__`;function o7(){let{router:t}=X4("useSubmit"),{basename:e}=R.useContext(Ys),n=_L();return R.useCallback(async(r,i={})=>{let{action:a,method:u,encType:d,formData:m,body:g}=UL(r,e);if(i.navigate===!1){let v=i.fetcherKey||s7();await t.fetch(v,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:g,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:g,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function l7(t,{relative:e}={}){let{basename:n}=R.useContext(Ys),r=R.useContext(Eo);gr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Gd(t||".",{relative:e})},u=xc();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Qo([n,a.pathname])),xd(a)}function c7(t,{relative:e}={}){let n=R.useContext(U4);gr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X4("useViewTransitionState"),i=Gd(t,{relative:e});if(!n.isTransitioning)return!1;let a=tl(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=tl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return r1(i.pathname,u)!=null||r1(i.pathname,a)!=null}var K4=k4(),Q4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F_=Hn.createContext&&Hn.createContext(Q4),u7=["attr","size","title"];function f7(t,e){if(t==null)return{};var n=h7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(this,arguments)}function U_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(n),!0).forEach(function(r){d7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d7(t,e,n){return e=g7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g7(t){var e=m7(t,"string");return typeof e=="symbol"?e:e+""}function m7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z4(t){return t&&t.map((e,n)=>Hn.createElement(e.tag,a1({key:n},e.attr),Z4(e.child)))}function J4(t){return e=>Hn.createElement(p7,i1({attr:a1({},t.attr)},e),Z4(t.child))}function p7(t){var e=n=>{var{attr:r,size:i,title:a}=t,u=f7(t,u7),d=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),Hn.createElement("svg",i1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:m,style:a1(a1({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Hn.createElement("title",null,a),t.children)};return F_!==void 0?Hn.createElement(F_.Consumer,null,n=>e(n)):e(Q4)}function eN(t){return J4({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function tN(t){return J4({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}const y7=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},v7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],u=t[n++],d=t[n++],m=((i&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},rN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],u=i+1<t.length,d=u?t[i+1]:0,m=i+2<t.length,g=m?t[i+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let S=(d&15)<<2|g>>6,I=g&63;m||(I=64,u||(S=64)),r.push(n[v],n[w],n[S],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):v7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||g==null||w==null)throw new x7;const S=a<<2|d>>4;if(r.push(S),g!==64){const I=d<<4&240|g>>2;if(r.push(I),w!==64){const D=g<<6&192|w;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b7=function(t){const e=nN(t);return rN.encodeByteArray(e,!0)},s1=function(t){return b7(t).replace(/\./g,"")},w7=function(t){try{return rN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=()=>E7().__FIREBASE_DEFAULTS__,S7=()=>{if(typeof process>"u"||typeof V_>"u")return;const t=V_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w7(t[1]);return e&&JSON.parse(e)},Pb=()=>{try{return y7()||A7()||S7()||C7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_7=t=>Pb()?.emulatorHosts?.[t],iN=t=>{const e=_7(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aN=()=>Pb()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[s1(JSON.stringify(n)),s1(JSON.stringify(u)),""].join(".")}const dd={};function I7(){const t={prod:[],emulator:[]};for(const e of Object.keys(dd))dd[e]?t.emulator.push(e):t.prod.push(e);return t}function O7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let z_=!1;function lN(t,e){if(typeof window>"u"||typeof document>"u"||!ym(window.location.host)||dd[t]===e||dd[t]||z_)return;dd[t]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",a=I7().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{z_=!0,u()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=O7(r),I=n("text"),D=document.getElementById(I)||document.createElement("span"),P=n("learnmore"),M=document.getElementById(P)||document.createElement("a"),L=n("preprendIcon"),$=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const z=S.element;d(z),v(M,P);const te=g();m($,L),z.append($,D,M,te),document.body.appendChild(z)}a?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N7(){const t=Pb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D7(){return!N7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M7(){try{return typeof indexedDB=="object"}catch{return!1}}function P7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7="FirebaseError";class vu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k7,Object.setPrototypeOf(this,vu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cN.prototype.create)}}class cN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?L7(a,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new vu(i,d,r)}}function L7(t,e){return t.replace(j7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j7=/\{\$([^}]+)}/g;function o1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],u=e[i];if(H_(a)&&H_(u)){if(!o1(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){return t&&t._delegate?t._delegate:t}class Tf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U7(e))try{this.getOrInitializeService({instanceIdentifier:qc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qc){return this.instances.has(e)}getOptions(e=qc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qc){return this.component?this.component.multipleInstances?e:qc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function F7(t){return t===qc?void 0:t}function U7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(un||(un={}));const z7={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},H7=un.INFO,q7={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},G7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=q7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uN{constructor(e){this.name=e,this._logLevel=H7,this._logHandler=G7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...e),this._logHandler(this,un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...e),this._logHandler(this,un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,un.INFO,...e),this._logHandler(this,un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,un.WARN,...e),this._logHandler(this,un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...e),this._logHandler(this,un.ERROR,...e)}}const W7=(t,e)=>e.some(n=>t instanceof n);let q_,G_;function Y7(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $7(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fN=new WeakMap,o2=new WeakMap,hN=new WeakMap,yv=new WeakMap,kb=new WeakMap;function X7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ec(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&fN.set(n,t)}).catch(()=>{}),kb.set(e,t),e}function K7(t){if(o2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});o2.set(t,e)}let l2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ec(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q7(t){l2=t(l2)}function Z7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vv(this),e,...n);return hN.set(r,e.sort?e.sort():[e]),ec(r)}:$7().includes(t)?function(...e){return t.apply(vv(this),e),ec(fN.get(this))}:function(...e){return ec(t.apply(vv(this),e))}}function J7(t){return typeof t=="function"?Z7(t):(t instanceof IDBTransaction&&K7(t),W7(t,Y7())?new Proxy(t,l2):t)}function ec(t){if(t instanceof IDBRequest)return X7(t);if(yv.has(t))return yv.get(t);const e=J7(t);return e!==t&&(yv.set(t,e),kb.set(e,t)),e}const vv=t=>kb.get(t);function ej(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(t,e),d=ec(u);return r&&u.addEventListener("upgradeneeded",m=>{r(ec(u.result),m.oldVersion,m.newVersion,ec(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const tj=["get","getKey","getAll","getAllKeys","count"],nj=["put","add","delete","clear"],xv=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tj.includes(n)))return;const a=async function(u,...d){const m=this.transaction(u,i?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),i&&m.done]))[0]};return xv.set(e,a),a}Q7(t=>({...t,get:(e,n,r)=>W_(e,n)||t.get(e,n,r),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ij(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ij(t){return t.getComponent()?.type==="VERSION"}const c2="@firebase/app",Y_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new uN("@firebase/app"),aj="@firebase/app-compat",sj="@firebase/analytics-compat",oj="@firebase/analytics",lj="@firebase/app-check-compat",cj="@firebase/app-check",uj="@firebase/auth",fj="@firebase/auth-compat",hj="@firebase/database",dj="@firebase/data-connect",gj="@firebase/database-compat",mj="@firebase/functions",pj="@firebase/functions-compat",yj="@firebase/installations",vj="@firebase/installations-compat",xj="@firebase/messaging",bj="@firebase/messaging-compat",wj="@firebase/performance",Ej="@firebase/performance-compat",Aj="@firebase/remote-config",Sj="@firebase/remote-config-compat",Cj="@firebase/storage",_j="@firebase/storage-compat",Tj="@firebase/firestore",Ij="@firebase/ai",Oj="@firebase/firestore-compat",Rj="firebase",Nj="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="[DEFAULT]",Dj={[c2]:"fire-core",[aj]:"fire-core-compat",[oj]:"fire-analytics",[sj]:"fire-analytics-compat",[cj]:"fire-app-check",[lj]:"fire-app-check-compat",[uj]:"fire-auth",[fj]:"fire-auth-compat",[hj]:"fire-rtdb",[dj]:"fire-data-connect",[gj]:"fire-rtdb-compat",[mj]:"fire-fn",[pj]:"fire-fn-compat",[yj]:"fire-iid",[vj]:"fire-iid-compat",[xj]:"fire-fcm",[bj]:"fire-fcm-compat",[wj]:"fire-perf",[Ej]:"fire-perf-compat",[Aj]:"fire-rc",[Sj]:"fire-rc-compat",[Cj]:"fire-gcs",[_j]:"fire-gcs-compat",[Tj]:"fire-fst",[Oj]:"fire-fst-compat",[Ij]:"fire-vertex","fire-js":"fire-js",[Rj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map,Mj=new Map,f2=new Map;function $_(t,e){try{t.container.addComponent(e)}catch(n){nl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wd(t){const e=t.name;if(f2.has(e))return nl.debug(`There were multiple attempts to register component ${e}.`),!1;f2.set(e,t);for(const n of l1.values())$_(n,t);for(const n of Mj.values())$_(n,t);return!0}function dN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tc=new cN("app","Firebase",Pj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=Nj;function vm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:u2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw tc.create("bad-app-name",{appName:String(i)});if(n||(n=aN()),!n)throw tc.create("no-options");const a=l1.get(i);if(a){if(o1(n,a.options)&&o1(r,a.config))return a;throw tc.create("duplicate-app",{appName:i})}const u=new V7(i);for(const m of f2.values())u.addComponent(m);const d=new kj(n,r,u);return l1.set(i,d),d}function pN(t=u2){const e=l1.get(t);if(!e&&t===u2&&aN())return vm();if(!e)throw tc.create("no-app",{appName:t});return e}function nc(t,e,n){let r=Dj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nl.warn(u.join(" "));return}wd(new Tf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firebase-heartbeat-database",jj=1,Ed="firebase-heartbeat-store";let bv=null;function yN(){return bv||(bv=ej(Lj,jj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw tc.create("idb-open",{originalErrorMessage:t.message})})),bv}async function Bj(t){try{const n=(await yN()).transaction(Ed),r=await n.objectStore(Ed).get(vN(t));return await n.done,r}catch(e){if(e instanceof vu)nl.warn(e.message);else{const n=tc.create("idb-get",{originalErrorMessage:e?.message});nl.warn(n.message)}}}async function X_(t,e){try{const r=(await yN()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,vN(t)),await r.done}catch(n){if(n instanceof vu)nl.warn(n.message);else{const r=tc.create("idb-set",{originalErrorMessage:n?.message});nl.warn(r.message)}}}function vN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=1024,Uj=30;class Vj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Uj){const i=qj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K_(),{heartbeatsToSend:n,unsentEntries:r}=zj(this._heartbeatsCache.heartbeats),i=s1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return nl.warn(e),""}}}function K_(){return new Date().toISOString().substring(0,10)}function zj(t,e=Fj){const n=[];let r=t.slice();for(const i of t){const a=n.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),Q_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M7()?P7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Q_(t){return s1(JSON.stringify({version:2,heartbeats:t})).length}function qj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){wd(new Tf("platform-logger",e=>new rj(e),"PRIVATE")),wd(new Tf("heartbeat",e=>new Vj(e),"PRIVATE")),nc(c2,Y_,t),nc(c2,Y_,"esm2020"),nc("fire-js","")}Gj("");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rc,xN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,H){function F(){}F.prototype=H.prototype,B.D=H.prototype,B.prototype=new F,B.prototype.constructor=B,B.C=function(J,q,K){for(var U=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)U[ae-2]=arguments[ae];return H.prototype[q].apply(J,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,H,F){F||(F=0);var J=Array(16);if(typeof H=="string")for(var q=0;16>q;++q)J[q]=H.charCodeAt(F++)|H.charCodeAt(F++)<<8|H.charCodeAt(F++)<<16|H.charCodeAt(F++)<<24;else for(q=0;16>q;++q)J[q]=H[F++]|H[F++]<<8|H[F++]<<16|H[F++]<<24;H=B.g[0],F=B.g[1],q=B.g[2];var K=B.g[3],U=H+(K^F&(q^K))+J[0]+3614090360&4294967295;H=F+(U<<7&4294967295|U>>>25),U=K+(q^H&(F^q))+J[1]+3905402710&4294967295,K=H+(U<<12&4294967295|U>>>20),U=q+(F^K&(H^F))+J[2]+606105819&4294967295,q=K+(U<<17&4294967295|U>>>15),U=F+(H^q&(K^H))+J[3]+3250441966&4294967295,F=q+(U<<22&4294967295|U>>>10),U=H+(K^F&(q^K))+J[4]+4118548399&4294967295,H=F+(U<<7&4294967295|U>>>25),U=K+(q^H&(F^q))+J[5]+1200080426&4294967295,K=H+(U<<12&4294967295|U>>>20),U=q+(F^K&(H^F))+J[6]+2821735955&4294967295,q=K+(U<<17&4294967295|U>>>15),U=F+(H^q&(K^H))+J[7]+4249261313&4294967295,F=q+(U<<22&4294967295|U>>>10),U=H+(K^F&(q^K))+J[8]+1770035416&4294967295,H=F+(U<<7&4294967295|U>>>25),U=K+(q^H&(F^q))+J[9]+2336552879&4294967295,K=H+(U<<12&4294967295|U>>>20),U=q+(F^K&(H^F))+J[10]+4294925233&4294967295,q=K+(U<<17&4294967295|U>>>15),U=F+(H^q&(K^H))+J[11]+2304563134&4294967295,F=q+(U<<22&4294967295|U>>>10),U=H+(K^F&(q^K))+J[12]+1804603682&4294967295,H=F+(U<<7&4294967295|U>>>25),U=K+(q^H&(F^q))+J[13]+4254626195&4294967295,K=H+(U<<12&4294967295|U>>>20),U=q+(F^K&(H^F))+J[14]+2792965006&4294967295,q=K+(U<<17&4294967295|U>>>15),U=F+(H^q&(K^H))+J[15]+1236535329&4294967295,F=q+(U<<22&4294967295|U>>>10),U=H+(q^K&(F^q))+J[1]+4129170786&4294967295,H=F+(U<<5&4294967295|U>>>27),U=K+(F^q&(H^F))+J[6]+3225465664&4294967295,K=H+(U<<9&4294967295|U>>>23),U=q+(H^F&(K^H))+J[11]+643717713&4294967295,q=K+(U<<14&4294967295|U>>>18),U=F+(K^H&(q^K))+J[0]+3921069994&4294967295,F=q+(U<<20&4294967295|U>>>12),U=H+(q^K&(F^q))+J[5]+3593408605&4294967295,H=F+(U<<5&4294967295|U>>>27),U=K+(F^q&(H^F))+J[10]+38016083&4294967295,K=H+(U<<9&4294967295|U>>>23),U=q+(H^F&(K^H))+J[15]+3634488961&4294967295,q=K+(U<<14&4294967295|U>>>18),U=F+(K^H&(q^K))+J[4]+3889429448&4294967295,F=q+(U<<20&4294967295|U>>>12),U=H+(q^K&(F^q))+J[9]+568446438&4294967295,H=F+(U<<5&4294967295|U>>>27),U=K+(F^q&(H^F))+J[14]+3275163606&4294967295,K=H+(U<<9&4294967295|U>>>23),U=q+(H^F&(K^H))+J[3]+4107603335&4294967295,q=K+(U<<14&4294967295|U>>>18),U=F+(K^H&(q^K))+J[8]+1163531501&4294967295,F=q+(U<<20&4294967295|U>>>12),U=H+(q^K&(F^q))+J[13]+2850285829&4294967295,H=F+(U<<5&4294967295|U>>>27),U=K+(F^q&(H^F))+J[2]+4243563512&4294967295,K=H+(U<<9&4294967295|U>>>23),U=q+(H^F&(K^H))+J[7]+1735328473&4294967295,q=K+(U<<14&4294967295|U>>>18),U=F+(K^H&(q^K))+J[12]+2368359562&4294967295,F=q+(U<<20&4294967295|U>>>12),U=H+(F^q^K)+J[5]+4294588738&4294967295,H=F+(U<<4&4294967295|U>>>28),U=K+(H^F^q)+J[8]+2272392833&4294967295,K=H+(U<<11&4294967295|U>>>21),U=q+(K^H^F)+J[11]+1839030562&4294967295,q=K+(U<<16&4294967295|U>>>16),U=F+(q^K^H)+J[14]+4259657740&4294967295,F=q+(U<<23&4294967295|U>>>9),U=H+(F^q^K)+J[1]+2763975236&4294967295,H=F+(U<<4&4294967295|U>>>28),U=K+(H^F^q)+J[4]+1272893353&4294967295,K=H+(U<<11&4294967295|U>>>21),U=q+(K^H^F)+J[7]+4139469664&4294967295,q=K+(U<<16&4294967295|U>>>16),U=F+(q^K^H)+J[10]+3200236656&4294967295,F=q+(U<<23&4294967295|U>>>9),U=H+(F^q^K)+J[13]+681279174&4294967295,H=F+(U<<4&4294967295|U>>>28),U=K+(H^F^q)+J[0]+3936430074&4294967295,K=H+(U<<11&4294967295|U>>>21),U=q+(K^H^F)+J[3]+3572445317&4294967295,q=K+(U<<16&4294967295|U>>>16),U=F+(q^K^H)+J[6]+76029189&4294967295,F=q+(U<<23&4294967295|U>>>9),U=H+(F^q^K)+J[9]+3654602809&4294967295,H=F+(U<<4&4294967295|U>>>28),U=K+(H^F^q)+J[12]+3873151461&4294967295,K=H+(U<<11&4294967295|U>>>21),U=q+(K^H^F)+J[15]+530742520&4294967295,q=K+(U<<16&4294967295|U>>>16),U=F+(q^K^H)+J[2]+3299628645&4294967295,F=q+(U<<23&4294967295|U>>>9),U=H+(q^(F|~K))+J[0]+4096336452&4294967295,H=F+(U<<6&4294967295|U>>>26),U=K+(F^(H|~q))+J[7]+1126891415&4294967295,K=H+(U<<10&4294967295|U>>>22),U=q+(H^(K|~F))+J[14]+2878612391&4294967295,q=K+(U<<15&4294967295|U>>>17),U=F+(K^(q|~H))+J[5]+4237533241&4294967295,F=q+(U<<21&4294967295|U>>>11),U=H+(q^(F|~K))+J[12]+1700485571&4294967295,H=F+(U<<6&4294967295|U>>>26),U=K+(F^(H|~q))+J[3]+2399980690&4294967295,K=H+(U<<10&4294967295|U>>>22),U=q+(H^(K|~F))+J[10]+4293915773&4294967295,q=K+(U<<15&4294967295|U>>>17),U=F+(K^(q|~H))+J[1]+2240044497&4294967295,F=q+(U<<21&4294967295|U>>>11),U=H+(q^(F|~K))+J[8]+1873313359&4294967295,H=F+(U<<6&4294967295|U>>>26),U=K+(F^(H|~q))+J[15]+4264355552&4294967295,K=H+(U<<10&4294967295|U>>>22),U=q+(H^(K|~F))+J[6]+2734768916&4294967295,q=K+(U<<15&4294967295|U>>>17),U=F+(K^(q|~H))+J[13]+1309151649&4294967295,F=q+(U<<21&4294967295|U>>>11),U=H+(q^(F|~K))+J[4]+4149444226&4294967295,H=F+(U<<6&4294967295|U>>>26),U=K+(F^(H|~q))+J[11]+3174756917&4294967295,K=H+(U<<10&4294967295|U>>>22),U=q+(H^(K|~F))+J[2]+718787259&4294967295,q=K+(U<<15&4294967295|U>>>17),U=F+(K^(q|~H))+J[9]+3951481745&4294967295,B.g[0]=B.g[0]+H&4294967295,B.g[1]=B.g[1]+(q+(U<<21&4294967295|U>>>11))&4294967295,B.g[2]=B.g[2]+q&4294967295,B.g[3]=B.g[3]+K&4294967295}r.prototype.u=function(B,H){H===void 0&&(H=B.length);for(var F=H-this.blockSize,J=this.B,q=this.h,K=0;K<H;){if(q==0)for(;K<=F;)i(this,B,K),K+=this.blockSize;if(typeof B=="string"){for(;K<H;)if(J[q++]=B.charCodeAt(K++),q==this.blockSize){i(this,J),q=0;break}}else for(;K<H;)if(J[q++]=B[K++],q==this.blockSize){i(this,J),q=0;break}}this.h=q,this.o+=H},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var H=1;H<B.length-8;++H)B[H]=0;var F=8*this.o;for(H=B.length-8;H<B.length;++H)B[H]=F&255,F/=256;for(this.u(B),B=Array(16),H=F=0;4>H;++H)for(var J=0;32>J;J+=8)B[F++]=this.g[H]>>>J&255;return B};function a(B,H){var F=d;return Object.prototype.hasOwnProperty.call(F,B)?F[B]:F[B]=H(B)}function u(B,H){this.h=H;for(var F=[],J=!0,q=B.length-1;0<=q;q--){var K=B[q]|0;J&&K==H||(F[q]=K,J=!1)}this.g=F}var d={};function m(B){return-128<=B&&128>B?a(B,function(H){return new u([H|0],0>H?-1:0)}):new u([B|0],0>B?-1:0)}function g(B){if(isNaN(B)||!isFinite(B))return w;if(0>B)return M(g(-B));for(var H=[],F=1,J=0;B>=F;J++)H[J]=B/F|0,F*=4294967296;return new u(H,0)}function v(B,H){if(B.length==0)throw Error("number format error: empty string");if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(B.charAt(0)=="-")return M(v(B.substring(1),H));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=g(Math.pow(H,8)),J=w,q=0;q<B.length;q+=8){var K=Math.min(8,B.length-q),U=parseInt(B.substring(q,q+K),H);8>K?(K=g(Math.pow(H,K)),J=J.j(K).add(g(U))):(J=J.j(F),J=J.add(g(U)))}return J}var w=m(0),S=m(1),I=m(16777216);t=u.prototype,t.m=function(){if(P(this))return-M(this).m();for(var B=0,H=1,F=0;F<this.g.length;F++){var J=this.i(F);B+=(0<=J?J:4294967296+J)*H,H*=4294967296}return B},t.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(D(this))return"0";if(P(this))return"-"+M(this).toString(B);for(var H=g(Math.pow(B,6)),F=this,J="";;){var q=te(F,H).g;F=L(F,q.j(H));var K=((0<F.g.length?F.g[0]:F.h)>>>0).toString(B);if(F=q,D(F))return K+J;for(;6>K.length;)K="0"+K;J=K+J}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function D(B){if(B.h!=0)return!1;for(var H=0;H<B.g.length;H++)if(B.g[H]!=0)return!1;return!0}function P(B){return B.h==-1}t.l=function(B){return B=L(this,B),P(B)?-1:D(B)?0:1};function M(B){for(var H=B.g.length,F=[],J=0;J<H;J++)F[J]=~B.g[J];return new u(F,~B.h).add(S)}t.abs=function(){return P(this)?M(this):this},t.add=function(B){for(var H=Math.max(this.g.length,B.g.length),F=[],J=0,q=0;q<=H;q++){var K=J+(this.i(q)&65535)+(B.i(q)&65535),U=(K>>>16)+(this.i(q)>>>16)+(B.i(q)>>>16);J=U>>>16,K&=65535,U&=65535,F[q]=U<<16|K}return new u(F,F[F.length-1]&-2147483648?-1:0)};function L(B,H){return B.add(M(H))}t.j=function(B){if(D(this)||D(B))return w;if(P(this))return P(B)?M(this).j(M(B)):M(M(this).j(B));if(P(B))return M(this.j(M(B)));if(0>this.l(I)&&0>B.l(I))return g(this.m()*B.m());for(var H=this.g.length+B.g.length,F=[],J=0;J<2*H;J++)F[J]=0;for(J=0;J<this.g.length;J++)for(var q=0;q<B.g.length;q++){var K=this.i(J)>>>16,U=this.i(J)&65535,ae=B.i(q)>>>16,re=B.i(q)&65535;F[2*J+2*q]+=U*re,$(F,2*J+2*q),F[2*J+2*q+1]+=K*re,$(F,2*J+2*q+1),F[2*J+2*q+1]+=U*ae,$(F,2*J+2*q+1),F[2*J+2*q+2]+=K*ae,$(F,2*J+2*q+2)}for(J=0;J<H;J++)F[J]=F[2*J+1]<<16|F[2*J];for(J=H;J<2*H;J++)F[J]=0;return new u(F,0)};function $(B,H){for(;(B[H]&65535)!=B[H];)B[H+1]+=B[H]>>>16,B[H]&=65535,H++}function z(B,H){this.g=B,this.h=H}function te(B,H){if(D(H))throw Error("division by zero");if(D(B))return new z(w,w);if(P(B))return H=te(M(B),H),new z(M(H.g),M(H.h));if(P(H))return H=te(B,M(H)),new z(M(H.g),H.h);if(30<B.g.length){if(P(B)||P(H))throw Error("slowDivide_ only works with positive integers.");for(var F=S,J=H;0>=J.l(B);)F=X(F),J=X(J);var q=ee(F,1),K=ee(J,1);for(J=ee(J,2),F=ee(F,2);!D(J);){var U=K.add(J);0>=U.l(B)&&(q=q.add(F),K=U),J=ee(J,1),F=ee(F,1)}return H=L(B,q.j(H)),new z(q,H)}for(q=w;0<=B.l(H);){for(F=Math.max(1,Math.floor(B.m()/H.m())),J=Math.ceil(Math.log(F)/Math.LN2),J=48>=J?1:Math.pow(2,J-48),K=g(F),U=K.j(H);P(U)||0<U.l(B);)F-=J,K=g(F),U=K.j(H);D(K)&&(K=S),q=q.add(K),B=L(B,U)}return new z(q,B)}t.A=function(B){return te(this,B).h},t.and=function(B){for(var H=Math.max(this.g.length,B.g.length),F=[],J=0;J<H;J++)F[J]=this.i(J)&B.i(J);return new u(F,this.h&B.h)},t.or=function(B){for(var H=Math.max(this.g.length,B.g.length),F=[],J=0;J<H;J++)F[J]=this.i(J)|B.i(J);return new u(F,this.h|B.h)},t.xor=function(B){for(var H=Math.max(this.g.length,B.g.length),F=[],J=0;J<H;J++)F[J]=this.i(J)^B.i(J);return new u(F,this.h^B.h)};function X(B){for(var H=B.g.length+1,F=[],J=0;J<H;J++)F[J]=B.i(J)<<1|B.i(J-1)>>>31;return new u(F,B.h)}function ee(B,H){var F=H>>5;H%=32;for(var J=B.g.length-F,q=[],K=0;K<J;K++)q[K]=0<H?B.i(K+F)>>>H|B.i(K+F+1)<<32-H:B.i(K+F);return new u(q,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xN=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,rc=u}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bN,sd,wN,Wg,h2,EN,AN,SN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,k,V){return A==Array.prototype||A==Object.prototype||(A[k]=V.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eg=="object"&&Eg];for(var k=0;k<A.length;++k){var V=A[k];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(A,k){if(k)e:{var V=r;A=A.split(".");for(var ne=0;ne<A.length-1;ne++){var pe=A[ne];if(!(pe in V))break e;V=V[pe]}A=A[A.length-1],ne=V[A],k=k(ne),k!=ne&&k!=null&&e(V,A,{configurable:!0,writable:!0,value:k})}}function a(A,k){A instanceof String&&(A+="");var V=0,ne=!1,pe={next:function(){if(!ne&&V<A.length){var _e=V++;return{value:k(_e,A[_e]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}i("Array.prototype.values",function(A){return A||function(){return a(this,function(k,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(A){var k=typeof A;return k=k!="object"?k:A?Array.isArray(A)?"array":k:"null",k=="array"||k=="object"&&typeof A.length=="number"}function g(A){var k=typeof A;return k=="object"&&A!=null||k=="function"}function v(A,k,V){return A.call.apply(A.bind,arguments)}function w(A,k,V){if(!A)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,ne),A.apply(k,pe)}}return function(){return A.apply(k,arguments)}}function S(A,k,V){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,S.apply(null,arguments)}function I(A,k){var V=Array.prototype.slice.call(arguments,1);return function(){var ne=V.slice();return ne.push.apply(ne,arguments),A.apply(this,ne)}}function D(A,k){function V(){}V.prototype=k.prototype,A.aa=k.prototype,A.prototype=new V,A.prototype.constructor=A,A.Qb=function(ne,pe,_e){for(var Ge=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)Ge[Zt-2]=arguments[Zt];return k.prototype[pe].apply(ne,Ge)}}function P(A){const k=A.length;if(0<k){const V=Array(k);for(let ne=0;ne<k;ne++)V[ne]=A[ne];return V}return[]}function M(A,k){for(let V=1;V<arguments.length;V++){const ne=arguments[V];if(m(ne)){const pe=A.length||0,_e=ne.length||0;A.length=pe+_e;for(let Ge=0;Ge<_e;Ge++)A[pe+Ge]=ne[Ge]}else A.push(ne)}}class L{constructor(k,V){this.i=k,this.j=V,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function $(A){return/^[\s\xa0]*$/.test(A)}function z(){var A=d.navigator;return A&&(A=A.userAgent)?A:""}function te(A){return te[" "](A),A}te[" "]=function(){};var X=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ee(A,k,V){for(const ne in A)k.call(V,A[ne],ne,A)}function B(A,k){for(const V in A)k.call(void 0,A[V],V,A)}function H(A){const k={};for(const V in A)k[V]=A[V];return k}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(A,k){let V,ne;for(let pe=1;pe<arguments.length;pe++){ne=arguments[pe];for(V in ne)A[V]=ne[V];for(let _e=0;_e<F.length;_e++)V=F[_e],Object.prototype.hasOwnProperty.call(ne,V)&&(A[V]=ne[V])}}function q(A){var k=1;A=A.split(":");const V=[];for(;0<k&&A.length;)V.push(A.shift()),k--;return A.length&&V.push(A.join(":")),V}function K(A){d.setTimeout(()=>{throw A},0)}function U(){var A=Ue;let k=null;return A.g&&(k=A.g,A.g=A.g.next,A.g||(A.h=null),k.next=null),k}class ae{constructor(){this.h=this.g=null}add(k,V){const ne=re.get();ne.set(k,V),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var re=new L(()=>new le,A=>A.reset());class le{constructor(){this.next=this.g=this.h=null}set(k,V){this.h=k,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Te=!1,Ue=new ae,oe=()=>{const A=d.Promise.resolve(void 0);ce=()=>{A.then(be)}};var be=()=>{for(var A;A=U();){try{A.h.call(A.g)}catch(V){K(V)}var k=re;k.j(A),100>k.h&&(k.h++,A.next=k.g,k.g=A)}Te=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(A,k){this.type=A,this.g=this.target=k,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var A=!1,k=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const V=()=>{};d.addEventListener("test",V,k),d.removeEventListener("test",V,k)}catch{}return A}();function at(A,k){if(Le.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var V=this.type=A.type,ne=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=k,k=A.relatedTarget){if(X){e:{try{te(k.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(k=null)}}else V=="mouseover"?k=A.fromElement:V=="mouseout"&&(k=A.toElement);this.relatedTarget=k,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:Ne[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&at.aa.h.call(this)}}D(at,Le);var Ne={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),lt=0;function Oe(A,k,V,ne,pe){this.listener=A,this.proxy=null,this.src=k,this.type=V,this.capture=!!ne,this.ha=pe,this.key=++lt,this.da=this.fa=!1}function nt(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function st(A){this.src=A,this.g={},this.h=0}st.prototype.add=function(A,k,V,ne,pe){var _e=A.toString();A=this.g[_e],A||(A=this.g[_e]=[],this.h++);var Ge=Je(A,k,ne,pe);return-1<Ge?(k=A[Ge],V||(k.fa=!1)):(k=new Oe(k,this.src,_e,!!ne,pe),k.fa=V,A.push(k)),k};function De(A,k){var V=k.type;if(V in A.g){var ne=A.g[V],pe=Array.prototype.indexOf.call(ne,k,void 0),_e;(_e=0<=pe)&&Array.prototype.splice.call(ne,pe,1),_e&&(nt(k),A.g[V].length==0&&(delete A.g[V],A.h--))}}function Je(A,k,V,ne){for(var pe=0;pe<A.length;++pe){var _e=A[pe];if(!_e.da&&_e.listener==k&&_e.capture==!!V&&_e.ha==ne)return pe}return-1}var Qe="closure_lm_"+(1e6*Math.random()|0),ht={};function hn(A,k,V,ne,pe){if(Array.isArray(k)){for(var _e=0;_e<k.length;_e++)hn(A,k[_e],V,ne,pe);return null}return V=Xs(V),A&&A[Bt]?A.K(k,V,g(ne)?!!ne.capture:!1,pe):It(A,k,V,!1,ne,pe)}function It(A,k,V,ne,pe,_e){if(!k)throw Error("Invalid event type");var Ge=g(pe)?!!pe.capture:!!pe,Zt=Ur(A);if(Zt||(A[Qe]=Zt=new st(A)),V=Zt.add(k,V,ne,Ge,_e),V.proxy)return V;if(ne=Mt(),V.proxy=ne,ne.src=A,ne.listener=V,A.addEventListener)Ye||(pe=Ge),pe===void 0&&(pe=!1),A.addEventListener(k.toString(),ne,pe);else if(A.attachEvent)A.attachEvent($e(k.toString()),ne);else if(A.addListener&&A.removeListener)A.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Mt(){function A(V){return k.call(A.src,A.listener,V)}const k=la;return A}function At(A,k,V,ne,pe){if(Array.isArray(k))for(var _e=0;_e<k.length;_e++)At(A,k[_e],V,ne,pe);else ne=g(ne)?!!ne.capture:!!ne,V=Xs(V),A&&A[Bt]?(A=A.i,k=String(k).toString(),k in A.g&&(_e=A.g[k],V=Je(_e,V,ne,pe),-1<V&&(nt(_e[V]),Array.prototype.splice.call(_e,V,1),_e.length==0&&(delete A.g[k],A.h--)))):A&&(A=Ur(A))&&(k=A.g[k.toString()],A=-1,k&&(A=Je(k,V,ne,pe)),(V=-1<A?k[A]:null)&&Pt(V))}function Pt(A){if(typeof A!="number"&&A&&!A.da){var k=A.src;if(k&&k[Bt])De(k.i,A);else{var V=A.type,ne=A.proxy;k.removeEventListener?k.removeEventListener(V,ne,A.capture):k.detachEvent?k.detachEvent($e(V),ne):k.addListener&&k.removeListener&&k.removeListener(ne),(V=Ur(k))?(De(V,A),V.h==0&&(V.src=null,k[Qe]=null)):nt(A)}}}function $e(A){return A in ht?ht[A]:ht[A]="on"+A}function la(A,k){if(A.da)A=!0;else{k=new at(k,this);var V=A.listener,ne=A.ha||A.src;A.fa&&Pt(A),A=V.call(ne,k)}return A}function Ur(A){return A=A[Qe],A instanceof st?A:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(A){return typeof A=="function"?A:(A[vi]||(A[vi]=function(k){return A.handleEvent(k)}),A[vi])}function Qt(){Ie.call(this),this.i=new st(this),this.M=this,this.F=null}D(Qt,Ie),Qt.prototype[Bt]=!0,Qt.prototype.removeEventListener=function(A,k,V,ne){At(this,A,k,V,ne)};function sn(A,k){var V,ne=A.F;if(ne)for(V=[];ne;ne=ne.F)V.push(ne);if(A=A.M,ne=k.type||k,typeof k=="string")k=new Le(k,A);else if(k instanceof Le)k.target=k.target||A;else{var pe=k;k=new Le(ne,A),J(k,pe)}if(pe=!0,V)for(var _e=V.length-1;0<=_e;_e--){var Ge=k.g=V[_e];pe=ir(Ge,ne,!0,k)&&pe}if(Ge=k.g=A,pe=ir(Ge,ne,!0,k)&&pe,pe=ir(Ge,ne,!1,k)&&pe,V)for(_e=0;_e<V.length;_e++)Ge=k.g=V[_e],pe=ir(Ge,ne,!1,k)&&pe}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var A=this.i,k;for(k in A.g){for(var V=A.g[k],ne=0;ne<V.length;ne++)nt(V[ne]);delete A.g[k],A.h--}}this.F=null},Qt.prototype.K=function(A,k,V,ne){return this.i.add(String(A),k,!1,V,ne)},Qt.prototype.L=function(A,k,V,ne){return this.i.add(String(A),k,!0,V,ne)};function ir(A,k,V,ne){if(k=A.i.g[String(k)],!k)return!0;k=k.concat();for(var pe=!0,_e=0;_e<k.length;++_e){var Ge=k[_e];if(Ge&&!Ge.da&&Ge.capture==V){var Zt=Ge.listener,tr=Ge.ha||Ge.src;Ge.fa&&De(A.i,Ge),pe=Zt.call(tr,ne)!==!1&&pe}}return pe&&!ne.defaultPrevented}function on(A,k,V){if(typeof A=="function")V&&(A=S(A,V));else if(A&&typeof A.handleEvent=="function")A=S(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:d.setTimeout(A,k||0)}function ot(A){A.g=on(()=>{A.g=null,A.i&&(A.i=!1,ot(A))},A.l);const k=A.h;A.h=null,A.m.apply(null,k)}class mt extends Ie{constructor(k,V){super(),this.m=k,this.l=V,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(A){Ie.call(this),this.h=A,this.g={}}D(Ht,Ie);var yt=[];function Fe(A){ee(A.g,function(k,V){this.g.hasOwnProperty(V)&&Pt(k)},A),A.g={}}Ht.prototype.N=function(){Ht.aa.N.call(this),Fe(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=d.JSON.stringify,Gt=d.JSON.parse,gn=class{stringify(A){return d.JSON.stringify(A,void 0)}parse(A){return d.JSON.parse(A,void 0)}};function Ms(){}Ms.prototype.h=null;function Co(A){return A.h||(A.h=A.i())}function vl(){}var Lt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){Le.call(this,"d")}D(xi,Le);function xl(){Le.call(this,"c")}D(xl,Le);var Ta={},bi=null;function rs(){return bi=bi||new Qt}Ta.La="serverreachability";function vr(A){Le.call(this,Ta.La,A)}D(vr,Le);function Zi(A){const k=rs();sn(k,new vr(k))}Ta.STAT_EVENT="statevent";function _o(A,k){Le.call(this,Ta.STAT_EVENT,A),this.stat=k}D(_o,Le);function an(A){const k=rs();sn(k,new _o(k,A))}Ta.Ma="timingevent";function Nr(A,k){Le.call(this,Ta.Ma,A),this.size=k}D(Nr,Le);function Dn(A,k){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){A()},k)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function Vr(A,k,V,ne,pe,_e){A.info(function(){if(A.g)if(_e)for(var Ge="",Zt=_e.split("&"),tr=0;tr<Zt.length;tr++){var Jt=Zt[tr].split("=");if(1<Jt.length){var Vn=Jt[0];Jt=Jt[1];var ur=Vn.split("_");Ge=2<=ur.length&&ur[1]=="type"?Ge+(Vn+"="+Jt+"&"):Ge+(Vn+"=redacted&")}}else Ge=null;else Ge=_e;return"XMLHTTP REQ ("+ne+") [attempt "+pe+"]: "+k+`
`+V+`
`+Ge})}function Ps(A,k,V,ne,pe,_e,Ge){A.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+pe+"]: "+k+`
`+V+`
`+_e+" "+Ge})}function Dr(A,k,V,ne){A.info(function(){return"XMLHTTP TEXT ("+k+"): "+ca(A,V)+(ne?" "+ne:"")})}function Ke(A,k){A.info(function(){return"TIMEOUT: "+k})}Li.prototype.info=function(){};function ca(A,k){if(!A.g)return k;if(!k)return null;try{var V=JSON.parse(k);if(V){for(A=0;A<V.length;A++)if(Array.isArray(V[A])){var ne=V[A];if(!(2>ne.length)){var pe=ne[1];if(Array.isArray(pe)&&!(1>pe.length)){var _e=pe[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Ge=1;Ge<pe.length;Ge++)pe[Ge]=""}}}}return St(V)}catch{return k}}var is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wi;function Ji(){}D(Ji,Ms),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},wi=new Ji;function zr(A,k,V,ne){this.j=A,this.i=k,this.l=V,this.R=ne||1,this.U=new Ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mn}function mn(){this.i=null,this.g="",this.h=!1}var Tc={},bl={};function Er(A,k,V){A.L=1,A.v=Wn(Vt(k)),A.m=V,A.P=!0,Qn(A,null)}function Qn(A,k){A.F=Date.now(),ji(A),A.A=Vt(A.v);var V=A.A,ne=A.R;Array.isArray(ne)||(ne=[String(ne)]),or(V.i,"t",ne),A.C=0,V=A.j.J,A.h=new mn,A.g=Ou(A.j,V?k:null,!A.m),0<A.O&&(A.M=new mt(S(A.Y,A,A.g),A.O)),k=A.U,V=A.g,ne=A.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(yt[0]=pe.toString()),pe=yt);for(var _e=0;_e<pe.length;_e++){var Ge=hn(V,pe[_e],ne||k.handleEvent,!1,k.h||k);if(!Ge)break;k.g[Ge.key]=Ge}k=A.H?H(A.H):{},A.m?(A.u||(A.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,k)):(A.u="GET",A.g.ea(A.A,A.u,null,k)),Zi(),Vr(A.i,A.u,A.A,A.l,A.R,A.m)}zr.prototype.ca=function(A){A=A.target;const k=this.M;k&&fa(A)==3?k.j():this.Y(A)},zr.prototype.Y=function(A){try{if(A==this.g)e:{const ur=fa(this.g);var k=this.g.Ba();const Sr=this.g.Z();if(!(3>ur)&&(ur!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||ur!=4||k==7||(k==8||0>=Sr?Zi(3):Zi(2)),ke(this);var V=this.g.Z();this.X=V;t:if(_n(this)){var ne=_u(this.g);A="";var pe=ne.length,_e=fa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),as(this);var Ge="";break t}this.h.i=new d.TextDecoder}for(k=0;k<pe;k++)this.h.h=!0,A+=this.h.i.decode(ne[k],{stream:!(_e&&k==pe-1)});ne.length=0,this.h.g+=A,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=V==200,Ps(this.i,this.u,this.A,this.l,this.R,ur,V),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,tr=this.g;if((Zt=tr.g?tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Zt)){var Jt=Zt;break t}}Jt=null}if(V=Jt)Dr(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ua(this,V);else{this.o=!1,this.s=3,an(12),Ft(this),as(this);break e}}if(this.P){V=!0;let Hr;for(;!this.J&&this.C<Ge.length;)if(Hr=Ic(this,Ge),Hr==bl){ur==4&&(this.s=4,an(14),V=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Hr==Tc){this.s=4,an(15),Dr(this.i,this.l,Ge,"[Invalid Chunk]"),V=!1;break}else Dr(this.i,this.l,Hr,null),ua(this,Hr);if(_n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ur!=4||Ge.length!=0||this.h.h||(this.s=1,an(16),V=!1),this.o=this.o&&V,!V)Dr(this.i,this.l,Ge,"[Invalid Chunked Response]"),Ft(this),as(this);else if(0<Ge.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),Bs(Vn),Vn.M=!0,an(11))}}else Dr(this.i,this.l,Ge,null),ua(this,Ge);ur==4&&Ft(this),this.o&&!this.J&&(ur==4?Un(this.j,this):(this.o=!1,ji(this)))}else pn(this.g),V==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Ft(this),as(this)}}}catch{}finally{}};function _n(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Ic(A,k){var V=A.C,ne=k.indexOf(`
`,V);return ne==-1?bl:(V=Number(k.substring(V,ne)),isNaN(V)?Tc:(ne+=1,ne+V>k.length?bl:(k=k.slice(ne,ne+V),A.C=ne+V,k)))}zr.prototype.cancel=function(){this.J=!0,Ft(this)};function ji(A){A.S=Date.now()+A.I,wl(A,A.I)}function wl(A,k){if(A.B!=null)throw Error("WatchDog timer not null");A.B=Dn(S(A.ba,A),k)}function ke(A){A.B&&(d.clearTimeout(A.B),A.B=null)}zr.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(Ke(this.i,this.A),this.L!=2&&(Zi(),an(17)),Ft(this),this.s=2,as(this)):wl(this,this.S-A)};function as(A){A.j.G==0||A.J||Un(A.j,A)}function Ft(A){ke(A);var k=A.M;k&&typeof k.ma=="function"&&k.ma(),A.M=null,Fe(A.U),A.g&&(k=A.g,A.g=null,k.abort(),k.ma())}function ua(A,k){try{var V=A.j;if(V.G!=0&&(V.g==A||To(V.h,A))){if(!A.K&&To(V.h,A)&&V.G==3){try{var ne=V.Da.g.parse(k)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var pe=ne;if(pe[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<A.F)eo(V),Cl(V);else break e;Oc(V),an(18)}}else V.za=pe[1],0<V.za-V.T&&37500>pe[2]&&V.F&&V.v==0&&!V.C&&(V.C=Dn(S(V.Za,V),6e3));if(1>=kt(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Ai(V,11)}else if((A.K||V.g==A)&&eo(V),!$(k))for(pe=V.Da.g.parse(k),k=0;k<pe.length;k++){let Jt=pe[k];if(V.T=Jt[0],Jt=Jt[1],V.G==2)if(Jt[0]=="c"){V.K=Jt[1],V.ia=Jt[2];const Vn=Jt[3];Vn!=null&&(V.la=Vn,V.j.info("VER="+V.la));const ur=Jt[4];ur!=null&&(V.Aa=ur,V.j.info("SVER="+V.Aa));const Sr=Jt[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(ne=1.5*Sr,V.L=ne,V.j.info("backChannelRequestTimeoutMs_="+ne)),ne=V;const Hr=A.g;if(Hr){const Pr=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var _e=ne.h;_e.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Ks(_e,_e.h),_e.h=null))}if(ne.D){const Rc=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Rc&&(ne.ya=Rc,We(ne.I,ne.D,Rc))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-A.F,V.j.info("Handshake RTT: "+V.R+"ms")),ne=V;var Ge=A;if(ne.qa=pt(ne,ne.J?ne.ia:null,ne.W),Ge.K){Qr(ne.h,Ge);var Zt=Ge,tr=ne.L;tr&&(Zt.I=tr),Zt.B&&(ke(Zt),ji(Zt)),ne.g=Ge}else Iu(ne);0<V.i.length&&Tt(V)}else Jt[0]!="stop"&&Jt[0]!="close"||Ai(V,7);else V.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ai(V,7):ha(V):Jt[0]!="noop"&&V.l&&V.l.ta(Jt),V.v=0)}}Zi(4)}catch{}}var Su=class{constructor(A,k){this.g=A,this.map=k}};function Ut(A){this.l=A||10,d.PerformanceNavigationTiming?(A=d.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wt(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function kt(A){return A.h?1:A.g?A.g.size:0}function To(A,k){return A.h?A.h==k:A.g?A.g.has(k):!1}function Ks(A,k){A.g?A.g.add(k):A.h=k}function Qr(A,k){A.h&&A.h==k?A.h=null:A.g&&A.g.has(k)&&A.g.delete(k)}Ut.prototype.cancel=function(){if(this.i=Zn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Zn(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let k=A.i;for(const V of A.g.values())k=k.concat(V.D);return k}return P(A.i)}function ss(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(m(A)){for(var k=[],V=A.length,ne=0;ne<V;ne++)k.push(A[ne]);return k}k=[],V=0;for(ne in A)k[V++]=A[ne];return k}function El(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(m(A)||typeof A=="string"){var k=[];A=A.length;for(var V=0;V<A;V++)k.push(V);return k}k=[],V=0;for(const ne in A)k[V++]=ne;return k}}}function jn(A,k){if(A.forEach&&typeof A.forEach=="function")A.forEach(k,void 0);else if(m(A)||typeof A=="string")Array.prototype.forEach.call(A,k,void 0);else for(var V=El(A),ne=ss(A),pe=ne.length,_e=0;_e<pe;_e++)k.call(void 0,ne[_e],V&&V[_e],A)}var Bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ch(A,k){if(A){A=A.split("&");for(var V=0;V<A.length;V++){var ne=A[V].indexOf("="),pe=null;if(0<=ne){var _e=A[V].substring(0,ne);pe=A[V].substring(ne+1)}else _e=A[V];k(_e,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Bn(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof Bn){this.h=A.h,sr(this,A.j),this.o=A.o,this.g=A.g,me(this,A.s),this.l=A.l;var k=A.i,V=new Ia;V.i=k.i,k.g&&(V.g=new Map(k.g),V.h=k.h),ie(this,V),this.m=A.m}else A&&(k=String(A).match(Bi))?(this.h=!1,sr(this,k[1]||"",!0),this.o=Jn(k[2]||""),this.g=Jn(k[3]||"",!0),me(this,k[4]),this.l=Jn(k[5]||"",!0),ie(this,k[6]||"",!0),this.m=Jn(k[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}Bn.prototype.toString=function(){var A=[],k=this.j;k&&A.push(Io(k,ci,!0),":");var V=this.g;return(V||k=="file")&&(A.push("//"),(k=this.o)&&A.push(Io(k,ci,!0),"@"),A.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&A.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&A.push("/"),A.push(Io(V,V.charAt(0)=="/"?Fn:ut,!0))),(V=this.i.toString())&&A.push("?",V),(V=this.m)&&A.push("#",Io(V,Sl)),A.join("")};function Vt(A){return new Bn(A)}function sr(A,k,V){A.j=V?Jn(k,!0):k,A.j&&(A.j=A.j.replace(/:$/,""))}function me(A,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);A.s=k}else A.s=null}function ie(A,k,V){k instanceof Ia?(A.i=k,Ra(A.i,A.h)):(V||(k=Io(k,Cu)),A.i=new Ia(k,A.h))}function We(A,k,V){A.i.set(k,V)}function Wn(A){return We(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Jn(A,k){return A?k?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Io(A,k,V){return typeof A=="string"?(A=encodeURI(A).replace(k,Al),V&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function Al(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var ci=/[#\/\?@]/g,ut=/[#\?:]/g,Fn=/[#\?]/g,Cu=/[#\?@]/g,Sl=/#/g;function Ia(A,k){this.h=this.g=null,this.i=A||null,this.j=!!k}function Ei(A){A.g||(A.g=new Map,A.h=0,A.i&&ch(A.i,function(k,V){A.add(decodeURIComponent(k.replace(/\+/g," ")),V)}))}t=Ia.prototype,t.add=function(A,k){Ei(this),this.i=null,A=Fi(this,A);var V=this.g.get(A);return V||this.g.set(A,V=[]),V.push(k),this.h+=1,this};function Oa(A,k){Ei(A),k=Fi(A,k),A.g.has(k)&&(A.i=null,A.h-=A.g.get(k).length,A.g.delete(k))}function ks(A,k){return Ei(A),k=Fi(A,k),A.g.has(k)}t.forEach=function(A,k){Ei(this),this.g.forEach(function(V,ne){V.forEach(function(pe){A.call(k,pe,ne,this)},this)},this)},t.na=function(){Ei(this);const A=Array.from(this.g.values()),k=Array.from(this.g.keys()),V=[];for(let ne=0;ne<k.length;ne++){const pe=A[ne];for(let _e=0;_e<pe.length;_e++)V.push(k[ne])}return V},t.V=function(A){Ei(this);let k=[];if(typeof A=="string")ks(this,A)&&(k=k.concat(this.g.get(Fi(this,A))));else{A=Array.from(this.g.values());for(let V=0;V<A.length;V++)k=k.concat(A[V])}return k},t.set=function(A,k){return Ei(this),this.i=null,A=Fi(this,A),ks(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[k]),this.h+=1,this},t.get=function(A,k){return A?(A=this.V(A),0<A.length?String(A[0]):k):k};function or(A,k,V){Oa(A,k),0<V.length&&(A.i=null,A.g.set(Fi(A,k),P(V)),A.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],k=Array.from(this.g.keys());for(var V=0;V<k.length;V++){var ne=k[V];const _e=encodeURIComponent(String(ne)),Ge=this.V(ne);for(ne=0;ne<Ge.length;ne++){var pe=_e;Ge[ne]!==""&&(pe+="="+encodeURIComponent(String(Ge[ne]))),A.push(pe)}}return this.i=A.join("&")};function Fi(A,k){return k=String(k),A.j&&(k=k.toLowerCase()),k}function Ra(A,k){k&&!A.j&&(Ei(A),A.i=null,A.g.forEach(function(V,ne){var pe=ne.toLowerCase();ne!=pe&&(Oa(this,ne),or(this,pe,V))},A)),A.j=k}function dt(A,k){const V=new Li;if(d.Image){const ne=new Image;ne.onload=I(xt,V,"TestLoadImage: loaded",!0,k,ne),ne.onerror=I(xt,V,"TestLoadImage: error",!1,k,ne),ne.onabort=I(xt,V,"TestLoadImage: abort",!1,k,ne),ne.ontimeout=I(xt,V,"TestLoadImage: timeout",!1,k,ne),d.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=A}else k(!1)}function Na(A,k){const V=new Li,ne=new AbortController,pe=setTimeout(()=>{ne.abort(),xt(V,"TestPingServer: timeout",!1,k)},1e4);fetch(A,{signal:ne.signal}).then(_e=>{clearTimeout(pe),_e.ok?xt(V,"TestPingServer: ok",!0,k):xt(V,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(pe),xt(V,"TestPingServer: error",!1,k)})}function xt(A,k,V,ne,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),ne(V)}catch{}}function er(){this.g=new gn}function os(A,k,V){const ne=V||"";try{jn(A,function(pe,_e){let Ge=pe;g(pe)&&(Ge=St(pe)),k.push(ne+_e+"="+encodeURIComponent(Ge))})}catch(pe){throw k.push(ne+"type="+encodeURIComponent("_badmap")),pe}}function ls(A){this.l=A.Ub||null,this.j=A.eb||!1}D(ls,Ms),ls.prototype.g=function(){return new cs(this.l,this.j)},ls.prototype.i=function(A){return function(){return A}}({});function cs(A,k){Qt.call(this),this.D=A,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(cs,Qt),t=cs.prototype,t.open=function(A,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=k,this.readyState=1,Ui(this)},t.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(k.body=A),(this.D||d).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},t.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Da(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Da(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}t.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var k=A.value?A.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!A.done}))&&(this.response=this.responseText+=k)}A.done?us(this):Ui(this),this.readyState==3&&Da(this)}},t.Ra=function(A){this.g&&(this.response=this.responseText=A,us(this))},t.Qa=function(A){this.g&&(this.response=A,us(this))},t.ga=function(){this.g&&us(this)};function us(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Ui(A)}t.setRequestHeader=function(A,k){this.u.append(A,k)},t.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],k=this.h.entries();for(var V=k.next();!V.done;)V=V.value,A.push(V[0]+": "+V[1]),V=k.next();return A.join(`\r
`)};function Ui(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Ls(A){let k="";return ee(A,function(V,ne){k+=ne,k+=":",k+=V,k+=`\r
`}),k}function lr(A,k,V){e:{for(ne in V){var ne=!1;break e}ne=!0}ne||(V=Ls(V),typeof A=="string"?V!=null&&encodeURIComponent(String(V)):We(A,k,V))}function dn(A){Qt.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(dn,Qt);var fs=/^https?$/i,Ma=["POST","PUT"];t=dn.prototype,t.Ha=function(A){this.J=A},t.ea=function(A,k,V,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);k=k?k.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wi.g(),this.v=this.o?Co(this.o):Co(wi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(k,String(A),!0),this.B=!1}catch(_e){Zr(this,_e);return}if(A=V||"",V=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var pe in ne)V.set(pe,ne[pe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const _e of ne.keys())V.set(_e,ne.get(_e));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(V.keys()).find(_e=>_e.toLowerCase()=="content-type"),pe=d.FormData&&A instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ma,k,void 0))||ne||pe||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Ge]of V)this.g.setRequestHeader(_e,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(A),this.u=!1}catch(_e){Zr(this,_e)}};function Zr(A,k){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=k,A.m=5,Oo(A),Pa(A)}function Oo(A){A.A||(A.A=!0,sn(A,"complete"),sn(A,"error"))}t.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,sn(this,"complete"),sn(this,"abort"),Pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),dn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},t.bb=function(){Ro(this)};function Ro(A){if(A.h&&typeof u<"u"&&(!A.v[1]||fa(A)!=4||A.Z()!=2)){if(A.u&&fa(A)==4)on(A.Ea,0,A);else if(sn(A,"readystatechange"),fa(A)==4){A.h=!1;try{const Ge=A.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var V;if(!(V=k)){var ne;if(ne=Ge===0){var pe=String(A.D).match(Bi)[1]||null;!pe&&d.self&&d.self.location&&(pe=d.self.location.protocol.slice(0,-1)),ne=!fs.test(pe?pe.toLowerCase():"")}V=ne}if(V)sn(A,"complete"),sn(A,"success");else{A.m=6;try{var _e=2<fa(A)?A.g.statusText:""}catch{_e=""}A.l=_e+" ["+A.Z()+"]",Oo(A)}}finally{Pa(A)}}}}function Pa(A,k){if(A.g){No(A);const V=A.g,ne=A.v[0]?()=>{}:null;A.g=null,A.v=null,k||sn(A,"ready");try{V.onreadystatechange=ne}catch{}}}function No(A){A.I&&(d.clearTimeout(A.I),A.I=null)}t.isActive=function(){return!!this.g};function fa(A){return A.g?A.g.readyState:0}t.Z=function(){try{return 2<fa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(A){if(this.g){var k=this.g.responseText;return A&&k.indexOf(A)==0&&(k=k.substring(A.length)),Gt(k)}};function _u(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function pn(A){const k={};A=(A.g&&2<=fa(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<A.length;ne++){if($(A[ne]))continue;var V=q(A[ne]);const pe=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const _e=k[pe]||[];k[pe]=_e,_e.push(V)}B(k,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(A,k,V){return V&&V.internalChannelParams&&V.internalChannelParams[A]||k}function js(A){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,A),this.cb=Qs("retryDelaySeedMs",1e4,A),this.Wa=Qs("forwardChannelMaxRetries",2,A),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new Ut(A&&A.concurrentRequestLimit),this.Da=new er,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=js.prototype,t.la=8,t.G=1,t.connect=function(A,k,V,ne){an(0),this.W=A,this.H=k||{},V&&ne!==void 0&&(this.H.OSID=V,this.H.OAID=ne),this.F=this.X,this.I=pt(this,null,this.W),Tt(this)};function ha(A){if(Se(A),A.G==3){var k=A.U++,V=Vt(A.I);if(We(V,"SID",A.K),We(V,"RID",k),We(V,"TYPE","terminate"),Js(A,V),k=new zr(A,A.j,k),k.L=2,k.v=Wn(Vt(V)),V=!1,d.navigator&&d.navigator.sendBeacon)try{V=d.navigator.sendBeacon(k.v.toString(),"")}catch{}!V&&d.Image&&(new Image().src=k.v,V=!0),V||(k.g=Ou(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ji(k)}yn(A)}function Cl(A){A.g&&(Bs(A),A.g.cancel(),A.g=null)}function Se(A){Cl(A),A.u&&(d.clearTimeout(A.u),A.u=null),eo(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&d.clearTimeout(A.s),A.s=null)}function Tt(A){if(!Wt(A.h)&&!A.s){A.s=!0;var k=A.Ga;ce||oe(),Te||(ce(),Te=!0),Ue.add(k,A),A.B=0}}function Mr(A,k){return kt(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=k.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=Dn(S(A.Ga,A,k),to(A,A.B)),A.B++,!0)}t.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const pe=new zr(this,this.j,A);let _e=this.o;if(this.S&&(_e?(_e=H(_e),J(_e,this.S)):_e=this.S),this.m!==null||this.O||(pe.H=_e,_e=null),this.P)e:{for(var k=0,V=0;V<this.i.length;V++){t:{var ne=this.i[V];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(k+=ne,4096<k){k=V;break e}if(k===4096||V===this.i.length-1){k=V+1;break e}}k=1e3}else k=1e3;k=Tu(this,pe,k),V=Vt(this.I),We(V,"RID",A),We(V,"CVER",22),this.D&&We(V,"X-HTTP-Session-Id",this.D),Js(this,V),_e&&(this.O?k="headers="+encodeURIComponent(String(Ls(_e)))+"&"+k:this.m&&lr(V,this.m,_e)),Ks(this.h,pe),this.Ua&&We(V,"TYPE","init"),this.P?(We(V,"$req",k),We(V,"SID","null"),pe.T=!0,Er(pe,V,null)):Er(pe,V,k),this.G=2}}else this.G==3&&(A?Zs(this,A):this.i.length==0||Wt(this.h)||Zs(this))};function Zs(A,k){var V;k?V=k.l:V=A.U++;const ne=Vt(A.I);We(ne,"SID",A.K),We(ne,"RID",V),We(ne,"AID",A.T),Js(A,ne),A.m&&A.o&&lr(ne,A.m,A.o),V=new zr(A,A.j,V,A.B+1),A.m===null&&(V.H=A.o),k&&(A.i=k.D.concat(A.i)),k=Tu(A,V,1e3),V.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Ks(A.h,V),Er(V,ne,k)}function Js(A,k){A.H&&ee(A.H,function(V,ne){We(k,ne,V)}),A.l&&jn({},function(V,ne){We(k,ne,V)})}function Tu(A,k,V){V=Math.min(A.i.length,V);var ne=A.l?S(A.l.Na,A.l,A):null;e:{var pe=A.i;let _e=-1;for(;;){const Ge=["count="+V];_e==-1?0<V?(_e=pe[0].g,Ge.push("ofs="+_e)):_e=0:Ge.push("ofs="+_e);let Zt=!0;for(let tr=0;tr<V;tr++){let Jt=pe[tr].g;const Vn=pe[tr].map;if(Jt-=_e,0>Jt)_e=Math.max(0,pe[tr].g-100),Zt=!1;else try{os(Vn,Ge,"req"+Jt+"_")}catch{ne&&ne(Vn)}}if(Zt){ne=Ge.join("&");break e}}}return A=A.i.splice(0,V),k.D=A,ne}function Iu(A){if(!A.g&&!A.u){A.Y=1;var k=A.Fa;ce||oe(),Te||(ce(),Te=!0),Ue.add(k,A),A.v=0}}function Oc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=Dn(S(A.Fa,A),to(A,A.v)),A.v++,!0)}t.Fa=function(){if(this.u=null,cr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=Dn(S(this.ab,this),A)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),Cl(this),cr(this))};function Bs(A){A.A!=null&&(d.clearTimeout(A.A),A.A=null)}function cr(A){A.g=new zr(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var k=Vt(A.qa);We(k,"RID","rpc"),We(k,"SID",A.K),We(k,"AID",A.T),We(k,"CI",A.F?"0":"1"),!A.F&&A.ja&&We(k,"TO",A.ja),We(k,"TYPE","xmlhttp"),Js(A,k),A.m&&A.o&&lr(k,A.m,A.o),A.L&&(A.g.I=A.L);var V=A.g;A=A.ia,V.L=1,V.v=Wn(Vt(k)),V.m=null,V.P=!0,Qn(V,A)}t.Za=function(){this.C!=null&&(this.C=null,Cl(this),Oc(this),an(19))};function eo(A){A.C!=null&&(d.clearTimeout(A.C),A.C=null)}function Un(A,k){var V=null;if(A.g==k){eo(A),Bs(A),A.g=null;var ne=2}else if(To(A.h,k))V=k.D,Qr(A.h,k),ne=1;else return;if(A.G!=0){if(k.o)if(ne==1){V=k.m?k.m.length:0,k=Date.now()-k.F;var pe=A.B;ne=rs(),sn(ne,new Nr(ne,V)),Tt(A)}else Iu(A);else if(pe=k.s,pe==3||pe==0&&0<k.X||!(ne==1&&Mr(A,k)||ne==2&&Oc(A)))switch(V&&0<V.length&&(k=A.h,k.i=k.i.concat(V)),pe){case 1:Ai(A,5);break;case 4:Ai(A,10);break;case 3:Ai(A,6);break;default:Ai(A,2)}}}function to(A,k){let V=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(V*=2),V*k}function Ai(A,k){if(A.j.info("Error code "+k),k==2){var V=S(A.fb,A),ne=A.Xa;const pe=!ne;ne=new Bn(ne||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sr(ne,"https"),Wn(ne),pe?dt(ne.toString(),V):Na(ne.toString(),V)}else an(2);A.G=0,A.l&&A.l.sa(k),yn(A),Se(A)}t.fb=function(A){A?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function yn(A){if(A.G=0,A.ka=[],A.l){const k=Zn(A.h);(k.length!=0||A.i.length!=0)&&(M(A.ka,k),M(A.ka,A.i),A.h.i.length=0,P(A.i),A.i.length=0),A.l.ra()}}function pt(A,k,V){var ne=V instanceof Bn?Vt(V):new Bn(V);if(ne.g!="")k&&(ne.g=k+"."+ne.g),me(ne,ne.s);else{var pe=d.location;ne=pe.protocol,k=k?k+"."+pe.hostname:pe.hostname,pe=+pe.port;var _e=new Bn(null);ne&&sr(_e,ne),k&&(_e.g=k),pe&&me(_e,pe),V&&(_e.l=V),ne=_e}return V=A.D,k=A.ya,V&&k&&We(ne,V,k),We(ne,"VER",A.la),Js(A,ne),ne}function Ou(A,k,V){if(k&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=A.Ca&&!A.pa?new dn(new ls({eb:V})):new dn(A.pa),k.Ha(A.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sn(){}t=Sn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function da(){}da.prototype.g=function(A,k){return new Ar(A,k)};function Ar(A,k){Qt.call(this),this.g=new js(k),this.l=A,this.h=k&&k.messageUrlParams||null,A=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(A?A["X-WebChannel-Content-Type"]=k.messageContentType:A={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(A?A["X-WebChannel-Client-Profile"]=k.va:A={"X-WebChannel-Client-Profile":k.va}),this.g.S=A,(A=k&&k.Sb)&&!$(A)&&(this.g.m=A),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!$(k)&&(this.g.D=k,A=this.h,A!==null&&k in A&&(A=this.h,k in A&&delete A[k])),this.j=new ga(this)}D(Ar,Qt),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){ha(this.g)},Ar.prototype.o=function(A){var k=this.g;if(typeof A=="string"){var V={};V.__data__=A,A=V}else this.u&&(V={},V.__data__=St(A),A=V);k.i.push(new Su(k.Ya++,A)),k.G==3&&Tt(k)},Ar.prototype.N=function(){this.g.l=null,delete this.j,ha(this.g),delete this.g,Ar.aa.N.call(this)};function Ru(A){xi.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var k=A.__sm__;if(k){e:{for(const V in k){A=V;break e}A=void 0}(this.i=A)&&(A=this.i,k=k!==null&&A in k?k[A]:void 0),this.data=k}else this.data=A}D(Ru,xi);function ea(){xl.call(this),this.status=1}D(ea,xl);function ga(A){this.g=A}D(ga,Sn),ga.prototype.ua=function(){sn(this.g,"a")},ga.prototype.ta=function(A){sn(this.g,new Ru(A))},ga.prototype.sa=function(A){sn(this.g,new ea)},ga.prototype.ra=function(){sn(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,SN=function(){return new da},AN=function(){return rs()},EN=Ta,h2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,Wg=is,ar.COMPLETE="complete",wN=ar,vl.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,sd=vl,dn.prototype.listenOnce=dn.prototype.L,dn.prototype.getLastError=dn.prototype.Ka,dn.prototype.getLastErrorCode=dn.prototype.Ba,dn.prototype.getStatus=dn.prototype.Z,dn.prototype.getResponseJson=dn.prototype.Oa,dn.prototype.getResponseText=dn.prototype.oa,dn.prototype.send=dn.prototype.ea,dn.prototype.setWithCredentials=dn.prototype.Ha,bN=dn}).apply(typeof Eg<"u"?Eg:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",eT="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new uN("@firebase/firestore");function uf(){return au.logLevel}function et(t,...e){if(au.logLevel<=un.DEBUG){const n=e.map(Lb);au.debug(`Firestore (${Yf}): ${t}`,...n)}}function rl(t,...e){if(au.logLevel<=un.ERROR){const n=e.map(Lb);au.error(`Firestore (${Yf}): ${t}`,...n)}}function If(t,...e){if(au.logLevel<=un.WARN){const n=e.map(Lb);au.warn(`Firestore (${Yf}): ${t}`,...n)}}function Lb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CN(t,r,n)}function CN(t,e,n){let r=`FIRESTORE (${Yf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rl(r),new Error(r)}function Cn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||CN(e,i,r)}function Dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends vu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yi.UNAUTHENTICATED))}shutdown(){}}class Yj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $j{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Cn(this.o===void 0,42304);let r=this.i;const i=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let a=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zo,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const m=a;e.enqueueRetryable(async()=>{await m.promise,await i(this.currentUser)})},d=m=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zo)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Cn(typeof r.accessToken=="string",31837,{l:r}),new _N(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cn(e===null||typeof e=="string",2055,{h:e}),new Yi(e)}}class Xj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Xj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Cn(this.o===void 0,3512);const r=a=>{a.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,et("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Cn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Zj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function nn(t,e){return t<e?-1:t>e?1:0}function d2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return wv(i)===wv(a)?nn(i,a):wv(i)?1:-1}return nn(t.length,e.length)}const Jj=55296,eB=57343;function wv(t){const e=t.charCodeAt(0);return e>=Jj&&e<=eB}function Of(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__name__";class co{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ct(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ct(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return co.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=co.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return nn(e.length,n.length)}static compareSegments(e,n){const r=co.isNumericId(e),i=co.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?co.extractNumericId(e).compare(co.extractNumericId(n)):d2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rc.fromString(e.substring(4,e.length-2))}}class Xn extends co{construct(e,n,r){return new Xn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xn(n)}static emptyPath(){return new Xn([])}}const tB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends co{construct(e,n,r){return new Di(e,n,r)}static isValidIdentifier(e){return tB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new Di([nT])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Xe(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Xe(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Xe(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(a(),i++)}if(a(),u)throw new Xe(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(n)}static emptyPath(){return new Di([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Xn.fromString(e))}static fromName(e){return new vt(Xn.fromString(e).popFirst(5))}static empty(){return new vt(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Xn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e,n){if(!n)throw new Xe(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nB(t,e,n,r){if(e===!0&&r===!0)throw new Xe(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rT(t){if(!vt.isDocumentKey(t))throw new Xe(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iT(t){if(vt.isDocumentKey(t))throw new Xe(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function IN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ct(12329,{type:typeof t})}function Ca(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xm(t);throw new Xe(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wd(t,e){if(!IN(t))throw new Xe(Pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(i&&typeof u!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Xe(Pe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=-62135596800,sT=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sT);return new An(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aT)throw new Xe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sT}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:An._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wd(e,An._jsonSchema))return new An(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}An._jsonSchemaVersion="firestore/timestamp/1.0",An._jsonSchema={type:$r("string",An._jsonSchemaVersion),seconds:$r("number"),nanoseconds:$r("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new An(0,0))}static max(){return new Rt(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=-1;function rB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(r===1e9?new An(n+1,0):new An(n,r));return new oc(i,vt.empty(),e)}function iB(t){return new oc(t.readTime,t.key,Ad)}class oc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oc(Rt.min(),vt.empty(),Ad)}static max(){return new oc(Rt.max(),vt.empty(),Ad)}}function aB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(t.documentKey,e.documentKey),n!==0?n:nn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==sB)throw t;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Be((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Be?n:Be.resolve(n)}catch(n){return Be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.reject(n)}static resolve(e){return new Be((n,r)=>{n(e)})}static reject(e){return new Be((n,r)=>{r(e)})}static waitFor(e){return new Be((n,r)=>{let i=0,a=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++a,u&&a===i&&n()},m=>r(m))}),u=!0,a===i&&n()})}static or(e){let n=Be.resolve(!1);for(const r of e)n=n.next(i=>i?Be.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Be((r,i)=>{const a=e.length,u=new Array(a);let d=0;for(let m=0;m<a;m++){const g=m;n(e[g]).next(v=>{u[g]=v,++d,d===a&&r(u)},v=>i(v))}})}static doWhile(e,n){return new Be((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function lB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=-1;function wm(t){return t==null}function c1(t){return t===0&&1/t==-1/0}function cB(t){return typeof t=="number"&&Number.isInteger(t)&&!c1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="";function uB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oT(e)),e=fB(t.get(n),e);return oT(e)}function fB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case ON:n+="";break;default:n+=a}}return n}function oT(t){return t+ON+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.comparator=e,this.root=n||Ri.EMPTY}insert(e,n){return new br(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ag(this.root,e,this.comparator,!0)}}class Ag{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ri.RED,this.left=i??Ri.EMPTY,this.right=a??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ri(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cT(this.data.getIterator())}getIteratorFrom(e){return new cT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ii(this.comparator);return n.data=e,n}}class cT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new Za([])}unionWith(e){let n=new ii(Di.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Za(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Of(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NN("Invalid base64 string: "+a):a}}(e);return new Mi(n)}static fromUint8Array(e){const n=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new Mi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const hB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(t){if(Cn(!!t,39018),typeof t=="string"){let e=0;const n=hB.exec(t);if(Cn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(t.seconds),nanos:Br(t.nanos)}}function Br(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cc(t){return typeof t=="string"?Mi.fromBase64String(t):Mi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="server_timestamp",MN="__type__",PN="__previous_value__",kN="__local_write_time__";function Fb(t){return(t?.mapValue?.fields||{})[MN]?.stringValue===DN}function Em(t){const e=t.mapValue.fields[PN];return Fb(e)?Em(e):e}function Sd(t){const e=lc(t.mapValue.fields[kN].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,r,i,a,u,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const u1="(default)";class Cd{constructor(e,n){this.projectId=e,this.database=n||u1}static empty(){return new Cd("","")}get isDefaultDatabase(){return this.database===u1}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__type__",gB="__max__",Sg={mapValue:{}},jN="__vector__",f1="value";function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fb(t)?4:pB(t)?9007199254740991:mB(t)?10:11:Ct(28295,{value:t})}function yo(t,e){if(t===e)return!0;const n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=lc(i.timestampValue),d=lc(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return cc(i.bytesValue).isEqual(cc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Br(i.geoPointValue.latitude)===Br(a.geoPointValue.latitude)&&Br(i.geoPointValue.longitude)===Br(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Br(i.integerValue)===Br(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Br(i.doubleValue),d=Br(a.doubleValue);return u===d?c1(u)===c1(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return Of(t.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},d=a.mapValue.fields||{};if(lT(u)!==lT(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!yo(u[m],d[m])))return!1;return!0}(t,e);default:return Ct(52216,{left:t})}}function _d(t,e){return(t.values||[]).find(n=>yo(n,e))!==void 0}function Rf(t,e){if(t===e)return 0;const n=uc(t),r=uc(e);if(n!==r)return nn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nn(t.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Br(a.integerValue||a.doubleValue),m=Br(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return uT(t.timestampValue,e.timestampValue);case 4:return uT(Sd(t),Sd(e));case 5:return d2(t.stringValue,e.stringValue);case 6:return function(a,u){const d=cc(a),m=cc(u);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=nn(d[g],m[g]);if(v!==0)return v}return nn(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const d=nn(Br(a.latitude),Br(u.latitude));return d!==0?d:nn(Br(a.longitude),Br(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fT(t.arrayValue,e.arrayValue);case 10:return function(a,u){const d=a.fields||{},m=u.fields||{},g=d[f1]?.arrayValue,v=m[f1]?.arrayValue,w=nn(g?.values?.length||0,v?.values?.length||0);return w!==0?w:fT(g,v)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Sg.mapValue&&u===Sg.mapValue)return 0;if(a===Sg.mapValue)return 1;if(u===Sg.mapValue)return-1;const d=a.fields||{},m=Object.keys(d),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let w=0;w<m.length&&w<v.length;++w){const S=d2(m[w],v[w]);if(S!==0)return S;const I=Rf(d[m[w]],g[v[w]]);if(I!==0)return I}return nn(m.length,v.length)}(t.mapValue,e.mapValue);default:throw Ct(23264,{he:n})}}function uT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nn(t,e);const n=lc(t),r=lc(e),i=nn(n.seconds,r.seconds);return i!==0?i:nn(n.nanos,r.nanos)}function fT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Rf(n[i],r[i]);if(a)return a}return nn(n.length,r.length)}function Nf(t){return g2(t)}function g2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return vt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=g2(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${g2(n.fields[u])}`;return i+"}"}(t.mapValue):Ct(61005,{value:t})}function Yg(t){switch(uc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Em(t);return e?16+Yg(e):16;case 5:return 2*t.stringValue.length;case 6:return cc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Yg(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return bc(r.fields,(a,u)=>{i+=a.length+Yg(u)}),i}(t.mapValue);default:throw Ct(13486,{value:t})}}function hT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m2(t){return!!t&&"integerValue"in t}function Ub(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function gT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $g(t){return!!t&&"mapValue"in t}function mB(t){return(t?.mapValue?.fields||{})[LN]?.stringValue===jN}function gd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gd(t.arrayValue.values[n]);return e}return{...t}}function pB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.value=e}static empty(){return new Ea({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$g(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(n)}setAll(e){let n=Di.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,i),r={},i=[],n=d.popLast()}u?r[d.lastSegment()]=gd(u):i.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());$g(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$g(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bc(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ea(gd(this.value))}}function BN(t){const e=[];return bc(t.fields,(n,r)=>{const i=new Di([n]);if($g(r)){const a=BN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Za(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r,i,a,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new $i(e,0,Rt.min(),Rt.min(),Rt.min(),Ea.empty(),0)}static newFoundDocument(e,n,r,i){return new $i(e,1,n,Rt.min(),r,i,0)}static newNoDocument(e,n){return new $i(e,2,n,Rt.min(),Rt.min(),Ea.empty(),0)}static newUnknownDocument(e,n){return new $i(e,3,n,Rt.min(),Rt.min(),Ea.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ea.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.position=e,this.inclusive=n}}function mT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],u=t.position[i];if(a.field.isKeyField()?r=vt.comparator(vt.fromName(u.referenceValue),n.key):r=Rf(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function pT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n="asc"){this.field=e,this.dir=n}}function yB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{}class Yr extends FN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xB(e,n,r):n==="array-contains"?new EB(e,r):n==="in"?new AB(e,r):n==="not-in"?new SB(e,r):n==="array-contains-any"?new CB(e,r):new Yr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bB(e,r):new wB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rf(n,this.value)):n!==null&&uc(this.value)===uc(n)&&this.matchesComparison(Rf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends FN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ws(e,n)}matches(e){return UN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UN(t){return t.op==="and"}function VN(t){return vB(t)&&UN(t)}function vB(t){for(const e of t.filters)if(e instanceof Ws)return!1;return!0}function p2(t){if(t instanceof Yr)return t.field.canonicalString()+t.op.toString()+Nf(t.value);if(VN(t))return t.filters.map(e=>p2(e)).join(",");{const e=t.filters.map(n=>p2(n)).join(",");return`${t.op}(${e})`}}function zN(t,e){return t instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.field.isEqual(i.field)&&yo(r.value,i.value)}(t,e):t instanceof Ws?function(r,i){return i instanceof Ws&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,d)=>a&&zN(u,i.filters[d]),!0):!1}(t,e):void Ct(19439)}function HN(t){return t instanceof Yr?function(n){return`${n.field.canonicalString()} ${n.op} ${Nf(n.value)}`}(t):t instanceof Ws?function(n){return n.op.toString()+" {"+n.getFilters().map(HN).join(" ,")+"}"}(t):"Filter"}class xB extends Yr{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class bB extends Yr{constructor(e,n){super(e,"in",n),this.keys=qN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wB extends Yr{constructor(e,n){super(e,"not-in",n),this.keys=qN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qN(t,e){return(e.arrayValue?.values||[]).map(n=>vt.fromName(n.referenceValue))}class EB extends Yr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ub(n)&&_d(n.arrayValue,this.value)}}class AB extends Yr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_d(this.value.arrayValue,n)}}class SB extends Yr{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_d(this.value.arrayValue,n)}}class CB extends Yr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ub(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n=null,r=[],i=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function yT(t,e=null,n=[],r=[],i=null,a=null,u=null){return new _B(t,e,n,r,i,a,u)}function Vb(t){const e=Dt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>p2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nf(r)).join(",")),e.Te=n}return e.Te}function zb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pT(t.startAt,e.startAt)&&pT(t.endAt,e.endAt)}function y2(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n=null,r=[],i=[],a=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TB(t,e,n,r,i,a,u,d){return new Kf(t,e,n,r,i,a,u,d)}function Am(t){return new Kf(t)}function vT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GN(t){return t.collectionGroup!==null}function md(t){const e=Dt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new ii(Di.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Td(a,r))}),n.has(Di.keyField().canonicalString())||e.Ie.push(new Td(Di.keyField(),r))}return e.Ie}function fo(t){const e=Dt(t);return e.Ee||(e.Ee=IB(e,md(t))),e.Ee}function IB(t,e){if(t.limitType==="F")return yT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Td(i.field,a)});const n=t.endAt?new h1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new h1(t.startAt.position,t.startAt.inclusive):null;return yT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v2(t,e){const n=t.filters.concat([e]);return new Kf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d1(t,e,n){return new Kf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sm(t,e){return zb(fo(t),fo(e))&&t.limitType===e.limitType}function WN(t){return`${Vb(fo(t))}|lt:${t.limitType}`}function ff(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HN(i)).join(", ")}]`),wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Nf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Nf(i)).join(",")),`Target(${r})`}(fo(t))}; limitType=${t.limitType})`}function Cm(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):vt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of md(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,d,m){const g=mT(u,d,m);return u.inclusive?g<=0:g<0}(r.startAt,md(r),i)||r.endAt&&!function(u,d,m){const g=mT(u,d,m);return u.inclusive?g>=0:g>0}(r.endAt,md(r),i))}(t,e)}function OB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YN(t){return(e,n)=>{let r=!1;for(const i of md(t)){const a=RB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function RB(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(a,u,d){const m=u.data.field(a),g=d.data.field(a);return m!==null&&g!==null?Rf(m,g):Ct(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ct(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return RN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new br(vt.comparator);function il(){return NB}const $N=new br(vt.comparator);function od(...t){let e=$N;for(const n of t)e=e.insert(n.key,n);return e}function XN(t){let e=$N;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $c(){return pd()}function KN(){return pd()}function pd(){return new xu(t=>t.toString(),(t,e)=>t.isEqual(e))}const DB=new br(vt.comparator),MB=new ii(vt.comparator);function rn(...t){let e=MB;for(const n of t)e=e.add(n);return e}const PB=new ii(nn);function kB(){return PB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c1(e)?"-0":e}}function QN(t){return{integerValue:""+t}}function ZN(t,e){return cB(e)?QN(e):Hb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this._=void 0}}function LB(t,e,n){return t instanceof Id?function(i,a){const u={fields:{[MN]:{stringValue:DN},[kN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Fb(a)&&(a=Em(a)),a&&(u.fields[PN]=a),{mapValue:u}}(n,e):t instanceof Od?eD(t,e):t instanceof Rd?tD(t,e):function(i,a){const u=JN(i,a),d=xT(u)+xT(i.Ae);return m2(u)&&m2(i.Ae)?QN(d):Hb(i.serializer,d)}(t,e)}function jB(t,e,n){return t instanceof Od?eD(t,e):t instanceof Rd?tD(t,e):n}function JN(t,e){return t instanceof Nd?function(r){return m2(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Id extends _m{}class Od extends _m{constructor(e){super(),this.elements=e}}function eD(t,e){const n=nD(e);for(const r of t.elements)n.some(i=>yo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Rd extends _m{constructor(e){super(),this.elements=e}}function tD(t,e){let n=nD(e);for(const r of t.elements)n=n.filter(i=>!yo(i,r));return{arrayValue:{values:n}}}class Nd extends _m{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xT(t){return Br(t.integerValue||t.doubleValue)}function nD(t){return Ub(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n){this.field=e,this.transform=n}}function BB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Od&&i instanceof Od||r instanceof Rd&&i instanceof Rd?Of(r.elements,i.elements,yo):r instanceof Nd&&i instanceof Nd?yo(r.Ae,i.Ae):r instanceof Id&&i instanceof Id}(t.transform,e.transform)}class FB{constructor(e,n){this.version=e,this.transformResults=n}}class _s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tm{}function iD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qb(t.key,_s.none()):new Yd(t.key,t.data,_s.none());{const n=t.data,r=Ea.empty();let i=new ii(Di.comparator);for(let a of e.fields)if(!i.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new wc(t.key,r,new Za(i.toArray()),_s.none())}}function UB(t,e,n){t instanceof Yd?function(i,a,u){const d=i.value.clone(),m=wT(i.fieldTransforms,a,u.transformResults);d.setAll(m),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof wc?function(i,a,u){if(!Xg(i.precondition,a))return void a.convertToUnknownDocument(u.version);const d=wT(i.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(aD(i)),m.setAll(d),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function yd(t,e,n,r){return t instanceof Yd?function(a,u,d,m){if(!Xg(a.precondition,u))return d;const g=a.value.clone(),v=ET(a.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof wc?function(a,u,d,m){if(!Xg(a.precondition,u))return d;const g=ET(a.fieldTransforms,m,u),v=u.data;return v.setAll(aD(a)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(a,u,d){return Xg(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function VB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=JN(r.transform,i||null);a!=null&&(n===null&&(n=Ea.empty()),n.set(r.field,a))}return n||null}function bT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Of(r,i,(a,u)=>BB(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends Tm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wc extends Tm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wT(t,e,n){const r=new Map;Cn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],u=a.transform,d=e.data.field(a.field);r.set(a.field,jB(u,d,n[i]))}return r}function ET(t,e,n){const r=new Map;for(const i of t){const a=i.transform,u=n.data.field(i.field);r.set(i.field,LB(a,u,e))}return r}class qb extends Tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zB extends Tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&UB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KN();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(i.key)?null:d;const m=iD(u,d);m!==null&&r.set(i.key,m),u.isValidDocument()||u.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rn())}isEqual(e){return this.batchId===e.batchId&&Of(this.mutations,e.mutations,(n,r)=>bT(n,r))&&Of(this.baseMutations,e.baseMutations,(n,r)=>bT(n,r))}}class Gb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Cn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return DB}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Gb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wr,cn;function WB(t){switch(t){case Pe.OK:return Ct(64938);case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return Ct(15467,{code:t})}}function sD(t){if(t===void 0)return rl("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case Wr.OK:return Pe.OK;case Wr.CANCELLED:return Pe.CANCELLED;case Wr.UNKNOWN:return Pe.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Pe.INTERNAL;case Wr.UNAVAILABLE:return Pe.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Pe.NOT_FOUND;case Wr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Wr.ABORTED:return Pe.ABORTED;case Wr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Wr.DATA_LOSS:return Pe.DATA_LOSS;default:return Ct(39323,{code:t})}}(cn=Wr||(Wr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=new rc([4294967295,4294967295],0);function AT(t){const e=YB().encode(t),n=new xN;return n.update(e),new Uint8Array(n.digest())}function ST(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new rc([n,r],0),new rc([i,a],0)]}class Wb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ld(`Invalid padding: ${n}`);if(r<0)throw new ld(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ld(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ld(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(rc.fromNumber(r)));return i.compare($B)===1&&(i=new rc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=AT(e),[r,i]=ST(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Wb(a,i,n);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const n=AT(e),[r,i]=ST(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Im(Rt.min(),i,new br(nn),il(),rn())}}class $d{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class oD{constructor(e,n){this.targetId=e,this.Ce=n}}class lD{constructor(e,n,r=Mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CT{constructor(){this.ve=0,this.Fe=_T(),this.Me=Mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rn(),n=rn(),r=rn();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ct(38017,{changeType:a})}}),new $d(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_T()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Cn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XB{constructor(e){this.Ge=e,this.ze=new Map,this.je=il(),this.Je=Cg(),this.He=Cg(),this.Ye=new br(nn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ct(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(y2(a))if(r===0){const u=new vt(a.path);this.et(n,u,$i.newNoDocument(u,Rt.min()))}else Cn(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let u,d;try{u=cc(r).toUint8Array()}catch(m){if(m instanceof NN)return If("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Wb(u,i,a)}catch(m){return If(m instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,u)=>{const d=this.ot(u);if(d){if(a.current&&y2(d.target)){const m=new vt(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,$i.newNoDocument(m,e))}a.Be&&(n.set(u,a.ke()),a.qe())}});let r=rn();this.He.forEach((a,u)=>{let d=!0;u.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const i=new Im(e,n,this.Ye,this.je,r);return this.je=il(),this.Je=Cg(),this.He=Cg(),this.Ye=new br(nn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new CT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ii(nn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ii(nn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cg(){return new br(vt.comparator)}function _T(){return new br(vt.comparator)}const KB={asc:"ASCENDING",desc:"DESCENDING"},QB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZB={and:"AND",or:"OR"};class JB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x2(t,e){return t.useProto3Json||wm(e)?e:{value:e}}function g1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eF(t,e){return g1(t,e.toTimestamp())}function ho(t){return Cn(!!t,49232),Rt.fromTimestamp(function(n){const r=lc(n);return new An(r.seconds,r.nanos)}(t))}function Yb(t,e){return b2(t,e).canonicalString()}function b2(t,e){const n=function(i){return new Xn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uD(t){const e=Xn.fromString(t);return Cn(mD(e),10190,{key:e.toString()}),e}function w2(t,e){return Yb(t.databaseId,e.path)}function Ev(t,e){const n=uD(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(hD(n))}function fD(t,e){return Yb(t.databaseId,e)}function tF(t){const e=uD(t);return e.length===4?Xn.emptyPath():hD(e)}function E2(t){return new Xn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hD(t){return Cn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TT(t,e,n){return{name:w2(t,e),fields:n.value.mapValue.fields}}function nF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ct(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(g,v){return g.useProto3Json?(Cn(v===void 0||typeof v=="string",58123),Mi.fromBase64String(v||"")):(Cn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mi.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(g){const v=g.code===void 0?Pe.UNKNOWN:sD(g.code);return new Xe(v,g.message||"")}(u);n=new lD(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ev(t,r.document.name),a=ho(r.document.updateTime),u=r.document.createTime?ho(r.document.createTime):Rt.min(),d=new Ea({mapValue:{fields:r.document.fields}}),m=$i.newFoundDocument(i,a,u,d),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Kg(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ev(t,r.document),a=r.readTime?ho(r.readTime):Rt.min(),u=$i.newNoDocument(i,a),d=r.removedTargetIds||[];n=new Kg([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ev(t,r.document),a=r.removedTargetIds||[];n=new Kg([],a,i,null)}else{if(!("filter"in e))return Ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new GB(i,a),d=r.targetId;n=new oD(d,u)}}return n}function rF(t,e){let n;if(e instanceof Yd)n={update:TT(t,e.key,e.value)};else if(e instanceof qb)n={delete:w2(t,e.key)};else if(e instanceof wc)n={update:TT(t,e.key,e.data),updateMask:hF(e.fieldMask)};else{if(!(e instanceof zB))return Ct(16599,{Vt:e.type});n={verify:w2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof Id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Od)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Rd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nd)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ct(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:eF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ct(27497)}(t,e.precondition)),n}function iF(t,e){return t&&t.length>0?(Cn(e!==void 0,14353),t.map(n=>function(i,a){let u=i.updateTime?ho(i.updateTime):ho(a);return u.isEqual(Rt.min())&&(u=ho(a)),new FB(u,i.transformResults||[])}(n,e))):[]}function aF(t,e){return{documents:[fD(t,e.path)]}}function sF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fD(t,i);const a=function(g){if(g.length!==0)return gD(Ws.create(g,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:hf(S.field),direction:cF(S.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=x2(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:i}}function oF(t){let e=tF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cn(r===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(w){const S=dD(w);return S instanceof Ws&&VN(S)?S.getFilters():[S]}(n.where));let u=[];n.orderBy&&(u=function(w){return w.map(S=>function(D){return new Td(df(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(w){let S;return S=typeof w=="object"?w.value:w,wm(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(w){const S=!!w.before,I=w.values||[];return new h1(I,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,I=w.values||[];return new h1(I,S)}(n.endAt)),TB(e,i,u,a,d,"F",m,g)}function lF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=df(n.unaryFilter.field);return Yr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=df(n.unaryFilter.field);return Yr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=df(n.unaryFilter.field);return Yr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=df(n.unaryFilter.field);return Yr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yr.create(df(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ws.create(n.compositeFilter.filters.map(r=>dD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}}(n.compositeFilter.op))}(t):Ct(30097,{filter:t})}function cF(t){return KB[t]}function uF(t){return QB[t]}function fF(t){return ZB[t]}function hf(t){return{fieldPath:t.canonicalString()}}function df(t){return Di.fromServerFormat(t.fieldPath)}function gD(t){return t instanceof Yr?function(n){if(n.op==="=="){if(gT(n.value))return{unaryFilter:{field:hf(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:hf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gT(n.value))return{unaryFilter:{field:hf(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:hf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hf(n.field),op:uF(n.op),value:n.value}}}(t):t instanceof Ws?function(n){const r=n.getFilters().map(i=>gD(i));return r.length===1?r[0]:{compositeFilter:{op:fF(n.op),filters:r}}}(t):Ct(54877,{filter:t})}function hF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i,a=Rt.min(),u=Rt.min(),d=Mi.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.yt=e}}function gF(t){const e=oF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.Cn=new pF}addToCollectionParentIndex(e,n){return this.Cn.add(n),Be.resolve()}getCollectionParents(e,n){return Be.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Be.resolve()}deleteFieldIndex(e,n){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,n){return Be.resolve()}getDocumentsMatchingTarget(e,n){return Be.resolve(null)}getIndexType(e,n){return Be.resolve(0)}getFieldIndexes(e,n){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,n){return Be.resolve(oc.min())}getMinOffsetFromCollectionGroup(e,n){return Be.resolve(oc.min())}updateCollectionGroup(e,n,r){return Be.resolve()}updateIndexEntries(e,n){return Be.resolve()}}class pF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ii(Xn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ii(Xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pD=41943040;class wa{static withCacheSize(e){return new wa(e,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa.DEFAULT_COLLECTION_PERCENTILE=10,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wa.DEFAULT=new wa(pD,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wa.DISABLED=new wa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Df(0)}static cr(){return new Df(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="LruGarbageCollector",yF=1048576;function RT([t,e],[n,r]){const i=nn(t,n);return i===0?nn(e,r):i}class vF{constructor(e){this.Ir=e,this.buffer=new ii(RT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();RT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){et(OT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xf(n)?et(OT,"Ignoring IndexedDB error during garbage collection: ",n):await $f(n)}await this.Vr(3e5)})}}class bF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Be.resolve(bm.ce);const r=new vF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(IT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,u,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,u=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,n))).next(w=>(a=w,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(g=Date.now(),uf()<=un.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${a} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function wF(t,e){return new bF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.changes=new xu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yd(r.mutation,i,Za.empty(),An.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rn()){const i=$c();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let u=od();return a.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=$c();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rn()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,i){let a=il();const u=pd(),d=function(){return pd()}();return n.forEach((m,g)=>{const v=r.get(g.key);i.has(g.key)&&(v===void 0||v.mutation instanceof wc)?a=a.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),yd(v.mutation,g,v.mutation.getFieldMask(),An.now())):u.set(g.key,Za.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((g,v)=>u.set(g,v)),n.forEach((g,v)=>d.set(g,new AF(v,u.get(g)??null))),d))}recalculateAndSaveOverlays(e,n){const r=pd();let i=new br((u,d)=>u-d),a=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=r.get(m)||Za.empty();v=d.applyToLocalView(g,v),r.set(m,v);const w=(i.get(d.batchId)||rn()).add(m);i=i.insert(d.batchId,w)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,w=KN();v.forEach(S=>{if(!a.has(S)){const I=iD(n.get(S),r.get(S));I!==null&&w.set(S,I),a=a.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Be.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return vt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Be.resolve($c());let d=Ad,m=a;return u.next(g=>Be.forEach(g,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?Be.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,m,g,rn())).next(v=>({batchId:d,changes:XN(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let i=od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let u=od();return this.indexManager.getCollectionParents(e,a).next(d=>Be.forEach(d,m=>{const g=function(w,S){return new Kf(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next(v=>{v.forEach((w,S)=>{u=u.insert(w,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(u=>{a.forEach((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,$i.newInvalidDocument(v)))});let d=od();return u.forEach((m,g)=>{const v=a.get(m);v!==void 0&&yd(v.mutation,g,Za.empty(),An.now()),Cm(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Be.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ho(i.createTime)}}(n)),Be.resolve()}getNamedQuery(e,n){return Be.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:gF(i.bundledQuery),readTime:ho(i.readTime)}}(n)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.overlays=new br(vt.comparator),this.qr=new Map}getOverlay(e,n){return Be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$c();return Be.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Be.resolve()}getOverlaysForCollection(e,n,r){const i=$c(),a=n.length+1,u=new vt(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new br((g,v)=>g-v);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=a.get(g.largestBatchId);v===null&&(v=$c(),a=a.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=$c(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=i)););return Be.resolve(d)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new qB(n,r));let a=this.qr.get(n);a===void 0&&(a=rn(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.Qr=new ii(di.$r),this.Ur=new ii(di.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new di(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new di(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new vt(new Xn([])),r=new di(n,e),i=new di(n,e+1),a=[];return this.Ur.forEachInRange([r,i],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new vt(new Xn([])),r=new di(n,e),i=new di(n,e+1);let a=rn();return this.Ur.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new di(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class di{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return vt.comparator(e.key,n.key)||nn(e.Yr,n.Yr)}static Kr(e,n){return nn(e.Yr,n.Yr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ii(di.$r)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HB(a,n,r,i);this.mutationQueue.push(u);for(const d of i)this.Zr=this.Zr.add(new di(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Be.resolve(u)}lookupMutationBatch(e,n){return Be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?Bb:this.tr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new di(n,0),i=new di(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],u=>{const d=this.Xr(u.Yr);a.push(d)}),Be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ii(nn);return n.forEach(i=>{const a=new di(i,0),u=new di(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],d=>{r=r.add(d.Yr)})}),Be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;vt.isDocumentKey(a)||(a=a.child(""));const u=new di(new vt(a),0);let d=new ii(nn);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(d=d.add(m.Yr)),!0)},u),Be.resolve(this.ti(d))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Cn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Be.forEach(n.mutations,i=>{const a=new di(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new di(n,0),i=this.Zr.firstAfterOrEqual(r);return Be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.ri=e,this.docs=function(){return new br(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Be.resolve(r?r.document.mutableCopy():$i.newInvalidDocument(n))}getEntries(e,n){let r=il();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():$i.newInvalidDocument(i))}),Be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=il();const u=n.path,d=new vt(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||aB(iB(v),r)<=0||(i.has(v.key)||Cm(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Be.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ct(9500)}ii(e,n){return Be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RF(this)}getSize(e){return Be.resolve(this.size)}}class RF extends EF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Be.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.persistence=e,this.si=new xu(n=>Vb(n),zb),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new $b,this.targetCount=0,this.ai=Df.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Be.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Df(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Be.resolve()}updateTargetData(e,n){return this.Pr(n),Be.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),Be.waitFor(a).next(()=>i)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Be.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Be.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),Be.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Be.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Be.resolve(r)}containsKey(e,n){return Be.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.ui={},this.overlays={},this.ci=new bm(0),this.li=!1,this.li=!0,this.hi=new TF,this.referenceDelegate=e(this),this.Pi=new NF(this),this.indexManager=new mF,this.remoteDocumentCache=function(i){return new OF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new dF(n),this.Ii=new CF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _F,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){et("MemoryPersistence","Starting transaction:",e);const i=new DF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return Be.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class DF extends oB{constructor(e){super(),this.currentSequenceNumber=e}}class Xb{constructor(e){this.persistence=e,this.Ri=new $b,this.Vi=null}static mi(e){return new Xb(e)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Be.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Be.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.fi,r=>{const i=vt.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,Rt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Be.or([()=>Be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class m1{constructor(e,n){this.persistence=e,this.pi=new xu(r=>uB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wF(this,n)}static mi(e,n){return new m1(e,n)}Ei(){}di(e){return Be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Be.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Be.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,u=>this.br(e,u,n).next(d=>{d||(r++,a.removeEntry(u,Rt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Be.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Be.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Be.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yg(e.data.value)),n}br(e,n,r){return Be.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=rn(),i=rn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Kb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return D7()?8:lB(R7())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new MF;return this.Ss(e,n,u).next(d=>{if(a.result=d,this.Vs)return this.bs(e,n,u,d.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(uf()<=un.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",ff(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Be.resolve()):(uf()<=un.DEBUG&&et("QueryEngine","Query:",ff(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uf()<=un.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",ff(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(n))):Be.resolve())}ys(e,n){if(vT(n))return Be.resolve(null);let r=fo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=d1(n,null,"F"),r=fo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=rn(...a);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(m=>{const g=this.Ds(n,d);return this.Cs(n,g,u,m.readTime)?this.ys(e,d1(n,null,"F")):this.vs(e,g,n,m)}))})))}ws(e,n,r,i){return vT(n)||i.isEqual(Rt.min())?Be.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,i)?Be.resolve(null):(uf()<=un.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ff(n)),this.vs(e,u,n,rB(i,Ad)).next(d=>d))})}Ds(e,n){let r=new ii(YN(e));return n.forEach((i,a)=>{Cm(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return uf()<=un.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",ff(n)),this.ps.getDocumentsMatchingQuery(e,n,oc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="LocalStore",kF=3e8;class LF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new br(nn),this.xs=new xu(a=>Vb(a),zb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function jF(t,e,n,r){return new LF(t,e,n,r)}async function vD(t,e){const n=Dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let m=rn();for(const g of i){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of a){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(r,m).next(g=>({Ls:g,removedBatchIds:u,addedBatchIds:d}))})})}function BF(t,e){const n=Dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const w=g.batch,S=w.keys();let I=Be.resolve();return S.forEach(D=>{I=I.next(()=>v.getEntry(m,D)).next(P=>{const M=g.docVersions.get(D);Cn(M!==null,48541),P.version.compareTo(M)<0&&(w.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(m,w))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=rn();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xD(t){const e=Dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function FF(t,e){const n=Dt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const S=i.get(w);if(!S)return;d.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(a,v.addedDocuments,w)));let I=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Mi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),i=i.insert(w,I),function(P,M,L){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=kF?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(S,I,v)&&d.push(n.Pi.updateTargetData(a,I))});let m=il(),g=rn();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(UF(a,u,e.documentUpdates).next(v=>{m=v.ks,g=v.qs})),!r.isEqual(Rt.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next(w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return Be.waitFor(d).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,m,g)).next(()=>m)}).then(a=>(n.Ms=i,a))}function UF(t,e,n){let r=rn(),i=rn();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=il();return n.forEach((d,m)=>{const g=a.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(d)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):et(Qb,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:u,qs:i}})}function VF(t,e){const n=Dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zF(t,e){const n=Dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,Be.resolve(i)):n.Pi.allocateTargetId(r).next(u=>(i=new Jl(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function A2(t,e,n){const r=Dt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Xf(u))throw u;et(Qb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function NT(t,e,n){const r=Dt(t);let i=Rt.min(),a=rn();return r.persistence.runTransaction("Execute query","readwrite",u=>function(m,g,v){const w=Dt(m),S=w.xs.get(v);return S!==void 0?Be.resolve(w.Ms.get(S)):w.Pi.getTargetData(g,v)}(r,u,fo(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next(m=>{a=m})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,n?i:Rt.min(),n?a:rn())).next(d=>(HF(r,OB(e),d),{documents:d,Qs:a})))}function HF(t,e,n){let r=t.Os.get(e)||Rt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class DT{constructor(){this.activeTargetIds=kB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qF{constructor(){this.Mo=new DT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="ConnectivityMonitor";class PT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){et(MT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){et(MT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g=null;function S2(){return _g===null?_g=function(){return 268435456+Math.round(2147483648*Math.random())}():_g++,"0x"+_g.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="RestConnection",WF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===u1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const u=S2(),d=this.zo(e,n.toUriEncodedString());et(Av,`Sending RPC '${e}' ${u}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,i,a);const{host:g}=new URL(d),v=ym(g);return this.Jo(e,d,m,r,v).then(w=>(et(Av,`Received RPC '${e}' ${u}: `,w),w),w=>{throw If(Av,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Ho(e,n,r,i,a,u){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=WF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class XF extends YF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const u=S2();return new Promise((d,m)=>{const g=new bN;g.setWithCredentials(!0),g.listenOnce(wN.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wg.NO_ERROR:const w=g.getResponseJson();et(Gi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Wg.TIMEOUT:et(Gi,`RPC '${e}' ${u} timed out`),m(new Xe(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Wg.HTTP_ERROR:const S=g.getStatus();if(et(Gi,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I?.error;if(D&&D.status&&D.message){const P=function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf($)>=0?$:Pe.UNKNOWN}(D.status);m(new Xe(P,D.message))}else m(new Xe(Pe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Xe(Pe.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{et(Gi,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);et(Gi,`RPC '${e}' ${u} sending request:`,i),g.send(n,"POST",v,r,15)})}T_(e,n,r){const i=S2(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=SN(),d=AN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const v=a.join("");et(Gi,`Creating RPC '${e}' stream ${i}: ${v}`,m);const w=u.createWebChannel(v,m);this.I_(w);let S=!1,I=!1;const D=new $F({Yo:M=>{I?et(Gi,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(S||(et(Gi,`Opening RPC '${e}' stream ${i} transport.`),w.open(),S=!0),et(Gi,`RPC '${e}' stream ${i} sending:`,M),w.send(M))},Zo:()=>w.close()}),P=(M,L,$)=>{M.listen(L,z=>{try{$(z)}catch(te){setTimeout(()=>{throw te},0)}})};return P(w,sd.EventType.OPEN,()=>{I||(et(Gi,`RPC '${e}' stream ${i} transport opened.`),D.o_())}),P(w,sd.EventType.CLOSE,()=>{I||(I=!0,et(Gi,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(w))}),P(w,sd.EventType.ERROR,M=>{I||(I=!0,If(Gi,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),D.a_(new Xe(Pe.UNAVAILABLE,"The operation could not be completed")))}),P(w,sd.EventType.MESSAGE,M=>{if(!I){const L=M.data[0];Cn(!!L,16349);const $=L,z=$?.error||$[0]?.error;if(z){et(Gi,`RPC '${e}' stream ${i} received error:`,z);const te=z.status;let X=function(H){const F=Wr[H];if(F!==void 0)return sD(F)}(te),ee=z.message;X===void 0&&(X=Pe.INTERNAL,ee="Unknown error status: "+te+" with message "+z.message),I=!0,D.a_(new Xe(X,ee)),w.close()}else et(Gi,`RPC '${e}' stream ${i} received:`,L),D.u_(L)}}),P(d,EN.STAT_EVENT,M=>{M.stat===h2.PROXY?et(Gi,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===h2.NOPROXY&&et(Gi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){return new JB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="PersistentStream";class wD{constructor(e,n,r,i,a,u,d,m){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(rl(n.toString()),rl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Xe(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return et(kT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(et(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KF extends wD{constructor(e,n,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nF(this.serializer,e),r=function(a){if(!("targetChange"in a))return Rt.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Rt.min():u.readTime?ho(u.readTime):Rt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=E2(this.serializer),n.addTarget=function(a,u){let d;const m=u.target;if(d=y2(m)?{documents:aF(a,m)}:{query:sF(a,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=cD(a,u.resumeToken);const g=x2(a,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Rt.min())>0){d.readTime=g1(a,u.snapshotVersion.toTimestamp());const g=x2(a,u.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const r=lF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=E2(this.serializer),n.removeTarget=e,this.q_(n)}}class QF extends wD{constructor(e,n,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iF(e.writeResults,e.commitTime),r=ho(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=E2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{}class JF extends ZF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Xe(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,b2(n,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Xe(Pe.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,b2(n,r),i,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Xe(Pe.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rl(n),this.aa=!1):et("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="RemoteStore";class tU{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{bu(this)&&(et(su,"Restarting streams for network reachability change."),await async function(m){const g=Dt(m);g.Ea.add(4),await Xd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rm(g)}(this))})}),this.Ra=new eU(r,i)}}async function Rm(t){if(bu(t))for(const e of t.da)await e(!0)}async function Xd(t){for(const e of t.da)await e(!1)}function ED(t,e){const n=Dt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tw(n)?ew(n):Qf(n).O_()&&Jb(n,e))}function Zb(t,e){const n=Dt(t),r=Qf(n);n.Ia.delete(e),r.O_()&&AD(n,e),n.Ia.size===0&&(r.O_()?r.L_():bu(n)&&n.Ra.set("Unknown"))}function Jb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qf(t).Y_(e)}function AD(t,e){t.Va.Ue(e),Qf(t).Z_(e)}function ew(t){t.Va=new XB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qf(t).start(),t.Ra.ua()}function tw(t){return bu(t)&&!Qf(t).x_()&&t.Ia.size>0}function bu(t){return Dt(t).Ea.size===0}function SD(t){t.Va=void 0}async function nU(t){t.Ra.set("Online")}async function rU(t){t.Ia.forEach((e,n)=>{Jb(t,e)})}async function iU(t,e){SD(t),tw(t)?(t.Ra.ha(e),ew(t)):t.Ra.set("Unknown")}async function aU(t,e,n){if(t.Ra.set("Online"),e instanceof lD&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.Ia.delete(d),i.Va.removeTarget(d))}(t,e)}catch(r){et(su,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await p1(t,r)}else if(e instanceof Kg?t.Va.Ze(e):e instanceof oD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Rt.min()))try{const r=await xD(t.localStore);n.compareTo(r)>=0&&await function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=a.Ia.get(g);v&&a.Ia.set(g,v.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,g)=>{const v=a.Ia.get(m);if(!v)return;a.Ia.set(m,v.withResumeToken(Mi.EMPTY_BYTE_STRING,v.snapshotVersion)),AD(a,m);const w=new Jl(v.target,m,g,v.sequenceNumber);Jb(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){et(su,"Failed to raise snapshot:",r),await p1(t,r)}}async function p1(t,e,n){if(!Xf(e))throw e;t.Ea.add(1),await Xd(t),t.Ra.set("Offline"),n||(n=()=>xD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{et(su,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rm(t)})}function CD(t,e){return e().catch(n=>p1(t,n,e))}async function Nm(t){const e=Dt(t),n=fc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bb;for(;sU(e);)try{const i=await VF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,oU(e,i)}catch(i){await p1(e,i)}_D(e)&&TD(e)}function sU(t){return bu(t)&&t.Ta.length<10}function oU(t,e){t.Ta.push(e);const n=fc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _D(t){return bu(t)&&!fc(t).x_()&&t.Ta.length>0}function TD(t){fc(t).start()}async function lU(t){fc(t).ra()}async function cU(t){const e=fc(t);for(const n of t.Ta)e.ea(n.mutations)}async function uU(t,e,n){const r=t.Ta.shift(),i=Gb.from(r,e,n);await CD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nm(t)}async function fU(t,e){e&&fc(t).X_&&await async function(r,i){if(function(u){return WB(u)&&u!==Pe.ABORTED}(i.code)){const a=r.Ta.shift();fc(r).B_(),await CD(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Nm(r)}}(t,e),_D(t)&&TD(t)}async function LT(t,e){const n=Dt(t);n.asyncQueue.verifyOperationInProgress(),et(su,"RemoteStore received new credentials");const r=bu(n);n.Ea.add(3),await Xd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rm(n)}async function hU(t,e){const n=Dt(t);e?(n.Ea.delete(2),await Rm(n)):e||(n.Ea.add(2),await Xd(n),n.Ra.set("Unknown"))}function Qf(t){return t.ma||(t.ma=function(n,r,i){const a=Dt(n);return a.sa(),new KF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:nU.bind(null,t),t_:rU.bind(null,t),r_:iU.bind(null,t),H_:aU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),tw(t)?ew(t):t.Ra.set("Unknown")):(await t.ma.stop(),SD(t))})),t.ma}function fc(t){return t.fa||(t.fa=function(n,r,i){const a=Dt(n);return a.sa(),new QF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lU.bind(null,t),r_:fU.bind(null,t),ta:cU.bind(null,t),na:uU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Nm(t)):(await t.fa.stop(),t.Ta.length>0&&(et(su,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const u=Date.now()+r,d=new nw(e,n,u,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(t,e){if(rl("AsyncQueue",`${e}: ${t}`),Xf(t))return new Xe(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{static emptySet(e){return new Ef(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=od(),this.sortedSet=new br(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ef)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ef;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.ga=new br(vt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mf{constructor(e,n,r,i,a,u,d,m,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,i,a){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new Mf(e,n,Ef.emptySet(n),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gU{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Dt(n),a=i.queries;i.queries=BT(),a.forEach((u,d)=>{for(const m of d.Sa)m.onError(r)})})(this,new Xe(Pe.ABORTED,"Firestore shutting down"))}}function BT(){return new xu(t=>WN(t),Sm)}async function iw(t,e){const n=Dt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new dU,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const d=rw(u,`Initialization of query '${ff(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&sw(n)}async function aw(t,e){const n=Dt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mU(t,e){const n=Dt(t);let r=!1;for(const i of e){const a=i.query,u=n.queries.get(a);if(u){for(const d of u.Sa)d.Fa(i)&&(r=!0);u.wa=i}}r&&sw(n)}function pU(t,e,n){const r=Dt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function sw(t){t.Ca.forEach(e=>{e.next()})}var C2,FT;(FT=C2||(C2={})).Ma="default",FT.Cache="cache";class ow{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.key=e}}class OD{constructor(e){this.key=e}}class yU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rn(),this.mutatedKeys=rn(),this.eu=YN(e),this.tu=new Ef(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=i,d=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,w)=>{const S=i.get(v),I=Cm(this.query,w)?w:null,D=!!S&&this.mutatedKeys.has(S.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let M=!1;S&&I?S.data.isEqual(I.data)?D!==P&&(r.track({type:3,doc:I}),M=!0):this.su(S,I)||(r.track({type:2,doc:I}),M=!0,(m&&this.eu(I,m)>0||g&&this.eu(I,g)<0)&&(d=!0)):!S&&I?(r.track({type:0,doc:I}),M=!0):S&&!I&&(r.track({type:1,doc:S}),M=!0,(m||g)&&(d=!0)),M&&(I?(u=u.add(I),a=P?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(I,D){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:M})}};return P(I)-P(D)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],m=this.Xa.size===0&&this.current&&!i?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new Mf(this.query,e.tu,a,u,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new OD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ID(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=rn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lw="SyncEngine";class vU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xU{constructor(e){this.key=e,this.hu=!1}}class bU{constructor(e,n,r,i,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xu(d=>WN(d),Sm),this.Iu=new Map,this.Eu=new Set,this.du=new br(vt.comparator),this.Au=new Map,this.Ru=new $b,this.Vu={},this.mu=new Map,this.fu=Df.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wU(t,e,n=!0){const r=kD(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await RD(r,e,n,!0),i}async function EU(t,e){const n=kD(t);await RD(n,e,!0,!1)}async function RD(t,e,n,r){const i=await zF(t.localStore,fo(e)),a=i.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await AU(t,e,a,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&ED(t.remoteStore,i),d}async function AU(t,e,n,r,i){t.pu=(w,S,I)=>async function(P,M,L,$){let z=M.view.ru(L);z.Cs&&(z=await NT(P.localStore,M.query,!1).then(({documents:B})=>M.view.ru(B,z)));const te=$&&$.targetChanges.get(M.targetId),X=$&&$.targetMismatches.get(M.targetId)!=null,ee=M.view.applyChanges(z,P.isPrimaryClient,te,X);return VT(P,M.targetId,ee.au),ee.snapshot}(t,w,S,I);const a=await NT(t.localStore,e,!0),u=new yU(e,a.Qs),d=u.ru(a.documents),m=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),g=u.applyChanges(d,t.isPrimaryClient,m);VT(t,n,g.au);const v=new vU(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function SU(t,e,n){const r=Dt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(u=>!Sm(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await A2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zb(r.remoteStore,i.targetId),_2(r,i.targetId)}).catch($f)):(_2(r,i.targetId),await A2(r.localStore,i.targetId,!0))}async function CU(t,e){const n=Dt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zb(n.remoteStore,r.targetId))}async function _U(t,e,n){const r=MU(t);try{const i=await function(u,d){const m=Dt(u),g=An.now(),v=d.reduce((I,D)=>I.add(D.key),rn());let w,S;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>{let D=il(),P=rn();return m.Ns.getEntries(I,v).next(M=>{D=M,D.forEach((L,$)=>{$.isValidDocument()||(P=P.add(L))})}).next(()=>m.localDocuments.getOverlayedDocuments(I,D)).next(M=>{w=M;const L=[];for(const $ of d){const z=VB($,w.get($.key).overlayedDocument);z!=null&&L.push(new wc($.key,z,BN(z.value.mapValue),_s.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,L,d)}).next(M=>{S=M;const L=M.applyToLocalDocumentSet(w,P);return m.documentOverlayCache.saveOverlays(I,M.batchId,L)})}).then(()=>({batchId:S.batchId,changes:XN(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new br(nn)),g=g.insert(d,m),u.Vu[u.currentUser.toKey()]=g}(r,i.batchId,n),await Kd(r,i.changes),await Nm(r.remoteStore)}catch(i){const a=rw(i,"Failed to persist write");n.reject(a)}}async function ND(t,e){const n=Dt(t);try{const r=await FF(n.localStore,e);e.targetChanges.forEach((i,a)=>{const u=n.Au.get(a);u&&(Cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?Cn(u.hu,14607):i.removedDocuments.size>0&&(Cn(u.hu,42227),u.hu=!1))}),await Kd(n,r,e)}catch(r){await $f(r)}}function UT(t,e,n){const r=Dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&i.push(d.snapshot)}),function(u,d){const m=Dt(u);m.onlineState=d;let g=!1;m.queries.forEach((v,w)=>{for(const S of w.Sa)S.va(d)&&(g=!0)}),g&&sw(m)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TU(t,e,n){const r=Dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new br(vt.comparator);u=u.insert(a,$i.newNoDocument(a,Rt.min()));const d=rn().add(a),m=new Im(Rt.min(),new Map,new br(nn),u,d);await ND(r,m),r.du=r.du.remove(a),r.Au.delete(e),cw(r)}else await A2(r.localStore,e,!1).then(()=>_2(r,e,n)).catch($f)}async function IU(t,e){const n=Dt(t),r=e.batch.batchId;try{const i=await BF(n.localStore,e);MD(n,r,null),DD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(n,i)}catch(i){await $f(i)}}async function OU(t,e,n){const r=Dt(t);try{const i=await function(u,d){const m=Dt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(w=>(Cn(w!==null,37113),v=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(r.localStore,e);MD(r,e,n),DD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kd(r,i)}catch(i){await $f(i)}}function DD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function MD(t,e,n){const r=Dt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function _2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||PD(t,r)})}function PD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),cw(t))}function VT(t,e,n){for(const r of n)r instanceof ID?(t.Ru.addReference(r.key,e),RU(t,r)):r instanceof OD?(et(lw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||PD(t,r.key)):Ct(19791,{wu:r})}function RU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(et(lw,"New document in limbo: "+n),t.Eu.add(r),cw(t))}function cw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new vt(Xn.fromString(e)),r=t.fu.next();t.Au.set(r,new xU(n)),t.du=t.du.insert(n,r),ED(t.remoteStore,new Jl(fo(Am(n.path)),r,"TargetPurposeLimboResolution",bm.ce))}}async function Kd(t,e,n){const r=Dt(t),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((d,m)=>{u.push(r.pu(m,e,n).then(g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){i.push(g);const v=Kb.As(m.targetId,g);a.push(v)}}))}),await Promise.all(u),r.Pu.H_(i),await async function(m,g){const v=Dt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Be.forEach(g,S=>Be.forEach(S.Es,I=>v.persistence.referenceDelegate.addReference(w,S.targetId,I)).next(()=>Be.forEach(S.ds,I=>v.persistence.referenceDelegate.removeReference(w,S.targetId,I)))))}catch(w){if(!Xf(w))throw w;et(Qb,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const I=v.Ms.get(S),D=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(S,P)}}}(r.localStore,a))}async function NU(t,e){const n=Dt(t);if(!n.currentUser.isEqual(e)){et(lw,"User change. New user:",e.toKey());const r=await vD(n.localStore,e);n.currentUser=e,function(a,u){a.mu.forEach(d=>{d.forEach(m=>{m.reject(new Xe(Pe.CANCELLED,u))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kd(n,r.Ls)}}function DU(t,e){const n=Dt(t),r=n.Au.get(e);if(r&&r.hu)return rn().add(r.key);{let i=rn();const a=n.Iu.get(e);if(!a)return i;for(const u of a){const d=n.Tu.get(u);i=i.unionWith(d.view.nu)}return i}}function kD(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ND.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TU.bind(null,e),e.Pu.H_=mU.bind(null,e.eventManager),e.Pu.yu=pU.bind(null,e.eventManager),e}function MU(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OU.bind(null,e),e}class y1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jF(this.persistence,new PF,e.initialUser,this.serializer)}Cu(e){return new yD(Xb.mi,this.serializer)}Du(e){return new qF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}y1.provider={build:()=>new y1};class PU extends y1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Cn(this.persistence.referenceDelegate instanceof m1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wa.withCacheSize(this.cacheSizeBytes):wa.DEFAULT;return new yD(r=>m1.mi(r,n),this.serializer)}}class T2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NU.bind(null,this.syncEngine),await hU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gU}()}createDatastore(e){const n=Om(e.databaseInfo.databaseId),r=function(a){return new XF(a)}(e.databaseInfo);return function(a,u,d,m){return new JF(a,u,d,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,u,d){return new tU(r,i,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>UT(this.syncEngine,n,0),function(){return PT.v()?new PT:new GF}())}createSyncEngine(e,n){return function(i,a,u,d,m,g,v){const w=new bU(i,a,u,d,m,g);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Dt(n);et(su,"RemoteStore shutting down."),r.Ea.add(5),await Xd(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}T2.provider={build:()=>new T2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="FirestoreClient";class kU{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yi.UNAUTHENTICATED,this.clientId=jb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{et(hc,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(et(hc,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cv(t,e){t.asyncQueue.verifyOperationInProgress(),et(hc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LU(t);et(hc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LT(e.remoteStore,i)),t._onlineComponents=e}async function LU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){et(hc,"Using user provided OfflineComponentProvider");try{await Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;If("Error using user provided cache. Falling back to memory cache: "+n),await Cv(t,new y1)}}else et(hc,"Using default OfflineComponentProvider"),await Cv(t,new PU(void 0));return t._offlineComponents}async function LD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(et(hc,"Using user provided OnlineComponentProvider"),await zT(t,t._uninitializedComponentsProvider._online)):(et(hc,"Using default OnlineComponentProvider"),await zT(t,new T2))),t._onlineComponents}function jU(t){return LD(t).then(e=>e.syncEngine)}async function v1(t){const e=await LD(t),n=e.eventManager;return n.onListen=wU.bind(null,e.syncEngine),n.onUnlisten=SU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CU.bind(null,e.syncEngine),n}function BU(t,e,n={}){const r=new Zo;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,d,m,g){const v=new uw({next:S=>{v.Nu(),u.enqueueAndForget(()=>aw(a,w));const I=S.docs.has(d);!I&&S.fromCache?g.reject(new Xe(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&m&&m.source==="server"?g.reject(new Xe(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new ow(Am(d.path),v,{includeMetadataChanges:!0,qa:!0});return iw(a,w)}(await v1(t),t.asyncQueue,e,n,r)),r.promise}function FU(t,e,n={}){const r=new Zo;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,d,m,g){const v=new uw({next:S=>{v.Nu(),u.enqueueAndForget(()=>aw(a,w)),S.fromCache&&m.source==="server"?g.reject(new Xe(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new ow(d,v,{includeMetadataChanges:!0,qa:!0});return iw(a,w)}(await v1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firestore.googleapis.com",qT=!0;class GT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BD,this.ssl=qT}else this.host=e.host,this.ssl=e.ssl??qT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yF)throw new Xe(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Xe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Xe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Xe(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wj;switch(r.type){case"firstParty":return new Kj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HT.get(n);r&&(et("ComponentProvider","Removing Datastore"),HT.delete(n),r.terminate())}(this),Promise.resolve()}}function UU(t,e,n,r={}){t=Ca(t,Dm);const i=ym(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(sN(`https://${d}`),lN("Firestore",!0)),a.host!==BD&&a.host!==d&&If("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:d,ssl:i,emulatorOptions:r};if(!o1(m,u)&&(t._setSettings(m),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Yi.MOCK_USER;else{g=oN(r.mockUserToken,t._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Xe(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Yi(w)}t._authCredentials=new Yj(new _N(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}toJSON(){return{type:Rr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wd(n,Rr._jsonSchema))return new Rr(e,r||null,new vt(Xn.fromString(n.referencePath)))}}Rr._jsonSchemaVersion="firestore/documentReference/1.0",Rr._jsonSchema={type:$r("string",Rr._jsonSchemaVersion),referencePath:$r("string")};class ic extends fl{constructor(e,n,r){super(e,n,Am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new vt(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function Ze(t,e,...n){if(t=Gs(t),TN("collection","path",e),t instanceof Dm){const r=Xn.fromString(e,...n);return iT(r),new ic(t,null,r)}{if(!(t instanceof Rr||t instanceof ic))throw new Xe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xn.fromString(e,...n));return iT(r),new ic(t.firestore,null,r)}}function bt(t,e,...n){if(t=Gs(t),arguments.length===1&&(e=jb.newId()),TN("doc","path",e),t instanceof Dm){const r=Xn.fromString(e,...n);return rT(r),new Rr(t,null,new vt(r))}{if(!(t instanceof Rr||t instanceof ic))throw new Xe(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xn.fromString(e,...n));return rT(r),new Rr(t.firestore,t instanceof ic?t.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="AsyncQueue";class YT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bD(this,"async_queue_retry"),this._c=()=>{const r=Sv();r&&et(WT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xf(e))throw e;et(WT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,rl("INTERNAL UNHANDLED ERROR: ",$T(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=nw.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Ct(47125,{Pc:$T(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $T(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class al extends Dm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YT(e),this._firestoreClient=void 0,await e}}}function fw(t,e){const n=typeof t=="object"?t:pN(),r=typeof t=="string"?t:u1,i=dN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=iN("firestore");a&&UU(i,...a)}return i}function Mm(t){if(t._terminated)throw new Xe(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VU(t),t._firestoreClient}function VU(t){const e=t._freezeSettings(),n=function(i,a,u,d){return new dB(i,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(Mi.fromBase64String(e))}catch(n){throw new Xe(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ss(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wd(e,Ss._jsonSchema))return Ss.fromBase64String(e.bytes)}}Ss._jsonSchemaVersion="firestore/bytes/1.0",Ss._jsonSchema={type:$r("string",Ss._jsonSchemaVersion),bytes:$r("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:go._jsonSchemaVersion}}static fromJSON(e){if(Wd(e,go._jsonSchema))return new go(e.latitude,e.longitude)}}go._jsonSchemaVersion="firestore/geoPoint/1.0",go._jsonSchema={type:$r("string",go._jsonSchemaVersion),latitude:$r("number"),longitude:$r("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wd(e,mo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mo(e.vectorValues);throw new Xe(Pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mo._jsonSchemaVersion="firestore/vectorValue/1.0",mo._jsonSchema={type:$r("string",mo._jsonSchemaVersion),vectorValues:$r("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/^__.*__$/;class HU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yd(e,this.data,n,this.fieldTransforms)}}class FD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:t})}}class hw{constructor(e,n,r,i,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return x1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UD(this.Ac)&&zU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Om(e)}Cc(e,n,r,i=!1){return new hw({Ac:e,methodName:n,Dc:r,path:Di.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(t){const e=t._freezeSettings(),n=Om(t._databaseId);return new qU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VD(t,e,n,r,i,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);mw("Data must be an object, but it was:",u,r);const d=zD(r,u);let m,g;if(a.merge)m=new Za(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const S=I2(e,w,n);if(!u.contains(S))throw new Xe(Pe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qD(v,S)||v.push(S)}m=new Za(v),g=u.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=u.fieldTransforms;return new HU(new Ea(d),m,g)}class Lm extends Qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lm}}class dw extends Qd{_toFieldTransform(e){return new rD(e.path,new Id)}isEqual(e){return e instanceof dw}}class gw extends Qd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Nd(e.serializer,ZN(e.serializer,this.Fc));return new rD(e.path,n)}isEqual(e){return e instanceof gw&&this.Fc===e.Fc}}function GU(t,e,n,r){const i=t.Cc(1,e,n);mw("Data must be an object, but it was:",i,r);const a=[],u=Ea.empty();bc(r,(m,g)=>{const v=pw(e,m,n);g=Gs(g);const w=i.yc(v);if(g instanceof Lm)a.push(v);else{const S=Zd(g,w);S!=null&&(a.push(v),u.set(v,S))}});const d=new Za(a);return new FD(u,d,i.fieldTransforms)}function WU(t,e,n,r,i,a){const u=t.Cc(1,e,n),d=[I2(e,r,n)],m=[i];if(a.length%2!=0)throw new Xe(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(I2(e,a[S])),m.push(a[S+1]);const g=[],v=Ea.empty();for(let S=d.length-1;S>=0;--S)if(!qD(g,d[S])){const I=d[S];let D=m[S];D=Gs(D);const P=u.yc(I);if(D instanceof Lm)g.push(I);else{const M=Zd(D,P);M!=null&&(g.push(I),v.set(I,M))}}const w=new Za(g);return new FD(v,w,u.fieldTransforms)}function YU(t,e,n,r=!1){return Zd(n,t.Cc(r?4:3,e))}function Zd(t,e){if(HD(t=Gs(t)))return mw("Unsupported field value:",e,t),zD(t,e);if(t instanceof Qd)return function(r,i){if(!UD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const d of r){let m=Zd(d,i.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Gs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=An.fromDate(r);return{timestampValue:g1(i.serializer,a)}}if(r instanceof An){const a=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:g1(i.serializer,a)}}if(r instanceof go)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ss)return{bytesValue:cD(i.serializer,r._byteString)};if(r instanceof Rr){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Yb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mo)return function(u,d){return{mapValue:{fields:{[LN]:{stringValue:jN},[f1]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Hb(d.serializer,g)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${xm(r)}`)}(t,e)}function zD(t,e){const n={};return RN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bc(t,(r,i)=>{const a=Zd(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function HD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof go||t instanceof Ss||t instanceof Rr||t instanceof Qd||t instanceof mo)}function mw(t,e,n){if(!HD(n)||!IN(n)){const r=xm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function I2(t,e,n){if((e=Gs(e))instanceof Pm)return e._internalPath;if(typeof e=="string")return pw(t,e);throw x1("Field path arguments must be of type string or ",t,!1,void 0,n)}const $U=new RegExp("[~\\*/\\[\\]]");function pw(t,e,n){if(e.search($U)>=0)throw x1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pm(...e.split("."))._internalPath}catch{throw x1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function x1(t,e,n,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${i}`),m+=")"),new Xe(Pe.INVALID_ARGUMENT,d+t+m)}function qD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XU extends GD{data(){return super.data()}}function jm(t,e){return typeof e=="string"?pw(t,e):e instanceof Pm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yw{}class vw extends yw{}function Gn(t,e,...n){let r=[];e instanceof yw&&r.push(e),r=r.concat(n),function(a){const u=a.filter(m=>m instanceof xw).length,d=a.filter(m=>m instanceof Bm).length;if(u>1||u>0&&d>0)throw new Xe(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bm extends vw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bm(e,n,r)}_apply(e){const n=this._parse(e);return YD(e._query,n),new fl(e.firestore,e.converter,v2(e._query,n))}_parse(e){const n=km(e.firestore);return function(a,u,d,m,g,v,w){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Xe(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){QT(w,v);const D=[];for(const P of w)D.push(KT(m,a,P));S={arrayValue:{values:D}}}else S=KT(m,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||QT(w,v),S=YU(d,u,w,v==="in"||v==="not-in");return Yr.create(g,v,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fr(t,e,n){const r=e,i=jm("where",t);return Bm._create(i,r,n)}class xw extends yw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let u=i;const d=a.getFlattenedFilters();for(const m of d)YD(u,m),u=v2(u,m)}(e._query,n),new fl(e.firestore,e.converter,v2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bw extends vw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bw(e,n)}_apply(e){const n=function(i,a,u){if(i.startAt!==null)throw new Xe(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Xe(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Td(a,u)}(e._query,this._field,this._direction);return new fl(e.firestore,e.converter,function(i,a){const u=i.explicitOrderBy.concat([a]);return new Kf(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Pf(t,e="asc"){const n=e,r=jm("orderBy",t);return bw._create(r,n)}class ww extends vw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ww(e,n,r)}_apply(e){return new fl(e.firestore,e.converter,d1(e._query,this._limit,this._limitType))}}function KU(t){return ww._create("limit",t,"F")}function KT(t,e,n){if(typeof(n=Gs(n))=="string"){if(n==="")throw new Xe(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GN(e)&&n.indexOf("/")!==-1)throw new Xe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xn.fromString(n));if(!vt.isDocumentKey(r))throw new Xe(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hT(t,new vt(r))}if(n instanceof Rr)return hT(t,n._key);throw new Xe(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xm(n)}.`)}function QT(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YD(t,e){const n=function(i,a){for(const u of i)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Xe(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QU{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bc(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[f1].arrayValue?.values?.map(r=>Br(r.doubleValue));return new mo(n)}convertGeoPoint(e){return new go(Br(e.latitude),Br(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=lc(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xn.fromString(e);Cn(mD(r),9688,{name:e});const i=new Cd(r.get(1),r.get(3)),a=new vt(r.popFirst(5));return i.isEqual(n)||rl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zc extends GD{constructor(e,n,r,i,a,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zc._jsonSchema={type:$r("string",Zc._jsonSchemaVersion),bundleSource:$r("string","DocumentSnapshot"),bundleName:$r("string"),bundle:$r("string")};class Qg extends Zc{data(e={}){return super.data(e)}}class Jc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qg(this._firestore,this._userDataWriter,r.key,r,new cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>{const m=new Qg(i._firestore,i._userDataWriter,d.doc.key,d.doc,new cd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const m=new Qg(i._firestore,i._userDataWriter,d.doc.key,d.doc,new cd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:ZU(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){t=Ca(t,Rr);const e=Ca(t.firestore,al);return BU(Mm(e),t._key).then(n=>XD(e,t,n))}Jc._jsonSchemaVersion="firestore/querySnapshot/1.0",Jc._jsonSchema={type:$r("string",Jc._jsonSchemaVersion),bundleSource:$r("string","QuerySnapshot"),bundleName:$r("string"),bundle:$r("string")};class Ew extends QU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function zt(t){t=Ca(t,fl);const e=Ca(t.firestore,al),n=Mm(e),r=new Ew(e);return WD(t._query),FU(n,t._query).then(i=>new Jc(e,r,t,i))}function Fm(t,e,n){t=Ca(t,Rr);const r=Ca(t.firestore,al),i=$D(t.converter,e,n);return Um(r,[VD(km(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_s.none())])}function tn(t,e,n,...r){t=Ca(t,Rr);const i=Ca(t.firestore,al),a=km(i);let u;return u=typeof(e=Gs(e))=="string"||e instanceof Pm?WU(a,"updateDoc",t._key,e,n,r):GU(a,"updateDoc",t._key,e),Um(i,[u.toMutation(t._key,_s.exists(!0))])}function wu(t){return Um(Ca(t.firestore,al),[new qb(t._key,_s.none())])}function mi(t,e){const n=Ca(t.firestore,al),r=bt(t),i=$D(t.converter,e);return Um(n,[VD(km(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_s.exists(!1))]).then(()=>r)}function Is(t,...e){t=Gs(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||XT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XT(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let a,u,d;if(t instanceof Rr)u=Ca(t.firestore,al),d=Am(t._key.path),a={next:m=>{e[r]&&e[r](XD(u,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Ca(t,fl);u=Ca(m.firestore,al),d=m._query;const g=new Ew(u);a={next:v=>{e[r]&&e[r](new Jc(u,g,m,v))},error:e[r+1],complete:e[r+2]},WD(t._query)}return function(g,v,w,S){const I=new uw(S),D=new ow(v,I,w);return g.asyncQueue.enqueueAndForget(async()=>iw(await v1(g),D)),()=>{I.Nu(),g.asyncQueue.enqueueAndForget(async()=>aw(await v1(g),D))}}(Mm(u),d,i,a)}function Um(t,e){return function(r,i){const a=new Zo;return r.asyncQueue.enqueueAndForget(async()=>_U(await jU(r),i,a)),a.promise}(Mm(t),e)}function XD(t,e,n){const r=n.docs.get(e._key),i=new Ew(t);return new Zc(t,i,e._key,r,new cd(n.hasPendingWrites,n.fromCache),e.converter)}function En(){return new dw("serverTimestamp")}function ZT(t){return new gw("increment",t)}(function(e,n=!0){(function(i){Yf=i})(mN),wd(new Tf("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new al(new $j(r.getProvider("auth-internal")),new Qj(u,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Xe(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(g.options.projectId,v)}(u,i),u);return a={useFetchStreams:n,...a},d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),nc(J_,eT,e),nc(J_,eT,"esm2020")})();var JU="firebase",eV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nc(JU,eV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="firebasestorage.googleapis.com",tV="storageBucket",nV=120*1e3,rV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends vu{constructor(e,n,r=0){super(_v(e),`Firebase Storage: ${n} (${_v(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ao.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _v(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vo||(vo={}));function _v(t){return"storage/"+t}function iV(){const t="An unknown error occurred, please check the error payload for server response.";return new Ao(vo.UNKNOWN,t)}function aV(){return new Ao(vo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sV(){return new Ao(vo.CANCELED,"User canceled the upload/download.")}function oV(t){return new Ao(vo.INVALID_URL,"Invalid URL '"+t+"'.")}function lV(t){return new Ao(vo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JT(t){return new Ao(vo.INVALID_ARGUMENT,t)}function QD(){return new Ao(vo.APP_DELETED,"The Firebase app was deleted.")}function cV(t){return new Ao(vo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qs.makeFromUrl(e,n)}catch{return new qs(e,"")}if(r.path==="")return r;throw lV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+i+u,"i"),m={bucket:1,path:3};function g(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${v}/b/${i}/o${S}`,"i"),D={bucket:1,path:3},P=n===KD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",L=new RegExp(`^https?://${P}/${i}/${M}`,"i"),z=[{regex:d,indices:m,postModify:a},{regex:I,indices:D,postModify:g},{regex:L,indices:{bucket:1,path:2},postModify:g}];for(let te=0;te<z.length;te++){const X=z[te],ee=X.regex.exec(e);if(ee){const B=ee[X.indices.bucket];let H=ee[X.indices.path];H||(H=""),r=new qs(B,H),X.postModify(r);break}}if(r==null)throw oV(e);return r}}class uV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t,e,n){let r=1,i=null,a=null,u=!1,d=0;function m(){return d===2}let g=!1;function v(...M){g||(g=!0,e.apply(null,M))}function w(M){i=setTimeout(()=>{i=null,t(I,m())},M)}function S(){a&&clearTimeout(a)}function I(M,...L){if(g){S();return}if(M){S(),v.call(null,M,...L);return}if(m()||u){S(),v.call(null,M,...L);return}r<64&&(r*=2);let z;d===1?(d=2,z=0):z=(r+Math.random())*1e3,w(z)}let D=!1;function P(M){D||(D=!0,S(),!g&&(i!==null?(M||(d=2),clearTimeout(i),w(0)):M||(d=1)))}return w(0),a=setTimeout(()=>{u=!0,P(!0)},n),P}function hV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){return t!==void 0}function eI(t,e,n,r){if(r<e)throw JT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw JT(`Invalid value for '${t}'. Expected ${n} or less.`)}function gV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var b1;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(b1||(b1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,i,a,u,d,m,g,v,w,S=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,P)=>{this.resolve_=D,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===b1.NO_ERROR,m=a.getStatus();if(!d||mV(m,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===b1.ABORT;r(!1,new Tg(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;r(!0,new Tg(g,a))})},n=(r,i)=>{const a=this.resolve_,u=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());dV(m)?a(m):a()}catch(m){u(m)}else if(d!==null){const m=iV();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(i.canceled){const m=this.appDelete_?QD():sV();u(m)}else{const m=aV();u(m)}};this.canceled_?n(!1,new Tg(!1,null,!0)):this.backoffId_=fV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wV(t,e,n,r,i,a,u=!0,d=!1){const m=gV(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return xV(v,e),yV(v,n),vV(v,a),bV(v,r),new pV(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this._service=e,n instanceof qs?this._location=n:this._location=qs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new w1(e,n)}get root(){const e=new qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AV(this._location.path)}get storage(){return this._service}get parent(){const e=EV(this._location.path);if(e===null)return null;const n=new qs(this._location.bucket,e);return new w1(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cV(e)}}function tI(t,e){const n=e?.[tV];return n==null?null:qs.makeFromBucketSpec(n,t)}function SV(t,e,n,r={}){t.host=`${e}:${n}`;const i=ym(e);i&&(sN(`https://${t.host}/b`),lN("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:oN(a,t.app.options.projectId))}class CV{constructor(e,n,r,i,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=KD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nV,this._maxUploadRetryTime=rV,this._requests=new Set,i!=null?this._bucket=qs.makeFromBucketSpec(i,this._host):this._bucket=tI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qs.makeFromBucketSpec(this._url,e):this._bucket=tI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gN(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new w1(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new uV(QD());{const u=wV(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const nI="@firebase/storage",rI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="storage";function _V(t=pN(),e){t=Gs(t);const r=dN(t,ZD).getImmediate({identifier:e}),i=iN("storage");return i&&TV(r,...i),r}function TV(t,e,n,r={}){SV(t,e,n,r)}function IV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new CV(n,r,i,e,mN)}function OV(){wd(new Tf(ZD,IV,"PUBLIC").setMultipleInstances(!0)),nc(nI,rI,""),nc(nI,rI,"esm2020")}OV();const RV={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},JD=vm(RV),Ve=fw(JD);_V(JD);function So(){const[t,e]=R.useState(!1),[n,r]=R.useState(0),[i,a]=R.useState(0);return R.useEffect(()=>{const u=Gn(Ze(Ve,"walletRequests"),Fr("status","==","pending")),d=Is(u,m=>{r(m.size)});return()=>d()},[]),R.useEffect(()=>{const u=Ze(Ve,"CustomerAssistance"),d=Is(u,m=>{let g=0;m.forEach(v=>{const S=v.data().reply;(!S||S.trim()==="")&&g++}),a(g)});return()=>d()},[]),T.jsxs(T.Fragment,{children:[T.jsxs("aside",{className:`sidebar ${t?"hidden":""}`,"aria-hidden":t,children:[T.jsx("h2",{className:"sidebar-title",children:"Admin Panel"}),T.jsxs("nav",{className:"sidebar-nav",children:[T.jsx(na,{to:"/dashboard",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Dashboard"}),T.jsx("div",{className:"sidebar-separator"}),T.jsx(na,{to:"/customers",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Customers"}),T.jsx("div",{className:"sidebar-separator"}),T.jsx(na,{to:"/rewards",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Rewards"}),T.jsx(na,{to:"/menu",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Menu"}),T.jsx("div",{className:"sidebar-separator"}),T.jsxs(na,{to:"/wallet",className:({isActive:u})=>u?"sidebar-link active wallet-link":"sidebar-link wallet-link",children:["Wallet Requests",n>0&&T.jsx("span",{className:"notification-badge",children:n})]}),T.jsxs(na,{to:"/CustomerAssistance",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:[i>0&&T.jsx("span",{className:"notification-badge-assist",children:i}),"Customer Assistance"]}),T.jsx(na,{to:"/feedback",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Ratings"}),T.jsx("div",{className:"sidebar-separator"}),T.jsx(na,{to:"/transactions",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Transactions"}),T.jsx("div",{className:"sidebar-separator"}),T.jsx(na,{to:"/",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Logout"})]})]}),T.jsx("button",{className:"toggle-btn",onClick:()=>e(u=>!u),"aria-label":t?"Open sidebar":"Close sidebar",children:t?T.jsx(tN,{size:20}):T.jsx(eN,{size:20})})]})}function NV(){return T.jsx("div",{className:"intro-container",children:T.jsxs("div",{className:"intro-card",children:[T.jsx("h1",{className:"intro-title",children:"Welcome!"}),T.jsx("div",{className:"intro-buttons",children:T.jsx(bd,{to:"/Owner",children:T.jsx("button",{className:"intro-button admin-button",style:{background:"#6e3204"},children:"Start"})})})]})})}const DV={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},MV=vm(DV),eM=fw(MV),PV=async()=>{const t=bt(eM,"AdminUser","Admin"),e=await Aa(t);return e.exists()?e.data().PIN:(console.log("No such document!"),null)},kV=async()=>{const t=bt(eM,"AdminUser","Staff"),e=await Aa(t);return e.exists()?e.data().PIN:(console.log("No such document!"),null)};function LV(){const[t,e]=R.useState(!1),[n,r]=R.useState(""),[i,a]=R.useState(""),[u,d]=R.useState(""),[m,g]=R.useState(""),v=mm();R.useEffect(()=>{(async()=>{const I=await PV(),D=await kV();d(I),g(D)})()},[]);const w=()=>{if(!n.trim()){a(" Please enter your PIN.");return}n===u?(e(!0),v("/Dashboard",{replace:!0}),a("")):n===m?(e(!0),v("/take-order",{replace:!0}),a("")):a(" Incorrect password. Please try again.")};return T.jsx("div",{className:"owner-container",children:t?T.jsxs("div",{className:"owner-welcome",children:[T.jsx("h1",{className:"welcome-title",children:" Welcome, Owner!"}),T.jsx(bd,{to:"/Intro",className:"back-link",children:" Back to Intro"})]}):T.jsxs("div",{className:"login-card",children:[T.jsx("h2",{className:"login-title",style:{color:"#6e3204"},children:"Please enter pin"}),T.jsx("input",{type:"password",placeholder:"Enter PIN",value:n,onChange:S=>r(S.target.value),className:"login-input"}),T.jsx("button",{onClick:w,className:"login-button",style:{background:"#6e3204"},children:"Enter"}),i&&T.jsx("p",{className:"error-message",children:i}),T.jsx(bd,{to:"/Intro",className:"back-link",children:" Back"})]})})}const jV=async t=>{const e=Ze(Ve,"transactions"),n=await zt(e);let r=null,i=null;t?.startDate&&(r=new Date(t.startDate),r.setHours(0,0,0,0)),t?.endDate&&(i=new Date(t.endDate),i.setHours(23,59,59,999));const a=M=>!r&&!i?!0:!(r&&M<r||i&&M>i);let u=0,d=0;const m={},g={},v={},w={Requested:0,Approved:0,Rejected:0,Total:0},S=[];n.forEach(M=>{const L=M.data(),$=L.date?.toDate?.()||new Date(L.date||Date.now()),z=L.status||"pending",te=L.type||"",X=L.paymentMethod||"Unknown",ee=L.items||[],B=Number(L.amount)||0;if(te==="wallet-topup"&&a($)&&(S.push({id:M.id,amount:B,status:z,paymentMethod:X,date:$.toLocaleDateString(),customerName:L.customerName||"N/A"}),w[z]!==void 0&&(w[z]+=1),w.Total+=1),z==="Completed"&&a($)){const H=$.toISOString().split("T")[0];te!=="wallet-topup"&&(u+=B),(te==="wallet-topup"||X==="Wallet Top-up")&&(d+=B),Array.isArray(ee)&&ee.forEach(F=>{const J=F.category||"Uncategorized";m[J]=(m[J]||0)+1}),g[H]||(g[H]={}),g[H][X]=(g[H][X]||0)+B,te!=="wallet-topup"&&(v[X]=(v[X]||0)+B)}});const I=Object.entries(m).sort((M,L)=>L[1]-M[1]).slice(0,6).map(([M,L])=>({name:M,count:L})),D=Object.entries(g).map(([M,L])=>({date:M,...L})),P=Object.entries(v).map(([M,L])=>({name:M,value:L}));return{totalSales:u,walletTopups:d,topCategories:I,dailyPaymentData:D,paymentBreakdown:P,topupRequests:w,topupWalletRecords:S}};function tM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tM(t))&&(r&&(r+=" "),r+=e);return r}var BV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Aw(t){if(typeof t!="string")return!1;var e=BV;return e.includes(t)}var FV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function nM(t){if(typeof t!="string")return!1;var e=FV;return e.includes(t)}function rM(t){return typeof t=="string"&&t.startsWith("data-")}function es(t){var e=Object.entries(t).filter(n=>{var[r]=n;return nM(r)||rM(r)});return Object.fromEntries(e)}function ou(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return es(e)}return typeof t=="object"&&!Array.isArray(t)?es(t):null}function sa(t){var e=Object.entries(t).filter(n=>{var[r]=n;return nM(r)||rM(r)||Aw(r)});return Object.fromEntries(e)}function UV(t){return t==null?null:R.isValidElement(t)?sa(t.props):typeof t=="object"&&!Array.isArray(t)?sa(t):null}var VV=["children","width","height","viewBox","className","style","title","desc"];function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O2.apply(null,arguments)}function zV(t,e){if(t==null)return{};var n,r,i=HV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sw=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:u,style:d,title:m,desc:g}=t,v=zV(t,VV),w=a||{width:r,height:i,x:0,y:0},S=xn("recharts-surface",u);return R.createElement("svg",O2({},sa(v),{className:S,width:r,height:i,style:d,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:e}),R.createElement("title",null,m),R.createElement("desc",null,g),n)}),qV=["children","className"];function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R2.apply(null,arguments)}function GV(t,e){if(t==null)return{};var n,r,i=WV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pi=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=GV(t,qV),a=xn("recharts-layer",r);return R.createElement("g",R2({className:a},sa(i),{ref:e}),n)}),iM=R.createContext(null),YV=()=>R.useContext(iM);function $n(t){return function(){return t}}const aM=Math.cos,E1=Math.sin,$s=Math.sqrt,A1=Math.PI,Vm=2*A1,N2=Math.PI,D2=2*N2,Gc=1e-6,$V=D2-Gc;function sM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XV(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return sM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class KV{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?sM:XV(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,u){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,d=this._y1,m=r-e,g=i-n,v=u-e,w=d-n,S=v*v+w*w;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(S>Gc)if(!(Math.abs(w*m-g*v)>Gc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let I=r-u,D=i-d,P=m*m+g*g,M=I*I+D*D,L=Math.sqrt(P),$=Math.sqrt(S),z=a*Math.tan((N2-Math.acos((P+S-M)/(2*L*$)))/2),te=z/$,X=z/L;Math.abs(te-1)>Gc&&this._append`L${e+te*v},${n+te*w}`,this._append`A${a},${a},0,0,${+(w*I>v*D)},${this._x1=e+X*m},${this._y1=n+X*g}`}}arc(e,n,r,i,a,u){if(e=+e,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),m=r*Math.sin(i),g=e+d,v=n+m,w=1^u,S=u?i-a:a-i;this._x1===null?this._append`M${g},${v}`:(Math.abs(this._x1-g)>Gc||Math.abs(this._y1-v)>Gc)&&this._append`L${g},${v}`,r&&(S<0&&(S=S%D2+D2),S>$V?this._append`A${r},${r},0,1,${w},${e-d},${n-m}A${r},${r},0,1,${w},${this._x1=g},${this._y1=v}`:S>Gc&&this._append`A${r},${r},0,${+(S>=N2)},${w},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Cw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KV(e)}function _w(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zm(t){return new oM(t)}function lM(t){return t[0]}function cM(t){return t[1]}function uM(t,e){var n=$n(!0),r=null,i=zm,a=null,u=Cw(d);t=typeof t=="function"?t:t===void 0?lM:$n(t),e=typeof e=="function"?e:e===void 0?cM:$n(e);function d(m){var g,v=(m=_w(m)).length,w,S=!1,I;for(r==null&&(a=i(I=u())),g=0;g<=v;++g)!(g<v&&n(w=m[g],g,m))===S&&((S=!S)?a.lineStart():a.lineEnd()),S&&a.point(+t(w,g,m),+e(w,g,m));if(I)return a=null,I+""||null}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:$n(+m),d):t},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:$n(+m),d):e},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:$n(!!m),d):n},d.curve=function(m){return arguments.length?(i=m,r!=null&&(a=i(r)),d):i},d.context=function(m){return arguments.length?(m==null?r=a=null:a=i(r=m),d):r},d}function Ig(t,e,n){var r=null,i=$n(!0),a=null,u=zm,d=null,m=Cw(g);t=typeof t=="function"?t:t===void 0?lM:$n(+t),e=typeof e=="function"?e:$n(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?cM:$n(+n);function g(w){var S,I,D,P=(w=_w(w)).length,M,L=!1,$,z=new Array(P),te=new Array(P);for(a==null&&(d=u($=m())),S=0;S<=P;++S){if(!(S<P&&i(M=w[S],S,w))===L)if(L=!L)I=S,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),D=S-1;D>=I;--D)d.point(z[D],te[D]);d.lineEnd(),d.areaEnd()}L&&(z[S]=+t(M,S,w),te[S]=+e(M,S,w),d.point(r?+r(M,S,w):z[S],n?+n(M,S,w):te[S]))}if($)return d=null,$+""||null}function v(){return uM().defined(i).curve(u).context(a)}return g.x=function(w){return arguments.length?(t=typeof w=="function"?w:$n(+w),r=null,g):t},g.x0=function(w){return arguments.length?(t=typeof w=="function"?w:$n(+w),g):t},g.x1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:$n(+w),g):r},g.y=function(w){return arguments.length?(e=typeof w=="function"?w:$n(+w),n=null,g):e},g.y0=function(w){return arguments.length?(e=typeof w=="function"?w:$n(+w),g):e},g.y1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:$n(+w),g):n},g.lineX0=g.lineY0=function(){return v().x(t).y(e)},g.lineY1=function(){return v().x(t).y(n)},g.lineX1=function(){return v().x(r).y(e)},g.defined=function(w){return arguments.length?(i=typeof w=="function"?w:$n(!!w),g):i},g.curve=function(w){return arguments.length?(u=w,a!=null&&(d=u(a)),g):u},g.context=function(w){return arguments.length?(w==null?a=d=null:d=u(a=w),g):a},g}class fM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function QV(t){return new fM(t,!0)}function ZV(t){return new fM(t,!1)}const Tw={draw(t,e){const n=$s(e/A1);t.moveTo(n,0),t.arc(0,0,n,0,Vm)}},JV={draw(t,e){const n=$s(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},hM=$s(1/3),ez=hM*2,tz={draw(t,e){const n=$s(e/ez),r=n*hM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nz={draw(t,e){const n=$s(e),r=-n/2;t.rect(r,r,n,n)}},rz=.8908130915292852,dM=E1(A1/10)/E1(7*A1/10),iz=E1(Vm/10)*dM,az=-aM(Vm/10)*dM,sz={draw(t,e){const n=$s(e*rz),r=iz*n,i=az*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const u=Vm*a/5,d=aM(u),m=E1(u);t.lineTo(m*n,-d*n),t.lineTo(d*r-m*i,m*r+d*i)}t.closePath()}},Tv=$s(3),oz={draw(t,e){const n=-$s(e/(Tv*3));t.moveTo(0,n*2),t.lineTo(-Tv*n,-n),t.lineTo(Tv*n,-n),t.closePath()}},xs=-.5,bs=$s(3)/2,M2=1/$s(12),lz=(M2/2+1)*3,cz={draw(t,e){const n=$s(e/lz),r=n/2,i=n*M2,a=r,u=n*M2+n,d=-a,m=u;t.moveTo(r,i),t.lineTo(a,u),t.lineTo(d,m),t.lineTo(xs*r-bs*i,bs*r+xs*i),t.lineTo(xs*a-bs*u,bs*a+xs*u),t.lineTo(xs*d-bs*m,bs*d+xs*m),t.lineTo(xs*r+bs*i,xs*i-bs*r),t.lineTo(xs*a+bs*u,xs*u-bs*a),t.lineTo(xs*d+bs*m,xs*m-bs*d),t.closePath()}};function uz(t,e){let n=null,r=Cw(i);t=typeof t=="function"?t:$n(t||Tw),e=typeof e=="function"?e:$n(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:$n(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:$n(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function S1(){}function C1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function gM(t){this._context=t}gM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fz(t){return new gM(t)}function mM(t){this._context=t}mM.prototype={areaStart:S1,areaEnd:S1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:C1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hz(t){return new mM(t)}function pM(t){this._context=t}pM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:C1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dz(t){return new pM(t)}function yM(t){this._context=t}yM.prototype={areaStart:S1,areaEnd:S1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gz(t){return new yM(t)}function iI(t){return t<0?-1:1}function aI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),u=(n-t._y1)/(i||r<0&&-0),d=(a*i+u*r)/(r+i);return(iI(a)+iI(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(d))||0}function sI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Iv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,u=t._y1,d=(a-r)/3;t._context.bezierCurveTo(r+d,i+d*e,a-d,u-d*n,a,u)}function _1(t){this._context=t}_1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iv(this,this._t0,sI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iv(this,sI(this,n=aI(this,t,e)),n);break;default:Iv(this,this._t0,n=aI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vM(t){this._context=new xM(t)}(vM.prototype=Object.create(_1.prototype)).point=function(t,e){_1.prototype.point.call(this,e,t)};function xM(t){this._context=t}xM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function mz(t){return new _1(t)}function pz(t){return new vM(t)}function bM(t){this._context=t}bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=oI(t),i=oI(e),a=0,u=1;u<n;++a,++u)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),u=new Array(n);for(i[0]=0,a[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,u[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,u[e]-=r*u[e-1];for(i[n-1]=u[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(u[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function yz(t){return new bM(t)}function Hm(t,e){this._context=t,this._t=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function vz(t){return new Hm(t,.5)}function xz(t){return new Hm(t,0)}function bz(t){return new Hm(t,1)}function kf(t,e){if((u=t.length)>1)for(var n=1,r,i,a=t[e[0]],u,d=a.length;n<u;++n)for(i=a,a=t[e[n]],r=0;r<d;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function P2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function wz(t,e){return t[e]}function Ez(t){const e=[];return e.key=t,e}function Az(){var t=$n([]),e=P2,n=kf,r=wz;function i(a){var u=Array.from(t.apply(this,arguments),Ez),d,m=u.length,g=-1,v;for(const w of a)for(d=0,++g;d<m;++d)(u[d][g]=[0,+r(w,u[d].key,g,a)]).data=w;for(d=0,v=_w(e(u));d<m;++d)u[v[d]].index=d;return n(u,v),u}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:$n(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:$n(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?P2:typeof a=="function"?a:$n(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??kf,i):n},i}function Sz(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,u;i<a;++i){for(u=n=0;n<r;++n)u+=t[n][i][1]||0;if(u)for(n=0;n<r;++n)t[n][i][1]/=u}kf(t,e)}}function Cz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var u=0,d=0;u<i;++u)d+=t[u][n][1]||0;r[n][1]+=r[n][0]=-d/2}kf(t,e)}}function _z(t,e){if(!(!((u=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,u;r<a;++r){for(var d=0,m=0,g=0;d<u;++d){for(var v=t[e[d]],w=v[r][1]||0,S=v[r-1][1]||0,I=(w-S)/2,D=0;D<d;++D){var P=t[e[D]],M=P[r][1]||0,L=P[r-1][1]||0;I+=M-L}m+=w,g+=I*w}i[r-1][1]+=i[r-1][0]=n,m&&(n-=g/m)}i[r-1][1]+=i[r-1][0]=n,kf(t,e)}}var Ov={},Rv={},lI;function Tz(){return lI||(lI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(Rv)),Rv}var Nv={},cI;function wM(){return cI||(cI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(Nv)),Nv}var Dv={},uI;function Iw(){return uI||(uI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(Dv)),Dv}var Mv={},Pv={},fI;function Iz(){return fI||(fI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e}(Pv)),Pv}var hI;function Ow(){return hI||(hI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iz(),n=Iw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],u=i.length;if(u===0)return a;let d=0,m="",g="",v=!1;for(i.charCodeAt(0)===46&&(a.push(""),d++);d<u;){const w=i[d];g?w==="\\"&&d+1<u?(d++,m+=i[d]):w===g?g="":m+=w:v?w==='"'||w==="'"?g=w:w==="]"?(v=!1,a.push(m),m=""):m+=w:w==="["?(v=!0,m&&(a.push(m),m="")):w==="."?m&&(a.push(m),m=""):m+=w,d++}return m&&a.push(m),a}t.toPath=r}(Mv)),Mv}var dI;function Rw(){return dI||(dI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tz(),n=wM(),r=Iw(),i=Ow();function a(d,m,g){if(d==null)return g;switch(typeof m){case"string":{if(e.isUnsafeProperty(m))return g;const v=d[m];return v===void 0?n.isDeepKey(m)?a(d,i.toPath(m),g):g:v}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const v=d[m];return v===void 0?g:v}default:{if(Array.isArray(m))return u(d,m,g);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),e.isUnsafeProperty(m))return g;const v=d[m];return v===void 0?g:v}}}function u(d,m,g){if(m.length===0)return g;let v=d;for(let w=0;w<m.length;w++){if(v==null||e.isUnsafeProperty(m[w]))return g;v=v[m[w]]}return v===void 0?g:v}t.get=a}(Ov)),Ov}var kv,gI;function Oz(){return gI||(gI=1,kv=Rw().get),kv}var Rz=Oz();const lu=wo(Rz);var pi=t=>t===0?0:t>0?1:-1,Os=t=>typeof t=="number"&&t!=+t,sl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ft=t=>(typeof t=="number"||t instanceof Number)&&!Os(t),xo=t=>ft(t)||typeof t=="string",Nz=0,Dd=t=>{var e=++Nz;return"".concat(t||"").concat(e)},Ki=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ft(e)&&typeof e!="string")return r;var a;if(sl(e)){if(n==null)return r;var u=e.indexOf("%");a=n*parseFloat(e.slice(0,u))/100}else a=+e;return Os(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},EM=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Or(t,e,n){return ft(t)&&ft(e)?t+n*(e-t):e}function AM(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):lu(r,e))===n)}var mr=t=>t===null||typeof t>"u",Jd=t=>mr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Dz=["type","size","sizeType"];function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k2.apply(null,arguments)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mz(t,e,n){return(e=Pz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pz(t){var e=kz(t,"string");return typeof e=="symbol"?e:e+""}function kz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lz(t,e){if(t==null)return{};var n,r,i=jz(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SM={symbolCircle:Tw,symbolCross:JV,symbolDiamond:tz,symbolSquare:nz,symbolStar:sz,symbolTriangle:oz,symbolWye:cz},Bz=Math.PI/180,Fz=t=>{var e="symbol".concat(Jd(t));return SM[e]||Tw},Uz=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Bz;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Vz=(t,e)=>{SM["symbol".concat(Jd(t))]=e},Nw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Lz(t,Dz),a=pI(pI({},i),{},{type:e,size:n,sizeType:r}),u="circle";typeof e=="string"&&(u=e);var d=()=>{var S=Fz(u),I=uz().type(S).size(Uz(n,r,u)),D=I();if(D!==null)return D},{className:m,cx:g,cy:v}=a,w=sa(a);return g===+g&&v===+v&&n===+n?R.createElement("path",k2({},w,{className:xn("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:d()})):null};Nw.registerSymbol=Vz;var Dw=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Aw(i)&&(r[i]=a=>n[i](n,a))}),r},zz=(t,e,n)=>r=>(t(e,n,r),null),e0=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];Aw(i)&&typeof a=="function"&&(r||(r={}),r[i]=zz(a,e,n))}),r};function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L2.apply(null,arguments)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){Mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mw(t,e,n){return(e=qz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qz(t){var e=Gz(t,"string");return typeof e=="symbol"?e:e+""}function Gz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ws=32;class Pw extends R.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=ws/2,a=ws/6,u=ws/3,d=e.inactive?r:e.color,m=n??e.type;if(m==="none")return null;if(m==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ws,y2:i,className:"recharts-legend-icon"});if(m==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(ws,"M").concat(2*u,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return R.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ws/8,"h").concat(ws,"v").concat(ws*3/4,"h").concat(-ws,"z"),className:"recharts-legend-icon"});if(R.isValidElement(e.legendIcon)){var g=Hz({},e);return delete g.legendIcon,R.cloneElement(e.legendIcon,g)}return R.createElement(Nw,{fill:d,cx:i,cy:i,size:ws,sizeType:"diameter",type:m})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:u}=this.props,d={x:0,y:0,width:ws,height:ws},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((v,w)=>{var S=v.formatter||i,I=xn({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:v.inactive});if(v.type==="none")return null;var D=v.inactive?a:v.color,P=S?S(v.value,v,w):v.value;return R.createElement("li",L2({className:I,style:m,key:"legend-item-".concat(w)},e0(this.props,v,w)),R.createElement(Sw,{width:n,height:n,viewBox:d,style:g,"aria-label":"".concat(P," legend icon")},this.renderIcon(v,u)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:D}},P))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Mw(Pw,"displayName","Legend");Mw(Pw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Lv={},jv={},vI;function Wz(){return vI||(vI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const u=n[a],d=r(u);i.has(d)||i.set(d,u)}return Array.from(i.values())}t.uniqBy=e}(jv)),jv}var Bv={},xI;function CM(){return xI||(xI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Bv)),Bv}var Fv={},Uv={},Vv={},bI;function Yz(){return bI||(bI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Vv)),Vv}var wI;function kw(){return wI||(wI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yz();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(Uv)),Uv}var zv={},EI;function $z(){return EI||(EI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(zv)),zv}var AI;function Xz(){return AI||(AI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kw(),n=$z();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(Fv)),Fv}var Hv={},qv={},SI;function Kz(){return SI||(SI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rw();function n(r){return function(i){return e.get(i,r)}}t.property=n}(qv)),qv}var Gv={},Wv={},Yv={},$v={},CI;function _M(){return CI||(CI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}($v)),$v}var Xv={},_I;function TM(){return _I||(_I=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(Xv)),Xv}var Kv={},TI;function IM(){return TI||(TI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Kv)),Kv}var II;function Qz(){return II||(II=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lw(),n=_M(),r=TM(),i=IM();function a(w,S,I){return typeof I!="function"?e.isMatch(w,S):u(w,S,function D(P,M,L,$,z,te){const X=I(P,M,L,$,z,te);return X!==void 0?!!X:u(P,M,D,te)},new Map)}function u(w,S,I,D){if(S===w)return!0;switch(typeof S){case"object":return d(w,S,I,D);case"function":return Object.keys(S).length>0?u(w,{...S},I,D):i.eq(w,S);default:return n.isObject(w)?typeof S=="string"?S==="":!0:i.eq(w,S)}}function d(w,S,I,D){if(S==null)return!0;if(Array.isArray(S))return g(w,S,I,D);if(S instanceof Map)return m(w,S,I,D);if(S instanceof Set)return v(w,S,I,D);const P=Object.keys(S);if(w==null)return P.length===0;if(P.length===0)return!0;if(D&&D.has(S))return D.get(S)===w;D&&D.set(S,w);try{for(let M=0;M<P.length;M++){const L=P[M];if(!r.isPrimitive(w)&&!(L in w)||S[L]===void 0&&w[L]!==void 0||S[L]===null&&w[L]!==null||!I(w[L],S[L],L,w,S,D))return!1}return!0}finally{D&&D.delete(S)}}function m(w,S,I,D){if(S.size===0)return!0;if(!(w instanceof Map))return!1;for(const[P,M]of S.entries()){const L=w.get(P);if(I(L,M,P,w,S,D)===!1)return!1}return!0}function g(w,S,I,D){if(S.length===0)return!0;if(!Array.isArray(w))return!1;const P=new Set;for(let M=0;M<S.length;M++){const L=S[M];let $=!1;for(let z=0;z<w.length;z++){if(P.has(z))continue;const te=w[z];let X=!1;if(I(te,L,M,w,S,D)&&(X=!0),X){P.add(z),$=!0;break}}if(!$)return!1}return!0}function v(w,S,I,D){return S.size===0?!0:w instanceof Set?g([...w],[...S],I,D):!1}t.isMatchWith=a,t.isSetMatch=v}(Yv)),Yv}var OI;function Lw(){return OI||(OI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qz();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Wv)),Wv}var Qv={},Zv={},Jv={},RI;function Zz(){return RI||(RI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Jv)),Jv}var ex={},NI;function OM(){return NI||(NI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(ex)),ex}var tx={},DI;function RM(){return DI||(DI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",u="[object Symbol]",d="[object Date]",m="[object Map]",g="[object Set]",v="[object Array]",w="[object Function]",S="[object ArrayBuffer]",I="[object Object]",D="[object Error]",P="[object DataView]",M="[object Uint8Array]",L="[object Uint8ClampedArray]",$="[object Uint16Array]",z="[object Uint32Array]",te="[object BigUint64Array]",X="[object Int8Array]",ee="[object Int16Array]",B="[object Int32Array]",H="[object BigInt64Array]",F="[object Float32Array]",J="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=S,t.arrayTag=v,t.bigInt64ArrayTag=H,t.bigUint64ArrayTag=te,t.booleanTag=i,t.dataViewTag=P,t.dateTag=d,t.errorTag=D,t.float32ArrayTag=F,t.float64ArrayTag=J,t.functionTag=w,t.int16ArrayTag=ee,t.int32ArrayTag=B,t.int8ArrayTag=X,t.mapTag=m,t.numberTag=r,t.objectTag=I,t.regexpTag=e,t.setTag=g,t.stringTag=n,t.symbolTag=u,t.uint16ArrayTag=$,t.uint32ArrayTag=z,t.uint8ArrayTag=M,t.uint8ClampedArrayTag=L}(tx)),tx}var nx={},MI;function Jz(){return MI||(MI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(nx)),nx}var PI;function NM(){return PI||(PI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zz(),n=OM(),r=RM(),i=TM(),a=Jz();function u(v,w){return d(v,void 0,v,new Map,w)}function d(v,w,S,I=new Map,D=void 0){const P=D?.(v,w,S,I);if(P!==void 0)return P;if(i.isPrimitive(v))return v;if(I.has(v))return I.get(v);if(Array.isArray(v)){const M=new Array(v.length);I.set(v,M);for(let L=0;L<v.length;L++)M[L]=d(v[L],L,S,I,D);return Object.hasOwn(v,"index")&&(M.index=v.index),Object.hasOwn(v,"input")&&(M.input=v.input),M}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const M=new RegExp(v.source,v.flags);return M.lastIndex=v.lastIndex,M}if(v instanceof Map){const M=new Map;I.set(v,M);for(const[L,$]of v)M.set(L,d($,L,S,I,D));return M}if(v instanceof Set){const M=new Set;I.set(v,M);for(const L of v)M.add(d(L,void 0,S,I,D));return M}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(a.isTypedArray(v)){const M=new(Object.getPrototypeOf(v)).constructor(v.length);I.set(v,M);for(let L=0;L<v.length;L++)M[L]=d(v[L],L,S,I,D);return M}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const M=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return I.set(v,M),m(M,v,S,I,D),M}if(typeof File<"u"&&v instanceof File){const M=new File([v],v.name,{type:v.type});return I.set(v,M),m(M,v,S,I,D),M}if(typeof Blob<"u"&&v instanceof Blob){const M=new Blob([v],{type:v.type});return I.set(v,M),m(M,v,S,I,D),M}if(v instanceof Error){const M=new v.constructor;return I.set(v,M),M.message=v.message,M.name=v.name,M.stack=v.stack,M.cause=v.cause,m(M,v,S,I,D),M}if(v instanceof Boolean){const M=new Boolean(v.valueOf());return I.set(v,M),m(M,v,S,I,D),M}if(v instanceof Number){const M=new Number(v.valueOf());return I.set(v,M),m(M,v,S,I,D),M}if(v instanceof String){const M=new String(v.valueOf());return I.set(v,M),m(M,v,S,I,D),M}if(typeof v=="object"&&g(v)){const M=Object.create(Object.getPrototypeOf(v));return I.set(v,M),m(M,v,S,I,D),M}return v}function m(v,w,S=v,I,D){const P=[...Object.keys(w),...e.getSymbols(w)];for(let M=0;M<P.length;M++){const L=P[M],$=Object.getOwnPropertyDescriptor(v,L);($==null||$.writable)&&(v[L]=d(w[L],L,S,I,D))}}function g(v){switch(n.getTag(v)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=u,t.cloneDeepWithImpl=d,t.copyProperties=m}(Zv)),Zv}var kI;function eH(){return kI||(kI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(Qv)),Qv}var LI;function tH(){return LI||(LI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lw(),n=eH();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r}(Gv)),Gv}var rx={},ix={},ax={},jI;function nH(){return jI||(jI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NM(),n=RM();function r(i,a){return e.cloneDeepWith(i,(u,d,m,g)=>{const v=a?.(u,d,m,g);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const w=new i.constructor(i?.valueOf());return e.copyProperties(w,i),w}case n.argumentsTag:{const w={};return e.copyProperties(w,i),w.length=i.length,w[Symbol.iterator]=i[Symbol.iterator],w}default:return}})}t.cloneDeepWith=r}(ax)),ax}var BI;function rH(){return BI||(BI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(ix)),ix}var sx={},ox={},FI;function DM(){return FI||(FI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(ox)),ox}var lx={},UI;function iH(){return UI||(UI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(lx)),lx}var VI;function aH(){return VI||(VI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wM(),n=DM(),r=iH(),i=Ow();function a(u,d){let m;if(Array.isArray(d)?m=d:typeof d=="string"&&e.isDeepKey(d)&&u?.[d]==null?m=i.toPath(d):m=[d],m.length===0)return!1;let g=u;for(let v=0;v<m.length;v++){const w=m[v];if((g==null||!Object.hasOwn(g,w))&&!((Array.isArray(g)||r.isArguments(g))&&n.isIndex(w)&&w<g.length))return!1;g=g[w]}return!0}t.has=a}(sx)),sx}var zI;function sH(){return zI||(zI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lw(),n=Iw(),r=rH(),i=Rw(),a=aH();function u(d,m){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return m=r.cloneDeep(m),function(g){const v=i.get(g,d);return v===void 0?a.has(g,d):m===void 0?v===void 0:e.isMatch(v,m)}}t.matchesProperty=u}(rx)),rx}var HI;function oH(){return HI||(HI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CM(),n=Kz(),r=tH(),i=sH();function a(u){if(u==null)return e.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?i.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}t.iteratee=a}(Hv)),Hv}var qI;function lH(){return qI||(qI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wz(),n=CM(),r=Xz(),i=oH();function a(u,d=n.identity){return r.isArrayLikeObject(u)?e.uniqBy(Array.from(u),i.iteratee(d)):[]}t.uniqBy=a}(Lv)),Lv}var cx,GI;function cH(){return GI||(GI=1,cx=lH().uniqBy),cx}var uH=cH();const WI=wo(uH);function MM(t,e,n){return e===!0?WI(t,n):typeof e=="function"?WI(t,e):t}var ux={exports:{}},fx={},hx={exports:{}},dx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI;function fH(){if(YI)return dx;YI=1;var t=qf();function e(w,S){return w===S&&(w!==0||1/w===1/S)||w!==w&&S!==S}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function d(w,S){var I=S(),D=r({inst:{value:I,getSnapshot:S}}),P=D[0].inst,M=D[1];return a(function(){P.value=I,P.getSnapshot=S,m(P)&&M({inst:P})},[w,I,S]),i(function(){return m(P)&&M({inst:P}),w(function(){m(P)&&M({inst:P})})},[w]),u(I),I}function m(w){var S=w.getSnapshot;w=w.value;try{var I=S();return!n(w,I)}catch{return!0}}function g(w,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return dx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,dx}var $I;function hH(){return $I||($I=1,hx.exports=fH()),hx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI;function dH(){if(XI)return fx;XI=1;var t=qf(),e=hH();function n(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,d=t.useMemo,m=t.useDebugValue;return fx.useSyncExternalStoreWithSelector=function(g,v,w,S,I){var D=a(null);if(D.current===null){var P={hasValue:!1,value:null};D.current=P}else P=D.current;D=d(function(){function L(ee){if(!$){if($=!0,z=ee,ee=S(ee),I!==void 0&&P.hasValue){var B=P.value;if(I(B,ee))return te=B}return te=ee}if(B=te,r(z,ee))return B;var H=S(ee);return I!==void 0&&I(B,H)?(z=ee,B):(z=ee,te=H)}var $=!1,z,te,X=w===void 0?null:w;return[function(){return L(v())},X===null?void 0:function(){return L(X())}]},[v,w,S,I]);var M=i(g,D[0],D[1]);return u(function(){P.hasValue=!0,P.value=M},[M]),m(M),M},fx}var KI;function gH(){return KI||(KI=1,ux.exports=dH()),ux.exports}var mH=gH(),jw=R.createContext(null),pH=t=>t,pr=()=>{var t=R.useContext(jw);return t?t.store.dispatch:pH},Zg=()=>{},yH=()=>Zg,vH=(t,e)=>t===e;function ct(t){var e=R.useContext(jw);return mH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:yH,e?e.store.getState:Zg,e?e.store.getState:Zg,e?t:Zg,vH)}function xH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function bH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function wH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var QI=t=>Array.isArray(t)?t:[t];function EH(t){const e=Array.isArray(t[0])?t[0]:t;return wH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function AH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var SH=class{constructor(t){this.value=t}deref(){return this.value}},CH=typeof WeakRef<"u"?WeakRef:SH,_H=0,ZI=1;function Og(){return{s:_H,v:void 0,o:null,p:null}}function PM(t,e={}){let n=Og();const{resultEqualityCheck:r}=e;let i,a=0;function u(){let d=n;const{length:m}=arguments;for(let w=0,S=m;w<S;w++){const I=arguments[w];if(typeof I=="function"||typeof I=="object"&&I!==null){let D=d.o;D===null&&(d.o=D=new WeakMap);const P=D.get(I);P===void 0?(d=Og(),D.set(I,d)):d=P}else{let D=d.p;D===null&&(d.p=D=new Map);const P=D.get(I);P===void 0?(d=Og(),D.set(I,d)):d=P}}const g=d;let v;if(d.s===ZI)v=d.v;else if(v=t.apply(null,arguments),a++,r){const w=i?.deref?.()??i;w!=null&&r(w,v)&&(v=w,a!==0&&a--),i=typeof v=="object"&&v!==null||typeof v=="function"?new CH(v):v}return g.s=ZI,g.v=v,v}return u.clearCache=()=>{n=Og(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}function TH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,u=0,d,m={},g=i.pop();typeof g=="object"&&(m=g,g=i.pop()),xH(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const v={...n,...m},{memoize:w,memoizeOptions:S=[],argsMemoize:I=PM,argsMemoizeOptions:D=[]}=v,P=QI(S),M=QI(D),L=EH(i),$=w(function(){return a++,g.apply(null,arguments)},...P),z=I(function(){u++;const X=AH(L,arguments);return d=$.apply(null,X),d},...M);return Object.assign(z,{resultFunc:g,memoizedResultFunc:$,dependencies:L,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:w,argsMemoize:I})};return Object.assign(r,{withTypes:()=>r}),r}var we=TH(PM),IH=Object.assign((t,e=we)=>{bH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((u,d,m)=>(u[n[m]]=d,u),{}))},{withTypes:()=>IH}),gx={},mx={},px={},JI;function OH(){return JI||(JI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const u=e(r),d=e(i);if(u===d&&u===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?d-u:u-d}return 0};t.compareValues=n}(px)),px}var yx={},vx={},e3;function kM(){return e3||(e3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(vx)),vx}var t3;function RH(){return t3||(t3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,u){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||u!=null&&Object.hasOwn(u,a)}t.isKey=i}(yx)),yx}var n3;function NH(){return n3||(n3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OH(),n=RH(),r=Ow();function i(a,u,d,m){if(a==null)return[];d=m?void 0:d,Array.isArray(a)||(a=Object.values(a)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(I=>String(I));const g=(I,D)=>{let P=I;for(let M=0;M<D.length&&P!=null;++M)P=P[D[M]];return P},v=(I,D)=>D==null||I==null?D:typeof I=="object"&&"key"in I?Object.hasOwn(D,I.key)?D[I.key]:g(D,I.path):typeof I=="function"?I(D):Array.isArray(I)?g(D,I):typeof D=="object"?D[I]:D,w=u.map(I=>(Array.isArray(I)&&I.length===1&&(I=I[0]),I==null||typeof I=="function"||Array.isArray(I)||n.isKey(I)?I:{key:I,path:r.toPath(I)}));return a.map(I=>({original:I,criteria:w.map(D=>v(D,I))})).slice().sort((I,D)=>{for(let P=0;P<w.length;P++){const M=e.compareValues(I.criteria[P],D.criteria[P],d[P]);if(M!==0)return M}return 0}).map(I=>I.original)}t.orderBy=i}(mx)),mx}var xx={},r3;function DH(){return r3||(r3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),u=(d,m)=>{for(let g=0;g<d.length;g++){const v=d[g];Array.isArray(v)&&m<a?u(v,m+1):i.push(v)}};return u(n,0),i}t.flatten=e}(xx)),xx}var bx={},i3;function LM(){return i3||(i3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DM(),n=kw(),r=_M(),i=IM();function a(u,d,m){return r.isObject(m)&&(typeof d=="number"&&n.isArrayLike(m)&&e.isIndex(d)&&d<m.length||typeof d=="string"&&d in m)?i.eq(m[d],u):!1}t.isIterateeCall=a}(bx)),bx}var a3;function MH(){return a3||(a3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NH(),n=DH(),r=LM();function i(a,...u){const d=u.length;return d>1&&r.isIterateeCall(a,u[0],u[1])?u=[]:d>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),e.orderBy(a,n.flatten(u),["asc"])}t.sortBy=i}(gx)),gx}var wx,s3;function PH(){return s3||(s3=1,wx=MH().sortBy),wx}var kH=PH();const qm=wo(kH);var jM=t=>t.legend.settings,LH=t=>t.legend.size,jH=t=>t.legend.payload,BH=we([jH,jM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?qm(r,n):r});function FH(){return ct(BH)}var Rg=1;function BM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),u={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(u.height-e.height)>Rg||Math.abs(u.left-e.left)>Rg||Math.abs(u.top-e.top)>Rg||Math.abs(u.width-e.width)>Rg)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Oi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var UH=typeof Symbol=="function"&&Symbol.observable||"@@observable",o3=UH,Ex=()=>Math.random().toString(36).substring(7).split("").join("."),VH={INIT:`@@redux/INIT${Ex()}`,REPLACE:`@@redux/REPLACE${Ex()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ex()}`},T1=VH;function Bw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function FM(t,e,n){if(typeof t!="function")throw new Error(Oi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Oi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Oi(1));return n(FM)(t,e)}let r=t,i=e,a=new Map,u=a,d=0,m=!1;function g(){u===a&&(u=new Map,a.forEach((M,L)=>{u.set(L,M)}))}function v(){if(m)throw new Error(Oi(3));return i}function w(M){if(typeof M!="function")throw new Error(Oi(4));if(m)throw new Error(Oi(5));let L=!0;g();const $=d++;return u.set($,M),function(){if(L){if(m)throw new Error(Oi(6));L=!1,g(),u.delete($),a=null}}}function S(M){if(!Bw(M))throw new Error(Oi(7));if(typeof M.type>"u")throw new Error(Oi(8));if(typeof M.type!="string")throw new Error(Oi(17));if(m)throw new Error(Oi(9));try{m=!0,i=r(i,M)}finally{m=!1}return(a=u).forEach($=>{$()}),M}function I(M){if(typeof M!="function")throw new Error(Oi(10));r=M,S({type:T1.REPLACE})}function D(){const M=w;return{subscribe(L){if(typeof L!="object"||L===null)throw new Error(Oi(11));function $(){const te=L;te.next&&te.next(v())}return $(),{unsubscribe:M($)}},[o3](){return this}}}return S({type:T1.INIT}),{dispatch:S,subscribe:w,getState:v,replaceReducer:I,[o3]:D}}function zH(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:T1.INIT})>"u")throw new Error(Oi(12));if(typeof n(void 0,{type:T1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Oi(13))})}function UM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const u=e[a];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let i;try{zH(n)}catch(a){i=a}return function(u={},d){if(i)throw i;let m=!1;const g={};for(let v=0;v<r.length;v++){const w=r[v],S=n[w],I=u[w],D=S(I,d);if(typeof D>"u")throw d&&d.type,new Error(Oi(14));g[w]=D,m=m||D!==I}return m=m||r.length!==Object.keys(u).length,m?g:u}}function I1(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function HH(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Oi(15))};const u={getState:i.getState,dispatch:(m,...g)=>a(m,...g)},d=t.map(m=>m(u));return a=I1(...d)(i.dispatch),{...i,dispatch:a}}}function VM(t){return Bw(t)&&"type"in t&&typeof t.type=="string"}var zM=Symbol.for("immer-nothing"),l3=Symbol.for("immer-draftable"),ts=Symbol.for("immer-state");function zs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lf=Object.getPrototypeOf;function cu(t){return!!t&&!!t[ts]}function ol(t){return t?HM(t)||Array.isArray(t)||!!t[l3]||!!t.constructor?.[l3]||t0(t)||Wm(t):!1}var qH=Object.prototype.constructor.toString();function HM(t){if(!t||typeof t!="object")return!1;const e=Lf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===qH}function O1(t,e){Gm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Gm(t){const e=t[ts];return e?e.type_:Array.isArray(t)?1:t0(t)?2:Wm(t)?3:0}function j2(t,e){return Gm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qM(t,e,n){const r=Gm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function GH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function t0(t){return t instanceof Map}function Wm(t){return t instanceof Set}function Wc(t){return t.copy_||t.base_}function B2(t,e){if(t0(t))return new Map(t);if(Wm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=HM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ts];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const u=i[a],d=r[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[u]})}return Object.create(Lf(t),r)}else{const r=Lf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Fw(t,e=!1){return Ym(t)||cu(t)||!ol(t)||(Gm(t)>1&&Object.defineProperties(t,{set:{value:Ng},add:{value:Ng},clear:{value:Ng},delete:{value:Ng}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Fw(n,!0))),t}function Ng(){zs(2)}function Ym(t){return Object.isFrozen(t)}var WH={};function uu(t){const e=WH[t];return e||zs(0,t),e}var Md;function GM(){return Md}function YH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c3(t,e){e&&(uu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function F2(t){U2(t),t.drafts_.forEach($H),t.drafts_=null}function U2(t){t===Md&&(Md=t.parent_)}function u3(t){return Md=YH(Md,t)}function $H(t){const e=t[ts];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function f3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ts].modified_&&(F2(e),zs(4)),ol(t)&&(t=R1(e,t),e.parent_||N1(e,t)),e.patches_&&uu("Patches").generateReplacementPatches_(n[ts].base_,t,e.patches_,e.inversePatches_)):t=R1(e,n,[]),F2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==zM?t:void 0}function R1(t,e,n){if(Ym(e))return e;const r=e[ts];if(!r)return O1(e,(i,a)=>h3(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return N1(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,u=!1;r.type_===3&&(a=new Set(i),i.clear(),u=!0),O1(a,(d,m)=>h3(t,r,i,d,m,n,u)),N1(t,i,!1),n&&t.patches_&&uu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function h3(t,e,n,r,i,a,u){if(cu(i)){const d=a&&e&&e.type_!==3&&!j2(e.assigned_,r)?a.concat(r):void 0,m=R1(t,i,d);if(qM(n,r,m),cu(m))t.canAutoFreeze_=!1;else return}else u&&n.add(i);if(ol(i)&&!Ym(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;R1(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(t0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&N1(t,i)}}function N1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Fw(e,n)}function XH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:GM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Uw;n&&(i=[r],a=Pd);const{revoke:u,proxy:d}=Proxy.revocable(i,a);return r.draft_=d,r.revoke_=u,d}var Uw={get(t,e){if(e===ts)return t;const n=Wc(t);if(!j2(n,e))return KH(t,n,e);const r=n[e];return t.finalized_||!ol(r)?r:r===Ax(t.base_,e)?(Sx(t),t.copy_[e]=z2(r,t)):r},has(t,e){return e in Wc(t)},ownKeys(t){return Reflect.ownKeys(Wc(t))},set(t,e,n){const r=WM(Wc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ax(Wc(t),e),a=i?.[ts];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(GH(n,i)&&(n!==void 0||j2(t.base_,e)))return!0;Sx(t),V2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ax(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Sx(t),V2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Wc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){zs(11)},getPrototypeOf(t){return Lf(t.base_)},setPrototypeOf(){zs(12)}},Pd={};O1(Uw,(t,e)=>{Pd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Pd.deleteProperty=function(t,e){return Pd.set.call(this,t,e,void 0)};Pd.set=function(t,e,n){return Uw.set.call(this,t[0],e,n,t[0])};function Ax(t,e){const n=t[ts];return(n?Wc(n):t)[e]}function KH(t,e,n){const r=WM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function WM(t,e){if(!(e in t))return;let n=Lf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lf(n)}}function V2(t){t.modified_||(t.modified_=!0,t.parent_&&V2(t.parent_))}function Sx(t){t.copy_||(t.copy_=B2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var QH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const u=this;return function(m=a,...g){return u.produce(m,v=>n.call(this,v,...g))}}typeof n!="function"&&zs(6),r!==void 0&&typeof r!="function"&&zs(7);let i;if(ol(e)){const a=u3(this),u=z2(e,void 0);let d=!0;try{i=n(u),d=!1}finally{d?F2(a):U2(a)}return c3(a,r),f3(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===zM&&(i=void 0),this.autoFreeze_&&Fw(i,!0),r){const a=[],u=[];uu("Patches").generateReplacementPatches_(e,i,a,u),r(a,u)}return i}else zs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...d)=>this.produceWithPatches(u,m=>e(m,...d));let r,i;return[this.produce(e,n,(u,d)=>{r=u,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ol(t)||zs(8),cu(t)&&(t=Jo(t));const e=u3(this),n=z2(t,void 0);return n[ts].isManual_=!0,U2(e),n}finishDraft(t,e){const n=t&&t[ts];(!n||!n.isManual_)&&zs(9);const{scope_:r}=n;return c3(r,e),f3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=uu("Patches").applyPatches_;return cu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function z2(t,e){const n=t0(t)?uu("MapSet").proxyMap_(t,e):Wm(t)?uu("MapSet").proxySet_(t,e):XH(t,e);return(e?e.scope_:GM()).drafts_.push(n),n}function Jo(t){return cu(t)||zs(10,t),YM(t)}function YM(t){if(!ol(t)||Ym(t))return t;const e=t[ts];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=B2(t,e.scope_.immer_.useStrictShallowCopy_)}else n=B2(t,!0);return O1(n,(r,i)=>{qM(n,r,YM(i))}),e&&(e.finalized_=!1),n}var ZH=new QH,$M=ZH.produce;function XM(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var JH=XM(),eq=XM,tq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?I1:I1.apply(null,arguments)};function Rs(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ja(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>VM(r)&&r.type===t,n}var KM=class ud extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ud.prototype)}static get[Symbol.species](){return ud}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ud(...e[0].concat(this)):new ud(...e.concat(this))}};function d3(t){return ol(t)?$M(t,()=>{}):t}function Dg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function nq(t){return typeof t=="boolean"}var rq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let u=new KM;return n&&(nq(n)?u.push(JH):u.push(eq(n.extraArgument))),u},QM="RTK_autoBatch",ra=()=>t=>({payload:t,meta:{[QM]:!0}}),g3=t=>e=>{setTimeout(e,t)},ZM=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,u=!1;const d=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:g3(10):t.type==="callback"?t.queueNotification:g3(t.timeout),g=()=>{u=!1,a&&(a=!1,d.forEach(v=>v()))};return Object.assign({},r,{subscribe(v){const w=()=>i&&v(),S=r.subscribe(w);return d.add(v),()=>{S(),d.delete(v)}},dispatch(v){try{return i=!v?.meta?.[QM],a=!i,a&&(u||(u=!0,m(g))),r.dispatch(v)}finally{i=!0}}})},iq=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new KM(t);return r&&i.push(ZM(typeof r=="object"?r:void 0)),i};function aq(t){const e=rq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:u=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(Bw(n))d=UM(n);else throw new Error(Ja(1));let m;typeof r=="function"?m=r(e):m=e();let g=I1;i&&(g=tq({trace:!1,...typeof i=="object"&&i}));const v=HH(...m),w=iq(v);let S=typeof u=="function"?u(w):w();const I=g(...S);return FM(d,a,I)}function JM(t){const e={},n=[];let r;const i={addCase(a,u){const d=typeof a=="string"?a:a.type;if(!d)throw new Error(Ja(28));if(d in e)throw new Error(Ja(29));return e[d]=u,i},addAsyncThunk(a,u){return u.pending&&(e[a.pending.type]=u.pending),u.rejected&&(e[a.rejected.type]=u.rejected),u.fulfilled&&(e[a.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:a.settled,reducer:u.settled}),i},addMatcher(a,u){return n.push({matcher:a,reducer:u}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function sq(t){return typeof t=="function"}function oq(t,e){let[n,r,i]=JM(e),a;if(sq(t))a=()=>d3(t());else{const d=d3(t);a=()=>d}function u(d=a(),m){let g=[n[m.type],...r.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[i]),g.reduce((v,w)=>{if(w)if(cu(v)){const I=w(v,m);return I===void 0?v:I}else{if(ol(v))return $M(v,S=>w(S,m));{const S=w(v,m);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},d)}return u.getInitialState=a,u}var lq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cq=(t=21)=>{let e="",n=t;for(;n--;)e+=lq[Math.random()*64|0];return e},uq=Symbol.for("rtk-slice-createasyncthunk");function fq(t,e){return`${t}/${e}`}function hq({creators:t}={}){const e=t?.asyncThunk?.[uq];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ja(11));const u=(typeof r.reducers=="function"?r.reducers(gq()):r.reducers)||{},d=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(z,te){const X=typeof z=="string"?z:z.type;if(!X)throw new Error(Ja(12));if(X in m.sliceCaseReducersByType)throw new Error(Ja(13));return m.sliceCaseReducersByType[X]=te,g},addMatcher(z,te){return m.sliceMatchers.push({matcher:z,reducer:te}),g},exposeAction(z,te){return m.actionCreators[z]=te,g},exposeCaseReducer(z,te){return m.sliceCaseReducersByName[z]=te,g}};d.forEach(z=>{const te=u[z],X={reducerName:z,type:fq(i,z),createNotation:typeof r.reducers=="function"};pq(te)?vq(X,te,g,e):mq(X,te,g)});function v(){const[z={},te=[],X=void 0]=typeof r.extraReducers=="function"?JM(r.extraReducers):[r.extraReducers],ee={...z,...m.sliceCaseReducersByType};return oq(r.initialState,B=>{for(let H in ee)B.addCase(H,ee[H]);for(let H of m.sliceMatchers)B.addMatcher(H.matcher,H.reducer);for(let H of te)B.addMatcher(H.matcher,H.reducer);X&&B.addDefaultCase(X)})}const w=z=>z,S=new Map,I=new WeakMap;let D;function P(z,te){return D||(D=v()),D(z,te)}function M(){return D||(D=v()),D.getInitialState()}function L(z,te=!1){function X(B){let H=B[z];return typeof H>"u"&&te&&(H=Dg(I,X,M)),H}function ee(B=w){const H=Dg(S,te,()=>new WeakMap);return Dg(H,B,()=>{const F={};for(const[J,q]of Object.entries(r.selectors??{}))F[J]=dq(q,B,()=>Dg(I,B,M),te);return F})}return{reducerPath:z,getSelectors:ee,get selectors(){return ee(X)},selectSlice:X}}const $={name:i,reducer:P,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:M,...L(a),injectInto(z,{reducerPath:te,...X}={}){const ee=te??a;return z.inject({reducerPath:ee,reducer:P},X),{...$,...L(ee,!0)}}};return $}}function dq(t,e,n,r){function i(a,...u){let d=e(a);return typeof d>"u"&&r&&(d=n()),t(d,...u)}return i.unwrapped=t,i}var ns=hq();function gq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function mq({type:t,reducerName:e,createNotation:n},r,i){let a,u;if("reducer"in r){if(n&&!yq(r))throw new Error(Ja(17));a=r.reducer,u=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,u?Rs(t,u):Rs(t))}function pq(t){return t._reducerDefinitionType==="asyncThunk"}function yq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function vq({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ja(18));const{payloadCreator:a,fulfilled:u,pending:d,rejected:m,settled:g,options:v}=n,w=i(t,a,v);r.exposeAction(e,w),u&&r.addCase(w.fulfilled,u),d&&r.addCase(w.pending,d),m&&r.addCase(w.rejected,m),g&&r.addMatcher(w.settled,g),r.exposeCaseReducer(e,{fulfilled:u||Mg,pending:d||Mg,rejected:m||Mg,settled:g||Mg})}function Mg(){}var xq="task",e8="listener",t8="completed",Vw="cancelled",bq=`task-${Vw}`,wq=`task-${t8}`,H2=`${e8}-${Vw}`,Eq=`${e8}-${t8}`,$m=class{constructor(t){this.code=t,this.message=`${xq} ${Vw} (reason: ${t})`}name="TaskAbortError";message},zw=(t,e)=>{if(typeof t!="function")throw new TypeError(Ja(32))},D1=()=>{},n8=(t,e=D1)=>(t.catch(e),t),r8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),eu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},tu=t=>{if(t.aborted){const{reason:e}=t;throw new $m(e)}};function i8(t,e){let n=D1;return new Promise((r,i)=>{const a=()=>i(new $m(t.reason));if(t.aborted){a();return}n=r8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=D1})}var Aq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof $m?"cancelled":"rejected",error:n}}finally{e?.()}},M1=t=>e=>n8(i8(t,e).then(n=>(tu(t),n))),a8=t=>{const e=M1(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Af}=Object,m3={},Xm="listenerMiddleware",Sq=(t,e)=>{const n=r=>r8(t,()=>eu(r,t.reason));return(r,i)=>{zw(r);const a=new AbortController;n(a);const u=Aq(async()=>{tu(t),tu(a.signal);const d=await r({pause:M1(a.signal),delay:a8(a.signal),signal:a.signal});return tu(a.signal),d},()=>eu(a,wq));return i?.autoJoin&&e.push(u.catch(D1)),{result:M1(t)(u),cancel(){eu(a,bq)}}}},Cq=(t,e)=>{const n=async(r,i)=>{tu(e);let a=()=>{};const d=[new Promise((m,g)=>{let v=t({predicate:r,effect:(w,S)=>{S.unsubscribe(),m([w,S.getState(),S.getOriginalState()])}});a=()=>{v(),g()}})];i!=null&&d.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await i8(e,Promise.race(d));return tu(e),m}finally{a()}};return(r,i)=>n8(n(r,i))},s8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Rs(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ja(21));return zw(a),{predicate:i,type:e,effect:a}},o8=Af(t=>{const{type:e,predicate:n,effect:r}=s8(t);return{id:cq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ja(22))}}},{withTypes:()=>o8}),p3=(t,e)=>{const{type:n,effect:r,predicate:i}=s8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},q2=t=>{t.pending.forEach(e=>{eu(e,H2)})},_q=(t,e)=>()=>{for(const n of e.keys())q2(n);t.clear()},y3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},l8=Af(Rs(`${Xm}/add`),{withTypes:()=>l8}),Tq=Rs(`${Xm}/removeAll`),c8=Af(Rs(`${Xm}/remove`),{withTypes:()=>c8}),Iq=(...t)=>{console.error(`${Xm}/error`,...t)},n0=(t={})=>{const e=new Map,n=new Map,r=I=>{const D=n.get(I)??0;n.set(I,D+1)},i=I=>{const D=n.get(I)??1;D===1?n.delete(I):n.set(I,D-1)},{extra:a,onError:u=Iq}=t;zw(u);const d=I=>(I.unsubscribe=()=>e.delete(I.id),e.set(I.id,I),D=>{I.unsubscribe(),D?.cancelActive&&q2(I)}),m=I=>{const D=p3(e,I)??o8(I);return d(D)};Af(m,{withTypes:()=>m});const g=I=>{const D=p3(e,I);return D&&(D.unsubscribe(),I.cancelActive&&q2(D)),!!D};Af(g,{withTypes:()=>g});const v=async(I,D,P,M)=>{const L=new AbortController,$=Cq(m,L.signal),z=[];try{I.pending.add(L),r(I),await Promise.resolve(I.effect(D,Af({},P,{getOriginalState:M,condition:(te,X)=>$(te,X).then(Boolean),take:$,delay:a8(L.signal),pause:M1(L.signal),extra:a,signal:L.signal,fork:Sq(L.signal,z),unsubscribe:I.unsubscribe,subscribe:()=>{e.set(I.id,I)},cancelActiveListeners:()=>{I.pending.forEach((te,X,ee)=>{te!==L&&(eu(te,H2),ee.delete(te))})},cancel:()=>{eu(L,H2),I.pending.delete(L)},throwIfCancelled:()=>{tu(L.signal)}})))}catch(te){te instanceof $m||y3(u,te,{raisedBy:"effect"})}finally{await Promise.all(z),eu(L,Eq),i(I),I.pending.delete(L)}},w=_q(e,n);return{middleware:I=>D=>P=>{if(!VM(P))return D(P);if(l8.match(P))return m(P.payload);if(Tq.match(P)){w();return}if(c8.match(P))return g(P.payload);let M=I.getState();const L=()=>{if(M===m3)throw new Error(Ja(23));return M};let $;try{if($=D(P),e.size>0){const z=I.getState(),te=Array.from(e.values());for(const X of te){let ee=!1;try{ee=X.predicate(P,z,M)}catch(B){ee=!1,y3(u,B,{raisedBy:"predicate"})}ee&&v(X,P,I,L)}}}finally{M=m3}return $},startListening:m,stopListening:g,clearListeners:w}};function Ja(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Oq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},u8=ns({name:"chartLayout",initialState:Oq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Rq,setLayout:Nq,setChartSize:Dq,setScale:Mq}=u8.actions,Pq=u8.reducer;function v3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(n),!0).forEach(function(r){kq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kq(t,e,n){return(e=Lq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=jq(t,"string");return typeof e=="symbol"?e:e+""}function jq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P1=Math.PI/180,Bq=t=>t*180/Math.PI,Xr=(t,e,n,r)=>({x:t+Math.cos(-P1*r)*n,y:e+Math.sin(-P1*r)*n}),f8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Fq=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Uq=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,u=Fq({x:n,y:r},{x:i,y:a});if(u<=0)return{radius:u,angle:0};var d=(n-i)/u,m=Math.acos(d);return r>a&&(m=2*Math.PI-m),{radius:u,angle:Bq(m),angleInRadian:m}},Vq=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},zq=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),u=Math.min(i,a);return t+u*360},Hq=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=Uq({x:n,y:r},e),{innerRadius:u,outerRadius:d}=e;if(i<u||i>d||i===0)return null;var{startAngle:m,endAngle:g}=Vq(e),v=a,w;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;w=v>=g&&v<=m}return w?x3(x3({},e),{},{radius:i,angle:zq(v,e)}):null};function h8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qq(t,e,n){return(e=Gq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=Wq(t,"string");return typeof e=="symbol"?e:e+""}function Wq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return mr(t)||mr(e)?n:xo(e)?lu(t,e,n):typeof e=="function"?e(t):n}var Yq=(t,e,n,r,i)=>{var a,u=-1,d=(a=e?.length)!==null&&a!==void 0?a:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<d;m++){var g=m>0?n[m-1].coordinate:n[d-1].coordinate,v=n[m].coordinate,w=m>=d-1?n[0].coordinate:n[m+1].coordinate,S=void 0;if(pi(v-g)!==pi(w-v)){var I=[];if(pi(w-v)===pi(i[1]-i[0])){S=w;var D=v+i[1]-i[0];I[0]=Math.min(D,(D+g)/2),I[1]=Math.max(D,(D+g)/2)}else{S=g;var P=w+i[1]-i[0];I[0]=Math.min(v,(P+v)/2),I[1]=Math.max(v,(P+v)/2)}var M=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(t>M[0]&&t<=M[1]||t>=I[0]&&t<=I[1]){({index:u}=n[m]);break}}else{var L=Math.min(g,w),$=Math.max(g,w);if(t>(L+v)/2&&t<=($+v)/2){({index:u}=n[m]);break}}}else if(e){for(var z=0;z<d;z++)if(z===0&&t<=(e[z].coordinate+e[z+1].coordinate)/2||z>0&&z<d-1&&t>(e[z].coordinate+e[z-1].coordinate)/2&&t<=(e[z].coordinate+e[z+1].coordinate)/2||z===d-1&&t>(e[z].coordinate+e[z-1].coordinate)/2){({index:u}=e[z]);break}}return u},$q=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:u,layout:d}=e;if((d==="vertical"||d==="horizontal"&&u==="middle")&&a!=="center"&&ft(t[a]))return As(As({},t),{},{[a]:t[a]+(r||0)});if((d==="horizontal"||d==="vertical"&&a==="center")&&u!=="middle"&&ft(t[u]))return As(As({},t),{},{[u]:t[u]+(i||0)})}return t},Ec=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",d8=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,a,u=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(a=!0),d.coordinate));return i||u.push(e),a||u.push(n),u},g8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:u,realScaleType:d,isCategorical:m,categoricalDomain:g,tickCount:v,ticks:w,niceTicks:S,axisType:I}=t;if(!u)return null;var D=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,P=i==="category"&&u.bandwidth?u.bandwidth()/D:0;if(P=I==="angleAxis"&&a&&a.length>=2?pi(a[0]-a[1])*2*P:P,w||S){var M=(w||S||[]).map((L,$)=>{var z=r?r.indexOf(L):L;return{coordinate:u(z)+P,value:L,offset:P,index:$}});return M.filter(L=>!Os(L.coordinate))}return m&&g?g.map((L,$)=>({coordinate:u(L)+P,value:L,index:$,offset:P})):u.ticks&&v!=null?u.ticks(v).map((L,$)=>({coordinate:u(L)+P,value:L,offset:P,index:$})):u.domain().map((L,$)=>({coordinate:u(L)+P,value:r?r[L]:L,index:$,offset:P}))},w3=1e-4,Xq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-w3,a=Math.max(r[0],r[1])+w3,u=t(e[0]),d=t(e[n-1]);(u<i||u>a||d<i||d>a)&&t.domain([e[0],e[n-1]])}},Kq=(t,e)=>{if(!e||e.length!==2||!ft(e[0])||!ft(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ft(t[0])||t[0]<n)&&(i[0]=n),(!ft(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Qq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,u=0;u<e;++u){var d=Os(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=i,t[u][n][1]=i+d,i=t[u][n][1]):(t[u][n][0]=a,t[u][n][1]=a+d,a=t[u][n][1])}},Zq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var u=Os(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Jq={sign:Qq,expand:Sz,none:kf,silhouette:Cz,wiggle:_z,positive:Zq},eG=(t,e,n)=>{var r=Jq[n],i=Az().keys(e).value((a,u)=>+Kn(a,u,0)).order(P2).offset(r);return i(t)};function tG(t){return t==null?void 0:String(t)}function E3(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:u}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!mr(i[e.dataKey])){var d=AM(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var m=Kn(i,mr(u)?e.dataKey:u);return mr(m)?null:e.scale(m)}var A3=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:u}=t;if(e.type==="category")return n[u]?n[u].coordinate+r:null;var d=Kn(a,e.dataKey,e.scale.domain()[u]);return mr(d)?null:e.scale(d)-i/2+r},nG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},rG=t=>{var e=t.flat(2).filter(ft);return[Math.min(...e),Math.max(...e)]},iG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],aG=(t,e,n)=>{if(t!=null)return iG(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:u}=a,d=u.reduce((m,g)=>{var v=h8(g,e,n),w=rG(v);return[Math.min(m[0],w[0]),Math.max(m[1],w[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},S3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=qm(e,v=>v.coordinate),a=1/0,u=1,d=i.length;u<d;u++){var m=i[u],g=i[u-1];a=Math.min((m.coordinate||0)-(g.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function _3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return As(As({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Zf(t,e){if(t)return String(t);if(typeof e=="string")return e}function sG(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?Hq({x:t,y:e},r):null}var oG=(t,e,n,r)=>{var i=e.find(g=>g&&g.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:u}=r;return As(As(As({},r),Xr(r.cx,r.cy,u,a)),{},{angle:a,radius:u})}var d=i.coordinate,{angle:m}=r;return As(As(As({},r),Xr(r.cx,r.cy,d,m)),{},{angle:m,radius:d})}return{x:0,y:0}},lG=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,hl=t=>t.layout.width,dl=t=>t.layout.height,cG=t=>t.layout.scale,m8=t=>t.layout.margin,Km=we(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Qm=we(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),p8="data-recharts-item-index",y8="data-recharts-item-data-key",r0=60;function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){uG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uG(t,e,n){return(e=fG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fG(t){var e=hG(t,"string");return typeof e=="symbol"?e:e+""}function hG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dG=t=>t.brush.height;function gG(t){var e=Qm(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:r0;return n+i}return n},0)}function mG(t){var e=Qm(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:r0;return n+i}return n},0)}function pG(t){var e=Km(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function yG(t){var e=Km(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ai=we([hl,dl,m8,dG,gG,mG,pG,yG,jM,LH],(t,e,n,r,i,a,u,d,m,g)=>{var v={left:(n.left||0)+i,right:(n.right||0)+a},w={top:(n.top||0)+u,bottom:(n.bottom||0)+d},S=Pg(Pg({},w),v),I=S.bottom;S.bottom+=r,S=$q(S,m,g);var D=t-S.left-S.right,P=e-S.top-S.bottom;return Pg(Pg({brushBottom:I},S),{},{width:Math.max(D,0),height:Math.max(P,0)})}),vG=we(ai,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Hw=we(hl,dl,(t,e)=>({x:0,y:0,width:t,height:e})),xG=R.createContext(null),oa=()=>R.useContext(xG)!=null,Zm=t=>t.brush,Jm=we([Zm,ai,m8],(t,e,n)=>({height:t.height,x:ft(t.x)?t.x:e.left,y:ft(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:ft(t.width)?t.width:e.width})),Cx={},_x={},Tx={},I3;function bG(){return I3||(I3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let u,d=null;const m=a!=null&&a.includes("leading"),g=a==null||a.includes("trailing"),v=()=>{d!==null&&(n.apply(u,d),u=void 0,d=null)},w=()=>{g&&v(),P()};let S=null;const I=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,w()},r)},D=()=>{S!==null&&(clearTimeout(S),S=null)},P=()=>{D(),u=void 0,d=null},M=()=>{v()},L=function(...$){if(i?.aborted)return;u=this,d=$;const z=S==null;I(),m&&z&&v()};return L.schedule=I,L.cancel=P,L.flush=M,i?.addEventListener("abort",P,{once:!0}),L}t.debounce=e}(Tx)),Tx}var O3;function wG(){return O3||(O3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bG();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:u=!1,trailing:d=!0,maxWait:m}=a,g=Array(2);u&&(g[0]="leading"),d&&(g[1]="trailing");let v,w=null;const S=e.debounce(function(...P){v=r.apply(this,P),w=null},i,{edges:g}),I=function(...P){return m!=null&&(w===null&&(w=Date.now()),Date.now()-w>=m)?(v=r.apply(this,P),w=Date.now(),S.cancel(),S.schedule(),v):(S.apply(this,P),v)},D=()=>(S.flush(),v);return I.cancel=S.cancel,I.flush=D,I}t.debounce=n}(_x)),_x}var R3;function EG(){return R3||(R3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wG();function n(r,i=0,a={}){const{leading:u=!0,trailing:d=!0}=a;return e.debounce(r,i,{leading:u,maxWait:i,trailing:d})}t.throttle=n}(Cx)),Cx}var Ix,N3;function AG(){return N3||(N3=1,Ix=EG().throttle),Ix}var SG=AG();const CG=wo(SG);var k1=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},v8=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:u}=n,d=sl(r)?t:Number(r),m=sl(i)?e:Number(i);return a&&a>0&&(d?m=d/a:m&&(d=m*a),u&&m>u&&(m=u)),{calculatedWidth:d,calculatedHeight:m}},_G={width:0,height:0,overflow:"visible"},TG={width:0,overflowX:"visible"},IG={height:0,overflowY:"visible"},OG={},RG=t=>{var{width:e,height:n}=t,r=sl(e),i=sl(n);return r&&i?_G:r?TG:i?IG:OG};function NG(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Qi(t){return Number.isFinite(t)}function jf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function G2(){return G2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G2.apply(null,arguments)}function D3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(n),!0).forEach(function(r){DG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DG(t,e,n){return(e=MG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MG(t){var e=PG(t,"string");return typeof e=="symbol"?e:e+""}function PG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x8=R.createContext({width:-1,height:-1});function b8(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:R.createElement(x8.Provider,{value:i},e)}var qw=()=>R.useContext(x8),kG=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:u=0,minHeight:d,maxHeight:m,children:g,debounce:v=0,id:w,className:S,onResize:I,style:D={}}=t,P=R.useRef(null),M=R.useRef();M.current=I,R.useImperativeHandle(e,()=>P.current);var[L,$]=R.useState({containerWidth:r.width,containerHeight:r.height}),z=R.useCallback((H,F)=>{$(J=>{var q=Math.round(H),K=Math.round(F);return J.containerWidth===q&&J.containerHeight===K?J:{containerWidth:q,containerHeight:K}})},[]);R.useEffect(()=>{var H=K=>{var U,{width:ae,height:re}=K[0].contentRect;z(ae,re),(U=M.current)===null||U===void 0||U.call(M,ae,re)};v>0&&(H=CG(H,v,{trailing:!0,leading:!1}));var F=new ResizeObserver(H),{width:J,height:q}=P.current.getBoundingClientRect();return z(J,q),F.observe(P.current),()=>{F.disconnect()}},[z,v]);var{containerWidth:te,containerHeight:X}=L;k1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:ee,calculatedHeight:B}=v8(te,X,{width:i,height:a,aspect:n,maxHeight:m});return k1(ee>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,B,i,a,u,d,n),R.createElement("div",{id:w?"".concat(w):void 0,className:xn("recharts-responsive-container",S),style:M3(M3({},D),{},{width:i,height:a,minWidth:u,minHeight:d,maxHeight:m}),ref:P},R.createElement("div",{style:RG({width:i,height:a})},R.createElement(b8,{width:ee,height:B},g)))}),gf=R.forwardRef((t,e)=>{var n=qw();if(jf(n.width)&&jf(n.height))return t.children;var{width:r,height:i}=NG({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:u}=v8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ft(a)&&ft(u)?R.createElement(b8,{width:a,height:u},t.children):R.createElement(kG,G2({},t,{width:r,height:i,ref:e}))}),ep=()=>{var t,e=oa(),n=ct(vG),r=ct(Jm),i=(t=ct(Zm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},LG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w8=()=>{var t;return(t=ct(ai))!==null&&t!==void 0?t:LG},Gw=()=>ct(hl),Ww=()=>ct(dl),jG=()=>ct(t=>t.layout.margin),fn=t=>t.layout.layoutType,tp=()=>ct(fn),np=t=>{var e=pr(),n=oa(),{width:r,height:i}=t,a=qw(),u=r,d=i;return a&&(u=a.width>0?a.width:r,d=a.height>0?a.height:i),R.useEffect(()=>{!n&&jf(u)&&jf(d)&&e(Dq({width:u,height:d}))},[e,n,u,d]),null},BG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},E8=ns({name:"legend",initialState:BG,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:ra()},removeLegendPayload:{reducer(t,e){var n=Jo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:ra()}}}),{setLegendSize:P3,setLegendSettings:FG,addLegendPayload:A8,removeLegendPayload:S8}=E8.actions,UG=E8.reducer,VG=["contextPayload"];function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W2.apply(null,arguments)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){Yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yw(t,e,n){return(e=zG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t){var e=HG(t,"string");return typeof e=="symbol"?e:e+""}function HG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qG(t,e){if(t==null)return{};var n,r,i=GG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WG(t){return t.value}function YG(t){var{contextPayload:e}=t,n=qG(t,VG),r=MM(e,t.payloadUniqBy,WG),i=Bf(Bf({},n),{},{payload:r});return R.isValidElement(t.content)?R.cloneElement(t.content,i):typeof t.content=="function"?R.createElement(t.content,i):R.createElement(Pw,i)}function $G(t,e,n,r,i,a){var{layout:u,align:d,verticalAlign:m}=e,g,v;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(d==="center"&&u==="vertical"?g={left:((r||0)-a.width)/2}:g=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(m==="middle"?v={top:((i||0)-a.height)/2}:v=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bf(Bf({},g),v)}function XG(t){var e=pr();return R.useEffect(()=>{e(FG(t))},[e,t]),null}function KG(t){var e=pr();return R.useEffect(()=>(e(P3(t)),()=>{e(P3({width:0,height:0}))}),[e,t]),null}function QG(t){var e=FH(),n=YV(),r=jG(),{width:i,height:a,wrapperStyle:u,portal:d}=t,[m,g]=BM([e]),v=Gw(),w=Ww();if(v==null||w==null)return null;var S=v-(r.left||0)-(r.right||0),I=Sf.getWidthOrHeight(t.layout,a,i,S),D=d?u:Bf(Bf({position:"absolute",width:I?.width||i||"auto",height:I?.height||a||"auto"},$G(u,t,r,v,w,m)),u),P=d??n;if(P==null)return null;var M=R.createElement("div",{className:"recharts-legend-wrapper",style:D,ref:g},R.createElement(XG,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),R.createElement(KG,{width:m.width,height:m.height}),R.createElement(YG,W2({},t,I,{margin:r,chartWidth:v,chartHeight:w,contextPayload:e})));return K4.createPortal(M,P)}class Sf extends R.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&ft(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return R.createElement(QG,this.props)}}Yw(Sf,"displayName","Legend");Yw(Sf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(null,arguments)}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){ZG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZG(t,e,n){return(e=JG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JG(t){var e=eW(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tW(t){return Array.isArray(t)&&xo(t[0])&&xo(t[1])?t.join(" ~ "):t}var nW=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:u,itemSorter:d,wrapperClassName:m,labelClassName:g,label:v,labelFormatter:w,accessibilityLayer:S=!1}=t,I=()=>{if(a&&a.length){var X={padding:0,margin:0},ee=(d?qm(a,d):a).map((B,H)=>{if(B.type==="none")return null;var F=B.formatter||u||tW,{value:J,name:q}=B,K=J,U=q;if(F){var ae=F(J,q,B,H,a);if(Array.isArray(ae))[K,U]=ae;else if(ae!=null)K=ae;else return null}var re=Ox({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:re},xo(U)?R.createElement("span",{className:"recharts-tooltip-item-name"},U):null,xo(U)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},K),R.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:X},ee)}return null},D=Ox({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),P=Ox({margin:0},i),M=!mr(v),L=M?v:"",$=xn("recharts-default-tooltip",m),z=xn("recharts-tooltip-label",g);M&&w&&a!==void 0&&a!==null&&(L=w(v,a));var te=S?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Y2({className:$,style:D},te),R.createElement("p",{className:z,style:P},R.isValidElement(L)?L:"".concat(L)),I())},Zh="recharts-tooltip-wrapper",rW={visibility:"hidden"};function iW(t){var{coordinate:e,translateX:n,translateY:r}=t;return xn(Zh,{["".concat(Zh,"-right")]:ft(n)&&e&&ft(e.x)&&n>=e.x,["".concat(Zh,"-left")]:ft(n)&&e&&ft(e.x)&&n<e.x,["".concat(Zh,"-bottom")]:ft(r)&&e&&ft(e.y)&&r>=e.y,["".concat(Zh,"-top")]:ft(r)&&e&&ft(e.y)&&r<e.y})}function j3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:u,tooltipDimension:d,viewBox:m,viewBoxDimension:g}=t;if(a&&ft(a[r]))return a[r];var v=n[r]-d-(i>0?i:0),w=n[r]+i;if(e[r])return u[r]?v:w;var S=m[r];if(S==null)return 0;if(u[r]){var I=v,D=S;return I<D?Math.max(w,S):Math.max(v,S)}if(g==null)return 0;var P=w+d,M=S+g;return P>M?Math.max(v,S):Math.max(w,S)}function aW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function sW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:u,useTranslate3d:d,viewBox:m}=t,g,v,w;return u.height>0&&u.width>0&&n?(v=j3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),w=j3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),g=aW({translateX:v,translateY:w,useTranslate3d:d})):g=rW,{cssProperties:g,cssClasses:iW({translateX:v,translateY:w,coordinate:n})}}function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){$2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $2(t,e,n){return(e=oW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cW extends R.PureComponent{constructor(){super(...arguments),$2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:u,hasPayload:d,isAnimationActive:m,offset:g,position:v,reverseDirection:w,useTranslate3d:S,viewBox:I,wrapperStyle:D,lastBoundingBox:P,innerRef:M,hasPortalFromProps:L}=this.props,{cssClasses:$,cssProperties:z}=sW({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:g,position:v,reverseDirection:w,tooltipBox:{height:P.height,width:P.width},useTranslate3d:S,viewBox:I}),te=L?{}:kg(kg({transition:m&&e?"transform ".concat(r,"ms ").concat(i):void 0},z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),X=kg(kg({},te),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},D);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:$,style:X,ref:M},a)}}var uW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ac={devToolsEnabled:!1,isSsr:uW()},C8=()=>ct(t=>t.rootProps.accessibilityLayer);function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(null,arguments)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){fW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fW(t,e,n){return(e=hW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V3={curveBasisClosed:hz,curveBasisOpen:dz,curveBasis:fz,curveBumpX:QV,curveBumpY:ZV,curveLinearClosed:gz,curveLinear:zm,curveMonotoneX:mz,curveMonotoneY:pz,curveNatural:yz,curveStep:vz,curveStepAfter:bz,curveStepBefore:xz},Lg=t=>Qi(t.x)&&Qi(t.y),Jh=t=>t.x,ed=t=>t.y,gW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Jd(t));return(n==="curveMonotone"||n==="curveBump")&&e?V3["".concat(n).concat(e==="vertical"?"Y":"X")]:V3[n]||zm},mW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,u=gW(e,i),d=a?n.filter(Lg):n,m;if(Array.isArray(r)){var g=a?r.filter(w=>Lg(w)):r,v=d.map((w,S)=>U3(U3({},w),{},{base:g[S]}));return i==="vertical"?m=Ig().y(ed).x1(Jh).x0(w=>w.base.x):m=Ig().x(Jh).y1(ed).y0(w=>w.base.y),m.defined(Lg).curve(u),m(v)}return i==="vertical"&&ft(r)?m=Ig().y(ed).x1(Jh).x0(r):ft(r)?m=Ig().x(Jh).y1(ed).y0(r):m=uM().x(Jh).y(ed),m.defined(Lg).curve(u),m(d)},$w=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?mW(t):r;return R.createElement("path",X2({},es(t),Dw(t),{className:xn("recharts-curve",e),d:a===null?void 0:a,ref:i}))},pW=["x","y","top","left","width","height","className"];function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K2.apply(null,arguments)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){vW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vW(t,e,n){return(e=xW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xW(t){var e=bW(t,"string");return typeof e=="symbol"?e:e+""}function bW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wW(t,e){if(t==null)return{};var n,r,i=EW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AW=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),SW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:u=0,className:d}=t,m=wW(t,pW),g=yW({x:e,y:n,top:r,left:i,width:a,height:u},m);return!ft(e)||!ft(n)||!ft(a)||!ft(u)||!ft(r)||!ft(i)?null:R.createElement("path",K2({},sa(g),{className:xn("recharts-cross",d),d:AW(e,n,a,u,r,i)}))};function CW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){TW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=OW(t,"string");return typeof e=="symbol"?e:e+""}function OW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ki(t,e){var n=_W({},t),r=e,i=Object.keys(e),a=i.reduce((u,d)=>(u[d]===void 0&&r[d]!==void 0&&(u[d]=r[d]),u),n);return a}function RW(){}function NW(t){return t!=null}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){DW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DW(t,e,n){return(e=MW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MW(t){var e=PW(t,"string");return typeof e=="symbol"?e:e+""}function PW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),_8=(t,e,n)=>t.map(r=>"".concat(kW(r)," ").concat(e,"ms ").concat(n)).join(","),LW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ld=(t,e)=>Object.keys(e).reduce((n,r)=>G3(G3({},n),{},{[r]:t(r,e[r])}),{});function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){jW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jW(t,e,n){return(e=BW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BW(t){var e=FW(t,"string");return typeof e=="symbol"?e:e+""}function FW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L1=(t,e,n)=>t+(e-t)*n,Q2=t=>{var{from:e,to:n}=t;return e!==n},T8=(t,e,n)=>{var r=Ld((i,a)=>{if(Q2(a)){var[u,d]=t(a.from,a.to,a.velocity);return Ni(Ni({},a),{},{from:u,velocity:d})}return a},e);return n<1?Ld((i,a)=>Q2(a)?Ni(Ni({},a),{},{velocity:L1(a.velocity,r[i].velocity,n),from:L1(a.from,r[i].from,n)}):a,e):T8(t,r,n-1)};function UW(t,e,n,r,i,a){var u,d=r.reduce((S,I)=>Ni(Ni({},S),{},{[I]:{from:t[I],velocity:0,to:e[I]}}),{}),m=()=>Ld((S,I)=>I.from,d),g=()=>!Object.values(d).filter(Q2).length,v=null,w=S=>{u||(u=S);var I=S-u,D=I/n.dt;d=T8(n,d,D),i(Ni(Ni(Ni({},t),e),m())),u=S,g()||(v=a.setTimeout(w))};return()=>(v=a.setTimeout(w),()=>{v()})}function VW(t,e,n,r,i,a,u){var d=null,m=i.reduce((w,S)=>Ni(Ni({},w),{},{[S]:[t[S],e[S]]}),{}),g,v=w=>{g||(g=w);var S=(w-g)/r,I=Ld((P,M)=>L1(...M,n(S)),m);if(a(Ni(Ni(Ni({},t),e),I)),S<1)d=u.setTimeout(v);else{var D=Ld((P,M)=>L1(...M,n(1)),m);a(Ni(Ni(Ni({},t),e),D))}};return()=>(d=u.setTimeout(v),()=>{d()})}const zW=(t,e,n,r,i,a)=>{var u=LW(t,e);return n.isStepper===!0?UW(t,e,n,u,i,a):VW(t,e,n,r,u,i,a)};var j1=1e-4,I8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],O8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Y3=(t,e)=>n=>{var r=I8(t,e);return O8(r,n)},HW=(t,e)=>n=>{var r=I8(t,e),i=[...r.map((a,u)=>a*u).slice(1),0];return O8(i,n)},$3=function(){for(var e,n,r,i,a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];if(u.length===1)switch(u[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var m=u[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([e,r,n,i]=m[1].split(")")[0].split(",").map(D=>parseFloat(D)))}}else u.length===4&&([e,r,n,i]=u);var g=Y3(e,n),v=Y3(r,i),w=HW(e,n),S=D=>D>1?1:D<0?0:D,I=D=>{for(var P=D>1?1:D,M=P,L=0;L<8;++L){var $=g(M)-P,z=w(M);if(Math.abs($-P)<j1||z<j1)return v(M);M=S(M-$/z)}return v(M)};return I.isStepper=!1,I},qW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(u,d,m)=>{var g=-(u-d)*n,v=m*r,w=m+(g-v)*i/1e3,S=m*i/1e3+u;return Math.abs(S-d)<j1&&Math.abs(w)<j1?[d,0]:[S,w]};return a.isStepper=!0,a.dt=i,a},GW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $3(t);case"spring":return qW();default:if(t.split("(")[0]==="cubic-bezier")return $3(t)}return typeof t=="function"?t:null};function WW(t){var e,n=()=>null,r=!1,i=null,a=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var d=u,[m,...g]=d;if(typeof m=="number"){i=t.setTimeout(a.bind(null,g),m);return}a(m),i=t.setTimeout(a.bind(null,g));return}typeof u=="string"&&(e=u,n(e)),typeof u=="object"&&(e=u,n(e)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,i&&(i(),i=null),a(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>t}}class YW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=u=>{u-r>=n?e(u):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function $W(){return WW(new YW)}var XW=R.createContext($W);function KW(t,e){var n=R.useContext(XW);return R.useMemo(()=>e??n(t),[t,e,n])}var QW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},X3={t:0},Rx={t:1};function i0(t){var e=ki(t,QW),{isActive:n,canBegin:r,duration:i,easing:a,begin:u,onAnimationEnd:d,onAnimationStart:m,children:g}=e,v=KW(e.animationId,e.animationManager),[w,S]=R.useState(n?X3:Rx),I=R.useRef(null);return R.useEffect(()=>{n||S(Rx)},[n]),R.useEffect(()=>{if(!n||!r)return RW;var D=zW(X3,Rx,GW(a),i,S,v.getTimeoutController()),P=()=>{I.current=D()};return v.start([m,u,P,i,d]),()=>{v.stop(),I.current&&I.current(),d()}},[n,r,i,a,u,m,d,v]),g(w.t)}function a0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(Dd(e)),r=R.useRef(t);return r.current!==t&&(n.current=Dd(e),r.current=t),n.current}var ZW=["radius"],JW=["radius"];function K3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(n),!0).forEach(function(r){eY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eY(t,e,n){return(e=tY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tY(t){var e=nY(t,"string");return typeof e=="symbol"?e:e+""}function nY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function Z3(t,e){if(t==null)return{};var n,r,i=rY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J3=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,d=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,g;if(a>0&&i instanceof Array){for(var v=[0,0,0,0],w=0,S=4;w<S;w++)v[w]=i[w]>a?a:i[w];g="M".concat(t,",").concat(e+u*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(m,",").concat(t+d*v[0],",").concat(e)),g+="L ".concat(t+n-d*v[1],",").concat(e),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(m,`,
        `).concat(t+n,",").concat(e+u*v[1])),g+="L ".concat(t+n,",").concat(e+r-u*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(m,`,
        `).concat(t+n-d*v[2],",").concat(e+r)),g+="L ".concat(t+d*v[3],",").concat(e+r),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(m,`,
        `).concat(t,",").concat(e+r-u*v[3])),g+="Z"}else if(a>0&&i===+i&&i>0){var I=Math.min(a,i);g="M ".concat(t,",").concat(e+u*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(m,",").concat(t+d*I,",").concat(e,`
            L `).concat(t+n-d*I,",").concat(e,`
            A `).concat(I,",").concat(I,",0,0,").concat(m,",").concat(t+n,",").concat(e+u*I,`
            L `).concat(t+n,",").concat(e+r-u*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(m,",").concat(t+n-d*I,",").concat(e+r,`
            L `).concat(t+d*I,",").concat(e+r,`
            A `).concat(I,",").concat(I,",0,0,").concat(m,",").concat(t,",").concat(e+r-u*I," Z")}else g="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return g},iY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R8=t=>{var e=ki(t,iY),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ce=n.current.getTotalLength();ce&&i(ce)}catch{}},[]);var{x:a,y:u,width:d,height:m,radius:g,className:v}=e,{animationEasing:w,animationDuration:S,animationBegin:I,isAnimationActive:D,isUpdateAnimationActive:P}=e,M=R.useRef(d),L=R.useRef(m),$=R.useRef(a),z=R.useRef(u),te=R.useMemo(()=>({x:a,y:u,width:d,height:m,radius:g}),[a,u,d,m,g]),X=a0(te,"rectangle-");if(a!==+a||u!==+u||d!==+d||m!==+m||d===0||m===0)return null;var ee=xn("recharts-rectangle",v);if(!P){var B=sa(e),{radius:H}=B,F=Z3(B,ZW);return R.createElement("path",B1({},F,{radius:typeof g=="number"?g:void 0,className:ee,d:J3(a,u,d,m,g)}))}var J=M.current,q=L.current,K=$.current,U=z.current,ae="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),le=_8(["strokeDasharray"],S,typeof w=="string"?w:void 0);return R.createElement(i0,{animationId:X,key:X,canBegin:r>0,duration:S,easing:w,isActive:P,begin:I},ce=>{var Te=Or(J,d,ce),Ue=Or(q,m,ce),oe=Or(K,a,ce),be=Or(U,u,ce);n.current&&(M.current=Te,L.current=Ue,$.current=oe,z.current=be);var Ie;D?ce>0?Ie={transition:le,strokeDasharray:re}:Ie={strokeDasharray:ae}:Ie={strokeDasharray:re};var Le=sa(e),{radius:Ye}=Le,at=Z3(Le,JW);return R.createElement("path",B1({},at,{radius:typeof g=="number"?g:void 0,className:ee,d:J3(oe,be,Te,Ue,g),ref:n,style:Q3(Q3({},Ie),e.style)}))})};function N8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,u=Xr(e,n,r,i),d=Xr(e,n,r,a);return{points:[u,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Z2(){return Z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z2.apply(null,arguments)}var aY=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},jg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:u,cornerRadius:d,cornerIsExternal:m}=t,g=d*(u?1:-1)+r,v=Math.asin(d/g)/P1,w=m?i:i+a*v,S=Xr(e,n,g,w),I=Xr(e,n,r,w),D=m?i-a*v:i,P=Xr(e,n,g*Math.cos(v*P1),D);return{center:S,circleTangency:I,lineTangency:P,theta:v}},D8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:u}=t,d=aY(a,u),m=a+d,g=Xr(e,n,i,a),v=Xr(e,n,i,m),w="M ".concat(g.x,",").concat(g.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(a>m),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(r>0){var S=Xr(e,n,r,a),I=Xr(e,n,r,m);w+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(a<=m),`,
            `).concat(S.x,",").concat(S.y," Z")}else w+="L ".concat(e,",").concat(n," Z");return w},sY=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:g}=t,v=pi(g-m),{circleTangency:w,lineTangency:S,theta:I}=jg({cx:e,cy:n,radius:i,angle:m,sign:v,cornerRadius:a,cornerIsExternal:d}),{circleTangency:D,lineTangency:P,theta:M}=jg({cx:e,cy:n,radius:i,angle:g,sign:-v,cornerRadius:a,cornerIsExternal:d}),L=d?Math.abs(m-g):Math.abs(m-g)-I-M;if(L<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):D8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:m,endAngle:g});var $="M ".concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(v<0),",").concat(D.x,",").concat(D.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(P.x,",").concat(P.y,`
  `);if(r>0){var{circleTangency:z,lineTangency:te,theta:X}=jg({cx:e,cy:n,radius:r,angle:m,sign:v,isExternal:!0,cornerRadius:a,cornerIsExternal:d}),{circleTangency:ee,lineTangency:B,theta:H}=jg({cx:e,cy:n,radius:r,angle:g,sign:-v,isExternal:!0,cornerRadius:a,cornerIsExternal:d}),F=d?Math.abs(m-g):Math.abs(m-g)-X-H;if(F<0&&a===0)return"".concat($,"L").concat(e,",").concat(n,"Z");$+="L".concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(ee.x,",").concat(ee.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(v>0),",").concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(v<0),",").concat(te.x,",").concat(te.y,"Z")}else $+="L".concat(e,",").concat(n,"Z");return $},oY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},M8=t=>{var e=ki(t,oY),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:m,startAngle:g,endAngle:v,className:w}=e;if(a<i||g===v)return null;var S=xn("recharts-sector",w),I=a-i,D=Ki(u,I,0,!0),P;return D>0&&Math.abs(g-v)<360?P=sY({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(D,I/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:g,endAngle:v}):P=D8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:g,endAngle:v}),R.createElement("path",Z2({},sa(e),{className:S,d:P}))};function lY(t,e,n){var r,i,a,u;if(t==="horizontal")r=e.x,a=r,i=n.top,u=n.top+n.height;else if(t==="vertical")i=e.y,u=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:d,cy:m,innerRadius:g,outerRadius:v,angle:w}=e,S=Xr(d,m,g,w),I=Xr(d,m,v,w);r=S.x,i=S.y,a=I.x,u=I.y}else return N8(e);return[{x:r,y:i},{x:a,y:u}]}var Nx={},Dx={},Mx={},eO;function cY(){return eO||(eO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(Mx)),Mx}var tO;function uY(){return tO||(tO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cY();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(Dx)),Dx}var nO;function fY(){return nO||(nO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LM(),n=uY();function r(i,a,u){u&&typeof u!="number"&&e.isIterateeCall(i,a,u)&&(a=u=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),u=u===void 0?i<a?1:-1:n.toFinite(u);const d=Math.max(Math.ceil((a-i)/(u||1)),0),m=new Array(d);for(let g=0;g<d;g++)m[g]=i,i+=u;return m}t.range=r}(Nx)),Nx}var Px,rO;function hY(){return rO||(rO=1,Px=fY().range),Px}var dY=hY();const P8=wo(dY);function ac(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xw(t){let e,n,r;t.length!==2?(e=ac,n=(d,m)=>ac(t(d),m),r=(d,m)=>t(d)-m):(e=t===ac||t===gY?t:mY,n=t,r=t);function i(d,m,g=0,v=d.length){if(g<v){if(e(m,m)!==0)return v;do{const w=g+v>>>1;n(d[w],m)<0?g=w+1:v=w}while(g<v)}return g}function a(d,m,g=0,v=d.length){if(g<v){if(e(m,m)!==0)return v;do{const w=g+v>>>1;n(d[w],m)<=0?g=w+1:v=w}while(g<v)}return g}function u(d,m,g=0,v=d.length){const w=i(d,m,g,v-1);return w>g&&r(d[w-1],m)>-r(d[w],m)?w-1:w}return{left:i,center:u,right:a}}function mY(){return 0}function k8(t){return t===null?NaN:+t}function*pY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yY=Xw(ac),s0=yY.right;Xw(k8).center;class iO extends Map{constructor(e,n=bY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(aO(this,e))}has(e){return super.has(aO(this,e))}set(e,n){return super.set(vY(this,e),n)}delete(e){return super.delete(xY(this,e))}}function aO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function vY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function bY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wY(t=ac){if(t===ac)return L8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function L8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const EY=Math.sqrt(50),AY=Math.sqrt(10),SY=Math.sqrt(2);function F1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),u=a>=EY?10:a>=AY?5:a>=SY?2:1;let d,m,g;return i<0?(g=Math.pow(10,-i)/u,d=Math.round(t*g),m=Math.round(e*g),d/g<t&&++d,m/g>e&&--m,g=-g):(g=Math.pow(10,i)*u,d=Math.round(t/g),m=Math.round(e/g),d*g<t&&++d,m*g>e&&--m),m<d&&.5<=n&&n<2?F1(t,e,n*2):[d,m,g]}function J2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,u]=r?F1(e,t,n):F1(t,e,n);if(!(a>=i))return[];const d=a-i+1,m=new Array(d);if(r)if(u<0)for(let g=0;g<d;++g)m[g]=(a-g)/-u;else for(let g=0;g<d;++g)m[g]=(a-g)*u;else if(u<0)for(let g=0;g<d;++g)m[g]=(i+g)/-u;else for(let g=0;g<d;++g)m[g]=(i+g)*u;return m}function eb(t,e,n){return e=+e,t=+t,n=+n,F1(t,e,n)[2]}function tb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?eb(e,t,n):eb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function j8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?L8:wY(i);r>n;){if(r-n>600){const m=r-n+1,g=e-n+1,v=Math.log(m),w=.5*Math.exp(2*v/3),S=.5*Math.sqrt(v*w*(m-w)/m)*(g-m/2<0?-1:1),I=Math.max(n,Math.floor(e-g*w/m+S)),D=Math.min(r,Math.floor(e+(m-g)*w/m+S));j8(t,e,I,D,i)}const a=t[e];let u=n,d=r;for(td(t,n,e),i(t[r],a)>0&&td(t,n,r);u<d;){for(td(t,u,d),++u,--d;i(t[u],a)<0;)++u;for(;i(t[d],a)>0;)--d}i(t[n],a)===0?td(t,n,d):(++d,td(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function td(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function CY(t,e,n){if(t=Float64Array.from(pY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return oO(t);if(e>=1)return sO(t);var r,i=(r-1)*e,a=Math.floor(i),u=sO(j8(t,a).subarray(0,a+1)),d=oO(t.subarray(a+1));return u+(d-u)*(i-a)}}function _Y(t,e,n=k8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),u=+n(t[a],a,t),d=+n(t[a+1],a+1,t);return u+(d-u)*(i-a)}}function TY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ds(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const nb=Symbol("implicit");function Kw(){var t=new iO,e=[],n=[],r=nb;function i(a){let u=t.get(a);if(u===void 0){if(r!==nb)return r;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new iO;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Kw(e,n).unknown(r)},Ds.apply(i,arguments),i}function Qw(){var t=Kw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,u,d=!1,m=0,g=0,v=.5;delete t.unknown;function w(){var S=e().length,I=i<r,D=I?i:r,P=I?r:i;a=(P-D)/Math.max(1,S-m+g*2),d&&(a=Math.floor(a)),D+=(P-D-a*(S-m))*v,u=a*(1-m),d&&(D=Math.round(D),u=Math.round(u));var M=TY(S).map(function(L){return D+a*L});return n(I?M.reverse():M)}return t.domain=function(S){return arguments.length?(e(S),w()):e()},t.range=function(S){return arguments.length?([r,i]=S,r=+r,i=+i,w()):[r,i]},t.rangeRound=function(S){return[r,i]=S,r=+r,i=+i,d=!0,w()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(S){return arguments.length?(d=!!S,w()):d},t.padding=function(S){return arguments.length?(m=Math.min(1,g=+S),w()):m},t.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),w()):m},t.paddingOuter=function(S){return arguments.length?(g=+S,w()):g},t.align=function(S){return arguments.length?(v=Math.max(0,Math.min(1,S)),w()):v},t.copy=function(){return Qw(e(),[r,i]).round(d).paddingInner(m).paddingOuter(g).align(v)},Ds.apply(w(),arguments)}function B8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return B8(e())},t}function IY(){return B8(Qw.apply(null,arguments).paddingInner(1))}function Zw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function F8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o0(){}var jd=.7,U1=1/jd,Cf="\\s*([+-]?\\d+)\\s*",Bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OY=/^#([0-9a-f]{3,8})$/,RY=new RegExp(`^rgb\\(${Cf},${Cf},${Cf}\\)$`),NY=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),DY=new RegExp(`^rgba\\(${Cf},${Cf},${Cf},${Bd}\\)$`),MY=new RegExp(`^rgba\\(${po},${po},${po},${Bd}\\)$`),PY=new RegExp(`^hsl\\(${Bd},${po},${po}\\)$`),kY=new RegExp(`^hsla\\(${Bd},${po},${po},${Bd}\\)$`),lO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zw(o0,Fd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cO,formatHex:cO,formatHex8:LY,formatHsl:jY,formatRgb:uO,toString:uO});function cO(){return this.rgb().formatHex()}function LY(){return this.rgb().formatHex8()}function jY(){return U8(this).formatHsl()}function uO(){return this.rgb().formatRgb()}function Fd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fO(e):n===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RY.exec(t))?new Sa(e[1],e[2],e[3],1):(e=NY.exec(t))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DY.exec(t))?Bg(e[1],e[2],e[3],e[4]):(e=MY.exec(t))?Bg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PY.exec(t))?gO(e[1],e[2]/100,e[3]/100,1):(e=kY.exec(t))?gO(e[1],e[2]/100,e[3]/100,e[4]):lO.hasOwnProperty(t)?fO(lO[t]):t==="transparent"?new Sa(NaN,NaN,NaN,0):null}function fO(t){return new Sa(t>>16&255,t>>8&255,t&255,1)}function Bg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sa(t,e,n,r)}function BY(t){return t instanceof o0||(t=Fd(t)),t?(t=t.rgb(),new Sa(t.r,t.g,t.b,t.opacity)):new Sa}function rb(t,e,n,r){return arguments.length===1?BY(t):new Sa(t,e,n,r??1)}function Sa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Zw(Sa,rb,F8(o0,{brighter(t){return t=t==null?U1:Math.pow(U1,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jd:Math.pow(jd,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sa(nu(this.r),nu(this.g),nu(this.b),V1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hO,formatHex:hO,formatHex8:FY,formatRgb:dO,toString:dO}));function hO(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}`}function FY(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}${Xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function dO(){const t=V1(this.opacity);return`${t===1?"rgb(":"rgba("}${nu(this.r)}, ${nu(this.g)}, ${nu(this.b)}${t===1?")":`, ${t})`}`}function V1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xc(t){return t=nu(t),(t<16?"0":"")+t.toString(16)}function gO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hs(t,e,n,r)}function U8(t){if(t instanceof Hs)return new Hs(t.h,t.s,t.l,t.opacity);if(t instanceof o0||(t=Fd(t)),!t)return new Hs;if(t instanceof Hs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,d=a-i,m=(a+i)/2;return d?(e===a?u=(n-r)/d+(n<r)*6:n===a?u=(r-e)/d+2:u=(e-n)/d+4,d/=m<.5?a+i:2-a-i,u*=60):d=m>0&&m<1?0:u,new Hs(u,d,m,t.opacity)}function UY(t,e,n,r){return arguments.length===1?U8(t):new Hs(t,e,n,r??1)}function Hs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Zw(Hs,UY,F8(o0,{brighter(t){return t=t==null?U1:Math.pow(U1,t),new Hs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jd:Math.pow(jd,t),new Hs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sa(kx(t>=240?t-240:t+120,i,r),kx(t,i,r),kx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Hs(mO(this.h),Fg(this.s),Fg(this.l),V1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=V1(this.opacity);return`${t===1?"hsl(":"hsla("}${mO(this.h)}, ${Fg(this.s)*100}%, ${Fg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mO(t){return t=(t||0)%360,t<0?t+360:t}function Fg(t){return Math.max(0,Math.min(1,t||0))}function kx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Jw=t=>()=>t;function VY(t,e){return function(n){return t+n*e}}function zY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HY(t){return(t=+t)==1?V8:function(e,n){return n-e?zY(e,n,t):Jw(isNaN(e)?n:e)}}function V8(t,e){var n=e-t;return n?VY(t,n):Jw(isNaN(t)?e:t)}const pO=function t(e){var n=HY(e);function r(i,a){var u=n((i=rb(i)).r,(a=rb(a)).r),d=n(i.g,a.g),m=n(i.b,a.b),g=V8(i.opacity,a.opacity);return function(v){return i.r=u(v),i.g=d(v),i.b=m(v),i.opacity=g(v),i+""}}return r.gamma=t,r}(1);function qY(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function GY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WY(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),u;for(u=0;u<r;++u)i[u]=Jf(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(d){for(u=0;u<r;++u)a[u]=i[u](d);return a}}function YY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function z1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $Y(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Jf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ib=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lx=new RegExp(ib.source,"g");function XY(t){return function(){return t}}function KY(t){return function(e){return t(e)+""}}function QY(t,e){var n=ib.lastIndex=Lx.lastIndex=0,r,i,a,u=-1,d=[],m=[];for(t=t+"",e=e+"";(r=ib.exec(t))&&(i=Lx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),d[u]?d[u]+=a:d[++u]=a),(r=r[0])===(i=i[0])?d[u]?d[u]+=i:d[++u]=i:(d[++u]=null,m.push({i:u,x:z1(r,i)})),n=Lx.lastIndex;return n<e.length&&(a=e.slice(n),d[u]?d[u]+=a:d[++u]=a),d.length<2?m[0]?KY(m[0].x):XY(e):(e=m.length,function(g){for(var v=0,w;v<e;++v)d[(w=m[v]).i]=w.x(g);return d.join("")})}function Jf(t,e){var n=typeof e,r;return e==null||n==="boolean"?Jw(e):(n==="number"?z1:n==="string"?(r=Fd(e))?(e=r,pO):QY:e instanceof Fd?pO:e instanceof Date?YY:GY(e)?qY:Array.isArray(e)?WY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$Y:z1)(t,e)}function eE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ZY(t,e){e===void 0&&(e=t,t=Jf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(u){var d=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return a[d](u-d)}}function JY(t){return function(){return t}}function H1(t){return+t}var yO=[0,1];function aa(t){return t}function ab(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JY(isNaN(e)?NaN:.5)}function e$(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function t$(t,e,n){var r=t[0],i=t[1],a=e[0],u=e[1];return i<r?(r=ab(i,r),a=n(u,a)):(r=ab(r,i),a=n(a,u)),function(d){return a(r(d))}}function n$(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=ab(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(d){var m=s0(t,d,1,r)-1;return a[m](i[m](d))}}function l0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rp(){var t=yO,e=yO,n=Jf,r,i,a,u=aa,d,m,g;function v(){var S=Math.min(t.length,e.length);return u!==aa&&(u=e$(t[0],t[S-1])),d=S>2?n$:t$,m=g=null,w}function w(S){return S==null||isNaN(S=+S)?a:(m||(m=d(t.map(r),e,n)))(r(u(S)))}return w.invert=function(S){return u(i((g||(g=d(e,t.map(r),z1)))(S)))},w.domain=function(S){return arguments.length?(t=Array.from(S,H1),v()):t.slice()},w.range=function(S){return arguments.length?(e=Array.from(S),v()):e.slice()},w.rangeRound=function(S){return e=Array.from(S),n=eE,v()},w.clamp=function(S){return arguments.length?(u=S?!0:aa,v()):u!==aa},w.interpolate=function(S){return arguments.length?(n=S,v()):n},w.unknown=function(S){return arguments.length?(a=S,w):a},function(S,I){return r=S,i=I,v()}}function tE(){return rp()(aa,aa)}function r$(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function q1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ff(t){return t=q1(Math.abs(t)),t?t[1]:NaN}function i$(t,e){return function(n,r){for(var i=n.length,a=[],u=0,d=t[0],m=0;i>0&&d>0&&(m+d+1>r&&(d=Math.max(1,r-m)),a.push(n.substring(i-=d,i+d)),!((m+=d+1)>r));)d=t[u=(u+1)%t.length];return a.reverse().join(e)}}function a$(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var s$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ud(t){if(!(e=s$.exec(t)))throw new Error("invalid format: "+t);var e;return new nE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ud.prototype=nE.prototype;function nE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function o$(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var z8;function l$(t,e){var n=q1(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(z8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+q1(t,Math.max(0,e+a-1))[0]}function vO(t,e){var n=q1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:r$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vO(t*100,e),r:vO,s:l$,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bO(t){return t}var wO=Array.prototype.map,EO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c$(t){var e=t.grouping===void 0||t.thousands===void 0?bO:i$(wO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?bO:a$(wO.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",m=t.nan===void 0?"NaN":t.nan+"";function g(w){w=Ud(w);var S=w.fill,I=w.align,D=w.sign,P=w.symbol,M=w.zero,L=w.width,$=w.comma,z=w.precision,te=w.trim,X=w.type;X==="n"?($=!0,X="g"):xO[X]||(z===void 0&&(z=12),te=!0,X="g"),(M||S==="0"&&I==="=")&&(M=!0,S="0",I="=");var ee=P==="$"?n:P==="#"&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",B=P==="$"?r:/[%p]/.test(X)?u:"",H=xO[X],F=/[defgprs%]/.test(X);z=z===void 0?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function J(q){var K=ee,U=B,ae,re,le;if(X==="c")U=H(q)+U,q="";else{q=+q;var ce=q<0||1/q<0;if(q=isNaN(q)?m:H(Math.abs(q),z),te&&(q=o$(q)),ce&&+q==0&&D!=="+"&&(ce=!1),K=(ce?D==="("?D:d:D==="-"||D==="("?"":D)+K,U=(X==="s"?EO[8+z8/3]:"")+U+(ce&&D==="("?")":""),F){for(ae=-1,re=q.length;++ae<re;)if(le=q.charCodeAt(ae),48>le||le>57){U=(le===46?i+q.slice(ae+1):q.slice(ae))+U,q=q.slice(0,ae);break}}}$&&!M&&(q=e(q,1/0));var Te=K.length+q.length+U.length,Ue=Te<L?new Array(L-Te+1).join(S):"";switch($&&M&&(q=e(Ue+q,Ue.length?L-U.length:1/0),Ue=""),I){case"<":q=K+q+U+Ue;break;case"=":q=K+Ue+q+U;break;case"^":q=Ue.slice(0,Te=Ue.length>>1)+K+q+U+Ue.slice(Te);break;default:q=Ue+K+q+U;break}return a(q)}return J.toString=function(){return w+""},J}function v(w,S){var I=g((w=Ud(w),w.type="f",w)),D=Math.max(-8,Math.min(8,Math.floor(Ff(S)/3)))*3,P=Math.pow(10,-D),M=EO[8+D/3];return function(L){return I(P*L)+M}}return{format:g,formatPrefix:v}}var Ug,rE,H8;u$({thousands:",",grouping:[3],currency:["$",""]});function u$(t){return Ug=c$(t),rE=Ug.format,H8=Ug.formatPrefix,Ug}function f$(t){return Math.max(0,-Ff(Math.abs(t)))}function h$(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ff(e)/3)))*3-Ff(Math.abs(t)))}function d$(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ff(e)-Ff(t))+1}function q8(t,e,n,r){var i=tb(t,e,n),a;switch(r=Ud(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=h$(i,u))&&(r.precision=a),H8(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=d$(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=f$(i))&&(r.precision=a-(r.type==="%")*2);break}}return rE(r)}function Sc(t){var e=t.domain;return t.ticks=function(n){var r=e();return J2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return q8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,u=r[i],d=r[a],m,g,v=10;for(d<u&&(g=u,u=d,d=g,g=i,i=a,a=g);v-- >0;){if(g=eb(u,d,n),g===m)return r[i]=u,r[a]=d,e(r);if(g>0)u=Math.floor(u/g)*g,d=Math.ceil(d/g)*g;else if(g<0)u=Math.ceil(u*g)/g,d=Math.floor(d*g)/g;else break;m=g}return t},t}function G8(){var t=tE();return t.copy=function(){return l0(t,G8())},Ds.apply(t,arguments),Sc(t)}function W8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,H1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return W8(t).unknown(e)},t=arguments.length?Array.from(t,H1):[0,1],Sc(n)}function Y8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],u;return a<i&&(u=n,n=r,r=u,u=i,i=a,a=u),t[n]=e.floor(i),t[r]=e.ceil(a),t}function AO(t){return Math.log(t)}function SO(t){return Math.exp(t)}function g$(t){return-Math.log(-t)}function m$(t){return-Math.exp(-t)}function p$(t){return isFinite(t)?+("1e"+t):t<0?0:t}function y$(t){return t===10?p$:t===Math.E?Math.exp:e=>Math.pow(t,e)}function v$(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CO(t){return(e,n)=>-t(-e,n)}function iE(t){const e=t(AO,SO),n=e.domain;let r=10,i,a;function u(){return i=v$(r),a=y$(r),n()[0]<0?(i=CO(i),a=CO(a),t(g$,m$)):t(AO,SO),e}return e.base=function(d){return arguments.length?(r=+d,u()):r},e.domain=function(d){return arguments.length?(n(d),u()):n()},e.ticks=d=>{const m=n();let g=m[0],v=m[m.length-1];const w=v<g;w&&([g,v]=[v,g]);let S=i(g),I=i(v),D,P;const M=d==null?10:+d;let L=[];if(!(r%1)&&I-S<M){if(S=Math.floor(S),I=Math.ceil(I),g>0){for(;S<=I;++S)for(D=1;D<r;++D)if(P=S<0?D/a(-S):D*a(S),!(P<g)){if(P>v)break;L.push(P)}}else for(;S<=I;++S)for(D=r-1;D>=1;--D)if(P=S>0?D/a(-S):D*a(S),!(P<g)){if(P>v)break;L.push(P)}L.length*2<M&&(L=J2(g,v,M))}else L=J2(S,I,Math.min(I-S,M)).map(a);return w?L.reverse():L},e.tickFormat=(d,m)=>{if(d==null&&(d=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Ud(m)).precision==null&&(m.trim=!0),m=rE(m)),d===1/0)return m;const g=Math.max(1,r*d/e.ticks().length);return v=>{let w=v/a(Math.round(i(v)));return w*r<r-.5&&(w*=r),w<=g?m(v):""}},e.nice=()=>n(Y8(n(),{floor:d=>a(Math.floor(i(d))),ceil:d=>a(Math.ceil(i(d)))})),e}function $8(){const t=iE(rp()).domain([1,10]);return t.copy=()=>l0(t,$8()).base(t.base()),Ds.apply(t,arguments),t}function _O(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aE(t){var e=1,n=t(_O(e),TO(e));return n.constant=function(r){return arguments.length?t(_O(e=+r),TO(e)):e},Sc(n)}function X8(){var t=aE(rp());return t.copy=function(){return l0(t,X8()).constant(t.constant())},Ds.apply(t,arguments)}function IO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function x$(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function b$(t){return t<0?-t*t:t*t}function sE(t){var e=t(aa,aa),n=1;function r(){return n===1?t(aa,aa):n===.5?t(x$,b$):t(IO(n),IO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sc(e)}function oE(){var t=sE(rp());return t.copy=function(){return l0(t,oE()).exponent(t.exponent())},Ds.apply(t,arguments),t}function w$(){return oE.apply(null,arguments).exponent(.5)}function OO(t){return Math.sign(t)*t*t}function E$(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function K8(){var t=tE(),e=[0,1],n=!1,r;function i(a){var u=E$(t(a));return isNaN(u)?r:n?Math.round(u):u}return i.invert=function(a){return t.invert(OO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,H1)).map(OO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return K8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ds.apply(i,arguments),Sc(i)}function Q8(){var t=[],e=[],n=[],r;function i(){var u=0,d=Math.max(1,e.length);for(n=new Array(d-1);++u<d;)n[u-1]=_Y(t,u/d);return a}function a(u){return u==null||isNaN(u=+u)?r:e[s0(n,u)]}return a.invertExtent=function(u){var d=e.indexOf(u);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let d of u)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(ac),i()},a.range=function(u){return arguments.length?(e=Array.from(u),i()):e.slice()},a.unknown=function(u){return arguments.length?(r=u,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Q8().domain(t).range(e).unknown(r)},Ds.apply(a,arguments)}function Z8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function u(m){return m!=null&&m<=m?i[s0(r,m,0,n)]:a}function d(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*e-(m-n)*t)/(n+1);return u}return u.domain=function(m){return arguments.length?([t,e]=m,t=+t,e=+e,d()):[t,e]},u.range=function(m){return arguments.length?(n=(i=Array.from(m)).length-1,d()):i.slice()},u.invertExtent=function(m){var g=i.indexOf(m);return g<0?[NaN,NaN]:g<1?[t,r[0]]:g>=n?[r[n-1],e]:[r[g-1],r[g]]},u.unknown=function(m){return arguments.length&&(a=m),u},u.thresholds=function(){return r.slice()},u.copy=function(){return Z8().domain([t,e]).range(i).unknown(a)},Ds.apply(Sc(u),arguments)}function J8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[s0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return J8().domain(t).range(e).unknown(n)},Ds.apply(i,arguments)}const jx=new Date,Bx=new Date;function si(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const u=i(a),d=i.ceil(a);return a-u<d-a?u:d},i.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),i.range=(a,u,d)=>{const m=[];if(a=i.ceil(a),d=d==null?1:Math.floor(d),!(a<u)||!(d>0))return m;let g;do m.push(g=new Date(+a)),e(a,d),t(a);while(g<a&&a<u);return m},i.filter=a=>si(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;e(u,-1),!a(u););else for(;--d>=0;)for(;e(u,1),!a(u););}),n&&(i.count=(a,u)=>(jx.setTime(+a),Bx.setTime(+u),t(jx),t(Bx),Math.floor(n(jx,Bx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?u=>r(u)%a===0:u=>i.count(0,u)%a===0):i)),i}const G1=si(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);G1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?si(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):G1);G1.range;const $o=1e3,Cs=$o*60,Xo=Cs*60,ll=Xo*24,lE=ll*7,RO=ll*30,Fx=ll*365,Kc=si(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCSeconds());Kc.range;const cE=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$o)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getMinutes());cE.range;const uE=si(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getUTCMinutes());uE.range;const fE=si(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$o-t.getMinutes()*Cs)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getHours());fE.range;const hE=si(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getUTCHours());hE.range;const c0=si(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cs)/ll,t=>t.getDate()-1);c0.range;const ip=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ll,t=>t.getUTCDate()-1);ip.range;const e6=si(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ll,t=>Math.floor(t/ll));e6.range;function Eu(t){return si(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Cs)/lE)}const ap=Eu(0),W1=Eu(1),A$=Eu(2),S$=Eu(3),Uf=Eu(4),C$=Eu(5),_$=Eu(6);ap.range;W1.range;A$.range;S$.range;Uf.range;C$.range;_$.range;function Au(t){return si(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lE)}const sp=Au(0),Y1=Au(1),T$=Au(2),I$=Au(3),Vf=Au(4),O$=Au(5),R$=Au(6);sp.range;Y1.range;T$.range;I$.range;Vf.range;O$.range;R$.range;const dE=si(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dE.range;const gE=si(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gE.range;const cl=si(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});cl.range;const ul=si(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ul.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:si(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ul.range;function t6(t,e,n,r,i,a){const u=[[Kc,1,$o],[Kc,5,5*$o],[Kc,15,15*$o],[Kc,30,30*$o],[a,1,Cs],[a,5,5*Cs],[a,15,15*Cs],[a,30,30*Cs],[i,1,Xo],[i,3,3*Xo],[i,6,6*Xo],[i,12,12*Xo],[r,1,ll],[r,2,2*ll],[n,1,lE],[e,1,RO],[e,3,3*RO],[t,1,Fx]];function d(g,v,w){const S=v<g;S&&([g,v]=[v,g]);const I=w&&typeof w.range=="function"?w:m(g,v,w),D=I?I.range(g,+v+1):[];return S?D.reverse():D}function m(g,v,w){const S=Math.abs(v-g)/w,I=Xw(([,,M])=>M).right(u,S);if(I===u.length)return t.every(tb(g/Fx,v/Fx,w));if(I===0)return G1.every(Math.max(tb(g,v,w),1));const[D,P]=u[S/u[I-1][2]<u[I][2]/S?I-1:I];return D.every(P)}return[d,m]}const[N$,D$]=t6(ul,gE,sp,e6,hE,uE),[M$,P$]=t6(cl,dE,ap,c0,fE,cE);function Ux(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function k$(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,u=t.shortDays,d=t.months,m=t.shortMonths,g=rd(i),v=id(i),w=rd(a),S=id(a),I=rd(u),D=id(u),P=rd(d),M=id(d),L=rd(m),$=id(m),z={a:ce,A:Te,b:Ue,B:oe,c:null,d:LO,e:LO,f:iX,g:gX,G:pX,H:tX,I:nX,j:rX,L:n6,m:aX,M:sX,p:be,q:Ie,Q:FO,s:UO,S:oX,u:lX,U:cX,V:uX,w:fX,W:hX,x:null,X:null,y:dX,Y:mX,Z:yX,"%":BO},te={a:Le,A:Ye,b:at,B:Ne,c:null,d:jO,e:jO,f:wX,g:NX,G:MX,H:vX,I:xX,j:bX,L:i6,m:EX,M:AX,p:Bt,q:lt,Q:FO,s:UO,S:SX,u:CX,U:_X,V:TX,w:IX,W:OX,x:null,X:null,y:RX,Y:DX,Z:PX,"%":BO},X={a:J,A:q,b:K,B:U,c:ae,d:PO,e:PO,f:Q$,g:MO,G:DO,H:kO,I:kO,j:Y$,L:K$,m:W$,M:$$,p:F,q:G$,Q:J$,s:eX,S:X$,u:U$,U:V$,V:z$,w:F$,W:H$,x:re,X:le,y:MO,Y:DO,Z:q$,"%":Z$};z.x=ee(n,z),z.X=ee(r,z),z.c=ee(e,z),te.x=ee(n,te),te.X=ee(r,te),te.c=ee(e,te);function ee(Oe,nt){return function(st){var De=[],Je=-1,Qe=0,ht=Oe.length,hn,It,Mt;for(st instanceof Date||(st=new Date(+st));++Je<ht;)Oe.charCodeAt(Je)===37&&(De.push(Oe.slice(Qe,Je)),(It=NO[hn=Oe.charAt(++Je)])!=null?hn=Oe.charAt(++Je):It=hn==="e"?" ":"0",(Mt=nt[hn])&&(hn=Mt(st,It)),De.push(hn),Qe=Je+1);return De.push(Oe.slice(Qe,Je)),De.join("")}}function B(Oe,nt){return function(st){var De=nd(1900,void 0,1),Je=H(De,Oe,st+="",0),Qe,ht;if(Je!=st.length)return null;if("Q"in De)return new Date(De.Q);if("s"in De)return new Date(De.s*1e3+("L"in De?De.L:0));if(nt&&!("Z"in De)&&(De.Z=0),"p"in De&&(De.H=De.H%12+De.p*12),De.m===void 0&&(De.m="q"in De?De.q:0),"V"in De){if(De.V<1||De.V>53)return null;"w"in De||(De.w=1),"Z"in De?(Qe=Vx(nd(De.y,0,1)),ht=Qe.getUTCDay(),Qe=ht>4||ht===0?Y1.ceil(Qe):Y1(Qe),Qe=ip.offset(Qe,(De.V-1)*7),De.y=Qe.getUTCFullYear(),De.m=Qe.getUTCMonth(),De.d=Qe.getUTCDate()+(De.w+6)%7):(Qe=Ux(nd(De.y,0,1)),ht=Qe.getDay(),Qe=ht>4||ht===0?W1.ceil(Qe):W1(Qe),Qe=c0.offset(Qe,(De.V-1)*7),De.y=Qe.getFullYear(),De.m=Qe.getMonth(),De.d=Qe.getDate()+(De.w+6)%7)}else("W"in De||"U"in De)&&("w"in De||(De.w="u"in De?De.u%7:"W"in De?1:0),ht="Z"in De?Vx(nd(De.y,0,1)).getUTCDay():Ux(nd(De.y,0,1)).getDay(),De.m=0,De.d="W"in De?(De.w+6)%7+De.W*7-(ht+5)%7:De.w+De.U*7-(ht+6)%7);return"Z"in De?(De.H+=De.Z/100|0,De.M+=De.Z%100,Vx(De)):Ux(De)}}function H(Oe,nt,st,De){for(var Je=0,Qe=nt.length,ht=st.length,hn,It;Je<Qe;){if(De>=ht)return-1;if(hn=nt.charCodeAt(Je++),hn===37){if(hn=nt.charAt(Je++),It=X[hn in NO?nt.charAt(Je++):hn],!It||(De=It(Oe,st,De))<0)return-1}else if(hn!=st.charCodeAt(De++))return-1}return De}function F(Oe,nt,st){var De=g.exec(nt.slice(st));return De?(Oe.p=v.get(De[0].toLowerCase()),st+De[0].length):-1}function J(Oe,nt,st){var De=I.exec(nt.slice(st));return De?(Oe.w=D.get(De[0].toLowerCase()),st+De[0].length):-1}function q(Oe,nt,st){var De=w.exec(nt.slice(st));return De?(Oe.w=S.get(De[0].toLowerCase()),st+De[0].length):-1}function K(Oe,nt,st){var De=L.exec(nt.slice(st));return De?(Oe.m=$.get(De[0].toLowerCase()),st+De[0].length):-1}function U(Oe,nt,st){var De=P.exec(nt.slice(st));return De?(Oe.m=M.get(De[0].toLowerCase()),st+De[0].length):-1}function ae(Oe,nt,st){return H(Oe,e,nt,st)}function re(Oe,nt,st){return H(Oe,n,nt,st)}function le(Oe,nt,st){return H(Oe,r,nt,st)}function ce(Oe){return u[Oe.getDay()]}function Te(Oe){return a[Oe.getDay()]}function Ue(Oe){return m[Oe.getMonth()]}function oe(Oe){return d[Oe.getMonth()]}function be(Oe){return i[+(Oe.getHours()>=12)]}function Ie(Oe){return 1+~~(Oe.getMonth()/3)}function Le(Oe){return u[Oe.getUTCDay()]}function Ye(Oe){return a[Oe.getUTCDay()]}function at(Oe){return m[Oe.getUTCMonth()]}function Ne(Oe){return d[Oe.getUTCMonth()]}function Bt(Oe){return i[+(Oe.getUTCHours()>=12)]}function lt(Oe){return 1+~~(Oe.getUTCMonth()/3)}return{format:function(Oe){var nt=ee(Oe+="",z);return nt.toString=function(){return Oe},nt},parse:function(Oe){var nt=B(Oe+="",!1);return nt.toString=function(){return Oe},nt},utcFormat:function(Oe){var nt=ee(Oe+="",te);return nt.toString=function(){return Oe},nt},utcParse:function(Oe){var nt=B(Oe+="",!0);return nt.toString=function(){return Oe},nt}}}var NO={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,L$=/^%/,j$=/[\\^$*+?|[\]().{}]/g;function bn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function B$(t){return t.replace(j$,"\\$&")}function rd(t){return new RegExp("^(?:"+t.map(B$).join("|")+")","i")}function id(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function F$(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function U$(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function V$(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function z$(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function H$(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function DO(t,e,n){var r=yi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function MO(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function q$(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function G$(t,e,n){var r=yi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function W$(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function PO(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Y$(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kO(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $$(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function X$(t,e,n){var r=yi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function K$(t,e,n){var r=yi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Q$(t,e,n){var r=yi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Z$(t,e,n){var r=L$.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function J$(t,e,n){var r=yi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eX(t,e,n){var r=yi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function LO(t,e){return bn(t.getDate(),e,2)}function tX(t,e){return bn(t.getHours(),e,2)}function nX(t,e){return bn(t.getHours()%12||12,e,2)}function rX(t,e){return bn(1+c0.count(cl(t),t),e,3)}function n6(t,e){return bn(t.getMilliseconds(),e,3)}function iX(t,e){return n6(t,e)+"000"}function aX(t,e){return bn(t.getMonth()+1,e,2)}function sX(t,e){return bn(t.getMinutes(),e,2)}function oX(t,e){return bn(t.getSeconds(),e,2)}function lX(t){var e=t.getDay();return e===0?7:e}function cX(t,e){return bn(ap.count(cl(t)-1,t),e,2)}function r6(t){var e=t.getDay();return e>=4||e===0?Uf(t):Uf.ceil(t)}function uX(t,e){return t=r6(t),bn(Uf.count(cl(t),t)+(cl(t).getDay()===4),e,2)}function fX(t){return t.getDay()}function hX(t,e){return bn(W1.count(cl(t)-1,t),e,2)}function dX(t,e){return bn(t.getFullYear()%100,e,2)}function gX(t,e){return t=r6(t),bn(t.getFullYear()%100,e,2)}function mX(t,e){return bn(t.getFullYear()%1e4,e,4)}function pX(t,e){var n=t.getDay();return t=n>=4||n===0?Uf(t):Uf.ceil(t),bn(t.getFullYear()%1e4,e,4)}function yX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bn(e/60|0,"0",2)+bn(e%60,"0",2)}function jO(t,e){return bn(t.getUTCDate(),e,2)}function vX(t,e){return bn(t.getUTCHours(),e,2)}function xX(t,e){return bn(t.getUTCHours()%12||12,e,2)}function bX(t,e){return bn(1+ip.count(ul(t),t),e,3)}function i6(t,e){return bn(t.getUTCMilliseconds(),e,3)}function wX(t,e){return i6(t,e)+"000"}function EX(t,e){return bn(t.getUTCMonth()+1,e,2)}function AX(t,e){return bn(t.getUTCMinutes(),e,2)}function SX(t,e){return bn(t.getUTCSeconds(),e,2)}function CX(t){var e=t.getUTCDay();return e===0?7:e}function _X(t,e){return bn(sp.count(ul(t)-1,t),e,2)}function a6(t){var e=t.getUTCDay();return e>=4||e===0?Vf(t):Vf.ceil(t)}function TX(t,e){return t=a6(t),bn(Vf.count(ul(t),t)+(ul(t).getUTCDay()===4),e,2)}function IX(t){return t.getUTCDay()}function OX(t,e){return bn(Y1.count(ul(t)-1,t),e,2)}function RX(t,e){return bn(t.getUTCFullYear()%100,e,2)}function NX(t,e){return t=a6(t),bn(t.getUTCFullYear()%100,e,2)}function DX(t,e){return bn(t.getUTCFullYear()%1e4,e,4)}function MX(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Vf(t):Vf.ceil(t),bn(t.getUTCFullYear()%1e4,e,4)}function PX(){return"+0000"}function BO(){return"%"}function FO(t){return+t}function UO(t){return Math.floor(+t/1e3)}var sf,s6,o6;kX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kX(t){return sf=k$(t),s6=sf.format,sf.parse,o6=sf.utcFormat,sf.utcParse,sf}function LX(t){return new Date(t)}function jX(t){return t instanceof Date?+t:+new Date(+t)}function mE(t,e,n,r,i,a,u,d,m,g){var v=tE(),w=v.invert,S=v.domain,I=g(".%L"),D=g(":%S"),P=g("%I:%M"),M=g("%I %p"),L=g("%a %d"),$=g("%b %d"),z=g("%B"),te=g("%Y");function X(ee){return(m(ee)<ee?I:d(ee)<ee?D:u(ee)<ee?P:a(ee)<ee?M:r(ee)<ee?i(ee)<ee?L:$:n(ee)<ee?z:te)(ee)}return v.invert=function(ee){return new Date(w(ee))},v.domain=function(ee){return arguments.length?S(Array.from(ee,jX)):S().map(LX)},v.ticks=function(ee){var B=S();return t(B[0],B[B.length-1],ee??10)},v.tickFormat=function(ee,B){return B==null?X:g(B)},v.nice=function(ee){var B=S();return(!ee||typeof ee.range!="function")&&(ee=e(B[0],B[B.length-1],ee??10)),ee?S(Y8(B,ee)):v},v.copy=function(){return l0(v,mE(t,e,n,r,i,a,u,d,m,g))},v}function BX(){return Ds.apply(mE(M$,P$,cl,dE,ap,c0,fE,cE,Kc,s6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FX(){return Ds.apply(mE(N$,D$,ul,gE,sp,ip,hE,uE,Kc,o6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function op(){var t=0,e=1,n,r,i,a,u=aa,d=!1,m;function g(w){return w==null||isNaN(w=+w)?m:u(i===0?.5:(w=(a(w)-n)*i,d?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([t,e]=w,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),g):[t,e]},g.clamp=function(w){return arguments.length?(d=!!w,g):d},g.interpolator=function(w){return arguments.length?(u=w,g):u};function v(w){return function(S){var I,D;return arguments.length?([I,D]=S,u=w(I,D),g):[u(0),u(1)]}}return g.range=v(Jf),g.rangeRound=v(eE),g.unknown=function(w){return arguments.length?(m=w,g):m},function(w){return a=w,n=w(t),r=w(e),i=n===r?0:1/(r-n),g}}function Cc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function l6(){var t=Sc(op()(aa));return t.copy=function(){return Cc(t,l6())},gl.apply(t,arguments)}function c6(){var t=iE(op()).domain([1,10]);return t.copy=function(){return Cc(t,c6()).base(t.base())},gl.apply(t,arguments)}function u6(){var t=aE(op());return t.copy=function(){return Cc(t,u6()).constant(t.constant())},gl.apply(t,arguments)}function pE(){var t=sE(op());return t.copy=function(){return Cc(t,pE()).exponent(t.exponent())},gl.apply(t,arguments)}function UX(){return pE.apply(null,arguments).exponent(.5)}function f6(){var t=[],e=aa;function n(r){if(r!=null&&!isNaN(r=+r))return e((s0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ac),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>CY(t,a/r))},n.copy=function(){return f6(e).domain(t)},gl.apply(n,arguments)}function lp(){var t=0,e=.5,n=1,r=1,i,a,u,d,m,g=aa,v,w=!1,S;function I(P){return isNaN(P=+P)?S:(P=.5+((P=+v(P))-a)*(r*P<r*a?d:m),g(w?Math.max(0,Math.min(1,P)):P))}I.domain=function(P){return arguments.length?([t,e,n]=P,i=v(t=+t),a=v(e=+e),u=v(n=+n),d=i===a?0:.5/(a-i),m=a===u?0:.5/(u-a),r=a<i?-1:1,I):[t,e,n]},I.clamp=function(P){return arguments.length?(w=!!P,I):w},I.interpolator=function(P){return arguments.length?(g=P,I):g};function D(P){return function(M){var L,$,z;return arguments.length?([L,$,z]=M,g=ZY(P,[L,$,z]),I):[g(0),g(.5),g(1)]}}return I.range=D(Jf),I.rangeRound=D(eE),I.unknown=function(P){return arguments.length?(S=P,I):S},function(P){return v=P,i=P(t),a=P(e),u=P(n),d=i===a?0:.5/(a-i),m=a===u?0:.5/(u-a),r=a<i?-1:1,I}}function h6(){var t=Sc(lp()(aa));return t.copy=function(){return Cc(t,h6())},gl.apply(t,arguments)}function d6(){var t=iE(lp()).domain([.1,1,10]);return t.copy=function(){return Cc(t,d6()).base(t.base())},gl.apply(t,arguments)}function g6(){var t=aE(lp());return t.copy=function(){return Cc(t,g6()).constant(t.constant())},gl.apply(t,arguments)}function yE(){var t=sE(lp());return t.copy=function(){return Cc(t,yE()).exponent(t.exponent())},gl.apply(t,arguments)}function VX(){return yE.apply(null,arguments).exponent(.5)}const fd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qw,scaleDiverging:h6,scaleDivergingLog:d6,scaleDivergingPow:yE,scaleDivergingSqrt:VX,scaleDivergingSymlog:g6,scaleIdentity:W8,scaleImplicit:nb,scaleLinear:G8,scaleLog:$8,scaleOrdinal:Kw,scalePoint:IY,scalePow:oE,scaleQuantile:Q8,scaleQuantize:Z8,scaleRadial:K8,scaleSequential:l6,scaleSequentialLog:c6,scaleSequentialPow:pE,scaleSequentialQuantile:f6,scaleSequentialSqrt:UX,scaleSequentialSymlog:u6,scaleSqrt:w$,scaleSymlog:X8,scaleThreshold:J8,scaleTime:BX,scaleUtc:FX,tickFormat:q8},Symbol.toStringTag,{value:"Module"}));var _c=t=>t.chartData,vE=we([_c],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),cp=(t,e,n,r)=>r?vE(t):_c(t);function fu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Qi(e)&&Qi(n))return!0}return!1}function VO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function m6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Qi(n))i=n;else if(typeof n=="function")return;if(Qi(r))a=r;else if(typeof r=="function")return;var u=[i,a];if(fu(u))return u}}function zX(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(fu(r))return VO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,u,d;if(i==="auto")e!=null&&(u=Math.min(...e));else if(ft(i))u=i;else if(typeof i=="function")try{e!=null&&(u=i(e?.[0]))}catch{}else if(typeof i=="string"&&S3.test(i)){var m=S3.exec(i);if(m==null||e==null)u=void 0;else{var g=+m[1];u=e[0]-g}}else u=e?.[0];if(a==="auto")e!=null&&(d=Math.max(...e));else if(ft(a))d=a;else if(typeof a=="function")try{e!=null&&(d=a(e?.[1]))}catch{}else if(typeof a=="string"&&C3.test(a)){var v=C3.exec(a);if(v==null||e==null)d=void 0;else{var w=+v[1];d=e[1]+w}}else d=e?.[1];var S=[u,d];if(fu(S))return e==null?S:VO(S,e,n)}}}var eh=1e9,HX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bE,dr=!0,Ns="[DecimalError] ",ru=Ns+"Invalid argument: ",xE=Ns+"Exponent out of range: ",th=Math.floor,Yc=Math.pow,qX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ka,gi=1e7,rr=7,p6=9007199254740991,$1=th(p6/rr),rt={};rt.absoluteValue=rt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};rt.comparedTo=rt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*rr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};rt.dividedBy=rt.div=function(t){return el(this,new this.constructor(t))};rt.dividedToIntegerBy=rt.idiv=function(t){var e=this,n=e.constructor;return qn(el(e,new n(t),0,1),n.precision)};rt.equals=rt.eq=function(t){return!this.cmp(t)};rt.exponent=function(){return Kr(this)};rt.greaterThan=rt.gt=function(t){return this.cmp(t)>0};rt.greaterThanOrEqualTo=rt.gte=function(t){return this.cmp(t)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(t){return this.cmp(t)<0};rt.lessThanOrEqualTo=rt.lte=function(t){return this.cmp(t)<1};rt.logarithm=rt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ka))throw Error(Ns+"NaN");if(n.s<1)throw Error(Ns+(n.s?"NaN":"-Infinity"));return n.eq(Ka)?new r(0):(dr=!1,e=el(Vd(n,a),Vd(t,a),a),dr=!0,qn(e,i))};rt.minus=rt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?x6(e,t):y6(e,(t.s=-t.s,t))};rt.modulo=rt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ns+"NaN");return n.s?(dr=!1,e=el(n,t,0,1).times(t),dr=!0,n.minus(e)):qn(new r(n),i)};rt.naturalExponential=rt.exp=function(){return v6(this)};rt.naturalLogarithm=rt.ln=function(){return Vd(this)};rt.negated=rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};rt.plus=rt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?y6(e,t):x6(e,(t.s=-t.s,t))};rt.precision=rt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ru+t);if(e=Kr(i)+1,r=i.d.length-1,n=r*rr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};rt.squareRoot=rt.sqrt=function(){var t,e,n,r,i,a,u,d=this,m=d.constructor;if(d.s<1){if(!d.s)return new m(0);throw Error(Ns+"NaN")}for(t=Kr(d),dr=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=uo(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=th((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new m(e)):r=new m(i.toString()),n=m.precision,i=u=n+3;;)if(a=r,r=a.plus(el(d,a,u+2)).times(.5),uo(a.d).slice(0,u)===(e=uo(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),i==u&&e=="4999"){if(qn(a,n+1,0),a.times(a).eq(d)){r=a;break}}else if(e!="9999")break;u+=4}return dr=!0,qn(r,n)};rt.times=rt.mul=function(t){var e,n,r,i,a,u,d,m,g,v=this,w=v.constructor,S=v.d,I=(t=new w(t)).d;if(!v.s||!t.s)return new w(0);for(t.s*=v.s,n=v.e+t.e,m=S.length,g=I.length,m<g&&(a=S,S=I,I=a,u=m,m=g,g=u),a=[],u=m+g,r=u;r--;)a.push(0);for(r=g;--r>=0;){for(e=0,i=m+r;i>r;)d=a[i]+I[r]*S[i-r-1]+e,a[i--]=d%gi|0,e=d/gi|0;a[i]=(a[i]+e)%gi|0}for(;!a[--u];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,dr?qn(t,w.precision):t};rt.toDecimalPlaces=rt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bo(t,0,eh),e===void 0?e=r.rounding:bo(e,0,8),qn(n,t+Kr(n)+1,e))};rt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hu(r,!0):(bo(t,0,eh),e===void 0?e=i.rounding:bo(e,0,8),r=qn(new i(r),t+1,e),n=hu(r,!0,t+1)),n};rt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?hu(i):(bo(t,0,eh),e===void 0?e=a.rounding:bo(e,0,8),r=qn(new a(i),t+Kr(i)+1,e),n=hu(r.abs(),!1,t+Kr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};rt.toInteger=rt.toint=function(){var t=this,e=t.constructor;return qn(new e(t),Kr(t)+1,e.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(t){var e,n,r,i,a,u,d=this,m=d.constructor,g=12,v=+(t=new m(t));if(!t.s)return new m(Ka);if(d=new m(d),!d.s){if(t.s<1)throw Error(Ns+"Infinity");return d}if(d.eq(Ka))return d;if(r=m.precision,t.eq(Ka))return qn(d,r);if(e=t.e,n=t.d.length-1,u=e>=n,a=d.s,u){if((n=v<0?-v:v)<=p6){for(i=new m(Ka),e=Math.ceil(r/rr+4),dr=!1;n%2&&(i=i.times(d),HO(i.d,e)),n=th(n/2),n!==0;)d=d.times(d),HO(d.d,e);return dr=!0,t.s<0?new m(Ka).div(i):qn(i,r)}}else if(a<0)throw Error(Ns+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,dr=!1,i=t.times(Vd(d,r+g)),dr=!0,i=v6(i),i.s=a,i};rt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Kr(i),r=hu(i,n<=a.toExpNeg||n>=a.toExpPos)):(bo(t,1,eh),e===void 0?e=a.rounding:bo(e,0,8),i=qn(new a(i),t,e),n=Kr(i),r=hu(i,t<=n||n<=a.toExpNeg,t)),r};rt.toSignificantDigits=rt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bo(t,1,eh),e===void 0?e=r.rounding:bo(e,0,8)),qn(new r(n),t,e)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Kr(t),n=t.constructor;return hu(t,e<=n.toExpNeg||e>=n.toExpPos)};function y6(t,e){var n,r,i,a,u,d,m,g,v=t.constructor,w=v.precision;if(!t.s||!e.s)return e.s||(e=new v(t)),dr?qn(e,w):e;if(m=t.d,g=e.d,u=t.e,i=e.e,m=m.slice(),a=u-i,a){for(a<0?(r=m,a=-a,d=g.length):(r=g,i=u,d=m.length),u=Math.ceil(w/rr),d=u>d?u+1:d+1,a>d&&(a=d,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(d=m.length,a=g.length,d-a<0&&(a=d,r=g,g=m,m=r),n=0;a;)n=(m[--a]=m[a]+g[a]+n)/gi|0,m[a]%=gi;for(n&&(m.unshift(n),++i),d=m.length;m[--d]==0;)m.pop();return e.d=m,e.e=i,dr?qn(e,w):e}function bo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ru+t)}function uo(t){var e,n,r,i=t.length-1,a="",u=t[0];if(i>0){for(a+=u,e=1;e<i;e++)r=t[e]+"",n=rr-r.length,n&&(a+=Kl(n)),a+=r;u=t[e],r=u+"",n=rr-r.length,n&&(a+=Kl(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return a+u}var el=function(){function t(r,i){var a,u=0,d=r.length;for(r=r.slice();d--;)a=r[d]*i+u,r[d]=a%gi|0,u=a/gi|0;return u&&r.unshift(u),r}function e(r,i,a,u){var d,m;if(a!=u)m=a>u?1:-1;else for(d=m=0;d<a;d++)if(r[d]!=i[d]){m=r[d]>i[d]?1:-1;break}return m}function n(r,i,a){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*gi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,u){var d,m,g,v,w,S,I,D,P,M,L,$,z,te,X,ee,B,H,F=r.constructor,J=r.s==i.s?1:-1,q=r.d,K=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(Ns+"Division by zero");for(m=r.e-i.e,B=K.length,X=q.length,I=new F(J),D=I.d=[],g=0;K[g]==(q[g]||0);)++g;if(K[g]>(q[g]||0)&&--m,a==null?$=a=F.precision:u?$=a+(Kr(r)-Kr(i))+1:$=a,$<0)return new F(0);if($=$/rr+2|0,g=0,B==1)for(v=0,K=K[0],$++;(g<X||v)&&$--;g++)z=v*gi+(q[g]||0),D[g]=z/K|0,v=z%K|0;else{for(v=gi/(K[0]+1)|0,v>1&&(K=t(K,v),q=t(q,v),B=K.length,X=q.length),te=B,P=q.slice(0,B),M=P.length;M<B;)P[M++]=0;H=K.slice(),H.unshift(0),ee=K[0],K[1]>=gi/2&&++ee;do v=0,d=e(K,P,B,M),d<0?(L=P[0],B!=M&&(L=L*gi+(P[1]||0)),v=L/ee|0,v>1?(v>=gi&&(v=gi-1),w=t(K,v),S=w.length,M=P.length,d=e(w,P,S,M),d==1&&(v--,n(w,B<S?H:K,S))):(v==0&&(d=v=1),w=K.slice()),S=w.length,S<M&&w.unshift(0),n(P,w,M),d==-1&&(M=P.length,d=e(K,P,B,M),d<1&&(v++,n(P,B<M?H:K,M))),M=P.length):d===0&&(v++,P=[0]),D[g++]=v,d&&P[0]?P[M++]=q[te]||0:(P=[q[te]],M=1);while((te++<X||P[0]!==void 0)&&$--)}return D[0]||D.shift(),I.e=m,qn(I,u?a+Kr(I)+1:a)}}();function v6(t,e){var n,r,i,a,u,d,m=0,g=0,v=t.constructor,w=v.precision;if(Kr(t)>16)throw Error(xE+Kr(t));if(!t.s)return new v(Ka);for(dr=!1,d=w,u=new v(.03125);t.abs().gte(.1);)t=t.times(u),g+=5;for(r=Math.log(Yc(2,g))/Math.LN10*2+5|0,d+=r,n=i=a=new v(Ka),v.precision=d;;){if(i=qn(i.times(t),d),n=n.times(++m),u=a.plus(el(i,n,d)),uo(u.d).slice(0,d)===uo(a.d).slice(0,d)){for(;g--;)a=qn(a.times(a),d);return v.precision=w,e==null?(dr=!0,qn(a,w)):a}a=u}}function Kr(t){for(var e=t.e*rr,n=t.d[0];n>=10;n/=10)e++;return e}function zx(t,e,n){if(e>t.LN10.sd())throw dr=!0,n&&(t.precision=n),Error(Ns+"LN10 precision limit exceeded");return qn(new t(t.LN10),e)}function Kl(t){for(var e="";t--;)e+="0";return e}function Vd(t,e){var n,r,i,a,u,d,m,g,v,w=1,S=10,I=t,D=I.d,P=I.constructor,M=P.precision;if(I.s<1)throw Error(Ns+(I.s?"NaN":"-Infinity"));if(I.eq(Ka))return new P(0);if(e==null?(dr=!1,g=M):g=e,I.eq(10))return e==null&&(dr=!0),zx(P,g);if(g+=S,P.precision=g,n=uo(D),r=n.charAt(0),a=Kr(I),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)I=I.times(t),n=uo(I.d),r=n.charAt(0),w++;a=Kr(I),r>1?(I=new P("0."+n),a++):I=new P(r+"."+n.slice(1))}else return m=zx(P,g+2,M).times(a+""),I=Vd(new P(r+"."+n.slice(1)),g-S).plus(m),P.precision=M,e==null?(dr=!0,qn(I,M)):I;for(d=u=I=el(I.minus(Ka),I.plus(Ka),g),v=qn(I.times(I),g),i=3;;){if(u=qn(u.times(v),g),m=d.plus(el(u,new P(i),g)),uo(m.d).slice(0,g)===uo(d.d).slice(0,g))return d=d.times(2),a!==0&&(d=d.plus(zx(P,g+2,M).times(a+""))),d=el(d,new P(w),g),P.precision=M,e==null?(dr=!0,qn(d,M)):d;d=m,i+=2}}function zO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=th(n/rr),t.d=[],r=(n+1)%rr,n<0&&(r+=rr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=rr;r<i;)t.d.push(+e.slice(r,r+=rr));e=e.slice(r),r=rr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dr&&(t.e>$1||t.e<-$1))throw Error(xE+n)}else t.s=0,t.e=0,t.d=[0];return t}function qn(t,e,n){var r,i,a,u,d,m,g,v,w=t.d;for(u=1,a=w[0];a>=10;a/=10)u++;if(r=e-u,r<0)r+=rr,i=e,g=w[v=0];else{if(v=Math.ceil((r+1)/rr),a=w.length,v>=a)return t;for(g=a=w[v],u=1;a>=10;a/=10)u++;r%=rr,i=r-rr+u}if(n!==void 0&&(a=Yc(10,u-i-1),d=g/a%10|0,m=e<0||w[v+1]!==void 0||g%a,m=n<4?(d||m)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||m||n==6&&(r>0?i>0?g/Yc(10,u-i):0:w[v-1])%10&1||n==(t.s<0?8:7))),e<1||!w[0])return m?(a=Kr(t),w.length=1,e=e-a-1,w[0]=Yc(10,(rr-e%rr)%rr),t.e=th(-e/rr)||0):(w.length=1,w[0]=t.e=t.s=0),t;if(r==0?(w.length=v,a=1,v--):(w.length=v+1,a=Yc(10,rr-r),w[v]=i>0?(g/Yc(10,u-i)%Yc(10,i)|0)*a:0),m)for(;;)if(v==0){(w[0]+=a)==gi&&(w[0]=1,++t.e);break}else{if(w[v]+=a,w[v]!=gi)break;w[v--]=0,a=1}for(r=w.length;w[--r]===0;)w.pop();if(dr&&(t.e>$1||t.e<-$1))throw Error(xE+Kr(t));return t}function x6(t,e){var n,r,i,a,u,d,m,g,v,w,S=t.constructor,I=S.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new S(t),dr?qn(e,I):e;if(m=t.d,w=e.d,r=e.e,g=t.e,m=m.slice(),u=g-r,u){for(v=u<0,v?(n=m,u=-u,d=w.length):(n=w,r=g,d=m.length),i=Math.max(Math.ceil(I/rr),d)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=m.length,d=w.length,v=i<d,v&&(d=i),i=0;i<d;i++)if(m[i]!=w[i]){v=m[i]<w[i];break}u=0}for(v&&(n=m,m=w,w=n,e.s=-e.s),d=m.length,i=w.length-d;i>0;--i)m[d++]=0;for(i=w.length;i>u;){if(m[--i]<w[i]){for(a=i;a&&m[--a]===0;)m[a]=gi-1;--m[a],m[i]+=gi}m[i]-=w[i]}for(;m[--d]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(e.d=m,e.e=r,dr?qn(e,I):e):new S(0)}function hu(t,e,n){var r,i=Kr(t),a=uo(t.d),u=a.length;return e?(n&&(r=n-u)>0?a=a.charAt(0)+"."+a.slice(1)+Kl(r):u>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Kl(-i-1)+a,n&&(r=n-u)>0&&(a+=Kl(r))):i>=u?(a+=Kl(i+1-u),n&&(r=n-i-1)>0&&(a=a+"."+Kl(r))):((r=i+1)<u&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(a+="."),a+=Kl(r))),t.s<0?"-"+a:a}function HO(t,e){if(t.length>e)return t.length=e,!0}function b6(t){var e,n,r;function i(a){var u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a instanceof i){u.s=a.s,u.e=a.e,u.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ru+a);if(a>0)u.s=1;else if(a<0)a=-a,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(a===~~a&&a<1e7){u.e=0,u.d=[a];return}return zO(u,a.toString())}else if(typeof a!="string")throw Error(ru+a);if(a.charCodeAt(0)===45?(a=a.slice(1),u.s=-1):u.s=1,qX.test(a))zO(u,a);else throw Error(ru+a)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=b6,i.config=i.set=GX,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function GX(t){if(!t||typeof t!="object")throw Error(Ns+"Object expected");var e,n,r,i=["precision",1,eh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(th(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ru+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ru+n+": "+r);return this}var bE=b6(HX);Ka=new bE(1);const Nn=bE;var WX=t=>t,w6={},E6=t=>t===w6,qO=t=>function e(){return arguments.length===0||arguments.length===1&&E6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},A6=(t,e)=>t===1?e:qO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(u=>u!==w6).length;return a>=t?e(...r):A6(t-a,qO(function(){for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];var g=r.map(v=>E6(v)?d.shift():v);return e(...g,...d)}))}),up=t=>A6(t.length,t),sb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},YX=up((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),$X=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return WX;var i=n.reverse(),a=i[0],u=i.slice(1);return function(){return u.reduce((d,m)=>m(d),a(...arguments))}},ob=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),S6=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((u,d)=>{var m;return u===((m=e)===null||m===void 0?void 0:m[d])})||(e=i,n=t(...i)),n}};function C6(t){var e;return t===0?e=1:e=Math.floor(new Nn(t).abs().log(10).toNumber())+1,e}function _6(t,e,n){for(var r=new Nn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}up((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});up((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});up((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var T6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},I6=(t,e,n)=>{if(t.lte(0))return new Nn(0);var r=C6(t.toNumber()),i=new Nn(10).pow(r),a=t.div(i),u=r!==1?.05:.1,d=new Nn(Math.ceil(a.div(u).toNumber())).add(n).mul(u),m=d.mul(i);return e?new Nn(m.toNumber()):new Nn(Math.ceil(m.toNumber()))},XX=(t,e,n)=>{var r=new Nn(1),i=new Nn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Nn(10).pow(C6(t)-1),i=new Nn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Nn(Math.floor(t)))}else t===0?i=new Nn(Math.floor((e-1)/2)):n||(i=new Nn(Math.floor(t)));var u=Math.floor((e-1)/2),d=$X(YX(m=>i.add(new Nn(m-u).mul(r)).toNumber()),sb);return d(0,e)},O6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var u=I6(new Nn(n).sub(e).div(r-1),i,a),d;e<=0&&n>=0?d=new Nn(0):(d=new Nn(e).add(n).div(2),d=d.sub(new Nn(d).mod(u)));var m=Math.ceil(d.sub(e).div(u).toNumber()),g=Math.ceil(new Nn(n).sub(d).div(u).toNumber()),v=m+g+1;return v>r?O6(e,n,r,i,a+1):(v<r&&(g=n>0?g+(r-v):g,m=n>0?m:m+(r-v)),{step:u,tickMin:d.sub(new Nn(m).mul(u)),tickMax:d.add(new Nn(g).mul(u))})};function KX(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[u,d]=T6([e,n]);if(u===-1/0||d===1/0){var m=d===1/0?[u,...sb(0,r-1).map(()=>1/0)]:[...sb(0,r-1).map(()=>-1/0),d];return e>n?ob(m):m}if(u===d)return XX(u,r,i);var{step:g,tickMin:v,tickMax:w}=O6(u,d,a,i,0),S=_6(v,w.add(new Nn(.1).mul(g)),g);return e>n?ob(S):S}function QX(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,u]=T6([n,r]);if(a===-1/0||u===1/0)return[n,r];if(a===u)return[a];var d=Math.max(e,2),m=I6(new Nn(u).sub(a).div(d-1),i,0),g=[..._6(new Nn(a),new Nn(u),m),u];return i===!1&&(g=g.map(v=>Math.round(v))),n>r?ob(g):g}var ZX=S6(KX),JX=S6(QX),R6=t=>t.rootProps.maxBarSize,eK=t=>t.rootProps.barGap,N6=t=>t.rootProps.barCategoryGap,tK=t=>t.rootProps.barSize,u0=t=>t.rootProps.stackOffset,wE=t=>t.options.chartName,EE=t=>t.rootProps.syncId,D6=t=>t.rootProps.syncMethod,AE=t=>t.options.eventEmitter,Wo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$a={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Wo.angleAxisId,includeHidden:!1,name:void 0,reversed:Wo.reversed,scale:Wo.scale,tick:Wo.tick,tickCount:void 0,ticks:void 0,type:Wo.type,unit:void 0},rK={allowDataOverflow:$a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:$a.type,unit:void 0},iK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Wo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wo.scale,tick:Wo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aK={allowDataOverflow:$a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:"category",unit:void 0},SE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iK:nK,CE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?aK:rK,hp=t=>t.polarOptions,_E=we([hl,dl,ai],f8),M6=we([hp,_E],(t,e)=>{if(t!=null)return Ki(t.innerRadius,e,0)}),P6=we([hp,_E],(t,e)=>{if(t!=null)return Ki(t.outerRadius,e,e*.8)}),sK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},k6=we([hp],sK);we([SE,k6],fp);var L6=we([_E,M6,P6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});we([CE,L6],fp);var j6=we([fn,hp,M6,P6,hl,dl],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:u,cy:d,startAngle:m,endAngle:g}=e;return{cx:Ki(u,i,i/2),cy:Ki(d,a,a/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:g,clockWise:!1}}}),yr=(t,e)=>e,f0=(t,e,n)=>n;function TE(t){return t?.id}var oi=t=>{var e=fn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},nh=t=>t.tooltip.settings.axisId,li=t=>{var e=oi(t),n=nh(t);return h0(t,e,n)},B6=we([li],t=>t?.dataKey);function F6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,u=new Map;return t.forEach(d=>{var m,g=(m=d.data)!==null&&m!==void 0?m:r;if(!(g==null||g.length===0)){var v=TE(d);g.forEach((w,S)=>{var I=a==null||i?S:String(Kn(w,a,null)),D=Kn(w,d.dataKey,0),P;u.has(I)?P=u.get(I):P={},Object.assign(P,{[v]:D}),u.set(I,P)})}}),Array.from(u.values())}function dp(t){return t.stackId!=null&&t.dataKey!=null}var gp=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function mp(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){oK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oK(t,e,n){return(e=lK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lK(t){var e=cK(t,"string");return typeof e=="symbol"?e:e+""}function cK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lb=[0,"auto"],qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},U6=(t,e)=>t.cartesianAxis.xAxis[e],ml=(t,e)=>{var n=U6(t,e);return n??qa},Ga={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:r0},V6=(t,e)=>t.cartesianAxis.yAxis[e],pl=(t,e)=>{var n=V6(t,e);return n??Ga},uK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},IE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??uK},wr=(t,e,n)=>{switch(e){case"xAxis":return ml(t,n);case"yAxis":return pl(t,n);case"zAxis":return IE(t,n);case"angleAxis":return SE(t,n);case"radiusAxis":return CE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fK=(t,e,n)=>{switch(e){case"xAxis":return ml(t,n);case"yAxis":return pl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},h0=(t,e,n)=>{switch(e){case"xAxis":return ml(t,n);case"yAxis":return pl(t,n);case"angleAxis":return SE(t,n);case"radiusAxis":return CE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},z6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function OE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var pp=t=>t.graphicalItems.cartesianItems,hK=we([yr,f0],OE),RE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),d0=we([pp,wr,hK],RE,{memoizeOptions:{resultEqualityCheck:mp}}),H6=we([d0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(dp)),q6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),dK=we([d0],q6),NE=t=>t.map(e=>e.data).filter(Boolean).flat(1),gK=we([d0],NE,{memoizeOptions:{resultEqualityCheck:mp}}),DE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},ME=we([gK,cp],DE),PE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Kn(i,r)}))):t.map(r=>({value:r})),yp=we([ME,wr,d0],PE);function G6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Jg(t){if(xo(t)||t instanceof Date){var e=Number(t);if(Qi(e))return e}}function WO(t){if(Array.isArray(t)){var e=[Jg(t[0]),Jg(t[1])];return fu(e)?e:void 0}var n=Jg(t);if(n!=null)return[n,n]}function rh(t){return t.map(Jg).filter(NW)}function mK(t,e,n){return!n||typeof e!="number"||Os(e)?[]:n.length?rh(n.flatMap(r=>{var i=Kn(t,r.dataKey),a,u;if(Array.isArray(i)?[a,u]=i:a=u=i,!(!Qi(a)||!Qi(u)))return[e-a,e+u]})):[]}var pK=we([H6,cp,li],F6),W6=(t,e,n)=>{var r={},i=e.reduce((a,u)=>(u.stackId==null||(a[u.stackId]==null&&(a[u.stackId]=[]),a[u.stackId].push(u)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[u,d]=a,m=d.map(TE);return[u,{stackedData:eG(t,m,n),graphicalItems:d}]}))},cb=we([pK,H6,u0],W6),Y6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var u=aG(t,i,a);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},yK=we([wr],t=>t.allowDataOverflow),kE=t=>{var e;if(t==null||!("domain"in t))return lb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=rh(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:lb},LE=we([wr],kE),jE=we([LE,yK],m6),vK=we([cb,_c,yr,jE],Y6,{memoizeOptions:{resultEqualityCheck:gp}}),vp=t=>t.errorBars,xK=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>G6(n,r)),K1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),u=Math.min(...a),d=Math.max(...a);return[u,d]}},BE=(t,e,n,r,i)=>{var a,u;if(n.length>0&&t.forEach(d=>{n.forEach(m=>{var g,v,w=(g=r[m.id])===null||g===void 0?void 0:g.filter(L=>G6(i,L)),S=Kn(d,(v=e.dataKey)!==null&&v!==void 0?v:m.dataKey),I=mK(d,S,w);if(I.length>=2){var D=Math.min(...I),P=Math.max(...I);(a==null||D<a)&&(a=D),(u==null||P>u)&&(u=P)}var M=WO(S);M!=null&&(a=a==null?M[0]:Math.min(a,M[0]),u=u==null?M[1]:Math.max(u,M[1]))})}),e?.dataKey!=null&&t.forEach(d=>{var m=WO(Kn(d,e.dataKey));m!=null&&(a=a==null?m[0]:Math.min(a,m[0]),u=u==null?m[1]:Math.max(u,m[1]))}),Qi(a)&&Qi(u))return[a,u]},bK=we([ME,wr,dK,vp,yr],BE,{memoizeOptions:{resultEqualityCheck:gp}});function wK(t){var{value:e}=t;if(xo(e)||e instanceof Date)return e}var EK=(t,e,n)=>{var r=t.map(wK).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&EM(r))?P8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},$6=t=>t.referenceElements.dots,ih=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),AK=we([$6,yr,f0],ih),X6=t=>t.referenceElements.areas,SK=we([X6,yr,f0],ih),K6=t=>t.referenceElements.lines,CK=we([K6,yr,f0],ih),Q6=(t,e)=>{var n=rh(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_K=we(AK,yr,Q6),Z6=(t,e)=>{var n=rh(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TK=we([SK,yr],Z6),J6=(t,e)=>{var n=rh(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},IK=we(CK,yr,J6),OK=we(_K,IK,TK,(t,e,n)=>K1(t,n,e)),FE=(t,e,n,r,i,a,u,d)=>{if(n!=null)return n;var m=u==="vertical"&&d==="xAxis"||u==="horizontal"&&d==="yAxis",g=m?K1(r,a,i):K1(a,i);return zX(e,g,t.allowDataOverflow)},RK=we([wr,LE,jE,vK,bK,OK,fn,yr],FE,{memoizeOptions:{resultEqualityCheck:gp}}),NK=[0,1],UE=(t,e,n,r,i,a,u)=>{if(!((t==null||n==null||n.length===0)&&u===void 0)){var{dataKey:d,type:m}=t,g=Ec(e,a);return g&&d==null?P8(0,n.length):m==="category"?EK(r,t,g):i==="expand"?NK:u}},VE=we([wr,fn,ME,yp,u0,yr,RK],UE),eP=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:u}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof a=="string"){var d="scale".concat(Jd(a));return d in fd?d:"point"}}},ah=we([wr,fn,z6,wE,yr],eP);function DK(t){if(t!=null){if(t in fd)return fd[t]();var e="scale".concat(Jd(t));if(e in fd)return fd[e]()}}function zE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=DK(e);if(i!=null){var a=i.domain(n).range(r);return Xq(a),a}}}var HE=(t,e,n)=>{var r=kE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fu(t))return ZX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&fu(t))return JX(t,e.tickCount,e.allowDecimals)}},qE=we([VE,h0,ah],HE),GE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&fu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],u=e[1],d=n[n.length-1];return[Math.min(i,a),Math.max(u,d)]}return e},MK=we([wr,VE,qE,yr],GE),PK=we(yp,wr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(rh(t.map(d=>d.value))).sort((d,m)=>d-m);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var u=r[a+1]-r[a];n=Math.min(n,u)}return n/i}}),tP=we(PK,fn,N6,ai,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Qi(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var u=Ki(n,t*a),d=t*a/2;return d-u-(d-u)/a*u}return 0}),kK=(t,e)=>{var n=ml(t,e);return n==null||typeof n.padding!="string"?0:tP(t,"xAxis",e,n.padding)},LK=(t,e)=>{var n=pl(t,e);return n==null||typeof n.padding!="string"?0:tP(t,"yAxis",e,n.padding)},jK=we(ml,kK,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),BK=we(pl,LK,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),FK=we([ai,jK,Jm,Zm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),UK=we([ai,fn,BK,Jm,Zm,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:u}=i;return a?[r.height-u.bottom,u.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),g0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return FK(t,n,r);case"yAxis":return UK(t,n,r);case"zAxis":return(i=IE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return k6(t);case"radiusAxis":return L6(t,n);default:return}},nP=we([wr,g0],fp),sh=we([wr,ah,MK,nP],zE);we([d0,vp,yr],xK);function rP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var xp=(t,e)=>e,bp=(t,e,n)=>n,VK=we(Km,xp,bp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(rP)),zK=we(Qm,xp,bp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(rP)),iP=(t,e)=>({width:t.width,height:e.height}),HK=(t,e)=>{var n=typeof e.width=="number"?e.width:r0;return{width:n,height:t.height}},aP=we(ai,ml,iP),qK=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},GK=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},WK=we(dl,ai,VK,xp,bp,(t,e,n,r,i)=>{var a={},u;return n.forEach(d=>{var m=iP(e,d);u==null&&(u=qK(e,r,t));var g=r==="top"&&!i||r==="bottom"&&i;a[d.id]=u-Number(g)*m.height,u+=(g?-1:1)*m.height}),a}),YK=we(hl,ai,zK,xp,bp,(t,e,n,r,i)=>{var a={},u;return n.forEach(d=>{var m=HK(e,d);u==null&&(u=GK(e,r,t));var g=r==="left"&&!i||r==="right"&&i;a[d.id]=u-Number(g)*m.width,u+=(g?-1:1)*m.width}),a}),$K=(t,e)=>{var n=ml(t,e);if(n!=null)return WK(t,n.orientation,n.mirror)},XK=we([ai,ml,$K,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),KK=(t,e)=>{var n=pl(t,e);if(n!=null)return YK(t,n.orientation,n.mirror)},QK=we([ai,pl,KK,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),sP=we(ai,pl,(t,e)=>{var n=typeof e.width=="number"?e.width:r0;return{width:n,height:t.height}}),YO=(t,e,n)=>{switch(e){case"xAxis":return aP(t,n).width;case"yAxis":return sP(t,n).height;default:return}},oP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:u}=n,d=Ec(t,r),m=e.map(g=>g.value);if(u&&d&&a==="category"&&i&&EM(m))return m}},WE=we([fn,yp,wr,yr],oP),lP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,u=Ec(t,r);if(u&&(i==="number"||a!=="auto"))return e.map(d=>d.value)}},YE=we([fn,yp,h0,yr],lP),$O=we([fn,fK,ah,sh,WE,YE,g0,qE,yr],(t,e,n,r,i,a,u,d,m)=>{if(e==null)return null;var g=Ec(t,m);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:m,categoricalDomain:a,duplicateDomain:i,isCategorical:g,niceTicks:d,range:u,realScaleType:n,scale:r}}),ZK=(t,e,n,r,i,a,u,d,m)=>{if(!(e==null||r==null)){var g=Ec(t,m),{type:v,ticks:w,tickCount:S}=e,I=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,D=v==="category"&&r.bandwidth?r.bandwidth()/I:0;D=m==="angleAxis"&&a!=null&&a.length>=2?pi(a[0]-a[1])*2*D:D;var P=w||i;if(P){var M=P.map((L,$)=>{var z=u?u.indexOf(L):L;return{index:$,coordinate:r(z)+D,value:L,offset:D}});return M.filter(L=>!Os(L.coordinate))}return g&&d?d.map((L,$)=>({coordinate:r(L)+D,value:L,index:$,offset:D})):r.ticks?r.ticks(S).map(L=>({coordinate:r(L)+D,value:L,offset:D})):r.domain().map((L,$)=>({coordinate:r(L)+D,value:u?u[L]:L,index:$,offset:D}))}},cP=we([fn,h0,ah,sh,qE,g0,WE,YE,yr],ZK),JK=(t,e,n,r,i,a,u)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=Ec(t,u),{tickCount:m}=e,g=0;return g=u==="angleAxis"&&r?.length>=2?pi(r[0]-r[1])*2*g:g,d&&a?a.map((v,w)=>({coordinate:n(v)+g,value:v,index:w,offset:g})):n.ticks?n.ticks(m).map(v=>({coordinate:n(v)+g,value:v,offset:g})):n.domain().map((v,w)=>({coordinate:n(v)+g,value:i?i[v]:v,index:w,offset:g}))}},dc=we([fn,h0,sh,g0,WE,YE,yr],JK),gc=we(wr,sh,(t,e)=>{if(!(t==null||e==null))return X1(X1({},t),{},{scale:e})}),eQ=we([wr,ah,VE,nP],zE);we((t,e,n)=>IE(t,n),eQ,(t,e)=>{if(!(t==null||e==null))return X1(X1({},t),{},{scale:e})});var tQ=we([fn,Km,Qm],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uP=t=>t.options.defaultTooltipEventType,fP=t=>t.options.validateTooltipEventTypes;function hP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function $E(t,e){var n=uP(t),r=fP(t);return hP(e,n,r)}function nQ(t){return ct(e=>$E(e,t))}var dP=(t,e)=>{var n,r=Number(e);if(!(Os(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},rQ=t=>t.tooltip.settings,Zl={active:!1,index:null,dataKey:void 0,coordinate:void 0},iQ={itemInteraction:{click:Zl,hover:Zl},axisInteraction:{click:Zl,hover:Zl},keyboardInteraction:Zl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gP=ns({name:"tooltip",initialState:iQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:ra()},removeTooltipEntrySettings:{reducer(t,e){var n=Jo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:ra()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:aQ,removeTooltipEntrySettings:sQ,setTooltipSettingsState:oQ,setActiveMouseOverItemIndex:mP,mouseLeaveItem:lQ,mouseLeaveChart:pP,setActiveClickItemIndex:cQ,setMouseOverAxisIndex:yP,setMouseClickAxisIndex:uQ,setSyncInteraction:ub,setKeyboardInteraction:fb}=gP.actions,fQ=gP.reducer;function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return(e=dQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t){var e=gQ(t,"string");return typeof e=="symbol"?e:e+""}function gQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function pQ(t){return t.index!=null}var vP=(t,e,n,r)=>{if(e==null)return Zl;var i=mQ(t,e,n);if(i==null)return Zl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(pQ(i)){if(a)return Vg(Vg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Vg(Vg({},Zl),{},{coordinate:i.coordinate})},XE=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Qi(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},xP=(t,e,n,r,i,a,u,d)=>{if(!(a==null||d==null)){var m=u[0],g=m==null?void 0:d(m.positions,a);if(g!=null)return g;var v=i?.[Number(a)];if(v)switch(n){case"horizontal":return{x:v.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:v.coordinate}}}},bP=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var u;return((u=a.settings)===null||u===void 0?void 0:u.dataKey)===i})},m0=t=>t.options.tooltipPayloadSearcher,oh=t=>t.tooltip;function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){yQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yQ(t,e,n){return(e=vQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=xQ(t,"string");return typeof e=="symbol"?e:e+""}function xQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bQ(t,e){return t??e}var wP=(t,e,n,r,i,a,u)=>{if(!(e==null||a==null)){var{chartData:d,computedData:m,dataStartIndex:g,dataEndIndex:v}=n,w=[];return t.reduce((S,I)=>{var D,{dataDefinedOnItem:P,settings:M}=I,L=bQ(P,d),$=Array.isArray(L)?h8(L,g,v):L,z=(D=M?.dataKey)!==null&&D!==void 0?D:r,te=M?.nameKey,X;if(r&&Array.isArray($)&&!Array.isArray($[0])&&u==="axis"?X=AM($,r,i):X=a($,e,m,te),Array.isArray(X))X.forEach(B=>{var H=QO(QO({},M),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});S.push(_3({tooltipEntrySettings:H,dataKey:B.dataKey,payload:B.payload,value:Kn(B.payload,B.dataKey),name:B.name}))});else{var ee;S.push(_3({tooltipEntrySettings:M,dataKey:z,payload:X,value:Kn(X,z),name:(ee=Kn(X,te))!==null&&ee!==void 0?ee:M?.name}))}return S},w)}},KE=we([li,fn,z6,wE,oi],eP),wQ=we([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),EQ=we([oi,nh],OE),p0=we([wQ,li,EQ],RE,{memoizeOptions:{resultEqualityCheck:mp}}),AQ=we([p0],t=>t.filter(dp)),SQ=we([p0],NE,{memoizeOptions:{resultEqualityCheck:mp}}),lh=we([SQ,_c],DE),CQ=we([AQ,_c,li],F6),QE=we([lh,li,p0],PE),EP=we([li],kE),_Q=we([li],t=>t.allowDataOverflow),AP=we([EP,_Q],m6),TQ=we([p0],t=>t.filter(dp)),IQ=we([CQ,TQ,u0],W6),OQ=we([IQ,_c,oi,AP],Y6),RQ=we([p0],q6),NQ=we([lh,li,RQ,vp,oi],BE,{memoizeOptions:{resultEqualityCheck:gp}}),DQ=we([$6,oi,nh],ih),MQ=we([DQ,oi],Q6),PQ=we([X6,oi,nh],ih),kQ=we([PQ,oi],Z6),LQ=we([K6,oi,nh],ih),jQ=we([LQ,oi],J6),BQ=we([MQ,jQ,kQ],K1),FQ=we([li,EP,AP,OQ,NQ,BQ,fn,oi],FE),SP=we([li,fn,lh,QE,u0,oi,FQ],UE),UQ=we([SP,li,KE],HE),VQ=we([li,SP,UQ,oi],GE),CP=t=>{var e=oi(t),n=nh(t),r=!1;return g0(t,e,n,r)},_P=we([li,CP],fp),TP=we([li,KE,VQ,_P],zE),zQ=we([fn,QE,li,oi],oP),HQ=we([fn,QE,li,oi],lP),qQ=(t,e,n,r,i,a,u,d)=>{if(e){var{type:m}=e,g=Ec(t,d);if(r){var v=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/v:0;return w=d==="angleAxis"&&i!=null&&i?.length>=2?pi(i[0]-i[1])*2*w:w,g&&u?u.map((S,I)=>({coordinate:r(S)+w,value:S,index:I,offset:w})):r.domain().map((S,I)=>({coordinate:r(S)+w,value:a?a[S]:S,index:I,offset:w}))}}},yl=we([fn,li,KE,TP,CP,zQ,HQ,oi],qQ),ZE=we([uP,fP,rQ],(t,e,n)=>hP(n.shared,t,e)),IP=t=>t.tooltip.settings.trigger,JE=t=>t.tooltip.settings.defaultIndex,wp=we([oh,ZE,IP,JE],vP),mc=we([wp,lh],XE),OP=we([yl,mc],dP),RP=we([wp],t=>{if(t)return t.dataKey}),NP=we([oh,ZE,IP,JE],bP),GQ=we([hl,dl,fn,ai,yl,JE,NP,m0],xP),WQ=we([wp,GQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),YQ=we([wp],t=>t.active),$Q=we([NP,mc,_c,B6,OP,m0,ZE],wP),XQ=we([$Q],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){KQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e,n){return(e=QQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=ZQ(t,"string");return typeof e=="symbol"?e:e+""}function ZQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JQ=()=>ct(li),eZ=()=>{var t=JQ(),e=ct(yl),n=ct(TP);return kd(JO(JO({},t),{},{scale:n}),e)},tZ=()=>ct(wE),eA=(t,e)=>e,DP=(t,e,n)=>n,tA=(t,e,n,r)=>r,nZ=we(yl,t=>qm(t,e=>e.coordinate)),nA=we([oh,eA,DP,tA],vP),MP=we([nA,lh],XE),rZ=(t,e,n)=>{if(e!=null){var r=oh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},PP=we([oh,eA,DP,tA],bP),Q1=we([hl,dl,fn,ai,yl,tA,PP,m0],xP),iZ=we([nA,Q1],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),kP=we(yl,MP,dP),aZ=we([PP,MP,_c,B6,kP,m0,eA],wP),sZ=we([nA],t=>({isActive:t.active,activeIndex:t.index})),oZ=(t,e,n,r,i,a,u,d)=>{if(!(!t||!e||!r||!i||!a)){var m=sG(t.chartX,t.chartY,e,n,d);if(m){var g=lG(m,e),v=Yq(g,u,a,r,i),w=oG(e,a,v,m);return{activeIndex:String(v),activeCoordinate:w}}}};function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(null,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return(e=cZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=uZ(t,"string");return typeof e=="symbol"?e:e+""}function uZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fZ(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:u,cursor:d,tooltipEventType:m,chartName:g}=t,v=e,w=n,S=r;if(!d||!v||g!=="ScatterChart"&&m!=="axis")return null;var I,D;if(g==="ScatterChart")I=v,D=SW;else if(g==="BarChart")I=CW(u,v,i,a),D=R8;else if(u==="radial"){var{cx:P,cy:M,radius:L,startAngle:$,endAngle:z}=N8(v);I={cx:P,cy:M,startAngle:$,endAngle:z,innerRadius:L,outerRadius:L},D=M8}else I={points:lY(u,v,i)},D=$w;var te=typeof d=="object"&&"className"in d?d.className:void 0,X=zg(zg(zg(zg({stroke:"#ccc",pointerEvents:"none"},i),I),ou(d)),{},{payload:w,payloadIndex:S,className:xn("recharts-tooltip-cursor",te)});return R.isValidElement(d)?R.cloneElement(d,X):R.createElement(D,X)}function hZ(t){var e=eZ(),n=w8(),r=tp(),i=tZ();return R.createElement(fZ,hb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var LP=R.createContext(null),dZ=()=>R.useContext(LP),Hx={exports:{}},tR;function gZ(){return tR||(tR=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,g,v){this.fn=m,this.context=g,this.once=v||!1}function a(m,g,v,w,S){if(typeof v!="function")throw new TypeError("The listener must be a function");var I=new i(v,w||m,S),D=n?n+g:g;return m._events[D]?m._events[D].fn?m._events[D]=[m._events[D],I]:m._events[D].push(I):(m._events[D]=I,m._eventsCount++),m}function u(m,g){--m._eventsCount===0?m._events=new r:delete m._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],v,w;if(this._eventsCount===0)return g;for(w in v=this._events)e.call(v,w)&&g.push(n?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(v)):g},d.prototype.listeners=function(g){var v=n?n+g:g,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,I=w.length,D=new Array(I);S<I;S++)D[S]=w[S].fn;return D},d.prototype.listenerCount=function(g){var v=n?n+g:g,w=this._events[v];return w?w.fn?1:w.length:0},d.prototype.emit=function(g,v,w,S,I,D){var P=n?n+g:g;if(!this._events[P])return!1;var M=this._events[P],L=arguments.length,$,z;if(M.fn){switch(M.once&&this.removeListener(g,M.fn,void 0,!0),L){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,v),!0;case 3:return M.fn.call(M.context,v,w),!0;case 4:return M.fn.call(M.context,v,w,S),!0;case 5:return M.fn.call(M.context,v,w,S,I),!0;case 6:return M.fn.call(M.context,v,w,S,I,D),!0}for(z=1,$=new Array(L-1);z<L;z++)$[z-1]=arguments[z];M.fn.apply(M.context,$)}else{var te=M.length,X;for(z=0;z<te;z++)switch(M[z].once&&this.removeListener(g,M[z].fn,void 0,!0),L){case 1:M[z].fn.call(M[z].context);break;case 2:M[z].fn.call(M[z].context,v);break;case 3:M[z].fn.call(M[z].context,v,w);break;case 4:M[z].fn.call(M[z].context,v,w,S);break;default:if(!$)for(X=1,$=new Array(L-1);X<L;X++)$[X-1]=arguments[X];M[z].fn.apply(M[z].context,$)}}return!0},d.prototype.on=function(g,v,w){return a(this,g,v,w,!1)},d.prototype.once=function(g,v,w){return a(this,g,v,w,!0)},d.prototype.removeListener=function(g,v,w,S){var I=n?n+g:g;if(!this._events[I])return this;if(!v)return u(this,I),this;var D=this._events[I];if(D.fn)D.fn===v&&(!S||D.once)&&(!w||D.context===w)&&u(this,I);else{for(var P=0,M=[],L=D.length;P<L;P++)(D[P].fn!==v||S&&!D[P].once||w&&D[P].context!==w)&&M.push(D[P]);M.length?this._events[I]=M.length===1?M[0]:M:u(this,I)}return this},d.prototype.removeAllListeners=function(g){var v;return g?(v=n?n+g:g,this._events[v]&&u(this,v)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d}(Hx)),Hx.exports}var mZ=gZ();const pZ=wo(mZ);var zd=new pZ,db="recharts.syncEvent.tooltip",nR="recharts.syncEvent.brush";function rA(t,e){if(e){var n=Number.parseInt(e,10);if(!Os(n))return t?.[n]}}var yZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jP=ns({name:"options",initialState:yZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vZ=jP.reducer,{createEventEmitter:xZ}=jP.actions;function bZ(t){return t.tooltip.syncInteraction}var wZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},BP=ns({name:"chartData",initialState:wZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:rR,setDataStartEndIndexes:EZ,setComputedData:lle}=BP.actions,AZ=BP.reducer,SZ=["x","y"];function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return(e=_Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Z(t){var e=TZ(t,"string");return typeof e=="symbol"?e:e+""}function TZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IZ(t,e){if(t==null)return{};var n,r,i=OZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FP=()=>{};function RZ(){var t=ct(EE),e=ct(AE),n=pr(),r=ct(D6),i=ct(yl),a=tp(),u=ep(),d=ct(m=>m.rootProps.className);R.useEffect(()=>{if(t==null)return FP;var m=(g,v,w)=>{if(e!==w&&t===g){if(r==="index"){var S;if(u&&v!==null&&v!==void 0&&(S=v.payload)!==null&&S!==void 0&&S.coordinate&&v.payload.sourceViewBox){var I=v.payload.coordinate,{x:D,y:P}=I,M=IZ(I,SZ),{x:L,y:$,width:z,height:te}=v.payload.sourceViewBox,X=of(of({},M),{},{x:u.x+(z?(D-L)/z:0)*u.width,y:u.y+(te?(P-$)/te:0)*u.height});n(of(of({},v),{},{payload:of(of({},v.payload),{},{coordinate:X})}))}else n(v);return}if(i!=null){var ee;if(typeof r=="function"){var B={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},H=r(i,B);ee=i[H]}else r==="value"&&(ee=i.find(le=>String(le.value)===v.payload.label));var{coordinate:F}=v.payload;if(ee==null||v.payload.active===!1||F==null||u==null){n(ub({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:J,y:q}=F,K=Math.min(J,u.x+u.width),U=Math.min(q,u.y+u.height),ae={x:a==="horizontal"?ee.coordinate:K,y:a==="horizontal"?U:ee.coordinate},re=ub({active:v.payload.active,coordinate:ae,dataKey:v.payload.dataKey,index:String(ee.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox});n(re)}}};return zd.on(db,m),()=>{zd.off(db,m)}},[d,n,e,t,r,i,a,u])}function NZ(){var t=ct(EE),e=ct(AE),n=pr();R.useEffect(()=>{if(t==null)return FP;var r=(i,a,u)=>{e!==u&&t===i&&n(EZ(a))};return zd.on(nR,r),()=>{zd.off(nR,r)}},[n,e,t])}function DZ(){var t=pr();R.useEffect(()=>{t(xZ())},[t]),RZ(),NZ()}function MZ(t,e,n,r,i,a){var u=ct(I=>rZ(I,t,e)),d=ct(AE),m=ct(EE),g=ct(D6),v=ct(bZ),w=v?.active,S=ep();R.useEffect(()=>{if(!w&&m!=null&&d!=null){var I=ub({active:a,coordinate:n,dataKey:u,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:S});zd.emit(db,m,I,d)}},[w,n,u,i,r,d,m,g,a,S])}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){PZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PZ(t,e,n){return(e=kZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=LZ(t,"string");return typeof e=="symbol"?e:e+""}function LZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jZ(t){return t.dataKey}function BZ(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(nW,e)}var oR=[],FZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ac.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mf(t){var e=ki(t,FZ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:u,filterNull:d,isAnimationActive:m,offset:g,payloadUniqBy:v,position:w,reverseDirection:S,useTranslate3d:I,wrapperStyle:D,cursor:P,shared:M,trigger:L,defaultIndex:$,portal:z,axisId:te}=e,X=pr(),ee=typeof $=="number"?String($):$;R.useEffect(()=>{X(oQ({shared:M,trigger:L,axisId:te,active:n,defaultIndex:ee}))},[X,M,L,te,n,ee]);var B=ep(),H=C8(),F=nQ(M),{activeIndex:J,isActive:q}=ct(at=>sZ(at,F,L,ee)),K=ct(at=>aZ(at,F,L,ee)),U=ct(at=>kP(at,F,L,ee)),ae=ct(at=>iZ(at,F,L,ee)),re=K,le=dZ(),ce=n??q,[Te,Ue]=BM([re,ce]),oe=F==="axis"?U:void 0;MZ(F,L,ae,oe,J,ce);var be=z??le;if(be==null)return null;var Ie=re??oR;ce||(Ie=oR),d&&Ie.length&&(Ie=MM(re.filter(at=>at.value!=null&&(at.hide!==!0||e.includeHidden)),v,jZ));var Le=Ie.length>0,Ye=R.createElement(cW,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:m,active:ce,coordinate:ae,hasPayload:Le,offset:g,position:w,reverseDirection:S,useTranslate3d:I,viewBox:B,wrapperStyle:D,lastBoundingBox:Te,innerRef:Ue,hasPortalFromProps:!!z},BZ(u,sR(sR({},e),{},{payload:Ie,label:oe,active:ce,coordinate:ae,accessibilityLayer:H})));return R.createElement(R.Fragment,null,K4.createPortal(Ye,be),ce&&R.createElement(hZ,{cursor:P,tooltipEventType:F,coordinate:ae,payload:re,index:J}))}var iu=t=>null;iu.displayName="Cell";function UZ(t,e,n){return(e=VZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VZ(t){var e=zZ(t,"string");return typeof e=="symbol"?e:e+""}function zZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HZ{constructor(e){UZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){GZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZ(t,e,n){return(e=WZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WZ(t){var e=YZ(t,"string");return typeof e=="symbol"?e:e+""}function YZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Z={cacheSize:2e3,enableCache:!0},UP=qZ({},$Z),cR=new HZ(UP.cacheSize),XZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uR="recharts_measurement_span";function KZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",u=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(u,"|").concat(d)}var fR=(t,e)=>{try{var n=document.getElementById(uR);n||(n=document.createElement("span"),n.setAttribute("id",uR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,XZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ac.isSsr)return{width:0,height:0};if(!UP.enableCache)return fR(e,n);var r=KZ(e,n),i=cR.get(r);if(i)return i;var a=fR(e,n);return cR.set(r,a),a},hR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JZ=Object.keys(VP),pf="NaN";function eJ(t,e){return t*VP[e]}class ba{static parse(e){var n,[,r,i]=(n=ZZ.exec(e))!==null&&n!==void 0?n:[];return new ba(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Os(e)&&(this.unit=""),n!==""&&!QZ.test(n)&&(this.num=NaN,this.unit=""),JZ.includes(n)&&(this.num=eJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ba(NaN,""):new ba(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ba(NaN,""):new ba(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ba(NaN,""):new ba(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ba(NaN,""):new ba(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Os(this.num)}}function zP(t){if(t.includes(pf))return pf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=hR.exec(e))!==null&&n!==void 0?n:[],u=ba.parse(r??""),d=ba.parse(a??""),m=i==="*"?u.multiply(d):u.divide(d);if(m.isNaN())return pf;e=e.replace(hR,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,[,v,w,S]=(g=dR.exec(e))!==null&&g!==void 0?g:[],I=ba.parse(v??""),D=ba.parse(S??""),P=w==="+"?I.add(D):I.subtract(D);if(P.isNaN())return pf;e=e.replace(dR,P.toString())}return e}var gR=/\(([^()]*)\)/;function tJ(t){for(var e=t,n;(n=gR.exec(e))!=null;){var[,r]=n;e=e.replace(gR,zP(r))}return e}function nJ(t){var e=t.replace(/\s+/g,"");return e=tJ(e),e=zP(e),e}function rJ(t){try{return nJ(t)}catch{return pf}}function qx(t){var e=rJ(t.slice(5,-1));return e===pf?"":e}var iJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aJ=["dx","dy","angle","className","breakAll"];function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(null,arguments)}function mR(t,e){if(t==null)return{};var n,r,i=sJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HP=/[ \f\n\r\t\v\u2028\u2029]+/,qP=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];mr(e)||(n?i=e.toString().split(""):i=e.toString().split(HP));var a=i.map(d=>({word:d,width:vd(d,r).width})),u=n?0:vd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},oJ=(t,e,n,r,i)=>{var{maxLines:a,children:u,style:d,breakAll:m}=t,g=ft(a),v=u,w=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce((K,U)=>{var{word:ae,width:re}=U,le=K[K.length-1];if(le&&(r==null||i||le.width+re+n<Number(r)))le.words.push(ae),le.width+=re+n;else{var ce={words:[ae],width:re};K.push(ce)}return K},[])},S=w(e),I=J=>J.reduce((q,K)=>q.width>K.width?q:K);if(!g||i)return S;var D=S.length>a||I(S).width>Number(r);if(!D)return S;for(var P="",M=J=>{var q=v.slice(0,J),K=qP({breakAll:m,style:d,children:q+P}).wordsWithComputedWidth,U=w(K),ae=U.length>a||I(U).width>Number(r);return[ae,U]},L=0,$=v.length-1,z=0,te;L<=$&&z<=v.length-1;){var X=Math.floor((L+$)/2),ee=X-1,[B,H]=M(ee),[F]=M(X);if(!B&&!F&&(L=X+1),B&&F&&($=X-1),!B&&F){te=H;break}z++}return te||S},pR=t=>{var e=mr(t)?[]:t.toString().split(HP);return[{words:e}]},lJ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:u}=t;if((e||n)&&!Ac.isSsr){var d,m,g=qP({breakAll:a,children:r,style:i});if(g){var{wordsWithComputedWidth:v,spaceWidth:w}=g;d=v,m=w}else return pR(r);return oJ({breakAll:a,children:r,maxLines:u,style:i},d,m,e,n)}return pR(r)},yR="#808080",Ep=R.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:u=!1,textAnchor:d="start",verticalAnchor:m="end",fill:g=yR}=t,v=mR(t,iJ),w=R.useMemo(()=>lJ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:u,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,u,v.style,v.width]),{dx:S,dy:I,angle:D,className:P,breakAll:M}=v,L=mR(v,aJ);if(!xo(n)||!xo(r)||w.length===0)return null;var $=n+(ft(S)?S:0),z=r+(ft(I)?I:0),te;switch(m){case"start":te=qx("calc(".concat(a,")"));break;case"middle":te=qx("calc(".concat((w.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:te=qx("calc(".concat(w.length-1," * -").concat(i,")"));break}var X=[];if(u){var ee=w[0].width,{width:B}=v;X.push("scale(".concat(ft(B)?B/ee:1,")"))}return D&&X.push("rotate(".concat(D,", ").concat($,", ").concat(z,")")),X.length&&(L.transform=X.join(" ")),R.createElement("text",gb({},sa(L),{ref:e,x:$,y:z,className:xn("recharts-text",P),textAnchor:d,fill:g.includes("url")?yR:g}),w.map((H,F)=>{var J=H.words.join(M?"":" ");return R.createElement("tspan",{x:$,dy:F===0?te:i,key:"".concat(J,"-").concat(F)},J)}))});Ep.displayName="Text";var cJ=["labelRef"];function uJ(t,e){if(t==null)return{};var n,r,i=fJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return(e=dJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=gJ(t,"string");return typeof e=="symbol"?e:e+""}function gJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(null,arguments)}var GP=R.createContext(null),mJ=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,u=R.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return R.createElement(GP.Provider,{value:u},a)},WP=()=>{var t=R.useContext(GP),e=ep();return t||e},pJ=R.createContext(null),yJ=()=>{var t=R.useContext(pJ),e=ct(j6);return t||e},vJ=t=>{var{value:e,formatter:n}=t,r=mr(t.children)?e:t.children;return typeof n=="function"?n(r):r},iA=t=>t!=null&&typeof t=="function",xJ=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},bJ=(t,e,n,r,i)=>{var{offset:a,className:u}=t,{cx:d,cy:m,innerRadius:g,outerRadius:v,startAngle:w,endAngle:S,clockWise:I}=i,D=(g+v)/2,P=xJ(w,S),M=P>=0?1:-1,L,$;switch(e){case"insideStart":L=w+M*a,$=I;break;case"insideEnd":L=S-M*a,$=!I;break;case"end":L=S+M*a,$=I;break;default:throw new Error("Unsupported position ".concat(e))}$=P<=0?$:!$;var z=Xr(d,m,D,L),te=Xr(d,m,D,L+($?1:-1)*359),X="M".concat(z.x,",").concat(z.y,`
    A`).concat(D,",").concat(D,",0,1,").concat($?0:1,`,
    `).concat(te.x,",").concat(te.y),ee=mr(t.id)?Dd("recharts-radial-line-"):t.id;return R.createElement("text",Yo({},r,{dominantBaseline:"central",className:xn("recharts-radial-bar-label",u)}),R.createElement("defs",null,R.createElement("path",{id:ee,d:X})),R.createElement("textPath",{xlinkHref:"#".concat(ee)},n))},wJ=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:u,startAngle:d,endAngle:m}=t,g=(d+m)/2;if(n==="outside"){var{x:v,y:w}=Xr(r,i,u+e,g);return{x:v,y:w,textAnchor:v>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var S=(a+u)/2,{x:I,y:D}=Xr(r,i,S,g);return{x:I,y:D,textAnchor:"middle",verticalAnchor:"middle"}},YP=t=>"cx"in t&&ft(t.cx),EJ=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!YP(n)&&(a=n);var{x:u,y:d,width:m,height:g}=e,v=g>=0?1:-1,w=v*r,S=v>0?"end":"start",I=v>0?"start":"end",D=m>=0?1:-1,P=D*r,M=D>0?"end":"start",L=D>0?"start":"end";if(i==="top"){var $={x:u+m/2,y:d-v*r,textAnchor:"middle",verticalAnchor:S};return jr(jr({},$),a?{height:Math.max(d-a.y,0),width:m}:{})}if(i==="bottom"){var z={x:u+m/2,y:d+g+w,textAnchor:"middle",verticalAnchor:I};return jr(jr({},z),a?{height:Math.max(a.y+a.height-(d+g),0),width:m}:{})}if(i==="left"){var te={x:u-P,y:d+g/2,textAnchor:M,verticalAnchor:"middle"};return jr(jr({},te),a?{width:Math.max(te.x-a.x,0),height:g}:{})}if(i==="right"){var X={x:u+m+P,y:d+g/2,textAnchor:L,verticalAnchor:"middle"};return jr(jr({},X),a?{width:Math.max(a.x+a.width-X.x,0),height:g}:{})}var ee=a?{width:m,height:g}:{};return i==="insideLeft"?jr({x:u+P,y:d+g/2,textAnchor:L,verticalAnchor:"middle"},ee):i==="insideRight"?jr({x:u+m-P,y:d+g/2,textAnchor:M,verticalAnchor:"middle"},ee):i==="insideTop"?jr({x:u+m/2,y:d+w,textAnchor:"middle",verticalAnchor:I},ee):i==="insideBottom"?jr({x:u+m/2,y:d+g-w,textAnchor:"middle",verticalAnchor:S},ee):i==="insideTopLeft"?jr({x:u+P,y:d+w,textAnchor:L,verticalAnchor:I},ee):i==="insideTopRight"?jr({x:u+m-P,y:d+w,textAnchor:M,verticalAnchor:I},ee):i==="insideBottomLeft"?jr({x:u+P,y:d+g-w,textAnchor:L,verticalAnchor:S},ee):i==="insideBottomRight"?jr({x:u+m-P,y:d+g-w,textAnchor:M,verticalAnchor:S},ee):i&&typeof i=="object"&&(ft(i.x)||sl(i.x))&&(ft(i.y)||sl(i.y))?jr({x:u+Ki(i.x,m),y:d+Ki(i.y,g),textAnchor:"end",verticalAnchor:"end"},ee):jr({x:u+m/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},ee)},AJ={offset:5};function Ql(t){var e=ki(t,AJ),{viewBox:n,position:r,value:i,children:a,content:u,className:d="",textBreakAll:m,labelRef:g}=e,v=yJ(),w=WP(),S=r==="center"?w:v??w,I=n||S;if(!I||mr(i)&&mr(a)&&!R.isValidElement(u)&&typeof u!="function")return null;var D=jr(jr({},e),{},{viewBox:I});if(R.isValidElement(u)){var{labelRef:P}=D,M=uJ(D,cJ);return R.cloneElement(u,M)}var L;if(typeof u=="function"){if(L=R.createElement(u,D),R.isValidElement(L))return L}else L=vJ(e);var $=YP(I),z=sa(e);if($&&(r==="insideStart"||r==="insideEnd"||r==="end"))return bJ(e,r,L,z,I);var te=$?wJ(I,e.offset,e.position):EJ(e,I);return R.createElement(Ep,Yo({ref:g,className:xn("recharts-label",d)},z,te,{breakAll:m}),L)}Ql.displayName="Label";var SJ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(Ql,Yo({key:"label-implicit"},r)):xo(t)?R.createElement(Ql,Yo({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===Ql?R.cloneElement(t,jr({key:"label-implicit"},r)):R.createElement(Ql,Yo({key:"label-implicit",content:t},r)):iA(t)?R.createElement(Ql,Yo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(Ql,Yo({},t,{key:"label-implicit"},r)):null};function CJ(t){var{label:e,labelRef:n}=t,r=WP();return SJ(e,r,n)||null}var Gx={},Wx={},xR;function _J(){return xR||(xR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(Wx)),Wx}var Yx={},bR;function TJ(){return bR||(bR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(Yx)),Yx}var wR;function IJ(){return wR||(wR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_J(),n=TJ(),r=kw();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i}(Gx)),Gx}var $x,ER;function OJ(){return ER||(ER=1,$x=IJ().last),$x}var RJ=OJ();const NJ=wo(RJ);var DJ=["valueAccessor"],MJ=["dataKey","clockWise","id","textBreakAll"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z1.apply(null,arguments)}function AR(t,e){if(t==null)return{};var n,r,i=PJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kJ=t=>Array.isArray(t.value)?NJ(t.value):t.value,$P=R.createContext(void 0),XP=$P.Provider,KP=R.createContext(void 0),LJ=KP.Provider;function jJ(){return R.useContext($P)}function BJ(){return R.useContext(KP)}function e1(t){var{valueAccessor:e=kJ}=t,n=AR(t,DJ),{dataKey:r,clockWise:i,id:a,textBreakAll:u}=n,d=AR(n,MJ),m=jJ(),g=BJ(),v=m||g;return!v||!v.length?null:R.createElement(Pi,{className:"recharts-label-list"},v.map((w,S)=>{var I,D=mr(r)?e(w,S):Kn(w&&w.payload,r),P=mr(a)?{}:{id:"".concat(a,"-").concat(S)};return R.createElement(Ql,Z1({key:"label-".concat(S)},sa(w),d,P,{fill:(I=n.fill)!==null&&I!==void 0?I:w.fill,parentViewBox:w.parentViewBox,value:D,textBreakAll:u,viewBox:w.viewBox,index:S}))}))}e1.displayName="LabelList";function aA(t){var{label:e}=t;return e?e===!0?R.createElement(e1,{key:"labelList-implicit"}):R.isValidElement(e)||iA(e)?R.createElement(e1,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(e1,Z1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(null,arguments)}var QP=t=>{var{cx:e,cy:n,r,className:i}=t,a=xn("recharts-dot",i);return e===+e&&n===+n&&r===+r?R.createElement("circle",mb({},es(t),Dw(t),{className:a,cx:e,cy:n,r})):null},ZP=t=>t.graphicalItems.polarItems,FJ=we([yr,f0],OE),Ap=we([ZP,wr,FJ],RE),UJ=we([Ap],NE),Sp=we([UJ,vE],DE),VJ=we([Sp,wr,Ap],PE);we([Sp,wr,Ap],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,u=Kn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Kn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var SR=()=>{},zJ=we([Sp,wr,Ap,vp,yr],BE),HJ=we([wr,LE,jE,SR,zJ,SR,fn,yr],FE),JP=we([wr,fn,Sp,VJ,u0,yr,HJ],UE),qJ=we([JP,wr,ah],HE);we([wr,JP,qJ,yr],GE);var GJ={radiusAxis:{},angleAxis:{}},e5=ns({name:"polarAxis",initialState:GJ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:cle,removeRadiusAxis:ule,addAngleAxis:fle,removeAngleAxis:hle}=e5.actions,WJ=e5.reducer;function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=XJ(t,"string");return typeof e=="symbol"?e:e+""}function XJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KJ=(t,e)=>e,sA=we([ZP,KJ],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),QJ=[],oA=(t,e,n)=>n?.length===0?QJ:n,t5=we([vE,sA,oA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>_R(_R({},e.presentationProps),a.props))),i!=null)return i}}),ZJ=we([t5,sA,oA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,u=Kn(r,e.nameKey,e.name),d;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Zf(u,e.dataKey),color:d,payload:r,type:e.legendType}})}),JJ=we([t5,sA,oA,ai],(t,e,n,r)=>{if(!(e==null||t==null))return Jee({offset:r,pieSettings:e,displayedData:t,cells:n})}),Xx={exports:{}},Ln={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function eee(){if(TR)return Ln;TR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),I=Symbol.for("react.client.reference");function D(P){if(typeof P=="object"&&P!==null){var M=P.$$typeof;switch(M){case t:switch(P=P.type,P){case n:case i:case r:case m:case g:case S:return P;default:switch(P=P&&P.$$typeof,P){case u:case d:case w:case v:return P;case a:return P;default:return M}}case e:return M}}}return Ln.ContextConsumer=a,Ln.ContextProvider=u,Ln.Element=t,Ln.ForwardRef=d,Ln.Fragment=n,Ln.Lazy=w,Ln.Memo=v,Ln.Portal=e,Ln.Profiler=i,Ln.StrictMode=r,Ln.Suspense=m,Ln.SuspenseList=g,Ln.isContextConsumer=function(P){return D(P)===a},Ln.isContextProvider=function(P){return D(P)===u},Ln.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===t},Ln.isForwardRef=function(P){return D(P)===d},Ln.isFragment=function(P){return D(P)===n},Ln.isLazy=function(P){return D(P)===w},Ln.isMemo=function(P){return D(P)===v},Ln.isPortal=function(P){return D(P)===e},Ln.isProfiler=function(P){return D(P)===i},Ln.isStrictMode=function(P){return D(P)===r},Ln.isSuspense=function(P){return D(P)===m},Ln.isSuspenseList=function(P){return D(P)===g},Ln.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===n||P===i||P===r||P===m||P===g||typeof P=="object"&&P!==null&&(P.$$typeof===w||P.$$typeof===v||P.$$typeof===u||P.$$typeof===a||P.$$typeof===d||P.$$typeof===I||P.getModuleId!==void 0)},Ln.typeOf=D,Ln}var IR;function tee(){return IR||(IR=1,Xx.exports=eee()),Xx.exports}var nee=tee(),OR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",RR=null,Kx=null,n5=t=>{if(t===RR&&Array.isArray(Kx))return Kx;var e=[];return R.Children.forEach(t,n=>{mr(n)||(nee.isFragment(n)?e=e.concat(n5(n.props.children)):e.push(n))}),Kx=e,RR=t,e};function lA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>OR(i)):r=[OR(e)],n5(t).forEach(i=>{var a=lu(i,"type.displayName")||lu(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var r5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Qx={},NR;function ree(){return NR||(NR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(Qx)),Qx}var Zx,DR;function iee(){return DR||(DR=1,Zx=ree().isPlainObject),Zx}var aee=iee();const see=wo(aee);function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oee(t,e,n){return(e=lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(null,arguments)}var kR=(t,e,n,r,i)=>{var a=n-r,u;return u="M ".concat(t,",").concat(e),u+="L ".concat(t+n,",").concat(e),u+="L ".concat(t+n-a/2,",").concat(e+i),u+="L ".concat(t+n-a/2-r,",").concat(e+i),u+="L ".concat(t,",").concat(e," Z"),u},uee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fee=t=>{var e=ki(t,uee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:u,className:d}=e,{animationEasing:m,animationDuration:g,animationBegin:v,isUpdateAnimationActive:w}=e,S=R.useRef(null),[I,D]=R.useState(-1),P=R.useRef(i),M=R.useRef(a),L=R.useRef(u),$=R.useRef(n),z=R.useRef(r),te=a0(t,"trapezoid-");if(R.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var ae=S.current.getTotalLength();ae&&D(ae)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||u!==+u||i===0&&a===0||u===0)return null;var X=xn("recharts-trapezoid",d);if(!w)return R.createElement("g",null,R.createElement("path",J1({},sa(e),{className:X,d:kR(n,r,i,a,u)})));var ee=P.current,B=M.current,H=L.current,F=$.current,J=z.current,q="0px ".concat(I===-1?1:I,"px"),K="".concat(I,"px 0px"),U=_8(["strokeDasharray"],g,m);return R.createElement(i0,{animationId:te,key:te,canBegin:I>0,duration:g,easing:m,isActive:w,begin:v},ae=>{var re=Or(ee,i,ae),le=Or(B,a,ae),ce=Or(H,u,ae),Te=Or(F,n,ae),Ue=Or(J,r,ae);S.current&&(P.current=re,M.current=le,L.current=ce,$.current=Te,z.current=Ue);var oe=ae>0?{transition:U,strokeDasharray:K}:{strokeDasharray:q};return R.createElement("path",J1({},sa(e),{className:X,d:kR(Te,Ue,re,le,ce),ref:S,style:PR(PR({},oe),e.style)}))})},hee=["option","shapeType","propTransformer","activeClassName","isActive"];function dee(t,e){if(t==null)return{};var n,r,i=gee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return(e=pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vee(t,e){return em(em({},e),t)}function xee(t,e){return t==="symbols"}function jR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(R8,n);case"trapezoid":return R.createElement(fee,n);case"sector":return R.createElement(M8,n);case"symbols":if(xee(e))return R.createElement(Nw,n);break;default:return null}}function bee(t){return R.isValidElement(t)?t.props:t}function i5(t){var{option:e,shapeType:n,propTransformer:r=vee,activeClassName:i="recharts-active-shape",isActive:a}=t,u=dee(t,hee),d;if(R.isValidElement(e))d=R.cloneElement(e,em(em({},u),bee(e)));else if(typeof e=="function")d=e(u);else if(see(e)&&typeof e!="boolean"){var m=r(e,u);d=R.createElement(jR,{shapeType:n,elementProps:m})}else{var g=u;d=R.createElement(jR,{shapeType:n,elementProps:g})}return a?R.createElement(Pi,{className:i},d):d}var cA=(t,e)=>{var n=pr();return(r,i)=>a=>{t?.(r,i,a),n(mP({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},uA=t=>{var e=pr();return(n,r)=>i=>{t?.(n,r,i),e(lQ())}},fA=(t,e)=>{var n=pr();return(r,i)=>a=>{t?.(r,i,a),n(cQ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function hA(t){var{fn:e,args:n}=t,r=pr(),i=oa();return R.useLayoutEffect(()=>{if(!i){var a=e(n);return r(aQ(a)),()=>{r(sQ(a))}}},[e,n,r,i]),null}var a5=()=>{};function s5(t){var{legendPayload:e}=t,n=pr(),r=oa();return R.useLayoutEffect(()=>r?a5:(n(A8(e)),()=>{n(S8(e))}),[n,r,e]),null}function wee(t){var{legendPayload:e}=t,n=pr(),r=ct(fn);return R.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?a5:(n(A8(e)),()=>{n(S8(e))}),[n,r,e]),null}var Jx,Eee=()=>{var[t]=R.useState(()=>Dd("uid-"));return t},Aee=(Jx=kk.useId)!==null&&Jx!==void 0?Jx:Eee;function See(t,e){var n=Aee();return e||(t?"".concat(t,"-").concat(n):n)}var Cee=R.createContext(void 0),dA=t=>{var{id:e,type:n,children:r}=t,i=See("recharts-".concat(n),e);return R.createElement(Cee.Provider,{value:i},r(i))},_ee={cartesianItems:[],polarItems:[]},o5=ns({name:"graphicalItems",initialState:_ee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:ra()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Jo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:ra()},removeCartesianGraphicalItem:{reducer(t,e){var n=Jo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:ra()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:ra()},removePolarGraphicalItem:{reducer(t,e){var n=Jo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:ra()}}}),{addCartesianGraphicalItem:Tee,replaceCartesianGraphicalItem:Iee,removeCartesianGraphicalItem:Oee,addPolarGraphicalItem:Ree,removePolarGraphicalItem:Nee}=o5.actions,Dee=o5.reducer;function l5(t){var e=pr(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(Tee(t)):n.current!==t&&e(Iee({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(Oee(n.current)),n.current=null)},[e]),null}function Mee(t){var e=pr();return R.useLayoutEffect(()=>(e(Ree(t)),()=>{e(Nee(t))}),[e,t]),null}var Pee=["onMouseEnter","onClick","onMouseLeave"],kee=["id"],Lee=["id"];function gA(t,e){if(t==null)return{};var n,r,i=jee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=Fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fee(t){var e=Uee(t,"string");return typeof e=="symbol"?e:e+""}function Uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(null,arguments)}function Vee(t){var e=R.useMemo(()=>lA(t.children,iu),[t.children]),n=ct(r=>ZJ(r,t.id,e));return n==null?null:R.createElement(wee,{legendPayload:n})}function zee(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:u,name:d,hide:m,tooltipType:g}=t;return{dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:u,dataKey:e,nameKey:n,name:Zf(d,e),hide:m,type:g,color:u,unit:""}}}var Hee=(t,e)=>t>e?"start":t<e?"end":"middle",qee=(t,e,n)=>Ki(typeof e=="function"?e(t):e,n,n*.8),Gee=(t,e,n)=>{var{top:r,left:i,width:a,height:u}=e,d=f8(a,u),m=i+Ki(t.cx,a,a/2),g=r+Ki(t.cy,u,u/2),v=Ki(t.innerRadius,d,0),w=qee(n,t.outerRadius,d),S=t.maxRadius||Math.sqrt(a*a+u*u)/2;return{cx:m,cy:g,innerRadius:v,outerRadius:w,maxRadius:S}},Wee=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Yee(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var $ee=(t,e)=>{if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return t(e);var n=xn("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return R.createElement($w,pc({},e,{type:"linear",className:n}))},Xee=(t,e,n)=>{if(R.isValidElement(t))return R.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),R.isValidElement(r)))return r;var i=xn("recharts-pie-label-text",Yee(t));return R.createElement(Ep,pc({},e,{alignmentBaseline:"middle",className:i}),r)};function Kee(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:u}=n;if(!r||!i||!e)return null;var d=es(n),m=ou(i),g=ou(a),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,w=e.map((S,I)=>{var D=(S.startAngle+S.endAngle)/2,P=Xr(S.cx,S.cy,S.outerRadius+v,D),M=hr(hr(hr(hr({},d),S),{},{stroke:"none"},m),{},{index:I,textAnchor:Hee(P.x,S.cx)},P),L=hr(hr(hr(hr({},d),S),{},{fill:"none",stroke:S.fill},g),{},{index:I,points:[Xr(S.cx,S.cy,S.outerRadius,D),P],key:"line"});return R.createElement(Pi,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(I)},a&&$ee(a,L),Xee(i,M,Kn(S,u)))});return R.createElement(Pi,{className:"recharts-pie-labels"},w)}function Qee(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?R.createElement(aA,{label:i}):R.createElement(Kee,{sectors:e,props:n,showLabels:r})}function Zee(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=ct(mc),{onMouseEnter:u,onClick:d,onMouseLeave:m}=i,g=gA(i,Pee),v=cA(u,i.dataKey),w=uA(m),S=fA(d,i.dataKey);return e==null||e.length===0?null:R.createElement(R.Fragment,null,e.map((I,D)=>{if(I?.startAngle===0&&I?.endAngle===0&&e.length!==1)return null;var P=n&&String(D)===a,M=a?r:null,L=P?n:M,$=hr(hr({},I),{},{stroke:I.stroke,tabIndex:-1,[p8]:D,[y8]:i.dataKey});return R.createElement(Pi,pc({key:"sector-".concat(I?.startAngle,"-").concat(I?.endAngle,"-").concat(I.midAngle,"-").concat(D),tabIndex:-1,className:"recharts-pie-sector"},e0(g,I,D),{onMouseEnter:v(I,D),onMouseLeave:w(I,D),onClick:S(I,D)}),R.createElement(i5,pc({option:L,isActive:P,shapeType:"sector"},$)))}))}function Jee(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:u,startAngle:d,endAngle:m,dataKey:g,nameKey:v,tooltipType:w}=n,S=Math.abs(n.minAngle),I=Wee(d,m),D=Math.abs(I),P=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,M=r.filter(ee=>Kn(ee,g,0)!==0).length,L=(D>=360?M:M-1)*P,$=D-M*S-L,z=r.reduce((ee,B)=>{var H=Kn(B,g,0);return ee+(ft(H)?H:0)},0),te;if(z>0){var X;te=r.map((ee,B)=>{var H=Kn(ee,g,0),F=Kn(ee,v,B),J=Gee(n,a,ee),q=(ft(H)?H:0)/z,K,U=hr(hr({},ee),i&&i[B]&&i[B].props);B?K=X.endAngle+pi(I)*P*(H!==0?1:0):K=d;var ae=K+pi(I)*((H!==0?S:0)+q*$),re=(K+ae)/2,le=(J.innerRadius+J.outerRadius)/2,ce=[{name:F,value:H,payload:U,dataKey:g,type:w}],Te=Xr(J.cx,J.cy,le,re);return X=hr(hr(hr(hr({},n.presentationProps),{},{percent:q,cornerRadius:u,name:F,tooltipPayload:ce,midAngle:re,middleRadius:le,tooltipPosition:Te},U),J),{},{value:H,startAngle:K,endAngle:ae,payload:U,paddingAngle:pi(I)*P}),X})}return te}function ete(t){var{showLabels:e,sectors:n,children:r}=t,i=R.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return R.createElement(LJ,{value:e?i:void 0},r)}function tte(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:u,animationEasing:d,activeShape:m,inactiveShape:g,onAnimationStart:v,onAnimationEnd:w}=e,S=a0(e,"recharts-pie-"),I=n.current,[D,P]=R.useState(!1),M=R.useCallback(()=>{typeof w=="function"&&w(),P(!1)},[w]),L=R.useCallback(()=>{typeof v=="function"&&v(),P(!0)},[v]);return R.createElement(ete,{showLabels:!D,sectors:r},R.createElement(i0,{animationId:S,begin:a,duration:u,isActive:i,easing:d,onAnimationStart:L,onAnimationEnd:M,key:S},$=>{var z=[],te=r&&r[0],X=te?.startAngle;return r?.forEach((ee,B)=>{var H=I&&I[B],F=B>0?lu(ee,"paddingAngle",0):0;if(H){var J=Or(H.endAngle-H.startAngle,ee.endAngle-ee.startAngle,$),q=hr(hr({},ee),{},{startAngle:X+F,endAngle:X+J+F});z.push(q),X=q.endAngle}else{var{endAngle:K,startAngle:U}=ee,ae=Or(0,K-U,$),re=hr(hr({},ee),{},{startAngle:X+F,endAngle:X+ae+F});z.push(re),X=re.endAngle}}),n.current=z,R.createElement(Pi,null,R.createElement(Zee,{sectors:z,activeShape:m,inactiveShape:g,allOtherPieProps:e}))}),R.createElement(Qee,{showLabels:!D,sectors:r,props:e}),e.children)}var nte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ac.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function rte(t){var{id:e}=t,n=gA(t,kee),{hide:r,className:i,rootTabIndex:a}=t,u=R.useMemo(()=>lA(t.children,iu),[t.children]),d=ct(v=>JJ(v,e,u)),m=R.useRef(null),g=xn("recharts-pie",i);return r||d==null?(m.current=null,R.createElement(Pi,{tabIndex:a,className:g})):R.createElement(R.Fragment,null,R.createElement(hA,{fn:zee,args:hr(hr({},t),{},{sectors:d})}),R.createElement(Pi,{tabIndex:a,className:g},R.createElement(tte,{props:hr(hr({},n),{},{sectors:d}),previousSectorsRef:m})))}function c5(t){var e=ki(t,nte),{id:n}=e,r=gA(e,Lee),i=es(r);return R.createElement(dA,{id:n,type:"pie"},a=>R.createElement(R.Fragment,null,R.createElement(Mee,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),R.createElement(Vee,pc({},r,{id:a})),R.createElement(rte,pc({},r,{id:a}))))}c5.displayName="Pie";function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote={xAxis:{},yAxis:{},zAxis:{}},u5=ns({name:"cartesianAxis",initialState:ote,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:ra()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:ra()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:ra()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:ra()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:ra()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:ra()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var u=[...a,r].slice(-3);t.yAxis[n]=UR(UR({},t.yAxis[n]),{},{width:r,widthHistory:u})}}}}),{addXAxis:lte,removeXAxis:cte,addYAxis:ute,removeYAxis:fte,addZAxis:dle,removeZAxis:gle,updateYAxisWidth:hte}=u5.actions,dte=u5.reducer,gte=we([ai],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),mte=we([gte,hl,dl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),mA=()=>ct(mte),pte=()=>ct(XQ);function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yte(t,e,n){return(e=vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vte(t){var e=xte(t,"string");return typeof e=="symbol"?e:e+""}function xte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bte=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var u=zR(zR({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ou(i)),Dw(i)),d;return R.isValidElement(i)?d=R.cloneElement(i,u):typeof i=="function"?d=i(u):d=R.createElement(QP,u),R.createElement(Pi,{className:"recharts-active-dot"},d)};function wte(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=ct(mc),u=pte();if(e==null||u==null)return null;var d=e.find(m=>u.includes(m.payload));return mr(d)?null:bte({point:d,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Ete="Invariant failed";function Ate(t,e){throw new Error(Ete)}var Ste=["x","y"];function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(null,arguments)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=Tte(t,"string");return typeof e=="symbol"?e:e+""}function Tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ite(t,e){if(t==null)return{};var n,r,i=Ote(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ote(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rte(t,e){var{x:n,y:r}=t,i=Ite(t,Ste),a="".concat(n),u=parseInt(a,10),d="".concat(r),m=parseInt(d,10),g="".concat(e.height||i.height),v=parseInt(g,10),w="".concat(e.width||i.width),S=parseInt(w,10);return ad(ad(ad(ad(ad({},e),i),u?{x:u}:{}),m?{y:m}:{}),{},{height:v,width:S,name:e.name,radius:e.radius})}function pA(t){return R.createElement(i5,pb({shapeType:"rectangle",propTransformer:Rte,activeClassName:"recharts-active-bar"},t))}var Nte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ft(e))return e;var a=ft(r)||mr(r);return a?e(r,i):(a||Ate(),n)}},Dte={},f5=ns({name:"errorBars",initialState:Dte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:mle,replaceErrorBar:ple,removeErrorBar:yle}=f5.actions,Mte=f5.reducer,Pte=["children"];function kte(t,e){if(t==null)return{};var n,r,i=Lte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bte=R.createContext(jte);function h5(t){var{children:e}=t,n=kte(t,Pte);return R.createElement(Bte.Provider,{value:n},e)}function yA(t,e){var n,r,i=ct(g=>ml(g,t)),a=ct(g=>pl(g,e)),u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:qa.allowDataOverflow,d=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ga.allowDataOverflow,m=u||d;return{needClip:m,needClipX:u,needClipY:d}}function d5(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=mA(),{needClipX:a,needClipY:u,needClip:d}=yA(e,n);if(!d)return null;var{x:m,y:g,width:v,height:w}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?m:m-v/2,y:u?g:g-w/2,width:a?v:v*2,height:u?w:w*2}))}var Fte=["onMouseEnter","onMouseLeave","onClick"],Ute=["value","background","tooltipPosition"],Vte=["id"],zte=["onMouseEnter","onClick","onMouseLeave"];function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(null,arguments)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tm(t,e){if(t==null)return{};var n,r,i=Wte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yte=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Zf(n,e),payload:t}]};function $te(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:u,unit:d}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Zf(a,e),hide:u,type:t.tooltipType,color:t.fill,unit:d}}}function Xte(t){var e=ct(mc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:u,onMouseLeave:d,onClick:m}=a,g=tm(a,Fte),v=cA(u,r),w=uA(d),S=fA(m,r);if(!i||n==null)return null;var I=ou(i);return R.createElement(R.Fragment,null,n.map((D,P)=>{var{value:M,background:L,tooltipPosition:$}=D,z=tm(D,Ute);if(!L)return null;var te=v(D,P),X=w(D,P),ee=S(D,P),B=ia(ia(ia(ia(ia({option:i,isActive:String(P)===e},z),{},{fill:"#eee"},L),I),e0(g,D,P)),{},{onMouseEnter:te,onMouseLeave:X,onClick:ee,dataKey:r,index:P,className:"recharts-bar-background-rectangle"});return R.createElement(pA,yc({key:"background-bar-".concat(P)},B))}))}function Kte(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var u={x:a.x,y:a.y,width:a.width,height:a.height};return ia(ia({},u),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:u,fill:a.fill})});return R.createElement(XP,{value:e?i:void 0},n)}function Qte(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:u}=t,d=ct(mc),m=ct(RP),g=n&&String(a)===d&&(m==null||u===m),v=g?n:e;return R.createElement(pA,yc({},r,{name:String(r.name)},i,{isActive:g,option:v,index:a,dataKey:u}))}function Zte(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return R.createElement(pA,yc({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Jte(t){var{data:e,props:n}=t,r=es(n),{id:i}=r,a=tm(r,Vte),{shape:u,dataKey:d,activeBar:m}=n,{onMouseEnter:g,onClick:v,onMouseLeave:w}=n,S=tm(n,zte),I=cA(g,d),D=uA(w),P=fA(v,d);return e?R.createElement(R.Fragment,null,e.map((M,L)=>R.createElement(Pi,yc({key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(L),className:"recharts-bar-rectangle"},e0(S,M,L),{onMouseEnter:I(M,L),onMouseLeave:D(M,L),onClick:P(M,L)}),m?R.createElement(Qte,{shape:u,activeBar:m,baseProps:a,entry:M,index:L,dataKey:d}):R.createElement(Zte,{shape:u,baseProps:a,entry:M,index:L,dataKey:d})))):null}function ene(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:u,animationDuration:d,animationEasing:m,onAnimationEnd:g,onAnimationStart:v}=e,w=n.current,S=a0(e,"recharts-bar-"),[I,D]=R.useState(!1),P=!I,M=R.useCallback(()=>{typeof g=="function"&&g(),D(!1)},[g]),L=R.useCallback(()=>{typeof v=="function"&&v(),D(!0)},[v]);return R.createElement(Kte,{showLabels:P,rects:r},R.createElement(i0,{animationId:S,begin:u,duration:d,isActive:a,easing:m,onAnimationEnd:M,onAnimationStart:L,key:S},$=>{var z=$===1?r:r?.map((te,X)=>{var ee=w&&w[X];if(ee)return ia(ia({},te),{},{x:Or(ee.x,te.x,$),y:Or(ee.y,te.y,$),width:Or(ee.width,te.width,$),height:Or(ee.height,te.height,$)});if(i==="horizontal"){var B=Or(0,te.height,$);return ia(ia({},te),{},{y:te.y+te.height-B,height:B})}var H=Or(0,te.width,$);return ia(ia({},te),{},{width:H})});return $>0&&(n.current=z??null),z==null?null:R.createElement(Pi,null,R.createElement(Jte,{props:e,data:z}))}),R.createElement(aA,{label:e.label}),e.children)}function tne(t){var e=R.useRef(null);return R.createElement(ene,{previousRectanglesRef:e,props:t})}var g5=0,nne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Kn(t,e)}};class rne extends R.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:u,needClip:d,background:m,id:g}=this.props;if(e||n==null)return null;var v=xn("recharts-bar",i),w=g;return R.createElement(Pi,{className:v,id:g},d&&R.createElement("defs",null,R.createElement(d5,{clipPathId:w,xAxisId:a,yAxisId:u})),R.createElement(Pi,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(w,")"):void 0},R.createElement(Xte,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),R.createElement(tne,this.props)))}}var ine={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ac.isSsr,legendType:"rect",minPointSize:g5,xAxisId:0,yAxisId:0};function ane(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:d,animationDuration:m,animationEasing:g,isAnimationActive:v}=t,{needClip:w}=yA(e,n),S=tp(),I=oa(),D=lA(t.children,iu),P=ct($=>Mne($,e,n,I,t.id,D));if(S!=="vertical"&&S!=="horizontal")return null;var M,L=P?.[0];return L==null||L.height==null||L.width==null?M=0:M=S==="vertical"?L.height/2:L.width/2,R.createElement(h5,{xAxisId:e,yAxisId:n,data:P,dataPointFormatter:nne,errorBarOffset:M},R.createElement(rne,yc({},t,{layout:S,needClip:w,data:P,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:d,animationDuration:m,animationEasing:g,isAnimationActive:v})))}function sne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:u,yAxis:d,xAxisTicks:m,yAxisTicks:g,stackedData:v,displayedData:w,offset:S,cells:I,parentViewBox:D}=t,P=e==="horizontal"?d:u,M=v?P.scale.domain():null,L=nG({numericAxis:P});return w.map(($,z)=>{var te,X,ee,B,H,F;v?te=Kq(v[z],M):(te=Kn($,n),Array.isArray(te)||(te=[L,te]));var J=Nte(r,g5)(te[1],z);if(e==="horizontal"){var q,[K,U]=[d.scale(te[0]),d.scale(te[1])];X=A3({axis:u,ticks:m,bandSize:a,offset:i.offset,entry:$,index:z}),ee=(q=U??K)!==null&&q!==void 0?q:void 0,B=i.size;var ae=K-U;if(H=Os(ae)?0:ae,F={x:X,y:S.top,width:B,height:S.height},Math.abs(J)>0&&Math.abs(H)<Math.abs(J)){var re=pi(H||J)*(Math.abs(J)-Math.abs(H));ee-=re,H+=re}}else{var[le,ce]=[u.scale(te[0]),u.scale(te[1])];if(X=le,ee=A3({axis:d,ticks:g,bandSize:a,offset:i.offset,entry:$,index:z}),B=ce-le,H=i.size,F={x:S.left,y:ee,width:S.width,height:H},Math.abs(J)>0&&Math.abs(B)<Math.abs(J)){var Te=pi(B||J)*(Math.abs(J)-Math.abs(B));B+=Te}}if(X==null||ee==null||B==null||H==null)return null;var Ue=ia(ia({},$),{},{x:X,y:ee,width:B,height:H,value:v?te:te[1],payload:$,background:F,tooltipPosition:{x:X+B/2,y:ee+H/2},parentViewBox:D},I&&I[z]&&I[z].props);return Ue}).filter(Boolean)}function one(t){var e=ki(t,ine),n=oa();return R.createElement(dA,{id:e.id,type:"bar"},r=>R.createElement(R.Fragment,null,R.createElement(s5,{legendPayload:Yte(e)}),R.createElement(hA,{fn:$te,args:e}),R.createElement(l5,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:tG(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),R.createElement(ane,yc({},e,{id:r}))))}var t1=R.memo(one);t1.displayName="Bar";function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return(e=cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fne=(t,e)=>e,hne=(t,e,n)=>n,dne=(t,e,n,r)=>r,gne=(t,e,n,r,i)=>i,y0=we([pp,gne],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),mne=we([y0],t=>t?.maxBarSize),pne=(t,e,n,r,i,a)=>a,WR=(t,e,n)=>{var r=n??t;if(!mr(r))return Ki(r,e,0)},yne=we([fn,pp,fne,hne,dne],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),vne=(t,e,n,r)=>{var i=fn(t);return i==="horizontal"?cb(t,"yAxis",n,r):cb(t,"xAxis",e,r)},xne=(t,e,n)=>{var r=fn(t);return r==="horizontal"?YO(t,"xAxis",e):YO(t,"yAxis",n)},bne=(t,e,n)=>{var r={},i=t.filter(dp),a=t.filter(g=>g.stackId==null),u=i.reduce((g,v)=>(g[v.stackId]||(g[v.stackId]=[]),g[v.stackId].push(v),g),r),d=Object.entries(u).map(g=>{var[v,w]=g,S=w.map(D=>D.dataKey),I=WR(e,n,w[0].barSize);return{stackId:v,dataKeys:S,barSize:I}}),m=a.map(g=>{var v=[g.dataKey].filter(S=>S!=null),w=WR(e,n,g.barSize);return{stackId:void 0,dataKeys:v,barSize:w}});return[...d,...m]},wne=we([yne,tK,xne],bne),Ene=(t,e,n,r,i)=>{var a,u,d=y0(t,e,n,r,i);if(d!=null){var m=fn(t),g=R6(t),{maxBarSize:v}=d,w=mr(v)?g:v,S,I;return m==="horizontal"?(S=gc(t,"xAxis",e,r),I=dc(t,"xAxis",e,r)):(S=gc(t,"yAxis",n,r),I=dc(t,"yAxis",n,r)),(a=(u=kd(S,I,!0))!==null&&u!==void 0?u:w)!==null&&a!==void 0?a:0}},m5=(t,e,n,r)=>{var i=fn(t),a,u;return i==="horizontal"?(a=gc(t,"xAxis",e,r),u=dc(t,"xAxis",e,r)):(a=gc(t,"yAxis",n,r),u=dc(t,"yAxis",n,r)),kd(a,u)};function Ane(t,e,n,r,i){var a=r.length;if(!(a<1)){var u=Ki(t,n,0,!0),d,m=[];if(Qi(r[0].barSize)){var g=!1,v=n/a,w=r.reduce((L,$)=>L+($.barSize||0),0);w+=(a-1)*u,w>=n&&(w-=(a-1)*u,u=0),w>=n&&v>0&&(g=!0,v*=.9,w=a*v);var S=(n-w)/2>>0,I={offset:S-u,size:0};d=r.reduce((L,$)=>{var z,te={stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:I.offset+I.size+u,size:g?v:(z=$.barSize)!==null&&z!==void 0?z:0}},X=[...L,te];return I=X[X.length-1].position,X},m)}else{var D=Ki(e,n,0,!0);n-2*D-(a-1)*u<=0&&(u=0);var P=(n-2*D-(a-1)*u)/a;P>1&&(P>>=0);var M=Qi(i)?Math.min(P,i):P;d=r.reduce((L,$,z)=>[...L,{stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:D+(P+u)*z+(P-M)/2,size:M}}],m)}return d}}var Sne=(t,e,n,r,i,a,u)=>{var d=mr(u)?e:u,m=Ane(n,r,i!==a?i:a,t,d);return i!==a&&m!=null&&(m=m.map(g=>Hg(Hg({},g),{},{position:Hg(Hg({},g.position),{},{offset:g.position.offset-i/2})}))),m},Cne=we([wne,R6,eK,N6,Ene,m5,mne],Sne),_ne=(t,e,n,r)=>gc(t,"xAxis",e,r),Tne=(t,e,n,r)=>gc(t,"yAxis",n,r),Ine=(t,e,n,r)=>dc(t,"xAxis",e,r),One=(t,e,n,r)=>dc(t,"yAxis",n,r),Rne=we([Cne,y0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Nne=(t,e)=>{var n=TE(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(u=>u.key===n)}}}},Dne=we([vne,y0],Nne),Mne=we([ai,Hw,_ne,Tne,Ine,One,Rne,fn,cp,m5,Dne,y0,pne],(t,e,n,r,i,a,u,d,m,g,v,w,S)=>{var{chartData:I,dataStartIndex:D,dataEndIndex:P}=m;if(!(w==null||u==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||a==null||g==null)){var{data:M}=w,L;if(M!=null&&M.length>0?L=M:L=I?.slice(D,P+1),L!=null)return sne({layout:d,barSettings:w,pos:u,parentViewBox:e,bandSize:g,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:v,displayedData:L,offset:t,cells:S})}}),p5=t=>{var{chartData:e}=t,n=pr(),r=oa();return R.useEffect(()=>r?()=>{}:(n(rR(e)),()=>{n(rR(void 0))}),[e,n,r]),null},YR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},y5=ns({name:"brush",initialState:YR,reducers:{setBrushSettings(t,e){return e.payload==null?YR:e.payload}}}),{setBrushSettings:vle}=y5.actions,Pne=y5.reducer;function kne(t,e,n){return(e=Lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vA{static create(e){return new vA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+u}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}kne(vA,"EPS",1e-4);function Bne(t){return(t%180+180)%180}var Fne=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Bne(i),u=a*Math.PI/180,d=Math.atan(r/n),m=u>d&&u<Math.PI-d?r/Math.sin(u):n/Math.cos(u);return Math.abs(m)},Une={dots:[],areas:[],lines:[]},v5=ns({name:"referenceElements",initialState:Une,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Jo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Jo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Jo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:xle,removeDot:ble,addArea:wle,removeArea:Ele,addLine:Ale,removeLine:Sle}=v5.actions,Vne=v5.reducer,zne=R.createContext(void 0),Hne=t=>{var{children:e}=t,[n]=R.useState("".concat(Dd("recharts"),"-clip")),r=mA();if(r==null)return null;var{x:i,y:a,width:u,height:d}=r;return R.createElement(zne.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:d,width:u}))),e)};function zf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function x5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function qne(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Fne(r,n)}function Gne(t,e,n){var r=n==="width",{x:i,y:a,width:u,height:d}=t;return e===1?{start:r?i:a,end:r?i+u:a+d}:{start:r?i+u:a+d,end:r?i:a}}function nm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Wne(t,e){return x5(t,e+1)}function Yne(t,e,n,r,i){for(var a=(r||[]).slice(),{start:u,end:d}=e,m=0,g=1,v=u,w=function(){var D=r?.[m];if(D===void 0)return{v:x5(r,g)};var P=m,M,L=()=>(M===void 0&&(M=n(D,P)),M),$=D.coordinate,z=m===0||nm(t,$,L,v,d);z||(m=0,v=u,g+=1),z&&(v=$+t*(L()/2+i),m+=g)},S;g<=a.length;)if(S=w(),S)return S.v;return[]}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return(e=Xne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qne(t,e,n,r,i){for(var a=(r||[]).slice(),u=a.length,{start:d}=e,{end:m}=e,g=function(S){var I=a[S],D,P=()=>(D===void 0&&(D=n(I,S)),D);if(S===u-1){var M=t*(I.coordinate+t*P()/2-m);a[S]=I=Wi(Wi({},I),{},{tickCoord:M>0?I.coordinate-M*t:I.coordinate})}else a[S]=I=Wi(Wi({},I),{},{tickCoord:I.coordinate});var L=nm(t,I.tickCoord,P,d,m);L&&(m=I.tickCoord-t*(P()/2+i),a[S]=Wi(Wi({},I),{},{isShow:!0}))},v=u-1;v>=0;v--)g(v);return a}function Zne(t,e,n,r,i,a){var u=(r||[]).slice(),d=u.length,{start:m,end:g}=e;if(a){var v=r[d-1],w=n(v,d-1),S=t*(v.coordinate+t*w/2-g);u[d-1]=v=Wi(Wi({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate});var I=nm(t,v.tickCoord,()=>w,m,g);I&&(g=v.tickCoord-t*(w/2+i),u[d-1]=Wi(Wi({},v),{},{isShow:!0}))}for(var D=a?d-1:d,P=function($){var z=u[$],te,X=()=>(te===void 0&&(te=n(z,$)),te);if($===0){var ee=t*(z.coordinate-t*X()/2-m);u[$]=z=Wi(Wi({},z),{},{tickCoord:ee<0?z.coordinate-ee*t:z.coordinate})}else u[$]=z=Wi(Wi({},z),{},{tickCoord:z.coordinate});var B=nm(t,z.tickCoord,X,m,g);B&&(m=z.tickCoord+t*(X()/2+i),u[$]=Wi(Wi({},z),{},{isShow:!0}))},M=0;M<D;M++)P(M);return u}function xA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:u,orientation:d,interval:m,tickFormatter:g,unit:v,angle:w}=t;if(!i||!i.length||!r)return[];if(ft(m)||Ac.isSsr){var S;return(S=Wne(i,ft(m)?m:0))!==null&&S!==void 0?S:[]}var I=[],D=d==="top"||d==="bottom"?"width":"height",P=v&&D==="width"?vd(v,{fontSize:e,letterSpacing:n}):{width:0,height:0},M=(z,te)=>{var X=typeof g=="function"?g(z.value,te):z.value;return D==="width"?qne(vd(X,{fontSize:e,letterSpacing:n}),P,w):vd(X,{fontSize:e,letterSpacing:n})[D]},L=i.length>=2?pi(i[1].coordinate-i[0].coordinate):1,$=Gne(a,L,D);return m==="equidistantPreserveStart"?Yne(L,$,M,i,u):(m==="preserveStart"||m==="preserveStartEnd"?I=Zne(L,$,M,i,u,m==="preserveStartEnd"):I=Qne(L,$,M,i,u),I.filter(z=>z.isShow))}var Jne=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,u=0;if(e){Array.from(e).forEach(v=>{if(v){var w=v.getBoundingClientRect();w.width>u&&(u=w.width)}});var d=n?n.getBoundingClientRect().width:0,m=i+a,g=u+m+d+(n?r:0);return Math.round(g)}return 0},ere=["axisLine","width","height","className","hide","ticks"],tre=["viewBox"],nre=["viewBox"];function yb(t,e){if(t==null)return{};var n,r,i=rre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(null,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return typeof e=="symbol"?e:e+""}function sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function ore(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:u,axisLine:d,otherSvgProps:m}=t;if(!d)return null;var g=ri(ri(ri({},m),es(d)),{},{fill:"none"});if(a==="top"||a==="bottom"){var v=+(a==="top"&&!u||a==="bottom"&&u);g=ri(ri({},g),{},{x1:e,y1:n+v*i,x2:e+r,y2:n+v*i})}else{var w=+(a==="left"&&!u||a==="right"&&u);g=ri(ri({},g),{},{x1:e+w*r,y1:n,x2:e+w*r,y2:n+i})}return R.createElement("line",du({},g,{className:xn("recharts-cartesian-axis-line",lu(d,"className"))}))}function lre(t,e,n,r,i,a,u,d,m){var g,v,w,S,I,D,P=d?-1:1,M=t.tickSize||u,L=ft(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":g=v=t.coordinate,S=n+ +!d*i,w=S-P*M,D=w-P*m,I=L;break;case"left":w=S=t.coordinate,v=e+ +!d*r,g=v-P*M,I=g-P*m,D=L;break;case"right":w=S=t.coordinate,v=e+ +d*r,g=v+P*M,I=g+P*m,D=L;break;default:g=v=t.coordinate,S=n+ +d*i,w=S+P*M,D=w+P*m,I=L;break}return{line:{x1:g,y1:w,x2:v,y2:S},tick:{x:I,y:D}}}function cre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ure(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function fre(t){var{option:e,tickProps:n,value:r}=t,i,a=xn(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,ri(ri({},n),{},{className:a}));else if(typeof e=="function")i=e(ri(ri({},n),{},{className:a}));else{var u="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(u=xn(u,e?.className)),i=R.createElement(Ep,du({},n,{className:u}),r)}return i}function hre(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:u,padding:d,tickTextProps:m,orientation:g,mirror:v,x:w,y:S,width:I,height:D,tickSize:P,tickMargin:M,fontSize:L,letterSpacing:$,getTicksConfig:z,events:te}=t,X=xA(ri(ri({},z),{},{ticks:e}),L,$),ee=cre(g,v),B=ure(g,v),H=es(z),F=ou(n),J={};typeof r=="object"&&(J=r);var q=ri(ri({},H),{},{fill:"none"},J),K=X.map((U,ae)=>{var{line:re,tick:le}=lre(U,w,S,I,D,g,P,v,M),ce=ri(ri(ri(ri({textAnchor:ee,verticalAnchor:B},H),{},{stroke:"none",fill:i},F),le),{},{index:ae,payload:U,visibleTicksCount:X.length,tickFormatter:a,padding:d},m);return R.createElement(Pi,du({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},e0(te,U,ae)),r&&R.createElement("line",du({},q,re,{className:xn("recharts-cartesian-axis-tick-line",lu(r,"className"))})),n&&R.createElement(fre,{option:n,tickProps:ce,value:"".concat(typeof a=="function"?a(U.value,ae):U.value).concat(u||"")}))});return K.length>0?R.createElement("g",{className:"recharts-cartesian-axis-ticks"},K):null}var dre=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:u,ticks:d}=t,m=yb(t,ere),[g,v]=R.useState(""),[w,S]=R.useState(""),I=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var P;return Jne({ticks:I.current,label:(P=t.labelRef)===null||P===void 0?void 0:P.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var D=R.useCallback(P=>{if(P){var M=P.getElementsByClassName("recharts-cartesian-axis-tick-value");I.current=M;var L=M[0];if(L){var $=window.getComputedStyle(L),z=$.fontSize,te=$.letterSpacing;(z!==g||te!==w)&&(v(z),S(te))}}},[g,w]);return u||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(Pi,{className:xn("recharts-cartesian-axis",a),ref:D},R.createElement(ore,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:es(t)}),R.createElement(hre,{ticks:d,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:g,letterSpacing:w,getTicksConfig:t,events:m}),R.createElement(mJ,{x:t.x,y:t.y,width:t.width,height:t.height},R.createElement(CJ,{label:t.label,labelRef:t.labelRef}),t.children))}),gre=R.memo(dre,(t,e)=>{var{viewBox:n}=t,r=yb(t,tre),{viewBox:i}=e,a=yb(e,nre);return zf(n,i)&&zf(r,a)}),wA=R.forwardRef((t,e)=>{var n=ki(t,bA);return R.createElement(gre,du({},n,{ref:e}))});wA.displayName="CartesianAxis";var mre=["x1","y1","x2","y2","key"],pre=["offset"],yre=["xAxisId","yAxisId"],vre=["xAxisId","yAxisId"];function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(null,arguments)}function rm(t,e){if(t==null)return{};var n,r,i=Ere(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Are=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:u,ry:d}=t;return R.createElement("rect",{x:r,y:i,ry:d,width:a,height:u,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function b5(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:u,key:d}=e,m=rm(e,mre),g=es(m),{offset:v}=g,w=rm(g,pre);n=R.createElement("line",Qc({},w,{x1:r,y1:i,x2:a,y2:u,fill:"none",key:d}))}return n}function Sre(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:u}=t,d=rm(t,yre),m=i.map((g,v)=>{var w=Xi(Xi({},d),{},{x1:e,y1:g,x2:e+n,y2:g,key:"line-".concat(v),index:v});return b5(r,w)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function Cre(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:u}=t,d=rm(t,vre),m=i.map((g,v)=>{var w=Xi(Xi({},d),{},{x1:g,y1:e,x2:g,y2:e+n,key:"line-".concat(v),index:v});return b5(r,w)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function _re(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:u,horizontalPoints:d,horizontal:m=!0}=t;if(!m||!e||!e.length)return null;var g=d.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==g[0]&&g.unshift(0);var v=g.map((w,S)=>{var I=!g[S+1],D=I?i+u-w:g[S+1]-w;if(D<=0)return null;var P=S%e.length;return R.createElement("rect",{key:"react-".concat(S),y:w,x:r,height:D,width:a,stroke:"none",fill:e[P],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function Tre(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:u,height:d,verticalPoints:m}=t;if(!e||!n||!n.length)return null;var g=m.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==g[0]&&g.unshift(0);var v=g.map((w,S)=>{var I=!g[S+1],D=I?i+u-w:g[S+1]-w;if(D<=0)return null;var P=S%n.length;return R.createElement("rect",{key:"react-".concat(S),x:w,y:a,width:D,height:d,stroke:"none",fill:n[P],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var Ire=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return d8(xA(Xi(Xi(Xi({},bA),n),{},{ticks:g8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Ore=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return d8(xA(Xi(Xi(Xi({},bA),n),{},{ticks:g8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Rre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function yf(t){var e=Gw(),n=Ww(),r=w8(),i=Xi(Xi({},ki(t,Rre)),{},{x:ft(t.x)?t.x:r.left,y:ft(t.y)?t.y:r.top,width:ft(t.width)?t.width:r.width,height:ft(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:u,x:d,y:m,width:g,height:v,syncWithTicks:w,horizontalValues:S,verticalValues:I}=i,D=oa(),P=ct(F=>$O(F,"xAxis",a,D)),M=ct(F=>$O(F,"yAxis",u,D));if(!ft(g)||g<=0||!ft(v)||v<=0||!ft(d)||d!==+d||!ft(m)||m!==+m)return null;var L=i.verticalCoordinatesGenerator||Ire,$=i.horizontalCoordinatesGenerator||Ore,{horizontalPoints:z,verticalPoints:te}=i;if((!z||!z.length)&&typeof $=="function"){var X=S&&S.length,ee=$({yAxis:M?Xi(Xi({},M),{},{ticks:X?S:M.ticks}):void 0,width:e,height:n,offset:r},X?!0:w);k1(Array.isArray(ee),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ee,"]")),Array.isArray(ee)&&(z=ee)}if((!te||!te.length)&&typeof L=="function"){var B=I&&I.length,H=L({xAxis:P?Xi(Xi({},P),{},{ticks:B?I:P.ticks}):void 0,width:e,height:n,offset:r},B?!0:w);k1(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(te=H)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(Are,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(_re,Qc({},i,{horizontalPoints:z})),R.createElement(Tre,Qc({},i,{verticalPoints:te})),R.createElement(Sre,Qc({},i,{offset:r,horizontalPoints:z,xAxis:P,yAxis:M})),R.createElement(Cre,Qc({},i,{offset:r,verticalPoints:te,xAxis:P,yAxis:M})))}yf.displayName="CartesianGrid";var w5=(t,e,n,r)=>gc(t,"xAxis",e,r),E5=(t,e,n,r)=>dc(t,"xAxis",e,r),A5=(t,e,n,r)=>gc(t,"yAxis",n,r),S5=(t,e,n,r)=>dc(t,"yAxis",n,r),Nre=we([fn,w5,A5,E5,S5],(t,e,n,r,i)=>Ec(t,"xAxis")?kd(e,r,!1):kd(n,i,!1)),Dre=(t,e,n,r,i)=>i;function Mre(t){return t.type==="line"}var Pre=we([pp,Dre],(t,e)=>t.filter(Mre).find(n=>n.id===e)),kre=we([fn,w5,A5,E5,S5,Pre,Nre,cp],(t,e,n,r,i,a,u,d)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=d;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{dataKey:w,data:S}=a,I;if(S!=null&&S.length>0?I=S:I=m?.slice(g,v+1),I!=null)return iie({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:w,bandSize:u,displayedData:I})}});function Lre(t){var e=ou(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,u=Number(i),d=Number(a);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(d)||d<0)&&(d=r),{r:u,strokeWidth:d}}return{r:n,strokeWidth:r}}var jre=["id"],Bre=["type","layout","connectNulls","needClip"],Fre=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EA(t,e){if(t==null)return{};var n,r,i=Hre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(null,arguments)}var qre=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Zf(n,e),payload:t}]};function Gre(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:u,hide:d,unit:m}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Zf(u,e),hide:d,type:t.tooltipType,color:t.stroke,unit:m}}}var C5=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Wre(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Yre=(t,e,n)=>{var r=n.reduce((w,S)=>w+S);if(!r)return C5(e,t);for(var i=Math.floor(t/r),a=t%r,u=e-t,d=[],m=0,g=0;m<n.length;g+=n[m],++m)if(g+n[m]>a){d=[...n.slice(0,m),a-g];break}var v=d.length%2===0?[0,u]:[u];return[...Wre(n,i),...d,...v].map(w=>"".concat(w,"px")).join(", ")};function $re(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=xn("recharts-line-dot",typeof t!="boolean"?t.className:"");n=R.createElement(QP,gu({},e,{className:r}))}return n}function Xre(t,e){return t==null?!1:e?!0:t.length===1}function Kre(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:u}=r;if(!Xre(n,i))return null;var{id:d}=r,m=EA(r,jre),g=r5(i),v=es(m),w=UV(i),S=n.map((D,P)=>{var M=Xa(Xa(Xa({key:"dot-".concat(P),r:3},v),w),{},{index:P,cx:D.x,cy:D.y,dataKey:a,value:D.value,payload:D.payload,points:n});return $re(i,M)}),I={clipPath:u?"url(#clipPath-".concat(g?"":"dots-").concat(e,")"):void 0};return R.createElement(Pi,gu({className:"recharts-line-dots",key:"dots"},I),S)}function Qre(t){var{showLabels:e,children:n,points:r}=t,i=R.useMemo(()=>r?.map(a=>{var u={x:a.x,y:a.y,width:0,height:0};return Xa(Xa({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return R.createElement(XP,{value:e?i:null},n)}function ZR(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:u,layout:d,connectNulls:m,needClip:g}=a,v=EA(a,Bre),w=Xa(Xa({},sa(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(e,")"):void 0,points:r,type:u,layout:d,connectNulls:m,strokeDasharray:i??a.strokeDasharray});return R.createElement(R.Fragment,null,r?.length>1&&R.createElement($w,gu({},w,{pathRef:n})),R.createElement(Kre,{points:r,clipPathId:e,props:a}))}function Zre(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Jre(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:u,strokeDasharray:d,isAnimationActive:m,animationBegin:g,animationDuration:v,animationEasing:w,animateNewValues:S,width:I,height:D,onAnimationEnd:P,onAnimationStart:M}=n,L=i.current,$=a0(n,"recharts-line-"),[z,te]=R.useState(!1),X=!z,ee=R.useCallback(()=>{typeof P=="function"&&P(),te(!1)},[P]),B=R.useCallback(()=>{typeof M=="function"&&M(),te(!0)},[M]),H=Zre(r.current),F=a.current;return R.createElement(Qre,{points:u,showLabels:X},n.children,R.createElement(i0,{animationId:$,begin:g,duration:v,isActive:m,easing:w,onAnimationEnd:ee,onAnimationStart:B,key:$},J=>{var q=Or(F,H+F,J),K=Math.min(q,H),U;if(m)if(d){var ae="".concat(d).split(/[,\s]+/gim).map(ce=>parseFloat(ce));U=Yre(K,H,ae)}else U=C5(H,K);else U=d==null?void 0:String(d);if(L){var re=L.length/u.length,le=J===1?u:u.map((ce,Te)=>{var Ue=Math.floor(Te*re);if(L[Ue]){var oe=L[Ue];return Xa(Xa({},ce),{},{x:Or(oe.x,ce.x,J),y:Or(oe.y,ce.y,J)})}return S?Xa(Xa({},ce),{},{x:Or(I*2,ce.x,J),y:Or(D/2,ce.y,J)}):Xa(Xa({},ce),{},{x:ce.x,y:ce.y})});return i.current=le,R.createElement(ZR,{props:n,points:le,clipPathId:e,pathRef:r,strokeDasharray:U})}return J>0&&H>0&&(i.current=u,a.current=K),R.createElement(ZR,{props:n,points:u,clipPathId:e,pathRef:r,strokeDasharray:U})}),R.createElement(aA,{label:n.label}))}function eie(t){var{clipPathId:e,props:n}=t,r=R.useRef(null),i=R.useRef(0),a=R.useRef(null);return R.createElement(Jre,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var tie=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Kn(t.payload,e)});class nie extends R.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:u,top:d,left:m,width:g,height:v,id:w,needClip:S}=this.props;if(e)return null;var I=xn("recharts-line",i),D=w,{r:P,strokeWidth:M}=Lre(n),L=r5(n),$=P*2+M;return R.createElement(R.Fragment,null,R.createElement(Pi,{className:I},S&&R.createElement("defs",null,R.createElement(d5,{clipPathId:D,xAxisId:a,yAxisId:u}),!L&&R.createElement("clipPath",{id:"clipPath-dots-".concat(D)},R.createElement("rect",{x:m-$/2,y:d-$/2,width:g+$,height:v+$}))),R.createElement(h5,{xAxisId:a,yAxisId:u,data:r,dataPointFormatter:tie,errorBarOffset:0},R.createElement(eie,{props:this.props,clipPathId:D}))),R.createElement(wte,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ac.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function rie(t){var e=ki(t,_5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:u,connectNulls:d,dot:m,hide:g,isAnimationActive:v,label:w,legendType:S,xAxisId:I,yAxisId:D,id:P}=e,M=EA(e,Fre),{needClip:L}=yA(I,D),$=mA(),z=tp(),te=oa(),X=ct(J=>kre(J,I,D,te,P));if(z!=="horizontal"&&z!=="vertical"||X==null||$==null)return null;var{height:ee,width:B,x:H,y:F}=$;return R.createElement(nie,gu({},M,{id:P,connectNulls:d,dot:m,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:u,isAnimationActive:v,hide:g,label:w,legendType:S,xAxisId:I,yAxisId:D,points:X,layout:z,height:ee,width:B,left:H,top:F,needClip:L}))}function iie(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:u,bandSize:d,displayedData:m}=t;return m.map((g,v)=>{var w=Kn(g,u);if(e==="horizontal"){var S=E3({axis:n,ticks:i,bandSize:d,entry:g,index:v}),I=mr(w)?null:r.scale(w);return{x:S,y:I,value:w,payload:g}}var D=mr(w)?null:n.scale(w),P=E3({axis:r,ticks:a,bandSize:d,entry:g,index:v});return D==null||P==null?null:{x:D,y:P,value:w,payload:g}}).filter(Boolean)}function aie(t){var e=ki(t,_5),n=oa();return R.createElement(dA,{id:e.id,type:"line"},r=>R.createElement(R.Fragment,null,R.createElement(s5,{legendPayload:qre(e)}),R.createElement(hA,{fn:Gre,args:e}),R.createElement(l5,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),R.createElement(rie,gu({},e,{id:r}))))}var AA=R.memo(aie);AA.displayName="Line";var sie=["dangerouslySetInnerHTML","ticks"],oie=["id"],lie=["domain"],cie=["domain"];function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vb.apply(null,arguments)}function im(t,e){if(t==null)return{};var n,r,i=uie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fie(t){var e=pr();return R.useLayoutEffect(()=>(e(lte(t)),()=>{e(cte(t))}),[t,e]),null}var hie=t=>{var{xAxisId:e,className:n}=t,r=ct(Hw),i=oa(),a="xAxis",u=ct(M=>sh(M,a,e,i)),d=ct(M=>cP(M,a,e,i)),m=ct(M=>aP(M,e)),g=ct(M=>XK(M,e)),v=ct(M=>U6(M,e));if(m==null||g==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:S}=t,I=im(t,sie),{id:D}=v,P=im(v,oie);return R.createElement(wA,vb({},I,P,{scale:u,x:g.x,y:g.y,width:m.width,height:m.height,className:xn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:d}))},die={allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,height:qa.height,hide:!1,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tickCount:qa.tickCount,type:qa.type,xAxisId:0},gie=t=>{var e,n,r,i,a,u=ki(t,die);return R.createElement(R.Fragment,null,R.createElement(fie,{interval:(e=u.interval)!==null&&e!==void 0?e:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(a=u.tick)!==null&&a!==void 0?a:!0,tickFormatter:u.tickFormatter}),R.createElement(hie,u))},mie=(t,e)=>{var{domain:n}=t,r=im(t,lie),{domain:i}=e,a=im(e,cie);return zf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:zf({domain:n},{domain:i}):!1},vf=R.memo(gie,mie);vf.displayName="XAxis";var pie=["dangerouslySetInnerHTML","ticks"],yie=["id"],vie=["domain"],xie=["domain"];function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(null,arguments)}function am(t,e){if(t==null)return{};var n,r,i=bie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wie(t){var e=pr();return R.useLayoutEffect(()=>(e(ute(t)),()=>{e(fte(t))}),[t,e]),null}var Eie=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),u=R.useRef(null),d=ct(Hw),m=oa(),g=pr(),v="yAxis",w=ct(X=>sh(X,v,e,m)),S=ct(X=>sP(X,e)),I=ct(X=>QK(X,e)),D=ct(X=>cP(X,v,e,m)),P=ct(X=>V6(X,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!S||iA(i)||R.isValidElement(i)||P==null)){var X=a.current;if(X){var ee=X.getCalculatedWidth();Math.round(S.width)!==Math.round(ee)&&g(hte({id:e,width:ee}))}}},[D,S,g,i,e,r,P]),S==null||I==null||P==null)return null;var{dangerouslySetInnerHTML:M,ticks:L}=t,$=am(t,pie),{id:z}=P,te=am(P,yie);return R.createElement(wA,xb({},$,te,{ref:a,labelRef:u,scale:w,x:I.x,y:I.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:S.width,height:S.height,className:xn("recharts-".concat(v," ").concat(v),n),viewBox:d,ticks:D}))},Aie={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:Ga.allowDecimals,allowDuplicatedCategory:Ga.allowDuplicatedCategory,hide:!1,mirror:Ga.mirror,orientation:Ga.orientation,padding:Ga.padding,reversed:Ga.reversed,scale:Ga.scale,tickCount:Ga.tickCount,type:Ga.type,width:Ga.width,yAxisId:0},Sie=t=>{var e,n,r,i,a,u=ki(t,Aie);return R.createElement(R.Fragment,null,R.createElement(wie,{interval:(e=u.interval)!==null&&e!==void 0?e:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(i=u.minTickGap)!==null&&i!==void 0?i:5,tick:(a=u.tick)!==null&&a!==void 0?a:!0,tickFormatter:u.tickFormatter}),R.createElement(Eie,u))},Cie=(t,e)=>{var{domain:n}=t,r=am(t,vie),{domain:i}=e,a=am(e,xie);return zf(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:zf({domain:n},{domain:i}):!1},xf=R.memo(Sie,Cie);xf.displayName="YAxis";var e2={exports:{}},t2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR;function _ie(){if(JR)return t2;JR=1;var t=qf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,u=t.useMemo,d=t.useDebugValue;return t2.useSyncExternalStoreWithSelector=function(m,g,v,w,S){var I=i(null);if(I.current===null){var D={hasValue:!1,value:null};I.current=D}else D=I.current;I=u(function(){function M(X){if(!L){if(L=!0,$=X,X=w(X),S!==void 0&&D.hasValue){var ee=D.value;if(S(ee,X))return z=ee}return z=X}if(ee=z,n($,X))return ee;var B=w(X);return S!==void 0&&S(ee,B)?($=X,ee):($=X,z=B)}var L=!1,$,z,te=v===void 0?null:v;return[function(){return M(g())},te===null?void 0:function(){return M(te())}]},[g,v,w,S]);var P=r(m,I[0],I[1]);return a(function(){D.hasValue=!0,D.value=P},[P]),d(P),P},t2}var e4;function Tie(){return e4||(e4=1,e2.exports=_ie()),e2.exports}Tie();function Iie(t){t()}function Oie(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Iie(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var t4={notify(){},get:()=>[]};function Rie(t,e){let n,r=t4,i=0,a=!1;function u(P){v();const M=r.subscribe(P);let L=!1;return()=>{L||(L=!0,M(),w())}}function d(){r.notify()}function m(){D.onStateChange&&D.onStateChange()}function g(){return a}function v(){i++,n||(n=t.subscribe(m),r=Oie())}function w(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=t4)}function S(){a||(a=!0,v())}function I(){a&&(a=!1,w())}const D={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:S,tryUnsubscribe:I,getListeners:()=>r};return D}var Nie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Die=Nie(),Mie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pie=Mie(),kie=()=>Die||Pie?R.useLayoutEffect:R.useEffect,Lie=kie(),jie=Symbol.for("react-redux-context"),Bie=typeof globalThis<"u"?globalThis:{};function Fie(){if(!R.createContext)return{};const t=Bie[jie]??=new Map;let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var Uie=Fie();function Vie(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const m=Rie(i);return{store:i,subscription:m,getServerState:r?()=>r:void 0}},[i,r]),u=R.useMemo(()=>i.getState(),[i]);Lie(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,u]);const d=n||Uie;return R.createElement(d.Provider,{value:a},e)}var zie=Vie,Hie=(t,e)=>e,SA=we([Hie,fn,j6,oi,_P,yl,nZ,ai],oZ),CA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},T5=Rs("mouseClick"),I5=n0();I5.startListening({actionCreator:T5,effect:(t,e)=>{var n=t.payload,r=SA(e.getState(),CA(n));r?.activeIndex!=null&&e.dispatch(uQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var bb=Rs("mouseMove"),O5=n0();O5.startListening({actionCreator:bb,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=$E(r,r.tooltip.settings.shared),a=SA(r,CA(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(yP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(pP()))}});var n4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},R5=ns({name:"rootProps",initialState:n4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:n4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),qie=R5.reducer,{updateOptions:Gie}=R5.actions,N5=ns({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Wie}=N5.actions,Yie=N5.reducer,D5=Rs("keyDown"),M5=Rs("focus"),_A=n0();_A.startListening({actionCreator:D5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var u=Number(XE(i,lh(n))),d=yl(n);if(a==="Enter"){var m=Q1(n,"axis","hover",String(i.index));e.dispatch(fb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var g=tQ(n),v=g==="left-to-right"?1:-1,w=a==="ArrowRight"?1:-1,S=u+w*v;if(!(d==null||S>=d.length||S<0)){var I=Q1(n,"axis","hover",String(S));e.dispatch(fb({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:I}))}}}}});_A.startListening({actionCreator:M5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",u=Q1(n,"axis","hover",String(a));e.dispatch(fb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:u}))}}}});var Es=Rs("externalEvent"),P5=n0();P5.startListening({actionCreator:Es,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:WQ(n),activeDataKey:RP(n),activeIndex:mc(n),activeLabel:OP(n),activeTooltipIndex:mc(n),isTooltipActive:YQ(n)};t.payload.handler(r,t.payload.reactEvent)}}});var $ie=we([oh],t=>t.tooltipItemPayloads),Xie=we([$ie,m0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var u=e(a,n);return u}}}),k5=Rs("touchMove"),L5=n0();L5.startListening({actionCreator:k5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=$E(r,r.tooltip.settings.shared);if(i==="axis"){var a=SA(r,CA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(yP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0],m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var g=m.getAttribute(p8),v=(u=m.getAttribute(y8))!==null&&u!==void 0?u:void 0,w=Xie(e.getState(),g,v);e.dispatch(mP({activeDataKey:v,activeIndex:g,activeCoordinate:w}))}}});var Kie=UM({brush:Pne,cartesianAxis:dte,chartData:AZ,errorBars:Mte,graphicalItems:Dee,layout:Pq,legend:UG,options:vZ,polarAxis:WJ,polarOptions:Yie,referenceElements:Vne,rootProps:qie,tooltip:fQ}),Qie=function(e){return aq({reducer:Kie,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([I5.middleware,O5.middleware,_A.middleware,P5.middleware,L5.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(ZM({type:"raf"}))},devTools:Ac.devToolsEnabled})};function j5(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=oa(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=Qie(e));var u=jw;return R.createElement(zie,{context:u,store:a.current},n)}function B5(t){var{layout:e,margin:n}=t,r=pr(),i=oa();return R.useEffect(()=>{i||(r(Nq(e)),r(Rq(n)))},[r,i,e,n]),null}function F5(t){var e=pr();return R.useEffect(()=>{e(Gie(t))},[e,t]),null}var Zie=["children"];function Jie(t,e){if(t==null)return{};var n,r,i=eae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(null,arguments)}var tae={width:"100%",height:"100%",display:"block"},nae=R.forwardRef((t,e)=>{var n=Gw(),r=Ww(),i=C8();if(!jf(n)||!jf(r))return null;var{children:a,otherAttributes:u,title:d,desc:m}=t,g,v;return typeof u.tabIndex=="number"?g=u.tabIndex:g=i?0:void 0,typeof u.role=="string"?v=u.role:v=i?"application":void 0,R.createElement(Sw,sm({},u,{title:d,desc:m,role:v,tabIndex:g,width:n,height:r,style:tae,ref:e}),a)}),rae=t=>{var{children:e}=t,n=ct(Jm);if(!n)return null;var{width:r,height:i,y:a,x:u}=n;return R.createElement(Sw,{width:r,height:i,x:u,y:a},e)},r4=R.forwardRef((t,e)=>{var{children:n}=t,r=Jie(t,Zie),i=oa();return i?R.createElement(rae,null,n):R.createElement(nae,sm({ref:e},r),n)});function iae(){var t=pr(),[e,n]=R.useState(null),r=ct(cG);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Qi(a)&&a!==r&&t(Mq(a))}},[e,t,r]),n}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(null,arguments)}var cae=()=>(DZ(),null);function om(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var uae=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[a,u]=R.useState({containerWidth:om((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:om((r=t.style)===null||r===void 0?void 0:r.height)}),d=R.useCallback((g,v)=>{u(w=>{var S=Math.round(g),I=Math.round(v);return w.containerWidth===S&&w.containerHeight===I?w:{containerWidth:S,containerHeight:I}})},[]),m=R.useCallback(g=>{if(typeof e=="function"&&e(g),g!=null){var{width:v,height:w}=g.getBoundingClientRect();d(v,w);var S=D=>{var{width:P,height:M}=D[0].contentRect;d(P,M)},I=new ResizeObserver(S);I.observe(g),i.current=I}},[e,d]);return R.useEffect(()=>()=>{var g=i.current;g?.disconnect()},[d]),R.createElement(R.Fragment,null,R.createElement(np,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",mu({ref:m},t)))}),fae=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=R.useState({containerWidth:om(n),containerHeight:om(r)}),u=R.useCallback((m,g)=>{a(v=>{var w=Math.round(m),S=Math.round(g);return v.containerWidth===w&&v.containerHeight===S?v:{containerWidth:w,containerHeight:S}})},[]),d=R.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null){var{width:g,height:v}=m.getBoundingClientRect();u(g,v)}},[e,u]);return R.createElement(R.Fragment,null,R.createElement(np,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",mu({ref:d},t)))}),hae=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(np,{width:n,height:r}),R.createElement("div",mu({ref:e},t)))}),dae=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return sl(n)||sl(r)?R.createElement(fae,mu({},t,{ref:e})):R.createElement(hae,mu({},t,{ref:e}))});function gae(t){return t===!0?uae:dae}var mae=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:u,onDoubleClick:d,onMouseDown:m,onMouseEnter:g,onMouseLeave:v,onMouseMove:w,onMouseUp:S,onTouchEnd:I,onTouchMove:D,onTouchStart:P,style:M,width:L,responsive:$,dispatchTouchEvents:z=!0}=t,te=R.useRef(null),X=pr(),[ee,B]=R.useState(null),[H,F]=R.useState(null),J=iae(),q=qw(),K=q?.width>0?q.width:L,U=q?.height>0?q.height:i,ae=R.useCallback(Oe=>{J(Oe),typeof e=="function"&&e(Oe),B(Oe),F(Oe),Oe!=null&&(te.current=Oe)},[J,e,B,F]),re=R.useCallback(Oe=>{X(T5(Oe)),X(Es({handler:a,reactEvent:Oe}))},[X,a]),le=R.useCallback(Oe=>{X(bb(Oe)),X(Es({handler:g,reactEvent:Oe}))},[X,g]),ce=R.useCallback(Oe=>{X(pP()),X(Es({handler:v,reactEvent:Oe}))},[X,v]),Te=R.useCallback(Oe=>{X(bb(Oe)),X(Es({handler:w,reactEvent:Oe}))},[X,w]),Ue=R.useCallback(()=>{X(M5())},[X]),oe=R.useCallback(Oe=>{X(D5(Oe.key))},[X]),be=R.useCallback(Oe=>{X(Es({handler:u,reactEvent:Oe}))},[X,u]),Ie=R.useCallback(Oe=>{X(Es({handler:d,reactEvent:Oe}))},[X,d]),Le=R.useCallback(Oe=>{X(Es({handler:m,reactEvent:Oe}))},[X,m]),Ye=R.useCallback(Oe=>{X(Es({handler:S,reactEvent:Oe}))},[X,S]),at=R.useCallback(Oe=>{X(Es({handler:P,reactEvent:Oe}))},[X,P]),Ne=R.useCallback(Oe=>{z&&X(k5(Oe)),X(Es({handler:D,reactEvent:Oe}))},[X,z,D]),Bt=R.useCallback(Oe=>{X(Es({handler:I,reactEvent:Oe}))},[X,I]),lt=gae($);return R.createElement(LP.Provider,{value:ee},R.createElement(iM.Provider,{value:H},R.createElement(lt,{width:K??M?.width,height:U??M?.height,className:xn("recharts-wrapper",r),style:aae({position:"relative",cursor:"default",width:K,height:U},M),onClick:re,onContextMenu:be,onDoubleClick:Ie,onFocus:Ue,onKeyDown:oe,onMouseDown:Le,onMouseEnter:le,onMouseLeave:ce,onMouseMove:Te,onMouseUp:Ye,onTouchEnd:Bt,onTouchMove:Ne,onTouchStart:at,ref:ae},R.createElement(cae,null),n)))}),pae=["width","height","responsive","children","className","style","compact","title","desc"];function yae(t,e){if(t==null)return{};var n,r,i=vae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U5=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:u,style:d,compact:m,title:g,desc:v}=t,w=yae(t,pae),S=es(w);return m?R.createElement(R.Fragment,null,R.createElement(np,{width:n,height:r}),R.createElement(r4,{otherAttributes:S,title:g,desc:v},a)):R.createElement(mae,{className:u,style:d,width:n,height:r,responsive:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(r4,{otherAttributes:S,title:g,desc:v,ref:e},R.createElement(Hne,null,a)))});function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(null,arguments)}var xae={top:5,right:5,bottom:5,left:5},bae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},V5=R.forwardRef(function(e,n){var r,i=ki(e.categoricalChartProps,bae),{chartName:a,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:g}=e,v={chartName:a,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return R.createElement(j5,{preloadedState:{options:v},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:a},R.createElement(p5,{chartData:g.data}),R.createElement(B5,{layout:i.layout,margin:i.margin}),R.createElement(F5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(U5,wb({},i,{ref:n})))}),wae=["axis"],z5=R.forwardRef((t,e)=>R.createElement(V5,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wae,tooltipPayloadSearcher:rA,categoricalChartProps:t,ref:e})),Eae=["axis","item"],n2=R.forwardRef((t,e)=>R.createElement(V5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eae,tooltipPayloadSearcher:rA,categoricalChartProps:t,ref:e}));function Aae(t){var e=pr();return R.useEffect(()=>{e(Wie(t))},[e,t]),null}var Sae=["layout"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function Cae(t,e){if(t==null)return{};var n,r,i=_ae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tae={top:5,right:5,bottom:5,left:5},Iae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Tae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Oae=R.forwardRef(function(e,n){var r,i=ki(e.categoricalChartProps,Iae),{layout:a}=i,u=Cae(i,Sae),{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=e,w={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return R.createElement(j5,{preloadedState:{options:w},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},R.createElement(p5,{chartData:i.data}),R.createElement(B5,{layout:a,margin:i.margin}),R.createElement(F5,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),R.createElement(Aae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),R.createElement(U5,Eb({},u,{ref:n})))}),Rae=["item"],Nae={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Dae=R.forwardRef((t,e)=>{var n=ki(t,Nae);return R.createElement(Oae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Rae,tooltipPayloadSearcher:rA,categoricalChartProps:n,ref:e})});function Mae(){const[t,e]=R.useState(0),[n,r]=R.useState([]),[i,a]=R.useState([]),[u,d]=R.useState([]),[m,g]=R.useState([]),[v,w]=R.useState([]),[S,I]=R.useState([{name:"Pending",value:0},{name:"Approved",value:0},{name:"Rejected",value:0}]),[D,P]=R.useState([]),[M,L]=R.useState(()=>new Date().toISOString().slice(0,10)),[$,z]=R.useState(()=>new Date().toISOString().slice(0,10)),[te,X]=R.useState([]),[ee,B]=R.useState(!1),[H,F]=R.useState("");R.useEffect(()=>{(async()=>{try{const{totalSales:re,topCategories:le,dailyPaymentData:ce,paymentBreakdown:Te}=await jV({startDate:M,endDate:$});e(re||0),r(le||[]),a(ce||[]),d(Te||[]),await(async()=>{const Ne=await zt(Ze(Ve,"transactions"));let Bt=M?new Date(M):null,lt=$?new Date($):null;Bt&&Bt.setHours(0,0,0,0),lt&&lt.setHours(23,59,59,999);const Oe=De=>!Bt&&!lt?!0:!(Bt&&De<Bt||lt&&De>lt),nt={};Ne.forEach(De=>{const Je=De.data(),Qe=Je.date?.toDate?.()||new Date(Je.date||Date.now());if(!Oe(Qe)||(Je.status||"Completed")!=="Completed")return;const hn=Qe.toLocaleDateString(),It=Number(Je.amount||0);nt[hn]=(nt[hn]||0)+It});const st=Object.keys(nt).sort((De,Je)=>new Date(De).getTime()-new Date(Je).getTime()).map(De=>({date:De,totalSales:nt[De]}));w(st)})();const oe=await zt(Ze(Ve,"globalTransactions")),be={};oe.forEach(Ne=>{const Bt=Ne.data();if(Bt.promotype){const lt=Bt.promotype.trim();be[lt]=(be[lt]||0)+1}});const Ie=Object.keys(be).map(Ne=>({name:Ne,count:be[Ne]}));P(Ie);const Ye=(await zt(Ze(Ve,"topCustomers"))).docs.map(Ne=>({id:Ne.id,...Ne.data()})).sort((Ne,Bt)=>Ne.rank-Bt.rank);X(Ye),await(async()=>{const Ne=await zt(Ze(Ve,"transactions")),Bt=await zt(Ze(Ve,"customers")),lt=new Map;Bt.forEach(Qe=>{lt.set(Qe.id,Qe.data())});let Oe=M?new Date(M):null,nt=$?new Date($):null;Oe&&Oe.setHours(0,0,0,0),nt&&nt.setHours(23,59,59,999);const st=Qe=>!Oe&&!nt?!0:!(Oe&&Qe<Oe||nt&&Qe>nt),De=new Map;Ne.forEach(Qe=>{const ht=Qe.data(),hn=ht.date?.toDate?.()||new Date(ht.date||Date.now()),It=ht.status||"Completed";if(!st(hn)||It!=="Completed")return;const Mt=ht.customerId||ht.customerUid||null,At=Mt||ht.customerEmail||ht.customerName||`guest:${Qe.id}`,Pt=De.get(At)||{id:Mt||null,fullName:ht.customerName||ht.customerEmail||"Unknown",totalTransactions:0,totalPointsEarned:0,totalSpent:0,categories:{},visitDates:new Set};Pt.totalTransactions+=1,Pt.totalPointsEarned+=Number(ht.pointsEarned||0),Pt.totalSpent+=Number(ht.amount||0),Array.isArray(ht.items)?ht.items.forEach(la=>{const Ur=la.category||"Uncategorized";Pt.categories[Ur]=(Pt.categories[Ur]||0)+1}):ht.category&&(Pt.categories[ht.category]=(Pt.categories[ht.category]||0)+1);const $e=hn.toISOString().split("T")[0];Pt.visitDates.add($e),De.set(At,Pt)});const Je=Array.from(De.values()).map(Qe=>{const hn=(Qe.id?lt.get(Qe.id):null)?.fullName||Qe.fullName||"Unknown",It=Object.entries(Qe.categories).sort(($e,la)=>la[1]-$e[1])[0]?.[0]||"N/A",Mt=Math.round(Qe.totalPointsEarned*100)/100,At=Math.round(Qe.totalSpent*100)/100,Pt=Mt>=300?"Gold":Mt>=100?"Silver":"Bronze";return{id:Qe.id,fullName:hn,totalTransactions:Qe.totalTransactions,totalPointsEarned:Mt,totalVisits:Qe.visitDates.size,totalSpent:At,favoriteCategory:It,tier:Pt}});Je.sort((Qe,ht)=>ht.totalPointsEarned!==Qe.totalPointsEarned?ht.totalPointsEarned-Qe.totalPointsEarned:ht.totalSpent-Qe.totalSpent),g(Je.slice(0,10))})()}catch(re){console.error(" Error fetching dashboard data:",re)}})()},[M,$]),R.useEffect(()=>{const ae=Is(Ze(Ve,"walletRequests"),re=>{let le=0,ce=0,Te=0;re.forEach(Ue=>{const be=Ue.data().status?.toLowerCase();be==="pending"?le++:be==="approved"?ce++:be==="rejected"&&Te++}),I([{name:"Pending",value:le},{name:"Approved",value:ce},{name:"Rejected",value:Te}])});return()=>ae()},[]),R.useEffect(()=>{const ae=Gn(Ze(Ve,"walletRequests"),Fr("status","==","pending")),re=Is(ae,le=>{if(!le.empty){const ce=le.docs[0].data();ce?.email&&(F(ce.email),B(!0))}});return()=>re()},[]);const J=R.useMemo(()=>{const ae=v.reduce((re,le)=>re+le.totalSales,0);return ae>1e4?{text:" Excellent sales! Keep up the momentum.",color:"green"}:ae>5e3?{text:" Moderate sales, consider boosting promotions.",color:"orange"}:ae>0?{text:" Sales are low, consider running promotions.",color:"red"}:{text:"No sales data available for the selected period.",color:"gray"}},[v]),q=["#f83200ff","#f2ff00ff","#00ff48ff","#00e1ffff","#0008fdff","#ff00f2ff"],K=i.length>0?Object.keys(i.reduce((ae,re)=>({...ae,...re}),{})).filter(ae=>ae!=="date"):[],U=m.length>0?m:te;return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"dashboard-container",children:[T.jsx("h1",{className:"dashboard-title",children:"Dashboard Overview"}),T.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:16},children:[T.jsxs("label",{children:["Start:"," ",T.jsx("input",{type:"date",value:M,onChange:ae=>L(ae.target.value)})]}),T.jsxs("label",{children:["End:"," ",T.jsx("input",{type:"date",value:$,onChange:ae=>z(ae.target.value)})]})]}),T.jsxs("div",{className:"graphs-section",children:[T.jsxs("div",{className:"graph-card",style:{gridColumn:"1 / -1"},children:[T.jsxs("h3",{children:["Total Sales Overview: ",T.jsx("strong",{children:t.toLocaleString()})]}),T.jsx(gf,{width:"100%",height:260,children:T.jsxs(z5,{data:v,margin:{top:10,right:30,left:0,bottom:5},children:[T.jsx(yf,{strokeDasharray:"3 3"}),T.jsx(vf,{dataKey:"date"}),T.jsx(xf,{tickFormatter:ae=>ae.toLocaleString()}),T.jsx(mf,{formatter:ae=>ae.toLocaleString()}),T.jsx(AA,{type:"monotone",dataKey:"totalSales",stroke:"#b17a50",strokeWidth:3})]})}),T.jsx("p",{style:{marginTop:"10px",fontStyle:"italic",color:J.color},children:J.text})]}),T.jsxs("div",{className:"graph-card",children:[T.jsx("h3",{children:"Payment Method Breakdown"}),T.jsx(gf,{width:"100%",height:280,children:T.jsxs(Dae,{children:[T.jsx(c5,{data:u,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,label:!0,children:u.map((ae,re)=>T.jsx(iu,{fill:q[re%q.length]},`cell-${re}`))}),T.jsx(mf,{formatter:ae=>ae.toLocaleString()}),T.jsx(Sf,{})]})})]}),T.jsxs("div",{className:"graph-card",children:[T.jsx("h3",{children:"Wallet Request Status"}),T.jsx(gf,{width:"100%",height:280,children:T.jsxs(n2,{data:S,margin:{top:20,right:30,left:20,bottom:5},children:[T.jsx(yf,{strokeDasharray:"3 3"}),T.jsx(vf,{dataKey:"name"}),T.jsx(xf,{tickFormatter:ae=>ae.toLocaleString(),allowDecimals:!1}),T.jsx(mf,{formatter:ae=>ae.toLocaleString()}),T.jsx(Sf,{}),T.jsx(t1,{dataKey:"value",barSize:60,children:S.map((ae,re)=>T.jsx(iu,{fill:q[re%q.length]},`cell-${re}`))})]})})]}),T.jsxs("div",{className:"graph-card",children:[T.jsxs("h3",{children:["Top Selling Categories: ",M," - ",$]}),T.jsx(gf,{width:"100%",height:320,children:T.jsxs(n2,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[T.jsx(yf,{strokeDasharray:"3 3"}),T.jsx(vf,{dataKey:"name",tick:{fontSize:14,fill:"#4b2e16"}}),T.jsx(xf,{tickFormatter:ae=>ae.toLocaleString()}),T.jsx(mf,{formatter:ae=>ae.toLocaleString()}),T.jsx(t1,{dataKey:"count",fill:"#a46a3b",barSize:40,children:n.map((ae,re)=>T.jsx(iu,{fill:q[re%q.length]},`cell-${re}`))})]})})]}),T.jsxs("div",{className:"graph-card",children:[T.jsx("h3",{children:"Daily Payment Method Breakdown"}),T.jsx(gf,{width:"100%",height:320,children:T.jsxs(n2,{data:i,margin:{top:20,right:30,left:0,bottom:5},children:[T.jsx(yf,{strokeDasharray:"3 3"}),T.jsx(vf,{dataKey:"date"}),T.jsx(xf,{tickFormatter:ae=>ae.toLocaleString()}),T.jsx(mf,{formatter:ae=>ae.toLocaleString()}),T.jsx(Sf,{}),K.map((ae,re)=>T.jsx(t1,{dataKey:ae,stackId:"a",fill:q[re%q.length],barSize:40},ae))]})})]})]}),T.jsx("br",{}),T.jsxs("div",{className:"graph-card",children:[T.jsx("h3",{children:" Top Customers"}),T.jsxs("table",{className:"top-customers-table",style:{width:"100%",borderCollapse:"collapse"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{backgroundColor:"#e7d5c3"},children:[T.jsx("th",{style:{padding:"8px"},children:"#"}),T.jsx("th",{style:{padding:"8px"},children:"Name"}),T.jsx("th",{style:{padding:"8px"},children:"Tier"}),T.jsx("th",{style:{padding:"8px"},children:"Total Transactions"}),T.jsx("th",{style:{padding:"8px"},children:"Total Points Earned"}),T.jsx("th",{style:{padding:"8px"},children:"favorite Category"}),T.jsx("th",{style:{padding:"8px"},children:"Total Visit "})]})}),T.jsx("tbody",{children:U.length>0?U.map((ae,re)=>{let le="";return re===0?le="":re===1?le="":re===2?le="":le=re+1,T.jsxs("tr",{children:[T.jsx("td",{style:{textAlign:"center",fontSize:"1.3rem"},children:le}),T.jsx("td",{children:ae.fullName||"N/A"}),T.jsx("td",{children:ae.tier||"N/A"}),T.jsx("td",{style:{textAlign:"center"},children:ae.totalTransactions?.toLocaleString()||0}),T.jsx("td",{children:ae.totalPointsEarned?.toLocaleString()||0}),T.jsx("td",{children:ae.favoriteCategory||"N/A"}),T.jsx("td",{style:{textAlign:"center"},children:ae.totalVisits?.toLocaleString()||0})]},ae.id)}):T.jsx("tr",{children:T.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"10px"},children:"No data available"})})})]})]})]}),ee&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-box",children:[T.jsx("h2",{children:" New Pending Wallet Request!"}),T.jsx("p",{children:H}),T.jsx("button",{onClick:()=>B(!1),style:{background:"#763f00ff",color:"white"},children:"Close"})]})})]})}var Pae=Object.defineProperty,lm=Object.getOwnPropertySymbols,H5=Object.prototype.hasOwnProperty,q5=Object.prototype.propertyIsEnumerable,a4=(t,e,n)=>e in t?Pae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ab=(t,e)=>{for(var n in e||(e={}))H5.call(e,n)&&a4(t,n,e[n]);if(lm)for(var n of lm(e))q5.call(e,n)&&a4(t,n,e[n]);return t},Sb=(t,e)=>{var n={};for(var r in t)H5.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&lm)for(var r of lm(t))e.indexOf(r)<0&&q5.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var pu;(t=>{const e=class Kt{constructor(m,g,v,w){if(this.version=m,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],m<Kt.MIN_VERSION||m>Kt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let S=[];for(let D=0;D<this.size;D++)S.push(!1);for(let D=0;D<this.size;D++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const I=this.addEccAndInterleave(v);if(this.drawCodewords(I),w==-1){let D=1e9;for(let P=0;P<8;P++){this.applyMask(P),this.drawFormatBits(P);const M=this.getPenaltyScore();M<D&&(w=P,D=M),this.applyMask(P)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(m,g){const v=t.QrSegment.makeSegments(m);return Kt.encodeSegments(v,g)}static encodeBinary(m,g){const v=t.QrSegment.makeBytes(m);return Kt.encodeSegments([v],g)}static encodeSegments(m,g,v=1,w=40,S=-1,I=!0){if(!(Kt.MIN_VERSION<=v&&v<=w&&w<=Kt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let D,P;for(D=v;;D++){const z=Kt.getNumDataCodewords(D,g)*8,te=u.getTotalBits(m,D);if(te<=z){P=te;break}if(D>=w)throw new RangeError("Data too long")}for(const z of[Kt.Ecc.MEDIUM,Kt.Ecc.QUARTILE,Kt.Ecc.HIGH])I&&P<=Kt.getNumDataCodewords(D,z)*8&&(g=z);let M=[];for(const z of m){n(z.mode.modeBits,4,M),n(z.numChars,z.mode.numCharCountBits(D),M);for(const te of z.getData())M.push(te)}i(M.length==P);const L=Kt.getNumDataCodewords(D,g)*8;i(M.length<=L),n(0,Math.min(4,L-M.length),M),n(0,(8-M.length%8)%8,M),i(M.length%8==0);for(let z=236;M.length<L;z^=253)n(z,8,M);let $=[];for(;$.length*8<M.length;)$.push(0);return M.forEach((z,te)=>$[te>>>3]|=z<<7-(te&7)),new Kt(D,g,$,S)}getModule(m,g){return 0<=m&&m<this.size&&0<=g&&g<this.size&&this.modules[g][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),g=m.length;for(let v=0;v<g;v++)for(let w=0;w<g;w++)v==0&&w==0||v==0&&w==g-1||v==g-1&&w==0||this.drawAlignmentPattern(m[v],m[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const g=this.errorCorrectionLevel.formatBits<<3|m;let v=g;for(let S=0;S<10;S++)v=v<<1^(v>>>9)*1335;const w=(g<<10|v)^21522;i(w>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,r(w,S));this.setFunctionModule(8,7,r(w,6)),this.setFunctionModule(8,8,r(w,7)),this.setFunctionModule(7,8,r(w,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,r(w,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,r(w,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,r(w,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let v=0;v<12;v++)m=m<<1^(m>>>11)*7973;const g=this.version<<12|m;i(g>>>18==0);for(let v=0;v<18;v++){const w=r(g,v),S=this.size-11+v%3,I=Math.floor(v/3);this.setFunctionModule(S,I,w),this.setFunctionModule(I,S,w)}}drawFinderPattern(m,g){for(let v=-4;v<=4;v++)for(let w=-4;w<=4;w++){const S=Math.max(Math.abs(w),Math.abs(v)),I=m+w,D=g+v;0<=I&&I<this.size&&0<=D&&D<this.size&&this.setFunctionModule(I,D,S!=2&&S!=4)}}drawAlignmentPattern(m,g){for(let v=-2;v<=2;v++)for(let w=-2;w<=2;w++)this.setFunctionModule(m+w,g+v,Math.max(Math.abs(w),Math.abs(v))!=1)}setFunctionModule(m,g,v){this.modules[g][m]=v,this.isFunction[g][m]=!0}addEccAndInterleave(m){const g=this.version,v=this.errorCorrectionLevel;if(m.length!=Kt.getNumDataCodewords(g,v))throw new RangeError("Invalid argument");const w=Kt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][g],S=Kt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][g],I=Math.floor(Kt.getNumRawDataModules(g)/8),D=w-I%w,P=Math.floor(I/w);let M=[];const L=Kt.reedSolomonComputeDivisor(S);for(let z=0,te=0;z<w;z++){let X=m.slice(te,te+P-S+(z<D?0:1));te+=X.length;const ee=Kt.reedSolomonComputeRemainder(X,L);z<D&&X.push(0),M.push(X.concat(ee))}let $=[];for(let z=0;z<M[0].length;z++)M.forEach((te,X)=>{(z!=P-S||X>=D)&&$.push(te[z])});return i($.length==I),$}drawCodewords(m){if(m.length!=Math.floor(Kt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let w=0;w<this.size;w++)for(let S=0;S<2;S++){const I=v-S,P=(v+1&2)==0?this.size-1-w:w;!this.isFunction[P][I]&&g<m.length*8&&(this.modules[P][I]=r(m[g>>>3],7-(g&7)),g++)}}i(g==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let v=0;v<this.size;v++){let w;switch(m){case 0:w=(v+g)%2==0;break;case 1:w=g%2==0;break;case 2:w=v%3==0;break;case 3:w=(v+g)%3==0;break;case 4:w=(Math.floor(v/3)+Math.floor(g/2))%2==0;break;case 5:w=v*g%2+v*g%3==0;break;case 6:w=(v*g%2+v*g%3)%2==0;break;case 7:w=((v+g)%2+v*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][v]&&w&&(this.modules[g][v]=!this.modules[g][v])}}getPenaltyScore(){let m=0;for(let S=0;S<this.size;S++){let I=!1,D=0,P=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[S][M]==I?(D++,D==5?m+=Kt.PENALTY_N1:D>5&&m++):(this.finderPenaltyAddHistory(D,P),I||(m+=this.finderPenaltyCountPatterns(P)*Kt.PENALTY_N3),I=this.modules[S][M],D=1);m+=this.finderPenaltyTerminateAndCount(I,D,P)*Kt.PENALTY_N3}for(let S=0;S<this.size;S++){let I=!1,D=0,P=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[M][S]==I?(D++,D==5?m+=Kt.PENALTY_N1:D>5&&m++):(this.finderPenaltyAddHistory(D,P),I||(m+=this.finderPenaltyCountPatterns(P)*Kt.PENALTY_N3),I=this.modules[M][S],D=1);m+=this.finderPenaltyTerminateAndCount(I,D,P)*Kt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let I=0;I<this.size-1;I++){const D=this.modules[S][I];D==this.modules[S][I+1]&&D==this.modules[S+1][I]&&D==this.modules[S+1][I+1]&&(m+=Kt.PENALTY_N2)}let g=0;for(const S of this.modules)g=S.reduce((I,D)=>I+(D?1:0),g);const v=this.size*this.size,w=Math.ceil(Math.abs(g*20-v*10)/v)-1;return i(0<=w&&w<=9),m+=w*Kt.PENALTY_N4,i(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let v=[6];for(let w=this.size-7;v.length<m;w-=g)v.splice(1,0,w);return v}}static getNumRawDataModules(m){if(m<Kt.MIN_VERSION||m>Kt.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*m+128)*m+64;if(m>=2){const v=Math.floor(m/7)+2;g-=(25*v-10)*v-55,m>=7&&(g-=36)}return i(208<=g&&g<=29648),g}static getNumDataCodewords(m,g){return Math.floor(Kt.getNumRawDataModules(m)/8)-Kt.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m]*Kt.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let g=[];for(let w=0;w<m-1;w++)g.push(0);g.push(1);let v=1;for(let w=0;w<m;w++){for(let S=0;S<g.length;S++)g[S]=Kt.reedSolomonMultiply(g[S],v),S+1<g.length&&(g[S]^=g[S+1]);v=Kt.reedSolomonMultiply(v,2)}return g}static reedSolomonComputeRemainder(m,g){let v=g.map(w=>0);for(const w of m){const S=w^v.shift();v.push(0),g.forEach((I,D)=>v[D]^=Kt.reedSolomonMultiply(I,S))}return v}static reedSolomonMultiply(m,g){if(m>>>8||g>>>8)throw new RangeError("Byte out of range");let v=0;for(let w=7;w>=0;w--)v=v<<1^(v>>>7)*285,v^=(g>>>w&1)*m;return i(v>>>8==0),v}finderPenaltyCountPatterns(m){const g=m[1];i(g<=this.size*3);const v=g>0&&m[2]==g&&m[3]==g*3&&m[4]==g&&m[5]==g;return(v&&m[0]>=g*4&&m[6]>=g?1:0)+(v&&m[6]>=g*4&&m[0]>=g?1:0)}finderPenaltyTerminateAndCount(m,g,v){return m&&(this.finderPenaltyAddHistory(g,v),g=0),g+=this.size,this.finderPenaltyAddHistory(g,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(m,g){g[0]==0&&(m+=this.size),g.pop(),g.unshift(m)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(d,m,g){if(m<0||m>31||d>>>m)throw new RangeError("Value out of range");for(let v=m-1;v>=0;v--)g.push(d>>>v&1)}function r(d,m){return(d>>>m&1)!=0}function i(d){if(!d)throw new Error("Assertion error")}const a=class Tr{constructor(m,g,v){if(this.mode=m,this.numChars=g,this.bitData=v,g<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(m){let g=[];for(const v of m)n(v,8,g);return new Tr(Tr.Mode.BYTE,m.length,g)}static makeNumeric(m){if(!Tr.isNumeric(m))throw new RangeError("String contains non-numeric characters");let g=[];for(let v=0;v<m.length;){const w=Math.min(m.length-v,3);n(parseInt(m.substring(v,v+w),10),w*3+1,g),v+=w}return new Tr(Tr.Mode.NUMERIC,m.length,g)}static makeAlphanumeric(m){if(!Tr.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],v;for(v=0;v+2<=m.length;v+=2){let w=Tr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v))*45;w+=Tr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v+1)),n(w,11,g)}return v<m.length&&n(Tr.ALPHANUMERIC_CHARSET.indexOf(m.charAt(v)),6,g),new Tr(Tr.Mode.ALPHANUMERIC,m.length,g)}static makeSegments(m){return m==""?[]:Tr.isNumeric(m)?[Tr.makeNumeric(m)]:Tr.isAlphanumeric(m)?[Tr.makeAlphanumeric(m)]:[Tr.makeBytes(Tr.toUtf8ByteArray(m))]}static makeEci(m){let g=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,g);else if(m<16384)n(2,2,g),n(m,14,g);else if(m<1e6)n(6,3,g),n(m,21,g);else throw new RangeError("ECI assignment value out of range");return new Tr(Tr.Mode.ECI,0,g)}static isNumeric(m){return Tr.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return Tr.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,g){let v=0;for(const w of m){const S=w.mode.numCharCountBits(g);if(w.numChars>=1<<S)return 1/0;v+=4+S+w.bitData.length}return v}static toUtf8ByteArray(m){m=encodeURI(m);let g=[];for(let v=0;v<m.length;v++)m.charAt(v)!="%"?g.push(m.charCodeAt(v)):(g.push(parseInt(m.substring(v+1,v+3),16)),v+=2);return g}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=a;t.QrSegment=a})(pu||(pu={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(pu||(pu={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(pu||(pu={}));var bf=pu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var kae={L:bf.QrCode.Ecc.LOW,M:bf.QrCode.Ecc.MEDIUM,Q:bf.QrCode.Ecc.QUARTILE,H:bf.QrCode.Ecc.HIGH},G5=128,W5="L",Y5="#FFFFFF",$5="#000000",X5=!1,K5=1,Lae=4,jae=0,Bae=.1;function Q5(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(u,d){if(!u&&a!==null){n.push(`M${a+e} ${i+e}h${d-a}v1H${a+e}z`),a=null;return}if(d===r.length-1){if(!u)return;a===null?n.push(`M${d+e},${i+e} h1v1H${d+e}z`):n.push(`M${a+e},${i+e} h${d+1-a}v1H${a+e}z`);return}u&&a===null&&(a=d)})}),n.join("")}function Z5(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function Fae(t,e,n,r){if(r==null)return null;const i=t.length+n*2,a=Math.floor(e*Bae),u=i/e,d=(r.width||a)*u,m=(r.height||a)*u,g=r.x==null?t.length/2-d/2:r.x*u,v=r.y==null?t.length/2-m/2:r.y*u,w=r.opacity==null?1:r.opacity;let S=null;if(r.excavate){let D=Math.floor(g),P=Math.floor(v),M=Math.ceil(d+g-D),L=Math.ceil(m+v-P);S={x:D,y:P,w:M,h:L}}const I=r.crossOrigin;return{x:g,y:v,h:m,w:d,excavation:S,opacity:w,crossOrigin:I}}function Uae(t,e){return e!=null?Math.max(Math.floor(e),0):t?Lae:jae}function J5({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:u,boostLevel:d}){let m=Hn.useMemo(()=>{const D=(Array.isArray(t)?t:[t]).reduce((P,M)=>(P.push(...bf.QrSegment.makeSegments(M)),P),[]);return bf.QrCode.encodeSegments(D,kae[e],n,void 0,void 0,d)},[t,e,n,d]);const{cells:g,margin:v,numCells:w,calculatedImageSettings:S}=Hn.useMemo(()=>{let I=m.getModules();const D=Uae(r,i),P=I.length+D*2,M=Fae(I,u,D,a);return{cells:I,margin:D,numCells:P,calculatedImageSettings:M}},[m,u,a,r,i]);return{qrcode:m,margin:v,cells:g,numCells:w,calculatedImageSettings:S}}var Vae=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),zae=Hn.forwardRef(function(e,n){const r=e,{value:i,size:a=G5,level:u=W5,bgColor:d=Y5,fgColor:m=$5,includeMargin:g=X5,minVersion:v=K5,boostLevel:w,marginSize:S,imageSettings:I}=r,P=Sb(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:M}=P,L=Sb(P,["style"]),$=I?.src,z=Hn.useRef(null),te=Hn.useRef(null),X=Hn.useCallback(ae=>{z.current=ae,typeof n=="function"?n(ae):n&&(n.current=ae)},[n]),[ee,B]=Hn.useState(!1),{margin:H,cells:F,numCells:J,calculatedImageSettings:q}=J5({value:i,level:u,minVersion:v,boostLevel:w,includeMargin:g,marginSize:S,imageSettings:I,size:a});Hn.useEffect(()=>{if(z.current!=null){const ae=z.current,re=ae.getContext("2d");if(!re)return;let le=F;const ce=te.current,Te=q!=null&&ce!==null&&ce.complete&&ce.naturalHeight!==0&&ce.naturalWidth!==0;Te&&q.excavation!=null&&(le=Z5(F,q.excavation));const Ue=window.devicePixelRatio||1;ae.height=ae.width=a*Ue;const oe=a/J*Ue;re.scale(oe,oe),re.fillStyle=d,re.fillRect(0,0,J,J),re.fillStyle=m,Vae?re.fill(new Path2D(Q5(le,H))):F.forEach(function(be,Ie){be.forEach(function(Le,Ye){Le&&re.fillRect(Ye+H,Ie+H,1,1)})}),q&&(re.globalAlpha=q.opacity),Te&&re.drawImage(ce,q.x+H,q.y+H,q.w,q.h)}}),Hn.useEffect(()=>{B(!1)},[$]);const K=Ab({height:a,width:a},M);let U=null;return $!=null&&(U=Hn.createElement("img",{src:$,key:$,style:{display:"none"},onLoad:()=>{B(!0)},ref:te,crossOrigin:q?.crossOrigin})),Hn.createElement(Hn.Fragment,null,Hn.createElement("canvas",Ab({style:K,height:a,width:a,ref:X,role:"img"},L)),U)});zae.displayName="QRCodeCanvas";var cm=Hn.forwardRef(function(e,n){const r=e,{value:i,size:a=G5,level:u=W5,bgColor:d=Y5,fgColor:m=$5,includeMargin:g=X5,minVersion:v=K5,boostLevel:w,title:S,marginSize:I,imageSettings:D}=r,P=Sb(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:M,cells:L,numCells:$,calculatedImageSettings:z}=J5({value:i,level:u,minVersion:v,boostLevel:w,includeMargin:g,marginSize:I,imageSettings:D,size:a});let te=L,X=null;D!=null&&z!=null&&(z.excavation!=null&&(te=Z5(L,z.excavation)),X=Hn.createElement("image",{href:D.src,height:z.h,width:z.w,x:z.x+M,y:z.y+M,preserveAspectRatio:"none",opacity:z.opacity,crossOrigin:z.crossOrigin}));const ee=Q5(te,M);return Hn.createElement("svg",Ab({height:a,width:a,viewBox:`0 0 ${$} ${$}`,ref:n,role:"img"},P),!!S&&Hn.createElement("title",null,S),Hn.createElement("path",{fill:d,d:`M0,0 h${$}v${$}H0z`,shapeRendering:"crispEdges"}),Hn.createElement("path",{fill:m,d:ee,shapeRendering:"crispEdges"}),X)});cm.displayName="QRCodeSVG";function Hae(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const qae=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function sc(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let lf=null;function e9(t={}){return lf||(t.includeStyleProperties?(lf=t.includeStyleProperties,lf):(lf=sc(window.getComputedStyle(document.documentElement)),lf))}function um(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Gae(t){const e=um(t,"border-left-width"),n=um(t,"border-right-width");return t.clientWidth+e+n}function Wae(t){const e=um(t,"border-top-width"),n=um(t,"border-bottom-width");return t.clientHeight+e+n}function t9(t,e={}){const n=e.width||Gae(t),r=e.height||Wae(t);return{width:n,height:r}}function Yae(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const za=16384;function $ae(t){(t.width>za||t.height>za)&&(t.width>za&&t.height>za?t.width>t.height?(t.height*=za/t.width,t.width=za):(t.width*=za/t.height,t.height=za):t.width>za?(t.height*=za/t.width,t.width=za):(t.width*=za/t.height,t.height=za))}function fm(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function Xae(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Kae(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(t),Xae(i)}const _a=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||_a(n,e)};function Qae(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Zae(t,e){return e9(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function Jae(t,e,n,r){const i=`.${t}:${e}`,a=n.cssText?Qae(n):Zae(n,r);return document.createTextNode(`${i}{${a}}`)}function s4(t,e,n,r){const i=window.getComputedStyle(t,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const u=qae();try{e.className=`${e.className} ${u}`}catch{return}const d=document.createElement("style");d.appendChild(Jae(u,n,i,r)),e.appendChild(d)}function ese(t,e,n){s4(t,e,":before",n),s4(t,e,":after",n)}const o4="application/font-woff",l4="image/jpeg",tse={woff:o4,woff2:o4,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:l4,jpeg:l4,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function nse(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function TA(t){const e=nse(t).toLowerCase();return tse[e]||""}function rse(t){return t.split(/,/)[1]}function Cb(t){return t.search(/^(data:)/)!==-1}function ise(t,e){return`data:${e};base64,${t}`}async function n9(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,u)=>{const d=new FileReader;d.onerror=u,d.onloadend=()=>{try{a(n({res:r,result:d.result}))}catch(m){u(m)}},d.readAsDataURL(i)})}const r2={};function ase(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function IA(t,e,n){const r=ase(t,e,n.includeQueryParams);if(r2[r]!=null)return r2[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const a=await n9(t,n.fetchRequestInit,({res:u,result:d})=>(e||(e=u.headers.get("Content-Type")||""),rse(d)));i=ise(a,e)}catch(a){i=n.imagePlaceholder||"";let u=`Failed to fetch resource: ${t}`;a&&(u=typeof a=="string"?a:a.message),u&&console.warn(u)}return r2[r]=i,i}async function sse(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):fm(e)}async function ose(t,e){if(t.currentSrc){const a=document.createElement("canvas"),u=a.getContext("2d");a.width=t.clientWidth,a.height=t.clientHeight,u?.drawImage(t,0,0,a.width,a.height);const d=a.toDataURL();return fm(d)}const n=t.poster,r=TA(n),i=await IA(n,r,e);return fm(i)}async function lse(t,e){var n;try{if(!((n=t?.contentDocument)===null||n===void 0)&&n.body)return await Cp(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function cse(t,e){return _a(t,HTMLCanvasElement)?sse(t):_a(t,HTMLVideoElement)?ose(t,e):_a(t,HTMLIFrameElement)?lse(t,e):t.cloneNode(r9(t))}const use=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",r9=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function fse(t,e,n){var r,i;if(r9(e))return e;let a=[];return use(t)&&t.assignedNodes?a=sc(t.assignedNodes()):_a(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?a=sc(t.contentDocument.body.childNodes):a=sc(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),a.length===0||_a(t,HTMLVideoElement)||await a.reduce((u,d)=>u.then(()=>Cp(d,n)).then(m=>{m&&e.appendChild(m)}),Promise.resolve()),e}function hse(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):e9(n).forEach(a=>{let u=i.getPropertyValue(a);a==="font-size"&&u.endsWith("px")&&(u=`${Math.floor(parseFloat(u.substring(0,u.length-2)))-.1}px`),_a(t,HTMLIFrameElement)&&a==="display"&&u==="inline"&&(u="block"),a==="d"&&e.getAttribute("d")&&(u=`path(${e.getAttribute("d")})`),r.setProperty(a,u,i.getPropertyPriority(a))})}function dse(t,e){_a(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),_a(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function gse(t,e){if(_a(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function mse(t,e,n){return _a(e,Element)&&(hse(t,e,n),ese(t,e,n),dse(t,e),gse(t,e)),e}async function pse(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let a=0;a<n.length;a++){const d=n[a].getAttribute("xlink:href");if(d){const m=t.querySelector(d),g=document.querySelector(d);!m&&g&&!r[d]&&(r[d]=await Cp(g,e,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",u=document.createElementNS(a,"svg");u.setAttribute("xmlns",a),u.style.position="absolute",u.style.width="0",u.style.height="0",u.style.overflow="hidden",u.style.display="none";const d=document.createElementNS(a,"defs");u.appendChild(d);for(let m=0;m<i.length;m++)d.appendChild(i[m]);t.appendChild(u)}return t}async function Cp(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>cse(r,e)).then(r=>fse(t,r,e)).then(r=>mse(t,r,e)).then(r=>pse(r,e))}const i9=/url\((['"]?)([^'"]+?)\1\)/g,yse=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,vse=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function xse(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function bse(t){const e=[];return t.replace(i9,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Cb(n))}async function wse(t,e,n,r,i){try{const a=n?Hae(e,n):e,u=TA(e);let d;return i||(d=await IA(a,u,r)),t.replace(xse(e),`$1${d}$3`)}catch{}return t}function Ese(t,{preferredFontFormat:e}){return e?t.replace(vse,n=>{for(;;){const[r,,i]=yse.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function a9(t){return t.search(i9)!==-1}async function s9(t,e,n){if(!a9(t))return t;const r=Ese(t,n);return bse(r).reduce((a,u)=>a.then(d=>wse(d,u,e,n)),Promise.resolve(r))}async function cf(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const a=await s9(i,null,n);return e.style.setProperty(t,a,e.style.getPropertyPriority(t)),!0}return!1}async function Ase(t,e){await cf("background",t,e)||await cf("background-image",t,e),await cf("mask",t,e)||await cf("-webkit-mask",t,e)||await cf("mask-image",t,e)||await cf("-webkit-mask-image",t,e)}async function Sse(t,e){const n=_a(t,HTMLImageElement);if(!(n&&!Cb(t.src))&&!(_a(t,SVGImageElement)&&!Cb(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await IA(r,TA(r),e);await new Promise((a,u)=>{t.onload=a,t.onerror=e.onImageErrorHandler?(...m)=>{try{a(e.onImageErrorHandler(...m))}catch(g){u(g)}}:u;const d=t;d.decode&&(d.decode=a),d.loading==="lazy"&&(d.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function Cse(t,e){const r=sc(t.childNodes).map(i=>o9(i,e));await Promise.all(r).then(()=>t)}async function o9(t,e){_a(t,Element)&&(await Ase(t,e),await Sse(t,e),await Cse(t,e))}function _se(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const c4={};async function u4(t){let e=c4[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},c4[t]=e,e}async function f4(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async u=>{let d=u.replace(r,"$1");return d.startsWith("https://")||(d=new URL(d,t.url).href),n9(d,e.fetchRequestInit,({result:m})=>(n=n.replace(u,`url(${m})`),[u,m]))});return Promise.all(a).then(()=>n)}function h4(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=i.exec(r);if(m===null)break;e.push(m[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(u,"gi");for(;;){let m=a.exec(r);if(m===null){if(m=d.exec(r),m===null)break;a.lastIndex=d.lastIndex}else d.lastIndex=a.lastIndex;e.push(m[0])}return e}async function Tse(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{sc(i.cssRules||[]).forEach((a,u)=>{if(a.type===CSSRule.IMPORT_RULE){let d=u+1;const m=a.href,g=u4(m).then(v=>f4(v,e)).then(v=>h4(v).forEach(w=>{try{i.insertRule(w,w.startsWith("@import")?d+=1:i.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:w,error:S})}})).catch(v=>{console.error("Error loading remote css",v.toString())});r.push(g)}})}catch(a){const u=t.find(d=>d.href==null)||document.styleSheets[0];i.href!=null&&r.push(u4(i.href).then(d=>f4(d,e)).then(d=>h4(d).forEach(m=>{u.insertRule(m,u.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{sc(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function Ise(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>a9(e.style.getPropertyValue("src")))}async function Ose(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=sc(t.ownerDocument.styleSheets),r=await Tse(n,e);return Ise(r)}function l9(t){return t.trim().replace(/["']/g,"")}function Rse(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{e.add(l9(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(t),e}async function Nse(t,e){const n=await Ose(t,e),r=Rse(t);return(await Promise.all(n.filter(a=>r.has(l9(a.style.fontFamily))).map(a=>{const u=a.parentStyleSheet?a.parentStyleSheet.href:null;return s9(a.cssText,u,e)}))).join(`
`)}async function Dse(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Nse(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function Mse(t,e={}){const{width:n,height:r}=t9(t,e),i=await Cp(t,e,!0);return await Dse(i,e),await o9(i,e),_se(i,e),await Kae(i,n,r)}async function Pse(t,e={}){const{width:n,height:r}=t9(t,e),i=await Mse(t,e),a=await fm(i),u=document.createElement("canvas"),d=u.getContext("2d"),m=e.pixelRatio||Yae(),g=e.canvasWidth||n,v=e.canvasHeight||r;return u.width=g*m,u.height=v*m,e.skipAutoScale||$ae(u),u.style.width=`${g}`,u.style.height=`${v}`,e.backgroundColor&&(d.fillStyle=e.backgroundColor,d.fillRect(0,0,u.width,u.height)),d.drawImage(a,0,0,u.width,u.height),u}async function kse(t,e={}){return(await Pse(t,e)).toDataURL()}function Lse({customers:t,onView:e,onDelete:n}){const[r,i]=R.useState(null),a=R.useRef(null),u=()=>{a.current&&kse(a.current,{cacheBust:!0}).then(d=>{const m=document.createElement("a");m.download="qr-code.png",m.href=d,m.click()}).catch(d=>console.error("Error downloading QR:",d))};return T.jsxs(T.Fragment,{children:[T.jsxs("table",{className:"customer-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"QR"}),T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Mobile"}),T.jsx("th",{children:"Tier"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Wallet"}),T.jsx("th",{children:"Points"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:t.map(d=>T.jsxs("tr",{children:[T.jsx("td",{children:d.email?T.jsx("div",{style:{cursor:"pointer"},onClick:()=>i(d.email),children:T.jsx(cm,{value:d.email,size:48,bgColor:"#ffffff",fgColor:"#000000",level:"H"})}):T.jsx("span",{children:"N/A"})}),T.jsx("td",{children:d.fullName}),T.jsx("td",{children:d.mobile}),T.jsx("td",{children:d.tier}),T.jsx("td",{children:d.status}),T.jsxs("td",{children:["",d.wallet]}),T.jsx("td",{children:d.points}),T.jsxs("td",{children:[T.jsx("button",{className:"btn view",onClick:()=>e(d),style:{background:"#50d635ff",color:"white"},children:"View"}),T.jsx("button",{className:"btn delete",onClick:()=>n(d.id),style:{background:"#ff4848ff",color:"white"},children:"Delete"})]})]},d.id))})]}),r&&T.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>i(null),children:T.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:10,textAlign:"center"},onClick:d=>d.stopPropagation(),children:[T.jsx("div",{ref:a,children:T.jsx(cm,{value:r,size:180,bgColor:"#ffffff",fgColor:"#000000",level:"H"})}),T.jsxs("div",{style:{marginTop:15},children:[T.jsx("button",{onClick:u,style:{marginRight:10,background:"#50d635ff",color:"white"},children:"Download"}),T.jsx("button",{onClick:()=>i(null),style:{background:"#f8f8f8ff",color:"red"},children:" Close"})]})]})})]})}const jse=async t=>{try{const e=t.trim(),n=Gn(Ze(Ve,"customers"),Fr("mobile","==",e));return!(await zt(n)).empty}catch(e){throw console.error("Error checking mobile number:",e),e}},Bse=async t=>{const e=Gn(Ze(Ve,"customers"),Fr("email","==",t));return!(await zt(e)).empty};function Fse({onAdd:t,onClose:e}){const[n,r]=R.useState(""),[i,a]=R.useState(""),[u,d]=R.useState(""),[m,g]=R.useState(""),[v,w]=R.useState(""),[S,I]=R.useState(!1),D=async()=>{if(!n.trim()||!i.trim()||!u.trim()){alert("Last Name, First Name, and Email are required");return}const P=u.trim(),M=m.trim();if(!/^\S+@\S+\.\S+$/.test(P)){alert("Please enter a valid email address");return}if(M&&!/^09\d{9}$/.test(M)){alert("Please enter a valid mobile number (11 digits starting with 09)");return}I(!0);try{if(await Bse(P)){alert("This email is already registered."),I(!1);return}if(M&&await jse(M)){alert("This mobile number is already registered."),I(!1);return}const $={fullName:`${i.trim()} ${n.trim()}`,lastName:n.trim(),firstName:i.trim(),email:P,mobile:M,wallet:0,gender:v||void 0},z=await t({...$,id:P});z.success?(alert("Customer added successfully!"),e()):alert("Error adding customer: "+z.error)}catch(L){console.error(" Error saving customer:",L),alert("Something went wrong. Please try again.")}finally{I(!1)}};return T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-content",children:[T.jsx("h3",{children:"Add Customer"}),T.jsx("input",{type:"text",placeholder:"Last Name",value:n,onChange:P=>r(P.target.value),className:"input"}),T.jsx("input",{type:"text",placeholder:"First Name",value:i,onChange:P=>a(P.target.value),className:"input"}),T.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:P=>d(P.target.value),className:"input"}),T.jsx("input",{type:"text",placeholder:"Mobile Number (optional)",value:m,onChange:P=>g(P.target.value),className:"input",maxLength:11}),T.jsxs("select",{value:v,onChange:P=>w(P.target.value),className:"picker",children:[T.jsx("option",{value:"",children:"Select Gender"}),T.jsx("option",{value:"Male",children:"Male"}),T.jsx("option",{value:"Female",children:"Female"})]}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{className:"btn",onClick:D,disabled:S,style:{marginLeft:10,background:"#50d635ff",color:"white"},children:S?"Saving...":"Save"}),T.jsx("button",{className:"btn danger",onClick:e,disabled:S,style:{marginLeft:10,background:"#ff2c2cff",color:"white"},children:"Cancel"})]})]})})}function Use({customer:t,onClose:e}){return T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-content",children:[T.jsx("h3",{children:"Customer Details"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Name:"})," ",t.fullName]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Mobile:"})," ",t.mobile]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",t.email]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Tier:"})," ",t.tier]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Status:"})," ",t.status]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Points:"})," ",t.points]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Favorite Category:"})," ",t.favoriteCategory]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Wallet:"})," ",t.wallet]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Date Joined:"})," ",t.dateJoined||"N/A"]}),t.email&&T.jsx(cm,{value:t.email,size:128}),T.jsx("br",{}),T.jsx("button",{className:"btn",onClick:e,style:{marginLeft:10,background:"#5b1818ff",color:"white"},children:"Close"})]})})}const Vse=async t=>{const e=Gn(Ze(Ve,"customers"),Fr("email","==",t));return!(await zt(e)).empty},zse=async t=>{if(!t)return!1;const e=Gn(Ze(Ve,"customers"),Fr("mobile","==",t));return!(await zt(e)).empty},Hse=async t=>{try{if(!t.email)throw new Error("Email is required");const e=t.email.trim(),n=t.mobile?.trim()||"";if(await Vse(e))throw new Error("This email is already registered.");if(n&&await zse(n))throw new Error("This mobile number is already registered.");const i=e,a=Date.now().toString().slice(-4);return await Fm(bt(Ve,"customers",e),{customerNumber:a,fullName:t.fullName,email:e,mobile:n,wallet:t.wallet||0,tier:"Bronze",status:"Inactive",points:0,qrCode:i,createdAt:En(),favoriteCategory:t.favoriteCategory||"",gender:t.gender||"",totalTransactions:0,totalVisits:0,LastVisit:null,totalSpent:0}),{success:!0,id:e,qrValue:i}}catch(e){return console.error(" Error adding customer:",e),{success:!1,error:e.message}}};function qse(){const[t,e]=R.useState([]),[n,r]=R.useState({tier:"All",status:"All",mobile:""}),[i,a]=R.useState(null),[u,d]=R.useState(!1);R.useEffect(()=>{const w=Is(Ze(Ve,"customers"),S=>{const I=S.docs.map(D=>{const P=D.data(),M=P.createdAt?P.createdAt.toDate().toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}):"N/A";return{id:D.id,...P,dateJoined:M}});e(I)},S=>console.error("Error fetching customers:",S));return()=>w()},[]);const m=async w=>{if(!w.email){alert("Email is required to generate QR code");return}const S=await Hse(w);S.success?alert("Customer added successfully!"):alert("Error adding customer: "+S.error)},g=async w=>{window.confirm("Are you sure you want to delete this customer?")&&(await wu(bt(Ve,"customers",w)),e(S=>S.filter(I=>I.id!==w)))},v=R.useMemo(()=>t.filter(w=>{const S=n.tier==="All"||w.tier===n.tier,I=n.status==="All"||w.status===n.status,D=w.mobile.toLowerCase().includes(n.mobile.toLowerCase());return S&&I&&D}),[t,n]);return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"customer-container",children:[T.jsx("h2",{className:"title",children:"Customer Management"}),T.jsx("button",{className:"btn add",onClick:()=>d(!0),style:{background:"#5b1818ff",color:"white"},children:"+ Add Customer"}),T.jsxs("div",{className:"filters",children:[T.jsxs("select",{value:n.tier,onChange:w=>r(S=>({...S,tier:w.target.value})),children:[T.jsx("option",{value:"All",children:"All Tiers"}),T.jsx("option",{value:"Bronze",children:"Bronze"}),T.jsx("option",{value:"Silver",children:"Silver"}),T.jsx("option",{value:"Gold",children:"Gold"})]}),T.jsxs("select",{value:n.status,onChange:w=>r(S=>({...S,status:w.target.value})),children:[T.jsx("option",{value:"All",children:"All Status"}),T.jsx("option",{value:"Active",children:"Active"}),T.jsx("option",{value:"Inactive",children:"Inactive"})]}),T.jsx("input",{type:"text",placeholder:"Search by Mobile",value:n.mobile,onChange:w=>r(S=>({...S,mobile:w.target.value}))})]}),T.jsx(Lse,{customers:v,onView:a,onDelete:g}),i&&T.jsx(Use,{customer:i,onClose:()=>a(null)}),u&&T.jsx(Fse,{onClose:()=>d(!1),onAdd:m})]})]})}var tt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var d4=new Map([[tt.QR_CODE,"QR_CODE"],[tt.AZTEC,"AZTEC"],[tt.CODABAR,"CODABAR"],[tt.CODE_39,"CODE_39"],[tt.CODE_93,"CODE_93"],[tt.CODE_128,"CODE_128"],[tt.DATA_MATRIX,"DATA_MATRIX"],[tt.MAXICODE,"MAXICODE"],[tt.ITF,"ITF"],[tt.EAN_13,"EAN_13"],[tt.EAN_8,"EAN_8"],[tt.PDF_417,"PDF_417"],[tt.RSS_14,"RSS_14"],[tt.RSS_EXPANDED,"RSS_EXPANDED"],[tt.UPC_A,"UPC_A"],[tt.UPC_E,"UPC_E"],[tt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),g4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(g4||(g4={}));function Gse(t){return Object.values(tt).includes(t)}var vc;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(vc||(vc={}));var Vs=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[vc.SCAN_TYPE_CAMERA,vc.SCAN_TYPE_FILE],t}(),c9=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!d4.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,d4.get(e))},t}(),m4=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),_b;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_b||(_b={}));var u9=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:_b.UNKWOWN_ERROR}},t}(),f9=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function lo(t){return typeof t>"u"||t===null}function Wse(t,e,n){return t>n?n:t<e?e:t}var wf=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Rn=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),p4=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),h9=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(e),d=0,m=u;d<m.length;d++){var g=m[d];if(a.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},t}(),hd={exports:{}},Yse=hd.exports,y4;function $se(){return y4||(y4=1,function(t,e){(function(n,r){r(e)})(Yse,function(n){function r(W){return W==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,o){W.__proto__=o}||function(W,o){for(var c in o)o.hasOwnProperty(c)&&(W[c]=o[c])};function a(W,o){i(W,o);function c(){this.constructor=W}W.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}function u(W,o){var c=Object.setPrototypeOf;c?c(W,o):W.__proto__=o}function d(W,o){o===void 0&&(o=W.constructor);var c=Error.captureStackTrace;c&&c(W,o)}var m=function(W){a(o,W);function o(c){var f=this.constructor,p=W.call(this,c)||this;return Object.defineProperty(p,"name",{value:f.name,enumerable:!1}),u(p,f.prototype),d(p),p}return o}(Error);class g extends m{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}g.kind="Exception";class v extends g{}v.kind="ArgumentException";class w extends g{}w.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,c){return this.binarizer.getBlackRow(o,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,c,f,p){const y=this.binarizer.getLuminanceSource().crop(o,c,f,p);return new S(this.binarizer.createBinarizer(y))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class I extends g{static getChecksumInstance(){return new I}}I.kind="ChecksumException";class D{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(o,c,f,p,y){for(;y--;)f[p++]=o[c++]}static currentTimeMillis(){return Date.now()}}class M extends g{}M.kind="IndexOutOfBoundsException";class L extends M{constructor(o=void 0,c=void 0){super(c),this.index=o,this.message=c}}L.kind="ArrayIndexOutOfBoundsException";class ${static fill(o,c){for(let f=0,p=o.length;f<p;f++)o[f]=c}static fillWithin(o,c,f,p){$.rangeCheck(o.length,c,f);for(let y=c;y<f;y++)o[y]=p}static rangeCheck(o,c,f){if(c>f)throw new w("fromIndex("+c+") > toIndex("+f+")");if(c<0)throw new L(c);if(f>o)throw new L(f)}static asList(...o){return o}static create(o,c,f){return Array.from({length:o}).map(y=>Array.from({length:c}).fill(f))}static createInt32Array(o,c,f){return Array.from({length:o}).map(y=>Int32Array.from({length:c}).fill(f))}static equals(o,c){if(!o||!c||!o.length||!c.length||o.length!==c.length)return!1;for(let f=0,p=o.length;f<p;f++)if(o[f]!==c[f])return!1;return!0}static hashCode(o){if(o===null)return 0;let c=1;for(const f of o)c=31*c+f;return c}static fillUint8Array(o,c){for(let f=0;f!==o.length;f++)o[f]=c}static copyOf(o,c){return o.slice(0,c)}static copyOfUint8Array(o,c){if(o.length<=c){const f=new Uint8Array(c);return f.set(o),f}return o.slice(0,c)}static copyOfRange(o,c,f){const p=f-c,y=new Int32Array(p);return P.arraycopy(o,c,y,0,p),y}static binarySearch(o,c,f){f===void 0&&(f=$.numberComparator);let p=0,y=o.length-1;for(;p<=y;){const b=y+p>>1,E=f(c,o[b]);if(E>0)p=b+1;else if(E<0)y=b-1;else return b}return-p-1}static numberComparator(o,c){return o-c}}class z{static numberOfTrailingZeros(o){let c;if(o===0)return 32;let f=31;return c=o<<16,c!==0&&(f-=16,o=c),c=o<<8,c!==0&&(f-=8,o=c),c=o<<4,c!==0&&(f-=4,o=c),c=o<<2,c!==0&&(f-=2,o=c),f-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let c=1;return o>>>16||(c+=16,o<<=16),o>>>24||(c+=8,o<<=8),o>>>28||(c+=4,o<<=4),o>>>30||(c+=2,o<<=2),c-=o>>>31,c}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,c){return Math.trunc(o/c)}static parseInt(o,c=void 0){return parseInt(o,c)}}z.MIN_VALUE_32_BITS=-2147483648,z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class te{constructor(o,c){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,c==null?this.bits=te.makeArray(o):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const c=te.makeArray(o);P.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const c=this.size;if(o>=c)return c;const f=this.bits;let p=Math.floor(o/32),y=f[p];y&=~((1<<(o&31))-1);const b=f.length;for(;y===0;){if(++p===b)return c;y=f[p]}const E=p*32+z.numberOfTrailingZeros(y);return E>c?c:E}getNextUnset(o){const c=this.size;if(o>=c)return c;const f=this.bits;let p=Math.floor(o/32),y=~f[p];y&=~((1<<(o&31))-1);const b=f.length;for(;y===0;){if(++p===b)return c;y=~f[p]}const E=p*32+z.numberOfTrailingZeros(y);return E>c?c:E}setBulk(o,c){this.bits[Math.floor(o/32)]=c}setRange(o,c){if(c<o||o<0||c>this.size)throw new w;if(c===o)return;c--;const f=Math.floor(o/32),p=Math.floor(c/32),y=this.bits;for(let b=f;b<=p;b++){const E=b>f?0:o&31,N=(2<<(b<p?31:c&31))-(1<<E);y[b]|=N}}clear(){const o=this.bits.length,c=this.bits;for(let f=0;f<o;f++)c[f]=0}isRange(o,c,f){if(c<o||o<0||c>this.size)throw new w;if(c===o)return!0;c--;const p=Math.floor(o/32),y=Math.floor(c/32),b=this.bits;for(let E=p;E<=y;E++){const _=E>p?0:o&31,j=(2<<(E<y?31:c&31))-(1<<_)&4294967295;if((b[E]&j)!==(f?j:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,c){if(c<0||c>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let f=c;f>0;f--)this.appendBit((o>>f-1&1)===1)}appendBitArray(o){const c=o.size;this.ensureCapacity(this.size+c);for(let f=0;f<c;f++)this.appendBit(o.get(f))}xor(o){if(this.size!==o.size)throw new w("Sizes don't match");const c=this.bits;for(let f=0,p=c.length;f<p;f++)c[f]^=o.bits[f]}toBytes(o,c,f,p){for(let y=0;y<p;y++){let b=0;for(let E=0;E<8;E++)this.get(o)&&(b|=1<<7-E),o++;c[f+y]=b}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),f=c+1,p=this.bits;for(let y=0;y<f;y++){let b=p[y];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,o[c-y]=b}if(this.size!==f*32){const y=f*32-this.size;let b=o[0]>>>y;for(let E=1;E<f;E++){const _=o[E];b|=_<<32-y,o[E-1]=b,b=_>>>y}o[f-1]=b}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof te))return!1;const c=o;return this.size===c.size&&$.equals(this.bits,c.bits)}hashCode(){return 31*this.size+$.hashCode(this.bits)}toString(){let o="";for(let c=0,f=this.size;c<f;c++)(c&7)===0&&(o+=" "),o+=this.get(c)?"X":".";return o}clone(){return new te(this.size,this.bits.slice())}}var X;(function(W){W[W.OTHER=0]="OTHER",W[W.PURE_BARCODE=1]="PURE_BARCODE",W[W.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",W[W.TRY_HARDER=3]="TRY_HARDER",W[W.CHARACTER_SET=4]="CHARACTER_SET",W[W.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",W[W.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",W[W.ASSUME_GS1=7]="ASSUME_GS1",W[W.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",W[W.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",W[W.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var ee=X;class B extends g{static getFormatInstance(){return new B}}B.kind="FormatException";var H;(function(W){W[W.Cp437=0]="Cp437",W[W.ISO8859_1=1]="ISO8859_1",W[W.ISO8859_2=2]="ISO8859_2",W[W.ISO8859_3=3]="ISO8859_3",W[W.ISO8859_4=4]="ISO8859_4",W[W.ISO8859_5=5]="ISO8859_5",W[W.ISO8859_6=6]="ISO8859_6",W[W.ISO8859_7=7]="ISO8859_7",W[W.ISO8859_8=8]="ISO8859_8",W[W.ISO8859_9=9]="ISO8859_9",W[W.ISO8859_10=10]="ISO8859_10",W[W.ISO8859_11=11]="ISO8859_11",W[W.ISO8859_13=12]="ISO8859_13",W[W.ISO8859_14=13]="ISO8859_14",W[W.ISO8859_15=14]="ISO8859_15",W[W.ISO8859_16=15]="ISO8859_16",W[W.SJIS=16]="SJIS",W[W.Cp1250=17]="Cp1250",W[W.Cp1251=18]="Cp1251",W[W.Cp1252=19]="Cp1252",W[W.Cp1256=20]="Cp1256",W[W.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",W[W.UTF8=22]="UTF8",W[W.ASCII=23]="ASCII",W[W.Big5=24]="Big5",W[W.GB18030=25]="GB18030",W[W.EUC_KR=26]="EUC_KR"})(H||(H={}));class F{constructor(o,c,f,...p){this.valueIdentifier=o,this.name=f,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=p,F.VALUE_IDENTIFIER_TO_ECI.set(o,this),F.NAME_TO_ECI.set(f,this);const y=this.values;for(let b=0,E=y.length;b!==E;b++){const _=y[b];F.VALUES_TO_ECI.set(_,this)}for(const b of p)F.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new B("incorect value");const c=F.VALUES_TO_ECI.get(o);if(c===void 0)throw new B("incorect value");return c}static getCharacterSetECIByName(o){const c=F.NAME_TO_ECI.get(o);if(c===void 0)throw new B("incorect value");return c}equals(o){if(!(o instanceof F))return!1;const c=o;return this.getName()===c.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(H.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(H.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(H.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(H.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(H.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(H.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(H.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(H.Big5,28,"Big5"),F.GB18030=new F(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(H.EUC_KR,30,"EUC_KR","EUC-KR");class J extends g{}J.kind="UnsupportedOperationException";class q{static decode(o,c){const f=this.encodingName(c);return this.customDecoder?this.customDecoder(o,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(o,f):new TextDecoder(f).decode(o)}static shouldDecodeOnFallback(o){return!q.isBrowser()&&o==="ISO-8859-1"}static encode(o,c){const f=this.encodingName(c);return this.customEncoder?this.customEncoder(o,f):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof F?o:F.getCharacterSetECIByName(o)}static decodeFallback(o,c){const f=this.encodingCharacterSet(c);if(q.isDecodeFallbackSupported(f)){let p="";for(let y=0,b=o.length;y<b;y++){let E=o[y].toString(16);E.length<2&&(E="0"+E),p+="%"+E}return decodeURIComponent(p)}if(f.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new J(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(F.UTF8)||o.equals(F.ISO8859_1)||o.equals(F.ASCII)}static encodeFallback(o){const f=btoa(unescape(encodeURIComponent(o))).split(""),p=[];for(let y=0;y<f.length;y++)p.push(f[y].charCodeAt(0));return new Uint8Array(p)}}class K{static castAsNonUtf8Char(o,c=null){const f=c?c.getName():this.ISO88591;return q.decode(new Uint8Array([o]),f)}static guessEncoding(o,c){if(c!=null&&c.get(ee.CHARACTER_SET)!==void 0)return c.get(ee.CHARACTER_SET).toString();const f=o.length;let p=!0,y=!0,b=!0,E=0,_=0,N=0,j=0,Y=0,Q=0,se=0,fe=0,he=0,ye=0,Ae=0;const He=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let qe=0;qe<f&&(p||y||b);qe++){const ze=o[qe]&255;b&&(E>0?(ze&128)===0?b=!1:E--:(ze&128)!==0&&((ze&64)===0?b=!1:(E++,(ze&32)===0?_++:(E++,(ze&16)===0?N++:(E++,(ze&8)===0?j++:b=!1))))),p&&(ze>127&&ze<160?p=!1:ze>159&&(ze<192||ze===215||ze===247)&&Ae++),y&&(Y>0?ze<64||ze===127||ze>252?y=!1:Y--:ze===128||ze===160||ze>239?y=!1:ze>160&&ze<224?(Q++,fe=0,se++,se>he&&(he=se)):ze>127?(Y++,se=0,fe++,fe>ye&&(ye=fe)):(se=0,fe=0))}return b&&E>0&&(b=!1),y&&Y>0&&(y=!1),b&&(He||_+N+j>0)?K.UTF8:y&&(K.ASSUME_SHIFT_JIS||he>=3||ye>=3)?K.SHIFT_JIS:p&&y?he===2&&Q===2||Ae*10>=f?K.SHIFT_JIS:K.ISO88591:p?K.ISO88591:y?K.SHIFT_JIS:b?K.UTF8:K.PLATFORM_DEFAULT_ENCODING}static format(o,...c){let f=-1;function p(b,E,_,N,j,Y){if(b==="%%")return"%";if(c[++f]===void 0)return;b=N?parseInt(N.substr(1)):void 0;let Q=j?parseInt(j.substr(1)):void 0,se;switch(Y){case"s":se=c[f];break;case"c":se=c[f][0];break;case"f":se=parseFloat(c[f]).toFixed(b);break;case"p":se=parseFloat(c[f]).toPrecision(b);break;case"e":se=parseFloat(c[f]).toExponential(b);break;case"x":se=parseInt(c[f]).toString(Q||16);break;case"d":se=parseFloat(parseInt(c[f],Q||10).toPrecision(b)).toFixed(0);break}se=typeof se=="object"?JSON.stringify(se):(+se).toString(Q);let fe=parseInt(_),he=_&&_[0]+""=="0"?"0":" ";for(;se.length<fe;)se=E!==void 0?se+he:he+se;return se}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,p)}static getBytes(o,c){return q.encode(o,c)}static getCharCode(o,c=0){return o.charCodeAt(c)}static getCharAt(o){return String.fromCharCode(o)}}K.SHIFT_JIS=F.SJIS.getName(),K.GB2312="GB2312",K.ISO88591=F.ISO8859_1.getName(),K.EUC_JP="EUC_JP",K.UTF8=F.UTF8.getName(),K.PLATFORM_DEFAULT_ENCODING=K.UTF8,K.ASSUME_SHIFT_JIS=!1;class U{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=K.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,c,f){for(let p=c;c<c+f;p++)this.append(o[p]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+1)}substring(o,c){return this.value.substring(o,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+c.length)}}class ae{constructor(o,c,f,p){if(this.width=o,this.height=c,this.rowSize=f,this.bits=p,c==null&&(c=o),this.height=c,o<1||c<1)throw new w("Both dimensions must be greater than 0");f==null&&(f=Math.floor((o+31)/32)),this.rowSize=f,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const c=o.length,f=o[0].length,p=new ae(f,c);for(let y=0;y<c;y++){const b=o[y];for(let E=0;E<f;E++)b[E]&&p.set(E,y)}return p}static parseFromString(o,c,f){if(o===null)throw new w("stringRepresentation cannot be null");const p=new Array(o.length);let y=0,b=0,E=-1,_=0,N=0;for(;N<o.length;)if(o.charAt(N)===`
`||o.charAt(N)==="\r"){if(y>b){if(E===-1)E=y-b;else if(y-b!==E)throw new w("row lengths do not match");b=y,_++}N++}else if(o.substring(N,N+c.length)===c)N+=c.length,p[y]=!0,y++;else if(o.substring(N,N+f.length)===f)N+=f.length,p[y]=!1,y++;else throw new w("illegal character encountered: "+o.substring(N));if(y>b){if(E===-1)E=y-b;else if(y-b!==E)throw new w("row lengths do not match");_++}const j=new ae(E,_);for(let Y=0;Y<y;Y++)p[Y]&&j.set(Math.floor(Y%E),Math.floor(Y/E));return j}get(o,c){const f=c*this.rowSize+Math.floor(o/32);return(this.bits[f]>>>(o&31)&1)!==0}set(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]|=1<<(o&31)&4294967295}unset(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]&=~(1<<(o&31)&4294967295)}flip(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new w("input matrix dimensions do not match");const c=new te(Math.floor(this.width/32)+1),f=this.rowSize,p=this.bits;for(let y=0,b=this.height;y<b;y++){const E=y*f,_=o.getRow(y,c).getBitArray();for(let N=0;N<f;N++)p[E+N]^=_[N]}}clear(){const o=this.bits,c=o.length;for(let f=0;f<c;f++)o[f]=0}setRegion(o,c,f,p){if(c<0||o<0)throw new w("Left and top must be nonnegative");if(p<1||f<1)throw new w("Height and width must be at least 1");const y=o+f,b=c+p;if(b>this.height||y>this.width)throw new w("The region must fit inside the matrix");const E=this.rowSize,_=this.bits;for(let N=c;N<b;N++){const j=N*E;for(let Y=o;Y<y;Y++)_[j+Math.floor(Y/32)]|=1<<(Y&31)&4294967295}}getRow(o,c){c==null||c.getSize()<this.width?c=new te(this.width):c.clear();const f=this.rowSize,p=this.bits,y=o*f;for(let b=0;b<f;b++)c.setBulk(b*32,p[y+b]);return c}setRow(o,c){P.arraycopy(c.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),c=this.getHeight();let f=new te(o),p=new te(o);for(let y=0,b=Math.floor((c+1)/2);y<b;y++)f=this.getRow(y,f),p=this.getRow(c-1-y,p),f.reverse(),p.reverse(),this.setRow(y,p),this.setRow(c-1-y,f)}getEnclosingRectangle(){const o=this.width,c=this.height,f=this.rowSize,p=this.bits;let y=o,b=c,E=-1,_=-1;for(let N=0;N<c;N++)for(let j=0;j<f;j++){const Y=p[N*f+j];if(Y!==0){if(N<b&&(b=N),N>_&&(_=N),j*32<y){let Q=0;for(;(Y<<31-Q&4294967295)===0;)Q++;j*32+Q<y&&(y=j*32+Q)}if(j*32+31>E){let Q=31;for(;!(Y>>>Q);)Q--;j*32+Q>E&&(E=j*32+Q)}}}return E<y||_<b?null:Int32Array.from([y,b,E-y+1,_-b+1])}getTopLeftOnBit(){const o=this.rowSize,c=this.bits;let f=0;for(;f<c.length&&c[f]===0;)f++;if(f===c.length)return null;const p=f/o;let y=f%o*32;const b=c[f];let E=0;for(;(b<<31-E&4294967295)===0;)E++;return y+=E,Int32Array.from([y,p])}getBottomRightOnBit(){const o=this.rowSize,c=this.bits;let f=c.length-1;for(;f>=0&&c[f]===0;)f--;if(f<0)return null;const p=Math.floor(f/o);let y=Math.floor(f%o)*32;const b=c[f];let E=31;for(;!(b>>>E);)E--;return y+=E,Int32Array.from([y,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof ae))return!1;const c=o;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&$.equals(this.bits,c.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+$.hashCode(this.bits),o}toString(o="X ",c="  ",f=`
`){return this.buildToString(o,c,f)}buildToString(o,c,f){let p=new U;for(let y=0,b=this.height;y<b;y++){for(let E=0,_=this.width;E<_;E++)p.append(this.get(E,y)?o:c);p.append(f)}return p.toString()}clone(){return new ae(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends g{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class le extends D{constructor(o){super(o),this.luminances=le.EMPTY,this.buckets=new Int32Array(le.LUMINANCE_BUCKETS)}getBlackRow(o,c){const f=this.getLuminanceSource(),p=f.getWidth();c==null||c.getSize()<p?c=new te(p):c.clear(),this.initArrays(p);const y=f.getRow(o,this.luminances),b=this.buckets;for(let _=0;_<p;_++)b[(y[_]&255)>>le.LUMINANCE_SHIFT]++;const E=le.estimateBlackPoint(b);if(p<3)for(let _=0;_<p;_++)(y[_]&255)<E&&c.set(_);else{let _=y[0]&255,N=y[1]&255;for(let j=1;j<p-1;j++){const Y=y[j+1]&255;(N*4-_-Y)/2<E&&c.set(j),_=N,N=Y}}return c}getBlackMatrix(){const o=this.getLuminanceSource(),c=o.getWidth(),f=o.getHeight(),p=new ae(c,f);this.initArrays(c);const y=this.buckets;for(let _=1;_<5;_++){const N=Math.floor(f*_/5),j=o.getRow(N,this.luminances),Y=Math.floor(c*4/5);for(let Q=Math.floor(c/5);Q<Y;Q++){const se=j[Q]&255;y[se>>le.LUMINANCE_SHIFT]++}}const b=le.estimateBlackPoint(y),E=o.getMatrix();for(let _=0;_<f;_++){const N=_*c;for(let j=0;j<c;j++)(E[N+j]&255)<b&&p.set(j,_)}return p}createBinarizer(o){return new le(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const c=this.buckets;for(let f=0;f<le.LUMINANCE_BUCKETS;f++)c[f]=0}static estimateBlackPoint(o){const c=o.length;let f=0,p=0,y=0;for(let j=0;j<c;j++)o[j]>y&&(p=j,y=o[j]),o[j]>f&&(f=o[j]);let b=0,E=0;for(let j=0;j<c;j++){const Y=j-p,Q=o[j]*Y*Y;Q>E&&(b=j,E=Q)}if(p>b){const j=p;p=b,b=j}if(b-p<=c/16)throw new re;let _=b-1,N=-1;for(let j=b-1;j>p;j--){const Y=j-p,Q=Y*Y*(b-j)*(f-o[j]);Q>N&&(_=j,N=Q)}return _<<le.LUMINANCE_SHIFT}}le.LUMINANCE_BITS=5,le.LUMINANCE_SHIFT=8-le.LUMINANCE_BITS,le.LUMINANCE_BUCKETS=1<<le.LUMINANCE_BITS,le.EMPTY=Uint8ClampedArray.from([0]);class ce extends le{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),c=o.getWidth(),f=o.getHeight();if(c>=ce.MINIMUM_DIMENSION&&f>=ce.MINIMUM_DIMENSION){const p=o.getMatrix();let y=c>>ce.BLOCK_SIZE_POWER;(c&ce.BLOCK_SIZE_MASK)!==0&&y++;let b=f>>ce.BLOCK_SIZE_POWER;(f&ce.BLOCK_SIZE_MASK)!==0&&b++;const E=ce.calculateBlackPoints(p,y,b,c,f),_=new ae(c,f);ce.calculateThresholdForBlock(p,y,b,c,f,E,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ce(o)}static calculateThresholdForBlock(o,c,f,p,y,b,E){const _=y-ce.BLOCK_SIZE,N=p-ce.BLOCK_SIZE;for(let j=0;j<f;j++){let Y=j<<ce.BLOCK_SIZE_POWER;Y>_&&(Y=_);const Q=ce.cap(j,2,f-3);for(let se=0;se<c;se++){let fe=se<<ce.BLOCK_SIZE_POWER;fe>N&&(fe=N);const he=ce.cap(se,2,c-3);let ye=0;for(let He=-2;He<=2;He++){const qe=b[Q+He];ye+=qe[he-2]+qe[he-1]+qe[he]+qe[he+1]+qe[he+2]}const Ae=ye/25;ce.thresholdBlock(o,fe,Y,Ae,p,E)}}}static cap(o,c,f){return o<c?c:o>f?f:o}static thresholdBlock(o,c,f,p,y,b){for(let E=0,_=f*y+c;E<ce.BLOCK_SIZE;E++,_+=y)for(let N=0;N<ce.BLOCK_SIZE;N++)(o[_+N]&255)<=p&&b.set(c+N,f+E)}static calculateBlackPoints(o,c,f,p,y){const b=y-ce.BLOCK_SIZE,E=p-ce.BLOCK_SIZE,_=new Array(f);for(let N=0;N<f;N++){_[N]=new Int32Array(c);let j=N<<ce.BLOCK_SIZE_POWER;j>b&&(j=b);for(let Y=0;Y<c;Y++){let Q=Y<<ce.BLOCK_SIZE_POWER;Q>E&&(Q=E);let se=0,fe=255,he=0;for(let Ae=0,He=j*p+Q;Ae<ce.BLOCK_SIZE;Ae++,He+=p){for(let qe=0;qe<ce.BLOCK_SIZE;qe++){const ze=o[He+qe]&255;se+=ze,ze<fe&&(fe=ze),ze>he&&(he=ze)}if(he-fe>ce.MIN_DYNAMIC_RANGE)for(Ae++,He+=p;Ae<ce.BLOCK_SIZE;Ae++,He+=p)for(let qe=0;qe<ce.BLOCK_SIZE;qe++)se+=o[He+qe]&255}let ye=se>>ce.BLOCK_SIZE_POWER*2;if(he-fe<=ce.MIN_DYNAMIC_RANGE&&(ye=fe/2,N>0&&Y>0)){const Ae=(_[N-1][Y]+2*_[N][Y-1]+_[N-1][Y-1])/4;fe<Ae&&(ye=Ae)}_[N][Y]=ye}}return _}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class Te{constructor(o,c){this.width=o,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,c,f,p){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let c=new U;for(let f=0;f<this.height;f++){const p=this.getRow(f,o);for(let y=0;y<this.width;y++){const b=p[y]&255;let E;b<64?E="#":b<128?E="+":b<192?E=".":E=" ",c.append(E)}c.append(`
`)}return c.toString()}}class Ue extends Te{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,c){const f=this.delegate.getRow(o,c),p=this.getWidth();for(let y=0;y<p;y++)f[y]=255-(f[y]&255);return f}getMatrix(){const o=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(c);for(let p=0;p<c;p++)f[p]=255-(o[p]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(o,c,f,p){return new Ue(this.delegate.crop(o,c,f,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ue(this.delegate.rotateCounterClockwise45())}}class oe extends Te{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=oe.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const c=o.getContext("2d").getImageData(0,0,o.width,o.height);return oe.toGrayscaleBuffer(c.data,o.width,o.height)}static toGrayscaleBuffer(o,c,f){const p=new Uint8ClampedArray(c*f);for(let y=0,b=0,E=o.length;y<E;y+=4,b++){let _;if(o[y+3]===0)_=255;else{const j=o[y],Y=o[y+1],Q=o[y+2];_=306*j+601*Y+117*Q+512>>10}p[b]=_}return p}getRow(o,c){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth(),p=o*f;return c===null?c=this.buffer.slice(p,p+f):(c.length<f&&(c=new Uint8ClampedArray(f)),c.set(this.buffer.slice(p,p+f))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,c,f,p){return super.crop(o,c,f,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const c=this.getTempCanvasElement(),f=c.getContext("2d"),p=o*oe.DEGREE_TO_RADIANS,y=this.canvas.width,b=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(p))*y+Math.abs(Math.sin(p))*b),_=Math.ceil(Math.abs(Math.sin(p))*y+Math.abs(Math.cos(p))*b);return c.width=E,c.height=_,f.translate(E/2,_/2),f.rotate(p),f.drawImage(this.canvas,y/-2,b/-2),this.buffer=oe.makeBufferFromCanvasImageData(c),this}invert(){return new Ue(this)}}oe.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(o,c,f){this.deviceId=o,this.label=c,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ie=(globalThis||bg||self||window||void 0)&&(globalThis||bg||self||window||void 0).__awaiter||function(W,o,c,f){function p(y){return y instanceof c?y:new c(function(b){b(y)})}return new(c||(c=Promise))(function(y,b){function E(j){try{N(f.next(j))}catch(Y){b(Y)}}function _(j){try{N(f.throw(j))}catch(Y){b(Y)}}function N(j){j.done?y(j.value):p(j.value).then(E,_)}N((f=f.apply(W,o||[])).next())})};class Le{constructor(o,c=500,f){this.reader=o,this.timeBetweenScansMillis=c,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const f of o){const p=f.kind==="video"?"videoinput":f.kind;if(p!=="videoinput")continue;const y=f.deviceId||f.id,b=f.label||`Video device ${c.length+1}`,E=f.groupId,_={deviceId:y,label:b,kind:p,groupId:E};c.push(_)}return c})}getVideoInputDevices(){return Ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new be(c.deviceId,c.label))})}findDeviceById(o){return Ie(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(f=>f.deviceId===o):null})}decodeFromInputVideoDevice(o,c){return Ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,c)})}decodeOnceFromVideoDevice(o,c){return Ie(this,void 0,void 0,function*(){this.reset();let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const p={video:f};return yield this.decodeOnceFromConstraints(p,c)})}decodeOnceFromConstraints(o,c){return Ie(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(f,c)})}decodeOnceFromStream(o,c){return Ie(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,c);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(o,c,f){return Ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,c,f)})}decodeFromVideoDevice(o,c,f){return Ie(this,void 0,void 0,function*(){let p;o?p={deviceId:{exact:o}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeFromConstraints(y,c,f)})}decodeFromConstraints(o,c,f){return Ie(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(p,c,f)})}decodeFromStream(o,c,f){return Ie(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(o,c);return yield this.decodeContinuously(p,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,c){return Ie(this,void 0,void 0,function*(){const f=this.prepareVideoElement(c);return this.addVideoSource(f,o),this.videoElement=f,this.stream=o,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(o){return new Promise((c,f)=>this.playVideoOnLoad(o,()=>c()))}playVideoOnLoad(o,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",c),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,c){const f=document.getElementById(o);if(!f)throw new v(`element with id '${o}' not found`);if(f.nodeName.toLowerCase()!==c.toLowerCase())throw new v(`element with id '${o}' must be an ${c} element`);return f}decodeFromImage(o,c){if(!o&&!c)throw new v("either imageElement with a src set or an url must be provided");return c&&!o?this.decodeFromImageUrl(c):this.decodeFromImageElement(o)}decodeFromVideo(o,c){if(!o&&!c)throw new v("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,c,f){if(o===void 0&&c===void 0)throw new v("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrlContinuously(c,f):this.decodeFromVideoElementContinuously(o,f)}decodeFromImageElement(o){if(!o)throw new v("An image element must be provided.");this.reset();const c=this.prepareImageElement(o);this.imageElement=c;let f;return this.isImageLoaded(c)?f=this.decodeOnce(c,!1,!0):f=this._decodeOnLoadImage(c),f}decodeFromVideoElement(o){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(o,c){const f=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(f,c)}_decodeFromVideoElementSetup(o){if(!o)throw new v("A video element must be provided.");this.reset();const c=this.prepareVideoElement(o);return this.videoElement=c,c}decodeFromImageUrl(o){if(!o)throw new v("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const f=this._decodeOnLoadImage(c);return c.src=o,f}decodeFromVideoUrl(o){if(!o)throw new v("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElement(c);return c.src=o,f}decodeFromVideoUrlContinuously(o,c){if(!o)throw new v("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(f,c);return f.src=o,p}_decodeOnLoadImage(o){return new Promise((c,f)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(c,f),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,c){return Ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,c)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let c;return typeof o>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(c=o),c}prepareVideoElement(o){let c;return!o&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(c=o),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(o,c=!0,f=!0){this._stopAsyncDecode=!1;const p=(y,b)=>{if(this._stopAsyncDecode){b(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(o);y(E)}catch(E){const _=c&&E instanceof re,j=(E instanceof I||E instanceof B)&&f;if(_||j)return setTimeout(p,this._timeBetweenDecodingAttempts,y,b);b(E)}};return new Promise((y,b)=>p(y,b))}decodeContinuously(o,c){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(o);c(p,null),setTimeout(f,this.timeBetweenScansMillis)}catch(p){c(null,p);const y=p instanceof I||p instanceof B,b=p instanceof re;(y||b)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(o){const c=this.createBinaryBitmap(o);return this.decodeBitmap(c)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,c,f){c||(c={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(o,c,f=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const c=this.getCaptureCanvas(o),f=new oe(c),p=new ce(f);return new S(p)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const c=this.createCaptureCanvas(o);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let f,p;return typeof o<"u"&&(o instanceof HTMLVideoElement?(f=o.videoWidth,p=o.videoHeight):o instanceof HTMLImageElement&&(f=o.naturalWidth||o.width,p=o.naturalHeight||o.height)),c.style.width=f+"px",c.style.height=p+"px",c.width=f,c.height=p,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,c){try{o.srcObject=c}catch{o.src=URL.createObjectURL(c)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Ye{constructor(o,c,f=c==null?0:8*c.length,p,y,b=P.currentTimeMillis()){this.text=o,this.rawBytes=c,this.numBits=f,this.resultPoints=p,this.format=y,this.timestamp=b,this.text=o,this.rawBytes=c,f==null?this.numBits=c==null?0:8*c.length:this.numBits=f,this.resultPoints=p,this.format=y,this.resultMetadata=null,b==null?this.timestamp=P.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,c)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const c=this.resultPoints;if(c===null)this.resultPoints=o;else if(o!==null&&o.length>0){const f=new Array(c.length+o.length);P.arraycopy(c,0,f,0,c.length),P.arraycopy(o,0,f,c.length,o.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var at;(function(W){W[W.AZTEC=0]="AZTEC",W[W.CODABAR=1]="CODABAR",W[W.CODE_39=2]="CODE_39",W[W.CODE_93=3]="CODE_93",W[W.CODE_128=4]="CODE_128",W[W.DATA_MATRIX=5]="DATA_MATRIX",W[W.EAN_8=6]="EAN_8",W[W.EAN_13=7]="EAN_13",W[W.ITF=8]="ITF",W[W.MAXICODE=9]="MAXICODE",W[W.PDF_417=10]="PDF_417",W[W.QR_CODE=11]="QR_CODE",W[W.RSS_14=12]="RSS_14",W[W.RSS_EXPANDED=13]="RSS_EXPANDED",W[W.UPC_A=14]="UPC_A",W[W.UPC_E=15]="UPC_E",W[W.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var Ne=at,Bt;(function(W){W[W.OTHER=0]="OTHER",W[W.ORIENTATION=1]="ORIENTATION",W[W.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",W[W.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",W[W.ISSUE_NUMBER=4]="ISSUE_NUMBER",W[W.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",W[W.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",W[W.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",W[W.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",W[W.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",W[W.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Bt||(Bt={}));var lt=Bt;class Oe{constructor(o,c,f,p,y=-1,b=-1){this.rawBytes=o,this.text=c,this.byteSegments=f,this.ecLevel=p,this.structuredAppendSequenceNumber=y,this.structuredAppendParity=b,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class nt{exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}static addOrSubtract(o,c){return o^c}}class st{constructor(o,c){if(c.length===0)throw new w;this.field=o;const f=c.length;if(f>1&&c[0]===0){let p=1;for(;p<f&&c[p]===0;)p++;p===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-p),P.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const c=this.coefficients;let f;if(o===1){f=0;for(let b=0,E=c.length;b!==E;b++){const _=c[b];f=nt.addOrSubtract(f,_)}return f}f=c[0];const p=c.length,y=this.field;for(let b=1;b<p;b++)f=nt.addOrSubtract(y.multiply(o,f),c[b]);return f}addOrSubtract(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,f=o.coefficients;if(c.length>f.length){const b=c;c=f,f=b}let p=new Int32Array(f.length);const y=f.length-c.length;P.arraycopy(f,0,p,0,y);for(let b=y;b<f.length;b++)p[b]=nt.addOrSubtract(c[b-y],f[b]);return new st(this.field,p)}multiply(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const c=this.coefficients,f=c.length,p=o.coefficients,y=p.length,b=new Int32Array(f+y-1),E=this.field;for(let _=0;_<f;_++){const N=c[_];for(let j=0;j<y;j++)b[_+j]=nt.addOrSubtract(b[_+j],E.multiply(N,p[j]))}return new st(E,b)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const c=this.coefficients.length,f=this.field,p=new Int32Array(c),y=this.coefficients;for(let b=0;b<c;b++)p[b]=f.multiply(y[b],o);return new st(f,p)}multiplyByMonomial(o,c){if(o<0)throw new w;if(c===0)return this.field.getZero();const f=this.coefficients,p=f.length,y=new Int32Array(p+o),b=this.field;for(let E=0;E<p;E++)y[E]=b.multiply(f[E],c);return new st(b,y)}divide(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new w("Divide by 0");const c=this.field;let f=c.getZero(),p=this;const y=o.getCoefficient(o.getDegree()),b=c.inverse(y);for(;p.getDegree()>=o.getDegree()&&!p.isZero();){const E=p.getDegree()-o.getDegree(),_=c.multiply(p.getCoefficient(p.getDegree()),b),N=o.multiplyByMonomial(E,_),j=c.buildMonomial(E,_);f=f.addOrSubtract(j),p=p.addOrSubtract(N)}return[f,p]}toString(){let o="";for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);if(f!==0){if(f<0?(o+=" - ",f=-f):o.length>0&&(o+=" + "),c===0||f!==1){const p=this.field.log(f);p===0?o+="1":p===1?o+="a":(o+="a^",o+=p)}c!==0&&(c===1?o+="x":(o+="x^",o+=c))}}return o}}class De extends g{}De.kind="ArithmeticException";class Je extends nt{constructor(o,c,f){super(),this.primitive=o,this.size=c,this.generatorBase=f;const p=new Int32Array(c);let y=1;for(let E=0;E<c;E++)p[E]=y,y*=2,y>=c&&(y^=o,y&=c-1);this.expTable=p;const b=new Int32Array(c);for(let E=0;E<c-1;E++)b[p[E]]=E;this.logTable=b,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new w;if(c===0)return this.zero;const f=new Int32Array(o+1);return f[0]=c,new st(this,f)}inverse(o){if(o===0)throw new De;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+z.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Je.AZTEC_DATA_12=new Je(4201,4096,1),Je.AZTEC_DATA_10=new Je(1033,1024,1),Je.AZTEC_DATA_6=new Je(67,64,1),Je.AZTEC_PARAM=new Je(19,16,1),Je.QR_CODE_FIELD_256=new Je(285,256,0),Je.DATA_MATRIX_FIELD_256=new Je(301,256,1),Je.AZTEC_DATA_8=Je.DATA_MATRIX_FIELD_256,Je.MAXICODE_FIELD_64=Je.AZTEC_DATA_6;class Qe extends g{}Qe.kind="ReedSolomonException";class ht extends g{}ht.kind="IllegalStateException";class hn{constructor(o){this.field=o}decode(o,c){const f=this.field,p=new st(f,o),y=new Int32Array(c);let b=!0;for(let se=0;se<c;se++){const fe=p.evaluateAt(f.exp(se+f.getGeneratorBase()));y[y.length-1-se]=fe,fe!==0&&(b=!1)}if(b)return;const E=new st(f,y),_=this.runEuclideanAlgorithm(f.buildMonomial(c,1),E,c),N=_[0],j=_[1],Y=this.findErrorLocations(N),Q=this.findErrorMagnitudes(j,Y);for(let se=0;se<Y.length;se++){const fe=o.length-1-f.log(Y[se]);if(fe<0)throw new Qe("Bad error location");o[fe]=Je.addOrSubtract(o[fe],Q[se])}}runEuclideanAlgorithm(o,c,f){if(o.getDegree()<c.getDegree()){const se=o;o=c,c=se}const p=this.field;let y=o,b=c,E=p.getZero(),_=p.getOne();for(;b.getDegree()>=(f/2|0);){let se=y,fe=E;if(y=b,E=_,y.isZero())throw new Qe("r_{i-1} was zero");b=se;let he=p.getZero();const ye=y.getCoefficient(y.getDegree()),Ae=p.inverse(ye);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){const He=b.getDegree()-y.getDegree(),qe=p.multiply(b.getCoefficient(b.getDegree()),Ae);he=he.addOrSubtract(p.buildMonomial(He,qe)),b=b.addOrSubtract(y.multiplyByMonomial(He,qe))}if(_=he.multiply(E).addOrSubtract(fe),b.getDegree()>=y.getDegree())throw new ht("Division algorithm failed to reduce polynomial?")}const N=_.getCoefficient(0);if(N===0)throw new Qe("sigmaTilde(0) was zero");const j=p.inverse(N),Y=_.multiplyScalar(j),Q=b.multiplyScalar(j);return[Y,Q]}findErrorLocations(o){const c=o.getDegree();if(c===1)return Int32Array.from([o.getCoefficient(1)]);const f=new Int32Array(c);let p=0;const y=this.field;for(let b=1;b<y.getSize()&&p<c;b++)o.evaluateAt(b)===0&&(f[p]=y.inverse(b),p++);if(p!==c)throw new Qe("Error locator degree does not match number of roots");return f}findErrorMagnitudes(o,c){const f=c.length,p=new Int32Array(f),y=this.field;for(let b=0;b<f;b++){const E=y.inverse(c[b]);let _=1;for(let N=0;N<f;N++)if(b!==N){const j=y.multiply(c[N],E),Y=(j&1)===0?j|1:j&-2;_=y.multiply(_,Y)}p[b]=y.multiply(o.evaluateAt(E),y.inverse(_)),y.getGeneratorBase()!==0&&(p[b]=y.multiply(p[b],E))}return p}}var It;(function(W){W[W.UPPER=0]="UPPER",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.DIGIT=3]="DIGIT",W[W.PUNCT=4]="PUNCT",W[W.BINARY=5]="BINARY"})(It||(It={}));class Mt{decode(o){this.ddata=o;let c=o.getBits(),f=this.extractBits(c),p=this.correctBits(f),y=Mt.convertBoolArrayToByteArray(p),b=Mt.getEncodedData(p),E=new Oe(y,b,null,null);return E.setNumBits(p.length),E}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let c=o.length,f=It.UPPER,p=It.UPPER,y="",b=0;for(;b<c;)if(p===It.BINARY){if(c-b<5)break;let E=Mt.readCode(o,b,5);if(b+=5,E===0){if(c-b<11)break;E=Mt.readCode(o,b,11)+31,b+=11}for(let _=0;_<E;_++){if(c-b<8){b=c;break}const N=Mt.readCode(o,b,8);y+=K.castAsNonUtf8Char(N),b+=8}p=f}else{let E=p===It.DIGIT?4:5;if(c-b<E)break;let _=Mt.readCode(o,b,E);b+=E;let N=Mt.getCharacter(p,_);N.startsWith("CTRL_")?(f=p,p=Mt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(f=p)):(y+=N,p=f)}return y}static getTable(o){switch(o){case"L":return It.LOWER;case"P":return It.PUNCT;case"M":return It.MIXED;case"D":return It.DIGIT;case"B":return It.BINARY;case"U":default:return It.UPPER}}static getCharacter(o,c){switch(o){case It.UPPER:return Mt.UPPER_TABLE[c];case It.LOWER:return Mt.LOWER_TABLE[c];case It.MIXED:return Mt.MIXED_TABLE[c];case It.PUNCT:return Mt.PUNCT_TABLE[c];case It.DIGIT:return Mt.DIGIT_TABLE[c];default:throw new ht("Bad table")}}correctBits(o){let c,f;this.ddata.getNbLayers()<=2?(f=6,c=Je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,c=Je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,c=Je.AZTEC_DATA_10):(f=12,c=Je.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),y=o.length/f;if(y<p)throw new B;let b=o.length%f,E=new Int32Array(y);for(let Q=0;Q<y;Q++,b+=f)E[Q]=Mt.readCode(o,b,f);try{new hn(c).decode(E,y-p)}catch(Q){throw new B(Q)}let _=(1<<f)-1,N=0;for(let Q=0;Q<p;Q++){let se=E[Q];if(se===0||se===_)throw new B;(se===1||se===_-1)&&N++}let j=new Array(p*f-N),Y=0;for(let Q=0;Q<p;Q++){let se=E[Q];if(se===1||se===_-1)j.fill(se>1,Y,Y+f-1),Y+=f-1;else for(let fe=f-1;fe>=0;--fe)j[Y++]=(se&1<<fe)!==0}return j}extractBits(o){let c=this.ddata.isCompact(),f=this.ddata.getNbLayers(),p=(c?11:14)+f*4,y=new Int32Array(p),b=new Array(this.totalBitsInLayer(f,c));if(c)for(let E=0;E<y.length;E++)y[E]=E;else{let E=p+1+2*z.truncDivision(z.truncDivision(p,2)-1,15),_=p/2,N=z.truncDivision(E,2);for(let j=0;j<_;j++){let Y=j+z.truncDivision(j,15);y[_-j-1]=N-Y-1,y[_+j]=N+Y+1}}for(let E=0,_=0;E<f;E++){let N=(f-E)*4+(c?9:12),j=E*2,Y=p-1-j;for(let Q=0;Q<N;Q++){let se=Q*2;for(let fe=0;fe<2;fe++)b[_+se+fe]=o.get(y[j+fe],y[j+Q]),b[_+2*N+se+fe]=o.get(y[j+Q],y[Y-fe]),b[_+4*N+se+fe]=o.get(y[Y-fe],y[Y-Q]),b[_+6*N+se+fe]=o.get(y[Y-Q],y[j+fe])}_+=N*8}return b}static readCode(o,c,f){let p=0;for(let y=c;y<c+f;y++)p<<=1,o[y]&&(p|=1);return p}static readByte(o,c){let f=o.length-c;return f>=8?Mt.readCode(o,c,8):Mt.readCode(o,c,f)<<8-f}static convertBoolArrayToByteArray(o){let c=new Uint8Array((o.length+7)/8);for(let f=0;f<c.length;f++)c[f]=Mt.readByte(o,8*f);return c}totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}Mt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Mt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Mt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Mt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Mt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class At{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,c,f,p){const y=o-f,b=c-p;return Math.sqrt(y*y+b*b)}static sum(o){let c=0;for(let f=0,p=o.length;f!==p;f++){const y=o[f];c+=y}return c}}class Pt{static floatToIntBits(o){return o}}Pt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $e{constructor(o,c){this.x=o,this.y=c}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof $e){const c=o;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Pt.floatToIntBits(this.x)+Pt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const c=this.distance(o[0],o[1]),f=this.distance(o[1],o[2]),p=this.distance(o[0],o[2]);let y,b,E;if(f>=c&&f>=p?(b=o[0],y=o[1],E=o[2]):p>=f&&p>=c?(b=o[1],y=o[0],E=o[2]):(b=o[2],y=o[0],E=o[1]),this.crossProductZ(y,b,E)<0){const _=y;y=E,E=_}o[0]=y,o[1]=b,o[2]=E}static distance(o,c){return At.distance(o.x,o.y,c.x,c.y)}static crossProductZ(o,c,f){const p=c.x,y=c.y;return(f.x-p)*(o.y-y)-(f.y-y)*(o.x-p)}}class la{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Ur extends la{constructor(o,c,f,p,y){super(o,c),this.compact=f,this.nbDatablocks=p,this.nbLayers=y}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class vi{constructor(o,c,f,p){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),c==null&&(c=vi.INIT_SIZE),f==null&&(f=o.getWidth()/2|0),p==null&&(p=o.getHeight()/2|0);const y=c/2|0;if(this.leftInit=f-y,this.rightInit=f+y,this.upInit=p-y,this.downInit=p+y,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let o=this.leftInit,c=this.rightInit,f=this.upInit,p=this.downInit,y=!1,b=!0,E=!1,_=!1,N=!1,j=!1,Y=!1;const Q=this.width,se=this.height;for(;b;){b=!1;let fe=!0;for(;(fe||!_)&&c<Q;)fe=this.containsBlackPoint(f,p,c,!1),fe?(c++,b=!0,_=!0):_||c++;if(c>=Q){y=!0;break}let he=!0;for(;(he||!N)&&p<se;)he=this.containsBlackPoint(o,c,p,!0),he?(p++,b=!0,N=!0):N||p++;if(p>=se){y=!0;break}let ye=!0;for(;(ye||!j)&&o>=0;)ye=this.containsBlackPoint(f,p,o,!1),ye?(o--,b=!0,j=!0):j||o--;if(o<0){y=!0;break}let Ae=!0;for(;(Ae||!Y)&&f>=0;)Ae=this.containsBlackPoint(o,c,f,!0),Ae?(f--,b=!0,Y=!0):Y||f--;if(f<0){y=!0;break}b&&(E=!0)}if(!y&&E){const fe=c-o;let he=null;for(let qe=1;he===null&&qe<fe;qe++)he=this.getBlackPointOnSegment(o,p-qe,o+qe,p);if(he==null)throw new re;let ye=null;for(let qe=1;ye===null&&qe<fe;qe++)ye=this.getBlackPointOnSegment(o,f+qe,o+qe,f);if(ye==null)throw new re;let Ae=null;for(let qe=1;Ae===null&&qe<fe;qe++)Ae=this.getBlackPointOnSegment(c,f+qe,c-qe,f);if(Ae==null)throw new re;let He=null;for(let qe=1;He===null&&qe<fe;qe++)He=this.getBlackPointOnSegment(c,p-qe,c-qe,p);if(He==null)throw new re;return this.centerEdges(He,he,Ae,ye)}else throw new re}getBlackPointOnSegment(o,c,f,p){const y=At.round(At.distance(o,c,f,p)),b=(f-o)/y,E=(p-c)/y,_=this.image;for(let N=0;N<y;N++){const j=At.round(o+N*b),Y=At.round(c+N*E);if(_.get(j,Y))return new $e(j,Y)}return null}centerEdges(o,c,f,p){const y=o.getX(),b=o.getY(),E=c.getX(),_=c.getY(),N=f.getX(),j=f.getY(),Y=p.getX(),Q=p.getY(),se=vi.CORR;return y<this.width/2?[new $e(Y-se,Q+se),new $e(E+se,_+se),new $e(N-se,j-se),new $e(y+se,b-se)]:[new $e(Y+se,Q+se),new $e(E+se,_-se),new $e(N-se,j+se),new $e(y-se,b-se)]}containsBlackPoint(o,c,f,p){const y=this.image;if(p){for(let b=o;b<=c;b++)if(y.get(b,f))return!0}else for(let b=o;b<=c;b++)if(y.get(f,b))return!0;return!1}}vi.INIT_SIZE=10,vi.CORR=1;class Xs{static checkAndNudgePoints(o,c){const f=o.getWidth(),p=o.getHeight();let y=!0;for(let b=0;b<c.length&&y;b+=2){const E=Math.floor(c[b]),_=Math.floor(c[b+1]);if(E<-1||E>f||_<-1||_>p)throw new re;y=!1,E===-1?(c[b]=0,y=!0):E===f&&(c[b]=f-1,y=!0),_===-1?(c[b+1]=0,y=!0):_===p&&(c[b+1]=p-1,y=!0)}y=!0;for(let b=c.length-2;b>=0&&y;b-=2){const E=Math.floor(c[b]),_=Math.floor(c[b+1]);if(E<-1||E>f||_<-1||_>p)throw new re;y=!1,E===-1?(c[b]=0,y=!0):E===f&&(c[b]=f-1,y=!0),_===-1?(c[b+1]=0,y=!0):_===p&&(c[b+1]=p-1,y=!0)}}}class Qt{constructor(o,c,f,p,y,b,E,_,N){this.a11=o,this.a21=c,this.a31=f,this.a12=p,this.a22=y,this.a32=b,this.a13=E,this.a23=_,this.a33=N}static quadrilateralToQuadrilateral(o,c,f,p,y,b,E,_,N,j,Y,Q,se,fe,he,ye){const Ae=Qt.quadrilateralToSquare(o,c,f,p,y,b,E,_);return Qt.squareToQuadrilateral(N,j,Y,Q,se,fe,he,ye).times(Ae)}transformPoints(o){const c=o.length,f=this.a11,p=this.a12,y=this.a13,b=this.a21,E=this.a22,_=this.a23,N=this.a31,j=this.a32,Y=this.a33;for(let Q=0;Q<c;Q+=2){const se=o[Q],fe=o[Q+1],he=y*se+_*fe+Y;o[Q]=(f*se+b*fe+N)/he,o[Q+1]=(p*se+E*fe+j)/he}}transformPointsWithValues(o,c){const f=this.a11,p=this.a12,y=this.a13,b=this.a21,E=this.a22,_=this.a23,N=this.a31,j=this.a32,Y=this.a33,Q=o.length;for(let se=0;se<Q;se++){const fe=o[se],he=c[se],ye=y*fe+_*he+Y;o[se]=(f*fe+b*he+N)/ye,c[se]=(p*fe+E*he+j)/ye}}static squareToQuadrilateral(o,c,f,p,y,b,E,_){const N=o-f+y-E,j=c-p+b-_;if(N===0&&j===0)return new Qt(f-o,y-f,o,p-c,b-p,c,0,0,1);{const Y=f-y,Q=E-y,se=p-b,fe=_-b,he=Y*fe-Q*se,ye=(N*fe-Q*j)/he,Ae=(Y*j-N*se)/he;return new Qt(f-o+ye*f,E-o+Ae*E,o,p-c+ye*p,_-c+Ae*_,c,ye,Ae,1)}}static quadrilateralToSquare(o,c,f,p,y,b,E,_){return Qt.squareToQuadrilateral(o,c,f,p,y,b,E,_).buildAdjoint()}buildAdjoint(){return new Qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Qt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class sn extends Xs{sampleGrid(o,c,f,p,y,b,E,_,N,j,Y,Q,se,fe,he,ye,Ae,He,qe){const ze=Qt.quadrilateralToQuadrilateral(p,y,b,E,_,N,j,Y,Q,se,fe,he,ye,Ae,He,qe);return this.sampleGridWithTransform(o,c,f,ze)}sampleGridWithTransform(o,c,f,p){if(c<=0||f<=0)throw new re;const y=new ae(c,f),b=new Float32Array(2*c);for(let E=0;E<f;E++){const _=b.length,N=E+.5;for(let j=0;j<_;j+=2)b[j]=j/2+.5,b[j+1]=N;p.transformPoints(b),Xs.checkAndNudgePoints(o,b);try{for(let j=0;j<_;j+=2)o.get(Math.floor(b[j]),Math.floor(b[j+1]))&&y.set(j/2,E)}catch{throw new re}}return y}}class ir{static setGridSampler(o){ir.gridSampler=o}static getInstance(){return ir.gridSampler}}ir.gridSampler=new sn;class on{constructor(o,c){this.x=o,this.y=c}toResultPoint(){return new $e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ot{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let c=this.getMatrixCenter(),f=this.getBullsEyeCorners(c);if(o){let b=f[0];f[0]=f[2],f[2]=b}this.extractParameters(f);let p=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),y=this.getMatrixCornerPoints(f);return new Ur(p,y,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new re;let c=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(o[0],o[1],c),this.sampleLine(o[1],o[2],c),this.sampleLine(o[2],o[3],c),this.sampleLine(o[3],o[0],c)]);this.shift=this.getRotation(f,c);let p=0;for(let b=0;b<4;b++){let E=f[(this.shift+b)%4];this.compact?(p<<=7,p+=E>>1&127):(p<<=10,p+=(E>>2&992)+(E>>1&31))}let y=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(y>>6)+1,this.nbDataBlocks=(y&63)+1):(this.nbLayers=(y>>11)+1,this.nbDataBlocks=(y&2047)+1)}getRotation(o,c){let f=0;o.forEach((p,y,b)=>{let E=(p>>c-2<<1)+(p&1);f=(f<<3)+E}),f=((f&1)<<11)+(f>>1);for(let p=0;p<4;p++)if(z.bitCount(f^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new re}getCorrectedParameterData(o,c){let f,p;c?(f=7,p=2):(f=10,p=4);let y=f-p,b=new Int32Array(f);for(let _=f-1;_>=0;--_)b[_]=o&15,o>>=4;try{new hn(Je.AZTEC_PARAM).decode(b,y)}catch{throw new re}let E=0;for(let _=0;_<p;_++)E=(E<<4)+b[_];return E}getBullsEyeCorners(o){let c=o,f=o,p=o,y=o,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Y=this.getFirstDifferent(c,b,1,-1),Q=this.getFirstDifferent(f,b,1,1),se=this.getFirstDifferent(p,b,-1,1),fe=this.getFirstDifferent(y,b,-1,-1);if(this.nbCenterLayers>2){let he=this.distancePoint(fe,Y)*this.nbCenterLayers/(this.distancePoint(y,c)*(this.nbCenterLayers+2));if(he<.75||he>1.25||!this.isWhiteOrBlackRectangle(Y,Q,se,fe))break}c=Y,f=Q,p=se,y=fe,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let E=new $e(c.getX()+.5,c.getY()-.5),_=new $e(f.getX()+.5,f.getY()+.5),N=new $e(p.getX()-.5,p.getY()+.5),j=new $e(y.getX()-.5,y.getY()-.5);return this.expandSquare([E,_,N,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,c,f,p;try{let E=new vi(this.image).detect();o=E[0],c=E[1],f=E[2],p=E[3]}catch{let _=this.image.getWidth()/2,N=this.image.getHeight()/2;o=this.getFirstDifferent(new on(_+7,N-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new on(_+7,N+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new on(_-7,N+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new on(_-7,N-7),!1,-1,-1).toResultPoint()}let y=At.round((o.getX()+p.getX()+c.getX()+f.getX())/4),b=At.round((o.getY()+p.getY()+c.getY()+f.getY())/4);try{let E=new vi(this.image,15,y,b).detect();o=E[0],c=E[1],f=E[2],p=E[3]}catch{o=this.getFirstDifferent(new on(y+7,b-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new on(y+7,b+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new on(y-7,b+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new on(y-7,b-7),!1,-1,-1).toResultPoint()}return y=At.round((o.getX()+p.getX()+c.getX()+f.getX())/4),b=At.round((o.getY()+p.getY()+c.getY()+f.getY())/4),new on(y,b)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,c,f,p,y){let b=ir.getInstance(),E=this.getDimension(),_=E/2-this.nbCenterLayers,N=E/2+this.nbCenterLayers;return b.sampleGrid(o,E,E,_,_,N,_,N,N,_,N,c.getX(),c.getY(),f.getX(),f.getY(),p.getX(),p.getY(),y.getX(),y.getY())}sampleLine(o,c,f){let p=0,y=this.distanceResultPoint(o,c),b=y/f,E=o.getX(),_=o.getY(),N=b*(c.getX()-o.getX())/y,j=b*(c.getY()-o.getY())/y;for(let Y=0;Y<f;Y++)this.image.get(At.round(E+Y*N),At.round(_+Y*j))&&(p|=1<<f-Y-1);return p}isWhiteOrBlackRectangle(o,c,f,p){let y=3;o=new on(o.getX()-y,o.getY()+y),c=new on(c.getX()-y,c.getY()-y),f=new on(f.getX()+y,f.getY()-y),p=new on(p.getX()+y,p.getY()+y);let b=this.getColor(p,o);if(b===0)return!1;let E=this.getColor(o,c);return E!==b||(E=this.getColor(c,f),E!==b)?!1:(E=this.getColor(f,p),E===b)}getColor(o,c){let f=this.distancePoint(o,c),p=(c.getX()-o.getX())/f,y=(c.getY()-o.getY())/f,b=0,E=o.getX(),_=o.getY(),N=this.image.get(o.getX(),o.getY()),j=Math.ceil(f);for(let Q=0;Q<j;Q++)E+=p,_+=y,this.image.get(At.round(E),At.round(_))!==N&&b++;let Y=b/f;return Y>.1&&Y<.9?0:Y<=.1===N?1:-1}getFirstDifferent(o,c,f,p){let y=o.getX()+f,b=o.getY()+p;for(;this.isValid(y,b)&&this.image.get(y,b)===c;)y+=f,b+=p;for(y-=f,b-=p;this.isValid(y,b)&&this.image.get(y,b)===c;)y+=f;for(y-=f;this.isValid(y,b)&&this.image.get(y,b)===c;)b+=p;return b-=p,new on(y,b)}expandSquare(o,c,f){let p=f/(2*c),y=o[0].getX()-o[2].getX(),b=o[0].getY()-o[2].getY(),E=(o[0].getX()+o[2].getX())/2,_=(o[0].getY()+o[2].getY())/2,N=new $e(E+p*y,_+p*b),j=new $e(E-p*y,_-p*b);y=o[1].getX()-o[3].getX(),b=o[1].getY()-o[3].getY(),E=(o[1].getX()+o[3].getX())/2,_=(o[1].getY()+o[3].getY())/2;let Y=new $e(E+p*y,_+p*b),Q=new $e(E-p*y,_-p*b);return[N,Y,j,Q]}isValid(o,c){return o>=0&&o<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(o){let c=At.round(o.getX()),f=At.round(o.getY());return this.isValid(c,f)}distancePoint(o,c){return At.distance(o.getX(),o.getY(),c.getX(),c.getY())}distanceResultPoint(o,c){return At.distance(o.getX(),o.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(z.truncDivision(this.nbLayers-4,8)+1)+15}}class mt{decode(o,c=null){let f=null,p=new ot(o.getBlackMatrix()),y=null,b=null;try{let j=p.detectMirror(!1);y=j.getPoints(),this.reportFoundResultPoints(c,y),b=new Mt().decode(j)}catch(j){f=j}if(b==null)try{let j=p.detectMirror(!0);y=j.getPoints(),this.reportFoundResultPoints(c,y),b=new Mt().decode(j)}catch(j){throw f??j}let E=new Ye(b.getText(),b.getRawBytes(),b.getNumBits(),y,Ne.AZTEC,P.currentTimeMillis()),_=b.getByteSegments();_!=null&&E.putMetadata(lt.BYTE_SEGMENTS,_);let N=b.getECLevel();return N!=null&&E.putMetadata(lt.ERROR_CORRECTION_LEVEL,N),E}reportFoundResultPoints(o,c){if(o!=null){let f=o.get(ee.NEED_RESULT_POINT_CALLBACK);f!=null&&c.forEach((p,y,b)=>{f.foundPossibleResultPoint(p)})}}reset(){}}class Ht extends Le{constructor(o=500){super(new mt,o)}}class yt{decode(o,c){try{return this.doDecode(o,c)}catch{if(c&&c.get(ee.TRY_HARDER)===!0&&o.isRotateSupported()){const y=o.rotateCounterClockwise(),b=this.doDecode(y,c),E=b.getResultMetadata();let _=270;E!==null&&E.get(lt.ORIENTATION)===!0&&(_=_+E.get(lt.ORIENTATION)%360),b.putMetadata(lt.ORIENTATION,_);const N=b.getResultPoints();if(N!==null){const j=y.getHeight();for(let Y=0;Y<N.length;Y++)N[Y]=new $e(j-N[Y].getY()-1,N[Y].getX())}return b}else throw new re}}reset(){}doDecode(o,c){const f=o.getWidth(),p=o.getHeight();let y=new te(f);const b=c&&c.get(ee.TRY_HARDER)===!0,E=Math.max(1,p>>(b?8:5));let _;b?_=p:_=15;const N=Math.trunc(p/2);for(let j=0;j<_;j++){const Y=Math.trunc((j+1)/2),Q=(j&1)===0,se=N+E*(Q?Y:-Y);if(se<0||se>=p)break;try{y=o.getBlackRow(se,y)}catch{continue}for(let fe=0;fe<2;fe++){if(fe===1&&(y.reverse(),c&&c.get(ee.NEED_RESULT_POINT_CALLBACK)===!0)){const he=new Map;c.forEach((ye,Ae)=>he.set(Ae,ye)),he.delete(ee.NEED_RESULT_POINT_CALLBACK),c=he}try{const he=this.decodeRow(se,y,c);if(fe===1){he.putMetadata(lt.ORIENTATION,180);const ye=he.getResultPoints();ye!==null&&(ye[0]=new $e(f-ye[0].getX()-1,ye[0].getY()),ye[1]=new $e(f-ye[1].getX()-1,ye[1].getY()))}return he}catch{}}}throw new re}static recordPattern(o,c,f){const p=f.length;for(let N=0;N<p;N++)f[N]=0;const y=o.getSize();if(c>=y)throw new re;let b=!o.get(c),E=0,_=c;for(;_<y;){if(o.get(_)!==b)f[E]++;else{if(++E===p)break;f[E]=1,b=!b}_++}if(!(E===p||E===p-1&&_===y))throw new re}static recordPatternInReverse(o,c,f){let p=f.length,y=o.get(c);for(;c>0&&p>=0;)o.get(--c)!==y&&(p--,y=!y);if(p>=0)throw new re;yt.recordPattern(o,c+1,f)}static patternMatchVariance(o,c,f){const p=o.length;let y=0,b=0;for(let N=0;N<p;N++)y+=o[N],b+=c[N];if(y<b)return Number.POSITIVE_INFINITY;const E=y/b;f*=E;let _=0;for(let N=0;N<p;N++){const j=o[N],Y=c[N]*E,Q=j>Y?j-Y:Y-j;if(Q>f)return Number.POSITIVE_INFINITY;_+=Q}return _/y}}class Fe extends yt{static findStartPattern(o){const c=o.getSize(),f=o.getNextSet(0);let p=0,y=Int32Array.from([0,0,0,0,0,0]),b=f,E=!1;const _=6;for(let N=f;N<c;N++)if(o.get(N)!==E)y[p]++;else{if(p===_-1){let j=Fe.MAX_AVG_VARIANCE,Y=-1;for(let Q=Fe.CODE_START_A;Q<=Fe.CODE_START_C;Q++){const se=yt.patternMatchVariance(y,Fe.CODE_PATTERNS[Q],Fe.MAX_INDIVIDUAL_VARIANCE);se<j&&(j=se,Y=Q)}if(Y>=0&&o.isRange(Math.max(0,b-(N-b)/2),b,!1))return Int32Array.from([b,N,Y]);b+=y[0]+y[1],y=y.slice(2,y.length-1),y[p-1]=0,y[p]=0,p--}else p++;y[p]=1,E=!E}throw new re}static decodeCode(o,c,f){yt.recordPattern(o,f,c);let p=Fe.MAX_AVG_VARIANCE,y=-1;for(let b=0;b<Fe.CODE_PATTERNS.length;b++){const E=Fe.CODE_PATTERNS[b],_=this.patternMatchVariance(c,E,Fe.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,y=b)}if(y>=0)return y;throw new re}decodeRow(o,c,f){const p=f&&f.get(ee.ASSUME_GS1)===!0,y=Fe.findStartPattern(c),b=y[2];let E=0;const _=new Uint8Array(20);_[E++]=b;let N;switch(b){case Fe.CODE_START_A:N=Fe.CODE_CODE_A;break;case Fe.CODE_START_B:N=Fe.CODE_CODE_B;break;case Fe.CODE_START_C:N=Fe.CODE_CODE_C;break;default:throw new B}let j=!1,Y=!1,Q="",se=y[0],fe=y[1];const he=Int32Array.from([0,0,0,0,0,0]);let ye=0,Ae=0,He=b,qe=0,ze=!0,Nt=!1,Ot=!1;for(;!j;){const no=Y;switch(Y=!1,ye=Ae,Ae=Fe.decodeCode(c,he,fe),_[E++]=Ae,Ae!==Fe.CODE_STOP&&(ze=!0),Ae!==Fe.CODE_STOP&&(qe++,He+=qe*Ae),se=fe,fe+=he.reduce((ka,b0)=>ka+b0,0),Ae){case Fe.CODE_START_A:case Fe.CODE_START_B:case Fe.CODE_START_C:throw new B}switch(N){case Fe.CODE_CODE_A:if(Ae<64)Ot===Nt?Q+=String.fromCharCode(32+Ae):Q+=String.fromCharCode(32+Ae+128),Ot=!1;else if(Ae<96)Ot===Nt?Q+=String.fromCharCode(Ae-64):Q+=String.fromCharCode(Ae+64),Ot=!1;else switch(Ae!==Fe.CODE_STOP&&(ze=!1),Ae){case Fe.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_A:!Nt&&Ot?(Nt=!0,Ot=!1):Nt&&Ot?(Nt=!1,Ot=!1):Ot=!0;break;case Fe.CODE_SHIFT:Y=!0,N=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_B:N=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_C:N=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:j=!0;break}break;case Fe.CODE_CODE_B:if(Ae<96)Ot===Nt?Q+=String.fromCharCode(32+Ae):Q+=String.fromCharCode(32+Ae+128),Ot=!1;else switch(Ae!==Fe.CODE_STOP&&(ze=!1),Ae){case Fe.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_B:!Nt&&Ot?(Nt=!0,Ot=!1):Nt&&Ot?(Nt=!1,Ot=!1):Ot=!0;break;case Fe.CODE_SHIFT:Y=!0,N=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_A:N=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_C:N=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:j=!0;break}break;case Fe.CODE_CODE_C:if(Ae<100)Ae<10&&(Q+="0"),Q+=Ae;else switch(Ae!==Fe.CODE_STOP&&(ze=!1),Ae){case Fe.CODE_FNC_1:p&&(Q.length===0?Q+="]C1":Q+="");break;case Fe.CODE_CODE_A:N=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_B:N=Fe.CODE_CODE_B;break;case Fe.CODE_STOP:j=!0;break}break}no&&(N=N===Fe.CODE_CODE_A?Fe.CODE_CODE_B:Fe.CODE_CODE_A)}const Si=fe-se;if(fe=c.getNextUnset(fe),!c.isRange(fe,Math.min(c.getSize(),fe+(fe-se)/2),!1))throw new re;if(He-=qe*ye,He%103!==ye)throw new I;const pa=Q.length;if(pa===0)throw new re;pa>0&&ze&&(N===Fe.CODE_CODE_C?Q=Q.substring(0,pa-2):Q=Q.substring(0,pa-1));const Vi=(y[1]+y[0])/2,Tn=se+Si/2,Jr=_.length,zi=new Uint8Array(Jr);for(let no=0;no<Jr;no++)zi[no]=_[no];const Do=[new $e(Vi,o),new $e(Tn,o)];return new Ye(Q,zi,0,Do,Ne.CODE_128,new Date().getTime())}}Fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Fe.MAX_AVG_VARIANCE=.25,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.CODE_SHIFT=98,Fe.CODE_CODE_C=99,Fe.CODE_CODE_B=100,Fe.CODE_CODE_A=101,Fe.CODE_FNC_1=102,Fe.CODE_FNC_2=97,Fe.CODE_FNC_3=96,Fe.CODE_FNC_4_A=101,Fe.CODE_FNC_4_B=100,Fe.CODE_START_A=103,Fe.CODE_START_B=104,Fe.CODE_START_C=105,Fe.CODE_STOP=106;class St extends yt{constructor(o=!1,c=!1){super(),this.usingCheckDigit=o,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,c,f){let p=this.counters;p.fill(0),this.decodeRowResult="";let y=St.findAsteriskPattern(c,p),b=c.getNextSet(y[1]),E=c.getSize(),_,N;do{St.recordPattern(c,b,p);let he=St.toNarrowWidePattern(p);if(he<0)throw new re;_=St.patternToChar(he),this.decodeRowResult+=_,N=b;for(let ye of p)b+=ye;b=c.getNextSet(b)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let he of p)j+=he;let Y=b-N-j;if(b!==E&&Y*2<j)throw new re;if(this.usingCheckDigit){let he=this.decodeRowResult.length-1,ye=0;for(let Ae=0;Ae<he;Ae++)ye+=St.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(he)!==St.ALPHABET_STRING.charAt(ye%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,he)}if(this.decodeRowResult.length===0)throw new re;let Q;this.extendedMode?Q=St.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let se=(y[1]+y[0])/2,fe=N+j/2;return new Ye(Q,null,0,[new $e(se,o),new $e(fe,o)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(o,c){let f=o.getSize(),p=o.getNextSet(0),y=0,b=p,E=!1,_=c.length;for(let N=p;N<f;N++)if(o.get(N)!==E)c[y]++;else{if(y===_-1){if(this.toNarrowWidePattern(c)===St.ASTERISK_ENCODING&&o.isRange(Math.max(0,b-Math.floor((N-b)/2)),b,!1))return[b,N];b+=c[0]+c[1],c.copyWithin(0,2,2+y-1),c[y-1]=0,c[y]=0,y--}else y++;c[y]=1,E=!E}throw new re}static toNarrowWidePattern(o){let c=o.length,f=0,p;do{let y=2147483647;for(let _ of o)_<y&&_>f&&(y=_);f=y,p=0;let b=0,E=0;for(let _=0;_<c;_++){let N=o[_];N>f&&(E|=1<<c-1-_,p++,b+=N)}if(p===3){for(let _=0;_<c&&p>0;_++){let N=o[_];if(N>f&&(p--,N*2>=b))return-1}return E}}while(p>3);return-1}static patternToChar(o){for(let c=0;c<St.CHARACTER_ENCODINGS.length;c++)if(St.CHARACTER_ENCODINGS[c]===o)return St.ALPHABET_STRING.charAt(c);if(o===St.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(o){let c=o.length,f="";for(let p=0;p<c;p++){let y=o.charAt(p);if(y==="+"||y==="$"||y==="%"||y==="/"){let b=o.charAt(p+1),E="\0";switch(y){case"+":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)+32);else throw new B;break;case"$":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)-64);else throw new B;break;case"%":if(b>="A"&&b<="E")E=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")E=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")E=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")E="\0";else if(b==="V")E="@";else if(b==="W")E="`";else if(b==="X"||b==="Y"||b==="Z")E="";else throw new B;break;case"/":if(b>="A"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")E=":";else throw new B;break}f+=E,p++}else f+=y}return f}}St.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",St.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],St.ASTERISK_ENCODING=148;class Gt extends yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,c,f){let p=this.decodeStart(c),y=this.decodeEnd(c),b=new U;Gt.decodeMiddle(c,p[1],y[0],b);let E=b.toString(),_=null;f!=null&&(_=f.get(ee.ALLOWED_LENGTHS)),_==null&&(_=Gt.DEFAULT_ALLOWED_LENGTHS);let N=E.length,j=!1,Y=0;for(let fe of _){if(N===fe){j=!0;break}fe>Y&&(Y=fe)}if(!j&&N>Y&&(j=!0),!j)throw new B;const Q=[new $e(p[1],o),new $e(y[0],o)];return new Ye(E,null,0,Q,Ne.ITF,new Date().getTime())}static decodeMiddle(o,c,f,p){let y=new Int32Array(10),b=new Int32Array(5),E=new Int32Array(5);for(y.fill(0),b.fill(0),E.fill(0);c<f;){yt.recordPattern(o,c,y);for(let N=0;N<5;N++){let j=2*N;b[N]=y[j],E[N]=y[j+1]}let _=Gt.decodeDigit(b);p.append(_.toString()),_=this.decodeDigit(E),p.append(_.toString()),y.forEach(function(N){c+=N})}}decodeStart(o){let c=Gt.skipWhiteSpace(o),f=Gt.findGuardPattern(o,c,Gt.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(o,f[0]),f}validateQuietZone(o,c){let f=this.narrowLineWidth*10;f=f<c?f:c;for(let p=c-1;f>0&&p>=0&&!o.get(p);p--)f--;if(f!==0)throw new re}static skipWhiteSpace(o){const c=o.getSize(),f=o.getNextSet(0);if(f===c)throw new re;return f}decodeEnd(o){o.reverse();try{let c=Gt.skipWhiteSpace(o),f;try{f=Gt.findGuardPattern(o,c,Gt.END_PATTERN_REVERSED[0])}catch(y){y instanceof re&&(f=Gt.findGuardPattern(o,c,Gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,f[0]);let p=f[0];return f[0]=o.getSize()-f[1],f[1]=o.getSize()-p,f}finally{o.reverse()}}static findGuardPattern(o,c,f){let p=f.length,y=new Int32Array(p),b=o.getSize(),E=!1,_=0,N=c;y.fill(0);for(let j=c;j<b;j++)if(o.get(j)!==E)y[_]++;else{if(_===p-1){if(yt.patternMatchVariance(y,f,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return[N,j];N+=y[0]+y[1],P.arraycopy(y,2,y,0,_-1),y[_-1]=0,y[_]=0,_--}else _++;y[_]=1,E=!E}throw new re}static decodeDigit(o){let c=Gt.MAX_AVG_VARIANCE,f=-1,p=Gt.PATTERNS.length;for(let y=0;y<p;y++){let b=Gt.PATTERNS[y],E=yt.patternMatchVariance(o,b,Gt.MAX_INDIVIDUAL_VARIANCE);E<c?(c=E,f=y):E===c&&(f=-1)}if(f>=0)return f%10;throw new re}}Gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Gt.MAX_AVG_VARIANCE=.38,Gt.MAX_INDIVIDUAL_VARIANCE=.5,Gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Gt.START_PATTERN=Int32Array.from([1,1,1,1]),Gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class gn extends yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let c=!1,f,p=0,y=Int32Array.from([0,0,0]);for(;!c;){y=Int32Array.from([0,0,0]),f=gn.findGuardPattern(o,p,!1,this.START_END_PATTERN,y);let b=f[0];p=f[1];let E=b-(p-b);E>=0&&(c=o.isRange(E,b,!1))}return f}static checkChecksum(o){return gn.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let f=parseInt(o.charAt(c-1),10);return gn.getStandardUPCEANChecksum(o.substring(0,c-1))===f}static getStandardUPCEANChecksum(o){let c=o.length,f=0;for(let p=c-1;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new B;f+=y}f*=3;for(let p=c-2;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new B;f+=y}return(1e3-f)%10}static decodeEnd(o,c){return gn.findGuardPattern(o,c,!1,gn.START_END_PATTERN,new Int32Array(gn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,c,f,p){return this.findGuardPattern(o,c,f,p,new Int32Array(p.length))}static findGuardPattern(o,c,f,p,y){let b=o.getSize();c=f?o.getNextUnset(c):o.getNextSet(c);let E=0,_=c,N=p.length,j=f;for(let Y=c;Y<b;Y++)if(o.get(Y)!==j)y[E]++;else{if(E===N-1){if(yt.patternMatchVariance(y,p,gn.MAX_INDIVIDUAL_VARIANCE)<gn.MAX_AVG_VARIANCE)return Int32Array.from([_,Y]);_+=y[0]+y[1];let Q=y.slice(2,y.length-1);for(let se=0;se<E-1;se++)y[se]=Q[se];y[E-1]=0,y[E]=0,E--}else E++;y[E]=1,j=!j}throw new re}static decodeDigit(o,c,f,p){this.recordPattern(o,f,c);let y=this.MAX_AVG_VARIANCE,b=-1,E=p.length;for(let _=0;_<E;_++){let N=p[_],j=yt.patternMatchVariance(c,N,gn.MAX_INDIVIDUAL_VARIANCE);j<y&&(y=j,b=_)}if(b>=0)return b;throw new re}}gn.MAX_AVG_VARIANCE=.48,gn.MAX_INDIVIDUAL_VARIANCE=.7,gn.START_END_PATTERN=Int32Array.from([1,1,1]),gn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),gn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ms{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,f){let p=this.decodeRowStringBuffer,y=this.decodeMiddle(c,f,p),b=p.toString(),E=Ms.parseExtensionString(b),_=[new $e((f[0]+f[1])/2,o),new $e(y,o)],N=new Ye(b,null,0,_,Ne.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&N.putAllMetadata(E),N}decodeMiddle(o,c,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1],E=0;for(let N=0;N<5&&b<y;N++){let j=gn.decodeDigit(o,p,b,gn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+j%10);for(let Y of p)b+=Y;j>=10&&(E|=1<<4-N),N!==4&&(b=o.getNextSet(b),b=o.getNextUnset(b))}if(f.length!==5)throw new re;let _=this.determineCheckDigit(E);if(Ms.extensionChecksum(f.toString())!==_)throw new re;return b}static extensionChecksum(o){let c=o.length,f=0;for(let p=c-2;p>=0;p-=2)f+=o.charAt(p).charCodeAt(0)-48;f*=3;for(let p=c-1;p>=0;p-=2)f+=o.charAt(p).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(o){for(let c=0;c<10;c++)if(o===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new re}static parseExtensionString(o){if(o.length!==5)return null;let c=Ms.parseExtension5String(o);return c==null?null:new Map([[lt.SUGGESTED_PRICE,c]])}static parseExtension5String(o){let c;switch(o.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let f=parseInt(o.substring(1)),p=(f/100).toString(),y=f%100,b=y<10?"0"+y:y.toString();return c+p+"."+b}}class Co{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,f){let p=this.decodeRowStringBuffer,y=this.decodeMiddle(c,f,p),b=p.toString(),E=Co.parseExtensionString(b),_=[new $e((f[0]+f[1])/2,o),new $e(y,o)],N=new Ye(b,null,0,_,Ne.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&N.putAllMetadata(E),N}decodeMiddle(o,c,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1],E=0;for(let _=0;_<2&&b<y;_++){let N=gn.decodeDigit(o,p,b,gn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+N%10);for(let j of p)b+=j;N>=10&&(E|=1<<1-_),_!==1&&(b=o.getNextSet(b),b=o.getNextUnset(b))}if(f.length!==2)throw new re;if(parseInt(f.toString())%4!==E)throw new re;return b}static parseExtensionString(o){return o.length!==2?null:new Map([[lt.ISSUE_NUMBER,parseInt(o)]])}}class vl{static decodeRow(o,c,f){let p=gn.findGuardPattern(c,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ms().decodeRow(o,c,p)}catch{return new Co().decodeRow(o,c,p)}}}vl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Lt extends gn{constructor(){super(),this.decodeRowStringBuffer="",Lt.L_AND_G_PATTERNS=Lt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let c=Lt.L_PATTERNS[o-10],f=new Int32Array(c.length);for(let p=0;p<c.length;p++)f[p]=c[c.length-p-1];Lt.L_AND_G_PATTERNS[o]=f}}decodeRow(o,c,f){let p=Lt.findStartGuardPattern(c),y=f==null?null:f.get(ee.NEED_RESULT_POINT_CALLBACK);if(y!=null){const ze=new $e((p[0]+p[1])/2,o);y.foundPossibleResultPoint(ze)}let b=this.decodeMiddle(c,p,this.decodeRowStringBuffer),E=b.rowOffset,_=b.resultString;if(y!=null){const ze=new $e(E,o);y.foundPossibleResultPoint(ze)}let N=this.decodeEnd(c,E);if(y!=null){const ze=new $e((N[0]+N[1])/2,o);y.foundPossibleResultPoint(ze)}let j=N[1],Y=j+(j-N[0]);if(Y>=c.getSize()||!c.isRange(j,Y,!1))throw new re;let Q=_.toString();if(Q.length<8)throw new B;if(!Lt.checkChecksum(Q))throw new I;let se=(p[1]+p[0])/2,fe=(N[1]+N[0])/2,he=this.getBarcodeFormat(),ye=[new $e(se,o),new $e(fe,o)],Ae=new Ye(Q,null,0,ye,he,new Date().getTime()),He=0;try{let ze=vl.decodeRow(o,c,N[1]);Ae.putMetadata(lt.UPC_EAN_EXTENSION,ze.getText()),Ae.putAllMetadata(ze.getResultMetadata()),Ae.addResultPoints(ze.getResultPoints()),He=ze.getText().length}catch{}let qe=f==null?null:f.get(ee.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let ze=!1;for(let Nt in qe)if(He.toString()===Nt){ze=!0;break}if(!ze)throw new re}return Ae}decodeEnd(o,c){return Lt.findGuardPattern(o,c,!1,Lt.START_END_PATTERN,new Int32Array(Lt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Lt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let f=parseInt(o.charAt(c-1),10);return Lt.getStandardUPCEANChecksum(o.substring(0,c-1))===f}static getStandardUPCEANChecksum(o){let c=o.length,f=0;for(let p=c-1;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new B;f+=y}f*=3;for(let p=c-2;p>=0;p-=2){let y=o.charAt(p).charCodeAt(0)-48;if(y<0||y>9)throw new B;f+=y}return(1e3-f)%10}}class xi extends Lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1],E=0;for(let N=0;N<6&&b<y;N++){let j=Lt.decodeDigit(o,p,b,Lt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+j%10);for(let Y of p)b+=Y;j>=10&&(E|=1<<5-N)}f=xi.determineFirstDigit(f,E),b=Lt.findGuardPattern(o,b,!0,Lt.MIDDLE_PATTERN,new Int32Array(Lt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&b<y;N++){let j=Lt.decodeDigit(o,p,b,Lt.L_PATTERNS);f+=String.fromCharCode(48+j);for(let Y of p)b+=Y}return{rowOffset:b,resultString:f}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(o,c){for(let f=0;f<10;f++)if(c===this.FIRST_DIGIT_ENCODINGS[f])return o=String.fromCharCode(48+f)+o,o;throw new re}}xi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class xl extends Lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,f){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b=c[1];for(let _=0;_<4&&b<y;_++){let N=Lt.decodeDigit(o,p,b,Lt.L_PATTERNS);f+=String.fromCharCode(48+N);for(let j of p)b+=j}b=Lt.findGuardPattern(o,b,!0,Lt.MIDDLE_PATTERN,new Int32Array(Lt.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&b<y;_++){let N=Lt.decodeDigit(o,p,b,Lt.L_PATTERNS);f+=String.fromCharCode(48+N);for(let j of p)b+=j}return{rowOffset:b,resultString:f}}getBarcodeFormat(){return Ne.EAN_8}}class Ta extends Lt{constructor(){super(...arguments),this.ean13Reader=new xi}getBarcodeFormat(){return Ne.UPC_A}decode(o,c){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,c,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,c,f))}decodeMiddle(o,c,f){return this.ean13Reader.decodeMiddle(o,c,f)}maybeReturnResult(o){let c=o.getText();if(c.charAt(0)==="0"){let f=new Ye(c.substring(1),null,null,o.getResultPoints(),Ne.UPC_A);return o.getResultMetadata()!=null&&f.putAllMetadata(o.getResultMetadata()),f}else throw new re}reset(){this.ean13Reader.reset()}}class bi extends Lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,c,f){const p=this.decodeMiddleCounters.map(N=>N);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const y=o.getSize();let b=c[1],E=0;for(let N=0;N<6&&b<y;N++){const j=bi.decodeDigit(o,p,b,bi.L_AND_G_PATTERNS);f+=String.fromCharCode(48+j%10);for(let Y of p)b+=Y;j>=10&&(E|=1<<5-N)}let _=bi.determineNumSysAndCheckDigit(f,E);return{rowOffset:b,resultString:_}}decodeEnd(o,c){return bi.findGuardPatternWithoutCounters(o,c,!0,bi.MIDDLE_END_PATTERN)}checkChecksum(o){return Lt.checkChecksum(bi.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,c){for(let f=0;f<=1;f++)for(let p=0;p<10;p++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][p]){let y=String.fromCharCode(48+f),b=String.fromCharCode(48+p);return y+o+b}throw re.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(o){const c=o.slice(1,7).split("").map(y=>y.charCodeAt(0)),f=new U;f.append(o.charAt(0));let p=c[5];switch(p){case 0:case 1:case 2:f.appendChars(c,0,2),f.append(p),f.append("0000"),f.appendChars(c,2,3);break;case 3:f.appendChars(c,0,3),f.append("00000"),f.appendChars(c,3,2);break;case 4:f.appendChars(c,0,4),f.append("00000"),f.append(c[4]);break;default:f.appendChars(c,0,5),f.append("0000"),f.append(p);break}return o.length>=8&&f.append(o.charAt(7)),f.toString()}}bi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class rs extends yt{constructor(o){super();let c=o==null?null:o.get(ee.POSSIBLE_FORMATS),f=[];r(c)?(f.push(new xi),f.push(new Ta),f.push(new xl),f.push(new bi)):(c.indexOf(Ne.EAN_13)>-1&&f.push(new xi),c.indexOf(Ne.UPC_A)>-1&&f.push(new Ta),c.indexOf(Ne.EAN_8)>-1&&f.push(new xl),c.indexOf(Ne.UPC_E)>-1&&f.push(new bi)),this.readers=f}decodeRow(o,c,f){for(let p of this.readers)try{const y=p.decodeRow(o,c,f),b=y.getBarcodeFormat()===Ne.EAN_13&&y.getText().charAt(0)==="0",E=f==null?null:f.get(ee.POSSIBLE_FORMATS),_=E==null||E.includes(Ne.UPC_A);if(b&&_){const N=y.getRawBytes(),j=new Ye(y.getText().substring(1),N,N?N.length:null,y.getResultPoints(),Ne.UPC_A);return j.putAllMetadata(y.getResultMetadata()),j}return y}catch{}throw new re}reset(){for(let o of this.readers)o.reset()}}class vr extends yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,c){for(let f=0;f<c.length;f++)if(yt.patternMatchVariance(o,c[f],vr.MAX_INDIVIDUAL_VARIANCE)<vr.MAX_AVG_VARIANCE)return f;throw new re}static count(o){return At.sum(new Int32Array(o))}static increment(o,c){let f=0,p=c[0];for(let y=1;y<o.length;y++)c[y]>p&&(p=c[y],f=y);o[f]++}static decrement(o,c){let f=0,p=c[0];for(let y=1;y<o.length;y++)c[y]<p&&(p=c[y],f=y);o[f]--}static isFinderPattern(o){let c=o[0]+o[1],f=c+o[2]+o[3],p=c/f;if(p>=vr.MIN_FINDER_PATTERN_RATIO&&p<=vr.MAX_FINDER_PATTERN_RATIO){let y=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let E of o)E>b&&(b=E),E<y&&(y=E);return b<10*y}return!1}}vr.MAX_AVG_VARIANCE=.2,vr.MAX_INDIVIDUAL_VARIANCE=.45,vr.MIN_FINDER_PATTERN_RATIO=9.5/12,vr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Zi{constructor(o,c){this.value=o,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Zi))return!1;const c=o;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class _o{constructor(o,c,f,p,y){this.value=o,this.startEnd=c,this.value=o,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new $e(f,y)),this.resultPoints.push(new $e(p,y))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof _o))return!1;const c=o;return this.value===c.value}hashCode(){return this.value}}class an{constructor(){}static getRSSvalue(o,c,f){let p=0;for(let _ of o)p+=_;let y=0,b=0,E=o.length;for(let _=0;_<E-1;_++){let N;for(N=1,b|=1<<_;N<o[_];N++,b&=~(1<<_)){let j=an.combins(p-N-1,E-_-2);if(f&&b===0&&p-N-(E-_-1)>=E-_-1&&(j-=an.combins(p-N-(E-_),E-_-2)),E-_-1>1){let Y=0;for(let Q=p-N-(E-_-2);Q>c;Q--)Y+=an.combins(p-N-Q-1,E-_-3);j-=Y*(E-1-_)}else p-N>c&&j--;y+=j}p-=N}return y}static combins(o,c){let f,p;o-c>c?(p=c,f=o-c):(p=o-c,f=c);let y=1,b=1;for(let E=o;E>f;E--)y*=E,b<=p&&(y/=b,b++);for(;b<=p;)y/=b,b++;return y}}class Nr{static buildBitArray(o){let c=o.length*2-1;o[o.length-1].getRightChar()==null&&(c-=1);let f=12*c,p=new te(f),y=0,E=o[0].getRightChar().getValue();for(let _=11;_>=0;--_)(E&1<<_)!=0&&p.set(y),y++;for(let _=1;_<o.length;++_){let N=o[_],j=N.getLeftChar().getValue();for(let Y=11;Y>=0;--Y)(j&1<<Y)!=0&&p.set(y),y++;if(N.getRightChar()!=null){let Y=N.getRightChar().getValue();for(let Q=11;Q>=0;--Q)(Y&1<<Q)!=0&&p.set(y),y++}}return p}}class Dn{constructor(o,c){c?this.decodedInformation=null:(this.finished=o,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Li{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Vr extends Li{constructor(o,c){super(o),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Vr.FNC1}}Vr.FNC1="$";class Ps extends Li{constructor(o,c,f){super(o),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dr extends Li{constructor(o,c,f){if(super(o),c<0||c>10||f<0||f>10)throw new B;this.firstDigit=c,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dr.FNC1}isAnyFNC1(){return this.firstDigit===Dr.FNC1||this.secondDigit===Dr.FNC1}}Dr.FNC1=10;class Ke{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new re;let c=o.substring(0,2);for(let y of Ke.TWO_DIGIT_DATA_LENGTH)if(y[0]===c)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(2,y[2],o):Ke.processFixedAI(2,y[1],o);if(o.length<3)throw new re;let f=o.substring(0,3);for(let y of Ke.THREE_DIGIT_DATA_LENGTH)if(y[0]===f)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(3,y[2],o):Ke.processFixedAI(3,y[1],o);for(let y of Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(y[0]===f)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,y[2],o):Ke.processFixedAI(4,y[1],o);if(o.length<4)throw new re;let p=o.substring(0,4);for(let y of Ke.FOUR_DIGIT_DATA_LENGTH)if(y[0]===p)return y[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,y[2],o):Ke.processFixedAI(4,y[1],o);throw new re}static processFixedAI(o,c,f){if(f.length<o)throw new re;let p=f.substring(0,o);if(f.length<o+c)throw new re;let y=f.substring(o,o+c),b=f.substring(o+c),E="("+p+")"+y,_=Ke.parseFieldsInGeneralPurpose(b);return _==null?E:E+_}static processVariableAI(o,c,f){let p=f.substring(0,o),y;f.length<o+c?y=f.length:y=o+c;let b=f.substring(o,y),E=f.substring(y),_="("+p+")"+b,N=Ke.parseFieldsInGeneralPurpose(E);return N==null?_:_+N}}Ke.VARIABLE_LENGTH=[],Ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ke.VARIABLE_LENGTH,20],["22",Ke.VARIABLE_LENGTH,29],["30",Ke.VARIABLE_LENGTH,8],["37",Ke.VARIABLE_LENGTH,8],["90",Ke.VARIABLE_LENGTH,30],["91",Ke.VARIABLE_LENGTH,30],["92",Ke.VARIABLE_LENGTH,30],["93",Ke.VARIABLE_LENGTH,30],["94",Ke.VARIABLE_LENGTH,30],["95",Ke.VARIABLE_LENGTH,30],["96",Ke.VARIABLE_LENGTH,30],["97",Ke.VARIABLE_LENGTH,3],["98",Ke.VARIABLE_LENGTH,30],["99",Ke.VARIABLE_LENGTH,30]],Ke.THREE_DIGIT_DATA_LENGTH=[["240",Ke.VARIABLE_LENGTH,30],["241",Ke.VARIABLE_LENGTH,30],["242",Ke.VARIABLE_LENGTH,6],["250",Ke.VARIABLE_LENGTH,30],["251",Ke.VARIABLE_LENGTH,30],["253",Ke.VARIABLE_LENGTH,17],["254",Ke.VARIABLE_LENGTH,20],["400",Ke.VARIABLE_LENGTH,30],["401",Ke.VARIABLE_LENGTH,30],["402",17],["403",Ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ke.VARIABLE_LENGTH,20],["421",Ke.VARIABLE_LENGTH,15],["422",3],["423",Ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ke.VARIABLE_LENGTH,15],["391",Ke.VARIABLE_LENGTH,18],["392",Ke.VARIABLE_LENGTH,15],["393",Ke.VARIABLE_LENGTH,18],["703",Ke.VARIABLE_LENGTH,30]],Ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ke.VARIABLE_LENGTH,20],["8003",Ke.VARIABLE_LENGTH,30],["8004",Ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ke.VARIABLE_LENGTH,30],["8008",Ke.VARIABLE_LENGTH,12],["8018",18],["8020",Ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ke.VARIABLE_LENGTH,70],["8200",Ke.VARIABLE_LENGTH,70]];class ca{constructor(o){this.buffer=new U,this.information=o}decodeAllCodes(o,c){let f=c,p=null;do{let y=this.decodeGeneralPurposeField(f,p),b=Ke.parseFieldsInGeneralPurpose(y.getNewString());if(b!=null&&o.append(b),y.isRemaining()?p=""+y.getRemainingValue():p=null,f===y.getNewPosition())break;f=y.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let c=o;c<o+3;++c)if(this.information.get(c))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let y=this.extractNumericValueFromBitArray(o,4);return y===0?new Dr(this.information.getSize(),Dr.FNC1,Dr.FNC1):new Dr(this.information.getSize(),y-1,Dr.FNC1)}let c=this.extractNumericValueFromBitArray(o,7),f=(c-8)/11,p=(c-8)%11;return new Dr(o+7,f,p)}extractNumericValueFromBitArray(o,c){return ca.extractNumericValueFromBitArray(this.information,o,c)}static extractNumericValueFromBitArray(o,c,f){let p=0;for(let y=0;y<f;++y)o.get(c+y)&&(p|=1<<f-y-1);return p}decodeGeneralPurposeField(o,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(o);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Ps(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Ps(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,c;do{let f=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),o=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),o=c.isFinished()):(c=this.parseNumericBlock(),o=c.isFinished()),!(f!==this.current.getPosition())&&!o)break}while(!o);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let c;return o.isSecondDigitFNC1()?c=new Ps(this.current.getPosition(),this.buffer.toString()):c=new Ps(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Dn(!0,c)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let c=new Ps(this.current.getPosition(),this.buffer.toString());return new Dn(!0,c)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Dn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new Ps(this.current.getPosition(),this.buffer.toString());return new Dn(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Dn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new Ps(this.current.getPosition(),this.buffer.toString());return new Dn(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Dn(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<116)return!0;if(o+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,8);return p>=232&&p<253}decodeIsoIec646(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Vr(o+5,Vr.FNC1);if(c>=5&&c<15)return new Vr(o+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<90)return new Vr(o+7,""+(f+1));if(f>=90&&f<116)return new Vr(o+7,""+(f+7));let p=this.extractNumericValueFromBitArray(o,8),y;switch(p){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new B}return new Vr(o+8,y)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,6);return f>=16&&f<63}decodeAlphanumeric(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Vr(o+5,Vr.FNC1);if(c>=5&&c<15)return new Vr(o+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(o,6);if(f>=32&&f<58)return new Vr(o+6,""+(f+33));let p;switch(f){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new ht("Decoding invalid alphanumeric value: "+f)}return new Vr(o+6,p)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<5&&c+o<this.information.getSize();++c)if(c===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+c))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let c=o;c<o+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<4&&c+o<this.information.getSize();++c)if(this.information.get(o+c))return!1;return!0}}class is{constructor(o){this.information=o,this.generalDecoder=new ca(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ar extends is{constructor(o){super(o)}encodeCompressedGtin(o,c){o.append("(01)");let f=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,c,f)}encodeCompressedGtinWithoutAI(o,c,f){for(let p=0;p<4;++p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*p,10);y/100===0&&o.append("0"),y/10===0&&o.append("0"),o.append(y)}ar.appendCheckDigit(o,f)}static appendCheckDigit(o,c){let f=0;for(let p=0;p<13;p++){let y=o.charAt(p+c).charCodeAt(0)-48;f+=(p&1)===0?3*y:y}f=10-f%10,f===10&&(f=0),o.append(f)}}ar.GTIN_SIZE=40;class wi extends ar{constructor(o){super(o)}parseInformation(){let o=new U;o.append("(01)");let c=o.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(wi.HEADER_SIZE,4);return o.append(f),this.encodeCompressedGtinWithoutAI(o,wi.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(o,wi.HEADER_SIZE+44)}}wi.HEADER_SIZE=4;class Ji extends is{constructor(o){super(o)}parseInformation(){let o=new U;return this.getGeneralDecoder().decodeAllCodes(o,Ji.HEADER_SIZE)}}Ji.HEADER_SIZE=5;class zr extends ar{constructor(o){super(o)}encodeCompressedWeight(o,c,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(c,f);this.addWeightCode(o,p);let y=this.checkWeight(p),b=1e5;for(let E=0;E<5;++E)y/b===0&&o.append("0"),b/=10;o.append(y)}}class mn extends zr{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=mn.HEADER_SIZE+zr.GTIN_SIZE+mn.WEIGHT_SIZE)throw new re;let o=new U;return this.encodeCompressedGtin(o,mn.HEADER_SIZE),this.encodeCompressedWeight(o,mn.HEADER_SIZE+zr.GTIN_SIZE,mn.WEIGHT_SIZE),o.toString()}}mn.HEADER_SIZE=5,mn.WEIGHT_SIZE=15;class Tc extends mn{constructor(o){super(o)}addWeightCode(o,c){o.append("(3103)")}checkWeight(o){return o}}class bl extends mn{constructor(o){super(o)}addWeightCode(o,c){c<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Er extends ar{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Er.HEADER_SIZE+ar.GTIN_SIZE)throw new re;let o=new U;this.encodeCompressedGtin(o,Er.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Er.HEADER_SIZE+ar.GTIN_SIZE,Er.LAST_DIGIT_SIZE);o.append("(392"),o.append(c),o.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(Er.HEADER_SIZE+ar.GTIN_SIZE+Er.LAST_DIGIT_SIZE,null);return o.append(f.getNewString()),o.toString()}}Er.HEADER_SIZE=8,Er.LAST_DIGIT_SIZE=2;class Qn extends ar{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Qn.HEADER_SIZE+ar.GTIN_SIZE)throw new re;let o=new U;this.encodeCompressedGtin(o,Qn.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+ar.GTIN_SIZE,Qn.LAST_DIGIT_SIZE);o.append("(393"),o.append(c),o.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+ar.GTIN_SIZE+Qn.LAST_DIGIT_SIZE,Qn.FIRST_THREE_DIGITS_SIZE);f/100==0&&o.append("0"),f/10==0&&o.append("0"),o.append(f);let p=this.getGeneralDecoder().decodeGeneralPurposeField(Qn.HEADER_SIZE+ar.GTIN_SIZE+Qn.LAST_DIGIT_SIZE+Qn.FIRST_THREE_DIGITS_SIZE,null);return o.append(p.getNewString()),o.toString()}}Qn.HEADER_SIZE=8,Qn.LAST_DIGIT_SIZE=2,Qn.FIRST_THREE_DIGITS_SIZE=10;class _n extends zr{constructor(o,c,f){super(o),this.dateCode=f,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=_n.HEADER_SIZE+_n.GTIN_SIZE+_n.WEIGHT_SIZE+_n.DATE_SIZE)throw new re;let o=new U;return this.encodeCompressedGtin(o,_n.HEADER_SIZE),this.encodeCompressedWeight(o,_n.HEADER_SIZE+_n.GTIN_SIZE,_n.WEIGHT_SIZE),this.encodeCompressedDate(o,_n.HEADER_SIZE+_n.GTIN_SIZE+_n.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(c,_n.DATE_SIZE);if(f==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let p=f%32;f/=32;let y=f%12+1;f/=12;let b=f;b/10==0&&o.append("0"),o.append(b),y/10==0&&o.append("0"),o.append(y),p/10==0&&o.append("0"),o.append(p)}addWeightCode(o,c){o.append("("),o.append(this.firstAIdigits),o.append(c/1e5),o.append(")")}checkWeight(o){return o%1e5}}_n.HEADER_SIZE=8,_n.WEIGHT_SIZE=20,_n.DATE_SIZE=16;function Ic(W){try{if(W.get(1))return new wi(W);if(!W.get(2))return new Ji(W);switch(ca.extractNumericValueFromBitArray(W,1,4)){case 4:return new Tc(W);case 5:return new bl(W)}switch(ca.extractNumericValueFromBitArray(W,1,5)){case 12:return new Er(W);case 13:return new Qn(W)}switch(ca.extractNumericValueFromBitArray(W,1,7)){case 56:return new _n(W,"310","11");case 57:return new _n(W,"320","11");case 58:return new _n(W,"310","13");case 59:return new _n(W,"320","13");case 60:return new _n(W,"310","15");case 61:return new _n(W,"320","15");case 62:return new _n(W,"310","17");case 63:return new _n(W,"320","17")}}catch(o){throw console.log(o),new ht("unknown decoder: "+W)}}class ji{constructor(o,c,f,p){this.leftchar=o,this.rightchar=c,this.finderpattern=f,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,c){return o instanceof ji?ji.equalsOrNull(o.leftchar,c.leftchar)&&ji.equalsOrNull(o.rightchar,c.rightchar)&&ji.equalsOrNull(o.finderpattern,c.finderpattern):!1}static equalsOrNull(o,c){return o===null?c===null:ji.equals(o,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class wl{constructor(o,c,f){this.pairs=o,this.rowNumber=c,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,c){return o instanceof wl?this.checkEqualitity(o,c)&&o.wasReversed===c.wasReversed:!1}checkEqualitity(o,c){if(!o||!c)return;let f;return o.forEach((p,y)=>{c.forEach(b=>{p.getLeftChar().getValue()===b.getLeftChar().getValue()&&p.getRightChar().getValue()===b.getRightChar().getValue()&&p.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(f=!0)})}),f}}class ke extends vr{constructor(o){super(...arguments),this.pairs=new Array(ke.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,c,f){this.pairs.length=0,this.startFromEven=!1;try{return ke.constructResult(this.decodeRow2pairs(o,c))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,ke.constructResult(this.decodeRow2pairs(o,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,c){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,o))}catch(y){if(y instanceof re){if(!this.pairs.length)throw new re;f=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(o,!1),p){let y=this.checkRowsBoolean(!1);if(y!=null||(y=this.checkRowsBoolean(!0),y!=null))return y}throw new re}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return o&&(this.rows=this.rows.reverse()),c}checkRows(o,c){for(let f=c;f<this.rows.length;f++){let p=this.rows[f];this.pairs.length=0;for(let b of o)this.pairs.push(b.getPairs());if(this.pairs.push(p.getPairs()),!ke.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let y=new Array(o);y.push(p);try{return this.checkRows(y,f+1)}catch(b){this.verbose&&console.log(b)}}throw new re}static isValidSequence(o){for(let c of ke.FINDER_PATTERN_SEQUENCES){if(o.length>c.length)continue;let f=!0;for(let p=0;p<o.length;p++)if(o[p].getFinderPattern().getValue()!=c[p]){f=!1;break}if(f)return!0}return!1}storeRow(o,c){let f=0,p=!1,y=!1;for(;f<this.rows.length;){let b=this.rows[f];if(b.getRowNumber()>o){y=b.isEquivalent(this.pairs);break}p=b.isEquivalent(this.pairs),f++}y||p||ke.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new wl(this.pairs,o,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,c){for(let f of c)if(f.getPairs().length!==o.length){for(let p of f.getPairs())for(let y of o)if(ji.equals(p,y))break}}static isPartialRow(o,c){for(let f of c){let p=!0;for(let y of o){let b=!1;for(let E of f.getPairs())if(y.equals(E)){b=!0;break}if(!b){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(o){let c=Nr.buildBitArray(o),p=Ic(c).parseInformation(),y=o[0].getFinderPattern().getResultPoints(),b=o[o.length-1].getFinderPattern().getResultPoints(),E=[y[0],y[1],b[0],b[1]];return new Ye(p,null,null,E,Ne.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),c=o.getLeftChar(),f=o.getRightChar();if(f==null)return!1;let p=f.getChecksumPortion(),y=2;for(let E=1;E<this.pairs.size();++E){let _=this.pairs.get(E);p+=_.getLeftChar().getChecksumPortion(),y++;let N=_.getRightChar();N!=null&&(p+=N.getChecksumPortion(),y++)}return p%=211,211*(y-4)+p==c.getValue()}static getNextSecondBar(o,c){let f;return o.get(c)?(f=o.getNextUnset(c),f=o.getNextSet(f)):(f=o.getNextSet(c),f=o.getNextUnset(f)),f}retrieveNextPair(o,c,f){let p=c.length%2==0;this.startFromEven&&(p=!p);let y,b=!0,E=-1;do this.findNextPair(o,c,E),y=this.parseFoundFinderPattern(o,f,p),y==null?E=ke.getNextSecondBar(o,this.startEnd[0]):b=!1;while(b);let _=this.decodeDataCharacter(o,y,p,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new re;let N;try{N=this.decodeDataCharacter(o,y,p,!1)}catch(j){N=null,this.verbose&&console.log(j)}return new ji(_,N,y,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,c,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=o.getSize(),b;f>=0?b=f:this.isEmptyPair(c)?b=0:b=c[c.length-1].getFinderPattern().getStartEnd()[1];let E=c.length%2!=0;this.startFromEven&&(E=!E);let _=!1;for(;b<y&&(_=!o.get(b),!!_);)b++;let N=0,j=b;for(let Y=b;Y<y;Y++)if(o.get(Y)!=_)p[N]++;else{if(N==3){if(E&&ke.reverseCounters(p),ke.isFinderPattern(p)){this.startEnd[0]=j,this.startEnd[1]=Y;return}E&&ke.reverseCounters(p),j+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,N--}else N++;p[N]=1,_=!_}throw new re}static reverseCounters(o){let c=o.length;for(let f=0;f<c/2;++f){let p=o[f];o[f]=o[c-f-1],o[c-f-1]=p}}parseFoundFinderPattern(o,c,f){let p,y,b;if(f){let N=this.startEnd[0]-1;for(;N>=0&&!o.get(N);)N--;N++,p=this.startEnd[0]-N,y=N,b=this.startEnd[1]}else y=this.startEnd[0],b=o.getNextUnset(this.startEnd[1]+1),p=b-this.startEnd[1];let E=this.getDecodeFinderCounters();P.arraycopy(E,0,E,1,E.length-1),E[0]=p;let _;try{_=this.parseFinderValue(E,ke.FINDER_PATTERNS)}catch{return null}return new _o(_,[y,b],y,b,c)}decodeDataCharacter(o,c,f,p){let y=this.getDataCharacterCounters();for(let Tn=0;Tn<y.length;Tn++)y[Tn]=0;if(p)ke.recordPatternInReverse(o,c.getStartEnd()[0],y);else{ke.recordPattern(o,c.getStartEnd()[1],y);for(let Tn=0,Jr=y.length-1;Tn<Jr;Tn++,Jr--){let zi=y[Tn];y[Tn]=y[Jr],y[Jr]=zi}}let b=17,E=At.sum(new Int32Array(y))/b,_=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(E-_)/_>.3)throw new re;let N=this.getOddCounts(),j=this.getEvenCounts(),Y=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let Tn=0;Tn<y.length;Tn++){let Jr=1*y[Tn]/E,zi=Jr+.5;if(zi<1){if(Jr<.3)throw new re;zi=1}else if(zi>8){if(Jr>8.7)throw new re;zi=8}let Do=Tn/2;(Tn&1)==0?(N[Do]=zi,Y[Do]=Jr-zi):(j[Do]=zi,Q[Do]=Jr-zi)}this.adjustOddEvenCounts(b);let se=4*c.getValue()+(f?0:2)+(p?0:1)-1,fe=0,he=0;for(let Tn=N.length-1;Tn>=0;Tn--){if(ke.isNotA1left(c,f,p)){let Jr=ke.WEIGHTS[se][2*Tn];he+=N[Tn]*Jr}fe+=N[Tn]}let ye=0;for(let Tn=j.length-1;Tn>=0;Tn--)if(ke.isNotA1left(c,f,p)){let Jr=ke.WEIGHTS[se][2*Tn+1];ye+=j[Tn]*Jr}let Ae=he+ye;if((fe&1)!=0||fe>13||fe<4)throw new re;let He=(13-fe)/2,qe=ke.SYMBOL_WIDEST[He],ze=9-qe,Nt=an.getRSSvalue(N,qe,!0),Ot=an.getRSSvalue(j,ze,!1),Si=ke.EVEN_TOTAL_SUBSET[He],pa=ke.GSUM[He],Vi=Nt*Si+Ot+pa;return new Zi(Vi,Ae)}static isNotA1left(o,c,f){return!(o.getValue()==0&&c&&f)}adjustOddEvenCounts(o){let c=At.sum(new Int32Array(this.getOddCounts())),f=At.sum(new Int32Array(this.getEvenCounts())),p=!1,y=!1;c>13?y=!0:c<4&&(p=!0);let b=!1,E=!1;f>13?E=!0:f<4&&(b=!0);let _=c+f-o,N=(c&1)==1,j=(f&1)==0;if(_==1)if(N){if(j)throw new re;y=!0}else{if(!j)throw new re;E=!0}else if(_==-1)if(N){if(j)throw new re;p=!0}else{if(!j)throw new re;b=!0}else if(_==0){if(N){if(!j)throw new re;c<f?(p=!0,E=!0):(y=!0,b=!0)}else if(j)throw new re}else throw new re;if(p){if(y)throw new re;ke.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&ke.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(E)throw new re;ke.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&ke.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ke.SYMBOL_WIDEST=[7,5,4,3,1],ke.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ke.GSUM=[0,348,1388,2948,3988],ke.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ke.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ke.FINDER_PAT_A=0,ke.FINDER_PAT_B=1,ke.FINDER_PAT_C=2,ke.FINDER_PAT_D=3,ke.FINDER_PAT_E=4,ke.FINDER_PAT_F=5,ke.FINDER_PATTERN_SEQUENCES=[[ke.FINDER_PAT_A,ke.FINDER_PAT_A],[ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B],[ke.FINDER_PAT_A,ke.FINDER_PAT_C,ke.FINDER_PAT_B,ke.FINDER_PAT_D],[ke.FINDER_PAT_A,ke.FINDER_PAT_E,ke.FINDER_PAT_B,ke.FINDER_PAT_D,ke.FINDER_PAT_C],[ke.FINDER_PAT_A,ke.FINDER_PAT_E,ke.FINDER_PAT_B,ke.FINDER_PAT_D,ke.FINDER_PAT_D,ke.FINDER_PAT_F],[ke.FINDER_PAT_A,ke.FINDER_PAT_E,ke.FINDER_PAT_B,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_F,ke.FINDER_PAT_F],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_D],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_E],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_F,ke.FINDER_PAT_F],[ke.FINDER_PAT_A,ke.FINDER_PAT_A,ke.FINDER_PAT_B,ke.FINDER_PAT_B,ke.FINDER_PAT_C,ke.FINDER_PAT_D,ke.FINDER_PAT_D,ke.FINDER_PAT_E,ke.FINDER_PAT_E,ke.FINDER_PAT_F,ke.FINDER_PAT_F]],ke.MAX_PAIRS=11;class as extends Zi{constructor(o,c,f){super(o,c),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ft extends vr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,c,f){const p=this.decodePair(c,!1,o,f);Ft.addOrTally(this.possibleLeftPairs,p),c.reverse();let y=this.decodePair(c,!0,o,f);Ft.addOrTally(this.possibleRightPairs,y),c.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&Ft.checkChecksum(b,E))return Ft.constructResult(b,E)}throw new re}static addOrTally(o,c){if(c==null)return;let f=!1;for(let p of o)if(p.getValue()===c.getValue()){p.incrementCount(),f=!0;break}f||o.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,c){let f=4537077*o.getValue()+c.getValue(),p=new String(f).toString(),y=new U;for(let N=13-p.length;N>0;N--)y.append("0");y.append(p);let b=0;for(let N=0;N<13;N++){let j=y.charAt(N).charCodeAt(0)-48;b+=(N&1)===0?3*j:j}b=10-b%10,b===10&&(b=0),y.append(b.toString());let E=o.getFinderPattern().getResultPoints(),_=c.getFinderPattern().getResultPoints();return new Ye(y.toString(),null,0,[E[0],E[1],_[0],_[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(o,c){let f=(o.getChecksumPortion()+16*c.getChecksumPortion())%79,p=9*o.getFinderPattern().getValue()+c.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,f===p}decodePair(o,c,f,p){try{let y=this.findFinderPattern(o,c),b=this.parseFoundFinderPattern(o,f,c,y),E=p==null?null:p.get(ee.NEED_RESULT_POINT_CALLBACK);if(E!=null){let j=(y[0]+y[1])/2;c&&(j=o.getSize()-1-j),E.foundPossibleResultPoint(new $e(j,f))}let _=this.decodeDataCharacter(o,b,!0),N=this.decodeDataCharacter(o,b,!1);return new as(1597*_.getValue()+N.getValue(),_.getChecksumPortion()+4*N.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(o,c,f){let p=this.getDataCharacterCounters();for(let ye=0;ye<p.length;ye++)p[ye]=0;if(f)yt.recordPatternInReverse(o,c.getStartEnd()[0],p);else{yt.recordPattern(o,c.getStartEnd()[1]+1,p);for(let ye=0,Ae=p.length-1;ye<Ae;ye++,Ae--){let He=p[ye];p[ye]=p[Ae],p[Ae]=He}}let y=f?16:15,b=At.sum(new Int32Array(p))/y,E=this.getOddCounts(),_=this.getEvenCounts(),N=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let ye=0;ye<p.length;ye++){let Ae=p[ye]/b,He=Math.floor(Ae+.5);He<1?He=1:He>8&&(He=8);let qe=Math.floor(ye/2);(ye&1)===0?(E[qe]=He,N[qe]=Ae-He):(_[qe]=He,j[qe]=Ae-He)}this.adjustOddEvenCounts(f,y);let Y=0,Q=0;for(let ye=E.length-1;ye>=0;ye--)Q*=9,Q+=E[ye],Y+=E[ye];let se=0,fe=0;for(let ye=_.length-1;ye>=0;ye--)se*=9,se+=_[ye],fe+=_[ye];let he=Q+3*se;if(f){if((Y&1)!==0||Y>12||Y<4)throw new re;let ye=(12-Y)/2,Ae=Ft.OUTSIDE_ODD_WIDEST[ye],He=9-Ae,qe=an.getRSSvalue(E,Ae,!1),ze=an.getRSSvalue(_,He,!0),Nt=Ft.OUTSIDE_EVEN_TOTAL_SUBSET[ye],Ot=Ft.OUTSIDE_GSUM[ye];return new Zi(qe*Nt+ze+Ot,he)}else{if((fe&1)!==0||fe>10||fe<4)throw new re;let ye=(10-fe)/2,Ae=Ft.INSIDE_ODD_WIDEST[ye],He=9-Ae,qe=an.getRSSvalue(E,Ae,!0),ze=an.getRSSvalue(_,He,!1),Nt=Ft.INSIDE_ODD_TOTAL_SUBSET[ye],Ot=Ft.INSIDE_GSUM[ye];return new Zi(ze*Nt+qe+Ot,he)}}findFinderPattern(o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=o.getSize(),y=!1,b=0;for(;b<p&&(y=!o.get(b),c!==y);)b++;let E=0,_=b;for(let N=b;N<p;N++)if(o.get(N)!==y)f[E]++;else{if(E===3){if(vr.isFinderPattern(f))return[_,N];_+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,y=!y}throw new re}parseFoundFinderPattern(o,c,f,p){let y=o.get(p[0]),b=p[0]-1;for(;b>=0&&y!==o.get(b);)b--;b++;const E=p[0]-b,_=this.getDecodeFinderCounters(),N=new Int32Array(_.length);P.arraycopy(_,0,N,1,_.length-1),N[0]=E;const j=this.parseFinderValue(N,Ft.FINDER_PATTERNS);let Y=b,Q=p[1];return f&&(Y=o.getSize()-1-Y,Q=o.getSize()-1-Q),new _o(j,[b,p[1]],Y,Q,c)}adjustOddEvenCounts(o,c){let f=At.sum(new Int32Array(this.getOddCounts())),p=At.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1,E=!1,_=!1;o?(f>12?b=!0:f<4&&(y=!0),p>12?_=!0:p<4&&(E=!0)):(f>11?b=!0:f<5&&(y=!0),p>10?_=!0:p<4&&(E=!0));let N=f+p-c,j=(f&1)===(o?1:0),Y=(p&1)===1;if(N===1)if(j){if(Y)throw new re;b=!0}else{if(!Y)throw new re;_=!0}else if(N===-1)if(j){if(Y)throw new re;y=!0}else{if(!Y)throw new re;E=!0}else if(N===0){if(j){if(!Y)throw new re;f<p?(y=!0,_=!0):(b=!0,E=!0)}else if(Y)throw new re}else throw new re;if(y){if(b)throw new re;vr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&vr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(_)throw new re;vr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&vr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ft.OUTSIDE_GSUM=[0,161,961,2015,2715],Ft.INSIDE_GSUM=[0,336,1036,1516],Ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ft.INSIDE_ODD_WIDEST=[2,4,6,8],Ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ua extends yt{constructor(o,c){super(),this.readers=[],this.verbose=c===!0;const f=o?o.get(ee.POSSIBLE_FORMATS):null,p=o&&o.get(ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(Ne.EAN_13)||f.includes(Ne.UPC_A)||f.includes(Ne.EAN_8)||f.includes(Ne.UPC_E))&&this.readers.push(new rs(o)),f.includes(Ne.CODE_39)&&this.readers.push(new St(p)),f.includes(Ne.CODE_128)&&this.readers.push(new Fe),f.includes(Ne.ITF)&&this.readers.push(new Gt),f.includes(Ne.RSS_14)&&this.readers.push(new Ft),f.includes(Ne.RSS_EXPANDED)&&this.readers.push(new ke(this.verbose))):(this.readers.push(new rs(o)),this.readers.push(new St),this.readers.push(new rs(o)),this.readers.push(new Fe),this.readers.push(new Gt),this.readers.push(new Ft),this.readers.push(new ke(this.verbose)))}decodeRow(o,c,f){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(o,c,f)}catch{}throw new re}reset(){this.readers.forEach(o=>o.reset())}}class Su extends Le{constructor(o=500,c){super(new ua(c),o,c)}}class Ut{constructor(o,c,f){this.ecCodewords=o,this.ecBlocks=[c],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Wt{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class kt{constructor(o,c,f,p,y,b){this.versionNumber=o,this.symbolSizeRows=c,this.symbolSizeColumns=f,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=y,this.ecBlocks=b;let E=0;const _=b.getECCodewords(),N=b.getECBlocks();for(let j of N)E+=j.getCount()*(j.getDataCodewords()+_);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,c){if((o&1)!==0||(c&1)!==0)throw new B;for(let f of kt.VERSIONS)if(f.symbolSizeRows===o&&f.symbolSizeColumns===c)return f;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new kt(1,10,10,8,8,new Ut(5,new Wt(1,3))),new kt(2,12,12,10,10,new Ut(7,new Wt(1,5))),new kt(3,14,14,12,12,new Ut(10,new Wt(1,8))),new kt(4,16,16,14,14,new Ut(12,new Wt(1,12))),new kt(5,18,18,16,16,new Ut(14,new Wt(1,18))),new kt(6,20,20,18,18,new Ut(18,new Wt(1,22))),new kt(7,22,22,20,20,new Ut(20,new Wt(1,30))),new kt(8,24,24,22,22,new Ut(24,new Wt(1,36))),new kt(9,26,26,24,24,new Ut(28,new Wt(1,44))),new kt(10,32,32,14,14,new Ut(36,new Wt(1,62))),new kt(11,36,36,16,16,new Ut(42,new Wt(1,86))),new kt(12,40,40,18,18,new Ut(48,new Wt(1,114))),new kt(13,44,44,20,20,new Ut(56,new Wt(1,144))),new kt(14,48,48,22,22,new Ut(68,new Wt(1,174))),new kt(15,52,52,24,24,new Ut(42,new Wt(2,102))),new kt(16,64,64,14,14,new Ut(56,new Wt(2,140))),new kt(17,72,72,16,16,new Ut(36,new Wt(4,92))),new kt(18,80,80,18,18,new Ut(48,new Wt(4,114))),new kt(19,88,88,20,20,new Ut(56,new Wt(4,144))),new kt(20,96,96,22,22,new Ut(68,new Wt(4,174))),new kt(21,104,104,24,24,new Ut(56,new Wt(6,136))),new kt(22,120,120,18,18,new Ut(68,new Wt(6,175))),new kt(23,132,132,20,20,new Ut(62,new Wt(8,163))),new kt(24,144,144,22,22,new Ut(62,new Wt(8,156),new Wt(2,155))),new kt(25,8,18,6,16,new Ut(7,new Wt(1,5))),new kt(26,8,32,6,14,new Ut(11,new Wt(1,10))),new kt(27,12,26,10,24,new Ut(14,new Wt(1,16))),new kt(28,12,36,10,16,new Ut(18,new Wt(1,22))),new kt(29,16,36,14,16,new Ut(24,new Wt(1,32))),new kt(30,16,48,14,22,new Ut(28,new Wt(1,49)))]}}kt.VERSIONS=kt.buildVersions();class To{constructor(o){const c=o.getHeight();if(c<8||c>144||(c&1)!==0)throw new B;this.version=To.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const c=o.getHeight(),f=o.getWidth();return kt.getVersionForDimensions(c,f)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let c=0,f=4,p=0;const y=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let E=!1,_=!1,N=!1,j=!1;do if(f===y&&p===0&&!E)o[c++]=this.readCorner1(y,b)&255,f-=2,p+=2,E=!0;else if(f===y-2&&p===0&&(b&3)!==0&&!_)o[c++]=this.readCorner2(y,b)&255,f-=2,p+=2,_=!0;else if(f===y+4&&p===2&&(b&7)===0&&!N)o[c++]=this.readCorner3(y,b)&255,f-=2,p+=2,N=!0;else if(f===y-2&&p===0&&(b&7)===4&&!j)o[c++]=this.readCorner4(y,b)&255,f-=2,p+=2,j=!0;else{do f<y&&p>=0&&!this.readMappingMatrix.get(p,f)&&(o[c++]=this.readUtah(f,p,y,b)&255),f-=2,p+=2;while(f>=0&&p<b);f+=1,p+=3;do f>=0&&p<b&&!this.readMappingMatrix.get(p,f)&&(o[c++]=this.readUtah(f,p,y,b)&255),f+=2,p-=2;while(f<y&&p>=0);f+=3,p+=1}while(f<y||p<b);if(c!==this.version.getTotalCodewords())throw new B;return o}readModule(o,c,f,p){return o<0&&(o+=f,c+=4-(f+4&7)),c<0&&(c+=p,o+=4-(p+4&7)),this.readMappingMatrix.set(c,o),this.mappingBitMatrix.get(c,o)}readUtah(o,c,f,p){let y=0;return this.readModule(o-2,c-2,f,p)&&(y|=1),y<<=1,this.readModule(o-2,c-1,f,p)&&(y|=1),y<<=1,this.readModule(o-1,c-2,f,p)&&(y|=1),y<<=1,this.readModule(o-1,c-1,f,p)&&(y|=1),y<<=1,this.readModule(o-1,c,f,p)&&(y|=1),y<<=1,this.readModule(o,c-2,f,p)&&(y|=1),y<<=1,this.readModule(o,c-1,f,p)&&(y|=1),y<<=1,this.readModule(o,c,f,p)&&(y|=1),y}readCorner1(o,c){let f=0;return this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,1,o,c)&&(f|=1),f<<=1,this.readModule(o-1,2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(2,c-1,o,c)&&(f|=1),f<<=1,this.readModule(3,c-1,o,c)&&(f|=1),f}readCorner2(o,c){let f=0;return this.readModule(o-3,0,o,c)&&(f|=1),f<<=1,this.readModule(o-2,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(0,c-4,o,c)&&(f|=1),f<<=1,this.readModule(0,c-3,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f}readCorner3(o,c){let f=0;return this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(0,c-3,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-3,o,c)&&(f|=1),f<<=1,this.readModule(1,c-2,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f}readCorner4(o,c){let f=0;return this.readModule(o-3,0,o,c)&&(f|=1),f<<=1,this.readModule(o-2,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(2,c-1,o,c)&&(f|=1),f<<=1,this.readModule(3,c-1,o,c)&&(f|=1),f}extractDataRegion(o){const c=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(o.getHeight()!==c)throw new w("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),y=this.version.getDataRegionSizeColumns(),b=c/p|0,E=f/y|0,_=b*p,N=E*y,j=new ae(N,_);for(let Y=0;Y<b;++Y){const Q=Y*p;for(let se=0;se<E;++se){const fe=se*y;for(let he=0;he<p;++he){const ye=Y*(p+2)+1+he,Ae=Q+he;for(let He=0;He<y;++He){const qe=se*(y+2)+1+He;if(o.get(qe,ye)){const ze=fe+He;j.set(ze,Ae)}}}}}return j}}class Ks{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c){const f=c.getECBlocks();let p=0;const y=f.getECBlocks();for(let he of y)p+=he.getCount();const b=new Array(p);let E=0;for(let he of y)for(let ye=0;ye<he.getCount();ye++){const Ae=he.getDataCodewords(),He=f.getECCodewords()+Ae;b[E++]=new Ks(Ae,new Uint8Array(He))}const N=b[0].codewords.length-f.getECCodewords(),j=N-1;let Y=0;for(let he=0;he<j;he++)for(let ye=0;ye<E;ye++)b[ye].codewords[he]=o[Y++];const Q=c.getVersionNumber()===24,se=Q?8:E;for(let he=0;he<se;he++)b[he].codewords[N-1]=o[Y++];const fe=b[0].codewords.length;for(let he=N;he<fe;he++)for(let ye=0;ye<E;ye++){const Ae=Q?(ye+8)%E:ye,He=Q&&Ae>7?he-1:he;b[Ae].codewords[He]=o[Y++]}if(Y!==o.length)throw new w;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Qr{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new w(""+o);let c=0,f=this.bitOffset,p=this.byteOffset;const y=this.bytes;if(f>0){const b=8-f,E=o<b?o:b,_=b-E,N=255>>8-E<<_;c=(y[p]&N)>>_,o-=E,f+=E,f===8&&(f=0,p++)}if(o>0){for(;o>=8;)c=c<<8|y[p]&255,p++,o-=8;if(o>0){const b=8-o,E=255>>b<<b;c=c<<o|(y[p]&E)>>b,f+=o}}return this.bitOffset=f,this.byteOffset=p,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Zn;(function(W){W[W.PAD_ENCODE=0]="PAD_ENCODE",W[W.ASCII_ENCODE=1]="ASCII_ENCODE",W[W.C40_ENCODE=2]="C40_ENCODE",W[W.TEXT_ENCODE=3]="TEXT_ENCODE",W[W.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",W[W.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",W[W.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zn||(Zn={}));class ss{static decode(o){const c=new Qr(o),f=new U,p=new U,y=new Array;let b=Zn.ASCII_ENCODE;do if(b===Zn.ASCII_ENCODE)b=this.decodeAsciiSegment(c,f,p);else{switch(b){case Zn.C40_ENCODE:this.decodeC40Segment(c,f);break;case Zn.TEXT_ENCODE:this.decodeTextSegment(c,f);break;case Zn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,f);break;case Zn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,f);break;case Zn.BASE256_ENCODE:this.decodeBase256Segment(c,f,y);break;default:throw new B}b=Zn.ASCII_ENCODE}while(b!==Zn.PAD_ENCODE&&c.available()>0);return p.length()>0&&f.append(p.toString()),new Oe(o,f.toString(),y.length===0?null:y,null)}static decodeAsciiSegment(o,c,f){let p=!1;do{let y=o.readBits(8);if(y===0)throw new B;if(y<=128)return p&&(y+=128),c.append(String.fromCharCode(y-1)),Zn.ASCII_ENCODE;if(y===129)return Zn.PAD_ENCODE;if(y<=229){const b=y-130;b<10&&c.append("0"),c.append(""+b)}else switch(y){case 230:return Zn.C40_ENCODE;case 231:return Zn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:c.append("[)>05"),f.insert(0,"");break;case 237:c.append("[)>06"),f.insert(0,"");break;case 238:return Zn.ANSIX12_ENCODE;case 239:return Zn.TEXT_ENCODE;case 240:return Zn.EDIFACT_ENCODE;case 241:break;default:if(y!==254||o.available()!==0)throw new B;break}}while(o.available()>0);return Zn.ASCII_ENCODE}static decodeC40Segment(o,c){let f=!1;const p=[];let y=0;do{if(o.available()===8)return;const b=o.readBits(8);if(b===254)return;this.parseTwoBytes(b,o.readBits(8),p);for(let E=0;E<3;E++){const _=p[E];switch(y){case 0:if(_<3)y=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[_];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else throw new B;break;case 1:f?(c.append(String.fromCharCode(_+128)),f=!1):c.append(String.fromCharCode(_)),y=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[_];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else switch(_){case 27:c.append("");break;case 30:f=!0;break;default:throw new B}y=0;break;case 3:f?(c.append(String.fromCharCode(_+224)),f=!1):c.append(String.fromCharCode(_+96)),y=0;break;default:throw new B}}}while(o.available()>0)}static decodeTextSegment(o,c){let f=!1,p=[],y=0;do{if(o.available()===8)return;const b=o.readBits(8);if(b===254)return;this.parseTwoBytes(b,o.readBits(8),p);for(let E=0;E<3;E++){const _=p[E];switch(y){case 0:if(_<3)y=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[_];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else throw new B;break;case 1:f?(c.append(String.fromCharCode(_+128)),f=!1):c.append(String.fromCharCode(_)),y=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[_];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else switch(_){case 27:c.append("");break;case 30:f=!0;break;default:throw new B}y=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[_];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N),y=0}else throw new B;break;default:throw new B}}}while(o.available()>0)}static decodeAnsiX12Segment(o,c){const f=[];do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),f);for(let y=0;y<3;y++){const b=f[y];switch(b){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(b<14)c.append(String.fromCharCode(b+44));else if(b<40)c.append(String.fromCharCode(b+51));else throw new B;break}}}while(o.available()>0)}static parseTwoBytes(o,c,f){let p=(o<<8)+c-1,y=Math.floor(p/1600);f[0]=y,p-=y*1600,y=Math.floor(p/40),f[1]=y,f[2]=p-y*40}static decodeEdifactSegment(o,c){do{if(o.available()<=16)return;for(let f=0;f<4;f++){let p=o.readBits(6);if(p===31){const y=8-o.getBitOffset();y!==8&&o.readBits(y);return}(p&32)===0&&(p|=64),c.append(String.fromCharCode(p))}}while(o.available()>0)}static decodeBase256Segment(o,c,f){let p=1+o.getByteOffset();const y=this.unrandomize255State(o.readBits(8),p++);let b;if(y===0?b=o.available()/8|0:y<250?b=y:b=250*(y-249)+this.unrandomize255State(o.readBits(8),p++),b<0)throw new B;const E=new Uint8Array(b);for(let _=0;_<b;_++){if(o.available()<8)throw new B;E[_]=this.unrandomize255State(o.readBits(8),p++)}f.push(E);try{c.append(q.decode(E,K.ISO88591))}catch(_){throw new ht("Platform does not support required encoding: "+_.message)}}static unrandomize255State(o,c){const f=149*c%255+1,p=o-f;return p>=0?p:p+256}}ss.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ss.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ss.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ss.TEXT_SHIFT2_SET_CHARS=ss.C40_SHIFT2_SET_CHARS,ss.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class El{constructor(){this.rsDecoder=new hn(Je.DATA_MATRIX_FIELD_256)}decode(o){const c=new To(o),f=c.getVersion(),p=c.readCodewords(),y=Ks.getDataBlocks(p,f);let b=0;for(let N of y)b+=N.getNumDataCodewords();const E=new Uint8Array(b),_=y.length;for(let N=0;N<_;N++){const j=y[N],Y=j.getCodewords(),Q=j.getNumDataCodewords();this.correctErrors(Y,Q);for(let se=0;se<Q;se++)E[se*_+N]=Y[se]}return ss.decode(E)}correctErrors(o,c){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-c)}catch{throw new I}for(let p=0;p<c;p++)o[p]=f[p]}}class jn{constructor(o){this.image=o,this.rectangleDetector=new vi(this.image)}detect(){const o=this.rectangleDetector.detect();let c=this.detectSolid1(o);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new re;c=this.shiftToModuleCenter(c);const f=c[0],p=c[1],y=c[2],b=c[3];let E=this.transitionsBetween(f,b)+1,_=this.transitionsBetween(y,b)+1;(E&1)===1&&(E+=1),(_&1)===1&&(_+=1),4*E<7*_&&4*_<7*E&&(E=_=Math.max(E,_));let N=jn.sampleGrid(this.image,f,p,y,b,E,_);return new la(N,[f,p,y,b])}static shiftPoint(o,c,f){let p=(c.getX()-o.getX())/(f+1),y=(c.getY()-o.getY())/(f+1);return new $e(o.getX()+p,o.getY()+y)}static moveAway(o,c,f){let p=o.getX(),y=o.getY();return p<c?p-=1:p+=1,y<f?y-=1:y+=1,new $e(p,y)}detectSolid1(o){let c=o[0],f=o[1],p=o[3],y=o[2],b=this.transitionsBetween(c,f),E=this.transitionsBetween(f,p),_=this.transitionsBetween(p,y),N=this.transitionsBetween(y,c),j=b,Y=[y,c,f,p];return j>E&&(j=E,Y[0]=c,Y[1]=f,Y[2]=p,Y[3]=y),j>_&&(j=_,Y[0]=f,Y[1]=p,Y[2]=y,Y[3]=c),j>N&&(Y[0]=p,Y[1]=y,Y[2]=c,Y[3]=f),Y}detectSolid2(o){let c=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(c,y),E=jn.shiftPoint(f,p,(b+1)*4),_=jn.shiftPoint(p,f,(b+1)*4),N=this.transitionsBetween(E,c),j=this.transitionsBetween(_,y);return N<j?(o[0]=c,o[1]=f,o[2]=p,o[3]=y):(o[0]=f,o[1]=p,o[2]=y,o[3]=c),o}correctTopRight(o){let c=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(c,y),E=this.transitionsBetween(f,y),_=jn.shiftPoint(c,f,(E+1)*4),N=jn.shiftPoint(p,f,(b+1)*4);b=this.transitionsBetween(_,y),E=this.transitionsBetween(N,y);let j=new $e(y.getX()+(p.getX()-f.getX())/(b+1),y.getY()+(p.getY()-f.getY())/(b+1)),Y=new $e(y.getX()+(c.getX()-f.getX())/(E+1),y.getY()+(c.getY()-f.getY())/(E+1));if(!this.isValid(j))return this.isValid(Y)?Y:null;if(!this.isValid(Y))return j;let Q=this.transitionsBetween(_,j)+this.transitionsBetween(N,j),se=this.transitionsBetween(_,Y)+this.transitionsBetween(N,Y);return Q>se?j:Y}shiftToModuleCenter(o){let c=o[0],f=o[1],p=o[2],y=o[3],b=this.transitionsBetween(c,y)+1,E=this.transitionsBetween(p,y)+1,_=jn.shiftPoint(c,f,E*4),N=jn.shiftPoint(p,f,b*4);b=this.transitionsBetween(_,y)+1,E=this.transitionsBetween(N,y)+1,(b&1)===1&&(b+=1),(E&1)===1&&(E+=1);let j=(c.getX()+f.getX()+p.getX()+y.getX())/4,Y=(c.getY()+f.getY()+p.getY()+y.getY())/4;c=jn.moveAway(c,j,Y),f=jn.moveAway(f,j,Y),p=jn.moveAway(p,j,Y),y=jn.moveAway(y,j,Y);let Q,se;return _=jn.shiftPoint(c,f,E*4),_=jn.shiftPoint(_,y,b*4),Q=jn.shiftPoint(f,c,E*4),Q=jn.shiftPoint(Q,p,b*4),N=jn.shiftPoint(p,y,E*4),N=jn.shiftPoint(N,f,b*4),se=jn.shiftPoint(y,p,E*4),se=jn.shiftPoint(se,c,b*4),[_,Q,N,se]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,c,f,p,y,b,E){return ir.getInstance().sampleGrid(o,b,E,.5,.5,b-.5,.5,b-.5,E-.5,.5,E-.5,c.getX(),c.getY(),y.getX(),y.getY(),p.getX(),p.getY(),f.getX(),f.getY())}transitionsBetween(o,c){let f=Math.trunc(o.getX()),p=Math.trunc(o.getY()),y=Math.trunc(c.getX()),b=Math.trunc(c.getY()),E=Math.abs(b-p)>Math.abs(y-f);if(E){let he=f;f=p,p=he,he=y,y=b,b=he}let _=Math.abs(y-f),N=Math.abs(b-p),j=-_/2,Y=p<b?1:-1,Q=f<y?1:-1,se=0,fe=this.image.get(E?p:f,E?f:p);for(let he=f,ye=p;he!==y;he+=Q){let Ae=this.image.get(E?ye:he,E?he:ye);if(Ae!==fe&&(se++,fe=Ae),j+=N,j>0){if(ye===b)break;ye+=Y,j-=_}}return se}}class Bi{constructor(){this.decoder=new El}decode(o,c=null){let f,p;if(c!=null&&c.has(ee.PURE_BARCODE)){const N=Bi.extractPureBits(o.getBlackMatrix());f=this.decoder.decode(N),p=Bi.NO_POINTS}else{const N=new jn(o.getBlackMatrix()).detect();f=this.decoder.decode(N.getBits()),p=N.getPoints()}const y=f.getRawBytes(),b=new Ye(f.getText(),y,8*y.length,p,Ne.DATA_MATRIX,P.currentTimeMillis()),E=f.getByteSegments();E!=null&&b.putMetadata(lt.BYTE_SEGMENTS,E);const _=f.getECLevel();return _!=null&&b.putMetadata(lt.ERROR_CORRECTION_LEVEL,_),b}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(c==null||f==null)throw new re;const p=this.moduleSize(c,o);let y=c[1];const b=f[1];let E=c[0];const N=(f[0]-E+1)/p,j=(b-y+1)/p;if(N<=0||j<=0)throw new re;const Y=p/2;y+=Y,E+=Y;const Q=new ae(N,j);for(let se=0;se<j;se++){const fe=y+se*p;for(let he=0;he<N;he++)o.get(E+he*p,fe)&&Q.set(he,se)}return Q}static moduleSize(o,c){const f=c.getWidth();let p=o[0];const y=o[1];for(;p<f&&c.get(p,y);)p++;if(p===f)throw new re;const b=p-o[0];if(b===0)throw new re;return b}}Bi.NO_POINTS=[];class ch extends Le{constructor(o=500){super(new Bi,o)}}var Bn;(function(W){W[W.L=0]="L",W[W.M=1]="M",W[W.Q=2]="Q",W[W.H=3]="H"})(Bn||(Bn={}));class Vt{constructor(o,c,f){this.value=o,this.stringValue=c,this.bits=f,Vt.FOR_BITS.set(f,this),Vt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Vt.L;case"M":return Vt.M;case"Q":return Vt.Q;case"H":return Vt.H;default:throw new v(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Vt))return!1;const c=o;return this.value===c.value}static forBits(o){if(o<0||o>=Vt.FOR_BITS.size)throw new w;return Vt.FOR_BITS.get(o)}}Vt.FOR_BITS=new Map,Vt.FOR_VALUE=new Map,Vt.L=new Vt(Bn.L,"L",1),Vt.M=new Vt(Bn.M,"M",0),Vt.Q=new Vt(Bn.Q,"Q",3),Vt.H=new Vt(Bn.H,"H",2);class sr{constructor(o){this.errorCorrectionLevel=Vt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,c){return z.bitCount(o^c)}static decodeFormatInformation(o,c){const f=sr.doDecodeFormatInformation(o,c);return f!==null?f:sr.doDecodeFormatInformation(o^sr.FORMAT_INFO_MASK_QR,c^sr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,c){let f=Number.MAX_SAFE_INTEGER,p=0;for(const y of sr.FORMAT_INFO_DECODE_LOOKUP){const b=y[0];if(b===o||b===c)return new sr(y[1]);let E=sr.numBitsDiffering(o,b);E<f&&(p=y[1],f=E),o!==c&&(E=sr.numBitsDiffering(c,b),E<f&&(p=y[1],f=E))}return f<=3?new sr(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof sr))return!1;const c=o;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}sr.FORMAT_INFO_MASK_QR=21522,sr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class me{constructor(o,...c){this.ecCodewordsPerBlock=o,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const c=this.ecBlocks;for(const f of c)o+=f.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ie{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(o,c,...f){this.versionNumber=o,this.alignmentPatternCenters=c,this.ecBlocks=f;let p=0;const y=f[0].getECCodewordsPerBlock(),b=f[0].getECBlocks();for(const E of b)p+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new B;try{return this.getVersionForNumber((o-17)/4)}catch{throw new B}}static getVersionForNumber(o){if(o<1||o>40)throw new w;return We.VERSIONS[o-1]}static decodeVersionInformation(o){let c=Number.MAX_SAFE_INTEGER,f=0;for(let p=0;p<We.VERSION_DECODE_INFO.length;p++){const y=We.VERSION_DECODE_INFO[p];if(y===o)return We.getVersionForNumber(p+7);const b=sr.numBitsDiffering(o,y);b<c&&(f=p+7,c=b)}return c<=3?We.getVersionForNumber(f):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),c=new ae(o);c.setRegion(0,0,9,9),c.setRegion(o-8,0,8,9),c.setRegion(0,o-8,9,8);const f=this.alignmentPatternCenters.length;for(let p=0;p<f;p++){const y=this.alignmentPatternCenters[p]-2;for(let b=0;b<f;b++)p===0&&(b===0||b===f-1)||p===f-1&&b===0||c.setRegion(this.alignmentPatternCenters[b]-2,y,5,5)}return c.setRegion(6,9,1,o-17),c.setRegion(9,6,o-17,1),this.versionNumber>6&&(c.setRegion(o-11,0,3,6),c.setRegion(0,o-11,6,3)),c}toString(){return""+this.versionNumber}}We.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),We.VERSIONS=[new We(1,new Int32Array(0),new me(7,new ie(1,19)),new me(10,new ie(1,16)),new me(13,new ie(1,13)),new me(17,new ie(1,9))),new We(2,Int32Array.from([6,18]),new me(10,new ie(1,34)),new me(16,new ie(1,28)),new me(22,new ie(1,22)),new me(28,new ie(1,16))),new We(3,Int32Array.from([6,22]),new me(15,new ie(1,55)),new me(26,new ie(1,44)),new me(18,new ie(2,17)),new me(22,new ie(2,13))),new We(4,Int32Array.from([6,26]),new me(20,new ie(1,80)),new me(18,new ie(2,32)),new me(26,new ie(2,24)),new me(16,new ie(4,9))),new We(5,Int32Array.from([6,30]),new me(26,new ie(1,108)),new me(24,new ie(2,43)),new me(18,new ie(2,15),new ie(2,16)),new me(22,new ie(2,11),new ie(2,12))),new We(6,Int32Array.from([6,34]),new me(18,new ie(2,68)),new me(16,new ie(4,27)),new me(24,new ie(4,19)),new me(28,new ie(4,15))),new We(7,Int32Array.from([6,22,38]),new me(20,new ie(2,78)),new me(18,new ie(4,31)),new me(18,new ie(2,14),new ie(4,15)),new me(26,new ie(4,13),new ie(1,14))),new We(8,Int32Array.from([6,24,42]),new me(24,new ie(2,97)),new me(22,new ie(2,38),new ie(2,39)),new me(22,new ie(4,18),new ie(2,19)),new me(26,new ie(4,14),new ie(2,15))),new We(9,Int32Array.from([6,26,46]),new me(30,new ie(2,116)),new me(22,new ie(3,36),new ie(2,37)),new me(20,new ie(4,16),new ie(4,17)),new me(24,new ie(4,12),new ie(4,13))),new We(10,Int32Array.from([6,28,50]),new me(18,new ie(2,68),new ie(2,69)),new me(26,new ie(4,43),new ie(1,44)),new me(24,new ie(6,19),new ie(2,20)),new me(28,new ie(6,15),new ie(2,16))),new We(11,Int32Array.from([6,30,54]),new me(20,new ie(4,81)),new me(30,new ie(1,50),new ie(4,51)),new me(28,new ie(4,22),new ie(4,23)),new me(24,new ie(3,12),new ie(8,13))),new We(12,Int32Array.from([6,32,58]),new me(24,new ie(2,92),new ie(2,93)),new me(22,new ie(6,36),new ie(2,37)),new me(26,new ie(4,20),new ie(6,21)),new me(28,new ie(7,14),new ie(4,15))),new We(13,Int32Array.from([6,34,62]),new me(26,new ie(4,107)),new me(22,new ie(8,37),new ie(1,38)),new me(24,new ie(8,20),new ie(4,21)),new me(22,new ie(12,11),new ie(4,12))),new We(14,Int32Array.from([6,26,46,66]),new me(30,new ie(3,115),new ie(1,116)),new me(24,new ie(4,40),new ie(5,41)),new me(20,new ie(11,16),new ie(5,17)),new me(24,new ie(11,12),new ie(5,13))),new We(15,Int32Array.from([6,26,48,70]),new me(22,new ie(5,87),new ie(1,88)),new me(24,new ie(5,41),new ie(5,42)),new me(30,new ie(5,24),new ie(7,25)),new me(24,new ie(11,12),new ie(7,13))),new We(16,Int32Array.from([6,26,50,74]),new me(24,new ie(5,98),new ie(1,99)),new me(28,new ie(7,45),new ie(3,46)),new me(24,new ie(15,19),new ie(2,20)),new me(30,new ie(3,15),new ie(13,16))),new We(17,Int32Array.from([6,30,54,78]),new me(28,new ie(1,107),new ie(5,108)),new me(28,new ie(10,46),new ie(1,47)),new me(28,new ie(1,22),new ie(15,23)),new me(28,new ie(2,14),new ie(17,15))),new We(18,Int32Array.from([6,30,56,82]),new me(30,new ie(5,120),new ie(1,121)),new me(26,new ie(9,43),new ie(4,44)),new me(28,new ie(17,22),new ie(1,23)),new me(28,new ie(2,14),new ie(19,15))),new We(19,Int32Array.from([6,30,58,86]),new me(28,new ie(3,113),new ie(4,114)),new me(26,new ie(3,44),new ie(11,45)),new me(26,new ie(17,21),new ie(4,22)),new me(26,new ie(9,13),new ie(16,14))),new We(20,Int32Array.from([6,34,62,90]),new me(28,new ie(3,107),new ie(5,108)),new me(26,new ie(3,41),new ie(13,42)),new me(30,new ie(15,24),new ie(5,25)),new me(28,new ie(15,15),new ie(10,16))),new We(21,Int32Array.from([6,28,50,72,94]),new me(28,new ie(4,116),new ie(4,117)),new me(26,new ie(17,42)),new me(28,new ie(17,22),new ie(6,23)),new me(30,new ie(19,16),new ie(6,17))),new We(22,Int32Array.from([6,26,50,74,98]),new me(28,new ie(2,111),new ie(7,112)),new me(28,new ie(17,46)),new me(30,new ie(7,24),new ie(16,25)),new me(24,new ie(34,13))),new We(23,Int32Array.from([6,30,54,78,102]),new me(30,new ie(4,121),new ie(5,122)),new me(28,new ie(4,47),new ie(14,48)),new me(30,new ie(11,24),new ie(14,25)),new me(30,new ie(16,15),new ie(14,16))),new We(24,Int32Array.from([6,28,54,80,106]),new me(30,new ie(6,117),new ie(4,118)),new me(28,new ie(6,45),new ie(14,46)),new me(30,new ie(11,24),new ie(16,25)),new me(30,new ie(30,16),new ie(2,17))),new We(25,Int32Array.from([6,32,58,84,110]),new me(26,new ie(8,106),new ie(4,107)),new me(28,new ie(8,47),new ie(13,48)),new me(30,new ie(7,24),new ie(22,25)),new me(30,new ie(22,15),new ie(13,16))),new We(26,Int32Array.from([6,30,58,86,114]),new me(28,new ie(10,114),new ie(2,115)),new me(28,new ie(19,46),new ie(4,47)),new me(28,new ie(28,22),new ie(6,23)),new me(30,new ie(33,16),new ie(4,17))),new We(27,Int32Array.from([6,34,62,90,118]),new me(30,new ie(8,122),new ie(4,123)),new me(28,new ie(22,45),new ie(3,46)),new me(30,new ie(8,23),new ie(26,24)),new me(30,new ie(12,15),new ie(28,16))),new We(28,Int32Array.from([6,26,50,74,98,122]),new me(30,new ie(3,117),new ie(10,118)),new me(28,new ie(3,45),new ie(23,46)),new me(30,new ie(4,24),new ie(31,25)),new me(30,new ie(11,15),new ie(31,16))),new We(29,Int32Array.from([6,30,54,78,102,126]),new me(30,new ie(7,116),new ie(7,117)),new me(28,new ie(21,45),new ie(7,46)),new me(30,new ie(1,23),new ie(37,24)),new me(30,new ie(19,15),new ie(26,16))),new We(30,Int32Array.from([6,26,52,78,104,130]),new me(30,new ie(5,115),new ie(10,116)),new me(28,new ie(19,47),new ie(10,48)),new me(30,new ie(15,24),new ie(25,25)),new me(30,new ie(23,15),new ie(25,16))),new We(31,Int32Array.from([6,30,56,82,108,134]),new me(30,new ie(13,115),new ie(3,116)),new me(28,new ie(2,46),new ie(29,47)),new me(30,new ie(42,24),new ie(1,25)),new me(30,new ie(23,15),new ie(28,16))),new We(32,Int32Array.from([6,34,60,86,112,138]),new me(30,new ie(17,115)),new me(28,new ie(10,46),new ie(23,47)),new me(30,new ie(10,24),new ie(35,25)),new me(30,new ie(19,15),new ie(35,16))),new We(33,Int32Array.from([6,30,58,86,114,142]),new me(30,new ie(17,115),new ie(1,116)),new me(28,new ie(14,46),new ie(21,47)),new me(30,new ie(29,24),new ie(19,25)),new me(30,new ie(11,15),new ie(46,16))),new We(34,Int32Array.from([6,34,62,90,118,146]),new me(30,new ie(13,115),new ie(6,116)),new me(28,new ie(14,46),new ie(23,47)),new me(30,new ie(44,24),new ie(7,25)),new me(30,new ie(59,16),new ie(1,17))),new We(35,Int32Array.from([6,30,54,78,102,126,150]),new me(30,new ie(12,121),new ie(7,122)),new me(28,new ie(12,47),new ie(26,48)),new me(30,new ie(39,24),new ie(14,25)),new me(30,new ie(22,15),new ie(41,16))),new We(36,Int32Array.from([6,24,50,76,102,128,154]),new me(30,new ie(6,121),new ie(14,122)),new me(28,new ie(6,47),new ie(34,48)),new me(30,new ie(46,24),new ie(10,25)),new me(30,new ie(2,15),new ie(64,16))),new We(37,Int32Array.from([6,28,54,80,106,132,158]),new me(30,new ie(17,122),new ie(4,123)),new me(28,new ie(29,46),new ie(14,47)),new me(30,new ie(49,24),new ie(10,25)),new me(30,new ie(24,15),new ie(46,16))),new We(38,Int32Array.from([6,32,58,84,110,136,162]),new me(30,new ie(4,122),new ie(18,123)),new me(28,new ie(13,46),new ie(32,47)),new me(30,new ie(48,24),new ie(14,25)),new me(30,new ie(42,15),new ie(32,16))),new We(39,Int32Array.from([6,26,54,82,110,138,166]),new me(30,new ie(20,117),new ie(4,118)),new me(28,new ie(40,47),new ie(7,48)),new me(30,new ie(43,24),new ie(22,25)),new me(30,new ie(10,15),new ie(67,16))),new We(40,Int32Array.from([6,30,58,86,114,142,170]),new me(30,new ie(19,118),new ie(6,119)),new me(28,new ie(18,47),new ie(31,48)),new me(30,new ie(34,24),new ie(34,25)),new me(30,new ie(20,15),new ie(61,16)))];var Wn;(function(W){W[W.DATA_MASK_000=0]="DATA_MASK_000",W[W.DATA_MASK_001=1]="DATA_MASK_001",W[W.DATA_MASK_010=2]="DATA_MASK_010",W[W.DATA_MASK_011=3]="DATA_MASK_011",W[W.DATA_MASK_100=4]="DATA_MASK_100",W[W.DATA_MASK_101=5]="DATA_MASK_101",W[W.DATA_MASK_110=6]="DATA_MASK_110",W[W.DATA_MASK_111=7]="DATA_MASK_111"})(Wn||(Wn={}));class Jn{constructor(o,c){this.value=o,this.isMasked=c}unmaskBitMatrix(o,c){for(let f=0;f<c;f++)for(let p=0;p<c;p++)this.isMasked(f,p)&&o.flip(p,f)}}Jn.values=new Map([[Wn.DATA_MASK_000,new Jn(Wn.DATA_MASK_000,(W,o)=>(W+o&1)===0)],[Wn.DATA_MASK_001,new Jn(Wn.DATA_MASK_001,(W,o)=>(W&1)===0)],[Wn.DATA_MASK_010,new Jn(Wn.DATA_MASK_010,(W,o)=>o%3===0)],[Wn.DATA_MASK_011,new Jn(Wn.DATA_MASK_011,(W,o)=>(W+o)%3===0)],[Wn.DATA_MASK_100,new Jn(Wn.DATA_MASK_100,(W,o)=>(Math.floor(W/2)+Math.floor(o/3)&1)===0)],[Wn.DATA_MASK_101,new Jn(Wn.DATA_MASK_101,(W,o)=>W*o%6===0)],[Wn.DATA_MASK_110,new Jn(Wn.DATA_MASK_110,(W,o)=>W*o%6<3)],[Wn.DATA_MASK_111,new Jn(Wn.DATA_MASK_111,(W,o)=>(W+o+W*o%3&1)===0)]]);class Io{constructor(o){const c=o.getHeight();if(c<21||(c&3)!==1)throw new B;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let y=0;y<6;y++)o=this.copyBit(y,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let y=5;y>=0;y--)o=this.copyBit(8,y,o);const c=this.bitMatrix.getHeight();let f=0;const p=c-7;for(let y=c-1;y>=p;y--)f=this.copyBit(8,y,f);for(let y=c-8;y<c;y++)f=this.copyBit(y,8,f);if(this.parsedFormatInfo=sr.decodeFormatInformation(o,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),c=Math.floor((o-17)/4);if(c<=6)return We.getVersionForNumber(c);let f=0;const p=o-11;for(let b=5;b>=0;b--)for(let E=o-9;E>=p;E--)f=this.copyBit(E,b,f);let y=We.decodeVersionInformation(f);if(y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;f=0;for(let b=5;b>=0;b--)for(let E=o-9;E>=p;E--)f=this.copyBit(b,E,f);if(y=We.decodeVersionInformation(f),y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;throw new B}copyBit(o,c,f){return(this.isMirror?this.bitMatrix.get(c,o):this.bitMatrix.get(o,c))?f<<1|1:f<<1}readCodewords(){const o=this.readFormatInformation(),c=this.readVersion(),f=Jn.values.get(o.getDataMask()),p=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,p);const y=c.buildFunctionPattern();let b=!0;const E=new Uint8Array(c.getTotalCodewords());let _=0,N=0,j=0;for(let Y=p-1;Y>0;Y-=2){Y===6&&Y--;for(let Q=0;Q<p;Q++){const se=b?p-1-Q:Q;for(let fe=0;fe<2;fe++)y.get(Y-fe,se)||(j++,N<<=1,this.bitMatrix.get(Y-fe,se)&&(N|=1),j===8&&(E[_++]=N,j=0,N=0))}b=!b}if(_!==c.getTotalCodewords())throw new B;return E}remask(){if(this.parsedFormatInfo===null)return;const o=Jn.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let c=0,f=o.getWidth();c<f;c++)for(let p=c+1,y=o.getHeight();p<y;p++)o.get(c,p)!==o.get(p,c)&&(o.flip(p,c),o.flip(c,p))}}class Al{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c,f){if(o.length!==c.getTotalCodewords())throw new w;const p=c.getECBlocksForLevel(f);let y=0;const b=p.getECBlocks();for(const fe of b)y+=fe.getCount();const E=new Array(y);let _=0;for(const fe of b)for(let he=0;he<fe.getCount();he++){const ye=fe.getDataCodewords(),Ae=p.getECCodewordsPerBlock()+ye;E[_++]=new Al(ye,new Uint8Array(Ae))}const N=E[0].codewords.length;let j=E.length-1;for(;j>=0&&E[j].codewords.length!==N;)j--;j++;const Y=N-p.getECCodewordsPerBlock();let Q=0;for(let fe=0;fe<Y;fe++)for(let he=0;he<_;he++)E[he].codewords[fe]=o[Q++];for(let fe=j;fe<_;fe++)E[fe].codewords[Y]=o[Q++];const se=E[0].codewords.length;for(let fe=Y;fe<se;fe++)for(let he=0;he<_;he++){const ye=he<j?fe:fe+1;E[he].codewords[ye]=o[Q++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ci;(function(W){W[W.TERMINATOR=0]="TERMINATOR",W[W.NUMERIC=1]="NUMERIC",W[W.ALPHANUMERIC=2]="ALPHANUMERIC",W[W.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",W[W.BYTE=4]="BYTE",W[W.ECI=5]="ECI",W[W.KANJI=6]="KANJI",W[W.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",W[W.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",W[W.HANZI=9]="HANZI"})(ci||(ci={}));class ut{constructor(o,c,f,p){this.value=o,this.stringValue=c,this.characterCountBitsForVersions=f,this.bits=p,ut.FOR_BITS.set(p,this),ut.FOR_VALUE.set(o,this)}static forBits(o){const c=ut.FOR_BITS.get(o);if(c===void 0)throw new w;return c}getCharacterCountBits(o){const c=o.getVersionNumber();let f;return c<=9?f=0:c<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof ut))return!1;const c=o;return this.value===c.value}toString(){return this.stringValue}}ut.FOR_BITS=new Map,ut.FOR_VALUE=new Map,ut.TERMINATOR=new ut(ci.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ut.NUMERIC=new ut(ci.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ut.ALPHANUMERIC=new ut(ci.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ut.STRUCTURED_APPEND=new ut(ci.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ut.BYTE=new ut(ci.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ut.ECI=new ut(ci.ECI,"ECI",Int32Array.from([0,0,0]),7),ut.KANJI=new ut(ci.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ut.FNC1_FIRST_POSITION=new ut(ci.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ut.FNC1_SECOND_POSITION=new ut(ci.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ut.HANZI=new ut(ci.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Fn{static decode(o,c,f,p){const y=new Qr(o);let b=new U;const E=new Array;let _=-1,N=-1;try{let j=null,Y=!1,Q;do{if(y.available()<4)Q=ut.TERMINATOR;else{const se=y.readBits(4);Q=ut.forBits(se)}switch(Q){case ut.TERMINATOR:break;case ut.FNC1_FIRST_POSITION:case ut.FNC1_SECOND_POSITION:Y=!0;break;case ut.STRUCTURED_APPEND:if(y.available()<16)throw new B;_=y.readBits(8),N=y.readBits(8);break;case ut.ECI:const se=Fn.parseECIValue(y);if(j=F.getCharacterSetECIByValue(se),j===null)throw new B;break;case ut.HANZI:const fe=y.readBits(4),he=y.readBits(Q.getCharacterCountBits(c));fe===Fn.GB2312_SUBSET&&Fn.decodeHanziSegment(y,b,he);break;default:const ye=y.readBits(Q.getCharacterCountBits(c));switch(Q){case ut.NUMERIC:Fn.decodeNumericSegment(y,b,ye);break;case ut.ALPHANUMERIC:Fn.decodeAlphanumericSegment(y,b,ye,Y);break;case ut.BYTE:Fn.decodeByteSegment(y,b,ye,j,E,p);break;case ut.KANJI:Fn.decodeKanjiSegment(y,b,ye);break;default:throw new B}break}}while(Q!==ut.TERMINATOR)}catch{throw new B}return new Oe(o,b.toString(),E.length===0?null:E,f===null?null:f.toString(),_,N)}static decodeHanziSegment(o,c,f){if(f*13>o.available())throw new B;const p=new Uint8Array(2*f);let y=0;for(;f>0;){const b=o.readBits(13);let E=b/96<<8&4294967295|b%96;E<959?E+=41377:E+=42657,p[y]=E>>8&255,p[y+1]=E&255,y+=2,f--}try{c.append(q.decode(p,K.GB2312))}catch(b){throw new B(b)}}static decodeKanjiSegment(o,c,f){if(f*13>o.available())throw new B;const p=new Uint8Array(2*f);let y=0;for(;f>0;){const b=o.readBits(13);let E=b/192<<8&4294967295|b%192;E<7936?E+=33088:E+=49472,p[y]=E>>8,p[y+1]=E,y+=2,f--}try{c.append(q.decode(p,K.SHIFT_JIS))}catch(b){throw new B(b)}}static decodeByteSegment(o,c,f,p,y,b){if(8*f>o.available())throw new B;const E=new Uint8Array(f);for(let N=0;N<f;N++)E[N]=o.readBits(8);let _;p===null?_=K.guessEncoding(E,b):_=p.getName();try{c.append(q.decode(E,_))}catch(N){throw new B(N)}y.push(E)}static toAlphaNumericChar(o){if(o>=Fn.ALPHANUMERIC_CHARS.length)throw new B;return Fn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,c,f,p){const y=c.length();for(;f>1;){if(o.available()<11)throw new B;const b=o.readBits(11);c.append(Fn.toAlphaNumericChar(Math.floor(b/45))),c.append(Fn.toAlphaNumericChar(b%45)),f-=2}if(f===1){if(o.available()<6)throw new B;c.append(Fn.toAlphaNumericChar(o.readBits(6)))}if(p)for(let b=y;b<c.length();b++)c.charAt(b)==="%"&&(b<c.length()-1&&c.charAt(b+1)==="%"?c.deleteCharAt(b+1):c.setCharAt(b,""))}static decodeNumericSegment(o,c,f){for(;f>=3;){if(o.available()<10)throw new B;const p=o.readBits(10);if(p>=1e3)throw new B;c.append(Fn.toAlphaNumericChar(Math.floor(p/100))),c.append(Fn.toAlphaNumericChar(Math.floor(p/10)%10)),c.append(Fn.toAlphaNumericChar(p%10)),f-=3}if(f===2){if(o.available()<7)throw new B;const p=o.readBits(7);if(p>=100)throw new B;c.append(Fn.toAlphaNumericChar(Math.floor(p/10))),c.append(Fn.toAlphaNumericChar(p%10))}else if(f===1){if(o.available()<4)throw new B;const p=o.readBits(4);if(p>=10)throw new B;c.append(Fn.toAlphaNumericChar(p))}}static parseECIValue(o){const c=o.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const f=o.readBits(8);return(c&63)<<8&4294967295|f}if((c&224)===192){const f=o.readBits(16);return(c&31)<<16&4294967295|f}throw new B}}Fn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Fn.GB2312_SUBSET=1;class Cu{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const c=o[0];o[0]=o[2],o[2]=c}}class Sl{constructor(){this.rsDecoder=new hn(Je.QR_CODE_FIELD_256)}decodeBooleanArray(o,c){return this.decodeBitMatrix(ae.parseFromBooleanArray(o),c)}decodeBitMatrix(o,c){const f=new Io(o);let p=null;try{return this.decodeBitMatrixParser(f,c)}catch(y){p=y}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const y=this.decodeBitMatrixParser(f,c);return y.setOther(new Cu(!0)),y}catch(y){throw p!==null?p:y}}decodeBitMatrixParser(o,c){const f=o.readVersion(),p=o.readFormatInformation().getErrorCorrectionLevel(),y=o.readCodewords(),b=Al.getDataBlocks(y,f,p);let E=0;for(const j of b)E+=j.getNumDataCodewords();const _=new Uint8Array(E);let N=0;for(const j of b){const Y=j.getCodewords(),Q=j.getNumDataCodewords();this.correctErrors(Y,Q);for(let se=0;se<Q;se++)_[N++]=Y[se]}return Fn.decode(_,f,p,c)}correctErrors(o,c){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-c)}catch{throw new I}for(let p=0;p<c;p++)o[p]=f[p]}}class Ia extends $e{constructor(o,c,f){super(o,c),this.estimatedModuleSize=f}aboutEquals(o,c,f){if(Math.abs(c-this.getY())<=o&&Math.abs(f-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,c,f){const p=(this.getX()+c)/2,y=(this.getY()+o)/2,b=(this.estimatedModuleSize+f)/2;return new Ia(p,y,b)}}class Ei{constructor(o,c,f,p,y,b,E){this.image=o,this.startX=c,this.startY=f,this.width=p,this.height=y,this.moduleSize=b,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,c=this.height,f=this.width,p=o+f,y=this.startY+c/2,b=new Int32Array(3),E=this.image;for(let _=0;_<c;_++){const N=y+((_&1)===0?Math.floor((_+1)/2):-Math.floor((_+1)/2));b[0]=0,b[1]=0,b[2]=0;let j=o;for(;j<p&&!E.get(j,N);)j++;let Y=0;for(;j<p;){if(E.get(j,N))if(Y===1)b[1]++;else if(Y===2){if(this.foundPatternCross(b)){const Q=this.handlePossibleCenter(b,N,j);if(Q!==null)return Q}b[0]=b[2],b[1]=1,b[2]=0,Y=1}else b[++Y]++;else Y===1&&Y++,b[Y]++;j++}if(this.foundPatternCross(b)){const Q=this.handlePossibleCenter(b,N,p);if(Q!==null)return Q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(o,c){return c-o[2]-o[1]/2}foundPatternCross(o){const c=this.moduleSize,f=c/2;for(let p=0;p<3;p++)if(Math.abs(c-o[p])>=f)return!1;return!0}crossCheckVertical(o,c,f,p){const y=this.image,b=y.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let _=o;for(;_>=0&&y.get(c,_)&&E[1]<=f;)E[1]++,_--;if(_<0||E[1]>f)return NaN;for(;_>=0&&!y.get(c,_)&&E[0]<=f;)E[0]++,_--;if(E[0]>f)return NaN;for(_=o+1;_<b&&y.get(c,_)&&E[1]<=f;)E[1]++,_++;if(_===b||E[1]>f)return NaN;for(;_<b&&!y.get(c,_)&&E[2]<=f;)E[2]++,_++;if(E[2]>f)return NaN;const N=E[0]+E[1]+E[2];return 5*Math.abs(N-p)>=2*p?NaN:this.foundPatternCross(E)?Ei.centerFromEnd(E,_):NaN}handlePossibleCenter(o,c,f){const p=o[0]+o[1]+o[2],y=Ei.centerFromEnd(o,f),b=this.crossCheckVertical(c,y,2*o[1],p);if(!isNaN(b)){const E=(o[0]+o[1]+o[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(E,b,y))return N.combineEstimate(b,y,E);const _=new Ia(y,b,E);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class Oa extends $e{constructor(o,c,f,p){super(o,c),this.estimatedModuleSize=f,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,c,f){if(Math.abs(c-this.getY())<=o&&Math.abs(f-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,c,f){const p=this.count+1,y=(this.count*this.getX()+c)/p,b=(this.count*this.getY()+o)/p,E=(this.count*this.estimatedModuleSize+f)/p;return new Oa(y,b,E,p)}}class ks{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class or{constructor(o,c){this.image=o,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const c=o!=null&&o.get(ee.TRY_HARDER)!==void 0,f=o!=null&&o.get(ee.PURE_BARCODE)!==void 0,p=this.image,y=p.getHeight(),b=p.getWidth();let E=Math.floor(3*y/(4*or.MAX_MODULES));(E<or.MIN_SKIP||c)&&(E=or.MIN_SKIP);let _=!1;const N=new Int32Array(5);for(let Y=E-1;Y<y&&!_;Y+=E){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let Q=0;for(let se=0;se<b;se++)if(p.get(se,Y))(Q&1)===1&&Q++,N[Q]++;else if((Q&1)===0)if(Q===4)if(or.foundPatternCross(N)){if(this.handlePossibleCenter(N,Y,se,f)===!0)if(E=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const he=this.findRowSkip();he>N[2]&&(Y+=he-N[2]-E,se=b-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,Q=3;continue}Q=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,Q=3;else N[++Q]++;else N[Q]++;or.foundPatternCross(N)&&this.handlePossibleCenter(N,Y,b,f)===!0&&(E=N[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return $e.orderBestPatterns(j),new ks(j)}static centerFromEnd(o,c){return c-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let c=0;for(let y=0;y<5;y++){const b=o[y];if(b===0)return!1;c+=b}if(c<7)return!1;const f=c/7,p=f/2;return Math.abs(f-o[0])<p&&Math.abs(f-o[1])<p&&Math.abs(3*f-o[2])<3*p&&Math.abs(f-o[3])<p&&Math.abs(f-o[4])<p}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,c,f,p){const y=this.getCrossCheckStateCount();let b=0;const E=this.image;for(;o>=b&&c>=b&&E.get(c-b,o-b);)y[2]++,b++;if(o<b||c<b)return!1;for(;o>=b&&c>=b&&!E.get(c-b,o-b)&&y[1]<=f;)y[1]++,b++;if(o<b||c<b||y[1]>f)return!1;for(;o>=b&&c>=b&&E.get(c-b,o-b)&&y[0]<=f;)y[0]++,b++;if(y[0]>f)return!1;const _=E.getHeight(),N=E.getWidth();for(b=1;o+b<_&&c+b<N&&E.get(c+b,o+b);)y[2]++,b++;if(o+b>=_||c+b>=N)return!1;for(;o+b<_&&c+b<N&&!E.get(c+b,o+b)&&y[3]<f;)y[3]++,b++;if(o+b>=_||c+b>=N||y[3]>=f)return!1;for(;o+b<_&&c+b<N&&E.get(c+b,o+b)&&y[4]<f;)y[4]++,b++;if(y[4]>=f)return!1;const j=y[0]+y[1]+y[2]+y[3]+y[4];return Math.abs(j-p)<2*p&&or.foundPatternCross(y)}crossCheckVertical(o,c,f,p){const y=this.image,b=y.getHeight(),E=this.getCrossCheckStateCount();let _=o;for(;_>=0&&y.get(c,_);)E[2]++,_--;if(_<0)return NaN;for(;_>=0&&!y.get(c,_)&&E[1]<=f;)E[1]++,_--;if(_<0||E[1]>f)return NaN;for(;_>=0&&y.get(c,_)&&E[0]<=f;)E[0]++,_--;if(E[0]>f)return NaN;for(_=o+1;_<b&&y.get(c,_);)E[2]++,_++;if(_===b)return NaN;for(;_<b&&!y.get(c,_)&&E[3]<f;)E[3]++,_++;if(_===b||E[3]>=f)return NaN;for(;_<b&&y.get(c,_)&&E[4]<f;)E[4]++,_++;if(E[4]>=f)return NaN;const N=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(N-p)>=2*p?NaN:or.foundPatternCross(E)?or.centerFromEnd(E,_):NaN}crossCheckHorizontal(o,c,f,p){const y=this.image,b=y.getWidth(),E=this.getCrossCheckStateCount();let _=o;for(;_>=0&&y.get(_,c);)E[2]++,_--;if(_<0)return NaN;for(;_>=0&&!y.get(_,c)&&E[1]<=f;)E[1]++,_--;if(_<0||E[1]>f)return NaN;for(;_>=0&&y.get(_,c)&&E[0]<=f;)E[0]++,_--;if(E[0]>f)return NaN;for(_=o+1;_<b&&y.get(_,c);)E[2]++,_++;if(_===b)return NaN;for(;_<b&&!y.get(_,c)&&E[3]<f;)E[3]++,_++;if(_===b||E[3]>=f)return NaN;for(;_<b&&y.get(_,c)&&E[4]<f;)E[4]++,_++;if(E[4]>=f)return NaN;const N=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(N-p)>=p?NaN:or.foundPatternCross(E)?or.centerFromEnd(E,_):NaN}handlePossibleCenter(o,c,f,p){const y=o[0]+o[1]+o[2]+o[3]+o[4];let b=or.centerFromEnd(o,f),E=this.crossCheckVertical(c,Math.floor(b),o[2],y);if(!isNaN(E)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(E),o[2],y),!isNaN(b)&&(!p||this.crossCheckDiagonal(Math.floor(E),Math.floor(b),o[2],y)))){const _=y/7;let N=!1;const j=this.possibleCenters;for(let Y=0,Q=j.length;Y<Q;Y++){const se=j[Y];if(se.aboutEquals(_,E,b)){j[Y]=se.combineEstimate(E,b,_),N=!0;break}}if(!N){const Y=new Oa(b,E,_);j.push(Y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const f of this.possibleCenters)if(f.getCount()>=or.CENTER_QUORUM)if(c==null)c=f;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-f.getX())-Math.abs(c.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,c=0;const f=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=or.CENTER_QUORUM&&(o++,c+=b.getEstimatedModuleSize());if(o<3)return!1;const p=c/f;let y=0;for(const b of this.possibleCenters)y+=Math.abs(b.getEstimatedModuleSize()-p);return y<=.05*c}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new re;const c=this.possibleCenters;let f;if(o>3){let p=0,y=0;for(const _ of this.possibleCenters){const N=_.getEstimatedModuleSize();p+=N,y+=N*N}f=p/o;let b=Math.sqrt(y/o-f*f);c.sort((_,N)=>{const j=Math.abs(N.getEstimatedModuleSize()-f),Y=Math.abs(_.getEstimatedModuleSize()-f);return j<Y?-1:j>Y?1:0});const E=Math.max(.2*f,b);for(let _=0;_<c.length&&c.length>3;_++){const N=c[_];Math.abs(N.getEstimatedModuleSize()-f)>E&&(c.splice(_,1),_--)}}if(c.length>3){let p=0;for(const y of c)p+=y.getEstimatedModuleSize();f=p/c.length,c.sort((y,b)=>{if(b.getCount()===y.getCount()){const E=Math.abs(b.getEstimatedModuleSize()-f),_=Math.abs(y.getEstimatedModuleSize()-f);return E<_?1:E>_?-1:0}else return b.getCount()-y.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}or.CENTER_QUORUM=2,or.MIN_SKIP=3,or.MAX_MODULES=57;class Fi{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(ee.NEED_RESULT_POINT_CALLBACK);const f=new or(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(f)}processFinderPatternInfo(o){const c=o.getTopLeft(),f=o.getTopRight(),p=o.getBottomLeft(),y=this.calculateModuleSize(c,f,p);if(y<1)throw new re("No pattern found in proccess finder.");const b=Fi.computeDimension(c,f,p,y),E=We.getProvisionalVersionForDimension(b),_=E.getDimensionForVersion()-7;let N=null;if(E.getAlignmentPatternCenters().length>0){const se=f.getX()-c.getX()+p.getX(),fe=f.getY()-c.getY()+p.getY(),he=1-3/_,ye=Math.floor(c.getX()+he*(se-c.getX())),Ae=Math.floor(c.getY()+he*(fe-c.getY()));for(let He=4;He<=16;He<<=1)try{N=this.findAlignmentInRegion(y,ye,Ae,He);break}catch(qe){if(!(qe instanceof re))throw qe}}const j=Fi.createTransform(c,f,p,N,b),Y=Fi.sampleGrid(this.image,j,b);let Q;return N===null?Q=[p,c,f]:Q=[p,c,f,N],new la(Y,Q)}static createTransform(o,c,f,p,y){const b=y-3.5;let E,_,N,j;return p!==null?(E=p.getX(),_=p.getY(),N=b-3,j=N):(E=c.getX()-o.getX()+f.getX(),_=c.getY()-o.getY()+f.getY(),N=b,j=b),Qt.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,N,j,3.5,b,o.getX(),o.getY(),c.getX(),c.getY(),E,_,f.getX(),f.getY())}static sampleGrid(o,c,f){return ir.getInstance().sampleGridWithTransform(o,f,f,c)}static computeDimension(o,c,f,p){const y=At.round($e.distance(o,c)/p),b=At.round($e.distance(o,f)/p);let E=Math.floor((y+b)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new re("Dimensions could be not found.")}return E}calculateModuleSize(o,c,f){return(this.calculateModuleSizeOneWay(o,c)+this.calculateModuleSizeOneWay(o,f))/2}calculateModuleSizeOneWay(o,c){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(c.getX()),Math.floor(c.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(f)?p/7:isNaN(p)?f/7:(f+p)/14}sizeOfBlackWhiteBlackRunBothWays(o,c,f,p){let y=this.sizeOfBlackWhiteBlackRun(o,c,f,p),b=1,E=o-(f-o);E<0?(b=o/(o-E),E=0):E>=this.image.getWidth()&&(b=(this.image.getWidth()-1-o)/(E-o),E=this.image.getWidth()-1);let _=Math.floor(c-(p-c)*b);return b=1,_<0?(b=c/(c-_),_=0):_>=this.image.getHeight()&&(b=(this.image.getHeight()-1-c)/(_-c),_=this.image.getHeight()-1),E=Math.floor(o+(E-o)*b),y+=this.sizeOfBlackWhiteBlackRun(o,c,E,_),y-1}sizeOfBlackWhiteBlackRun(o,c,f,p){const y=Math.abs(p-c)>Math.abs(f-o);if(y){let se=o;o=c,c=se,se=f,f=p,p=se}const b=Math.abs(f-o),E=Math.abs(p-c);let _=-b/2;const N=o<f?1:-1,j=c<p?1:-1;let Y=0;const Q=f+N;for(let se=o,fe=c;se!==Q;se+=N){const he=y?fe:se,ye=y?se:fe;if(Y===1===this.image.get(he,ye)){if(Y===2)return At.distance(se,fe,o,c);Y++}if(_+=E,_>0){if(fe===p)break;fe+=j,_-=b}}return Y===2?At.distance(f+N,p,o,c):NaN}findAlignmentInRegion(o,c,f,p){const y=Math.floor(p*o),b=Math.max(0,c-y),E=Math.min(this.image.getWidth()-1,c+y);if(E-b<o*3)throw new re("Alignment top exceeds estimated module size.");const _=Math.max(0,f-y),N=Math.min(this.image.getHeight()-1,f+y);if(N-_<o*3)throw new re("Alignment bottom exceeds estimated module size.");return new Ei(this.image,b,_,E-b,N-_,o,this.resultPointCallback).find()}}class Ra{constructor(){this.decoder=new Sl}getDecoder(){return this.decoder}decode(o,c){let f,p;if(c!=null&&c.get(ee.PURE_BARCODE)!==void 0){const _=Ra.extractPureBits(o.getBlackMatrix());f=this.decoder.decodeBitMatrix(_,c),p=Ra.NO_POINTS}else{const _=new Fi(o.getBlackMatrix()).detect(c);f=this.decoder.decodeBitMatrix(_.getBits(),c),p=_.getPoints()}f.getOther()instanceof Cu&&f.getOther().applyMirroredCorrection(p);const y=new Ye(f.getText(),f.getRawBytes(),void 0,p,Ne.QR_CODE,void 0),b=f.getByteSegments();b!==null&&y.putMetadata(lt.BYTE_SEGMENTS,b);const E=f.getECLevel();return E!==null&&y.putMetadata(lt.ERROR_CORRECTION_LEVEL,E),f.hasStructuredAppend()&&(y.putMetadata(lt.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),y.putMetadata(lt.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),y}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(c===null||f===null)throw new re;const p=this.moduleSize(c,o);let y=c[1],b=f[1],E=c[0],_=f[0];if(E>=_||y>=b)throw new re;if(b-y!==_-E&&(_=E+(b-y),_>=o.getWidth()))throw new re;const N=Math.round((_-E+1)/p),j=Math.round((b-y+1)/p);if(N<=0||j<=0)throw new re;if(j!==N)throw new re;const Y=Math.floor(p/2);y+=Y,E+=Y;const Q=E+Math.floor((N-1)*p)-_;if(Q>0){if(Q>Y)throw new re;E-=Q}const se=y+Math.floor((j-1)*p)-b;if(se>0){if(se>Y)throw new re;y-=se}const fe=new ae(N,j);for(let he=0;he<j;he++){const ye=y+Math.floor(he*p);for(let Ae=0;Ae<N;Ae++)o.get(E+Math.floor(Ae*p),ye)&&fe.set(Ae,he)}return fe}static moduleSize(o,c){const f=c.getHeight(),p=c.getWidth();let y=o[0],b=o[1],E=!0,_=0;for(;y<p&&b<f;){if(E!==c.get(y,b)){if(++_===5)break;E=!E}y++,b++}if(y===p||b===f)throw new re;return(y-o[0])/7}}Ra.NO_POINTS=new Array;class dt{PDF417Common(){}static getBitCountSum(o){return At.sum(o)}static toIntArray(o){if(o==null||!o.length)return dt.EMPTY_INT_ARRAY;const c=new Int32Array(o.length);let f=0;for(const p of o)c[f++]=p;return c}static getCodeword(o){const c=$.binarySearch(dt.SYMBOL_TABLE,o&262143);return c<0?-1:(dt.CODEWORD_TABLE[c]-1)%dt.NUMBER_OF_CODEWORDS}}dt.NUMBER_OF_CODEWORDS=929,dt.MAX_CODEWORDS_IN_BARCODE=dt.NUMBER_OF_CODEWORDS-1,dt.MIN_ROWS_IN_BARCODE=3,dt.MAX_ROWS_IN_BARCODE=90,dt.MODULES_IN_CODEWORD=17,dt.MODULES_IN_STOP_PATTERN=18,dt.BARS_IN_MODULE=8,dt.EMPTY_INT_ARRAY=new Int32Array([]),dt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),dt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Na{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class xt{static detectMultiple(o,c,f){let p=o.getBlackMatrix(),y=xt.detect(f,p);return y.length||(p=p.clone(),p.rotate180(),y=xt.detect(f,p)),new Na(p,y)}static detect(o,c){const f=new Array;let p=0,y=0,b=!1;for(;p<c.getHeight();){const E=xt.findVertices(c,p,y);if(E[0]==null&&E[3]==null){if(!b)break;b=!1,y=0;for(const _ of f)_[1]!=null&&(p=Math.trunc(Math.max(p,_[1].getY()))),_[3]!=null&&(p=Math.max(p,Math.trunc(_[3].getY())));p+=xt.ROW_STEP;continue}if(b=!0,f.push(E),!o)break;E[2]!=null?(y=Math.trunc(E[2].getX()),p=Math.trunc(E[2].getY())):(y=Math.trunc(E[4].getX()),p=Math.trunc(E[4].getY()))}return f}static findVertices(o,c,f){const p=o.getHeight(),y=o.getWidth(),b=new Array(8);return xt.copyToResult(b,xt.findRowsWithPattern(o,p,y,c,f,xt.START_PATTERN),xt.INDEXES_START_PATTERN),b[4]!=null&&(f=Math.trunc(b[4].getX()),c=Math.trunc(b[4].getY())),xt.copyToResult(b,xt.findRowsWithPattern(o,p,y,c,f,xt.STOP_PATTERN),xt.INDEXES_STOP_PATTERN),b}static copyToResult(o,c,f){for(let p=0;p<f.length;p++)o[f[p]]=c[p]}static findRowsWithPattern(o,c,f,p,y,b){const E=new Array(4);let _=!1;const N=new Int32Array(b.length);for(;p<c;p+=xt.ROW_STEP){let Y=xt.findGuardPattern(o,y,p,f,!1,b,N);if(Y!=null){for(;p>0;){const Q=xt.findGuardPattern(o,y,--p,f,!1,b,N);if(Q!=null)Y=Q;else{p++;break}}E[0]=new $e(Y[0],p),E[1]=new $e(Y[1],p),_=!0;break}}let j=p+1;if(_){let Y=0,Q=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;j<c;j++){const se=xt.findGuardPattern(o,Q[0],j,f,!1,b,N);if(se!=null&&Math.abs(Q[0]-se[0])<xt.MAX_PATTERN_DRIFT&&Math.abs(Q[1]-se[1])<xt.MAX_PATTERN_DRIFT)Q=se,Y=0;else{if(Y>xt.SKIPPED_ROW_COUNT_MAX)break;Y++}}j-=Y+1,E[2]=new $e(Q[0],j),E[3]=new $e(Q[1],j)}return j-p<xt.BARCODE_MIN_HEIGHT&&$.fill(E,null),E}static findGuardPattern(o,c,f,p,y,b,E){$.fillWithin(E,0,E.length,0);let _=c,N=0;for(;o.get(_,f)&&_>0&&N++<xt.MAX_PIXEL_DRIFT;)_--;let j=_,Y=0,Q=b.length;for(let se=y;j<p;j++)if(o.get(j,f)!==se)E[Y]++;else{if(Y===Q-1){if(xt.patternMatchVariance(E,b,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return new Int32Array([_,j]);_+=E[0]+E[1],P.arraycopy(E,2,E,0,Y-1),E[Y-1]=0,E[Y]=0,Y--}else Y++;E[Y]=1,se=!se}return Y===Q-1&&xt.patternMatchVariance(E,b,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE?new Int32Array([_,j-1]):null}static patternMatchVariance(o,c,f){let p=o.length,y=0,b=0;for(let N=0;N<p;N++)y+=o[N],b+=c[N];if(y<b)return 1/0;let E=y/b;f*=E;let _=0;for(let N=0;N<p;N++){let j=o[N],Y=c[N]*E,Q=j>Y?j-Y:Y-j;if(Q>f)return 1/0;_+=Q}return _/y}}xt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),xt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),xt.MAX_AVG_VARIANCE=.42,xt.MAX_INDIVIDUAL_VARIANCE=.8,xt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),xt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),xt.MAX_PIXEL_DRIFT=3,xt.MAX_PATTERN_DRIFT=5,xt.SKIPPED_ROW_COUNT_MAX=25,xt.ROW_STEP=5,xt.BARCODE_MIN_HEIGHT=10;class er{constructor(o,c){if(c.length===0)throw new w;this.field=o;let f=c.length;if(f>1&&c[0]===0){let p=1;for(;p<f&&c[p]===0;)p++;p===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-p),P.arraycopy(c,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let p=0;for(let y of this.coefficients)p=this.field.add(p,y);return p}let c=this.coefficients[0],f=this.coefficients.length;for(let p=1;p<f;p++)c=this.field.add(this.field.multiply(o,c),this.coefficients[p]);return c}add(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,f=o.coefficients;if(c.length>f.length){let b=c;c=f,f=b}let p=new Int32Array(f.length),y=f.length-c.length;P.arraycopy(f,0,p,0,y);for(let b=y;b<f.length;b++)p[b]=this.field.add(c[b-y],f[b]);return new er(this.field,p)}subtract(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof er?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new er(this.field,new Int32Array([0]));let c=this.coefficients,f=c.length,p=o.coefficients,y=p.length,b=new Int32Array(f+y-1);for(let E=0;E<f;E++){let _=c[E];for(let N=0;N<y;N++)b[E+N]=this.field.add(b[E+N],this.field.multiply(_,p[N]))}return new er(this.field,b)}negative(){let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.subtract(0,this.coefficients[f]);return new er(this.field,c)}multiplyScalar(o){if(o===0)return new er(this.field,new Int32Array([0]));if(o===1)return this;let c=this.coefficients.length,f=new Int32Array(c);for(let p=0;p<c;p++)f[p]=this.field.multiply(this.coefficients[p],o);return new er(this.field,f)}multiplyByMonomial(o,c){if(o<0)throw new w;if(c===0)return new er(this.field,new Int32Array([0]));let f=this.coefficients.length,p=new Int32Array(f+o);for(let y=0;y<f;y++)p[y]=this.field.multiply(this.coefficients[y],c);return new er(this.field,p)}toString(){let o=new U;for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);f!==0&&(f<0?(o.append(" - "),f=-f):o.length()>0&&o.append(" + "),(c===0||f!==1)&&o.append(f),c!==0&&(c===1?o.append("x"):(o.append("x^"),o.append(c))))}return o.toString()}}class os{add(o,c){return(o+c)%this.modulus}subtract(o,c){return(this.modulus+o-c)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}inverse(o){if(o===0)throw new De;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class ls extends os{constructor(o,c){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let f=1;for(let p=0;p<o;p++)this.expTable[p]=f,f=f*c%o;for(let p=0;p<o-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new er(this,new Int32Array([0])),this.one=new er(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new w;if(c===0)return this.zero;let f=new Int32Array(o+1);return f[0]=c,new er(this,f)}}ls.PDF417_GF=new ls(dt.NUMBER_OF_CODEWORDS,3);class cs{constructor(){this.field=ls.PDF417_GF}decode(o,c,f){let p=new er(this.field,o),y=new Int32Array(c),b=!1;for(let fe=c;fe>0;fe--){let he=p.evaluateAt(this.field.exp(fe));y[c-fe]=he,he!==0&&(b=!0)}if(!b)return 0;let E=this.field.getOne();if(f!=null)for(const fe of f){let he=this.field.exp(o.length-1-fe),ye=new er(this.field,new Int32Array([this.field.subtract(0,he),1]));E=E.multiply(ye)}let _=new er(this.field,y),N=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),_,c),j=N[0],Y=N[1],Q=this.findErrorLocations(j),se=this.findErrorMagnitudes(Y,j,Q);for(let fe=0;fe<Q.length;fe++){let he=o.length-1-this.field.log(Q[fe]);if(he<0)throw I.getChecksumInstance();o[he]=this.field.subtract(o[he],se[fe])}return Q.length}runEuclideanAlgorithm(o,c,f){if(o.getDegree()<c.getDegree()){let Q=o;o=c,c=Q}let p=o,y=c,b=this.field.getZero(),E=this.field.getOne();for(;y.getDegree()>=Math.round(f/2);){let Q=p,se=b;if(p=y,b=E,p.isZero())throw I.getChecksumInstance();y=Q;let fe=this.field.getZero(),he=p.getCoefficient(p.getDegree()),ye=this.field.inverse(he);for(;y.getDegree()>=p.getDegree()&&!y.isZero();){let Ae=y.getDegree()-p.getDegree(),He=this.field.multiply(y.getCoefficient(y.getDegree()),ye);fe=fe.add(this.field.buildMonomial(Ae,He)),y=y.subtract(p.multiplyByMonomial(Ae,He))}E=fe.multiply(b).subtract(se).negative()}let _=E.getCoefficient(0);if(_===0)throw I.getChecksumInstance();let N=this.field.inverse(_),j=E.multiply(N),Y=y.multiply(N);return[j,Y]}findErrorLocations(o){let c=o.getDegree(),f=new Int32Array(c),p=0;for(let y=1;y<this.field.getSize()&&p<c;y++)o.evaluateAt(y)===0&&(f[p]=this.field.inverse(y),p++);if(p!==c)throw I.getChecksumInstance();return f}findErrorMagnitudes(o,c,f){let p=c.getDegree(),y=new Int32Array(p);for(let N=1;N<=p;N++)y[p-N]=this.field.multiply(N,c.getCoefficient(N));let b=new er(this.field,y),E=f.length,_=new Int32Array(E);for(let N=0;N<E;N++){let j=this.field.inverse(f[N]),Y=this.field.subtract(0,o.evaluateAt(j)),Q=this.field.inverse(b.evaluateAt(j));_[N]=this.field.multiply(Y,Q)}return _}}class Da{constructor(o,c,f,p,y){o instanceof Da?this.constructor_2(o):this.constructor_1(o,c,f,p,y)}constructor_1(o,c,f,p,y){const b=c==null||f==null,E=p==null||y==null;if(b&&E)throw new re;b?(c=new $e(0,p.getY()),f=new $e(0,y.getY())):E&&(p=new $e(o.getWidth()-1,c.getY()),y=new $e(o.getWidth()-1,f.getY())),this.image=o,this.topLeft=c,this.bottomLeft=f,this.topRight=p,this.bottomRight=y,this.minX=Math.trunc(Math.min(c.getX(),f.getX())),this.maxX=Math.trunc(Math.max(p.getX(),y.getX())),this.minY=Math.trunc(Math.min(c.getY(),p.getY())),this.maxY=Math.trunc(Math.max(f.getY(),y.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,c){return o==null?c:c==null?o:new Da(o.image,o.topLeft,o.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(o,c,f){let p=this.topLeft,y=this.bottomLeft,b=this.topRight,E=this.bottomRight;if(o>0){let _=f?this.topLeft:this.topRight,N=Math.trunc(_.getY()-o);N<0&&(N=0);let j=new $e(_.getX(),N);f?p=j:b=j}if(c>0){let _=f?this.bottomLeft:this.bottomRight,N=Math.trunc(_.getY()+c);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let j=new $e(_.getX(),N);f?y=j:E=j}return new Da(this.image,p,y,b,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class us{constructor(o,c,f,p){this.columnCount=o,this.errorCorrectionLevel=p,this.rowCountUpperPart=c,this.rowCountLowerPart=f,this.rowCount=c+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ui{constructor(){this.buffer=""}static form(o,c){let f=-1;function p(b,E,_,N,j,Y){if(b==="%%")return"%";if(c[++f]===void 0)return;b=N?parseInt(N.substr(1)):void 0;let Q=j?parseInt(j.substr(1)):void 0,se;switch(Y){case"s":se=c[f];break;case"c":se=c[f][0];break;case"f":se=parseFloat(c[f]).toFixed(b);break;case"p":se=parseFloat(c[f]).toPrecision(b);break;case"e":se=parseFloat(c[f]).toExponential(b);break;case"x":se=parseInt(c[f]).toString(Q||16);break;case"d":se=parseFloat(parseInt(c[f],Q||10).toPrecision(b)).toFixed(0);break}se=typeof se=="object"?JSON.stringify(se):(+se).toString(Q);let fe=parseInt(_),he=_&&_[0]+""=="0"?"0":" ";for(;se.length<fe;)se=E!==void 0?se+he:he+se;return se}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,p)}format(o,...c){this.buffer+=Ui.form(o,c)}toString(){return this.buffer}}class Ls{constructor(o){this.boundingBox=new Da(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let c=this.getCodeword(o);if(c!=null)return c;for(let f=1;f<Ls.MAX_NEARBY_DISTANCE;f++){let p=this.imageRowToCodewordIndex(o)-f;if(p>=0&&(c=this.codewords[p],c!=null)||(p=this.imageRowToCodewordIndex(o)+f,p<this.codewords.length&&(c=this.codewords[p],c!=null)))return c}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,c){this.codewords[this.imageRowToCodewordIndex(o)]=c}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Ui;let c=0;for(const f of this.codewords){if(f==null){o.format("%3d:    |   %n",c++);continue}o.format("%3d: %3d|%3d%n",c++,f.getRowNumber(),f.getValue())}return o.toString()}}Ls.MAX_NEARBY_DISTANCE=5;class lr{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let c=this.values.get(o);c==null&&(c=0),c++,this.values.set(o,c)}getValue(){let o=-1,c=new Array;for(const[f,p]of this.values.entries()){const y={getKey:()=>f,getValue:()=>p};y.getValue()>o?(o=y.getValue(),c=[],c.push(y.getKey())):y.getValue()===o&&c.push(y.getKey())}return dt.toIntArray(c)}getConfidence(o){return this.values.get(o)}}class dn extends Ls{constructor(o,c){super(o),this._isLeft=c}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,o);let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),y=this._isLeft?f.getBottomLeft():f.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.imageRowToCodewordIndex(Math.trunc(y.getY())),_=-1,N=1,j=0;for(let Y=b;Y<E;Y++){if(c[Y]==null)continue;let Q=c[Y],se=Q.getRowNumber()-_;if(se===0)j++;else if(se===1)N=Math.max(N,j),j=1,_=Q.getRowNumber();else if(se<0||Q.getRowNumber()>=o.getRowCount()||se>Y)c[Y]=null;else{let fe;N>2?fe=(N-2)*se:fe=se;let he=fe>=Y;for(let ye=1;ye<=fe&&!he;ye++)he=c[Y-ye]!=null;he?c[Y]=null:(_=Q.getRowNumber(),j=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let c=new Int32Array(o.getRowCount());for(let f of this.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=c.length)continue;c[p]++}return c}adjustIncompleteIndicatorColumnRowNumbers(o){let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(f.getY())),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.getCodewords(),_=-1;for(let N=y;N<b;N++){if(E[N]==null)continue;let j=E[N];j.setRowNumberAsRowIndicatorColumn();let Y=j.getRowNumber()-_;Y===0||(Y===1?_=j.getRowNumber():j.getRowNumber()>=o.getRowCount()?E[N]=null:_=j.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),c=new lr,f=new lr,p=new lr,y=new lr;for(let E of o){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let _=E.getValue()%30,N=E.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:f.setValue(_*3+1);break;case 1:y.setValue(_/3),p.setValue(_%3);break;case 2:c.setValue(_+1);break}}if(c.getValue().length===0||f.getValue().length===0||p.getValue().length===0||y.getValue().length===0||c.getValue()[0]<1||f.getValue()[0]+p.getValue()[0]<dt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+p.getValue()[0]>dt.MAX_ROWS_IN_BARCODE)return null;let b=new us(c.getValue()[0],f.getValue()[0],p.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(o,b),b}removeIncorrectCodewords(o,c){for(let f=0;f<o.length;f++){let p=o[f];if(o[f]==null)continue;let y=p.getValue()%30,b=p.getRowNumber();if(b>c.getRowCount()){o[f]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:y*3+1!==c.getRowCountUpperPart()&&(o[f]=null);break;case 1:(Math.trunc(y/3)!==c.getErrorCorrectionLevel()||y%3!==c.getRowCountLowerPart())&&(o[f]=null);break;case 2:y+1!==c.getColumnCount()&&(o[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fs{constructor(o,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=dt.MAX_CODEWORDS_IN_BARCODE,c;do c=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let f=this.detectionResultColumns[c].getCodewords();for(let p=0;p<f.length;p++)f[p]!=null&&(f[p].hasValidRowNumber()||this.adjustRowNumbers(c,p,f))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++)if(o[f]!=null&&c[f]!=null&&o[f].getRowNumber()===c[f].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let y=this.detectionResultColumns[p].getCodewords()[f];y!=null&&(y.setRowNumber(o[f].getRowNumber()),y.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let p=c[f].getRowNumber(),y=0;for(let b=this.barcodeColumnCount+1;b>0&&y<this.ADJUST_ROW_NUMBER_SKIP;b--){let E=this.detectionResultColumns[b].getCodewords()[f];E!=null&&(y=fs.adjustRowNumberIfValid(p,y,E),E.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,c=this.detectionResultColumns[0].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let p=c[f].getRowNumber(),y=0;for(let b=1;b<this.barcodeColumnCount+1&&y<this.ADJUST_ROW_NUMBER_SKIP;b++){let E=this.detectionResultColumns[b].getCodewords()[f];E!=null&&(y=fs.adjustRowNumberIfValid(p,y,E),E.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,c,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(o)?(f.setRowNumber(o),c=0):++c),c}adjustRowNumbers(o,c,f){if(!this.detectionResultColumns[o-1])return;let p=f[c],y=this.detectionResultColumns[o-1].getCodewords(),b=y;this.detectionResultColumns[o+1]!=null&&(b=this.detectionResultColumns[o+1].getCodewords());let E=new Array(14);E[2]=y[c],E[3]=b[c],c>0&&(E[0]=f[c-1],E[4]=y[c-1],E[5]=b[c-1]),c>1&&(E[8]=f[c-2],E[10]=y[c-2],E[11]=b[c-2]),c<f.length-1&&(E[1]=f[c+1],E[6]=y[c+1],E[7]=b[c+1]),c<f.length-2&&(E[9]=f[c+2],E[12]=y[c+2],E[13]=b[c+2]);for(let _ of E)if(fs.adjustRowNumber(p,_))return}static adjustRowNumber(o,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===o.getBucket()?(o.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,c){this.detectionResultColumns[o]=c}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new Ui;for(let f=0;f<o.getCodewords().length;f++){c.format("CW %3d:",f);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){c.format("    |   ");continue}let y=this.detectionResultColumns[p].getCodewords()[f];if(y==null){c.format("    |   ");continue}c.format(" %3d|%3d",y.getRowNumber(),y.getValue())}c.format("%n")}return c.toString()}}class Ma{constructor(o,c,f,p){this.rowNumber=Ma.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(c),this.bucket=Math.trunc(f),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ma.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ma.BARCODE_ROW_UNKNOWN=-1;class Zr{static initialize(){for(let o=0;o<dt.SYMBOL_TABLE.length;o++){let c=dt.SYMBOL_TABLE[o],f=c&1;for(let p=0;p<dt.BARS_IN_MODULE;p++){let y=0;for(;(c&1)===f;)y+=1,c>>=1;f=c&1,Zr.RATIOS_TABLE[o]||(Zr.RATIOS_TABLE[o]=new Array(dt.BARS_IN_MODULE)),Zr.RATIOS_TABLE[o][dt.BARS_IN_MODULE-p-1]=Math.fround(y/dt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let c=Zr.getDecodedCodewordValue(Zr.sampleBitCounts(o));return c!==-1?c:Zr.getClosestDecodedValue(o)}static sampleBitCounts(o){let c=At.sum(o),f=new Int32Array(dt.BARS_IN_MODULE),p=0,y=0;for(let b=0;b<dt.MODULES_IN_CODEWORD;b++){let E=c/(2*dt.MODULES_IN_CODEWORD)+b*c/dt.MODULES_IN_CODEWORD;y+o[p]<=E&&(y+=o[p],p++),f[p]++}return f}static getDecodedCodewordValue(o){let c=Zr.getBitValue(o);return dt.getCodeword(c)===-1?-1:c}static getBitValue(o){let c=0;for(let f=0;f<o.length;f++)for(let p=0;p<o[f];p++)c=c<<1|(f%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(o){let c=At.sum(o),f=new Array(dt.BARS_IN_MODULE);if(c>1)for(let b=0;b<f.length;b++)f[b]=Math.fround(o[b]/c);let p=Pt.MAX_VALUE,y=-1;this.bSymbolTableReady||Zr.initialize();for(let b=0;b<Zr.RATIOS_TABLE.length;b++){let E=0,_=Zr.RATIOS_TABLE[b];for(let N=0;N<dt.BARS_IN_MODULE;N++){let j=Math.fround(_[N]-f[N]);if(E+=Math.fround(j*j),E>=p)break}E<p&&(p=E,y=dt.SYMBOL_TABLE[b])}return y}}Zr.bSymbolTableReady=!1,Zr.RATIOS_TABLE=new Array(dt.SYMBOL_TABLE.length).map(W=>new Array(dt.BARS_IN_MODULE));class Oo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Ro{static parseLong(o,c=void 0){return parseInt(o,c)}}class Pa extends g{}Pa.kind="NullPointerException";class No{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,c,f){if(o==null)throw new Pa;if(c<0||c>o.length||f<0||c+f>o.length||c+f<0)throw new M;if(f===0)return;for(let p=0;p<f;p++)this.write(o[c+p])}flush(){}close(){}}class fa extends g{}class _u extends No{constructor(o=32){if(super(),this.count=0,o<0)throw new w("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let f=this.buf.length<<1;if(f-o<0&&(f=o),f<0){if(o<0)throw new fa;f=z.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,f)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,c,f){if(c<0||c>o.length||f<0||c+f-o.length>0)throw new M;this.ensureCapacity(this.count+f),P.arraycopy(o,c,this.buf,this.count,f),this.count+=f}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var pn;(function(W){W[W.ALPHA=0]="ALPHA",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.PUNCT=3]="PUNCT",W[W.ALPHA_SHIFT=4]="ALPHA_SHIFT",W[W.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pn||(pn={}));function Qs(){if(typeof window<"u")return window.BigInt||null;if(typeof bg<"u")return bg.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let js;function ha(W){if(typeof js>"u"&&(js=Qs()),js===null)throw new Error("BigInt is not supported!");return js(W)}function Cl(){let W=[];W[0]=ha(1);let o=ha(900);W[1]=o;for(let c=2;c<16;c++)W[c]=W[c-1]*o;return W}class Se{static decode(o,c){let f=new U(""),p=F.ISO8859_1;f.enableDecoding(p);let y=1,b=o[y++],E=new Oo;for(;y<o[0];){switch(b){case Se.TEXT_COMPACTION_MODE_LATCH:y=Se.textCompaction(o,y,f);break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:y=Se.byteCompaction(b,o,p,y,f);break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y++]);break;case Se.NUMERIC_COMPACTION_MODE_LATCH:y=Se.numericCompaction(o,y,f);break;case Se.ECI_CHARSET:F.getCharacterSetECIByValue(o[y++]);break;case Se.ECI_GENERAL_PURPOSE:y+=2;break;case Se.ECI_USER_DEFINED:y++;break;case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:y=Se.decodeMacroBlock(o,y,E);break;case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:throw new B;default:y--,y=Se.textCompaction(o,y,f);break}if(y<o.length)b=o[y++];else throw B.getFormatInstance()}if(f.length()===0)throw B.getFormatInstance();let _=new Oe(null,f.toString(),null,c);return _.setOther(E),_}static decodeMacroBlock(o,c,f){if(c+Se.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw B.getFormatInstance();let p=new Int32Array(Se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Se.NUMBER_OF_SEQUENCE_CODEWORDS;E++,c++)p[E]=o[c];f.setSegmentIndex(z.parseInt(Se.decodeBase900toBase10(p,Se.NUMBER_OF_SEQUENCE_CODEWORDS)));let y=new U;c=Se.textCompaction(o,c,y),f.setFileId(y.toString());let b=-1;for(o[c]===Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=c+1);c<o[0];)switch(o[c]){case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,o[c]){case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new U;c=Se.textCompaction(o,c+1,E),f.setFileName(E.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new U;c=Se.textCompaction(o,c+1,_),f.setSender(_.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new U;c=Se.textCompaction(o,c+1,N),f.setAddressee(N.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new U;c=Se.numericCompaction(o,c+1,j),f.setSegmentCount(z.parseInt(j.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Y=new U;c=Se.numericCompaction(o,c+1,Y),f.setTimestamp(Ro.parseLong(Y.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Q=new U;c=Se.numericCompaction(o,c+1,Q),f.setChecksum(z.parseInt(Q.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let se=new U;c=Se.numericCompaction(o,c+1,se),f.setFileSize(Ro.parseLong(se.toString()));break;default:throw B.getFormatInstance()}break;case Se.MACRO_PDF417_TERMINATOR:c++,f.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(b!==-1){let E=c-b;f.isLastSegment()&&E--,f.setOptionalData($.copyOfRange(o,b,b+E))}return c}static textCompaction(o,c,f){let p=new Int32Array((o[0]-c)*2),y=new Int32Array((o[0]-c)*2),b=0,E=!1;for(;c<o[0]&&!E;){let _=o[c++];if(_<Se.TEXT_COMPACTION_MODE_LATCH)p[b]=_/30,p[b+1]=_%30,b+=2;else switch(_){case Se.TEXT_COMPACTION_MODE_LATCH:p[b++]=Se.TEXT_COMPACTION_MODE_LATCH;break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,E=!0;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[b]=Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=o[c++],y[b]=_,b++;break}}return Se.decodeTextCompaction(p,y,b,f),c}static decodeTextCompaction(o,c,f,p){let y=pn.ALPHA,b=pn.ALPHA,E=0;for(;E<f;){let _=o[E],N="";switch(y){case pn.ALPHA:if(_<26)N=String.fromCharCode(65+_);else switch(_){case 26:N=" ";break;case Se.LL:y=pn.LOWER;break;case Se.ML:y=pn.MIXED;break;case Se.PS:b=y,y=pn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.LOWER:if(_<26)N=String.fromCharCode(97+_);else switch(_){case 26:N=" ";break;case Se.AS:b=y,y=pn.ALPHA_SHIFT;break;case Se.ML:y=pn.MIXED;break;case Se.PS:b=y,y=pn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.MIXED:if(_<Se.PL)N=Se.MIXED_CHARS[_];else switch(_){case Se.PL:y=pn.PUNCT;break;case 26:N=" ";break;case Se.LL:y=pn.LOWER;break;case Se.AL:y=pn.ALPHA;break;case Se.PS:b=y,y=pn.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.PUNCT:if(_<Se.PAL)N=Se.PUNCT_CHARS[_];else switch(_){case Se.PAL:y=pn.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.ALPHA_SHIFT:if(y=b,_<26)N=String.fromCharCode(65+_);else switch(_){case 26:N=" ";break;case Se.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.PUNCT_SHIFT:if(y=b,_<Se.PAL)N=Se.PUNCT_CHARS[_];else switch(_){case Se.PAL:y=pn.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[E]);break;case Se.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break}N!==""&&p.append(N),E++}}static byteCompaction(o,c,f,p,y){let b=new _u,E=0,_=0,N=!1;switch(o){case Se.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),Y=c[p++];for(;p<c[0]&&!N;)switch(j[E++]=Y,_=900*_+Y,Y=c[p++],Y){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:p--,N=!0;break;default:if(E%5===0&&E>0){for(let Q=0;Q<6;++Q)b.write(Number(ha(_)>>ha(8*(5-Q))));_=0,E=0}break}p===c[0]&&Y<Se.TEXT_COMPACTION_MODE_LATCH&&(j[E++]=Y);for(let Q=0;Q<E;Q++)b.write(j[Q]);break;case Se.BYTE_COMPACTION_MODE_LATCH_6:for(;p<c[0]&&!N;){let Q=c[p++];if(Q<Se.TEXT_COMPACTION_MODE_LATCH)E++,_=900*_+Q;else switch(Q){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:p--,N=!0;break}if(E%5===0&&E>0){for(let se=0;se<6;++se)b.write(Number(ha(_)>>ha(8*(5-se))));_=0,E=0}}break}return y.append(q.decode(b.toByteArray(),f)),p}static numericCompaction(o,c,f){let p=0,y=!1,b=new Int32Array(Se.MAX_NUMERIC_CODEWORDS);for(;c<o[0]&&!y;){let E=o[c++];if(c===o[0]&&(y=!0),E<Se.TEXT_COMPACTION_MODE_LATCH)b[p]=E,p++;else switch(E){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,y=!0;break}(p%Se.MAX_NUMERIC_CODEWORDS===0||E===Se.NUMERIC_COMPACTION_MODE_LATCH||y)&&p>0&&(f.append(Se.decodeBase900toBase10(b,p)),p=0)}return c}static decodeBase900toBase10(o,c){let f=ha(0);for(let y=0;y<c;y++)f+=Se.EXP900[c-y-1]*ha(o[y]);let p=f.toString();if(p.charAt(0)!=="1")throw new B;return p.substring(1)}}Se.TEXT_COMPACTION_MODE_LATCH=900,Se.BYTE_COMPACTION_MODE_LATCH=901,Se.NUMERIC_COMPACTION_MODE_LATCH=902,Se.BYTE_COMPACTION_MODE_LATCH_6=924,Se.ECI_USER_DEFINED=925,Se.ECI_GENERAL_PURPOSE=926,Se.ECI_CHARSET=927,Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Se.MACRO_PDF417_TERMINATOR=922,Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Se.MAX_NUMERIC_CODEWORDS=15,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Se.PL=25,Se.LL=27,Se.AS=27,Se.ML=28,Se.AL=28,Se.PS=29,Se.PAL=29,Se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Se.EXP900=Qs()?Cl():[],Se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Tt{constructor(){}static decode(o,c,f,p,y,b,E){let _=new Da(o,c,f,p,y),N=null,j=null,Y;for(let fe=!0;;fe=!1){if(c!=null&&(N=Tt.getRowIndicatorColumn(o,_,c,!0,b,E)),p!=null&&(j=Tt.getRowIndicatorColumn(o,_,p,!1,b,E)),Y=Tt.merge(N,j),Y==null)throw re.getNotFoundInstance();let he=Y.getBoundingBox();if(fe&&he!=null&&(he.getMinY()<_.getMinY()||he.getMaxY()>_.getMaxY()))_=he;else break}Y.setBoundingBox(_);let Q=Y.getBarcodeColumnCount()+1;Y.setDetectionResultColumn(0,N),Y.setDetectionResultColumn(Q,j);let se=N!=null;for(let fe=1;fe<=Q;fe++){let he=se?fe:Q-fe;if(Y.getDetectionResultColumn(he)!==void 0)continue;let ye;he===0||he===Q?ye=new dn(_,he===0):ye=new Ls(_),Y.setDetectionResultColumn(he,ye);let Ae=-1,He=Ae;for(let qe=_.getMinY();qe<=_.getMaxY();qe++){if(Ae=Tt.getStartColumn(Y,he,qe,se),Ae<0||Ae>_.getMaxX()){if(He===-1)continue;Ae=He}let ze=Tt.detectCodeword(o,_.getMinX(),_.getMaxX(),se,Ae,qe,b,E);ze!=null&&(ye.setCodeword(qe,ze),He=Ae,b=Math.min(b,ze.getWidth()),E=Math.max(E,ze.getWidth()))}}return Tt.createDecoderResult(Y)}static merge(o,c){if(o==null&&c==null)return null;let f=Tt.getBarcodeMetadata(o,c);if(f==null)return null;let p=Da.merge(Tt.adjustBoundingBox(o),Tt.adjustBoundingBox(c));return new fs(f,p)}static adjustBoundingBox(o){if(o==null)return null;let c=o.getRowHeights();if(c==null)return null;let f=Tt.getMax(c),p=0;for(let E of c)if(p+=f-E,E>0)break;let y=o.getCodewords();for(let E=0;p>0&&y[E]==null;E++)p--;let b=0;for(let E=c.length-1;E>=0&&(b+=f-c[E],!(c[E]>0));E--);for(let E=y.length-1;b>0&&y[E]==null;E--)b--;return o.getBoundingBox().addMissingRows(p,b,o.isLeft())}static getMax(o){let c=-1;for(let f of o)c=Math.max(c,f);return c}static getBarcodeMetadata(o,c){let f;if(o==null||(f=o.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let p;return c==null||(p=c.getBarcodeMetadata())==null?f:f.getColumnCount()!==p.getColumnCount()&&f.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&f.getRowCount()!==p.getRowCount()?null:f}static getRowIndicatorColumn(o,c,f,p,y,b){let E=new dn(c,p);for(let _=0;_<2;_++){let N=_===0?1:-1,j=Math.trunc(Math.trunc(f.getX()));for(let Y=Math.trunc(Math.trunc(f.getY()));Y<=c.getMaxY()&&Y>=c.getMinY();Y+=N){let Q=Tt.detectCodeword(o,0,o.getWidth(),p,j,Y,y,b);Q!=null&&(E.setCodeword(Y,Q),p?j=Q.getStartX():j=Q.getEndX())}}return E}static adjustCodewordCount(o,c){let f=c[0][1],p=f.getValue(),y=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Tt.getNumberOfECCodeWords(o.getBarcodeECLevel());if(p.length===0){if(y<1||y>dt.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();f.setValue(y)}else p[0]!==y&&f.setValue(y)}static createDecoderResult(o){let c=Tt.createBarcodeMatrix(o);Tt.adjustCodewordCount(o,c);let f=new Array,p=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),y=[],b=new Array;for(let _=0;_<o.getBarcodeRowCount();_++)for(let N=0;N<o.getBarcodeColumnCount();N++){let j=c[_][N+1].getValue(),Y=_*o.getBarcodeColumnCount()+N;j.length===0?f.push(Y):j.length===1?p[Y]=j[0]:(b.push(Y),y.push(j))}let E=new Array(y.length);for(let _=0;_<E.length;_++)E[_]=y[_];return Tt.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),p,dt.toIntArray(f),dt.toIntArray(b),E)}static createDecoderResultFromAmbiguousValues(o,c,f,p,y){let b=new Int32Array(p.length),E=100;for(;E-- >0;){for(let _=0;_<b.length;_++)c[p[_]]=y[_][b[_]];try{return Tt.decodeCodewords(c,o,f)}catch(_){if(!(_ instanceof I))throw _}if(b.length===0)throw I.getChecksumInstance();for(let _=0;_<b.length;_++)if(b[_]<y[_].length-1){b[_]++;break}else if(b[_]=0,_===b.length-1)throw I.getChecksumInstance()}throw I.getChecksumInstance()}static createBarcodeMatrix(o){let c=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let p=0;p<c.length;p++)for(let y=0;y<c[p].length;y++)c[p][y]=new lr;let f=0;for(let p of o.getDetectionResultColumns()){if(p!=null){for(let y of p.getCodewords())if(y!=null){let b=y.getRowNumber();if(b>=0){if(b>=c.length)continue;c[b][f].setValue(y.getValue())}}}f++}return c}static isValidBarcodeColumn(o,c){return c>=0&&c<=o.getBarcodeColumnCount()+1}static getStartColumn(o,c,f,p){let y=p?1:-1,b=null;if(Tt.isValidBarcodeColumn(o,c-y)&&(b=o.getDetectionResultColumn(c-y).getCodeword(f)),b!=null)return p?b.getEndX():b.getStartX();if(b=o.getDetectionResultColumn(c).getCodewordNearby(f),b!=null)return p?b.getStartX():b.getEndX();if(Tt.isValidBarcodeColumn(o,c-y)&&(b=o.getDetectionResultColumn(c-y).getCodewordNearby(f)),b!=null)return p?b.getEndX():b.getStartX();let E=0;for(;Tt.isValidBarcodeColumn(o,c-y);){c-=y;for(let _ of o.getDetectionResultColumn(c).getCodewords())if(_!=null)return(p?_.getEndX():_.getStartX())+y*E*(_.getEndX()-_.getStartX());E++}return p?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,c,f,p,y,b,E,_){y=Tt.adjustCodewordStartColumn(o,c,f,p,y,b);let N=Tt.getModuleBitCount(o,c,f,p,y,b);if(N==null)return null;let j,Y=At.sum(N);if(p)j=y+Y;else{for(let fe=0;fe<N.length/2;fe++){let he=N[fe];N[fe]=N[N.length-1-fe],N[N.length-1-fe]=he}j=y,y=j-Y}if(!Tt.checkCodewordSkew(Y,E,_))return null;let Q=Zr.getDecodedValue(N),se=dt.getCodeword(Q);return se===-1?null:new Ma(y,j,Tt.getCodewordBucketNumber(Q),se)}static getModuleBitCount(o,c,f,p,y,b){let E=y,_=new Int32Array(8),N=0,j=p?1:-1,Y=p;for(;(p?E<f:E>=c)&&N<_.length;)o.get(E,b)===Y?(_[N]++,E+=j):(N++,Y=!Y);return N===_.length||E===(p?f:c)&&N===_.length-1?_:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,c,f,p,y,b){let E=y,_=p?-1:1;for(let N=0;N<2;N++){for(;(p?E>=c:E<f)&&p===o.get(E,b);){if(Math.abs(y-E)>Tt.CODEWORD_SKEW_SIZE)return y;E+=_}_=-_,p=!p}return E}static checkCodewordSkew(o,c,f){return c-Tt.CODEWORD_SKEW_SIZE<=o&&o<=f+Tt.CODEWORD_SKEW_SIZE}static decodeCodewords(o,c,f){if(o.length===0)throw B.getFormatInstance();let p=1<<c+1,y=Tt.correctErrors(o,f,p);Tt.verifyCodewordCount(o,p);let b=Se.decode(o,""+c);return b.setErrorsCorrected(y),b.setErasures(f.length),b}static correctErrors(o,c,f){if(c!=null&&c.length>f/2+Tt.MAX_ERRORS||f<0||f>Tt.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return Tt.errorCorrection.decode(o,f,c)}static verifyCodewordCount(o,c){if(o.length<4)throw B.getFormatInstance();let f=o[0];if(f>o.length)throw B.getFormatInstance();if(f===0)if(c<o.length)o[0]=o.length-c;else throw B.getFormatInstance()}static getBitCountForCodeword(o){let c=new Int32Array(8),f=0,p=c.length-1;for(;!((o&1)!==f&&(f=o&1,p--,p<0));)c[p]++,o>>=1;return c}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Tt.getCodewordBucketNumber(Tt.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let c=new Ui;for(let f=0;f<o.length;f++){c.format("Row %2d: ",f);for(let p=0;p<o[f].length;p++){let y=o[f][p];y.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",y.getValue()[0],y.getConfidence(y.getValue()[0]))}c.format("%n")}return c.toString()}}Tt.CODEWORD_SKEW_SIZE=2,Tt.MAX_ERRORS=3,Tt.MAX_EC_CODEWORDS=512,Tt.errorCorrection=new cs;class Mr{decode(o,c=null){let f=Mr.decode(o,c,!1);if(f==null||f.length===0||f[0]==null)throw re.getNotFoundInstance();return f[0]}decodeMultiple(o,c=null){try{return Mr.decode(o,c,!0)}catch(f){throw f instanceof B||f instanceof I?re.getNotFoundInstance():f}}static decode(o,c,f){const p=new Array,y=xt.detectMultiple(o,c,f);for(const b of y.getPoints()){const E=Tt.decode(y.getBits(),b[4],b[5],b[6],b[7],Mr.getMinCodewordWidth(b),Mr.getMaxCodewordWidth(b)),_=new Ye(E.getText(),E.getRawBytes(),void 0,b,Ne.PDF_417);_.putMetadata(lt.ERROR_CORRECTION_LEVEL,E.getECLevel());const N=E.getOther();N!=null&&_.putMetadata(lt.PDF417_EXTRA_METADATA,N),p.push(_)}return p.map(b=>b)}static getMaxWidth(o,c){return o==null||c==null?0:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMinWidth(o,c){return o==null||c==null?z.MAX_VALUE:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Mr.getMaxWidth(o[0],o[4]),Mr.getMaxWidth(o[6],o[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.max(Mr.getMaxWidth(o[1],o[5]),Mr.getMaxWidth(o[7],o[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Mr.getMinWidth(o[0],o[4]),Mr.getMinWidth(o[6],o[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.min(Mr.getMinWidth(o[1],o[5]),Mr.getMinWidth(o[7],o[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Zs extends g{}Zs.kind="ReaderException";class Js{constructor(o,c){this.verbose=o===!0,c&&this.setHints(c)}decode(o,c){return c&&this.setHints(c),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const c=!r(o)&&o.get(ee.TRY_HARDER)===!0,f=r(o)?null:o.get(ee.POSSIBLE_FORMATS),p=new Array;if(!r(f)){const y=f.some(b=>b===Ne.UPC_A||b===Ne.UPC_E||b===Ne.EAN_13||b===Ne.EAN_8||b===Ne.CODABAR||b===Ne.CODE_39||b===Ne.CODE_93||b===Ne.CODE_128||b===Ne.ITF||b===Ne.RSS_14||b===Ne.RSS_EXPANDED);y&&!c&&p.push(new ua(o,this.verbose)),f.includes(Ne.QR_CODE)&&p.push(new Ra),f.includes(Ne.DATA_MATRIX)&&p.push(new Bi),f.includes(Ne.AZTEC)&&p.push(new mt),f.includes(Ne.PDF_417)&&p.push(new Mr),y&&c&&p.push(new ua(o,this.verbose))}p.length===0&&(c||p.push(new ua(o,this.verbose)),p.push(new Ra),p.push(new Bi),p.push(new mt),p.push(new Mr),c&&p.push(new ua(o,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Zs("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(o,this.hints)}catch(f){if(f instanceof Zs)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class Tu extends Le{constructor(o=null,c=500){const f=new Js;f.setHints(o),super(f,c)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Iu extends Le{constructor(o=500){super(new Mr,o)}}class Oc extends Le{constructor(o=500){super(new Ra,o)}}var Bs;(function(W){W[W.ERROR_CORRECTION=0]="ERROR_CORRECTION",W[W.CHARACTER_SET=1]="CHARACTER_SET",W[W.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",W[W.MIN_SIZE=3]="MIN_SIZE",W[W.MAX_SIZE=4]="MAX_SIZE",W[W.MARGIN=5]="MARGIN",W[W.PDF417_COMPACT=6]="PDF417_COMPACT",W[W.PDF417_COMPACTION=7]="PDF417_COMPACTION",W[W.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",W[W.AZTEC_LAYERS=9]="AZTEC_LAYERS",W[W.QR_VERSION=10]="QR_VERSION"})(Bs||(Bs={}));var cr=Bs;class eo{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new st(o,Int32Array.from([1])))}buildGenerator(o){const c=this.cachedGenerators;if(o>=c.length){let f=c[c.length-1];const p=this.field;for(let y=c.length;y<=o;y++){const b=f.multiply(new st(p,Int32Array.from([1,p.exp(y-1+p.getGeneratorBase())])));c.push(b),f=b}}return c[o]}encode(o,c){if(c===0)throw new w("No error correction bytes");const f=o.length-c;if(f<=0)throw new w("No data bytes provided");const p=this.buildGenerator(c),y=new Int32Array(f);P.arraycopy(o,0,y,0,f);let b=new st(this.field,y);b=b.multiplyByMonomial(c,1);const _=b.divide(p)[1].getCoefficients(),N=c-_.length;for(let j=0;j<N;j++)o[f+j]=0;P.arraycopy(_,0,o,f+N,_.length)}}class Un{constructor(){}static applyMaskPenaltyRule1(o){return Un.applyMaskPenaltyRule1Internal(o,!0)+Un.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let c=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let b=0;b<y-1;b++){const E=f[b];for(let _=0;_<p-1;_++){const N=E[_];N===E[_+1]&&N===f[b+1][_]&&N===f[b+1][_+1]&&c++}}return Un.N2*c}static applyMaskPenaltyRule3(o){let c=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let b=0;b<y;b++)for(let E=0;E<p;E++){const _=f[b];E+6<p&&_[E]===1&&_[E+1]===0&&_[E+2]===1&&_[E+3]===1&&_[E+4]===1&&_[E+5]===0&&_[E+6]===1&&(Un.isWhiteHorizontal(_,E-4,E)||Un.isWhiteHorizontal(_,E+7,E+11))&&c++,b+6<y&&f[b][E]===1&&f[b+1][E]===0&&f[b+2][E]===1&&f[b+3][E]===1&&f[b+4][E]===1&&f[b+5][E]===0&&f[b+6][E]===1&&(Un.isWhiteVertical(f,E,b-4,b)||Un.isWhiteVertical(f,E,b+7,b+11))&&c++}return c*Un.N3}static isWhiteHorizontal(o,c,f){c=Math.max(c,0),f=Math.min(f,o.length);for(let p=c;p<f;p++)if(o[p]===1)return!1;return!0}static isWhiteVertical(o,c,f,p){f=Math.max(f,0),p=Math.min(p,o.length);for(let y=f;y<p;y++)if(o[y][c]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let c=0;const f=o.getArray(),p=o.getWidth(),y=o.getHeight();for(let _=0;_<y;_++){const N=f[_];for(let j=0;j<p;j++)N[j]===1&&c++}const b=o.getHeight()*o.getWidth();return Math.floor(Math.abs(c*2-b)*10/b)*Un.N4}static getDataMaskBit(o,c,f){let p,y;switch(o){case 0:p=f+c&1;break;case 1:p=f&1;break;case 2:p=c%3;break;case 3:p=(f+c)%3;break;case 4:p=Math.floor(f/2)+Math.floor(c/3)&1;break;case 5:y=f*c,p=(y&1)+y%3;break;case 6:y=f*c,p=(y&1)+y%3&1;break;case 7:y=f*c,p=y%3+(f+c&1)&1;break;default:throw new w("Invalid mask pattern: "+o)}return p===0}static applyMaskPenaltyRule1Internal(o,c){let f=0;const p=c?o.getHeight():o.getWidth(),y=c?o.getWidth():o.getHeight(),b=o.getArray();for(let E=0;E<p;E++){let _=0,N=-1;for(let j=0;j<y;j++){const Y=c?b[E][j]:b[j][E];Y===N?_++:(_>=5&&(f+=Un.N1+(_-5)),_=1,N=Y)}_>=5&&(f+=Un.N1+(_-5))}return f}}Un.N1=3,Un.N2=3,Un.N3=40,Un.N4=10;class to{constructor(o,c){this.width=o,this.height=c;const f=new Array(c);for(let p=0;p!==c;p++)f[p]=new Uint8Array(o);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(o,c){return this.bytes[c][o]}getArray(){return this.bytes}setNumber(o,c,f){this.bytes[c][o]=f}setBoolean(o,c,f){this.bytes[c][o]=f?1:0}clear(o){for(const c of this.bytes)$.fill(c,o)}equals(o){if(!(o instanceof to))return!1;const c=o;if(this.width!==c.width||this.height!==c.height)return!1;for(let f=0,p=this.height;f<p;++f){const y=this.bytes[f],b=c.bytes[f];for(let E=0,_=this.width;E<_;++E)if(y[E]!==b[E])return!1}return!0}toString(){const o=new U;for(let c=0,f=this.height;c<f;++c){const p=this.bytes[c];for(let y=0,b=this.width;y<b;++y)switch(p[y]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ai{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new U;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ai.NUM_MASK_PATTERNS}}Ai.NUM_MASK_PATTERNS=8;class yn extends g{}yn.kind="WriterException";class pt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,c,f,p,y){pt.clearMatrix(y),pt.embedBasicPatterns(f,y),pt.embedTypeInfo(c,p,y),pt.maybeEmbedVersionInfo(f,y),pt.embedDataBits(o,p,y)}static embedBasicPatterns(o,c){pt.embedPositionDetectionPatternsAndSeparators(c),pt.embedDarkDotAtLeftBottomCorner(c),pt.maybeEmbedPositionAdjustmentPatterns(o,c),pt.embedTimingPatterns(c)}static embedTypeInfo(o,c,f){const p=new te;pt.makeTypeInfoBits(o,c,p);for(let y=0,b=p.getSize();y<b;++y){const E=p.get(p.getSize()-1-y),_=pt.TYPE_INFO_COORDINATES[y],N=_[0],j=_[1];if(f.setBoolean(N,j,E),y<8){const Y=f.getWidth()-y-1;f.setBoolean(Y,8,E)}else{const Q=f.getHeight()-7+(y-8);f.setBoolean(8,Q,E)}}}static maybeEmbedVersionInfo(o,c){if(o.getVersionNumber()<7)return;const f=new te;pt.makeVersionInfoBits(o,f);let p=17;for(let y=0;y<6;++y)for(let b=0;b<3;++b){const E=f.get(p);p--,c.setBoolean(y,c.getHeight()-11+b,E),c.setBoolean(c.getHeight()-11+b,y,E)}}static embedDataBits(o,c,f){let p=0,y=-1,b=f.getWidth()-1,E=f.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);E>=0&&E<f.getHeight();){for(let _=0;_<2;++_){const N=b-_;if(!pt.isEmpty(f.get(N,E)))continue;let j;p<o.getSize()?(j=o.get(p),++p):j=!1,c!==255&&Un.getDataMaskBit(c,N,E)&&(j=!j),f.setBoolean(N,E,j)}E+=y}y=-y,E+=y,b-=2}if(p!==o.getSize())throw new yn("Not all bits consumed: "+p+"/"+o.getSize())}static findMSBSet(o){return 32-z.numberOfLeadingZeros(o)}static calculateBCHCode(o,c){if(c===0)throw new w("0 polynomial");const f=pt.findMSBSet(c);for(o<<=f-1;pt.findMSBSet(o)>=f;)o^=c<<pt.findMSBSet(o)-f;return o}static makeTypeInfoBits(o,c,f){if(!Ai.isValidMaskPattern(c))throw new yn("Invalid mask pattern");const p=o.getBits()<<3|c;f.appendBits(p,5);const y=pt.calculateBCHCode(p,pt.TYPE_INFO_POLY);f.appendBits(y,10);const b=new te;if(b.appendBits(pt.TYPE_INFO_MASK_PATTERN,15),f.xor(b),f.getSize()!==15)throw new yn("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(o,c){c.appendBits(o.getVersionNumber(),6);const f=pt.calculateBCHCode(o.getVersionNumber(),pt.VERSION_INFO_POLY);if(c.appendBits(f,12),c.getSize()!==18)throw new yn("should not happen but we got: "+c.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let c=8;c<o.getWidth()-8;++c){const f=(c+1)%2;pt.isEmpty(o.get(c,6))&&o.setNumber(c,6,f),pt.isEmpty(o.get(6,c))&&o.setNumber(6,c,f)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new yn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,c,f){for(let p=0;p<8;++p){if(!pt.isEmpty(f.get(o+p,c)))throw new yn;f.setNumber(o+p,c,0)}}static embedVerticalSeparationPattern(o,c,f){for(let p=0;p<7;++p){if(!pt.isEmpty(f.get(o,c+p)))throw new yn;f.setNumber(o,c+p,0)}}static embedPositionAdjustmentPattern(o,c,f){for(let p=0;p<5;++p){const y=pt.POSITION_ADJUSTMENT_PATTERN[p];for(let b=0;b<5;++b)f.setNumber(o+b,c+p,y[b])}}static embedPositionDetectionPattern(o,c,f){for(let p=0;p<7;++p){const y=pt.POSITION_DETECTION_PATTERN[p];for(let b=0;b<7;++b)f.setNumber(o+b,c+p,y[b])}}static embedPositionDetectionPatternsAndSeparators(o){const c=pt.POSITION_DETECTION_PATTERN[0].length;pt.embedPositionDetectionPattern(0,0,o),pt.embedPositionDetectionPattern(o.getWidth()-c,0,o),pt.embedPositionDetectionPattern(0,o.getWidth()-c,o);const f=8;pt.embedHorizontalSeparationPattern(0,f-1,o),pt.embedHorizontalSeparationPattern(o.getWidth()-f,f-1,o),pt.embedHorizontalSeparationPattern(0,o.getWidth()-f,o);const p=7;pt.embedVerticalSeparationPattern(p,0,o),pt.embedVerticalSeparationPattern(o.getHeight()-p-1,0,o),pt.embedVerticalSeparationPattern(p,o.getHeight()-p,o)}static maybeEmbedPositionAdjustmentPatterns(o,c){if(o.getVersionNumber()<2)return;const f=o.getVersionNumber()-1,p=pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let y=0,b=p.length;y!==b;y++){const E=p[y];if(E>=0)for(let _=0;_!==b;_++){const N=p[_];N>=0&&pt.isEmpty(c.get(N,E))&&pt.embedPositionAdjustmentPattern(N-2,E-2,c)}}}}pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),pt.VERSION_INFO_POLY=7973,pt.TYPE_INFO_POLY=1335,pt.TYPE_INFO_MASK_PATTERN=21522;class Ou{constructor(o,c){this.dataBytes=o,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Sn{constructor(){}static calculateMaskPenalty(o){return Un.applyMaskPenaltyRule1(o)+Un.applyMaskPenaltyRule2(o)+Un.applyMaskPenaltyRule3(o)+Un.applyMaskPenaltyRule4(o)}static encode(o,c,f=null){let p=Sn.DEFAULT_BYTE_MODE_ENCODING;const y=f!==null&&f.get(cr.CHARACTER_SET)!==void 0;y&&(p=f.get(cr.CHARACTER_SET).toString());const b=this.chooseMode(o,p),E=new te;if(b===ut.BYTE&&(y||Sn.DEFAULT_BYTE_MODE_ENCODING!==p)){const qe=F.getCharacterSetECIByName(p);qe!==void 0&&this.appendECI(qe,E)}this.appendModeInfo(b,E);const _=new te;this.appendBytes(o,b,_,p);let N;if(f!==null&&f.get(cr.QR_VERSION)!==void 0){const qe=Number.parseInt(f.get(cr.QR_VERSION).toString(),10);N=We.getVersionForNumber(qe);const ze=this.calculateBitsNeeded(b,E,_,N);if(!this.willFit(ze,N,c))throw new yn("Data too big for requested version")}else N=this.recommendVersion(c,b,E,_);const j=new te;j.appendBitArray(E);const Y=b===ut.BYTE?_.getSizeInBytes():o.length;this.appendLengthInfo(Y,N,b,j),j.appendBitArray(_);const Q=N.getECBlocksForLevel(c),se=N.getTotalCodewords()-Q.getTotalECCodewords();this.terminateBits(se,j);const fe=this.interleaveWithECBytes(j,N.getTotalCodewords(),se,Q.getNumBlocks()),he=new Ai;he.setECLevel(c),he.setMode(b),he.setVersion(N);const ye=N.getDimensionForVersion(),Ae=new to(ye,ye),He=this.chooseMaskPattern(fe,c,N,Ae);return he.setMaskPattern(He),pt.buildMatrix(fe,c,N,He,Ae),he.setMatrix(Ae),he}static recommendVersion(o,c,f,p){const y=this.calculateBitsNeeded(c,f,p,We.getVersionForNumber(1)),b=this.chooseVersion(y,o),E=this.calculateBitsNeeded(c,f,p,b);return this.chooseVersion(E,o)}static calculateBitsNeeded(o,c,f,p){return c.getSize()+o.getCharacterCountBits(p)+f.getSize()}static getAlphanumericCode(o){return o<Sn.ALPHANUMERIC_TABLE.length?Sn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,c=null){if(F.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(o))return ut.KANJI;let f=!1,p=!1;for(let y=0,b=o.length;y<b;++y){const E=o.charAt(y);if(Sn.isDigit(E))f=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)p=!0;else return ut.BYTE}return p?ut.ALPHANUMERIC:f?ut.NUMERIC:ut.BYTE}static isOnlyDoubleByteKanji(o){let c;try{c=q.encode(o,F.SJIS)}catch{return!1}const f=c.length;if(f%2!==0)return!1;for(let p=0;p<f;p+=2){const y=c[p]&255;if((y<129||y>159)&&(y<224||y>235))return!1}return!0}static chooseMaskPattern(o,c,f,p){let y=Number.MAX_SAFE_INTEGER,b=-1;for(let E=0;E<Ai.NUM_MASK_PATTERNS;E++){pt.buildMatrix(o,c,f,E,p);let _=this.calculateMaskPenalty(p);_<y&&(y=_,b=E)}return b}static chooseVersion(o,c){for(let f=1;f<=40;f++){const p=We.getVersionForNumber(f);if(Sn.willFit(o,p,c))return p}throw new yn("Data too big")}static willFit(o,c,f){const p=c.getTotalCodewords(),b=c.getECBlocksForLevel(f).getTotalECCodewords(),E=p-b,_=(o+7)/8;return E>=_}static terminateBits(o,c){const f=o*8;if(c.getSize()>f)throw new yn("data bits cannot fit in the QR Code"+c.getSize()+" > "+f);for(let b=0;b<4&&c.getSize()<f;++b)c.appendBit(!1);const p=c.getSize()&7;if(p>0)for(let b=p;b<8;b++)c.appendBit(!1);const y=o-c.getSizeInBytes();for(let b=0;b<y;++b)c.appendBits((b&1)===0?236:17,8);if(c.getSize()!==f)throw new yn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,c,f,p,y,b){if(p>=f)throw new yn("Block ID too large");const E=o%f,_=f-E,N=Math.floor(o/f),j=N+1,Y=Math.floor(c/f),Q=Y+1,se=N-Y,fe=j-Q;if(se!==fe)throw new yn("EC bytes mismatch");if(f!==_+E)throw new yn("RS blocks mismatch");if(o!==(Y+se)*_+(Q+fe)*E)throw new yn("Total bytes mismatch");p<_?(y[0]=Y,b[0]=se):(y[0]=Q,b[0]=fe)}static interleaveWithECBytes(o,c,f,p){if(o.getSizeInBytes()!==f)throw new yn("Number of bits and data bytes does not match");let y=0,b=0,E=0;const _=new Array;for(let j=0;j<p;++j){const Y=new Int32Array(1),Q=new Int32Array(1);Sn.getNumDataBytesAndNumECBytesForBlockID(c,f,p,j,Y,Q);const se=Y[0],fe=new Uint8Array(se);o.toBytes(8*y,fe,0,se);const he=Sn.generateECBytes(fe,Q[0]);_.push(new Ou(fe,he)),b=Math.max(b,se),E=Math.max(E,he.length),y+=Y[0]}if(f!==y)throw new yn("Data bytes does not match offset");const N=new te;for(let j=0;j<b;++j)for(const Y of _){const Q=Y.getDataBytes();j<Q.length&&N.appendBits(Q[j],8)}for(let j=0;j<E;++j)for(const Y of _){const Q=Y.getErrorCorrectionBytes();j<Q.length&&N.appendBits(Q[j],8)}if(c!==N.getSizeInBytes())throw new yn("Interleaving error: "+c+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(o,c){const f=o.length,p=new Int32Array(f+c);for(let b=0;b<f;b++)p[b]=o[b]&255;new eo(Je.QR_CODE_FIELD_256).encode(p,c);const y=new Uint8Array(c);for(let b=0;b<c;b++)y[b]=p[f+b];return y}static appendModeInfo(o,c){c.appendBits(o.getBits(),4)}static appendLengthInfo(o,c,f,p){const y=f.getCharacterCountBits(c);if(o>=1<<y)throw new yn(o+" is bigger than "+((1<<y)-1));p.appendBits(o,y)}static appendBytes(o,c,f,p){switch(c){case ut.NUMERIC:Sn.appendNumericBytes(o,f);break;case ut.ALPHANUMERIC:Sn.appendAlphanumericBytes(o,f);break;case ut.BYTE:Sn.append8BitBytes(o,f,p);break;case ut.KANJI:Sn.appendKanjiBytes(o,f);break;default:throw new yn("Invalid mode: "+c)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const c=Sn.getDigit(o);return c>=0&&c<=9}static appendNumericBytes(o,c){const f=o.length;let p=0;for(;p<f;){const y=Sn.getDigit(o.charAt(p));if(p+2<f){const b=Sn.getDigit(o.charAt(p+1)),E=Sn.getDigit(o.charAt(p+2));c.appendBits(y*100+b*10+E,10),p+=3}else if(p+1<f){const b=Sn.getDigit(o.charAt(p+1));c.appendBits(y*10+b,7),p+=2}else c.appendBits(y,4),p++}}static appendAlphanumericBytes(o,c){const f=o.length;let p=0;for(;p<f;){const y=Sn.getAlphanumericCode(o.charCodeAt(p));if(y===-1)throw new yn;if(p+1<f){const b=Sn.getAlphanumericCode(o.charCodeAt(p+1));if(b===-1)throw new yn;c.appendBits(y*45+b,11),p+=2}else c.appendBits(y,6),p++}}static append8BitBytes(o,c,f){let p;try{p=q.encode(o,f)}catch(y){throw new yn(y)}for(let y=0,b=p.length;y!==b;y++){const E=p[y];c.appendBits(E,8)}}static appendKanjiBytes(o,c){let f;try{f=q.encode(o,F.SJIS)}catch(y){throw new yn(y)}const p=f.length;for(let y=0;y<p;y+=2){const b=f[y]&255,E=f[y+1]&255,_=b<<8&4294967295|E;let N=-1;if(_>=33088&&_<=40956?N=_-33088:_>=57408&&_<=60351&&(N=_-49472),N===-1)throw new yn("Invalid byte sequence");const j=(N>>8)*192+(N&255);c.appendBits(j,13)}}static appendECI(o,c){c.appendBits(ut.ECI.getBits(),4),c.appendBits(o.getValue(),8)}}Sn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Sn.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class da{write(o,c,f,p=null){if(o.length===0)throw new w("Found empty contents");if(c<0||f<0)throw new w("Requested dimensions are too small: "+c+"x"+f);let y=Vt.L,b=da.QUIET_ZONE_SIZE;p!==null&&(p.get(cr.ERROR_CORRECTION)!==void 0&&(y=Vt.fromString(p.get(cr.ERROR_CORRECTION).toString())),p.get(cr.MARGIN)!==void 0&&(b=Number.parseInt(p.get(cr.MARGIN).toString(),10)));const E=Sn.encode(o,y,p);return this.renderResult(E,c,f,b)}writeToDom(o,c,f,p,y=null){typeof o=="string"&&(o=document.querySelector(o));const b=this.write(c,f,p,y);o&&o.appendChild(b)}renderResult(o,c,f,p){const y=o.getMatrix();if(y===null)throw new ht;const b=y.getWidth(),E=y.getHeight(),_=b+p*2,N=E+p*2,j=Math.max(c,_),Y=Math.max(f,N),Q=Math.min(Math.floor(j/_),Math.floor(Y/N)),se=Math.floor((j-b*Q)/2),fe=Math.floor((Y-E*Q)/2),he=this.createSVGElement(j,Y);for(let ye=0,Ae=fe;ye<E;ye++,Ae+=Q)for(let He=0,qe=se;He<b;He++,qe+=Q)if(y.get(He,ye)===1){const ze=this.createSvgRectElement(qe,Ae,Q,Q);he.appendChild(ze)}return he}createSVGElement(o,c){const f=document.createElementNS(da.SVG_NS,"svg");return f.setAttributeNS(null,"height",o.toString()),f.setAttributeNS(null,"width",c.toString()),f}createSvgRectElement(o,c,f,p){const y=document.createElementNS(da.SVG_NS,"rect");return y.setAttributeNS(null,"x",o.toString()),y.setAttributeNS(null,"y",c.toString()),y.setAttributeNS(null,"height",f.toString()),y.setAttributeNS(null,"width",p.toString()),y.setAttributeNS(null,"fill","#000000"),y}}da.QUIET_ZONE_SIZE=4,da.SVG_NS="http://www.w3.org/2000/svg";class Ar{encode(o,c,f,p,y){if(o.length===0)throw new w("Found empty contents");if(c!==Ne.QR_CODE)throw new w("Can only encode QR_CODE, but got "+c);if(f<0||p<0)throw new w(`Requested dimensions are too small: ${f}x${p}`);let b=Vt.L,E=Ar.QUIET_ZONE_SIZE;y!==null&&(y.get(cr.ERROR_CORRECTION)!==void 0&&(b=Vt.fromString(y.get(cr.ERROR_CORRECTION).toString())),y.get(cr.MARGIN)!==void 0&&(E=Number.parseInt(y.get(cr.MARGIN).toString(),10)));const _=Sn.encode(o,b,y);return Ar.renderResult(_,f,p,E)}static renderResult(o,c,f,p){const y=o.getMatrix();if(y===null)throw new ht;const b=y.getWidth(),E=y.getHeight(),_=b+p*2,N=E+p*2,j=Math.max(c,_),Y=Math.max(f,N),Q=Math.min(Math.floor(j/_),Math.floor(Y/N)),se=Math.floor((j-b*Q)/2),fe=Math.floor((Y-E*Q)/2),he=new ae(j,Y);for(let ye=0,Ae=fe;ye<E;ye++,Ae+=Q)for(let He=0,qe=se;He<b;He++,qe+=Q)y.get(He,ye)===1&&he.setRegion(qe,Ae,Q,Q);return he}}Ar.QUIET_ZONE_SIZE=4;class Ru{encode(o,c,f,p,y){let b;switch(c){case Ne.QR_CODE:b=new Ar;break;default:throw new w("No encoder available for format "+c)}return b.encode(o,c,f,p,y)}}class ea extends Te{constructor(o,c,f,p,y,b,E,_){if(super(b,E),this.yuvData=o,this.dataWidth=c,this.dataHeight=f,this.left=p,this.top=y,p+b>c||y+E>f)throw new w("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(b,E)}getRow(o,c){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const p=(o+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,p,c,0,f),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.yuvData;const f=o*c,p=new Uint8ClampedArray(f);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return P.arraycopy(this.yuvData,y,p,0,f),p;for(let b=0;b<c;b++){const E=b*o;P.arraycopy(this.yuvData,y,p,E,o),y+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,c,f,p){return new ea(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+c,f,p,!1)}renderThumbnail(){const o=this.getWidth()/ea.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/ea.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(o*c),p=this.yuvData;let y=this.top*this.dataWidth+this.left;for(let b=0;b<c;b++){const E=b*o;for(let _=0;_<o;_++){const N=p[y+_*ea.THUMBNAIL_SCALE_FACTOR]&255;f[E+_]=4278190080|N*65793}y+=this.dataWidth*ea.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/ea.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ea.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,c){const f=this.yuvData;for(let p=0,y=this.top*this.dataWidth+this.left;p<c;p++,y+=this.dataWidth){const b=y+o/2;for(let E=y,_=y+o-1;E<b;E++,_--){const N=f[E];f[E]=f[_],f[_]=N}}}invert(){return new Ue(this)}}ea.THUMBNAIL_SCALE_FACTOR=2;class ga extends Te{constructor(o,c,f,p,y,b,E){if(super(c,f),this.dataWidth=p,this.dataHeight=y,this.left=b,this.top=E,o.BYTES_PER_ELEMENT===4){const _=c*f,N=new Uint8ClampedArray(_);for(let j=0;j<_;j++){const Y=o[j],Q=Y>>16&255,se=Y>>7&510,fe=Y&255;N[j]=(Q+se+fe)/4&255}this.luminances=N}else this.luminances=o;if(p===void 0&&(this.dataWidth=c),y===void 0&&(this.dataHeight=f),b===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+f>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(o,c){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const p=(o+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,p,c,0,f),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.luminances;const f=o*c,p=new Uint8ClampedArray(f);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return P.arraycopy(this.luminances,y,p,0,f),p;for(let b=0;b<c;b++){const E=b*o;P.arraycopy(this.luminances,y,p,E,o),y+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,c,f,p){return new ga(this.luminances,f,p,this.dataWidth,this.dataHeight,this.left+o,this.top+c)}invert(){return new Ue(this)}}class A extends F{static forName(o){return this.getCharacterSetECIByName(o)}}class k{}k.ISO_8859_1=F.ISO8859_1;class V{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class ne{static singletonList(o){return[o]}static min(o,c){return o.sort(c)[0]}}class pe{constructor(o){this.previous=o}getPrevious(){return this.previous}}class _e extends pe{constructor(o,c,f){super(o),this.value=c,this.bitCount=f}appendTo(o,c){o.appendBits(this.value,this.bitCount)}add(o,c){return new _e(this,o,c)}addBinaryShift(o,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new _e(this,o,c)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+z.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Ge extends _e{constructor(o,c,f){super(o,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=f}appendTo(o,c){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):f===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(c[this.binaryShiftStart+f],8)}addBinaryShift(o,c){return new Ge(this,o,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zt(W,o,c){return new Ge(W,o,c)}function tr(W,o,c){return new _e(W,o,c)}const Jt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vn=0,ur=1,Sr=2,Hr=3,Pr=4,Rc=new _e(null,0,0),_l=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function x0(W){for(let o of W)$.fill(o,-1);return W[Vn][Pr]=0,W[ur][Pr]=0,W[ur][Vn]=28,W[Hr][Pr]=0,W[Sr][Pr]=0,W[Sr][Vn]=15,W}const uh=x0($.createInt32Array(6,6));class ma{constructor(o,c,f,p){this.token=o,this.mode=c,this.binaryShiftByteCount=f,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,c){let f=this.bitCount,p=this.token;if(o!==this.mode){let b=_l[this.mode][o];p=tr(p,b&65535,b>>16),f+=b>>16}let y=o===Sr?4:5;return p=tr(p,c,y),new ma(p,o,0,f+y)}shiftAndAppend(o,c){let f=this.token,p=this.mode===Sr?4:5;return f=tr(f,uh[this.mode][o],p),f=tr(f,c,5),new ma(f,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(o){let c=this.token,f=this.mode,p=this.bitCount;if(this.mode===Pr||this.mode===Sr){let E=_l[f][Vn];c=tr(c,E&65535,E>>16),p+=E>>16,f=Vn}let y=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new ma(c,f,this.binaryShiftByteCount+1,p+y);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(o+1)),b}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Zt(c,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new ma(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let c=this.bitCount+(_l[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?c+=ma.calculateBinaryShiftCost(o)-ma.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(c+=10),c<=o.bitCount}toBitArray(o){let c=[];for(let p=this.endBinaryShift(o.length).token;p!==null;p=p.getPrevious())c.unshift(p);let f=new te;for(const p of c)p.appendTo(f,o);return f}toString(){return K.format("%s bits=%d bytes=%d",Jt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}ma.INITIAL_STATE=new ma(Rc,Vn,0,0);function fh(W){const o=K.getCharCode(" "),c=K.getCharCode("."),f=K.getCharCode(",");W[Vn][o]=1;const p=K.getCharCode("Z"),y=K.getCharCode("A");for(let Q=y;Q<=p;Q++)W[Vn][Q]=Q-y+2;W[ur][o]=1;const b=K.getCharCode("z"),E=K.getCharCode("a");for(let Q=E;Q<=b;Q++)W[ur][Q]=Q-E+2;W[Sr][o]=1;const _=K.getCharCode("9"),N=K.getCharCode("0");for(let Q=N;Q<=_;Q++)W[Sr][Q]=Q-N+2;W[Sr][f]=12,W[Sr][c]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Q=0;Q<j.length;Q++)W[Hr][K.getCharCode(j[Q])]=Q;const Y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Q=0;Q<Y.length;Q++)K.getCharCode(Y[Q])>0&&(W[Pr][K.getCharCode(Y[Q])]=Q);return W}const Nu=fh($.createInt32Array(5,256));class Tl{constructor(o){this.text=o}encode(){const o=K.getCharCode(" "),c=K.getCharCode(`
`);let f=ne.singletonList(ma.INITIAL_STATE);for(let y=0;y<this.text.length;y++){let b,E=y+1<this.text.length?this.text[y+1]:0;switch(this.text[y]){case K.getCharCode("\r"):b=E===c?2:0;break;case K.getCharCode("."):b=E===o?3:0;break;case K.getCharCode(","):b=E===o?4:0;break;case K.getCharCode(":"):b=E===o?5:0;break;default:b=0}b>0?(f=Tl.updateStateListForPair(f,y,b),y++):f=this.updateStateListForChar(f,y)}return ne.min(f,(y,b)=>y.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,c){const f=[];for(let p of o)this.updateStateForChar(p,c,f);return Tl.simplifyStates(f)}updateStateForChar(o,c,f){let p=this.text[c]&255,y=Nu[o.getMode()][p]>0,b=null;for(let E=0;E<=Pr;E++){let _=Nu[E][p];if(_>0){if(b==null&&(b=o.endBinaryShift(c)),!y||E===o.getMode()||E===Sr){const N=b.latchAndAppend(E,_);f.push(N)}if(!y&&uh[o.getMode()][E]>=0){const N=b.shiftAndAppend(E,_);f.push(N)}}}if(o.getBinaryShiftByteCount()>0||Nu[o.getMode()][p]===0){let E=o.addBinaryShiftChar(c);f.push(E)}}static updateStateListForPair(o,c,f){const p=[];for(let y of o)this.updateStateForPair(y,c,f,p);return this.simplifyStates(p)}static updateStateForPair(o,c,f,p){let y=o.endBinaryShift(c);if(p.push(y.latchAndAppend(Pr,f)),o.getMode()!==Pr&&p.push(y.shiftAndAppend(Pr,f)),f===3||f===4){let b=y.latchAndAppend(Sr,16-f).latchAndAppend(Sr,1);p.push(b)}if(o.getBinaryShiftByteCount()>0){let b=o.addBinaryShiftChar(c).addBinaryShiftChar(c+1);p.push(b)}}static simplifyStates(o){let c=[];for(const f of o){let p=!0;for(const y of c){if(y.isBetterThanOrEqualTo(f)){p=!1;break}f.isBetterThanOrEqualTo(y)&&(c=c.filter(b=>b!==y))}p&&c.push(f)}return c}}class en{constructor(){}static encodeBytes(o){return en.encode(o,en.DEFAULT_EC_PERCENT,en.DEFAULT_AZTEC_LAYERS)}static encode(o,c,f){let p=new Tl(o).encode(),y=z.truncDivision(p.getSize()*c,100)+11,b=p.getSize()+y,E,_,N,j,Y;if(f!==en.DEFAULT_AZTEC_LAYERS){if(E=f<0,_=Math.abs(f),_>(E?en.MAX_NB_BITS_COMPACT:en.MAX_NB_BITS))throw new w(K.format("Illegal value %s for layers",f));N=en.totalBitsInLayer(_,E),j=en.WORD_SIZE[_];let ze=N-N%j;if(Y=en.stuffBits(p,j),Y.getSize()+y>ze)throw new w("Data to large for user specified layer");if(E&&Y.getSize()>j*64)throw new w("Data to large for user specified layer")}else{j=0,Y=null;for(let ze=0;;ze++){if(ze>en.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(E=ze<=3,_=E?ze+1:ze,N=en.totalBitsInLayer(_,E),b>N)continue;(Y==null||j!==en.WORD_SIZE[_])&&(j=en.WORD_SIZE[_],Y=en.stuffBits(p,j));let Nt=N-N%j;if(!(E&&Y.getSize()>j*64)&&Y.getSize()+y<=Nt)break}}let Q=en.generateCheckWords(Y,N,j),se=Y.getSize()/j,fe=en.generateModeMessage(E,_,se),he=(E?11:14)+_*4,ye=new Int32Array(he),Ae;if(E){Ae=he;for(let ze=0;ze<ye.length;ze++)ye[ze]=ze}else{Ae=he+1+2*z.truncDivision(z.truncDivision(he,2)-1,15);let ze=z.truncDivision(he,2),Nt=z.truncDivision(Ae,2);for(let Ot=0;Ot<ze;Ot++){let Si=Ot+z.truncDivision(Ot,15);ye[ze-Ot-1]=Nt-Si-1,ye[ze+Ot]=Nt+Si+1}}let He=new ae(Ae);for(let ze=0,Nt=0;ze<_;ze++){let Ot=(_-ze)*4+(E?9:12);for(let Si=0;Si<Ot;Si++){let pa=Si*2;for(let Vi=0;Vi<2;Vi++)Q.get(Nt+pa+Vi)&&He.set(ye[ze*2+Vi],ye[ze*2+Si]),Q.get(Nt+Ot*2+pa+Vi)&&He.set(ye[ze*2+Si],ye[he-1-ze*2-Vi]),Q.get(Nt+Ot*4+pa+Vi)&&He.set(ye[he-1-ze*2-Vi],ye[he-1-ze*2-Si]),Q.get(Nt+Ot*6+pa+Vi)&&He.set(ye[he-1-ze*2-Si],ye[ze*2+Vi])}Nt+=Ot*8}if(en.drawModeMessage(He,E,Ae,fe),E)en.drawBullsEye(He,z.truncDivision(Ae,2),5);else{en.drawBullsEye(He,z.truncDivision(Ae,2),7);for(let ze=0,Nt=0;ze<z.truncDivision(he,2)-1;ze+=15,Nt+=16)for(let Ot=z.truncDivision(Ae,2)&1;Ot<Ae;Ot+=2)He.set(z.truncDivision(Ae,2)-Nt,Ot),He.set(z.truncDivision(Ae,2)+Nt,Ot),He.set(Ot,z.truncDivision(Ae,2)-Nt),He.set(Ot,z.truncDivision(Ae,2)+Nt)}let qe=new V;return qe.setCompact(E),qe.setSize(Ae),qe.setLayers(_),qe.setCodeWords(se),qe.setMatrix(He),qe}static drawBullsEye(o,c,f){for(let p=0;p<f;p+=2)for(let y=c-p;y<=c+p;y++)o.set(y,c-p),o.set(y,c+p),o.set(c-p,y),o.set(c+p,y);o.set(c-f,c-f),o.set(c-f+1,c-f),o.set(c-f,c-f+1),o.set(c+f,c-f),o.set(c+f,c-f+1),o.set(c+f,c+f-1)}static generateModeMessage(o,c,f){let p=new te;return o?(p.appendBits(c-1,2),p.appendBits(f-1,6),p=en.generateCheckWords(p,28,4)):(p.appendBits(c-1,5),p.appendBits(f-1,11),p=en.generateCheckWords(p,40,4)),p}static drawModeMessage(o,c,f,p){let y=z.truncDivision(f,2);if(c)for(let b=0;b<7;b++){let E=y-3+b;p.get(b)&&o.set(E,y-5),p.get(b+7)&&o.set(y+5,E),p.get(20-b)&&o.set(E,y+5),p.get(27-b)&&o.set(y-5,E)}else for(let b=0;b<10;b++){let E=y-5+b+z.truncDivision(b,5);p.get(b)&&o.set(E,y-7),p.get(b+10)&&o.set(y+7,E),p.get(29-b)&&o.set(E,y+7),p.get(39-b)&&o.set(y-7,E)}}static generateCheckWords(o,c,f){let p=o.getSize()/f,y=new eo(en.getGF(f)),b=z.truncDivision(c,f),E=en.bitsToWords(o,f,b);y.encode(E,b-p);let _=c%f,N=new te;N.appendBits(0,_);for(const j of Array.from(E))N.appendBits(j,f);return N}static bitsToWords(o,c,f){let p=new Int32Array(f),y,b;for(y=0,b=o.getSize()/c;y<b;y++){let E=0;for(let _=0;_<c;_++)E|=o.get(y*c+_)?1<<c-_-1:0;p[y]=E}return p}static getGF(o){switch(o){case 4:return Je.AZTEC_PARAM;case 6:return Je.AZTEC_DATA_6;case 8:return Je.AZTEC_DATA_8;case 10:return Je.AZTEC_DATA_10;case 12:return Je.AZTEC_DATA_12;default:throw new w("Unsupported word size "+o)}}static stuffBits(o,c){let f=new te,p=o.getSize(),y=(1<<c)-2;for(let b=0;b<p;b+=c){let E=0;for(let _=0;_<c;_++)(b+_>=p||o.get(b+_))&&(E|=1<<c-1-_);(E&y)===y?(f.appendBits(E&y,c),b--):(E&y)===0?(f.appendBits(E|1,c),b--):f.appendBits(E,c)}return f}static totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}en.DEFAULT_EC_PERCENT=33,en.DEFAULT_AZTEC_LAYERS=0,en.MAX_NB_BITS=32,en.MAX_NB_BITS_COMPACT=4,en.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Du{encode(o,c,f,p){return this.encodeWithHints(o,c,f,p,null)}encodeWithHints(o,c,f,p,y){let b=k.ISO_8859_1,E=en.DEFAULT_EC_PERCENT,_=en.DEFAULT_AZTEC_LAYERS;return y!=null&&(y.has(cr.CHARACTER_SET)&&(b=A.forName(y.get(cr.CHARACTER_SET).toString())),y.has(cr.ERROR_CORRECTION)&&(E=z.parseInt(y.get(cr.ERROR_CORRECTION).toString())),y.has(cr.AZTEC_LAYERS)&&(_=z.parseInt(y.get(cr.AZTEC_LAYERS).toString()))),Du.encodeLayers(o,c,f,p,b,E,_)}static encodeLayers(o,c,f,p,y,b,E){if(c!==Ne.AZTEC)throw new w("Can only encode AZTEC, but got "+c);let _=en.encode(K.getBytes(o,y),b,E);return Du.renderResult(_,f,p)}static renderResult(o,c,f){let p=o.getMatrix();if(p==null)throw new ht;let y=p.getWidth(),b=p.getHeight(),E=Math.max(c,y),_=Math.max(f,b),N=Math.min(E/y,_/b),j=(E-y*N)/2,Y=(_-b*N)/2,Q=new ae(E,_);for(let se=0,fe=Y;se<b;se++,fe+=N)for(let he=0,ye=j;he<y;he++,ye+=N)p.get(he,se)&&Q.setRegion(ye,fe,N,N);return Q}}n.AbstractExpandedDecoder=is,n.ArgumentException=v,n.ArithmeticException=De,n.AztecCode=V,n.AztecCodeReader=mt,n.AztecCodeWriter=Du,n.AztecDecoder=Mt,n.AztecDetector=ot,n.AztecDetectorResult=Ur,n.AztecEncoder=en,n.AztecHighLevelEncoder=Tl,n.AztecPoint=on,n.BarcodeFormat=Ne,n.Binarizer=D,n.BinaryBitmap=S,n.BitArray=te,n.BitMatrix=ae,n.BitSource=Qr,n.BrowserAztecCodeReader=Ht,n.BrowserBarcodeReader=Su,n.BrowserCodeReader=Le,n.BrowserDatamatrixCodeReader=ch,n.BrowserMultiFormatReader=Tu,n.BrowserPDF417Reader=Iu,n.BrowserQRCodeReader=Oc,n.BrowserQRCodeSvgWriter=da,n.CharacterSetECI=F,n.ChecksumException=I,n.Code128Reader=Fe,n.Code39Reader=St,n.DataMatrixDecodedBitStreamParser=ss,n.DataMatrixReader=Bi,n.DecodeHintType=ee,n.DecoderResult=Oe,n.DefaultGridSampler=sn,n.DetectorResult=la,n.EAN13Reader=xi,n.EncodeHintType=cr,n.Exception=g,n.FormatException=B,n.GenericGF=Je,n.GenericGFPoly=st,n.GlobalHistogramBinarizer=le,n.GridSampler=Xs,n.GridSamplerInstance=ir,n.HTMLCanvasElementLuminanceSource=oe,n.HybridBinarizer=ce,n.ITFReader=Gt,n.IllegalArgumentException=w,n.IllegalStateException=ht,n.InvertedLuminanceSource=Ue,n.LuminanceSource=Te,n.MathUtils=At,n.MultiFormatOneDReader=ua,n.MultiFormatReader=Js,n.MultiFormatWriter=Ru,n.NotFoundException=re,n.OneDReader=yt,n.PDF417DecodedBitStreamParser=Se,n.PDF417DecoderErrorCorrection=cs,n.PDF417Reader=Mr,n.PDF417ResultMetadata=Oo,n.PerspectiveTransform=Qt,n.PlanarYUVLuminanceSource=ea,n.QRCodeByteMatrix=to,n.QRCodeDataMask=Jn,n.QRCodeDecodedBitStreamParser=Fn,n.QRCodeDecoderErrorCorrectionLevel=Vt,n.QRCodeDecoderFormatInformation=sr,n.QRCodeEncoder=Sn,n.QRCodeEncoderQRCode=Ai,n.QRCodeMaskUtil=Un,n.QRCodeMatrixUtil=pt,n.QRCodeMode=ut,n.QRCodeReader=Ra,n.QRCodeVersion=We,n.QRCodeWriter=Ar,n.RGBLuminanceSource=ga,n.RSS14Reader=Ft,n.RSSExpandedReader=ke,n.ReaderException=Zs,n.ReedSolomonDecoder=hn,n.ReedSolomonEncoder=eo,n.ReedSolomonException=Qe,n.Result=Ye,n.ResultMetadataType=lt,n.ResultPoint=$e,n.StringUtils=K,n.UnsupportedOperationException=J,n.VideoInputDevice=be,n.WhiteRectangleDetector=vi,n.WriterException=yn,n.ZXingArrays=$,n.ZXingCharset=A,n.ZXingInteger=z,n.ZXingStandardCharsets=k,n.ZXingStringBuilder=U,n.ZXingStringEncoding=q,n.ZXingSystem=P,n.createAbstractExpandedDecoder=Ic,Object.defineProperty(n,"__esModule",{value:!0})})}(hd,hd.exports)),hd.exports}var nr=$se();const Xse=wo(nr),Kse=P4({__proto__:null,default:Xse},[nr]);var v4=function(){function t(e,n,r){if(this.formatMap=new Map([[tt.QR_CODE,nr.BarcodeFormat.QR_CODE],[tt.AZTEC,nr.BarcodeFormat.AZTEC],[tt.CODABAR,nr.BarcodeFormat.CODABAR],[tt.CODE_39,nr.BarcodeFormat.CODE_39],[tt.CODE_93,nr.BarcodeFormat.CODE_93],[tt.CODE_128,nr.BarcodeFormat.CODE_128],[tt.DATA_MATRIX,nr.BarcodeFormat.DATA_MATRIX],[tt.MAXICODE,nr.BarcodeFormat.MAXICODE],[tt.ITF,nr.BarcodeFormat.ITF],[tt.EAN_13,nr.BarcodeFormat.EAN_13],[tt.EAN_8,nr.BarcodeFormat.EAN_8],[tt.PDF_417,nr.BarcodeFormat.PDF_417],[tt.RSS_14,nr.BarcodeFormat.RSS_14],[tt.RSS_EXPANDED,nr.BarcodeFormat.RSS_EXPANDED],[tt.UPC_A,nr.BarcodeFormat.UPC_A],[tt.UPC_E,nr.BarcodeFormat.UPC_E],[tt.UPC_EAN_EXTENSION,nr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Kse)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),a=new Map;a.set(nr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(nr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var n=new nr.MultiFormatReader(this.verbose,this.hints),r=new nr.HTMLCanvasElementLuminanceSource(e),i=new nr.BinaryBitmap(new nr.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:c9.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),Qse=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(v){try{g(r.next(v))}catch(w){u(w)}}function m(v){try{g(r.throw(v))}catch(w){u(w)}}function g(v){v.done?a(v.value):i(v.value).then(d,m)}g((r=r.apply(t,e||[])).next())})},Zse=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(v){return m([g,v])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},x4=function(){function t(e,n,r){if(this.formatMap=new Map([[tt.QR_CODE,"qr_code"],[tt.AZTEC,"aztec"],[tt.CODABAR,"codabar"],[tt.CODE_39,"code_39"],[tt.CODE_93,"code_93"],[tt.CODE_128,"code_128"],[tt.DATA_MATRIX,"data_matrix"],[tt.ITF,"itf"],[tt.EAN_13,"ean_13"],[tt.EAN_8,"ean_8"],[tt.PDF_417,"pdf417"],[tt.UPC_A,"upc_a"],[tt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return Qse(this,void 0,void 0,function(){var n,r;return Zse(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:c9.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,a=e;i<a.length;i++){var u=a[i],d=u.boundingBox.width*u.boundingBox.height;d>r&&(r=d,n=u)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),b4=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(v){try{g(r.next(v))}catch(w){u(w)}}function m(v){try{g(r.throw(v))}catch(w){u(w)}}function g(v){v.done?a(v.value):i(v.value).then(d,m)}g((r=r.apply(t,e||[])).next())})},w4=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(v){return m([g,v])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Jse=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&x4.isSupported()?(this.primaryDecoder=new x4(e,r,i),this.secondaryDecoder=new v4(e,r,i)):this.primaryDecoder=new v4(e,r,i)}return t.prototype.decodeAsync=function(e){return b4(this,void 0,void 0,function(){var n;return w4(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return b4(this,void 0,void 0,function(){var n,r;return w4(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),OA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hm=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(v){try{g(r.next(v))}catch(w){u(w)}}function m(v){try{g(r.throw(v))}catch(w){u(w)}}function g(v){v.done?a(v.value):i(v.value).then(d,m)}g((r=r.apply(t,e||[])).next())})},dm=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(v){return m([g,v])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},d9=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),eoe=function(t){OA(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(d9),toe=function(t){OA(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(eoe),noe=function(t){OA(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(d9),roe=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new toe(this.track)},t.prototype.torchFeature=function(){return new noe(this.track)},t}(),ioe=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return hm(this,void 0,void 0,function(){var a,u;return dm(this,function(d){switch(d.label){case 0:return a=new t(e,n,i),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:d.sent(),d.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return hm(this,void 0,void 0,function(){return dm(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),a=i.length,u=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++u,u>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new roe(this.getFirstTrackOrFail())},t}(),aoe=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return hm(this,void 0,void 0,function(){return dm(this,function(i){return[2,ioe.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return hm(this,void 0,void 0,function(){var n,r;return dm(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),E4=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(v){try{g(r.next(v))}catch(w){u(w)}}function m(v){try{g(r.throw(v))}catch(w){u(w)}}function g(v){v.done?a(v.value):i(v.value).then(d,m)}g((r=r.apply(t,e||[])).next())})},A4=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(v){return m([g,v])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},soe=function(){function t(){}return t.failIfNotSupported=function(){return E4(this,void 0,void 0,function(){return A4(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return E4(this,void 0,void 0,function(){return A4(this,function(n){return[2,aoe.create(e)]})})},t}(),ooe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(v){try{g(r.next(v))}catch(w){u(w)}}function m(v){try{g(r.throw(v))}catch(w){u(w)}}function g(v){v.done?a(v.value):i(v.value).then(d,m)}g((r=r.apply(t,e||[])).next())})},loe=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(v){return m([g,v])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},coe=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=wf.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=wf.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return ooe(this,void 0,void 0,function(){var e,n,r,i,a,u,d;return loe(this,function(m){switch(m.label){case 0:return e=function(g){for(var v=g.getVideoTracks(),w=0,S=v;w<S.length;w++){var I=S[w];I.enabled=!1,I.stop(),g.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],a=0,u=r;a<u.length;a++)d=u[a],d.kind==="videoinput"&&i.push({id:d.deviceId,label:d.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(a){for(var u=[],d=0,m=a;d<m.length;d++){var g=m[d];g.kind==="video"&&u.push({id:g.id,label:g.label})}e(u)},i=MediaStreamTrack;i.getSources(r)})},t}(),Ir;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Ir||(Ir={}));var uoe=function(){function t(){this.state=Ir.NOT_STARTED,this.onGoingTransactionNewState=Ir.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Ir.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ir.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ir.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ir.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ir.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Ir.UNKNOWN:throw"Transition from unknown is not allowed";case Ir.NOT_STARTED:this.failIfNewStateIs(e,[Ir.PAUSED]);break;case Ir.SCANNING:break;case Ir.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),foe=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Ir.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Ir.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ir.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Ir.PAUSED},t}(),hoe=function(){function t(){}return t.create=function(){return new foe(new uoe)},t}(),doe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wa=function(t){doe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Vs),goe=function(){function t(e,n){this.logger=n,this.fps=Wa.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Wa.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?h9.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!lo(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),S4=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new f9(this.verbose),this.qrcode=new Jse(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=hoe.create()}return t.prototype.start=function(e,n,r,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var d=goe.create(n,this.logger);this.clearElement();var m=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=m,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Wa.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,S=this.stateManagerProxy.startTransition(Ir.SCANNING);return new Promise(function(I,D){var P=g?d.videoConstraints:w.createVideoConstraints(e);if(!P){S.cancel(),D("videoConstraints should be defined");return}var M={};(!g||d.aspectRatio)&&(M.aspectRatio=d.aspectRatio);var L={onRenderSurfaceReady:function($,z){w.setupUi($,z,d),w.isScanning=!0,w.foreverScan(d,r,u)}};soe.failIfNotSupported().then(function($){$.create(P).then(function(z){return z.render(a.element,M,L).then(function(te){w.renderedCamera=te,S.execute(),I(null)}).catch(function(te){S.cancel(),D(te)})}).catch(function(z){S.cancel(),D(wf.errorGettingUserMedia(z))})}).catch(function($){S.cancel(),D(wf.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ir.PAUSED),this.showPausedState(),(lo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Ir.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ir.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var a=document.getElementById(Wa.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(lo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var u=new Image;u.onload=function(){var d=u.width,m=u.height,g=document.getElementById(r.elementId),v=g.clientWidth?g.clientWidth:Wa.DEFAULT_WIDTH,w=Math.max(g.clientHeight?g.clientHeight:m,Wa.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(d,m,v,w);if(n){var I=r.createCanvasElement(v,w,"qr-canvas-visible");I.style.display="inline-block",g.appendChild(I);var D=I.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=v,D.canvas.height=w,D.drawImage(u,0,0,d,m,S.x,S.y,S.width,S.height)}var P=Wa.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(u.width,S.width),L=Math.max(u.height,S.height),$=M+2*P,z=L+2*P,te=r.createCanvasElement($,z);g.appendChild(te);var X=te.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=$,X.canvas.height=z,X.drawImage(u,0,0,d,m,P,P,M,L);try{r.qrcode.decodeRobustlyAsync(te).then(function(ee){i(m4.createFromQrcodeResult(ee))}).catch(a)}catch(ee){a("QR code parse error, error = ".concat(ee))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return coe.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!h9.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[tt.QR_CODE,tt.AZTEC,tt.CODABAR,tt.CODE_39,tt.CODE_93,tt.CODE_128,tt.DATA_MATRIX,tt.MAXICODE,tt.ITF,tt.EAN_13,tt.EAN_8,tt.PDF_417,tt.RSS_14,tt.RSS_EXPANDED,tt.UPC_A,tt.UPC_E,tt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=e.formatsToSupport;i<a.length;i++){var u=a[i];Gse(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(lo(e))return!0;if(!lo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(lo(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return lo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(e,n,a),d=function(g){if(g<Wa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wa.MIN_QR_BOX_SIZE,"px.")},m=function(g){return g>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=e),g};d(u.width),d(u.height),u.width=m(u.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=lo(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,d={x:0,y:0,width:e,height:n},m=u?this.getShadedRegionBounds(e,n,a):d,g=this.createCanvasElement(m.width,m.height),v={willReadFrequently:!0},w=g.getContext("2d",v);w.canvas.width=m.width,w.canvas.height=m.height,this.element.append(g),u&&this.possiblyInsertShadingElement(this.element,e,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=w,this.canvasElement=g},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=wf.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,m4.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=wf.codeParseError(i);return n(a,u9.createFrom(a)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,d=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*u,g=this.qrRegion.height*d,v=this.qrRegion.x*u,w=this.qrRegion.y*d;this.context.drawImage(a,v,w,m,g,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(I){!I&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){S()})):S()}).catch(function(I){i.logger.logError("Error happend while scanning context",I),S()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",u=function(D){if(D in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var m=Object.keys(e)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var g=e.facingMode;if(typeof g=="string"){if(u(g))return{facingMode:g}}else if(typeof g=="object")if(a in g){if(u(g["".concat(a)]))return{facingMode:{exact:g["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var v=typeof g;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var S=typeof w;throw"Invalid type of 'deviceId' = ".concat(S)}}}var I=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(I)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var a=(r-e)/2,u=(i-n)/2;return{x:a,y:u,width:e,height:n}}else{var d=e,m=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(m)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Wa.BORDER_SHADER_MATCH_COLOR:Wa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,a=n,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=lo(r)?"qr-canvas":r,u},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-i.width)/2,d=(r-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Wa.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,g=40;this.insertShaderBorders(a,g,m,-m,null,0,!0),this.insertShaderBorders(a,g,m,-m,null,0,!1),this.insertShaderBorders(a,g,m,null,-m,0,!0),this.insertShaderBorders(a,g,m,null,-m,0,!1),this.insertShaderBorders(a,m,g+m,-m,null,-m,!0),this.insertShaderBorders(a,m,g+m,null,-m,-m,!0),this.insertShaderBorders(a,m,g+m,-m,null,-m,!1),this.insertShaderBorders(a,m,g+m,null,-m,-m,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,n,r,i,a,u,d){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Wa.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),d?m.style.left="".concat(u,"px"):m.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),e.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),RA="data:image/svg+xml;base64,",moe=RA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",poe=RA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",C4=RA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",yoe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",_4=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),voe=function(){function t(){this.data=_4.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=_4.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),xoe=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=p4.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=p4.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),boe=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=C4,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=yoe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=C4,this.infoIcon.style.opacity="0.6")},t}(),woe=function(){function t(){var e=this;this.infoDiv=new xoe,this.infoIcon=new boe(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),Eoe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(v){try{g(r.next(v))}catch(w){u(w)}}function m(v){try{g(r.throw(v))}catch(w){u(w)}}function g(v){v.done?a(v.value):i(v.value).then(d,m)}g((r=r.apply(t,e||[])).next())})},Aoe=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(v){return m([g,v])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},T4=function(){function t(){}return t.hasPermissions=function(){return Eoe(this,void 0,void 0,function(){var e,n,r,i;return Aoe(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t}(),Xl=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===vc.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===vc.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Vs.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Vs.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!Vs.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t}(),Qa=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Ko=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(Qa.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),g9=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(v){try{g(r.next(v))}catch(w){u(w)}}function m(v){try{g(r.throw(v))}catch(w){u(w)}}function g(v){v.done?a(v.value):i(v.value).then(d,m)}g((r=r.apply(t,e||[])).next())})},m9=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(g){return function(v){return m([g,v])}}function m(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],i=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},I4=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return g9(this,void 0,void 0,function(){var e,n;return m9(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Rn.torchOffButton():Rn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Rn.torchOnFailedMessage():Rn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),Soe=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Ko.createElement("button",Qa.TORCH_BUTTON_ID),this.torchController=new I4(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Rn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return g9(r,void 0,void 0,function(){return m9(this,function(u){switch(u.label){case 0:return[4,i.torchController.flipState()];case 1:return u.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Qa.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Qa.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Qa.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Qa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new I4(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Rn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var a=new t(n,i);return a.render(e,r),a},t}(),Coe=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Ko.createElement("button",Qa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Ko.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var m=d.target;if(!(m.files&&m.files.length===0)){var g=m.files,v=g[0],w=v.name;a.setImageNameToButton(w),r(v)}}});var u=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(u),this.fileBasedScanRegion.addEventListener("dragenter",function(d){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var m=d.dataTransfer;if(m){var g=m.files;if(!g||g.length===0)return;for(var v=!1,w=0;w<g.length;++w){var S=g.item(w);if(S){var I=/image.*/;if(S.type.match(I)){v=!0;var D=S.name;a.setImageNameToButton(D),r(S),u.innerText=Rn.dragAndDropMessage();break}}}v||(u.innerText=Rn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Rn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(r,"....").concat(a)}var u=Rn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=u},t.prototype.setInitialValueToButton=function(){var e=Rn.fileSelectionChooseImage()+" - "+Rn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t}(),_oe=function(){function t(e){this.selectElement=Ko.createElement("select",Qa.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Rn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,u=0,d=this.cameras;u<d.length;u++){var m=d[u],g=m.id,v=m.label==null?g:m.label;(!v||v==="")&&(v=[Rn.anonymousCameraPrefix(),a++].join(" "));var w=document.createElement("option");w.value=g,w.innerText=v,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),Toe=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ko.createElement("input",Qa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Rn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Rn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),Ya;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ya||(Ya={}));function Ioe(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function Ooe(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var Hf=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Xl(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new f9(this.verbose),this.persistedDataManager=new voe,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,u){if(e)e(a,u);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(Rn.lastMatch(a),Ya.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,u){n&&n(a,u)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new S4(this.getScanRegionId(),Ooe(this.config,this.verbose))},t.prototype.pause=function(e){(lo(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Vs.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Vs.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Vs.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Vs.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Vs.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Vs.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Vs.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Xl.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new woe;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Rn.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(e,n)};S4.getCameras().then(function(u){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),u&&u.length>0?(e.removeChild(n),i.renderCameraSelection(u)):(i.setHeaderMessage(Rn.noCameraFound(),Ya.STATUS_WARNING),a())}).catch(function(u){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(u,Ya.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=Ko.createElement("button",this.getCameraPermissionButtonId());i.innerText=Rn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Xl.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){T4.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Xl.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Xl.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";Xl.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Rn.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(u){r.resetHeaderMessage(),r.qrCodeSuccessCallback(u.decodedText,u)}).catch(function(u){r.setHeaderMessage(u,Ya.STATUS_WARNING),r.qrCodeErrorCallback(u,u9.createFrom(u))}))};this.fileSelectionUi=Coe.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=Toe.create(i,!1),u=function(P){var M=P.zoomFeature();if(M.isSupported()){a.setOnCameraZoomValueChangeCallback(function($){M.apply($)});var L=1;n.config.defaultZoomValueIfSupported&&(L=n.config.defaultZoomValueIfSupported),L=Wse(L,M.min(),M.max()),a.setValues(M.min(),M.max(),L,M.step()),a.show()}},d=_oe.create(i,e),m=document.createElement("span"),g=Ko.createElement("button",Qa.CAMERA_START_BUTTON_ID);g.innerText=Rn.scanButtonStartScanningText(),m.appendChild(g);var v=Ko.createElement("button",Qa.CAMERA_STOP_BUTTON_ID);v.innerText=Rn.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,m.appendChild(v);var w,S=function(P){if(!P.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(P.torchFeature()):w=Soe.create(m,P.torchFeature(),{display:"none",marginLeft:"5px"},function(M){r.setHeaderMessage(M,Ya.STATUS_WARNING)}),w.show()};i.appendChild(m);var I=function(P){P||(g.style.display="none"),g.innerText=Rn.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,P&&(g.style.display="inline-block")};if(g.addEventListener("click",function(P){g.innerText=Rn.scanButtonScanningStarting(),d.disable(),g.disabled=!0,g.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var M=d.getValue();r.persistedDataManager.setLastUsedCameraId(M),r.html5Qrcode.start(M,Ioe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(L){v.disabled=!1,v.style.display="inline-block",I(!1);var $=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&S($),n.config.showZoomSliderIfSupported===!0&&u($)}).catch(function(L){r.showHideScanTypeSwapLink(!0),d.enable(),I(!0),r.setHeaderMessage(L,Ya.STATUS_WARNING)})}),d.hasSingleItem()&&g.click(),v.addEventListener("click",function(P){if(!r.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,r.html5Qrcode.stop().then(function(M){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),g.disabled=!1,v.style.display="none",g.style.display="inline-block",w&&(w.reset(),w.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(M){v.disabled=!1,r.setHeaderMessage(M,Ya.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var D=r.persistedDataManager.getLastUsedCameraId();d.hasValue(D)?(d.setValue(D),g.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Rn.textIfCameraScanSelected(),r=Rn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var u=Ko.createElement("span",this.getDashboardSectionSwapLinkId());u.style.textDecoration="underline",u.style.cursor="pointer",u.innerText=Xl.isCameraScanType(this.currentScanType)?n:r,u.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Xl.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),u.innerText=r,e.currentScanType=vc.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),u.innerText=n,e.currentScanType=vc.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(u),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){T4.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Ya.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case Ya.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Ya.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Ya.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=moe,this.cameraScanImage.alt=Rn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=poe,this.fileScanImage.alt=Rn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Qa.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Qa.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const Roe=async t=>{try{const e=Ze(Ve,"customers",t,"transactions"),n=await zt(e),r={};return n.forEach(a=>{const u=a.data();u.items&&Array.isArray(u.items)&&u.items.forEach(d=>{const m=d.category,g=d.qty??1;r[m]=(r[m]||0)+g})}),Object.entries(r).reduce((a,[u,d])=>d>a.count?{category:u,count:d}:a,{category:"",count:0}).category||null}catch(e){return console.error(` Error getting top category for ${t}:`,e),null}},_f=async t=>{try{const e=await Roe(t);if(!e){console.log(` No favorite category found for ${t}`);return}const n=bt(Ve,"customers",t);await tn(n,{favoriteCategory:e}),console.log(` Updated favorite category for ${t}: ${e}`)}catch(e){console.error(` Error updating favorite category for ${t}:`,e)}},Noe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!0),[i,a]=R.useState(!1),[u,d]=R.useState(null),[m,g]=R.useState(null),[v,w]=R.useState(!1),[S,I]=R.useState("Pending");t.filter(U=>U.status===S);const[D,P]=R.useState(null),[M,L]=R.useState(!1),[$,z]=R.useState(null),[te,X]=R.useState(0),ee=async(U=null)=>{try{r(!0);let ae;if(U){const le=Gn(Ze(Ve,"orders"),Fr("customerId","==",U));ae=await zt(le)}else ae=await zt(Ze(Ve,"orders"));const re=ae.docs.map(le=>{const ce=le.data(),Te=ce.placedAt||ce.date||"";let Ue="";Te?.toDate?Ue=Te.toDate().toISOString().split("T")[0]:typeof Te=="string"&&(Ue=Te.split("T")[0]);const oe=Array.isArray(ce.items)?ce.items:[],be=ce.paidByWallet?"Wallet":ce.paymentMethod||(ce.type==="points-used"?"Points":"Cash");return{id:le.id,customerEmail:ce.customerId||"N/A",date:Ue,amount:ce.subtotal||ce.total||ce.amount||0,status:ce.status||"Pending",items:oe,paymentMethod:be,paidByWallet:!!ce.paidByWallet,pointsEarned:ce.pointsEarned||0,instructions:ce.instructions||""}});e(re)}catch(ae){console.error("Error fetching orders:",ae)}finally{r(!1)}};R.useEffect(()=>{ee()},[]);const B=async({customerEmail:U,customerName:ae,orderId:re,amount:le,paymentMethod:ce,type:Te,status:Ue,date:oe,items:be,pointsEarned:Ie=0})=>{await mi(Ze(Ve,"transactions"),{orderId:re,amount:le,paymentMethod:ce,type:Te,status:Ue,date:oe,items:be,customerId:U,fullName:ae,pointsEarned:Ie}),await mi(Ze(Ve,"customers",U,"transactions"),{orderId:re,amount:le,paymentMethod:ce,type:Te,status:Ue,date:oe,items:be,customerId:U,fullName:ae,pointsEarned:Ie})},H=async(U,ae,re)=>{const le=bt(Ve,"customers",U.customerEmail),Te=(await Aa(le)).data();await tn(le,{points:(Te.points||0)-re,totalSpent:(Te.totalSpent||0)+U.amount,updatedAt:En()}),await tn(bt(Ve,"orders",U.id),{status:"Completed",paymentMethod:re===U.amount?"Points":"Mix",updatedAt:En()}),await B({customerEmail:U.customerEmail,customerName:ae,orderId:U.id,amount:U.amount,paymentMethod:re===U.amount?"Points":"Mix",type:re===U.amount?"points-used":"mixed-payment",status:"Completed",date:En(),items:U.items}),await _f(U.customerEmail),alert(" Order completed successfully."),ee(u)},F=async U=>{try{const ae=bt(Ve,"customers",U.customerEmail),re=await Aa(ae);if(!re.exists()){alert(" Customer not found.");return}const le=re.data(),ce=le.points||0,Te=le.wallet||0,Ue=U.amount;if(ce>=Ue){await H(U,le.fullName||"N/A",Ue);return}P(U),X(ce),L(!0)}catch(ae){console.error("Error completing order:",ae),alert(" Failed to complete order.")}},J=async U=>{if(!D)return;const ae=bt(Ve,"customers",D.customerEmail),le=(await Aa(ae)).data(),ce=le.fullName||"N/A",Te=le.points||0,Ue=le.wallet||0,oe=D.amount;let be=Math.min(Te,oe),Ie=oe-be;if(U==="Cash")await tn(ae,{points:Te-be,totalSpent:(le.totalSpent||0)+oe,updatedAt:En()}),await tn(bt(Ve,"orders",D.id),{status:"Completed",paymentMethod:be>0?"Points + Cash":"Cash",updatedAt:En()}),await B({customerEmail:D.customerEmail,customerName:ce,orderId:D.id,amount:oe,paymentMethod:be>0?"Points + Cash":"Cash",type:be>0?"points-cash":"cash",status:"Completed",date:En(),items:D.items}),alert(` Order completed using ${be} points + ${Ie} cash.`);else if(U==="Wallet"){if(Ue<Ie){alert(" Not enough wallet balance to complete payment!");return}await tn(ae,{points:Te-be,wallet:Ue-Ie,totalSpent:(le.totalSpent||0)+oe,updatedAt:En()}),await tn(bt(Ve,"orders",D.id),{status:"Completed",paymentMethod:be>0?"Points + Wallet":"Wallet",paidByWallet:!0,updatedAt:En()}),await B({customerEmail:D.customerEmail,customerName:ce,orderId:D.id,amount:oe,paymentMethod:be>0?"Points + Wallet":"Wallet",type:be>0?"points-wallet":"wallet",status:"Completed",date:En(),items:D.items}),alert(` Order completed using ${be} points + ${Ie} from wallet.`)}L(!1),P(null),ee(u)},q=async(U,ae)=>{if(confirm("Are you sure you want to cancel this order?"))try{const re=bt(Ve,"orders",U);await tn(re,{status:"Canceled",updatedAt:En()});const le=Gn(Ze(Ve,"transactions"),Fr("orderId","==",U)),ce=await zt(le);for(const oe of ce.docs)await tn(bt(Ve,"transactions",oe.id),{status:"Canceled",updatedAt:En()});const Te=Gn(Ze(Ve,"customers",ae,"transactions"),Fr("orderId","==",U)),Ue=await zt(Te);for(const oe of Ue.docs)await tn(bt(Ve,"customers",ae,"transactions",oe.id),{status:"Canceled",updatedAt:En()});alert(" Order has been marked as Canceled."),ee(u)}catch(re){console.error("Error canceling order:",re),alert(" Failed to cancel order.")}},K=()=>{a(!0);const U=new Hf("reader",{fps:10,qrbox:{width:250,height:250}},!1);U.render(async ae=>{try{const re=bt(Ve,"customers",ae),le=await Aa(re);le.exists()?(d(ae),alert(` Showing orders for: ${le.data().fullName}`),ee(ae)):alert(" Customer not found!")}catch(re){console.error("Error scanning QR:",re)}U.clear().catch(()=>{}),a(!1)},ae=>console.warn(ae))};return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"p-6 ml-64",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Redeem Orders"}),T.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[T.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:" Scan QR to Filter"}),u&&T.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition",onClick:()=>{d(null),ee()},children:" Show All"}),T.jsxs("select",{value:S,onChange:U=>I(U.target.value),className:"px-3 py-2 border rounded-lg",children:[T.jsx("option",{value:"Pending",children:"Pending"}),T.jsx("option",{value:"Completed",children:"Completed"})]})]}),i&&T.jsx("div",{id:"reader",className:"w-[300px] h-[300px] border-2 border-gray-300 mb-4"}),n?T.jsx("p",{children:"Loading orders..."}):t.filter(U=>U.status===S).length===0?T.jsx("p",{children:"No orders found."}):T.jsx("div",{className:"table-wrapper",children:T.jsxs("table",{className:"orders-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order ID"}),T.jsx("th",{children:"Customer"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Items"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{children:"Payment"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:t.filter(U=>U.status===S).map(U=>T.jsxs("tr",{children:[T.jsx("td",{children:U.id}),T.jsx("td",{children:U.customerEmail}),T.jsx("td",{children:U.date}),T.jsx("td",{children:U.items.length?U.items.map(ae=>ae.name).join(", "):"N/A"}),T.jsxs("td",{children:[U.amount.toFixed(2)," pts."]}),T.jsx("td",{children:"Points"}),T.jsx("td",{children:T.jsx("span",{className:`order-status ${U.status.toLowerCase()}`,children:U.status})}),T.jsx("td",{children:U.status==="Pending"?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"complete-btn",onClick:()=>F(U),style:{background:"#ffca61",color:"white",marginRight:"6px"},children:"Complete"}),T.jsx("button",{className:"cancel-btn",onClick:()=>q(U.id,U.customerEmail),style:{background:"#ff2600",color:"white"},children:"Cancel"})]}):U.status==="Completed"?T.jsx("button",{className:"delete-btn",onClick:async()=>{if(confirm(" Are you sure you want to delete this completed order?"))try{await wu(bt(Ve,"orders",U.id)),alert(" Order deleted successfully!"),ee(u)}catch(ae){console.error("Error deleting order:",ae),alert(" Failed to delete order.")}},style:{background:"#d32f2f",color:"white"},children:"Delete"}):null})]},U.id))})]})}),M&&D&&T.jsx("div",{className:"payment-modal",children:T.jsxs("div",{className:"payment-modal-content",children:[T.jsx("h3",{children:"Not enough points"}),T.jsxs("p",{children:["Customer has only ",te," points, order costs ",D.amount,".",T.jsx("br",{}),"Choose how to pay:"]}),T.jsxs("div",{className:"payment-options",children:[T.jsx("button",{onClick:()=>J("Cash"),children:" Cash"}),T.jsx("button",{onClick:()=>J("Wallet"),children:" Wallet"})]}),T.jsx("button",{className:"cancel-btn",onClick:()=>{L(!1),P(null)},children:"Cancel"})]})})]})]})},Doe=async t=>{try{const e=Ze(Ve,"topCustomers"),n=Gn(e,Pf("rank","asc"),KU(10)),i=(await zt(n)).docs.map(u=>u.id),a=bt(Ze(Ve,"promotions"));await Fm(a,{...t,eligibleCustomers:i,createdAt:En()}),console.log(" Promotion created and assigned to Top 10 customers.")}catch(e){console.error(" Error creating promotion for top customers:",e)}};function Moe(){const[t,e]=R.useState([]),[n,r]=R.useState({promoType:"global",applicableTiers:[]}),[i,a]=R.useState(null),[u,d]=R.useState([]),[m,g]=R.useState(""),[v,w]=R.useState("all"),[S,I]=R.useState(!1);R.useEffect(()=>{const X=Gn(Ze(Ve,"promotions"),Pf("createdAt","desc")),ee=Is(X,B=>{const H=B.docs.map(F=>({id:F.id,...F.data()}));e(H)});return()=>ee()},[]),R.useEffect(()=>{(async()=>{try{const B=(await zt(Gn(Ze(Ve,"topCustomers"),Pf("rank")))).docs.map(H=>({id:H.id,fullName:H.data().fullName,tier:H.data().tier}));d(B)}catch(ee){console.error("Error fetching top customers:",ee)}})()},[]);const D=X=>{const{name:ee,value:B}=X.target;r(H=>({...H,[ee]:ee==="price"?parseFloat(B):B}))},P=X=>{n.promoType==="global"&&r(ee=>{const B=ee.applicableTiers||[];return B.includes(X)?{...ee,applicableTiers:B.filter(H=>H!==X)}:{...ee,applicableTiers:[...B,X]}})},M=async()=>{if(!n.title||!n.description||!n.price||!n.startDate||!n.endDate){alert("Please fill in all required fields.");return}if(n.promoType==="personalized"&&!n.specificCustomerId){alert("Please select a Top 10 customer.");return}try{const X={...n,price:Number(n.price),createdAt:En()};n.promoType==="personalized"&&(X.personalizedOption="specific"),i?(await tn(bt(Ve,"promotions",i),{...X,updatedAt:En()}),a(null),alert("Promotion updated successfully!")):(n.promoType==="personalized"?await Doe(X):await mi(Ze(Ve,"promotions"),X),alert("Promotion created successfully!")),r({promoType:"global",applicableTiers:[]}),I(!1)}catch(X){console.error("Error saving promotion:",X),alert("Error saving promotion. Please try again.")}},L=X=>{r(X),a(X.id||null),I(!0)},$=async X=>{window.confirm("Are you sure you want to delete this promotion?")&&await wu(bt(Ve,"promotions",X))},z=X=>new Date(X)>=new Date?"active":"expired",te=t.filter(X=>{const ee=X.title.toLowerCase().includes(m.toLowerCase())||X.description.toLowerCase().includes(m.toLowerCase()),B=z(X.endDate);return ee&&(v==="all"||v==="active"&&B==="active"||v==="expired"&&B==="expired")});return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"promotion-container",children:[T.jsxs("div",{className:"promo-header",children:[T.jsx("h2",{children:"Current Promotions"}),T.jsx("button",{className:"add-btn",onClick:()=>I(!0),style:{background:"#5b1818ff",color:"white"},children:"+ Add Promotion"})]}),T.jsxs("div",{className:"filter-controls",children:[T.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:X=>g(X.target.value)}),T.jsxs("select",{value:v,onChange:X=>w(X.target.value),children:[T.jsx("option",{value:"all",children:"All"}),T.jsx("option",{value:"active",children:"Active"}),T.jsx("option",{value:"expired",children:"Expired"})]})]}),te.length===0?T.jsx("p",{children:"No promotions found."}):T.jsx("ul",{className:"promo-list",children:te.map(X=>T.jsxs("li",{className:"promo-item",children:[T.jsxs("div",{className:"promo-details",children:[T.jsx("h3",{children:X.title}),T.jsx("p",{children:X.description}),T.jsxs("p",{children:["Price: ",X.price?.toFixed(2)]}),T.jsxs("p",{children:["Type: ",T.jsx("b",{children:X.promoType})," ",X.applicableTiers?.length>0&&`| Tiers: ${X.applicableTiers.join(", ")}`]}),X.specificCustomerId&&T.jsxs("p",{children:["Customer: ",T.jsx("b",{children:X.specificCustomerId})]}),T.jsxs("p",{className:`promo-status ${z(X.endDate)}`,children:[X.startDate,"  ",X.endDate," |"," ",T.jsx("b",{style:{color:z(X.endDate)==="active"?"green":"red"},children:z(X.endDate).toUpperCase()})]})]}),T.jsxs("div",{className:"promo-actions",children:[T.jsx("button",{onClick:()=>L(X),style:{background:"#67ad42ff",color:"white"},children:"Edit"}),T.jsx("button",{onClick:()=>$(X.id),style:{background:"#f13e1fff",color:"white"},children:"Delete"})]})]},X.id))}),S&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-content",children:[T.jsx("h2",{children:i?"Edit Promotion":"Add Promotion"}),T.jsxs("div",{className:"promo-input-grid",children:[T.jsx("input",{type:"text",name:"title",placeholder:"Title",value:n.title||"",onChange:D}),T.jsx("input",{type:"number",name:"price",placeholder:"Price ()",value:n.price||"",onChange:D}),T.jsx("input",{type:"date",name:"startDate",value:n.startDate||"",onChange:D}),T.jsx("input",{type:"date",name:"endDate",value:n.endDate||"",onChange:D})]}),T.jsxs("div",{className:"promo-type",children:[T.jsx("label",{children:"Promo Type:"}),T.jsxs("select",{name:"promoType",value:n.promoType,onChange:X=>r(ee=>({...ee,promoType:X.target.value,applicableTiers:[],specificCustomerId:X.target.value==="personalized"?"":void 0})),children:[T.jsx("option",{value:"global",children:"Global"}),T.jsx("option",{value:"personalized",children:"Personalized"})]})]}),n.promoType==="global"&&T.jsx("div",{className:"tier-options",children:["Bronze","Silver","Gold"].map(X=>T.jsxs("label",{children:[T.jsx("input",{type:"checkbox",checked:n.applicableTiers?.includes(X)||!1,onChange:()=>P(X)}),X]},X))}),n.promoType==="personalized"&&T.jsxs("select",{name:"specificCustomerId",value:n.specificCustomerId||"",onChange:D,children:[T.jsx("option",{value:"",children:"Select Customer"}),u.map(X=>T.jsxs("option",{value:X.id,children:[X.fullName," (",X.tier,")"]},X.id))]}),T.jsx("textarea",{name:"description",placeholder:"Description",value:n.description||"",onChange:D,rows:3}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{onClick:M,style:{background:"#50d635ff",color:"white"},children:i?"Update":"Add"}),T.jsx("button",{onClick:()=>I(!1),style:{background:"#f13e1fff",color:"white"},children:"Cancel"})]})]})})]})]})}function Poe(){const[t,e]=R.useState([]),[n,r]=R.useState({name:"",description:"",price:0,category:"",availability:!0}),[i,a]=R.useState(null),[u,d]=R.useState(!1),[m,g]=R.useState(!1),[v,w]=R.useState(null),[S,I]=R.useState(""),[D,P]=R.useState(null);R.useEffect(()=>{(async()=>{const H=(await zt(Ze(Ve,"menu"))).docs.map(F=>({id:F.id,...F.data()}));e(H)})()},[]);const M=ee=>{const{name:B,value:H,type:F,checked:J}=ee.target;r(q=>({...q,[B]:F==="checkbox"?J:H}))},L=(ee,B)=>{w(ee),ee==="delete"&&B&&P(B),g(!0)},$=async()=>{if(S==="admin123"){if(v==="add"){if(i){const ee=bt(Ve,"menu",i);await tn(ee,n),e(B=>B.map(H=>H.id===i?{id:i,...n}:H)),a(null)}else{const ee=await mi(Ze(Ve,"menu"),n);e(B=>[...B,{id:ee.id,...n}])}X()}else v==="delete"&&D&&(await wu(bt(Ve,"menu",D)),e(ee=>ee.filter(B=>B.id!==D)),P(null));g(!1),I("")}else alert(" Incorrect PIN!")},z=ee=>{ee.preventDefault(),L("add")},te=ee=>{const B=t.find(H=>H.id===ee);B&&(r({...B}),a(ee),d(!0))},X=()=>{r({name:"",description:"",price:0,category:"",availability:!0}),d(!1)};return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"menu-container",children:[T.jsx("h1",{children:"Reward Management"}),T.jsx("button",{onClick:()=>{X(),d(!0)},style:{padding:"10px 20px",background:"#5b1818ff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginBottom:"20px"},children:"+ Add Menu Item"}),T.jsxs("table",{className:"menu-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Name"}),T.jsx("th",{children:"Description"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{children:"Category"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:t.map(ee=>T.jsxs("tr",{children:[T.jsx("td",{children:ee.name}),T.jsx("td",{children:ee.description}),T.jsxs("td",{children:[ee.price," pts."]}),T.jsx("td",{children:ee.category}),T.jsx("td",{children:ee.availability?"Available":"Unavailable"}),T.jsxs("td",{children:[T.jsx("button",{onClick:()=>te(ee.id),style:{background:"#67ad42ff",color:"white",marginRight:"5px"},children:"Edit"}),T.jsx("button",{onClick:()=>L("delete",ee.id),style:{background:"#f13e1fff",color:"white"},children:"Delete"})]})]},ee.id))})]})]}),u&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-content",children:[T.jsx("h2",{children:i?"Edit Menu Item":"Add Menu Item"}),T.jsxs("form",{onSubmit:z,className:"menu-form",children:[T.jsx("input",{name:"name",placeholder:"Item Name",value:n.name,onChange:M,required:!0}),T.jsx("textarea",{name:"description",placeholder:"Description",value:n.description,onChange:M,required:!0}),T.jsx("input",{name:"price",type:"number",placeholder:"Price",value:n.price,onChange:M,required:!0}),T.jsxs("select",{name:"category",value:n.category,onChange:M,required:!0,children:[T.jsx("option",{value:"",children:"Category"}),T.jsx("option",{value:"Pork",children:"Pork"}),T.jsx("option",{value:"Beef",children:"Beef"}),T.jsx("option",{value:"Chicken",children:"Chicken"}),T.jsx("option",{value:"Sea Food",children:"Sea Food"}),T.jsx("option",{value:"Appetizer",children:"Appetizer"}),T.jsx("option",{value:"Soup",children:"Soup"}),T.jsx("option",{value:"Pasta",children:"Pasta"}),T.jsx("option",{value:"Vegetable",children:"Vegetable"}),T.jsx("option",{value:"Burger & Sandwiches",children:"Burger & Sandwiches"}),T.jsx("option",{value:"Bento",children:"Bento"}),T.jsx("option",{value:"Package Bundles",children:"Package Bundles"})]}),T.jsxs("label",{children:[T.jsx("input",{name:"availability",type:"checkbox",checked:n.availability,onChange:M}),"Available"]}),T.jsxs("button",{type:"submit",style:{background:"#67ad42ff",color:"white",marginRight:"5px"},children:[i?"Update":"Add"," Item"]}),T.jsx("button",{type:"button",onClick:X,style:{background:"#f13e1fff",color:"white"},children:"Cancel"})]})]})}),m&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-content",children:[T.jsx("h3",{children:"Enter Admin PIN"}),T.jsx("input",{type:"password",value:S,onChange:ee=>I(ee.target.value),placeholder:"Enter PIN"}),T.jsx("br",{}),T.jsx("button",{onClick:$,style:{background:"#67ad42ff",color:"white",marginRight:"5px"},children:"Confirm"}),T.jsx("button",{onClick:()=>g(!1),style:{background:"#f13e1fff",color:"white"},children:"Cancel"})]})})]})}const Ii=[];for(let t=0;t<256;++t)Ii.push((t+256).toString(16).slice(1));function koe(t,e=0){return(Ii[t[e+0]]+Ii[t[e+1]]+Ii[t[e+2]]+Ii[t[e+3]]+"-"+Ii[t[e+4]]+Ii[t[e+5]]+"-"+Ii[t[e+6]]+Ii[t[e+7]]+"-"+Ii[t[e+8]]+Ii[t[e+9]]+"-"+Ii[t[e+10]]+Ii[t[e+11]]+Ii[t[e+12]]+Ii[t[e+13]]+Ii[t[e+14]]+Ii[t[e+15]]).toLowerCase()}let i2;const Loe=new Uint8Array(16);function joe(){if(!i2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i2=crypto.getRandomValues.bind(crypto)}return i2(Loe)}const Boe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),O4={randomUUID:Boe};function Hd(t,e,n){if(O4.randomUUID&&!t)return O4.randomUUID();t=t||{};const r=t.random??t.rng?.()??joe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,koe(r)}const Foe=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(null),[i,a]=R.useState(0),[u,d]=R.useState(""),[m,g]=R.useState("GCash"),[v,w]=R.useState([]),[S,I]=R.useState(!1),[D,P]=R.useState(0),[M,L]=R.useState(null),[$,z]=R.useState("pending");R.useEffect(()=>{const q=Is(Ze(Ve,"walletRequests"),K=>{const U=K.docs.map(ae=>({id:ae.id,...ae.data()}));w(U)});return()=>q()},[]);const te=async()=>{if(!t.trim()){alert("Enter a mobile number to search");return}const q=Gn(Ze(Ve,"customers"),Fr("mobile","==",t.trim())),K=await zt(q);if(K.empty){alert(" Customer not found"),r(null);return}const U=K.docs[0],ae=U.data();r({id:U.id,email:ae.email,mobile:ae.mobile,balance:ae.wallet||0,logs:ae.logs||[]})},X=async()=>{if(!n){alert("Search a customer first");return}if(i<=0){alert(" Amount must be greater than 0");return}const q=n.balance+i,K={id:Hd(),method:m,amount:i,date:new Date().toISOString().split("T")[0],type:"Over The Counter",referenceNo:u||void 0};await tn(bt(Ve,"customers",n.id),{wallet:q,logs:[...n.logs,K]}),r({...n,balance:q,logs:[...n.logs,K]}),a(0),d(""),alert(" Wallet updated successfully!")},ee=q=>{L(q),P(0),I(!0)},B=async()=>{if(M){if(D<=0){alert("Enter valid amount");return}try{const q=Gn(Ze(Ve,"customers"),Fr("email","==",M.email)),K=await zt(q);if(K.empty){alert(" Customer not found for this request.");return}const U=K.docs[0],ae=U.data(),re=(ae.wallet||0)+D,le={id:Hd(),method:"GCash",amount:D,date:new Date().toISOString().split("T")[0],type:"request",referenceNo:M.referenceNo};await tn(bt(Ve,"customers",U.id),{wallet:re,logs:[...ae.logs||[],le]}),await tn(bt(Ve,"walletRequests",M.id),{status:"approved"}),I(!1),L(null),P(0),alert(" Wallet request approved!")}catch(q){console.error(q),alert(" Failed to approve request.")}}},H=async q=>{try{await tn(bt(Ve,"walletRequests",q),{status:"rejected"}),alert(" Request rejected.")}catch(K){console.error(K),alert("Failed to reject request.")}},F=async q=>{try{await wu(bt(Ve,"walletRequests",q)),alert(" Request deleted!")}catch(K){console.error(K),alert("Failed to delete request.")}},J=v.filter(q=>q.status===$);return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"wallet-container",children:[T.jsx("h1",{className:"wallet-title",children:"Wallet System & Requests"}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:"Search Customer"}),T.jsx("input",{type:"text",value:t,onChange:q=>e(q.target.value),placeholder:"Enter mobile number"}),T.jsx("button",{onClick:te,style:{background:"#5b1818ff",color:"white"},children:"Search"})]}),n&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"section customer-info",children:[T.jsx("h2",{children:"Customer Info"}),T.jsxs("p",{children:[" ",T.jsx("strong",{children:"Name:"})," ",n.email]}),T.jsxs("p",{children:[" ",T.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),T.jsxs("p",{children:[" ",T.jsx("strong",{children:"Wallet Balance:"})," ",n.balance.toFixed(2)]})]}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:" Manual Adjustment"}),T.jsxs("select",{value:m,onChange:q=>g(q.target.value),children:[T.jsx("option",{value:"GCash",children:"GCash"}),T.jsx("option",{value:"Cash",children:"Cash"})]}),T.jsx("input",{type:"number",value:i,onChange:q=>a(Number(q.target.value)),placeholder:"Enter amount"}),T.jsx("input",{type:"text",value:u,onChange:q=>d(q.target.value),placeholder:"Reference No. (optional)"}),T.jsx("button",{onClick:X,style:{background:"#5b1818ff",color:"white"},children:"Confirm Adjustment"})]}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:" Top-up Logs"}),n.logs.length>0?T.jsxs("table",{className:"logs-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"#"}),T.jsx("th",{children:"Method"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Reference No."})]})}),T.jsx("tbody",{children:[...n.logs].sort((q,K)=>q.date<K.date?1:-1).map((q,K)=>T.jsxs("tr",{children:[T.jsx("td",{children:K+1}),T.jsx("td",{children:q.method}),T.jsxs("td",{children:["",q.amount.toFixed(2)]}),T.jsx("td",{children:q.date}),T.jsx("td",{children:q.referenceNo||"-"})]},q.id))})]}):T.jsx("p",{className:"empty-log",children:"No logs available."})]})]}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:" Wallet Requests"}),T.jsx("div",{style:{marginBottom:"10px"},children:T.jsxs("label",{children:[T.jsx("strong",{children:"Filter:"})," ",T.jsxs("select",{value:$,onChange:q=>z(q.target.value),children:[T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"approved",children:"Approved"})]})]})}),J.length>0?T.jsxs("table",{className:"logs-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Email"}),T.jsx("th",{children:"Reference No."}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:J.map(q=>T.jsxs("tr",{children:[T.jsx("td",{children:q.email}),T.jsx("td",{children:q.referenceNo}),T.jsx("td",{children:q.status}),T.jsx("td",{children:q.status==="pending"?T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>ee(q),style:{background:"#48d42cff",color:"white"},children:"Approve"}),T.jsx("button",{onClick:()=>H(q.id),style:{background:"#ff6150ff",color:"white"},children:"Reject"})]}):T.jsx("button",{onClick:()=>F(q.id),style:{background:"#ff4444ff",color:"white"},children:"Delete"})})]},q.id))})]}):T.jsxs("p",{children:["No ",$," requests found."]})]})]}),S&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-box",children:[T.jsx("h2",{children:"Approve Wallet Request"}),T.jsxs("p",{children:["Enter amount to add for ",T.jsx("strong",{children:M?.email})]}),T.jsx("input",{type:"number",value:D,onChange:q=>P(Number(q.target.value)),placeholder:"Enter amount"}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{onClick:B,style:{background:"#59b948ff",color:"white"},children:"Confirm"}),T.jsx("button",{onClick:()=>I(!1),style:{background:"#ff0000ff",color:"white"},children:"Cancel"})]})]})})]})};function v0(){const[t,e]=R.useState(!1),[n,r]=R.useState(0),[i,a]=R.useState(0);return R.useEffect(()=>{const u=Gn(Ze(Ve,"walletRequests"),Fr("status","==","pending")),d=Is(u,m=>{r(m.size)});return()=>d()},[]),R.useEffect(()=>{const u=Gn(Ze(Ve,"orders"),Fr("status","==","Pending")),d=Is(u,m=>{a(m.size)});return()=>d()},[]),T.jsxs(T.Fragment,{children:[T.jsxs("aside",{className:`sidebar ${t?"hidden":""}`,"aria-hidden":t,children:[T.jsx("h2",{className:"sidebar-title",children:"Staff Panel"}),T.jsxs("nav",{className:"sidebar-nav",children:[T.jsx(na,{to:"/take-order",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Take-Order"}),T.jsx("div",{className:"sidebar-separator"}),T.jsx(na,{to:"/promo-redemption",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Promo"}),T.jsxs(na,{to:"/orders-staff",className:({isActive:u})=>u?"sidebar-link active order-link":"sidebar-link order-link",children:["Order",i>0&&T.jsx("span",{className:" order-badge",children:i})]}),T.jsx("div",{className:"sidebar-separator"}),T.jsxs(na,{to:"/wallet-staff",className:({isActive:u})=>u?"sidebar-link active wallet-link":"sidebar-link wallet-link",children:["Wallet Requests",n>0&&T.jsx("span",{className:"notification-badge",children:n})]}),T.jsx("div",{className:"sidebar-separator"}),T.jsx(na,{to:"/",className:({isActive:u})=>u?"sidebar-link active":"sidebar-link",children:"Logout"})]})]}),T.jsx("button",{className:"toggle-btn",onClick:()=>e(u=>!u),"aria-pressed":!t,"aria-label":t?"Open sidebar":"Close sidebar",children:t?T.jsx(tN,{size:20}):T.jsx(eN,{size:20})})]})}const Uoe=t=>t>=300?"Gold":t>=100?"Silver":"Bronze",n1=async t=>{try{const n=new Date().toISOString().split("T")[0];if(t)await R4(t,n),await N4();else{const r=Ze(Ve,"customers"),a=(await zt(r)).docs.map(u=>R4(u.id,n));await Promise.all(a),await N4()}console.log(" Customer activity update complete.")}catch(e){console.error(" Error updating customer activities:",e)}},R4=async(t,e)=>{try{const n=Ze(Ve,"customers",t,"transactions"),r=await zt(n),i=r.size,a=bt(Ve,"customers",t),u=await Aa(a);let d=0,m="",g=0,v=0,w=0,S="Inactive",I="Bronze",D="N/A";if(u.exists()){const $=u.data();d=$.totalVisits||0,m=$.lastVisitDate||"",D=$.favoriteCategory||"N/A",I=$.tier||"Bronze",v=$.points||0,w=$.totalSpent||0}let P=!1;r.forEach($=>{const z=$.data();z.pointsEarned&&(g+=Number(z.pointsEarned)||0),z.date&&(z.date.toDate?z.date.toDate():new Date(z.date)).toISOString().split("T")[0]===e&&(P=!0)});const M=Uoe(g),L={Bronze:1,Silver:2,Gold:3};L[M]>L[I]&&(I=M),P?(S="Active",m!==e&&(d+=1)):S="Inactive",await Fm(a,{totalTransactions:i,totalVisits:d,totalPointsEarned:Math.round(g*100)/100,points:Math.round(v*100)/100,totalSpent:Math.round(w*100)/100,lastVisit:P?En():null,lastVisitDate:P?e:m,status:S,tier:I,favoriteCategory:D},{merge:!0}),console.log(` Updated ${t}: Tx=${i}, Visits=${d}, PointsEarned=${g.toFixed(2)}, Balance=${v.toFixed(2)}, TotalSpent=${w.toFixed(2)}, Status=${S}, Tier=${I}, FavoriteCategory=${D}`)}catch(n){console.error(` Error updating ${t}:`,n)}},N4=async()=>{try{const t=Ze(Ve,"customers"),i=(await zt(t)).docs.map(d=>{const m=d.data();return{id:d.id,fullName:m.fullName||"Unnamed",totalPointsEarned:m.totalPointsEarned||0,totalTransactions:m.totalTransactions||0,totalVisits:m.totalVisits||0,totalSpent:m.totalSpent||0,tier:m.tier||"Bronze",favoriteCategory:m.favoriteCategory||"N/A"}}).sort((d,m)=>m.totalPointsEarned!==d.totalPointsEarned?m.totalPointsEarned-d.totalPointsEarned:m.totalTransactions!==d.totalTransactions?m.totalTransactions-d.totalTransactions:m.totalVisits-d.totalVisits).slice(0,10),a=Ze(Ve,"topCustomers"),u=i.map((d,m)=>Fm(bt(a,d.id),{rank:m+1,fullName:d.fullName,totalPointsEarned:Math.round(d.totalPointsEarned*100)/100,totalTransactions:d.totalTransactions,totalVisits:d.totalVisits,totalSpent:Math.round(d.totalSpent*100)/100,tier:d.tier,favoriteCategory:d.favoriteCategory,updatedAt:En()},{merge:!0}));await Promise.all(u),console.log(" Top customers updated successfully.")}catch(t){console.error(" Error updating top customers:",t)}},Voe={apiKey:"AIzaSyDxosd6yCZCVd2NGLlIiAthRoCfxAEUrdA",authDomain:"systemproject-de072.firebaseapp.com",projectId:"systemproject-de072",storageBucket:"systemproject-de072.appspot.com",messagingSenderId:"427445110062",appId:"1:427445110062:web:3a870fac07be2b369326bf"},zoe=vm(Voe),Ha=fw(zoe);function Hoe(){const[t,e]=R.useState([{id:1,name:"",price:0,qty:1}]),[n,r]=R.useState([]),[i,a]=R.useState([]),[u,d]=R.useState(""),[m,g]=R.useState(null),[v,w]=R.useState(!1),[S,I]=R.useState([]),[D,P]=R.useState(null),[M,L]=R.useState(null),[$,z]=R.useState(!1),[te,X]=R.useState(!1),[ee,B]=R.useState([]),[H,F]=R.useState(null),[J,q]=R.useState(null),[K,U]=R.useState(""),[ae,re]=R.useState(!1),[le,ce]=R.useState(null),[Te,Ue]=R.useState(null),[oe,be]=R.useState(null),[Ie,Le]=R.useState(null),[Ye,at]=R.useState(null),[Ne,Bt]=R.useState(!1),[lt,Oe]=R.useState(null),[nt,st]=R.useState(""),[De,Je]=R.useState(null),[Qe,ht]=R.useState(null),[hn,It]=R.useState(!1);R.useEffect(()=>{if(!m)return;(async()=>{try{const mt=Ze(Ha,"promotions"),Ht=await zt(mt),yt=[];Ht.forEach(St=>{yt.push({promoId:St.id,...St.data()})});const Fe=yt.filter(St=>{const Gt=!St.tier||St.tier===m.tier,gn=!St.favoriteCategory||St.favoriteCategory===m.favoriteCategory;return Gt&&gn});B(Fe)}catch(mt){console.error("Error fetching promos:",mt),B([])}})()},[m]);const Mt=async()=>{if(!nt)return alert("Enter a mobile number to search.");try{const ot=Gn(Ze(Ha,"customers"),Fr("mobile","==",nt)),mt=await zt(ot);if(mt.empty)Je(null),g(null),ht(" No customer found with this mobile number.");else{const Ht=mt.docs[0],yt=Ht.data();Je({id:Ht.id,...yt}),g({id:Ht.id,...yt}),ht(` Customer found: ${yt.fullName}`)}}catch(ot){console.error("Error searching customer:",ot),Je(null),g(null),ht(" Error occurred during search.")}},At=t.reduce((ot,mt)=>ot+mt.price*mt.qty,0),Pt=+At.toFixed(2),$e=+(At*.02).toFixed(2);R.useEffect(()=>{(async()=>{const mt=await zt(Ze(Ha,"menu")),Ht=[],yt=new Set;mt.forEach(Fe=>{const St=Fe.data(),Gt=Number(St.price)||0;Ht.push({id:Fe.id,...St,price:Gt}),St.category&&yt.add(St.category.trim())}),r(Ht),a(Array.from(yt))})()},[]);const la=()=>{const mt={id:t.length?t[t.length-1].id+1:1,name:"",price:0,qty:1};e(Ht=>[...Ht,mt])},Ur=(ot,mt,Ht)=>{e(yt=>yt.map(Fe=>Fe.id===ot?{...Fe,[mt]:Ht}:Fe))},vi=ot=>{e(mt=>mt.filter(Ht=>Ht.id!==ot))},Xs=ot=>{d(ot.target.value)},Qt=()=>{w(!0);const ot=new Hf("reader",{fps:10,qrbox:{width:250,height:250}},!1);ot.render(async mt=>{try{const Ht=bt(Ha,"customers",mt),yt=await Aa(Ht);if(yt.exists()){const Fe=yt.data();g({id:mt,...Fe}),alert(" Customer found and linked!")}else alert(" Customer not found!")}catch(Ht){console.error("Error fetching customer:",Ht)}await ot.clear().catch(()=>{}),w(!1)},mt=>console.warn(mt))},sn=async()=>{if(t.length===0||t.every(ot=>ot.name===""))return alert(" Add at least one item before proceeding with payment.");if(!m)return alert(" No customer selected.");if(!J)return alert(" Select a payment method first.");if(J==="ewallet"&&K.trim()==="")return alert(" Please enter a valid E-Wallet Reference Number before proceeding.");try{const ot=bt(Ha,"customers",m.id),mt=+(At*.02).toFixed(2),Ht=+(Number(m.points||0)+mt).toFixed(2),yt=+(Number(m.totalSpent||0)+Pt).toFixed(2);await tn(ot,{points:Ht,totalSpent:yt});const Fe=`ORD-${Date.now()}`,St=J==="cash"?"Cash":"E-Wallet";await mi(Ze(Ha,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:Fe,amount:Pt,paymentMethod:St,type:J,status:"Completed",date:An.now(),items:t,pointsEarned:mt,...J==="ewallet"?{referenceNo:K}:{}}),await mi(Ze(Ha,"customers",m.id,"transactions"),{orderId:Fe,amount:Pt,paymentMethod:St,type:J,status:"Completed",date:An.now(),items:t,pointsEarned:mt,...J==="ewallet"?{referenceNo:K}:{}}),await _f(m.id),await n1(m.id),alert(` Paid using ${J==="cash"?"Cash":"E-Wallet"}${J==="ewallet"?`
Reference No: ${K}`:""}
${mt} points added to ${m.fullName}.`),g({...m,points:Ht}),e([{id:1,name:"",price:0,qty:1}]),U(""),q(null)}catch(ot){console.error("Payment Error:",ot),alert(" Something went wrong while processing payment.")}},ir=async()=>{if(t.length===0||t.every(Fe=>Fe.name===""))return alert(" Add at least one item before proceeding with payment.");if(!m)return alert("No customer selected.");if((m.points||0)<Pt)return alert(` Not enough points. Required: ${Pt}`);const ot=bt(Ha,"customers",m.id),mt=+(Number(m.points)-Pt).toFixed(2),Ht=+(Number(m.totalSpent||0)+Pt).toFixed(2),yt=`ORD-${Date.now()}`;await tn(ot,{points:mt,totalSpent:+Ht.toFixed(2)}),await mi(Ze(Ha,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:yt,amount:Pt,paymentMethod:"Points",status:"Completed",date:An.now(),items:t,pointsEarned:0}),await mi(Ze(Ha,"customers",m.id,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:yt,amount:Pt,paymentMethod:"Points",status:"Completed",date:An.now(),items:t,pointsEarned:0}),await _f(m.id),await n1(m.id),alert(` Paid using Points! ${Pt} points deducted.`),g({...m,points:mt}),e([{id:1,name:"",price:0,qty:1}])},on=async()=>{if(t.length===0||t.every(St=>St.name===""))return alert(" Add at least one item before proceeding with payment.");if(!m)return alert("No customer selected.");if((m.wallet||0)<Pt)return alert(` Not enough wallet balance. Required: ${Pt}`);const ot=bt(Ha,"customers",m.id),mt=+(Number(m.wallet)-Pt).toFixed(2),Ht=+(Number(m.points||0)+$e).toFixed(2),yt=+(Number(m.totalSpent||0)+Pt).toFixed(2),Fe=`ORD-${Date.now()}`;await tn(ot,{wallet:mt,points:Ht,totalSpent:+yt.toFixed(2)}),await mi(Ze(Ha,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:Fe,amount:Pt,paymentMethod:"Wallet",status:"Completed",date:An.now(),items:t,pointsEarned:$e}),await mi(Ze(Ha,"customers",m.id,"transactions"),{customerId:m.id,fullName:m.fullName,orderId:Fe,amount:Pt,paymentMethod:"Wallet",status:"Completed",date:An.now(),items:t,pointsEarned:$e}),await _f(m.id),await n1(m.id),alert(` Paid using Wallet! ${Pt} deducted. ${$e} points earned.`),g({...m,wallet:mt,points:Ht}),e([{id:1,name:"",price:0,qty:1}])};return T.jsxs(T.Fragment,{children:[T.jsx(v0,{}),T.jsxs("div",{className:"assisted-ordering",children:[T.jsx("h2",{children:"Take Order"}),T.jsxs("div",{className:"columns",children:[T.jsxs("div",{className:"column",children:[T.jsx("h3",{children:"Order Items"}),T.jsx("label",{children:"Category:"}),T.jsxs("select",{value:u,onChange:Xs,children:[T.jsx("option",{value:"",children:"Select Category"}),i.map(ot=>T.jsx("option",{value:ot,children:ot},ot))]}),t.map(ot=>T.jsxs("div",{className:"order-item",children:[T.jsxs("select",{value:ot.name,onChange:mt=>{const Ht=mt.target.value,yt=n.find(Fe=>Fe.name===Ht&&(u?Fe.category.trim().toLowerCase()===u.trim().toLowerCase():!0));yt?(Ur(ot.id,"name",yt.name),Ur(ot.id,"price",Number(yt.price)),Ur(ot.id,"category",yt.category)):(Ur(ot.id,"name",Ht),Ur(ot.id,"price",0),Ur(ot.id,"category",u||"Uncategorized"))},disabled:!u,children:[T.jsx("option",{value:"",children:u?"Select Item":"Select a category first"}),u&&n.filter(mt=>mt.category.trim().toLowerCase()===u.trim().toLowerCase()).map(mt=>T.jsxs("option",{value:mt.name,disabled:!mt.availability,children:[mt.name," ",mt.availability?"":"(Unavailable)"]},mt.id))]}),T.jsx("input",{type:"number",value:ot.qty,onChange:mt=>Ur(ot.id,"qty",Number(mt.target.value)),placeholder:"Qty"}),T.jsx("input",{type:"number",value:ot.price,readOnly:!0,placeholder:"Price"}),T.jsx("button",{onClick:()=>vi(ot.id),children:""})]},ot.id)),T.jsx("button",{onClick:la,style:{marginLeft:10,background:"#673000ff",color:"white  "},children:"+ Add Item"}),T.jsxs("div",{className:"order-summary-list",style:{marginTop:"18px"},children:[T.jsx("h3",{children:"Current Items:"}),T.jsx("ul",{children:t.map((ot,mt)=>T.jsxs("li",{children:[T.jsx("b",{children:ot.name||T.jsx("i",{children:"No item selected"})})," (",ot.category||"",")  ",ot.qty,"  ",(ot.price*ot.qty).toFixed(2)]},ot.id||mt))})]}),T.jsxs("div",{className:"summary",children:[T.jsxs("p",{children:["Subtotal: ",At.toFixed(2)]}),T.jsxs("p",{children:["Total: ",Pt.toFixed(2)]}),T.jsxs("p",{children:["Earnable Points: ",$e]})]})]}),T.jsxs("div",{className:"column",children:[T.jsx("h3",{children:"Action"}),T.jsx("hr",{style:{margin:"20px 0"}}),T.jsxs("div",{children:[T.jsx("input",{type:"text",placeholder:"Enter mobile number",value:nt,onChange:ot=>st(ot.target.value)}),T.jsx("button",{onClick:Mt,style:{background:"#ffffffff",color:"black"},children:" Search"})]}),T.jsx("button",{onClick:Qt,style:{marginTop:10,background:"#673000ff",color:"white  "},children:" Scan Customer QR (Optional)"}),v&&T.jsx("div",{id:"reader",style:{width:350,height:300,marginTop:10}}),m&&T.jsxs("div",{style:{marginTop:15,padding:15,border:"1px solid #ccc",borderRadius:8,background:"#fafafa"},children:[T.jsxs("p",{children:[T.jsx("b",{children:"Name:"})," ",m.fullName]}),T.jsxs("p",{children:[T.jsx("b",{children:"Tier:"})," ",m.tier||""]}),T.jsxs("p",{children:[T.jsx("b",{children:"Points:"})," ",m.points??0]}),T.jsxs("p",{children:[T.jsx("b",{children:"Wallet:"})," ",m.wallet??0]})]}),m&&T.jsx("div",{style:{marginTop:15},children:T.jsxs("div",{className:"payment-section",children:[T.jsx("h3",{children:"Choose Payment Method"}),T.jsxs("div",{className:"payment-buttons",children:[T.jsx("button",{onClick:ir,style:{background:"#ffc34bff",color:"#383838ff"},children:" Points Balance"}),T.jsx("button",{onClick:on,style:{background:"#14d7caff",color:"#383838ff"},children:"Wallet Balance"}),T.jsx("button",{onClick:()=>q("cash"),className:J==="cash"?"active":"",style:{background:"#ae6a0cff",color:"#ffffffff"},children:"Cash"}),T.jsx("button",{onClick:()=>q("ewallet"),className:J==="ewallet"?"active":"",style:{background:"#1cc451ff",color:"white"},children:"Pay using E-Wallet"})]}),J==="ewallet"&&T.jsxs("div",{className:"ewallet-input",children:[T.jsx("label",{children:"E-Wallet Reference No.:"}),T.jsx("input",{type:"text",value:K,onChange:ot=>U(ot.target.value),placeholder:"Enter Reference No."})]}),J&&T.jsx("button",{onClick:sn,className:"proceed-btn",style:{background:"#f1bf48ff",color:"#383838ff"},children:"Proceed Payment"})]})}),Qe&&T.jsx("p",{style:{marginTop:10},children:Qe})]})]})]})]})}const qoe=t=>{let e=new Date,n="";if(t)try{e=typeof t?.toDate=="function"?t.toDate():new Date(t),n=e.toLocaleString()}catch{n=String(t)}return{dateStr:n,rawDate:e}},Goe=()=>{const t=mm(),[e,n]=R.useState([]),[r,i]=R.useState(!0),[a,u]=R.useState("Newest"),[d,m]=R.useState(""),[g,v]=R.useState("All"),[w,S]=R.useState(""),[I,D]=R.useState(""),[P,M]=R.useState(!1);R.useEffect(()=>{(async()=>{i(!0);try{const H=Gn(Ze(Ve,"transactions"),Pf("date",a==="Newest"?"desc":"asc")),J=(await zt(H)).docs.map(q=>{const K=q.data(),{dateStr:U,rawDate:ae}=qoe(K.date);return{id:q.id,amount:K.amount??0,customerId:K.customerId??"Unknown",date:U,fullName:K.fullName??"N/A",items:Array.isArray(K.items)?K.items:[],rawDate:ae,paymentMethod:K.paymentMethod??"Cash"}});n(J)}catch(H){console.error("Error fetching transactions:",H)}finally{i(!1)}})()},[a]),R.useEffect(()=>{if(P){const B=new Hf("qr-reader",{fps:10,qrbox:250});return B.render(H=>{m(H),M(!1),B.clear()},H=>console.warn("QR Scan error:",H)),()=>{B.clear().catch(()=>{})}}},[P]);const L=R.useMemo(()=>[...e].sort((B,H)=>{const F=B.rawDate.getTime(),J=H.rawDate.getTime();return a==="Newest"?J-F:F-J}),[e,a]),$=R.useMemo(()=>L.filter(B=>{const H=B.fullName.toLowerCase().includes(d.toLowerCase())||B.customerId.toLowerCase().includes(d.toLowerCase())||B.id.toLowerCase().includes(d.toLowerCase()),F=g==="All"||B.paymentMethod===g,J=(!w||B.rawDate>=new Date(w))&&(!I||B.rawDate<=new Date(new Date(I).getTime()+864e5));return H&&F&&J}),[L,d,g,w,I]),z=B=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(B),te=R.useMemo(()=>$.reduce((B,H)=>B+H.amount,0),[$]),X=R.useMemo(()=>{const B={};return $.forEach(H=>{const F=H.rawDate.toLocaleDateString();B[F]=(B[F]||0)+H.amount}),Object.keys(B).sort((H,F)=>new Date(H).getTime()-new Date(F).getTime()).map(H=>({date:H,totalSales:B[H]}))},[$]),ee=R.useMemo(()=>{const B=X.reduce((H,F)=>H+F.totalSales,0);return B>1e4?{text:" Excellent sales! Keep up the momentum.",color:"green"}:B>5e3?{text:" Moderate sales, consider boosting promotions.",color:"orange"}:B>0?{text:" Sales are low, consider running promotions.",color:"red"}:{text:"No sales data available for the selected period.",color:"gray"}},[X]);return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"transactions-container",children:[T.jsx("h2",{className:"transactions-header",children:"Transactions"}),T.jsxs("div",{className:"controls",children:[T.jsx("input",{type:"text",placeholder:"Search by customer, ID, or scan QR...",className:"search-input",value:d,onChange:B=>m(B.target.value)}),T.jsx("button",{onClick:()=>M(!P),className:"qr-btn",style:{background:"#5b1818ff",color:"white"},children:P?"Close Scanner":"Scan QR"}),P&&T.jsx("div",{id:"qr-reader",style:{width:"300px",marginTop:"10px"}}),T.jsxs("select",{className:"filter-select",value:g,onChange:B=>v(B.target.value),children:[T.jsx("option",{value:"All",children:"All Payment Methods"}),T.jsx("option",{value:"Wallet",children:"Wallet Balance"}),T.jsx("option",{value:"Points",children:"Points Balance"}),T.jsx("option",{value:"Cash",children:"Cash"}),T.jsx("option",{value:"E-Wallet",children:"E-Wallet"})]}),T.jsx("input",{type:"date",value:w,onChange:B=>S(B.target.value)}),T.jsx("input",{type:"date",value:I,onChange:B=>D(B.target.value)})]}),T.jsxs("div",{className:"total-sales",children:[T.jsx("strong",{children:"Total Sales: "})," ",z(te)]}),T.jsxs("div",{className:"graph-card",children:[T.jsx("h3",{children:"Sales Trend"}),T.jsx(gf,{width:"100%",height:250,children:T.jsxs(z5,{data:X,margin:{top:10,right:30,left:0,bottom:5},children:[T.jsx(yf,{strokeDasharray:"3 3"}),T.jsx(vf,{dataKey:"date"}),T.jsx(xf,{tickFormatter:B=>B.toLocaleString()}),T.jsx(mf,{formatter:B=>B.toLocaleString()}),T.jsx(AA,{type:"monotone",dataKey:"totalSales",stroke:"#b17a50",strokeWidth:3})]})}),T.jsx("p",{style:{marginTop:"10px",fontStyle:"italic",color:ee.color},children:ee.text})]}),r?T.jsx("p",{className:"loading",children:"Loading transactions..."}):$.length===0?T.jsx("p",{className:"no-data",children:"No transactions found"}):T.jsx("div",{className:"table-wrapper",children:T.jsxs("table",{className:"transactions-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Transaction ID"}),T.jsx("th",{children:"Customer"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{children:"Payment Method"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Items"})]})}),T.jsx("tbody",{children:$.map(B=>T.jsxs("tr",{onClick:()=>t(`/transaction/${B.id}`),children:[T.jsx("td",{children:B.id}),T.jsx("td",{children:B.fullName}),T.jsx("td",{children:z(B.amount)}),T.jsx("td",{className:`payment-method ${B.paymentMethod==="Points"?"Points":B.paymentMethod==="Wallet"?"wallet":"cash"}`,children:B.paymentMethod}),T.jsx("td",{children:B.date}),T.jsx("td",{children:T.jsx("ul",{style:{paddingLeft:"15px",margin:0},children:B.items.map((H,F)=>T.jsxs("li",{style:{marginBottom:"4px"},children:[T.jsx("strong",{children:H.name}),H.category&&T.jsxs("span",{children:["  ",T.jsx("em",{children:H.category})]}),T.jsxs("span",{children:[" | Qty: ",H.qty]}),T.jsxs("span",{children:[" | ",H.price]})]},F))})})]},B.id))})]})})]})]})},D4=async t=>{try{const e=Ze(Ve,"customers",t),n=await zt(e);let r=0;return n.forEach(i=>{const a=i.data();a.pointsEarned&&(r+=a.pointsEarned)}),r}catch(e){return console.error("Error fetching total earned points:",e),0}},Woe=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(null),[i,a]=R.useState([]),[u,d]=R.useState(null),[m,g]=R.useState(""),[v,w]=R.useState(""),[S,I]=R.useState(!1),[D,P]=R.useState(!1),[M,L]=R.useState(""),[$,z]=R.useState(0),te=async()=>{if(L(""),r(null),a([]),d(null),!t.trim()){L("Please enter a name or mobile number.");return}try{const F=Ze(Ve,"customers"),J=Gn(F,Fr("fullName","==",t)),q=Gn(F,Fr("mobile","==",t)),[K,U]=await Promise.all([zt(J),zt(q)]);let ae=null;if(K.empty?U.empty||(ae=U.docs[0]):ae=K.docs[0],!ae){L("Customer not found.");return}const re=ae.data();r(re),await ee(re);const le=await D4(re.email);z(le),L(" Customer loaded successfully.")}catch(F){console.error("Error fetching customer:",F),L("Error loading customer.")}},X=()=>{I(!0);const F=new Hf("customerReader",{fps:10,qrbox:250},!1);F.render(async J=>{try{const q=J.trim(),K=bt(Ve,"customers",q),U=await Aa(K);if(!U.exists()){L("Customer not found via QR."),F.clear(),I(!1);return}const ae=U.data();r(ae),await ee(ae);const re=await D4(ae.email);z(re),L(" Customer loaded via QR successfully."),F.clear(),I(!1)}catch(q){console.error("QR error:",q),L("Error scanning customer QR."),F.clear(),I(!1)}})},ee=async F=>{try{const J=await zt(Ze(Ve,"promotions")),q=new Date,U=J.docs.map(ae=>({id:ae.id,...ae.data()})).filter(ae=>{const re=!ae.startDate||new Date(ae.startDate)<=q,le=!ae.endDate||new Date(ae.endDate)>=q,ce=!ae.applicableTiers||ae.applicableTiers.length===0||ae.applicableTiers.includes(F.tier);let Te=!0;return ae.promoType==="personalized"&&ae.personalizedOption==="specific"&&(Te=ae.specificCustomerId===F.email),re&&le&&ce&&Te});a(U)}catch(J){console.error("Error fetching promos:",J),L("Error loading promotions.")}},B=()=>{P(!0);const F=new Hf("promoReader",{fps:10,qrbox:250},!1);F.render(async J=>{try{let q;try{q=JSON.parse(J)}catch{L("Invalid promo QR format."),F.clear(),P(!1);return}if(q.type!=="PROMO"||!q.promoId){L("Unrecognized promo QR."),F.clear(),P(!1);return}const K=bt(Ve,"promotions",q.promoId),U=await Aa(K);if(!U.exists()){L("Promo not found."),F.clear(),P(!1);return}const ae=U.data();let re=!ae.applicableTiers||ae.applicableTiers.length===0||ae.applicableTiers.includes(n?.tier||"");ae.promoType==="personalized"&&ae.personalizedOption==="specific"&&(re=re&&ae.specificCustomerId===n?.email),re?(d({id:q.promoId,...ae}),L(` Promo "${ae.title}" is valid for this customer.`)):L(" Customer not eligible for this promo."),F.clear(),P(!1)}catch(q){console.error("Promo QR error:",q),L("Error scanning promo QR."),F.clear(),P(!1)}})},H=async()=>{if(!u||!m||!n){L("Please select a promo and payment method.");return}if(m==="E-Wallet"&&!v.trim()){L("Please enter the E-Wallet reference number.");return}try{const F=bt(Ve,"customers",n.email),J={...n};let q=0;const K=(J.totalSpent||0)+u.price;if(J.totalSpent=K,await tn(F,{totalSpent:K}),m==="Points"){if(n.points<u.price){L(" Not enough points for this promo.");return}J.points-=u.price,await tn(F,{points:J.points})}if(m==="Wallet"){const ae=n.wallet||0;if(ae<u.price){L(" Not enough wallet balance.");return}J.wallet=ae-u.price,q=Math.floor(u.price*.02),J.points=(J.points||0)+q,await tn(F,{wallet:J.wallet,points:J.points}),z(re=>re+q)}(m==="Cash"||m==="E-Wallet")&&(q=Math.floor(u.price*.02),J.points=(J.points||0)+q,await tn(F,{points:J.points}),z(ae=>ae+q)),r(J);const U={orderId:Hd(),customerId:n.email,fullName:n.fullName,items:[{name:u.title,category:"Promo",price:u.price,qty:1}],amount:u.price,paymentMethod:m,referenceNo:m==="E-Wallet"?v:"",promoType:u.promoType,status:"Completed",pointsEarned:q,date:En()};await mi(Ze(Ve,"transactions"),U),await mi(Ze(Ve,"globalTransactions"),U),await mi(Ze(Ve,"customers",n.email,"transactions"),U),await _f(n.email),await n1(n.email),L(` Promo "${u.title}" redeemed successfully using ${m.toUpperCase()}. Points earned: ${q}`),d(null),g(""),w("")}catch(F){console.error("Redeem error:",F),L(" Error processing transaction.")}};return T.jsxs(T.Fragment,{children:[T.jsx(v0,{}),T.jsxs("div",{className:"promo-container",children:[T.jsx("h2",{children:"Promo Redemption"}),T.jsxs("div",{className:"search-section",children:[T.jsx("input",{type:"text",placeholder:"Search by name or mobile",value:t,onChange:F=>e(F.target.value)}),T.jsx("button",{onClick:te,style:{background:"#693500ff",color:"white"},children:"Search"}),T.jsx("button",{onClick:X,style:{background:"#693500ff",color:"white"},children:"Scan Customer QR"}),S&&T.jsx("div",{id:"customerReader",className:"qr-scanner active"})]}),n&&T.jsxs("div",{className:"customer-info",children:[T.jsx("h3",{children:"Customer Info"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",n.email]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Name:"})," ",n.fullName]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Points:"})," ",n.points]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Wallet Balance:"})," ",n.wallet||0]})]}),n&&T.jsxs("div",{children:[T.jsx("h3",{children:"Eligible Promos"}),T.jsx("button",{onClick:B,style:{background:"#693500ff",color:"white"},children:"Scan Promo QR"}),D&&T.jsx("div",{id:"promoReader",className:"qr-scanner active"}),i.length>0?i.map(F=>T.jsxs("div",{className:`promo-card ${u?.id===F.id?"selected":""}`,onClick:()=>d(F),children:[T.jsx("h4",{children:F.title}),T.jsx("p",{children:F.description}),T.jsxs("small",{children:["",F.price," | Type: ",F.promoType]})]},F.id)):T.jsx("p",{children:"No eligible promos found."})]}),u&&T.jsxs("div",{className:"payment-section",children:[T.jsx("h3",{children:"Payment Method"}),T.jsxs("select",{value:m,onChange:F=>g(F.target.value),children:[T.jsx("option",{value:"",children:"-- Select Payment --"}),T.jsx("option",{value:"Points",children:"Points"}),T.jsx("option",{value:"Wallet",children:"Wallet"}),T.jsx("option",{value:"Cash",children:"Cash"}),T.jsx("option",{value:"E-Wallet",children:"E-Wallet"})]}),m==="E-Wallet"&&T.jsx("input",{type:"text",placeholder:"Enter E-Wallet Reference Number",value:v,onChange:F=>w(F.target.value),style:{marginTop:"10px",padding:"8px",border:"1px solid #ccc",borderRadius:"6px",width:"100%"}}),T.jsx("button",{onClick:H,style:{background:"#693500ff",color:"white",marginTop:"10px"},children:"Confirm"})]}),M&&T.jsx("p",{className:"message",children:M})]})]})};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$oe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),M4=t=>{const e=$oe(t);return e.charAt(0).toUpperCase()+e.slice(1)},p9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Xoe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Koe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...d},m)=>R.createElement("svg",{ref:m,...Koe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p9("lucide",i),...!a&&!Xoe(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,v])=>R.createElement(g,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(Qoe,{ref:a,iconNode:e,className:p9(`lucide-${Yoe(M4(t))}`,`lucide-${t}`,r),...i}));return n.displayName=M4(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ele=Zoe("star",Joe),tle=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(""),[i,a]=R.useState("All"),[u,d]=R.useState(!0),[m,g]=R.useState(null),[v,w]=R.useState(""),[S,I]=R.useState(!1);R.useEffect(()=>{(async()=>{d(!0);try{const L=Gn(Ze(Ve,"feedbacks"),Pf("createdAt","desc")),z=(await zt(L)).docs.map(te=>{const X=te.data();return{id:te.id,customerId:X.customerId??"N/A",orderId:X.orderId??"N/A",rating:X.rating??0,comment:X.comment??"",reply:X.reply??"",createdAt:X.createdAt?.toDate()??new Date}});e(z)}catch(L){console.error("Error loading feedbacks:",L)}finally{d(!1)}})()},[]);const D=R.useMemo(()=>t.filter(M=>{const L=M.customerId.toLowerCase().includes(n.toLowerCase())||M.orderId.toLowerCase().includes(n.toLowerCase())||M.comment.toLowerCase().includes(n.toLowerCase())||M.reply?.toLowerCase().includes(n.toLowerCase()),$=i==="All"||M.rating===i;return L&&$}),[t,n,i]),P=async()=>{if(m){if(v.trim()===""){alert("Reply cannot be empty.");return}try{I(!0);const M=bt(Ve,"feedbacks",m.id);await tn(M,{reply:v});const L=Ze(Ve,"customers",m.customerId,"notifications");await mi(L,{type:"FeedbackReply",title:"Your feedback has been replied",message:v,feedbackId:m.id,isRead:!1,createdAt:En()}),e($=>$.map(z=>z.id===m.id?{...z,reply:v}:z)),w(""),g(null)}catch(M){console.error("Error sending reply:",M)}finally{I(!1)}}};return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"feedback-container",children:[T.jsx("h2",{className:"feedback-header",children:"Customer Ratings"}),T.jsxs("div",{className:"feedback-controls",children:[T.jsx("input",{type:"text",placeholder:"Search by customer, order, comment, or reply...",value:n,onChange:M=>r(M.target.value),className:"feedback-search"}),T.jsxs("select",{value:i,onChange:M=>a(M.target.value==="All"?"All":parseInt(M.target.value)),className:"feedback-filter",children:[T.jsx("option",{value:"All",children:"All Ratings"}),[5,4,3,2,1].map(M=>T.jsxs("option",{value:M,children:[M," Stars"]},M))]})]}),u?T.jsx("p",{children:"Loading feedback..."}):D.length===0?T.jsx("p",{children:"No feedback found."}):T.jsx("div",{className:"feedback-table-wrapper",children:T.jsxs("table",{className:"feedback-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Customer"}),T.jsx("th",{children:"Rating"}),T.jsx("th",{children:"Comment"}),T.jsx("th",{children:"Reply"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Action"})]})}),T.jsx("tbody",{children:D.map(M=>T.jsxs("tr",{children:[T.jsx("td",{children:M.customerId}),T.jsx("td",{children:[...Array(5)].map((L,$)=>T.jsx(ele,{size:18,color:$<M.rating?"#f9a825":"#ccc",fill:$<M.rating?"#f9a825":"none"},$))}),T.jsx("td",{children:M.comment||T.jsx("em",{children:"No comment"})}),T.jsx("td",{children:M.reply?T.jsx("span",{className:"reply-text",children:M.reply}):T.jsx("span",{className:"no-reply",children:"No reply yet"})}),T.jsx("td",{children:M.createdAt.toLocaleString()}),T.jsx("td",{children:M.reply?T.jsx("span",{className:"replied-badge",children:"Replied"}):T.jsx("button",{className:"reply-button",onClick:()=>{g(M),w("")},children:"Reply"})})]},M.id))})]})}),m&&T.jsx("div",{className:"reply-modal-overlay",children:T.jsxs("div",{className:"reply-modal",children:[T.jsx("h3",{children:"Reply to Feedback"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Customer:"})," ",m.customerId]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Comment:"})," ",m.comment]}),T.jsx("textarea",{placeholder:"Type your reply...",value:v,onChange:M=>w(M.target.value),className:"reply-textarea"}),T.jsxs("div",{className:"reply-actions",children:[T.jsx("button",{className:"modal-cancel",onClick:()=>g(null),children:"Cancel"}),T.jsx("button",{className:"modal-send",onClick:P,disabled:S,style:{background:"#50d635ff",color:"white"},children:S?"Sending...":"Send Reply"})]})]})})]})]})},nle=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!0),[i,a]=R.useState(!1),[u,d]=R.useState(null),[m,g]=R.useState(null),[v,w]=R.useState(!1),[S,I]=R.useState("Pending");t.filter(U=>U.status===S);const[D,P]=R.useState(null),[M,L]=R.useState(!1),[$,z]=R.useState(null),[te,X]=R.useState(0),ee=async(U=null)=>{try{r(!0);let ae;if(U){const le=Gn(Ze(Ve,"orders"),Fr("customerId","==",U));ae=await zt(le)}else ae=await zt(Ze(Ve,"orders"));const re=ae.docs.map(le=>{const ce=le.data(),Te=ce.placedAt||ce.date||"";let Ue="";Te?.toDate?Ue=Te.toDate().toISOString().split("T")[0]:typeof Te=="string"&&(Ue=Te.split("T")[0]);const oe=Array.isArray(ce.items)?ce.items:[],be=ce.paidByWallet?"Wallet":ce.paymentMethod||(ce.type==="points-used"?"Points":"Cash");return{id:le.id,customerEmail:ce.customerId||"N/A",date:Ue,amount:ce.subtotal||ce.total||ce.amount||0,status:ce.status||"Pending",items:oe,paymentMethod:be,paidByWallet:!!ce.paidByWallet,pointsEarned:ce.pointsEarned||0,instructions:ce.instructions||""}});e(re)}catch(ae){console.error("Error fetching orders:",ae)}finally{r(!1)}};R.useEffect(()=>{ee()},[]);const B=async({customerEmail:U,customerName:ae,orderId:re,amount:le,paymentMethod:ce,type:Te,status:Ue,date:oe,items:be,pointsEarned:Ie=0})=>{await mi(Ze(Ve,"transactions"),{orderId:re,amount:le,paymentMethod:ce,type:Te,status:Ue,date:oe,items:be,customerId:U,fullName:ae,pointsEarned:Ie}),await mi(Ze(Ve,"customers",U,"transactions"),{orderId:re,amount:le,paymentMethod:ce,type:Te,status:Ue,date:oe,items:be,customerId:U,fullName:ae,pointsEarned:Ie})},H=async(U,ae,re)=>{const le=bt(Ve,"customers",U.customerEmail),ce=await Aa(le);if(!ce.exists()){alert(" Customer not found.");return}const Ue=ce.data().points||0,oe=Math.round((Ue-re)*100)/100;await tn(le,{points:oe,totalSpent:ZT(0),updatedAt:En()}),await tn(bt(Ve,"orders",U.id),{status:"Completed",paymentMethod:"Points",updatedAt:En()}),await B({customerEmail:U.customerEmail,customerName:ae,orderId:U.id,amount:U.amount,paymentMethod:"Points",type:"points-used",status:"Completed",date:En(),items:U.items}),await _f(U.customerEmail),alert(" Order completed successfully."),ee(u)},F=async U=>{try{const ae=bt(Ve,"customers",U.customerEmail),re=await Aa(ae);if(!re.exists()){alert(" Customer not found.");return}const le=re.data(),ce=le.points||0,Te=le.wallet||0,Ue=U.amount;if(ce>=Ue){await H(U,le.fullName||"N/A",Ue);return}P(U),X(ce),L(!0)}catch(ae){console.error("Error completing order:",ae),alert(" Failed to complete order.")}},J=async U=>{if(!D)return;const ae=bt(Ve,"customers",D.customerEmail),re=await Aa(ae);if(!re.exists()){alert(" Customer not found.");return}const le=re.data(),ce=le.fullName||"N/A",Te=le.points||0,Ue=le.wallet||0,oe=D.amount,be=Math.min(Te,oe),Ie=oe-be,Le=U==="Cash"?be>0?"Points + Cash":"Cash":be>0?"Points + Wallet":"Wallet";if(U==="Wallet"&&Ue<Ie){alert(" Not enough wallet balance to complete payment!");return}const Ye=Math.round((Te-be)*100)/100,at=U==="Wallet"?Math.round((Ue-Ie)*100)/100:Ue,Ne={points:Ye,totalSpent:ZT(Ie),updatedAt:En()};U==="Wallet"&&(Ne.wallet=at),await tn(ae,Ne),await tn(bt(Ve,"orders",D.id),{status:"Completed",paymentMethod:Le,...U==="Wallet"?{paidByWallet:!0}:{},updatedAt:En()}),await B({customerEmail:D.customerEmail,customerName:ce,orderId:D.id,amount:oe,paymentMethod:Le,type:be>0?U==="Cash"?"points-cash":"points-wallet":U.toLowerCase(),status:"Completed",date:En(),items:D.items,pointsEarned:0}),alert(` Order completed using ${be} points${Ie>0?` + ${Ie} ${U}`:""}.`),L(!1),P(null),ee(u)},q=async(U,ae)=>{if(confirm("Are you sure you want to cancel this order?"))try{const re=bt(Ve,"orders",U);await tn(re,{status:"Canceled",updatedAt:En()});const le=Gn(Ze(Ve,"transactions"),Fr("orderId","==",U)),ce=await zt(le);for(const oe of ce.docs)await tn(bt(Ve,"transactions",oe.id),{status:"Canceled",updatedAt:En()});const Te=Gn(Ze(Ve,"customers",ae,"transactions"),Fr("orderId","==",U)),Ue=await zt(Te);for(const oe of Ue.docs)await tn(bt(Ve,"customers",ae,"transactions",oe.id),{status:"Canceled",updatedAt:En()});alert(" Order has been marked as Canceled."),ee(u)}catch(re){console.error("Error canceling order:",re),alert(" Failed to cancel order.")}},K=()=>{a(!0);const U=new Hf("reader",{fps:10,qrbox:{width:250,height:250}},!1);U.render(async ae=>{try{const re=bt(Ve,"customers",ae),le=await Aa(re);le.exists()?(d(ae),alert(` Showing orders for: ${le.data().fullName}`),ee(ae)):alert(" Customer not found!")}catch(re){console.error("Error scanning QR:",re)}U.clear().catch(()=>{}),a(!1)},ae=>console.warn(ae))};return T.jsxs(T.Fragment,{children:[T.jsx(v0,{}),T.jsxs("div",{className:"p-6 ml-64",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" Request Redeem Orders"}),T.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[T.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",style:{background:"#693500ff",color:"white",marginTop:"10px"},children:" Scan QR to Filter"}),u&&T.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition",onClick:()=>{d(null),ee()},children:" Show All"}),T.jsxs("select",{value:S,onChange:U=>I(U.target.value),className:"px-3 py-2 border rounded-lg",children:[T.jsx("option",{value:"Pending",children:"Pending"}),T.jsx("option",{value:"Completed",children:"Completed"})]})]}),i&&T.jsx("div",{id:"reader",className:"w-[300px] h-[300px] border-2 border-gray-300 mb-4"}),n?T.jsx("p",{children:"Loading orders..."}):t.filter(U=>U.status===S).length===0?T.jsx("p",{children:"No orders found."}):T.jsx("div",{className:"table-wrapper",children:T.jsxs("table",{className:"orders-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Order ID"}),T.jsx("th",{children:"Customer"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Items"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{children:"Payment"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:t.filter(U=>U.status===S).map(U=>T.jsxs("tr",{children:[T.jsx("td",{children:U.id}),T.jsx("td",{children:U.customerEmail}),T.jsx("td",{children:U.date}),T.jsx("td",{children:U.items.length?U.items.map(ae=>ae.name).join(", "):"N/A"}),T.jsxs("td",{children:[U.amount.toFixed(2)," pts."]}),T.jsx("td",{children:"Points"}),T.jsx("td",{children:T.jsx("span",{className:`order-status ${U.status.toLowerCase()}`,children:U.status})}),T.jsx("td",{children:U.status==="Pending"?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"complete-btn",onClick:()=>F(U),style:{background:"#ffca61",color:"white"},children:"Complete"}),T.jsx("button",{className:"cancel-btn",onClick:()=>q(U.id,U.customerEmail),style:{background:"#ff2600",color:"white"},children:"Cancel"})]}):U.status==="Completed"?T.jsx("button",{className:"delete-btn",onClick:async()=>{if(confirm(" Are you sure you want to delete this completed order?"))try{await wu(bt(Ve,"orders",U.id)),alert(" Order deleted successfully!"),ee(u)}catch(ae){console.error("Error deleting order:",ae),alert(" Failed to delete order.")}},style:{background:"#d32f2f",color:"white"},children:"Delete"}):null})]},U.id))})]})}),M&&D&&T.jsx("div",{className:"payment-modal",children:T.jsxs("div",{className:"payment-modal-content",children:[T.jsx("h3",{children:"Not enough points"}),T.jsxs("p",{children:["Customer has only ",te," points, order costs ",D.amount,".",T.jsx("br",{}),"Choose how to pay:"]}),T.jsxs("div",{className:"payment-options",children:[T.jsx("button",{onClick:()=>J("Cash"),style:{background:"#00c30dff",color:"white",marginTop:"10px"},children:" Cash"}),T.jsx("button",{onClick:()=>J("Wallet"),style:{background:"#007cd5ff",color:"white",marginTop:"10px"},children:"Wallet Balance"})]}),T.jsx("button",{className:"cancel-btn",onClick:()=>{L(!1),P(null)},style:{background:"#ffffffff",color:"black"},children:"Close"})]})})]})]})},rle=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(null),[i,a]=R.useState(0),[u,d]=R.useState(""),[m,g]=R.useState("GCash"),[v,w]=R.useState([]),[S,I]=R.useState(!1),[D,P]=R.useState(0),[M,L]=R.useState(null),[$,z]=R.useState("pending");R.useEffect(()=>{const q=Is(Ze(Ve,"walletRequests"),K=>{const U=K.docs.map(ae=>({id:ae.id,...ae.data()}));w(U)});return()=>q()},[]);const te=async()=>{if(!t.trim()){alert("Enter a mobile number to search");return}const q=Gn(Ze(Ve,"customers"),Fr("mobile","==",t.trim())),K=await zt(q);if(K.empty){alert(" Customer not found"),r(null);return}const U=K.docs[0],ae=U.data();r({id:U.id,email:ae.email,mobile:ae.mobile,balance:ae.wallet||0,logs:ae.logs||[]})},X=async()=>{if(!n){alert("Search a customer first");return}if(i<=0){alert(" Amount must be greater than 0");return}const q=n.balance+i,K={id:Hd(),method:m,amount:i,date:new Date().toISOString().split("T")[0],type:"Over The Counter",referenceNo:u||void 0};await tn(bt(Ve,"customers",n.id),{wallet:q,logs:[...n.logs,K]}),r({...n,balance:q,logs:[...n.logs,K]}),a(0),d(""),alert(" Wallet updated successfully!")},ee=q=>{L(q),P(0),I(!0)},B=async()=>{if(M){if(D<=0){alert("Enter valid amount");return}try{const q=Gn(Ze(Ve,"customers"),Fr("email","==",M.email)),K=await zt(q);if(K.empty){alert(" Customer not found for this request.");return}const U=K.docs[0],ae=U.data(),re=(ae.wallet||0)+D,le={id:Hd(),method:"GCash",amount:D,date:new Date().toISOString().split("T")[0],type:"request",referenceNo:M.referenceNo};await tn(bt(Ve,"customers",U.id),{wallet:re,logs:[...ae.logs||[],le]}),await tn(bt(Ve,"walletRequests",M.id),{status:"approved"}),I(!1),L(null),P(0),alert(" Wallet request approved!")}catch(q){console.error(q),alert(" Failed to approve request.")}}},H=async q=>{try{await tn(bt(Ve,"walletRequests",q),{status:"rejected"}),alert(" Request rejected.")}catch(K){console.error(K),alert("Failed to reject request.")}},F=async q=>{try{await wu(bt(Ve,"walletRequests",q)),alert(" Request deleted!")}catch(K){console.error(K),alert("Failed to delete request.")}},J=v.filter(q=>q.status===$);return T.jsxs(T.Fragment,{children:[T.jsx(v0,{}),T.jsxs("div",{className:"wallet-container",children:[T.jsx("h1",{className:"wallet-title",children:"Wallet System & Requests"}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:"Search Customer"}),T.jsx("input",{type:"text",value:t,onChange:q=>e(q.target.value),placeholder:"Enter mobile number"}),T.jsx("button",{onClick:te,style:{background:"#5b1818ff",color:"white"},children:"Search"})]}),n&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"section customer-info",children:[T.jsx("h2",{children:"Customer Info"}),T.jsxs("p",{children:[" ",T.jsx("strong",{children:"Name:"})," ",n.email]}),T.jsxs("p",{children:[" ",T.jsx("strong",{children:"Mobile:"})," ",n.mobile]}),T.jsxs("p",{children:[" ",T.jsx("strong",{children:"Wallet Balance:"})," ",n.balance.toFixed(2)]})]}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:" Manual Adjustment"}),T.jsxs("select",{value:m,onChange:q=>g(q.target.value),children:[T.jsx("option",{value:"GCash",children:"GCash"}),T.jsx("option",{value:"Cash",children:"Cash"})]}),T.jsx("input",{type:"number",value:i,onChange:q=>a(Number(q.target.value)),placeholder:"Enter amount"}),T.jsx("input",{type:"text",value:u,onChange:q=>d(q.target.value),placeholder:"Reference No. (optional)"}),T.jsx("button",{onClick:X,style:{background:"#5b1818ff",color:"white"},children:"Confirm Adjustment"})]}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:" Top-up Logs"}),n.logs.length>0?T.jsxs("table",{className:"logs-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"#"}),T.jsx("th",{children:"Method"}),T.jsx("th",{children:"Amount"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Type"}),T.jsx("th",{children:"Reference No."})]})}),T.jsx("tbody",{children:[...n.logs].sort((q,K)=>q.date<K.date?1:-1).map((q,K)=>T.jsxs("tr",{children:[T.jsx("td",{children:K+1}),T.jsx("td",{children:q.method}),T.jsxs("td",{children:["",q.amount.toFixed(2)]}),T.jsx("td",{children:q.date}),T.jsx("td",{children:q.type}),T.jsx("td",{children:q.referenceNo||"-"})]},q.id))})]}):T.jsx("p",{className:"empty-log",children:"No logs available."})]})]}),T.jsxs("div",{className:"section",children:[T.jsx("h2",{children:" Wallet Requests"}),T.jsx("div",{style:{marginBottom:"10px"},children:T.jsxs("label",{children:[T.jsx("strong",{children:"Filter:"})," ",T.jsxs("select",{value:$,onChange:q=>z(q.target.value),children:[T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"approved",children:"Approved"})]})]})}),J.length>0?T.jsxs("table",{className:"logs-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Email"}),T.jsx("th",{children:"Reference No."}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Actions"})]})}),T.jsx("tbody",{children:J.map(q=>T.jsxs("tr",{children:[T.jsx("td",{children:q.email}),T.jsx("td",{children:q.referenceNo}),T.jsx("td",{children:q.status}),T.jsx("td",{children:q.status==="pending"?T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>ee(q),style:{background:"#6dff50ff",color:"black"},children:"Approve"}),T.jsx("button",{onClick:()=>H(q.id),style:{background:"#ff6150ff",color:"white"},children:"Reject"})]}):T.jsx("button",{onClick:()=>F(q.id),style:{background:"#d3d3d3",color:"black"},children:"Delete"})})]},q.id))})]}):T.jsxs("p",{children:["No ",$," requests found."]})]})]}),S&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal-box",children:[T.jsx("h2",{children:"Approve Wallet Request"}),T.jsxs("p",{children:["Enter amount to add for ",T.jsx("strong",{children:M?.email})]}),T.jsx("input",{type:"number",value:D,onChange:q=>P(Number(q.target.value)),placeholder:"Enter amount"}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{onClick:B,style:{background:"#cfffc6ff",color:"black"},children:"Confirm"}),T.jsx("button",{onClick:()=>I(!1),children:"Cancel"})]})]})})]})},ile=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(""),[i,a]=R.useState(!0),[u,d]=R.useState(null),[m,g]=R.useState(""),[v,w]=R.useState(!1),[S,I]=R.useState(!1),[D,P]=R.useState([]),[M,L]=R.useState(""),[$,z]=R.useState(""),[te,X]=R.useState(!1);R.useEffect(()=>{a(!0);const F=Gn(Ze(Ve,"CustomerAssistance"),Pf("createdAt","desc")),J=Is(F,ae=>{const re=ae.docs.map(le=>{const ce=le.data();return{id:le.id,customerId:ce.customerId??"N/A",message:ce.message??"",reply:ce.reply??"",createdAt:ce.createdAt?.toDate()??new Date}});e(re),a(!1)},ae=>{console.error(ae),a(!1)}),q=Ze(Ve,"customers"),K=Is(q,ae=>{P(ae.docs.map(re=>re.id))}),U=()=>{zt(F).then(ae=>{const re=ae.docs.map(le=>{const ce=le.data();return{id:le.id,customerId:ce.customerId??"N/A",message:ce.message??"",reply:ce.reply??"",createdAt:ce.createdAt?.toDate()??new Date}});e(re)}),zt(q).then(ae=>{P(ae.docs.map(re=>re.id))})};return window.addEventListener("focus",U),()=>{J(),K(),window.removeEventListener("focus",U)}},[]);const ee=R.useMemo(()=>t.filter(F=>F.customerId.toLowerCase().includes(n.toLowerCase())||F.message.toLowerCase().includes(n.toLowerCase())||F.reply?.toLowerCase().includes(n.toLowerCase())),[t,n]),B=async()=>{if(u){if(!m.trim())return alert("Reply cannot be empty");try{w(!0);const F=bt(Ve,"CustomerAssistance",u.id);await tn(F,{reply:m});const J=Ze(Ve,"customers",u.customerId,"notifications");await mi(J,{customerId:u.customerId,type:"NewFeedbackReply",title:"Admin",message:m,isRead:!1,createdAt:En()}),d(null),g("")}catch(F){console.error(F)}finally{w(!1)}}},H=async()=>{if(!M)return alert("Select a customer");if(!$.trim())return alert("Message cannot be empty");try{X(!0);const F=Ze(Ve,"customers",M,"notifications");await mi(F,{customerId:M,type:"CustomMessage",title:"Admin",message:$,isRead:!1,createdAt:En()}),alert("Message sent!"),z(""),L(""),I(!1)}catch(F){console.error(F),alert("Failed to send message")}finally{X(!1)}};return T.jsxs(T.Fragment,{children:[T.jsx(So,{}),T.jsxs("div",{className:"feedback-container",children:[T.jsx("h2",{className:"feedback-header",children:"Customer Assistance"}),T.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:F=>r(F.target.value),className:"feedback-search"}),T.jsx("button",{className:"send-message-btn",onClick:()=>I(!0),style:{background:"brown"},children:"Send Message"}),i?T.jsx("p",{children:"Loading..."}):ee.length===0?T.jsx("p",{children:"No feedback found."}):T.jsxs("table",{className:"feedback-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Customer"}),T.jsx("th",{children:"Message"}),T.jsx("th",{children:"Reply"}),T.jsx("th",{children:"Date"}),T.jsx("th",{children:"Action"})]})}),T.jsx("tbody",{children:ee.map(F=>T.jsxs("tr",{children:[T.jsx("td",{children:F.customerId}),T.jsx("td",{title:F.message,children:F.message||T.jsx("em",{children:"No message"})}),T.jsx("td",{title:F.reply,children:F.reply||T.jsx("em",{children:"No reply"})}),T.jsx("td",{children:F.createdAt.toLocaleString()}),T.jsx("td",{children:T.jsx("button",{onClick:()=>{d(F),g(F.reply||"")},style:{background:"#28A745"},children:"Reply"})})]},F.id))})]}),u&&T.jsx("div",{className:"reply-modal-overlay",children:T.jsxs("div",{className:"reply-modal",children:[T.jsx("h3",{children:"Reply"}),T.jsxs("p",{children:[T.jsx("strong",{children:"Customer:"})," ",u.customerId]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Message:"})," ",u.message]}),T.jsx("textarea",{value:m,onChange:F=>g(F.target.value),placeholder:"Type reply..."}),T.jsx("button",{onClick:B,disabled:v,style:{background:"#50d635ff",color:"white"},children:v?"Sending...":"Send"}),T.jsx("button",{onClick:()=>d(null),style:{background:"#ff0000ff",color:"white"},children:"Cancel"})]})}),S&&T.jsx("div",{className:"reply-modal-overlay",children:T.jsxs("div",{className:"reply-modal",children:[T.jsx("h3",{children:"Send Message"}),T.jsxs("select",{value:M,onChange:F=>L(F.target.value),children:[T.jsx("option",{value:"",children:"Select Customer"}),D.map(F=>T.jsx("option",{value:F,children:F},F))]}),T.jsx("textarea",{value:$,onChange:F=>z(F.target.value),placeholder:"Type your message..."}),T.jsx("button",{onClick:H,disabled:te,style:{background:"#59b948ff",color:"white"},children:te?"Sending...":"Send"}),T.jsx("button",{onClick:()=>I(!1),style:{background:"#ff0000ff",color:"white"},children:"Cancel"})]})})]})]})};function ale(){return T.jsxs(DL,{children:[T.jsx(ni,{path:"/",element:T.jsx(RL,{to:"/Intro",replace:!0})}),T.jsx(ni,{path:"/Intro",element:T.jsx(NV,{})}),T.jsx(ni,{path:"/Owner",element:T.jsx(LV,{})}),T.jsx(ni,{path:"/Sidebar",element:T.jsx(So,{})}),T.jsx(ni,{path:"/SideBarStaff",element:T.jsx(v0,{})}),T.jsx(ni,{path:"/Dashboard",element:T.jsx(Mae,{})}),T.jsx(ni,{path:"/customers",element:T.jsx(qse,{})}),T.jsx(ni,{path:"/orders",element:T.jsx(Noe,{})}),T.jsx(ni,{path:"/transactions",element:T.jsx(Goe,{})}),T.jsx(ni,{path:"/CustomerAssistance",element:T.jsx(ile,{})}),T.jsx(ni,{path:"/rewards",element:T.jsx(Moe,{})}),T.jsx(ni,{path:"/menu",element:T.jsx(Poe,{})}),T.jsx(ni,{path:"/wallet",element:T.jsx(Foe,{})}),T.jsx(ni,{path:"/take-order",element:T.jsx(Hoe,{})}),T.jsx(ni,{path:"/promo-redemption",element:T.jsx(Woe,{})}),T.jsx(ni,{path:"/feedback",element:T.jsx(tle,{})}),T.jsx(ni,{path:"/orders-staff",element:T.jsx(nle,{})}),T.jsx(ni,{path:"/wallet-staff",element:T.jsx(rle,{})})]})}Vk.createRoot(document.getElementById("root")).render(T.jsx(R.StrictMode,{children:T.jsx(t7,{children:T.jsx(ale,{})})}));
